var Z0=Object.defineProperty;var J0=(t,r,o)=>r in t?Z0(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var xe=(t,r,o)=>J0(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=o(u);fetch(u.href,c)}})();function jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mu={exports:{}},So={},Lu={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function ev(){if(Np)return me;Np=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function P(_){return _===null||typeof _!="object"?null:(_=E&&_[E]||_["@@iterator"],typeof _=="function"?_:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function w(_,M,V){this.props=_,this.context=M,this.refs=O,this.updater=V||T}w.prototype.isReactComponent={},w.prototype.setState=function(_,M){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,M,"setState")},w.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function k(){}k.prototype=w.prototype;function W(_,M,V){this.props=_,this.context=M,this.refs=O,this.updater=V||T}var B=W.prototype=new k;B.constructor=W,N(B,w.prototype),B.isPureReactComponent=!0;var x=Array.isArray,q=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function oe(_,M,V){var ae,ge={},le=null,fe=null;if(M!=null)for(ae in M.ref!==void 0&&(fe=M.ref),M.key!==void 0&&(le=""+M.key),M)q.call(M,ae)&&!D.hasOwnProperty(ae)&&(ge[ae]=M[ae]);var de=arguments.length-2;if(de===1)ge.children=V;else if(1<de){for(var X=Array(de),ne=0;ne<de;ne++)X[ne]=arguments[ne+2];ge.children=X}if(_&&_.defaultProps)for(ae in de=_.defaultProps,de)ge[ae]===void 0&&(ge[ae]=de[ae]);return{$$typeof:t,type:_,key:le,ref:fe,props:ge,_owner:L.current}}function Ie(_,M){return{$$typeof:t,type:_.type,key:M,ref:_.ref,props:_.props,_owner:_._owner}}function De(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function ct(_){var M={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(V){return M[V]})}var Ne=/\/+/g;function Ee(_,M){return typeof _=="object"&&_!==null&&_.key!=null?ct(""+_.key):M.toString(36)}function Ye(_,M,V,ae,ge){var le=typeof _;(le==="undefined"||le==="boolean")&&(_=null);var fe=!1;if(_===null)fe=!0;else switch(le){case"string":case"number":fe=!0;break;case"object":switch(_.$$typeof){case t:case r:fe=!0}}if(fe)return fe=_,ge=ge(fe),_=ae===""?"."+Ee(fe,0):ae,x(ge)?(V="",_!=null&&(V=_.replace(Ne,"$&/")+"/"),Ye(ge,M,V,"",function(ne){return ne})):ge!=null&&(De(ge)&&(ge=Ie(ge,V+(!ge.key||fe&&fe.key===ge.key?"":(""+ge.key).replace(Ne,"$&/")+"/")+_)),M.push(ge)),1;if(fe=0,ae=ae===""?".":ae+":",x(_))for(var de=0;de<_.length;de++){le=_[de];var X=ae+Ee(le,de);fe+=Ye(le,M,V,X,ge)}else if(X=P(_),typeof X=="function")for(_=X.call(_),de=0;!(le=_.next()).done;)le=le.value,X=ae+Ee(le,de++),fe+=Ye(le,M,V,X,ge);else if(le==="object")throw M=String(_),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return fe}function Ae(_,M,V){if(_==null)return _;var ae=[],ge=0;return Ye(_,ae,"","",function(le){return M.call(V,le,ge++)}),ae}function he(_){if(_._status===-1){var M=_._result;M=M(),M.then(function(V){(_._status===0||_._status===-1)&&(_._status=1,_._result=V)},function(V){(_._status===0||_._status===-1)&&(_._status=2,_._result=V)}),_._status===-1&&(_._status=0,_._result=M)}if(_._status===1)return _._result.default;throw _._result}var se={current:null},z={transition:null},$={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:z,ReactCurrentOwner:L};function j(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Ae,forEach:function(_,M,V){Ae(_,function(){M.apply(this,arguments)},V)},count:function(_){var M=0;return Ae(_,function(){M++}),M},toArray:function(_){return Ae(_,function(M){return M})||[]},only:function(_){if(!De(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},me.Component=w,me.Fragment=o,me.Profiler=u,me.PureComponent=W,me.StrictMode=a,me.Suspense=g,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,me.act=j,me.cloneElement=function(_,M,V){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ae=N({},_.props),ge=_.key,le=_.ref,fe=_._owner;if(M!=null){if(M.ref!==void 0&&(le=M.ref,fe=L.current),M.key!==void 0&&(ge=""+M.key),_.type&&_.type.defaultProps)var de=_.type.defaultProps;for(X in M)q.call(M,X)&&!D.hasOwnProperty(X)&&(ae[X]=M[X]===void 0&&de!==void 0?de[X]:M[X])}var X=arguments.length-2;if(X===1)ae.children=V;else if(1<X){de=Array(X);for(var ne=0;ne<X;ne++)de[ne]=arguments[ne+2];ae.children=de}return{$$typeof:t,type:_.type,key:ge,ref:le,props:ae,_owner:fe}},me.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:c,_context:_},_.Consumer=_},me.createElement=oe,me.createFactory=function(_){var M=oe.bind(null,_);return M.type=_,M},me.createRef=function(){return{current:null}},me.forwardRef=function(_){return{$$typeof:p,render:_}},me.isValidElement=De,me.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:he}},me.memo=function(_,M){return{$$typeof:v,type:_,compare:M===void 0?null:M}},me.startTransition=function(_){var M=z.transition;z.transition={};try{_()}finally{z.transition=M}},me.unstable_act=j,me.useCallback=function(_,M){return se.current.useCallback(_,M)},me.useContext=function(_){return se.current.useContext(_)},me.useDebugValue=function(){},me.useDeferredValue=function(_){return se.current.useDeferredValue(_)},me.useEffect=function(_,M){return se.current.useEffect(_,M)},me.useId=function(){return se.current.useId()},me.useImperativeHandle=function(_,M,V){return se.current.useImperativeHandle(_,M,V)},me.useInsertionEffect=function(_,M){return se.current.useInsertionEffect(_,M)},me.useLayoutEffect=function(_,M){return se.current.useLayoutEffect(_,M)},me.useMemo=function(_,M){return se.current.useMemo(_,M)},me.useReducer=function(_,M,V){return se.current.useReducer(_,M,V)},me.useRef=function(_){return se.current.useRef(_)},me.useState=function(_){return se.current.useState(_)},me.useSyncExternalStore=function(_,M,V){return se.current.useSyncExternalStore(_,M,V)},me.useTransition=function(){return se.current.useTransition()},me.version="18.3.1",me}var Op;function vc(){return Op||(Op=1,Lu.exports=ev()),Lu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function tv(){if(Mp)return So;Mp=1;var t=vc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,v){var y,E={},P=null,T=null;v!==void 0&&(P=""+v),g.key!==void 0&&(P=""+g.key),g.ref!==void 0&&(T=g.ref);for(y in g)a.call(g,y)&&!c.hasOwnProperty(y)&&(E[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)E[y]===void 0&&(E[y]=g[y]);return{$$typeof:r,type:p,key:P,ref:T,props:E,_owner:u.current}}return So.Fragment=o,So.jsx=f,So.jsxs=f,So}var Lp;function nv(){return Lp||(Lp=1,Mu.exports=tv()),Mu.exports}var ke=nv(),Re=vc();const An=jh(Re);var ea={},Uu={exports:{}},kt={},Fu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function rv(){return Up||(Up=1,function(t){function r(z,$){var j=z.length;z.push($);e:for(;0<j;){var _=j-1>>>1,M=z[_];if(0<u(M,$))z[_]=$,z[j]=M,j=_;else break e}}function o(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var $=z[0],j=z.pop();if(j!==$){z[0]=j;e:for(var _=0,M=z.length,V=M>>>1;_<V;){var ae=2*(_+1)-1,ge=z[ae],le=ae+1,fe=z[le];if(0>u(ge,j))le<M&&0>u(fe,ge)?(z[_]=fe,z[le]=j,_=le):(z[_]=ge,z[ae]=j,_=ae);else if(le<M&&0>u(fe,j))z[_]=fe,z[le]=j,_=le;else break e}}return $}function u(z,$){var j=z.sortIndex-$.sortIndex;return j!==0?j:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],v=[],y=1,E=null,P=3,T=!1,N=!1,O=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(z){for(var $=o(v);$!==null;){if($.callback===null)a(v);else if($.startTime<=z)a(v),$.sortIndex=$.expirationTime,r(g,$);else break;$=o(v)}}function x(z){if(O=!1,B(z),!N)if(o(g)!==null)N=!0,he(q);else{var $=o(v);$!==null&&se(x,$.startTime-z)}}function q(z,$){N=!1,O&&(O=!1,k(oe),oe=-1),T=!0;var j=P;try{for(B($),E=o(g);E!==null&&(!(E.expirationTime>$)||z&&!ct());){var _=E.callback;if(typeof _=="function"){E.callback=null,P=E.priorityLevel;var M=_(E.expirationTime<=$);$=t.unstable_now(),typeof M=="function"?E.callback=M:E===o(g)&&a(g),B($)}else a(g);E=o(g)}if(E!==null)var V=!0;else{var ae=o(v);ae!==null&&se(x,ae.startTime-$),V=!1}return V}finally{E=null,P=j,T=!1}}var L=!1,D=null,oe=-1,Ie=5,De=-1;function ct(){return!(t.unstable_now()-De<Ie)}function Ne(){if(D!==null){var z=t.unstable_now();De=z;var $=!0;try{$=D(!0,z)}finally{$?Ee():(L=!1,D=null)}}else L=!1}var Ee;if(typeof W=="function")Ee=function(){W(Ne)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Ae=Ye.port2;Ye.port1.onmessage=Ne,Ee=function(){Ae.postMessage(null)}}else Ee=function(){w(Ne,0)};function he(z){D=z,L||(L=!0,Ee())}function se(z,$){oe=w(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){N||T||(N=!0,he(q))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(z){switch(P){case 1:case 2:case 3:var $=3;break;default:$=P}var j=P;P=$;try{return z()}finally{P=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=P;P=z;try{return $()}finally{P=j}},t.unstable_scheduleCallback=function(z,$,j){var _=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?_+j:_):j=_,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=j+M,z={id:y++,callback:$,priorityLevel:z,startTime:j,expirationTime:M,sortIndex:-1},j>_?(z.sortIndex=j,r(v,z),o(g)===null&&z===o(v)&&(O?(k(oe),oe=-1):O=!0,se(x,j-_))):(z.sortIndex=M,r(g,z),N||T||(N=!0,he(q))),z},t.unstable_shouldYield=ct,t.unstable_wrapCallback=function(z){var $=P;return function(){var j=P;P=$;try{return z.apply(this,arguments)}finally{P=j}}}}(Hu)),Hu}var Fp;function iv(){return Fp||(Fp=1,Fu.exports=rv()),Fu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function ov(){if(Hp)return kt;Hp=1;var t=vc(),r=iv();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)a.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},E={};function P(e){return g.call(E,e)?!0:g.call(y,e)?!1:v.test(e)?E[e]=!0:(y[e]=!0,!1)}function T(e,n,i,s){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,n,i,s){if(n===null||typeof n>"u"||T(e,n,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,i,s,l,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];w[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(k,W);w[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(k,W);w[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(k,W);w[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,n,i,s){var l=w.hasOwnProperty(n)?w[n]:null;(l!==null?l.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,l,s)&&(i=null),s||l===null?P(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(n=l.attributeName,s=l.attributeNamespace,i===null?e.removeAttribute(n):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,s?e.setAttributeNS(s,n,i):e.setAttribute(n,i))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),De=Symbol.for("react.provider"),ct=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),z=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,_;function M(e){if(_===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var V=!1;function ae(e,n){if(!e||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(R){var s=R}Reflect.construct(e,[],n)}else{try{n.call()}catch(R){s=R}e.call(n.prototype)}else{try{throw Error()}catch(R){s=R}e()}}catch(R){if(R&&s&&typeof R.stack=="string"){for(var l=R.stack.split(`
`),d=s.stack.split(`
`),h=l.length-1,m=d.length-1;1<=h&&0<=m&&l[h]!==d[m];)m--;for(;1<=h&&0<=m;h--,m--)if(l[h]!==d[m]){if(h!==1||m!==1)do if(h--,m--,0>m||l[h]!==d[m]){var S=`
`+l[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=m);break}}}finally{V=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?M(e):""}function ge(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Portal";case Ie:return"Profiler";case oe:return"StrictMode";case Ee:return"Suspense";case Ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ct:return(e.displayName||"Context")+".Consumer";case De:return(e._context.displayName||"Context")+".Provider";case Ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(n);case 8:return n===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(e){var n=X(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function we(e){e._valueTracker||(e._valueTracker=ne(e))}function ce(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=X(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Cn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ot(e,n){var i=n.checked;return j({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,n){var i=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;i=de(n.value!=null?n.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ar(e,n){n=n.checked,n!=null&&B(e,"checked",n,!1)}function Pn(e,n){Ar(e,n);var i=de(n.value),s=n.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Vr(e,n.type,i):n.hasOwnProperty("defaultValue")&&Vr(e,n.type,de(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Gn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Vr(e,n,i){(n!=="number"||Cn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var zn=Array.isArray;function Wn(e,n,i,s){if(e=e.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=n.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&s&&(e[i].defaultSelected=!0)}else{for(i=""+de(i),n=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function _r(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gc(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(zn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:de(i)}}function zc(e,n){var i=de(n.value),s=de(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Wc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?jc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,Yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,s,l){MSApp.execUnsafeLocalFunction(function(){return e(n,i,s,l)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Li(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nm=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(e){nm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ui[n]=Ui[e]})});function $c(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Ui.hasOwnProperty(e)&&Ui[e]?(""+n).trim():n+"px"}function Vc(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var s=i.indexOf("--")===0,l=$c(i,n[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,l):e[i]=l}}var rm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(e,n){if(n){if(rm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function Va(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function Xa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Kr=null,Xr=null;function Kc(e){if(e=ro(e)){if(typeof Qa!="function")throw Error(o(280));var n=e.stateNode;n&&(n=gs(n),Qa(e.stateNode,e.type,n))}}function Xc(e){Kr?Xr?Xr.push(e):Xr=[e]:Kr=e}function Qc(){if(Kr){var e=Kr,n=Xr;if(Xr=Kr=null,Kc(e),n)for(e=0;e<n.length;e++)Kc(n[e])}}function bc(e,n){return e(n)}function qc(){}var ba=!1;function Zc(e,n,i){if(ba)return e(n,i);ba=!0;try{return bc(e,n,i)}finally{ba=!1,(Kr!==null||Xr!==null)&&(qc(),Qc())}}function Fi(e,n){var i=e.stateNode;if(i===null)return null;var s=gs(i);if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var qa=!1;if(p)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{qa=!1}function im(e,n,i,s,l,d,h,m,S){var R=Array.prototype.slice.call(arguments,3);try{n.apply(i,R)}catch(F){this.onError(F)}}var Bi=!1,Ko=null,Xo=!1,Za=null,om={onError:function(e){Bi=!0,Ko=e}};function sm(e,n,i,s,l,d,h,m,S){Bi=!1,Ko=null,im.apply(om,arguments)}function am(e,n,i,s,l,d,h,m,S){if(sm.apply(this,arguments),Bi){if(Bi){var R=Ko;Bi=!1,Ko=null}else throw Error(o(198));Xo||(Xo=!0,Za=R)}}function wr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Jc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function ed(e){if(wr(e)!==e)throw Error(o(188))}function lm(e){var n=e.alternate;if(!n){if(n=wr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,s=n;;){var l=i.return;if(l===null)break;var d=l.alternate;if(d===null){if(s=l.return,s!==null){i=s;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===i)return ed(l),e;if(d===s)return ed(l),n;d=d.sibling}throw Error(o(188))}if(i.return!==s.return)i=l,s=d;else{for(var h=!1,m=l.child;m;){if(m===i){h=!0,i=l,s=d;break}if(m===s){h=!0,s=l,i=d;break}m=m.sibling}if(!h){for(m=d.child;m;){if(m===i){h=!0,i=d,s=l;break}if(m===s){h=!0,s=d,i=l;break}m=m.sibling}if(!h)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function td(e){return e=lm(e),e!==null?nd(e):null}function nd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=nd(e);if(n!==null)return n;e=e.sibling}return null}var rd=r.unstable_scheduleCallback,id=r.unstable_cancelCallback,um=r.unstable_shouldYield,cm=r.unstable_requestPaint,$e=r.unstable_now,dm=r.unstable_getCurrentPriorityLevel,Ja=r.unstable_ImmediatePriority,od=r.unstable_UserBlockingPriority,Qo=r.unstable_NormalPriority,fm=r.unstable_LowPriority,sd=r.unstable_IdlePriority,bo=null,fn=null;function pm(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:mm,hm=Math.log,gm=Math.LN2;function mm(e){return e>>>=0,e===0?32:31-(hm(e)/gm|0)|0}var qo=64,Zo=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,l=e.suspendedLanes,d=e.pingedLanes,h=i&268435455;if(h!==0){var m=h&~l;m!==0?s=xi(m):(d&=h,d!==0&&(s=xi(d)))}else h=i&~l,h!==0?s=xi(h):d!==0&&(s=xi(d));if(s===0)return 0;if(n!==0&&n!==s&&(n&l)===0&&(l=s&-s,d=n&-n,l>=d||l===16&&(d&4194240)!==0))return n;if((s&4)!==0&&(s|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)i=31-Jt(n),l=1<<i,s|=e[i],n&=~l;return s}function vm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Jt(d),m=1<<h,S=l[h];S===-1?((m&i)===0||(m&s)!==0)&&(l[h]=vm(m,n)):S<=n&&(e.expiredLanes|=m),d&=~m}}function el(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ad(){var e=qo;return qo<<=1,(qo&4194240)===0&&(qo=64),e}function tl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Gi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Jt(n),e[n]=i}function Sm(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-Jt(i),d=1<<l;n[l]=0,s[l]=-1,e[l]=-1,i&=~d}}function nl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Jt(i),l=1<<s;l&n|e[s]&n&&(e[s]|=n),i&=~l}}var Ce=0;function ld(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ud,rl,cd,dd,fd,il=!1,es=[],jn=null,Yn=null,$n=null,zi=new Map,Wi=new Map,Vn=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(e,n){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":zi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(n.pointerId)}}function ji(e,n,i,s,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[l]},n!==null&&(n=ro(n),n!==null&&rl(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function Am(e,n,i,s,l){switch(n){case"focusin":return jn=ji(jn,e,n,i,s,l),!0;case"dragenter":return Yn=ji(Yn,e,n,i,s,l),!0;case"mouseover":return $n=ji($n,e,n,i,s,l),!0;case"pointerover":var d=l.pointerId;return zi.set(d,ji(zi.get(d)||null,e,n,i,s,l)),!0;case"gotpointercapture":return d=l.pointerId,Wi.set(d,ji(Wi.get(d)||null,e,n,i,s,l)),!0}return!1}function hd(e){var n=Ir(e.target);if(n!==null){var i=wr(n);if(i!==null){if(n=i.tag,n===13){if(n=Jc(i),n!==null){e.blockedOn=n,fd(e.priority,function(){cd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=sl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Ka=s,i.target.dispatchEvent(s),Ka=null}else return n=ro(i),n!==null&&rl(n),e.blockedOn=i,!1;n.shift()}return!0}function gd(e,n,i){ts(e)&&i.delete(n)}function _m(){il=!1,jn!==null&&ts(jn)&&(jn=null),Yn!==null&&ts(Yn)&&(Yn=null),$n!==null&&ts($n)&&($n=null),zi.forEach(gd),Wi.forEach(gd)}function Yi(e,n){e.blockedOn===n&&(e.blockedOn=null,il||(il=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_m)))}function $i(e){function n(l){return Yi(l,e)}if(0<es.length){Yi(es[0],e);for(var i=1;i<es.length;i++){var s=es[i];s.blockedOn===e&&(s.blockedOn=null)}}for(jn!==null&&Yi(jn,e),Yn!==null&&Yi(Yn,e),$n!==null&&Yi($n,e),zi.forEach(n),Wi.forEach(n),i=0;i<Vn.length;i++)s=Vn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)hd(i),i.blockedOn===null&&Vn.shift()}var Qr=x.ReactCurrentBatchConfig,ns=!0;function wm(e,n,i,s){var l=Ce,d=Qr.transition;Qr.transition=null;try{Ce=1,ol(e,n,i,s)}finally{Ce=l,Qr.transition=d}}function Im(e,n,i,s){var l=Ce,d=Qr.transition;Qr.transition=null;try{Ce=4,ol(e,n,i,s)}finally{Ce=l,Qr.transition=d}}function ol(e,n,i,s){if(ns){var l=sl(e,n,i,s);if(l===null)wl(e,n,s,rs,i),pd(e,s);else if(Am(l,e,n,i,s))s.stopPropagation();else if(pd(e,s),n&4&&-1<Em.indexOf(e)){for(;l!==null;){var d=ro(l);if(d!==null&&ud(d),d=sl(e,n,i,s),d===null&&wl(e,n,s,rs,i),d===l)break;l=d}l!==null&&s.stopPropagation()}else wl(e,n,s,null,i)}}var rs=null;function sl(e,n,i,s){if(rs=null,e=Xa(s),e=Ir(e),e!==null)if(n=wr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Jc(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return rs=e,null}function md(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dm()){case Ja:return 1;case od:return 4;case Qo:case fm:return 16;case sd:return 536870912;default:return 16}default:return 16}}var Kn=null,al=null,is=null;function vd(){if(is)return is;var e,n=al,i=n.length,s,l="value"in Kn?Kn.value:Kn.textContent,d=l.length;for(e=0;e<i&&n[e]===l[e];e++);var h=i-e;for(s=1;s<=h&&n[i-s]===l[d-s];s++);return is=l.slice(e,1<s?1-s:void 0)}function os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function yd(){return!1}function Mt(e){function n(i,s,l,d,h){this._reactName=i,this._targetInst=l,this.type=s,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(d):d[m]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ss:yd,this.isPropagationStopped=yd,this}return j(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Mt(br),Vi=j({},br,{view:0,detail:0}),Tm=Mt(Vi),ul,cl,Ki,as=j({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ki&&(Ki&&e.type==="mousemove"?(ul=e.screenX-Ki.screenX,cl=e.screenY-Ki.screenY):cl=ul=0,Ki=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:cl}}),Sd=Mt(as),Cm=j({},as,{dataTransfer:0}),Pm=Mt(Cm),Rm=j({},Vi,{relatedTarget:0}),dl=Mt(Rm),km=j({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=Mt(km),Nm=j({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Om=Mt(Nm),Mm=j({},br,{data:0}),Ed=Mt(Mm),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Fm[e])?!!n[e]:!1}function fl(){return Hm}var Bm=j({},Vi,{key:function(e){if(e.key){var n=Lm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xm=Mt(Bm),Gm=j({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=Mt(Gm),zm=j({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),Wm=Mt(zm),jm=j({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=Mt(jm),$m=j({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vm=Mt($m),Km=[9,13,27,32],pl=p&&"CompositionEvent"in window,Xi=null;p&&"documentMode"in document&&(Xi=document.documentMode);var Xm=p&&"TextEvent"in window&&!Xi,_d=p&&(!pl||Xi&&8<Xi&&11>=Xi),wd=" ",Id=!1;function Td(e,n){switch(e){case"keyup":return Km.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function Qm(e,n){switch(e){case"compositionend":return Cd(n);case"keypress":return n.which!==32?null:(Id=!0,wd);case"textInput":return e=n.data,e===wd&&Id?null:e;default:return null}}function bm(e,n){if(qr)return e==="compositionend"||!pl&&Td(e,n)?(e=vd(),is=al=Kn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _d&&n.locale!=="ko"?null:n.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qm[e.type]:n==="textarea"}function Rd(e,n,i,s){Xc(s),n=fs(n,"onChange"),0<n.length&&(i=new ll("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Qi=null,bi=null;function Zm(e){Vd(e,0)}function ls(e){var n=ni(e);if(ce(n))return e}function Jm(e,n){if(e==="change")return n}var kd=!1;if(p){var hl;if(p){var gl="oninput"in document;if(!gl){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),gl=typeof Dd.oninput=="function"}hl=gl}else hl=!1;kd=hl&&(!document.documentMode||9<document.documentMode)}function Nd(){Qi&&(Qi.detachEvent("onpropertychange",Od),bi=Qi=null)}function Od(e){if(e.propertyName==="value"&&ls(bi)){var n=[];Rd(n,bi,e,Xa(e)),Zc(Zm,n)}}function e0(e,n,i){e==="focusin"?(Nd(),Qi=n,bi=i,Qi.attachEvent("onpropertychange",Od)):e==="focusout"&&Nd()}function t0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(bi)}function n0(e,n){if(e==="click")return ls(n)}function r0(e,n){if(e==="input"||e==="change")return ls(n)}function i0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var en=typeof Object.is=="function"?Object.is:i0;function qi(e,n){if(en(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var l=i[s];if(!g.call(n,l)||!en(e[l],n[l]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,n){var i=Md(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Md(i)}}function Ud(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ud(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fd(){for(var e=window,n=Cn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Cn(e.document)}return n}function ml(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function o0(e){var n=Fd(),i=e.focusedElem,s=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Ud(i.ownerDocument.documentElement,i)){if(s!==null&&ml(i)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,d=Math.min(s.start,l);s=s.end===void 0?d:Math.min(s.end,l),!e.extend&&d>s&&(l=s,s=d,d=l),l=Ld(i,d);var h=Ld(i,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),e.removeAllRanges(),d>s?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s0=p&&"documentMode"in document&&11>=document.documentMode,Zr=null,vl=null,Zi=null,yl=!1;function Hd(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yl||Zr==null||Zr!==Cn(s)||(s=Zr,"selectionStart"in s&&ml(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zi&&qi(Zi,s)||(Zi=s,s=fs(vl,"onSelect"),0<s.length&&(n=new ll("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Zr)))}function us(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Jr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Sl={},Bd={};p&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function cs(e){if(Sl[e])return Sl[e];if(!Jr[e])return e;var n=Jr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Bd)return Sl[e]=n[i];return e}var xd=cs("animationend"),Gd=cs("animationiteration"),zd=cs("animationstart"),Wd=cs("transitionend"),jd=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,n){jd.set(e,n),c(n,[e])}for(var El=0;El<Yd.length;El++){var Al=Yd[El],a0=Al.toLowerCase(),l0=Al[0].toUpperCase()+Al.slice(1);Xn(a0,"on"+l0)}Xn(xd,"onAnimationEnd"),Xn(Gd,"onAnimationIteration"),Xn(zd,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Wd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function $d(e,n,i){var s=e.type||"unknown-event";e.currentTarget=i,am(s,n,void 0,e),e.currentTarget=null}function Vd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],l=s.event;s=s.listeners;e:{var d=void 0;if(n)for(var h=s.length-1;0<=h;h--){var m=s[h],S=m.instance,R=m.currentTarget;if(m=m.listener,S!==d&&l.isPropagationStopped())break e;$d(l,m,R),d=S}else for(h=0;h<s.length;h++){if(m=s[h],S=m.instance,R=m.currentTarget,m=m.listener,S!==d&&l.isPropagationStopped())break e;$d(l,m,R),d=S}}}if(Xo)throw e=Za,Xo=!1,Za=null,e}function Le(e,n){var i=n[kl];i===void 0&&(i=n[kl]=new Set);var s=e+"__bubble";i.has(s)||(Kd(n,e,2,!1),i.add(s))}function _l(e,n,i){var s=0;n&&(s|=4),Kd(i,e,s,n)}var ds="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[ds]){e[ds]=!0,a.forEach(function(i){i!=="selectionchange"&&(u0.has(i)||_l(i,!1,e),_l(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ds]||(n[ds]=!0,_l("selectionchange",!1,n))}}function Kd(e,n,i,s){switch(md(n)){case 1:var l=wm;break;case 4:l=Im;break;default:l=ol}i=l.bind(null,n,i,e),l=void 0,!qa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(n,i,{capture:!0,passive:l}):e.addEventListener(n,i,!0):l!==void 0?e.addEventListener(n,i,{passive:l}):e.addEventListener(n,i,!1)}function wl(e,n,i,s,l){var d=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var m=s.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;h=h.return}for(;m!==null;){if(h=Ir(m),h===null)return;if(S=h.tag,S===5||S===6){s=d=h;continue e}m=m.parentNode}}s=s.return}Zc(function(){var R=d,F=Xa(i),H=[];e:{var U=jd.get(e);if(U!==void 0){var Y=ll,Q=e;switch(e){case"keypress":if(os(i)===0)break e;case"keydown":case"keyup":Y=xm;break;case"focusin":Q="focus",Y=dl;break;case"focusout":Q="blur",Y=dl;break;case"beforeblur":case"afterblur":Y=dl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Wm;break;case xd:case Gd:case zd:Y=Dm;break;case Wd:Y=Ym;break;case"scroll":Y=Tm;break;case"wheel":Y=Vm;break;case"copy":case"cut":case"paste":Y=Om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ad}var b=(n&4)!==0,Ve=!b&&e==="scroll",I=b?U!==null?U+"Capture":null:U;b=[];for(var A=R,C;A!==null;){C=A;var G=C.stateNode;if(C.tag===5&&G!==null&&(C=G,I!==null&&(G=Fi(A,I),G!=null&&b.push(to(A,G,C)))),Ve)break;A=A.return}0<b.length&&(U=new Y(U,Q,null,i,F),H.push({event:U,listeners:b}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&i!==Ka&&(Q=i.relatedTarget||i.fromElement)&&(Ir(Q)||Q[Rn]))break e;if((Y||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(Q=i.relatedTarget||i.toElement,Y=R,Q=Q?Ir(Q):null,Q!==null&&(Ve=wr(Q),Q!==Ve||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=R),Y!==Q)){if(b=Sd,G="onMouseLeave",I="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(b=Ad,G="onPointerLeave",I="onPointerEnter",A="pointer"),Ve=Y==null?U:ni(Y),C=Q==null?U:ni(Q),U=new b(G,A+"leave",Y,i,F),U.target=Ve,U.relatedTarget=C,G=null,Ir(F)===R&&(b=new b(I,A+"enter",Q,i,F),b.target=C,b.relatedTarget=Ve,G=b),Ve=G,Y&&Q)t:{for(b=Y,I=Q,A=0,C=b;C;C=ei(C))A++;for(C=0,G=I;G;G=ei(G))C++;for(;0<A-C;)b=ei(b),A--;for(;0<C-A;)I=ei(I),C--;for(;A--;){if(b===I||I!==null&&b===I.alternate)break t;b=ei(b),I=ei(I)}b=null}else b=null;Y!==null&&Xd(H,U,Y,b,!1),Q!==null&&Ve!==null&&Xd(H,Ve,Q,b,!0)}}e:{if(U=R?ni(R):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var Z=Jm;else if(Pd(U))if(kd)Z=r0;else{Z=t0;var ee=e0}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=n0);if(Z&&(Z=Z(e,R))){Rd(H,Z,i,F);break e}ee&&ee(e,U,R),e==="focusout"&&(ee=U._wrapperState)&&ee.controlled&&U.type==="number"&&Vr(U,"number",U.value)}switch(ee=R?ni(R):window,e){case"focusin":(Pd(ee)||ee.contentEditable==="true")&&(Zr=ee,vl=R,Zi=null);break;case"focusout":Zi=vl=Zr=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,Hd(H,i,F);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":Hd(H,i,F)}var te;if(pl)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else qr?Td(e,i)&&(ue="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ue="onCompositionStart");ue&&(_d&&i.locale!=="ko"&&(qr||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&qr&&(te=vd()):(Kn=F,al="value"in Kn?Kn.value:Kn.textContent,qr=!0)),ee=fs(R,ue),0<ee.length&&(ue=new Ed(ue,e,null,i,F),H.push({event:ue,listeners:ee}),te?ue.data=te:(te=Cd(i),te!==null&&(ue.data=te)))),(te=Xm?Qm(e,i):bm(e,i))&&(R=fs(R,"onBeforeInput"),0<R.length&&(F=new Ed("onBeforeInput","beforeinput",null,i,F),H.push({event:F,listeners:R}),F.data=te))}Vd(H,n)})}function to(e,n,i){return{instance:e,listener:n,currentTarget:i}}function fs(e,n){for(var i=n+"Capture",s=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=Fi(e,i),d!=null&&s.unshift(to(e,d,l)),d=Fi(e,n),d!=null&&s.push(to(e,d,l))),e=e.return}return s}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xd(e,n,i,s,l){for(var d=n._reactName,h=[];i!==null&&i!==s;){var m=i,S=m.alternate,R=m.stateNode;if(S!==null&&S===s)break;m.tag===5&&R!==null&&(m=R,l?(S=Fi(i,d),S!=null&&h.unshift(to(i,S,m))):l||(S=Fi(i,d),S!=null&&h.push(to(i,S,m)))),i=i.return}h.length!==0&&e.push({event:n,listeners:h})}var c0=/\r\n?/g,d0=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(c0,`
`).replace(d0,"")}function ps(e,n,i){if(n=Qd(n),Qd(e)!==n&&i)throw Error(o(425))}function hs(){}var Il=null,Tl=null;function Cl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,f0=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,p0=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(e){return bd.resolve(null).then(e).catch(h0)}:Pl;function h0(e){setTimeout(function(){throw e})}function Rl(e,n){var i=n,s=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(s===0){e.removeChild(l),$i(n);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=l}while(i);$i(n)}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),pn="__reactFiber$"+ti,no="__reactProps$"+ti,Rn="__reactContainer$"+ti,kl="__reactEvents$"+ti,g0="__reactListeners$"+ti,m0="__reactHandles$"+ti;function Ir(e){var n=e[pn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Rn]||i[pn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=qd(e);e!==null;){if(i=e[pn])return i;e=qd(e)}return n}e=i,i=e.parentNode}return null}function ro(e){return e=e[pn]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function gs(e){return e[no]||null}var Dl=[],ri=-1;function bn(e){return{current:e}}function Ue(e){0>ri||(e.current=Dl[ri],Dl[ri]=null,ri--)}function Oe(e,n){ri++,Dl[ri]=e.current,e.current=n}var qn={},dt=bn(qn),It=bn(!1),Tr=qn;function ii(e,n){var i=e.type.contextTypes;if(!i)return qn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in i)l[d]=n[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),l}function Tt(e){return e=e.childContextTypes,e!=null}function ms(){Ue(It),Ue(dt)}function Zd(e,n,i){if(dt.current!==qn)throw Error(o(168));Oe(dt,n),Oe(It,i)}function Jd(e,n,i){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var l in s)if(!(l in n))throw Error(o(108,fe(e)||"Unknown",l));return j({},i,s)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,Tr=dt.current,Oe(dt,e),Oe(It,It.current),!0}function ef(e,n,i){var s=e.stateNode;if(!s)throw Error(o(169));i?(e=Jd(e,n,Tr),s.__reactInternalMemoizedMergedChildContext=e,Ue(It),Ue(dt),Oe(dt,e)):Ue(It),Oe(It,i)}var kn=null,ys=!1,Nl=!1;function tf(e){kn===null?kn=[e]:kn.push(e)}function v0(e){ys=!0,tf(e)}function Zn(){if(!Nl&&kn!==null){Nl=!0;var e=0,n=Ce;try{var i=kn;for(Ce=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}kn=null,ys=!1}catch(l){throw kn!==null&&(kn=kn.slice(e+1)),rd(Ja,Zn),l}finally{Ce=n,Nl=!1}}return null}var oi=[],si=0,Ss=null,Es=0,Wt=[],jt=0,Cr=null,Dn=1,Nn="";function Pr(e,n){oi[si++]=Es,oi[si++]=Ss,Ss=e,Es=n}function nf(e,n,i){Wt[jt++]=Dn,Wt[jt++]=Nn,Wt[jt++]=Cr,Cr=e;var s=Dn;e=Nn;var l=32-Jt(s)-1;s&=~(1<<l),i+=1;var d=32-Jt(n)+l;if(30<d){var h=l-l%5;d=(s&(1<<h)-1).toString(32),s>>=h,l-=h,Dn=1<<32-Jt(n)+l|i<<l|s,Nn=d+e}else Dn=1<<d|i<<l|s,Nn=e}function Ol(e){e.return!==null&&(Pr(e,1),nf(e,1,0))}function Ml(e){for(;e===Ss;)Ss=oi[--si],oi[si]=null,Es=oi[--si],oi[si]=null;for(;e===Cr;)Cr=Wt[--jt],Wt[jt]=null,Nn=Wt[--jt],Wt[jt]=null,Dn=Wt[--jt],Wt[jt]=null}var Lt=null,Ut=null,Be=!1,tn=null;function rf(e,n){var i=Kt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function of(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Lt=e,Ut=Qn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Lt=e,Ut=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Cr!==null?{id:Dn,overflow:Nn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Kt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Lt=e,Ut=null,!0):!1;default:return!1}}function Ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(Be){var n=Ut;if(n){var i=n;if(!of(e,n)){if(Ll(e))throw Error(o(418));n=Qn(i.nextSibling);var s=Lt;n&&of(e,n)?rf(s,i):(e.flags=e.flags&-4097|2,Be=!1,Lt=e)}}else{if(Ll(e))throw Error(o(418));e.flags=e.flags&-4097|2,Be=!1,Lt=e}}}function sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function As(e){if(e!==Lt)return!1;if(!Be)return sf(e),Be=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Cl(e.type,e.memoizedProps)),n&&(n=Ut)){if(Ll(e))throw af(),Error(o(418));for(;n;)rf(e,n),n=Qn(n.nextSibling)}if(sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ut=Qn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ut=null}}else Ut=Lt?Qn(e.stateNode.nextSibling):null;return!0}function af(){for(var e=Ut;e;)e=Qn(e.nextSibling)}function ai(){Ut=Lt=null,Be=!1}function Fl(e){tn===null?tn=[e]:tn.push(e)}var y0=x.ReactCurrentBatchConfig;function io(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var s=i.stateNode}if(!s)throw Error(o(147,e));var l=s,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var m=l.refs;h===null?delete m[d]:m[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function _s(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function lf(e){var n=e._init;return n(e._payload)}function uf(e){function n(I,A){if(e){var C=I.deletions;C===null?(I.deletions=[A],I.flags|=16):C.push(A)}}function i(I,A){if(!e)return null;for(;A!==null;)n(I,A),A=A.sibling;return null}function s(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function l(I,A){return I=sr(I,A),I.index=0,I.sibling=null,I}function d(I,A,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<A?(I.flags|=2,A):C):(I.flags|=2,A)):(I.flags|=1048576,A)}function h(I){return e&&I.alternate===null&&(I.flags|=2),I}function m(I,A,C,G){return A===null||A.tag!==6?(A=Pu(C,I.mode,G),A.return=I,A):(A=l(A,C),A.return=I,A)}function S(I,A,C,G){var Z=C.type;return Z===D?F(I,A,C.props.children,G,C.key):A!==null&&(A.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===he&&lf(Z)===A.type)?(G=l(A,C.props),G.ref=io(I,A,C),G.return=I,G):(G=Vs(C.type,C.key,C.props,null,I.mode,G),G.ref=io(I,A,C),G.return=I,G)}function R(I,A,C,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=Ru(C,I.mode,G),A.return=I,A):(A=l(A,C.children||[]),A.return=I,A)}function F(I,A,C,G,Z){return A===null||A.tag!==7?(A=Ur(C,I.mode,G,Z),A.return=I,A):(A=l(A,C),A.return=I,A)}function H(I,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Pu(""+A,I.mode,C),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case q:return C=Vs(A.type,A.key,A.props,null,I.mode,C),C.ref=io(I,null,A),C.return=I,C;case L:return A=Ru(A,I.mode,C),A.return=I,A;case he:var G=A._init;return H(I,G(A._payload),C)}if(zn(A)||$(A))return A=Ur(A,I.mode,C,null),A.return=I,A;_s(I,A)}return null}function U(I,A,C,G){var Z=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Z!==null?null:m(I,A,""+C,G);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case q:return C.key===Z?S(I,A,C,G):null;case L:return C.key===Z?R(I,A,C,G):null;case he:return Z=C._init,U(I,A,Z(C._payload),G)}if(zn(C)||$(C))return Z!==null?null:F(I,A,C,G,null);_s(I,C)}return null}function Y(I,A,C,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(C)||null,m(A,I,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return I=I.get(G.key===null?C:G.key)||null,S(A,I,G,Z);case L:return I=I.get(G.key===null?C:G.key)||null,R(A,I,G,Z);case he:var ee=G._init;return Y(I,A,C,ee(G._payload),Z)}if(zn(G)||$(G))return I=I.get(C)||null,F(A,I,G,Z,null);_s(A,G)}return null}function Q(I,A,C,G){for(var Z=null,ee=null,te=A,ue=A=0,ot=null;te!==null&&ue<C.length;ue++){te.index>ue?(ot=te,te=null):ot=te.sibling;var _e=U(I,te,C[ue],G);if(_e===null){te===null&&(te=ot);break}e&&te&&_e.alternate===null&&n(I,te),A=d(_e,A,ue),ee===null?Z=_e:ee.sibling=_e,ee=_e,te=ot}if(ue===C.length)return i(I,te),Be&&Pr(I,ue),Z;if(te===null){for(;ue<C.length;ue++)te=H(I,C[ue],G),te!==null&&(A=d(te,A,ue),ee===null?Z=te:ee.sibling=te,ee=te);return Be&&Pr(I,ue),Z}for(te=s(I,te);ue<C.length;ue++)ot=Y(te,I,ue,C[ue],G),ot!==null&&(e&&ot.alternate!==null&&te.delete(ot.key===null?ue:ot.key),A=d(ot,A,ue),ee===null?Z=ot:ee.sibling=ot,ee=ot);return e&&te.forEach(function(ar){return n(I,ar)}),Be&&Pr(I,ue),Z}function b(I,A,C,G){var Z=$(C);if(typeof Z!="function")throw Error(o(150));if(C=Z.call(C),C==null)throw Error(o(151));for(var ee=Z=null,te=A,ue=A=0,ot=null,_e=C.next();te!==null&&!_e.done;ue++,_e=C.next()){te.index>ue?(ot=te,te=null):ot=te.sibling;var ar=U(I,te,_e.value,G);if(ar===null){te===null&&(te=ot);break}e&&te&&ar.alternate===null&&n(I,te),A=d(ar,A,ue),ee===null?Z=ar:ee.sibling=ar,ee=ar,te=ot}if(_e.done)return i(I,te),Be&&Pr(I,ue),Z;if(te===null){for(;!_e.done;ue++,_e=C.next())_e=H(I,_e.value,G),_e!==null&&(A=d(_e,A,ue),ee===null?Z=_e:ee.sibling=_e,ee=_e);return Be&&Pr(I,ue),Z}for(te=s(I,te);!_e.done;ue++,_e=C.next())_e=Y(te,I,ue,_e.value,G),_e!==null&&(e&&_e.alternate!==null&&te.delete(_e.key===null?ue:_e.key),A=d(_e,A,ue),ee===null?Z=_e:ee.sibling=_e,ee=_e);return e&&te.forEach(function(q0){return n(I,q0)}),Be&&Pr(I,ue),Z}function Ve(I,A,C,G){if(typeof C=="object"&&C!==null&&C.type===D&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case q:e:{for(var Z=C.key,ee=A;ee!==null;){if(ee.key===Z){if(Z=C.type,Z===D){if(ee.tag===7){i(I,ee.sibling),A=l(ee,C.props.children),A.return=I,I=A;break e}}else if(ee.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===he&&lf(Z)===ee.type){i(I,ee.sibling),A=l(ee,C.props),A.ref=io(I,ee,C),A.return=I,I=A;break e}i(I,ee);break}else n(I,ee);ee=ee.sibling}C.type===D?(A=Ur(C.props.children,I.mode,G,C.key),A.return=I,I=A):(G=Vs(C.type,C.key,C.props,null,I.mode,G),G.ref=io(I,A,C),G.return=I,I=G)}return h(I);case L:e:{for(ee=C.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){i(I,A.sibling),A=l(A,C.children||[]),A.return=I,I=A;break e}else{i(I,A);break}else n(I,A);A=A.sibling}A=Ru(C,I.mode,G),A.return=I,I=A}return h(I);case he:return ee=C._init,Ve(I,A,ee(C._payload),G)}if(zn(C))return Q(I,A,C,G);if($(C))return b(I,A,C,G);_s(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,A!==null&&A.tag===6?(i(I,A.sibling),A=l(A,C),A.return=I,I=A):(i(I,A),A=Pu(C,I.mode,G),A.return=I,I=A),h(I)):i(I,A)}return Ve}var li=uf(!0),cf=uf(!1),ws=bn(null),Is=null,ui=null,Hl=null;function Bl(){Hl=ui=Is=null}function xl(e){var n=ws.current;Ue(ws),e._currentValue=n}function Gl(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function ci(e,n){Is=e,Hl=ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ct=!0),e.firstContext=null)}function Yt(e){var n=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:n,next:null},ui===null){if(Is===null)throw Error(o(308));ui=e,Is.dependencies={lanes:0,firstContext:e}}else ui=ui.next=e;return n}var Rr=null;function zl(e){Rr===null?Rr=[e]:Rr.push(e)}function df(e,n,i,s){var l=n.interleaved;return l===null?(i.next=i,zl(n)):(i.next=l.next,l.next=i),n.interleaved=i,On(e,s)}function On(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Jn=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function er(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ye&2)!==0){var l=s.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),s.pending=n,On(e,i)}return l=s.interleaved,l===null?(n.next=n,zl(s)):(n.next=l.next,l.next=n),s.interleaved=n,On(e,i)}function Ts(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,nl(e,i)}}function pf(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var l=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?l=d=h:d=d.next=h,i=i.next}while(i!==null);d===null?l=d=n:d=d.next=n}else l=d=n;i={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Cs(e,n,i,s){var l=e.updateQueue;Jn=!1;var d=l.firstBaseUpdate,h=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var S=m,R=S.next;S.next=null,h===null?d=R:h.next=R,h=S;var F=e.alternate;F!==null&&(F=F.updateQueue,m=F.lastBaseUpdate,m!==h&&(m===null?F.firstBaseUpdate=R:m.next=R,F.lastBaseUpdate=S))}if(d!==null){var H=l.baseState;h=0,F=R=S=null,m=d;do{var U=m.lane,Y=m.eventTime;if((s&U)===U){F!==null&&(F=F.next={eventTime:Y,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var Q=e,b=m;switch(U=n,Y=i,b.tag){case 1:if(Q=b.payload,typeof Q=="function"){H=Q.call(Y,H,U);break e}H=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=b.payload,U=typeof Q=="function"?Q.call(Y,H,U):Q,U==null)break e;H=j({},H,U);break e;case 2:Jn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,U=l.effects,U===null?l.effects=[m]:U.push(m))}else Y={eventTime:Y,lane:U,tag:m.tag,payload:m.payload,callback:m.callback,next:null},F===null?(R=F=Y,S=H):F=F.next=Y,h|=U;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;U=m,m=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);if(F===null&&(S=H),l.baseState=S,l.firstBaseUpdate=R,l.lastBaseUpdate=F,n=l.shared.interleaved,n!==null){l=n;do h|=l.lane,l=l.next;while(l!==n)}else d===null&&(l.shared.lanes=0);Nr|=h,e.lanes=h,e.memoizedState=H}}function hf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],l=s.callback;if(l!==null){if(s.callback=null,s=i,typeof l!="function")throw Error(o(191,l));l.call(s)}}}var oo={},hn=bn(oo),so=bn(oo),ao=bn(oo);function kr(e){if(e===oo)throw Error(o(174));return e}function jl(e,n){switch(Oe(ao,n),Oe(so,e),Oe(hn,oo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ya(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ya(n,e)}Ue(hn),Oe(hn,n)}function di(){Ue(hn),Ue(so),Ue(ao)}function gf(e){kr(ao.current);var n=kr(hn.current),i=Ya(n,e.type);n!==i&&(Oe(so,e),Oe(hn,i))}function Yl(e){so.current===e&&(Ue(hn),Ue(so))}var ze=bn(0);function Ps(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $l=[];function Vl(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var Rs=x.ReactCurrentDispatcher,Kl=x.ReactCurrentBatchConfig,Dr=0,We=null,Je=null,rt=null,ks=!1,lo=!1,uo=0,S0=0;function ft(){throw Error(o(321))}function Xl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!en(e[i],n[i]))return!1;return!0}function Ql(e,n,i,s,l,d){if(Dr=d,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Rs.current=e===null||e.memoizedState===null?w0:I0,e=i(s,l),lo){d=0;do{if(lo=!1,uo=0,25<=d)throw Error(o(301));d+=1,rt=Je=null,n.updateQueue=null,Rs.current=T0,e=i(s,l)}while(lo)}if(Rs.current=Os,n=Je!==null&&Je.next!==null,Dr=0,rt=Je=We=null,ks=!1,n)throw Error(o(300));return e}function bl(){var e=uo!==0;return uo=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?We.memoizedState=rt=e:rt=rt.next=e,rt}function $t(){if(Je===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var n=rt===null?We.memoizedState:rt.next;if(n!==null)rt=n,Je=e;else{if(e===null)throw Error(o(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},rt===null?We.memoizedState=rt=e:rt=rt.next=e}return rt}function co(e,n){return typeof n=="function"?n(e):n}function ql(e){var n=$t(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=Je,l=s.baseQueue,d=i.pending;if(d!==null){if(l!==null){var h=l.next;l.next=d.next,d.next=h}s.baseQueue=l=d,i.pending=null}if(l!==null){d=l.next,s=s.baseState;var m=h=null,S=null,R=d;do{var F=R.lane;if((Dr&F)===F)S!==null&&(S=S.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),s=R.hasEagerState?R.eagerState:e(s,R.action);else{var H={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};S===null?(m=S=H,h=s):S=S.next=H,We.lanes|=F,Nr|=F}R=R.next}while(R!==null&&R!==d);S===null?h=s:S.next=m,en(s,n.memoizedState)||(Ct=!0),n.memoizedState=s,n.baseState=h,n.baseQueue=S,i.lastRenderedState=s}if(e=i.interleaved,e!==null){l=e;do d=l.lane,We.lanes|=d,Nr|=d,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Zl(e){var n=$t(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,l=i.pending,d=n.memoizedState;if(l!==null){i.pending=null;var h=l=l.next;do d=e(d,h.action),h=h.next;while(h!==l);en(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,s]}function mf(){}function vf(e,n){var i=We,s=$t(),l=n(),d=!en(s.memoizedState,l);if(d&&(s.memoizedState=l,Ct=!0),s=s.queue,Jl(Ef.bind(null,i,s,e),[e]),s.getSnapshot!==n||d||rt!==null&&rt.memoizedState.tag&1){if(i.flags|=2048,fo(9,Sf.bind(null,i,s,l,n),void 0,null),it===null)throw Error(o(349));(Dr&30)!==0||yf(i,n,l)}return l}function yf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Sf(e,n,i,s){n.value=i,n.getSnapshot=s,Af(n)&&_f(e)}function Ef(e,n,i){return i(function(){Af(n)&&_f(e)})}function Af(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!en(e,i)}catch{return!0}}function _f(e){var n=On(e,1);n!==null&&sn(n,e,1,-1)}function wf(e){var n=gn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},n.queue=e,e=e.dispatch=_0.bind(null,We,e),[n.memoizedState,e]}function fo(e,n,i,s){return e={tag:e,create:n,destroy:i,deps:s,next:null},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e)),e}function If(){return $t().memoizedState}function Ds(e,n,i,s){var l=gn();We.flags|=e,l.memoizedState=fo(1|n,i,void 0,s===void 0?null:s)}function Ns(e,n,i,s){var l=$t();s=s===void 0?null:s;var d=void 0;if(Je!==null){var h=Je.memoizedState;if(d=h.destroy,s!==null&&Xl(s,h.deps)){l.memoizedState=fo(n,i,d,s);return}}We.flags|=e,l.memoizedState=fo(1|n,i,d,s)}function Tf(e,n){return Ds(8390656,8,e,n)}function Jl(e,n){return Ns(2048,8,e,n)}function Cf(e,n){return Ns(4,2,e,n)}function Pf(e,n){return Ns(4,4,e,n)}function Rf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kf(e,n,i){return i=i!=null?i.concat([e]):null,Ns(4,4,Rf.bind(null,n,e),i)}function eu(){}function Df(e,n){var i=$t();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&Xl(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Nf(e,n){var i=$t();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&Xl(n,s[1])?s[0]:(e=e(),i.memoizedState=[e,n],e)}function Of(e,n,i){return(Dr&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(en(i,n)||(i=ad(),We.lanes|=i,Nr|=i,e.baseState=!0),n)}function E0(e,n){var i=Ce;Ce=i!==0&&4>i?i:4,e(!0);var s=Kl.transition;Kl.transition={};try{e(!1),n()}finally{Ce=i,Kl.transition=s}}function Mf(){return $t().memoizedState}function A0(e,n,i){var s=ir(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},Lf(e))Uf(n,i);else if(i=df(e,n,i,s),i!==null){var l=Et();sn(i,e,s,l),Ff(i,n,s)}}function _0(e,n,i){var s=ir(e),l={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(Lf(e))Uf(n,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,m=d(h,i);if(l.hasEagerState=!0,l.eagerState=m,en(m,h)){var S=n.interleaved;S===null?(l.next=l,zl(n)):(l.next=S.next,S.next=l),n.interleaved=l;return}}catch{}finally{}i=df(e,n,l,s),i!==null&&(l=Et(),sn(i,e,s,l),Ff(i,n,s))}}function Lf(e){var n=e.alternate;return e===We||n!==null&&n===We}function Uf(e,n){lo=ks=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Ff(e,n,i){if((i&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,nl(e,i)}}var Os={readContext:Yt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},w0={readContext:Yt,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:Yt,useEffect:Tf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ds(4194308,4,Rf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ds(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ds(4,2,e,n)},useMemo:function(e,n){var i=gn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var s=gn();return n=i!==void 0?i(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=A0.bind(null,We,e),[s.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:wf,useDebugValue:eu,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=wf(!1),n=e[0];return e=E0.bind(null,e[1]),gn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var s=We,l=gn();if(Be){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),it===null)throw Error(o(349));(Dr&30)!==0||yf(s,n,i)}l.memoizedState=i;var d={value:i,getSnapshot:n};return l.queue=d,Tf(Ef.bind(null,s,d,e),[e]),s.flags|=2048,fo(9,Sf.bind(null,s,d,i,n),void 0,null),i},useId:function(){var e=gn(),n=it.identifierPrefix;if(Be){var i=Nn,s=Dn;i=(s&~(1<<32-Jt(s)-1)).toString(32)+i,n=":"+n+"R"+i,i=uo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=S0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},I0={readContext:Yt,useCallback:Df,useContext:Yt,useEffect:Jl,useImperativeHandle:kf,useInsertionEffect:Cf,useLayoutEffect:Pf,useMemo:Nf,useReducer:ql,useRef:If,useState:function(){return ql(co)},useDebugValue:eu,useDeferredValue:function(e){var n=$t();return Of(n,Je.memoizedState,e)},useTransition:function(){var e=ql(co)[0],n=$t().memoizedState;return[e,n]},useMutableSource:mf,useSyncExternalStore:vf,useId:Mf,unstable_isNewReconciler:!1},T0={readContext:Yt,useCallback:Df,useContext:Yt,useEffect:Jl,useImperativeHandle:kf,useInsertionEffect:Cf,useLayoutEffect:Pf,useMemo:Nf,useReducer:Zl,useRef:If,useState:function(){return Zl(co)},useDebugValue:eu,useDeferredValue:function(e){var n=$t();return Je===null?n.memoizedState=e:Of(n,Je.memoizedState,e)},useTransition:function(){var e=Zl(co)[0],n=$t().memoizedState;return[e,n]},useMutableSource:mf,useSyncExternalStore:vf,useId:Mf,unstable_isNewReconciler:!1};function nn(e,n){if(e&&e.defaultProps){n=j({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function tu(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:j({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ms={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Et(),l=ir(e),d=Mn(s,l);d.payload=n,i!=null&&(d.callback=i),n=er(e,d,l),n!==null&&(sn(n,e,l,s),Ts(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Et(),l=ir(e),d=Mn(s,l);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=er(e,d,l),n!==null&&(sn(n,e,l,s),Ts(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Et(),s=ir(e),l=Mn(i,s);l.tag=2,n!=null&&(l.callback=n),n=er(e,l,s),n!==null&&(sn(n,e,s,i),Ts(n,e,s))}};function Hf(e,n,i,s,l,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,h):n.prototype&&n.prototype.isPureReactComponent?!qi(i,s)||!qi(l,d):!0}function Bf(e,n,i){var s=!1,l=qn,d=n.contextType;return typeof d=="object"&&d!==null?d=Yt(d):(l=Tt(n)?Tr:dt.current,s=n.contextTypes,d=(s=s!=null)?ii(e,l):qn),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ms,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),n}function xf(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Ms.enqueueReplaceState(n,n.state,null)}function nu(e,n,i,s){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs={},Wl(e);var d=n.contextType;typeof d=="object"&&d!==null?l.context=Yt(d):(d=Tt(n)?Tr:dt.current,l.context=ii(e,d)),l.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(tu(e,n,d,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&Ms.enqueueReplaceState(l,l.state,null),Cs(e,i,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function fi(e,n){try{var i="",s=n;do i+=ge(s),s=s.return;while(s);var l=i}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:l,digest:null}}function ru(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function iu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var C0=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,n,i){i=Mn(-1,i),i.tag=3,i.payload={element:null};var s=n.value;return i.callback=function(){Gs||(Gs=!0,Su=s),iu(e,n)},i}function zf(e,n,i){i=Mn(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=n.value;i.payload=function(){return s(l)},i.callback=function(){iu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){iu(e,n),typeof s!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),i}function Wf(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new C0;var l=new Set;s.set(n,l)}else l=s.get(n),l===void 0&&(l=new Set,s.set(n,l));l.has(i)||(l.add(i),e=G0.bind(null,e,n,i),n.then(e,e))}function jf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Yf(e,n,i,s,l){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Mn(-1,1),n.tag=2,er(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var P0=x.ReactCurrentOwner,Ct=!1;function St(e,n,i,s){n.child=e===null?cf(n,null,i,s):li(n,e.child,i,s)}function $f(e,n,i,s,l){i=i.render;var d=n.ref;return ci(n,l),s=Ql(e,n,i,s,d,l),i=bl(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Ln(e,n,l)):(Be&&i&&Ol(n),n.flags|=1,St(e,n,s,l),n.child)}function Vf(e,n,i,s,l){if(e===null){var d=i.type;return typeof d=="function"&&!Cu(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,Kf(e,n,d,s,l)):(e=Vs(i.type,null,s,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&l)===0){var h=d.memoizedProps;if(i=i.compare,i=i!==null?i:qi,i(h,s)&&e.ref===n.ref)return Ln(e,n,l)}return n.flags|=1,e=sr(d,s),e.ref=n.ref,e.return=n,n.child=e}function Kf(e,n,i,s,l){if(e!==null){var d=e.memoizedProps;if(qi(d,s)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=s=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,Ln(e,n,l)}return ou(e,n,i,s,l)}function Xf(e,n,i){var s=n.pendingProps,l=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(hi,Ft),Ft|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Oe(hi,Ft),Ft|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,Oe(hi,Ft),Ft|=s}else d!==null?(s=d.baseLanes|i,n.memoizedState=null):s=i,Oe(hi,Ft),Ft|=s;return St(e,n,l,i),n.child}function Qf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function ou(e,n,i,s,l){var d=Tt(i)?Tr:dt.current;return d=ii(n,d),ci(n,l),i=Ql(e,n,i,s,d,l),s=bl(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Ln(e,n,l)):(Be&&s&&Ol(n),n.flags|=1,St(e,n,i,l),n.child)}function bf(e,n,i,s,l){if(Tt(i)){var d=!0;vs(n)}else d=!1;if(ci(n,l),n.stateNode===null)Us(e,n),Bf(n,i,s),nu(n,i,s,l),s=!0;else if(e===null){var h=n.stateNode,m=n.memoizedProps;h.props=m;var S=h.context,R=i.contextType;typeof R=="object"&&R!==null?R=Yt(R):(R=Tt(i)?Tr:dt.current,R=ii(n,R));var F=i.getDerivedStateFromProps,H=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function";H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==s||S!==R)&&xf(n,h,s,R),Jn=!1;var U=n.memoizedState;h.state=U,Cs(n,s,h,l),S=n.memoizedState,m!==s||U!==S||It.current||Jn?(typeof F=="function"&&(tu(n,i,F,s),S=n.memoizedState),(m=Jn||Hf(n,i,m,s,U,S,R))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=S),h.props=s,h.state=S,h.context=R,s=m):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,ff(e,n),m=n.memoizedProps,R=n.type===n.elementType?m:nn(n.type,m),h.props=R,H=n.pendingProps,U=h.context,S=i.contextType,typeof S=="object"&&S!==null?S=Yt(S):(S=Tt(i)?Tr:dt.current,S=ii(n,S));var Y=i.getDerivedStateFromProps;(F=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==H||U!==S)&&xf(n,h,s,S),Jn=!1,U=n.memoizedState,h.state=U,Cs(n,s,h,l);var Q=n.memoizedState;m!==H||U!==Q||It.current||Jn?(typeof Y=="function"&&(tu(n,i,Y,s),Q=n.memoizedState),(R=Jn||Hf(n,i,R,s,U,Q,S)||!1)?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Q,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Q,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=Q),h.props=s,h.state=Q,h.context=S,s=R):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return su(e,n,i,s,d,l)}function su(e,n,i,s,l,d){Qf(e,n);var h=(n.flags&128)!==0;if(!s&&!h)return l&&ef(n,i,!1),Ln(e,n,d);s=n.stateNode,P0.current=n;var m=h&&typeof i.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&h?(n.child=li(n,e.child,null,d),n.child=li(n,null,m,d)):St(e,n,m,d),n.memoizedState=s.state,l&&ef(n,i,!0),n.child}function qf(e){var n=e.stateNode;n.pendingContext?Zd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Zd(e,n.context,!1),jl(e,n.containerInfo)}function Zf(e,n,i,s,l){return ai(),Fl(l),n.flags|=256,St(e,n,i,s),n.child}var au={dehydrated:null,treeContext:null,retryLane:0};function lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jf(e,n,i){var s=n.pendingProps,l=ze.current,d=!1,h=(n.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Oe(ze,l&1),e===null)return Ul(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=s.children,e=s.fallback,d?(s=n.mode,d=n.child,h={mode:"hidden",children:h},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Ks(h,s,0,null),e=Ur(e,s,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=lu(i),n.memoizedState=au,e):uu(n,h));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return R0(e,n,h,s,m,l,i);if(d){d=s.fallback,h=n.mode,l=e.child,m=l.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&n.child!==l?(s=n.child,s.childLanes=0,s.pendingProps=S,n.deletions=null):(s=sr(l,S),s.subtreeFlags=l.subtreeFlags&14680064),m!==null?d=sr(m,d):(d=Ur(d,h,i,null),d.flags|=2),d.return=n,s.return=n,s.sibling=d,n.child=s,s=d,d=n.child,h=e.child.memoizedState,h=h===null?lu(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~i,n.memoizedState=au,s}return d=e.child,e=d.sibling,s=sr(d,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=i),s.return=n,s.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=s,n.memoizedState=null,s}function uu(e,n){return n=Ks({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ls(e,n,i,s){return s!==null&&Fl(s),li(n,e.child,null,i),e=uu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function R0(e,n,i,s,l,d,h){if(i)return n.flags&256?(n.flags&=-257,s=ru(Error(o(422))),Ls(e,n,h,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=s.fallback,l=n.mode,s=Ks({mode:"visible",children:s.children},l,0,null),d=Ur(d,l,h,null),d.flags|=2,s.return=n,d.return=n,s.sibling=d,n.child=s,(n.mode&1)!==0&&li(n,e.child,null,h),n.child.memoizedState=lu(h),n.memoizedState=au,d);if((n.mode&1)===0)return Ls(e,n,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var m=s.dgst;return s=m,d=Error(o(419)),s=ru(d,s,void 0),Ls(e,n,h,s)}if(m=(h&e.childLanes)!==0,Ct||m){if(s=it,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,On(e,l),sn(s,e,l,-1))}return Tu(),s=ru(Error(o(421))),Ls(e,n,h,s)}return l.data==="$?"?(n.flags|=128,n.child=e.child,n=z0.bind(null,e),l._reactRetry=n,null):(e=d.treeContext,Ut=Qn(l.nextSibling),Lt=n,Be=!0,tn=null,e!==null&&(Wt[jt++]=Dn,Wt[jt++]=Nn,Wt[jt++]=Cr,Dn=e.id,Nn=e.overflow,Cr=n),n=uu(n,s.children),n.flags|=4096,n)}function ep(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gl(e.return,n,i)}function cu(e,n,i,s,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:l}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=l)}function tp(e,n,i){var s=n.pendingProps,l=s.revealOrder,d=s.tail;if(St(e,n,s.children,i),s=ze.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ep(e,i,n);else if(e.tag===19)ep(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Oe(ze,s),(n.mode&1)===0)n.memoizedState=null;else switch(l){case"forwards":for(i=n.child,l=null;i!==null;)e=i.alternate,e!==null&&Ps(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),cu(n,!1,l,i,d);break;case"backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&Ps(e)===null){n.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}cu(n,!0,i,null,d);break;case"together":cu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Us(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ln(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=sr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=sr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function k0(e,n,i){switch(n.tag){case 3:qf(n),ai();break;case 5:gf(n);break;case 1:Tt(n.type)&&vs(n);break;case 4:jl(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,l=n.memoizedProps.value;Oe(ws,s._currentValue),s._currentValue=l;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Oe(ze,ze.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Jf(e,n,i):(Oe(ze,ze.current&1),e=Ln(e,n,i),e!==null?e.sibling:null);Oe(ze,ze.current&1);break;case 19:if(s=(i&n.childLanes)!==0,(e.flags&128)!==0){if(s)return tp(e,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Oe(ze,ze.current),s)break;return null;case 22:case 23:return n.lanes=0,Xf(e,n,i)}return Ln(e,n,i)}var np,du,rp,ip;np=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},du=function(){},rp=function(e,n,i,s){var l=e.memoizedProps;if(l!==s){e=n.stateNode,kr(hn.current);var d=null;switch(i){case"input":l=Ot(e,l),s=Ot(e,s),d=[];break;case"select":l=j({},l,{value:void 0}),s=j({},s,{value:void 0}),d=[];break;case"textarea":l=_r(e,l),s=_r(e,s),d=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hs)}$a(i,s);var h;i=null;for(R in l)if(!s.hasOwnProperty(R)&&l.hasOwnProperty(R)&&l[R]!=null)if(R==="style"){var m=l[R];for(h in m)m.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(u.hasOwnProperty(R)?d||(d=[]):(d=d||[]).push(R,null));for(R in s){var S=s[R];if(m=l!=null?l[R]:void 0,s.hasOwnProperty(R)&&S!==m&&(S!=null||m!=null))if(R==="style")if(m){for(h in m)!m.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in S)S.hasOwnProperty(h)&&m[h]!==S[h]&&(i||(i={}),i[h]=S[h])}else i||(d||(d=[]),d.push(R,i)),i=S;else R==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,m=m?m.__html:void 0,S!=null&&m!==S&&(d=d||[]).push(R,S)):R==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(R,""+S):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(u.hasOwnProperty(R)?(S!=null&&R==="onScroll"&&Le("scroll",e),d||m===S||(d=[])):(d=d||[]).push(R,S))}i&&(d=d||[]).push("style",i);var R=d;(n.updateQueue=R)&&(n.flags|=4)}},ip=function(e,n,i,s){i!==s&&(n.flags|=4)};function po(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function D0(e,n,i){var s=n.pendingProps;switch(Ml(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return Tt(n.type)&&ms(),pt(n),null;case 3:return s=n.stateNode,di(),Ue(It),Ue(dt),Vl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(As(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tn!==null&&(_u(tn),tn=null))),du(e,n),pt(n),null;case 5:Yl(n);var l=kr(ao.current);if(i=n.type,e!==null&&n.stateNode!=null)rp(e,n,i,s,l),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(o(166));return pt(n),null}if(e=kr(hn.current),As(n)){s=n.stateNode,i=n.type;var d=n.memoizedProps;switch(s[pn]=n,s[no]=d,e=(n.mode&1)!==0,i){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(l=0;l<Ji.length;l++)Le(Ji[l],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":zt(s,d),Le("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Le("invalid",s);break;case"textarea":Gc(s,d),Le("invalid",s)}$a(i,d),l=null;for(var h in d)if(d.hasOwnProperty(h)){var m=d[h];h==="children"?typeof m=="string"?s.textContent!==m&&(d.suppressHydrationWarning!==!0&&ps(s.textContent,m,e),l=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(d.suppressHydrationWarning!==!0&&ps(s.textContent,m,e),l=["children",""+m]):u.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&Le("scroll",s)}switch(i){case"input":we(s),Gn(s,d,!0);break;case"textarea":we(s),Wc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=hs)}s=l,n.updateQueue=s,s!==null&&(n.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(i,{is:s.is}):(e=h.createElement(i),i==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,i),e[pn]=n,e[no]=s,np(e,n,!1,!1),n.stateNode=e;e:{switch(h=Va(i,s),i){case"dialog":Le("cancel",e),Le("close",e),l=s;break;case"iframe":case"object":case"embed":Le("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ji.length;l++)Le(Ji[l],e);l=s;break;case"source":Le("error",e),l=s;break;case"img":case"image":case"link":Le("error",e),Le("load",e),l=s;break;case"details":Le("toggle",e),l=s;break;case"input":zt(e,s),l=Ot(e,s),Le("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=j({},s,{value:void 0}),Le("invalid",e);break;case"textarea":Gc(e,s),l=_r(e,s),Le("invalid",e);break;default:l=s}$a(i,l),m=l;for(d in m)if(m.hasOwnProperty(d)){var S=m[d];d==="style"?Vc(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Yc(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Li(e,S):typeof S=="number"&&Li(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Le("scroll",e):S!=null&&B(e,d,S,h))}switch(i){case"input":we(e),Gn(e,s,!1);break;case"textarea":we(e),Wc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+de(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?Wn(e,!!s.multiple,d,!1):s.defaultValue!=null&&Wn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=hs)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return pt(n),null;case 6:if(e&&n.stateNode!=null)ip(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(i=kr(ao.current),kr(hn.current),As(n)){if(s=n.stateNode,i=n.memoizedProps,s[pn]=n,(d=s.nodeValue!==i)&&(e=Lt,e!==null))switch(e.tag){case 3:ps(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ps(s.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[pn]=n,n.stateNode=s}return pt(n),null;case 13:if(Ue(ze),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Ut!==null&&(n.mode&1)!==0&&(n.flags&128)===0)af(),ai(),n.flags|=98560,d=!1;else if(d=As(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[pn]=n}else ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),d=!1}else tn!==null&&(_u(tn),tn=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ze.current&1)!==0?et===0&&(et=3):Tu())),n.updateQueue!==null&&(n.flags|=4),pt(n),null);case 4:return di(),du(e,n),e===null&&eo(n.stateNode.containerInfo),pt(n),null;case 10:return xl(n.type._context),pt(n),null;case 17:return Tt(n.type)&&ms(),pt(n),null;case 19:if(Ue(ze),d=n.memoizedState,d===null)return pt(n),null;if(s=(n.flags&128)!==0,h=d.rendering,h===null)if(s)po(d,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Ps(e),h!==null){for(n.flags|=128,po(d,!1),s=h.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=i,i=n.child;i!==null;)d=i,e=s,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Oe(ze,ze.current&1|2),n.child}e=e.sibling}d.tail!==null&&$e()>gi&&(n.flags|=128,s=!0,po(d,!1),n.lanes=4194304)}else{if(!s)if(e=Ps(h),e!==null){if(n.flags|=128,s=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),po(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Be)return pt(n),null}else 2*$e()-d.renderingStartTime>gi&&i!==1073741824&&(n.flags|=128,s=!0,po(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(i=d.last,i!==null?i.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=$e(),n.sibling=null,i=ze.current,Oe(ze,s?i&1|2:i&1),n):(pt(n),null);case 22:case 23:return Iu(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Ft&1073741824)!==0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function N0(e,n){switch(Ml(n),n.tag){case 1:return Tt(n.type)&&ms(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return di(),Ue(It),Ue(dt),Vl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Yl(n),null;case 13:if(Ue(ze),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ue(ze),null;case 4:return di(),null;case 10:return xl(n.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var Fs=!1,ht=!1,O0=typeof WeakSet=="function"?WeakSet:Set,K=null;function pi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){je(e,n,s)}else i.current=null}function fu(e,n,i){try{i()}catch(s){je(e,n,s)}}var op=!1;function M0(e,n){if(Il=ns,e=Fd(),ml(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var h=0,m=-1,S=-1,R=0,F=0,H=e,U=null;t:for(;;){for(var Y;H!==i||l!==0&&H.nodeType!==3||(m=h+l),H!==d||s!==0&&H.nodeType!==3||(S=h+s),H.nodeType===3&&(h+=H.nodeValue.length),(Y=H.firstChild)!==null;)U=H,H=Y;for(;;){if(H===e)break t;if(U===i&&++R===l&&(m=h),U===d&&++F===s&&(S=h),(Y=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=Y}i=m===-1||S===-1?null:{start:m,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Tl={focusedElem:e,selectionRange:i},ns=!1,K=n;K!==null;)if(n=K,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,K=e;else for(;K!==null;){n=K;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var b=Q.memoizedProps,Ve=Q.memoizedState,I=n.stateNode,A=I.getSnapshotBeforeUpdate(n.elementType===n.type?b:nn(n.type,b),Ve);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var C=n.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(G){je(n,n.return,G)}if(e=n.sibling,e!==null){e.return=n.return,K=e;break}K=n.return}return Q=op,op=!1,Q}function ho(e,n,i){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&fu(n,i,d)}l=l.next}while(l!==s)}}function Hs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==n)}}function pu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function sp(e){var n=e.alternate;n!==null&&(e.alternate=null,sp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[pn],delete n[no],delete n[kl],delete n[g0],delete n[m0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ap(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=hs));else if(s!==4&&(e=e.child,e!==null))for(hu(e,n,i),e=e.sibling;e!==null;)hu(e,n,i),e=e.sibling}function gu(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(gu(e,n,i),e=e.sibling;e!==null;)gu(e,n,i),e=e.sibling}var at=null,rn=!1;function tr(e,n,i){for(i=i.child;i!==null;)up(e,n,i),i=i.sibling}function up(e,n,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(bo,i)}catch{}switch(i.tag){case 5:ht||pi(i,n);case 6:var s=at,l=rn;at=null,tr(e,n,i),at=s,rn=l,at!==null&&(rn?(e=at,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):at.removeChild(i.stateNode));break;case 18:at!==null&&(rn?(e=at,i=i.stateNode,e.nodeType===8?Rl(e.parentNode,i):e.nodeType===1&&Rl(e,i),$i(e)):Rl(at,i.stateNode));break;case 4:s=at,l=rn,at=i.stateNode.containerInfo,rn=!0,tr(e,n,i),at=s,rn=l;break;case 0:case 11:case 14:case 15:if(!ht&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var d=l,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&fu(i,n,h),l=l.next}while(l!==s)}tr(e,n,i);break;case 1:if(!ht&&(pi(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(m){je(i,n,m)}tr(e,n,i);break;case 21:tr(e,n,i);break;case 22:i.mode&1?(ht=(s=ht)||i.memoizedState!==null,tr(e,n,i),ht=s):tr(e,n,i);break;default:tr(e,n,i)}}function cp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new O0),n.forEach(function(s){var l=W0.bind(null,e,s);i.has(s)||(i.add(s),s.then(l,l))})}}function on(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];try{var d=e,h=n,m=h;e:for(;m!==null;){switch(m.tag){case 5:at=m.stateNode,rn=!1;break e;case 3:at=m.stateNode.containerInfo,rn=!0;break e;case 4:at=m.stateNode.containerInfo,rn=!0;break e}m=m.return}if(at===null)throw Error(o(160));up(d,h,l),at=null,rn=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(R){je(l,n,R)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)dp(n,e),n=n.sibling}function dp(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(n,e),mn(e),s&4){try{ho(3,e,e.return),Hs(3,e)}catch(b){je(e,e.return,b)}try{ho(5,e,e.return)}catch(b){je(e,e.return,b)}}break;case 1:on(n,e),mn(e),s&512&&i!==null&&pi(i,i.return);break;case 5:if(on(n,e),mn(e),s&512&&i!==null&&pi(i,i.return),e.flags&32){var l=e.stateNode;try{Li(l,"")}catch(b){je(e,e.return,b)}}if(s&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,h=i!==null?i.memoizedProps:d,m=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{m==="input"&&d.type==="radio"&&d.name!=null&&Ar(l,d),Va(m,h);var R=Va(m,d);for(h=0;h<S.length;h+=2){var F=S[h],H=S[h+1];F==="style"?Vc(l,H):F==="dangerouslySetInnerHTML"?Yc(l,H):F==="children"?Li(l,H):B(l,F,H,R)}switch(m){case"input":Pn(l,d);break;case"textarea":zc(l,d);break;case"select":var U=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Wn(l,!!d.multiple,Y,!1):U!==!!d.multiple&&(d.defaultValue!=null?Wn(l,!!d.multiple,d.defaultValue,!0):Wn(l,!!d.multiple,d.multiple?[]:"",!1))}l[no]=d}catch(b){je(e,e.return,b)}}break;case 6:if(on(n,e),mn(e),s&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(b){je(e,e.return,b)}}break;case 3:if(on(n,e),mn(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{$i(n.containerInfo)}catch(b){je(e,e.return,b)}break;case 4:on(n,e),mn(e);break;case 13:on(n,e),mn(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(yu=$e())),s&4&&cp(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(ht=(R=ht)||F,on(n,e),ht=R):on(n,e),mn(e),s&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!F&&(e.mode&1)!==0)for(K=e,F=e.child;F!==null;){for(H=K=F;K!==null;){switch(U=K,Y=U.child,U.tag){case 0:case 11:case 14:case 15:ho(4,U,U.return);break;case 1:pi(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){s=U,i=U.return;try{n=s,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(b){je(s,i,b)}}break;case 5:pi(U,U.return);break;case 22:if(U.memoizedState!==null){hp(H);continue}}Y!==null?(Y.return=U,K=Y):hp(H)}F=F.sibling}e:for(F=null,H=e;;){if(H.tag===5){if(F===null){F=H;try{l=H.stateNode,R?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(m=H.stateNode,S=H.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,m.style.display=$c("display",h))}catch(b){je(e,e.return,b)}}}else if(H.tag===6){if(F===null)try{H.stateNode.nodeValue=R?"":H.memoizedProps}catch(b){je(e,e.return,b)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;F===H&&(F=null),H=H.return}F===H&&(F=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:on(n,e),mn(e),s&4&&cp(e);break;case 21:break;default:on(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(ap(i)){var s=i;break e}i=i.return}throw Error(o(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Li(l,""),s.flags&=-33);var d=lp(e);gu(e,d,l);break;case 3:case 4:var h=s.stateNode.containerInfo,m=lp(e);hu(e,m,h);break;default:throw Error(o(161))}}catch(S){je(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function L0(e,n,i){K=e,fp(e)}function fp(e,n,i){for(var s=(e.mode&1)!==0;K!==null;){var l=K,d=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||Fs;if(!h){var m=l.alternate,S=m!==null&&m.memoizedState!==null||ht;m=Fs;var R=ht;if(Fs=h,(ht=S)&&!R)for(K=l;K!==null;)h=K,S=h.child,h.tag===22&&h.memoizedState!==null?gp(l):S!==null?(S.return=h,K=S):gp(l);for(;d!==null;)K=d,fp(d),d=d.sibling;K=l,Fs=m,ht=R}pp(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,K=d):pp(e)}}function pp(e){for(;K!==null;){var n=K;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ht||Hs(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!ht)if(i===null)s.componentDidMount();else{var l=n.elementType===n.type?i.memoizedProps:nn(n.type,i.memoizedProps);s.componentDidUpdate(l,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&hf(n,d,s);break;case 3:var h=n.updateQueue;if(h!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}hf(n,h,i)}break;case 5:var m=n.stateNode;if(i===null&&n.flags&4){i=m;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var R=n.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var H=F.dehydrated;H!==null&&$i(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ht||n.flags&512&&pu(n)}catch(U){je(n,n.return,U)}}if(n===e){K=null;break}if(i=n.sibling,i!==null){i.return=n.return,K=i;break}K=n.return}}function hp(e){for(;K!==null;){var n=K;if(n===e){K=null;break}var i=n.sibling;if(i!==null){i.return=n.return,K=i;break}K=n.return}}function gp(e){for(;K!==null;){var n=K;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Hs(4,n)}catch(S){je(n,i,S)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var l=n.return;try{s.componentDidMount()}catch(S){je(n,l,S)}}var d=n.return;try{pu(n)}catch(S){je(n,d,S)}break;case 5:var h=n.return;try{pu(n)}catch(S){je(n,h,S)}}}catch(S){je(n,n.return,S)}if(n===e){K=null;break}var m=n.sibling;if(m!==null){m.return=n.return,K=m;break}K=n.return}}var U0=Math.ceil,Bs=x.ReactCurrentDispatcher,mu=x.ReactCurrentOwner,Vt=x.ReactCurrentBatchConfig,ye=0,it=null,be=null,lt=0,Ft=0,hi=bn(0),et=0,go=null,Nr=0,xs=0,vu=0,mo=null,Pt=null,yu=0,gi=1/0,Un=null,Gs=!1,Su=null,nr=null,zs=!1,rr=null,Ws=0,vo=0,Eu=null,js=-1,Ys=0;function Et(){return(ye&6)!==0?$e():js!==-1?js:js=$e()}function ir(e){return(e.mode&1)===0?1:(ye&2)!==0&&lt!==0?lt&-lt:y0.transition!==null?(Ys===0&&(Ys=ad()),Ys):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:md(e.type)),e)}function sn(e,n,i,s){if(50<vo)throw vo=0,Eu=null,Error(o(185));Gi(e,i,s),((ye&2)===0||e!==it)&&(e===it&&((ye&2)===0&&(xs|=i),et===4&&or(e,lt)),Rt(e,s),i===1&&ye===0&&(n.mode&1)===0&&(gi=$e()+500,ys&&Zn()))}function Rt(e,n){var i=e.callbackNode;ym(e,n);var s=Jo(e,e===it?lt:0);if(s===0)i!==null&&id(i),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(i!=null&&id(i),n===1)e.tag===0?v0(vp.bind(null,e)):tf(vp.bind(null,e)),p0(function(){(ye&6)===0&&Zn()}),i=null;else{switch(ld(s)){case 1:i=Ja;break;case 4:i=od;break;case 16:i=Qo;break;case 536870912:i=sd;break;default:i=Qo}i=Tp(i,mp.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function mp(e,n){if(js=-1,Ys=0,(ye&6)!==0)throw Error(o(327));var i=e.callbackNode;if(mi()&&e.callbackNode!==i)return null;var s=Jo(e,e===it?lt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=$s(e,s);else{n=s;var l=ye;ye|=2;var d=Sp();(it!==e||lt!==n)&&(Un=null,gi=$e()+500,Mr(e,n));do try{B0();break}catch(m){yp(e,m)}while(!0);Bl(),Bs.current=d,ye=l,be!==null?n=0:(it=null,lt=0,n=et)}if(n!==0){if(n===2&&(l=el(e),l!==0&&(s=l,n=Au(e,l))),n===1)throw i=go,Mr(e,0),or(e,s),Rt(e,$e()),i;if(n===6)or(e,s);else{if(l=e.current.alternate,(s&30)===0&&!F0(l)&&(n=$s(e,s),n===2&&(d=el(e),d!==0&&(s=d,n=Au(e,d))),n===1))throw i=go,Mr(e,0),or(e,s),Rt(e,$e()),i;switch(e.finishedWork=l,e.finishedLanes=s,n){case 0:case 1:throw Error(o(345));case 2:Lr(e,Pt,Un);break;case 3:if(or(e,s),(s&130023424)===s&&(n=yu+500-$e(),10<n)){if(Jo(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Et(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Pl(Lr.bind(null,e,Pt,Un),n);break}Lr(e,Pt,Un);break;case 4:if(or(e,s),(s&4194240)===s)break;for(n=e.eventTimes,l=-1;0<s;){var h=31-Jt(s);d=1<<h,h=n[h],h>l&&(l=h),s&=~d}if(s=l,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*U0(s/1960))-s,10<s){e.timeoutHandle=Pl(Lr.bind(null,e,Pt,Un),s);break}Lr(e,Pt,Un);break;case 5:Lr(e,Pt,Un);break;default:throw Error(o(329))}}}return Rt(e,$e()),e.callbackNode===i?mp.bind(null,e):null}function Au(e,n){var i=mo;return e.current.memoizedState.isDehydrated&&(Mr(e,n).flags|=256),e=$s(e,n),e!==2&&(n=Pt,Pt=i,n!==null&&_u(n)),e}function _u(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function F0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var l=i[s],d=l.getSnapshot;l=l.value;try{if(!en(d(),l))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(e,n){for(n&=~vu,n&=~xs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=-1,n&=~s}}function vp(e){if((ye&6)!==0)throw Error(o(327));mi();var n=Jo(e,0);if((n&1)===0)return Rt(e,$e()),null;var i=$s(e,n);if(e.tag!==0&&i===2){var s=el(e);s!==0&&(n=s,i=Au(e,s))}if(i===1)throw i=go,Mr(e,0),or(e,n),Rt(e,$e()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Lr(e,Pt,Un),Rt(e,$e()),null}function wu(e,n){var i=ye;ye|=1;try{return e(n)}finally{ye=i,ye===0&&(gi=$e()+500,ys&&Zn())}}function Or(e){rr!==null&&rr.tag===0&&(ye&6)===0&&mi();var n=ye;ye|=1;var i=Vt.transition,s=Ce;try{if(Vt.transition=null,Ce=1,e)return e()}finally{Ce=s,Vt.transition=i,ye=n,(ye&6)===0&&Zn()}}function Iu(){Ft=hi.current,Ue(hi)}function Mr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,f0(i)),be!==null)for(i=be.return;i!==null;){var s=i;switch(Ml(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ms();break;case 3:di(),Ue(It),Ue(dt),Vl();break;case 5:Yl(s);break;case 4:di();break;case 13:Ue(ze);break;case 19:Ue(ze);break;case 10:xl(s.type._context);break;case 22:case 23:Iu()}i=i.return}if(it=e,be=e=sr(e.current,null),lt=Ft=n,et=0,go=null,vu=xs=Nr=0,Pt=mo=null,Rr!==null){for(n=0;n<Rr.length;n++)if(i=Rr[n],s=i.interleaved,s!==null){i.interleaved=null;var l=s.next,d=i.pending;if(d!==null){var h=d.next;d.next=l,s.next=h}i.pending=s}Rr=null}return e}function yp(e,n){do{var i=be;try{if(Bl(),Rs.current=Os,ks){for(var s=We.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ks=!1}if(Dr=0,rt=Je=We=null,lo=!1,uo=0,mu.current=null,i===null||i.return===null){et=1,go=n,be=null;break}e:{var d=e,h=i.return,m=i,S=n;if(n=lt,m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var R=S,F=m,H=F.tag;if((F.mode&1)===0&&(H===0||H===11||H===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var Y=jf(h);if(Y!==null){Y.flags&=-257,Yf(Y,h,m,d,n),Y.mode&1&&Wf(d,R,n),n=Y,S=R;var Q=n.updateQueue;if(Q===null){var b=new Set;b.add(S),n.updateQueue=b}else Q.add(S);break e}else{if((n&1)===0){Wf(d,R,n),Tu();break e}S=Error(o(426))}}else if(Be&&m.mode&1){var Ve=jf(h);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Yf(Ve,h,m,d,n),Fl(fi(S,m));break e}}d=S=fi(S,m),et!==4&&(et=2),mo===null?mo=[d]:mo.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var I=Gf(d,S,n);pf(d,I);break e;case 1:m=S;var A=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(nr===null||!nr.has(C)))){d.flags|=65536,n&=-n,d.lanes|=n;var G=zf(d,m,n);pf(d,G);break e}}d=d.return}while(d!==null)}Ap(i)}catch(Z){n=Z,be===i&&i!==null&&(be=i=i.return);continue}break}while(!0)}function Sp(){var e=Bs.current;return Bs.current=Os,e===null?Os:e}function Tu(){(et===0||et===3||et===2)&&(et=4),it===null||(Nr&268435455)===0&&(xs&268435455)===0||or(it,lt)}function $s(e,n){var i=ye;ye|=2;var s=Sp();(it!==e||lt!==n)&&(Un=null,Mr(e,n));do try{H0();break}catch(l){yp(e,l)}while(!0);if(Bl(),ye=i,Bs.current=s,be!==null)throw Error(o(261));return it=null,lt=0,et}function H0(){for(;be!==null;)Ep(be)}function B0(){for(;be!==null&&!um();)Ep(be)}function Ep(e){var n=Ip(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,n===null?Ap(e):be=n,mu.current=null}function Ap(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=D0(i,n,Ft),i!==null){be=i;return}}else{if(i=N0(i,n),i!==null){i.flags&=32767,be=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,be=null;return}}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);et===0&&(et=5)}function Lr(e,n,i){var s=Ce,l=Vt.transition;try{Vt.transition=null,Ce=1,x0(e,n,i,s)}finally{Vt.transition=l,Ce=s}return null}function x0(e,n,i,s){do mi();while(rr!==null);if((ye&6)!==0)throw Error(o(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Sm(e,d),e===it&&(be=it=null,lt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||zs||(zs=!0,Tp(Qo,function(){return mi(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Vt.transition,Vt.transition=null;var h=Ce;Ce=1;var m=ye;ye|=4,mu.current=null,M0(e,i),dp(i,e),o0(Tl),ns=!!Il,Tl=Il=null,e.current=i,L0(i),cm(),ye=m,Ce=h,Vt.transition=d}else e.current=i;if(zs&&(zs=!1,rr=e,Ws=l),d=e.pendingLanes,d===0&&(nr=null),pm(i.stateNode),Rt(e,$e()),n!==null)for(s=e.onRecoverableError,i=0;i<n.length;i++)l=n[i],s(l.value,{componentStack:l.stack,digest:l.digest});if(Gs)throw Gs=!1,e=Su,Su=null,e;return(Ws&1)!==0&&e.tag!==0&&mi(),d=e.pendingLanes,(d&1)!==0?e===Eu?vo++:(vo=0,Eu=e):vo=0,Zn(),null}function mi(){if(rr!==null){var e=ld(Ws),n=Vt.transition,i=Ce;try{if(Vt.transition=null,Ce=16>e?16:e,rr===null)var s=!1;else{if(e=rr,rr=null,Ws=0,(ye&6)!==0)throw Error(o(331));var l=ye;for(ye|=4,K=e.current;K!==null;){var d=K,h=d.child;if((K.flags&16)!==0){var m=d.deletions;if(m!==null){for(var S=0;S<m.length;S++){var R=m[S];for(K=R;K!==null;){var F=K;switch(F.tag){case 0:case 11:case 15:ho(8,F,d)}var H=F.child;if(H!==null)H.return=F,K=H;else for(;K!==null;){F=K;var U=F.sibling,Y=F.return;if(sp(F),F===R){K=null;break}if(U!==null){U.return=Y,K=U;break}K=Y}}}var Q=d.alternate;if(Q!==null){var b=Q.child;if(b!==null){Q.child=null;do{var Ve=b.sibling;b.sibling=null,b=Ve}while(b!==null)}}K=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,K=h;else e:for(;K!==null;){if(d=K,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ho(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,K=I;break e}K=d.return}}var A=e.current;for(K=A;K!==null;){h=K;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,K=C;else e:for(h=A;K!==null;){if(m=K,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Hs(9,m)}}catch(Z){je(m,m.return,Z)}if(m===h){K=null;break e}var G=m.sibling;if(G!==null){G.return=m.return,K=G;break e}K=m.return}}if(ye=l,Zn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(bo,e)}catch{}s=!0}return s}finally{Ce=i,Vt.transition=n}}return!1}function _p(e,n,i){n=fi(i,n),n=Gf(e,n,1),e=er(e,n,1),n=Et(),e!==null&&(Gi(e,1,n),Rt(e,n))}function je(e,n,i){if(e.tag===3)_p(e,e,i);else for(;n!==null;){if(n.tag===3){_p(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nr===null||!nr.has(s))){e=fi(i,e),e=zf(n,e,1),n=er(n,e,1),e=Et(),n!==null&&(Gi(n,1,e),Rt(n,e));break}}n=n.return}}function G0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),n=Et(),e.pingedLanes|=e.suspendedLanes&i,it===e&&(lt&i)===i&&(et===4||et===3&&(lt&130023424)===lt&&500>$e()-yu?Mr(e,0):vu|=i),Rt(e,n)}function wp(e,n){n===0&&((e.mode&1)===0?n=1:(n=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var i=Et();e=On(e,n),e!==null&&(Gi(e,n,i),Rt(e,i))}function z0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),wp(e,i)}function W0(e,n){var i=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(n),wp(e,i)}var Ip;Ip=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||It.current)Ct=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Ct=!1,k0(e,n,i);Ct=(e.flags&131072)!==0}else Ct=!1,Be&&(n.flags&1048576)!==0&&nf(n,Es,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;Us(e,n),e=n.pendingProps;var l=ii(n,dt.current);ci(n,i),l=Ql(null,n,s,e,l,i);var d=bl();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Tt(s)?(d=!0,vs(n)):d=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Wl(n),l.updater=Ms,n.stateNode=l,l._reactInternals=n,nu(n,s,e,i),n=su(null,n,s,!0,d,i)):(n.tag=0,Be&&d&&Ol(n),St(null,n,l,i),n=n.child),n;case 16:s=n.elementType;e:{switch(Us(e,n),e=n.pendingProps,l=s._init,s=l(s._payload),n.type=s,l=n.tag=Y0(s),e=nn(s,e),l){case 0:n=ou(null,n,s,e,i);break e;case 1:n=bf(null,n,s,e,i);break e;case 11:n=$f(null,n,s,e,i);break e;case 14:n=Vf(null,n,s,nn(s.type,e),i);break e}throw Error(o(306,s,""))}return n;case 0:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:nn(s,l),ou(e,n,s,l,i);case 1:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:nn(s,l),bf(e,n,s,l,i);case 3:e:{if(qf(n),e===null)throw Error(o(387));s=n.pendingProps,d=n.memoizedState,l=d.element,ff(e,n),Cs(n,s,null,i);var h=n.memoizedState;if(s=h.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){l=fi(Error(o(423)),n),n=Zf(e,n,s,i,l);break e}else if(s!==l){l=fi(Error(o(424)),n),n=Zf(e,n,s,i,l);break e}else for(Ut=Qn(n.stateNode.containerInfo.firstChild),Lt=n,Be=!0,tn=null,i=cf(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ai(),s===l){n=Ln(e,n,i);break e}St(e,n,s,i)}n=n.child}return n;case 5:return gf(n),e===null&&Ul(n),s=n.type,l=n.pendingProps,d=e!==null?e.memoizedProps:null,h=l.children,Cl(s,l)?h=null:d!==null&&Cl(s,d)&&(n.flags|=32),Qf(e,n),St(e,n,h,i),n.child;case 6:return e===null&&Ul(n),null;case 13:return Jf(e,n,i);case 4:return jl(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=li(n,null,s,i):St(e,n,s,i),n.child;case 11:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:nn(s,l),$f(e,n,s,l,i);case 7:return St(e,n,n.pendingProps,i),n.child;case 8:return St(e,n,n.pendingProps.children,i),n.child;case 12:return St(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(s=n.type._context,l=n.pendingProps,d=n.memoizedProps,h=l.value,Oe(ws,s._currentValue),s._currentValue=h,d!==null)if(en(d.value,h)){if(d.children===l.children&&!It.current){n=Ln(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){h=d.child;for(var S=m.firstContext;S!==null;){if(S.context===s){if(d.tag===1){S=Mn(-1,i&-i),S.tag=2;var R=d.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?S.next=S:(S.next=F.next,F.next=S),R.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),Gl(d.return,i,n),m.lanes|=i;break}S=S.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=i,m=h.alternate,m!==null&&(m.lanes|=i),Gl(h,i,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}St(e,n,l.children,i),n=n.child}return n;case 9:return l=n.type,s=n.pendingProps.children,ci(n,i),l=Yt(l),s=s(l),n.flags|=1,St(e,n,s,i),n.child;case 14:return s=n.type,l=nn(s,n.pendingProps),l=nn(s.type,l),Vf(e,n,s,l,i);case 15:return Kf(e,n,n.type,n.pendingProps,i);case 17:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:nn(s,l),Us(e,n),n.tag=1,Tt(s)?(e=!0,vs(n)):e=!1,ci(n,i),Bf(n,s,l),nu(n,s,l,i),su(null,n,s,!0,e,i);case 19:return tp(e,n,i);case 22:return Xf(e,n,i)}throw Error(o(156,n.tag))};function Tp(e,n){return rd(e,n)}function j0(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,n,i,s){return new j0(e,n,i,s)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y0(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ne)return 11;if(e===Ae)return 14}return 2}function sr(e,n){var i=e.alternate;return i===null?(i=Kt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Vs(e,n,i,s,l,d){var h=2;if(s=e,typeof e=="function")Cu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case D:return Ur(i.children,l,d,n);case oe:h=8,l|=8;break;case Ie:return e=Kt(12,i,n,l|2),e.elementType=Ie,e.lanes=d,e;case Ee:return e=Kt(13,i,n,l),e.elementType=Ee,e.lanes=d,e;case Ye:return e=Kt(19,i,n,l),e.elementType=Ye,e.lanes=d,e;case se:return Ks(i,l,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case De:h=10;break e;case ct:h=9;break e;case Ne:h=11;break e;case Ae:h=14;break e;case he:h=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Kt(h,i,n,l),n.elementType=e,n.type=s,n.lanes=d,n}function Ur(e,n,i,s){return e=Kt(7,e,s,n),e.lanes=i,e}function Ks(e,n,i,s){return e=Kt(22,e,s,n),e.elementType=se,e.lanes=i,e.stateNode={isHidden:!1},e}function Pu(e,n,i){return e=Kt(6,e,null,n),e.lanes=i,e}function Ru(e,n,i){return n=Kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function $0(e,n,i,s,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ku(e,n,i,s,l,d,h,m,S){return e=new $0(e,n,i,m,S),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Kt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(d),e}function V0(e,n,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:s==null?null:""+s,children:e,containerInfo:n,implementation:i}}function Cp(e){if(!e)return qn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Tt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Tt(i))return Jd(e,i,n)}return n}function Pp(e,n,i,s,l,d,h,m,S){return e=ku(i,s,!0,e,l,d,h,m,S),e.context=Cp(null),i=e.current,s=Et(),l=ir(i),d=Mn(s,l),d.callback=n??null,er(i,d,l),e.current.lanes=l,Gi(e,l,s),Rt(e,s),e}function Xs(e,n,i,s){var l=n.current,d=Et(),h=ir(l);return i=Cp(i),n.context===null?n.context=i:n.pendingContext=i,n=Mn(d,h),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=er(l,n,h),e!==null&&(sn(e,l,h,d),Ts(e,l,h)),h}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Du(e,n){Rp(e,n),(e=e.alternate)&&Rp(e,n)}function K0(){return null}var kp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nu(e){this._internalRoot=e}bs.prototype.render=Nu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));Xs(e,n,null,null)},bs.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Or(function(){Xs(null,e,null,null)}),n[Rn]=null}};function bs(e){this._internalRoot=e}bs.prototype.unstable_scheduleHydration=function(e){if(e){var n=dd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&hd(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function X0(e,n,i,s,l){if(l){if(typeof s=="function"){var d=s;s=function(){var R=Qs(h);d.call(R)}}var h=Pp(n,s,e,0,null,!1,!1,"",Dp);return e._reactRootContainer=h,e[Rn]=h.current,eo(e.nodeType===8?e.parentNode:e),Or(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var m=s;s=function(){var R=Qs(S);m.call(R)}}var S=ku(e,0,!1,null,null,!1,!1,"",Dp);return e._reactRootContainer=S,e[Rn]=S.current,eo(e.nodeType===8?e.parentNode:e),Or(function(){Xs(n,S,i,s)}),S}function Zs(e,n,i,s,l){var d=i._reactRootContainer;if(d){var h=d;if(typeof l=="function"){var m=l;l=function(){var S=Qs(h);m.call(S)}}Xs(n,h,e,l)}else h=X0(i,n,e,l,s);return Qs(h)}ud=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=xi(n.pendingLanes);i!==0&&(nl(n,i|1),Rt(n,$e()),(ye&6)===0&&(gi=$e()+500,Zn()))}break;case 13:Or(function(){var s=On(e,1);if(s!==null){var l=Et();sn(s,e,1,l)}}),Du(e,1)}},rl=function(e){if(e.tag===13){var n=On(e,134217728);if(n!==null){var i=Et();sn(n,e,134217728,i)}Du(e,134217728)}},cd=function(e){if(e.tag===13){var n=ir(e),i=On(e,n);if(i!==null){var s=Et();sn(i,e,n,s)}Du(e,n)}},dd=function(){return Ce},fd=function(e,n){var i=Ce;try{return Ce=e,n()}finally{Ce=i}},Qa=function(e,n,i){switch(n){case"input":if(Pn(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var l=gs(s);if(!l)throw Error(o(90));ce(s),Pn(s,l)}}}break;case"textarea":zc(e,i);break;case"select":n=i.value,n!=null&&Wn(e,!!i.multiple,n,!1)}},bc=wu,qc=Or;var Q0={usingClientEntryPoint:!1,Events:[ro,ni,gs,Xc,Qc,wu]},yo={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b0={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=td(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||K0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{bo=Js.inject(b0),fn=Js}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0,kt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(n))throw Error(o(200));return V0(e,n,null,i)},kt.createRoot=function(e,n){if(!Ou(e))throw Error(o(299));var i=!1,s="",l=kp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=ku(e,1,!1,null,null,i,!1,s,l),e[Rn]=n.current,eo(e.nodeType===8?e.parentNode:e),new Nu(n)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=td(n),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Or(e)},kt.hydrate=function(e,n,i){if(!qs(n))throw Error(o(200));return Zs(null,e,n,!0,i)},kt.hydrateRoot=function(e,n,i){if(!Ou(e))throw Error(o(405));var s=i!=null&&i.hydratedSources||null,l=!1,d="",h=kp;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),n=Pp(n,null,e,1,i??null,l,!1,d,h),e[Rn]=n.current,eo(e),s)for(e=0;e<s.length;e++)i=s[e],l=i._getVersion,l=l(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,l]:n.mutableSourceEagerHydrationData.push(i,l);return new bs(n)},kt.render=function(e,n,i){if(!qs(n))throw Error(o(200));return Zs(null,e,n,!1,i)},kt.unmountComponentAtNode=function(e){if(!qs(e))throw Error(o(40));return e._reactRootContainer?(Or(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1},kt.unstable_batchedUpdates=wu,kt.unstable_renderSubtreeIntoContainer=function(e,n,i,s){if(!qs(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Zs(e,n,i,!1,s)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Bp;function sv(){if(Bp)return Uu.exports;Bp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Uu.exports=ov(),Uu.exports}var xp;function av(){if(xp)return ea;xp=1;var t=sv();return ea.createRoot=t.createRoot,ea.hydrateRoot=t.hydrateRoot,ea}var lv=av();const uv=jh(lv),Yh=Re.createContext(void 0),cv=({initialAppState:t,children:r})=>{const[o,a]=Re.useState(t),[u,c]=Re.useState(void 0),f=(p,g)=>{a(p),p==="gameOver"&&g?c(g):p!=="gameOver"&&c(void 0)};return ke.jsx(Yh.Provider,{value:{appState:o,setAppState:f,gameOverDetails:u},children:r})},Ra=()=>{const t=Re.useContext(Yh);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var vt=function(){return vt=Object.assign||function(r){for(var o,a=1,u=arguments.length;a<u;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},vt.apply(this,arguments)};function Lo(t,r,o){if(o||arguments.length===2)for(var a=0,u=r.length,c;a<u;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return t.concat(c||Array.prototype.slice.call(r))}var Fe="-ms-",Do="-moz-",Te="-webkit-",$h="comm",ka="rule",yc="decl",dv="@import",Vh="@keyframes",fv="@layer",Kh=Math.abs,Sc=String.fromCharCode,tc=Object.assign;function pv(t,r){return st(t,0)^45?(((r<<2^st(t,0))<<2^st(t,1))<<2^st(t,2))<<2^st(t,3):0}function Xh(t){return t.trim()}function Hn(t,r){return(t=r.exec(t))?t[0]:t}function pe(t,r,o){return t.replace(r,o)}function ua(t,r,o){return t.indexOf(r,o)}function st(t,r){return t.charCodeAt(r)|0}function Ii(t,r,o){return t.slice(r,o)}function Sn(t){return t.length}function Qh(t){return t.length}function Co(t,r){return r.push(t),t}function hv(t,r){return t.map(r).join("")}function Gp(t,r){return t.filter(function(o){return!Hn(o,r)})}var Da=1,Ti=1,bh=0,bt=0,qe=0,Oi="";function Na(t,r,o,a,u,c,f,p){return{value:t,root:r,parent:o,type:a,props:u,children:c,line:Da,column:Ti,length:f,return:"",siblings:p}}function pr(t,r){return tc(Na("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function vi(t){for(;t.root;)t=pr(t.root,{children:[t]});Co(t,t.siblings)}function gv(){return qe}function mv(){return qe=bt>0?st(Oi,--bt):0,Ti--,qe===10&&(Ti=1,Da--),qe}function ln(){return qe=bt<bh?st(Oi,bt++):0,Ti++,qe===10&&(Ti=1,Da++),qe}function zr(){return st(Oi,bt)}function ca(){return bt}function Oa(t,r){return Ii(Oi,t,r)}function nc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vv(t){return Da=Ti=1,bh=Sn(Oi=t),bt=0,[]}function yv(t){return Oi="",t}function Bu(t){return Xh(Oa(bt-1,rc(t===91?t+2:t===40?t+1:t)))}function Sv(t){for(;(qe=zr())&&qe<33;)ln();return nc(t)>2||nc(qe)>3?"":" "}function Ev(t,r){for(;--r&&ln()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return Oa(t,ca()+(r<6&&zr()==32&&ln()==32))}function rc(t){for(;ln();)switch(qe){case t:return bt;case 34:case 39:t!==34&&t!==39&&rc(qe);break;case 40:t===41&&rc(t);break;case 92:ln();break}return bt}function Av(t,r){for(;ln()&&t+qe!==57;)if(t+qe===84&&zr()===47)break;return"/*"+Oa(r,bt-1)+"*"+Sc(t===47?t:ln())}function _v(t){for(;!nc(zr());)ln();return Oa(t,bt)}function wv(t){return yv(da("",null,null,null,[""],t=vv(t),0,[0],t))}function da(t,r,o,a,u,c,f,p,g){for(var v=0,y=0,E=f,P=0,T=0,N=0,O=1,w=1,k=1,W=0,B="",x=u,q=c,L=a,D=B;w;)switch(N=W,W=ln()){case 40:if(N!=108&&st(D,E-1)==58){ua(D+=pe(Bu(W),"&","&\f"),"&\f",Kh(v?p[v-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:D+=Bu(W);break;case 9:case 10:case 13:case 32:D+=Sv(N);break;case 92:D+=Ev(ca()-1,7);continue;case 47:switch(zr()){case 42:case 47:Co(Iv(Av(ln(),ca()),r,o,g),g);break;default:D+="/"}break;case 123*O:p[v++]=Sn(D)*k;case 125*O:case 59:case 0:switch(W){case 0:case 125:w=0;case 59+y:k==-1&&(D=pe(D,/\f/g,"")),T>0&&Sn(D)-E&&Co(T>32?Wp(D+";",a,o,E-1,g):Wp(pe(D," ","")+";",a,o,E-2,g),g);break;case 59:D+=";";default:if(Co(L=zp(D,r,o,v,y,u,p,B,x=[],q=[],E,c),c),W===123)if(y===0)da(D,r,L,L,x,c,E,p,q);else switch(P===99&&st(D,3)===110?100:P){case 100:case 108:case 109:case 115:da(t,L,L,a&&Co(zp(t,L,L,0,0,u,p,B,u,x=[],E,q),q),u,q,E,p,a?x:q);break;default:da(D,L,L,L,[""],q,0,p,q)}}v=y=T=0,O=k=1,B=D="",E=f;break;case 58:E=1+Sn(D),T=N;default:if(O<1){if(W==123)--O;else if(W==125&&O++==0&&mv()==125)continue}switch(D+=Sc(W),W*O){case 38:k=y>0?1:(D+="\f",-1);break;case 44:p[v++]=(Sn(D)-1)*k,k=1;break;case 64:zr()===45&&(D+=Bu(ln())),P=zr(),y=E=Sn(B=D+=_v(ca())),W++;break;case 45:N===45&&Sn(D)==2&&(O=0)}}return c}function zp(t,r,o,a,u,c,f,p,g,v,y,E){for(var P=u-1,T=u===0?c:[""],N=Qh(T),O=0,w=0,k=0;O<a;++O)for(var W=0,B=Ii(t,P+1,P=Kh(w=f[O])),x=t;W<N;++W)(x=Xh(w>0?T[W]+" "+B:pe(B,/&\f/g,T[W])))&&(g[k++]=x);return Na(t,r,o,u===0?ka:p,g,v,y,E)}function Iv(t,r,o,a){return Na(t,r,o,$h,Sc(gv()),Ii(t,2,-2),0,a)}function Wp(t,r,o,a,u){return Na(t,r,o,yc,Ii(t,0,a),Ii(t,a+1,-1),a,u)}function qh(t,r,o){switch(pv(t,r)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 4789:return Do+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Do+t+Fe+t+t;case 5936:switch(st(t,r+11)){case 114:return Te+t+Fe+pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+Fe+pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+Fe+pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Te+t+Fe+t+t;case 6165:return Te+t+Fe+"flex-"+t+t;case 5187:return Te+t+pe(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Fe+"flex-$1$2")+t;case 5443:return Te+t+Fe+"flex-item-"+pe(t,/flex-|-self/g,"")+(Hn(t,/flex-|baseline/)?"":Fe+"grid-row-"+pe(t,/flex-|-self/g,""))+t;case 4675:return Te+t+Fe+"flex-line-pack"+pe(t,/align-content|flex-|-self/g,"")+t;case 5548:return Te+t+Fe+pe(t,"shrink","negative")+t;case 5292:return Te+t+Fe+pe(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+pe(t,"-grow","")+Te+t+Fe+pe(t,"grow","positive")+t;case 4554:return Te+pe(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return pe(pe(pe(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return pe(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return pe(pe(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Fe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4200:if(!Hn(t,/flex-|baseline/))return Fe+"grid-column-align"+Ii(t,r)+t;break;case 2592:case 3360:return Fe+pe(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(a,u){return r=u,Hn(a.props,/grid-\w+-end/)})?~ua(t+(o=o[r].value),"span",0)?t:Fe+pe(t,"-start","")+t+Fe+"grid-row-span:"+(~ua(o,"span",0)?Hn(o,/\d+/):+Hn(o,/\d+/)-+Hn(t,/\d+/))+";":Fe+pe(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(a){return Hn(a.props,/grid-\w+-start/)})?t:Fe+pe(pe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return pe(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sn(t)-1-r>6)switch(st(t,r+1)){case 109:if(st(t,r+4)!==45)break;case 102:return pe(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Do+(st(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~ua(t,"stretch",0)?qh(pe(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return pe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,u,c,f,p,g,v){return Fe+u+":"+c+v+(f?Fe+u+"-span:"+(p?g:+g-+c)+v:"")+t});case 4949:if(st(t,r+6)===121)return pe(t,":",":"+Te)+t;break;case 6444:switch(st(t,st(t,14)===45?18:11)){case 120:return pe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(st(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Fe+"$2box$3")+t;case 100:return pe(t,":",":"+Fe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return pe(t,"scroll-","scroll-snap-")+t}return t}function va(t,r){for(var o="",a=0;a<t.length;a++)o+=r(t[a],a,t,r)||"";return o}function Tv(t,r,o,a){switch(t.type){case fv:if(t.children.length)break;case dv:case yc:return t.return=t.return||t.value;case $h:return"";case Vh:return t.return=t.value+"{"+va(t.children,a)+"}";case ka:if(!Sn(t.value=t.props.join(",")))return""}return Sn(o=va(t.children,a))?t.return=t.value+"{"+o+"}":""}function Cv(t){var r=Qh(t);return function(o,a,u,c){for(var f="",p=0;p<r;p++)f+=t[p](o,a,u,c)||"";return f}}function Pv(t){return function(r){r.root||(r=r.return)&&t(r)}}function Rv(t,r,o,a){if(t.length>-1&&!t.return)switch(t.type){case yc:t.return=qh(t.value,t.length,o);return;case Vh:return va([pr(t,{value:pe(t.value,"@","@"+Te)})],a);case ka:if(t.length)return hv(o=t.props,function(u){switch(Hn(u,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vi(pr(t,{props:[pe(u,/:(read-\w+)/,":"+Do+"$1")]})),vi(pr(t,{props:[u]})),tc(t,{props:Gp(o,a)});break;case"::placeholder":vi(pr(t,{props:[pe(u,/:(plac\w+)/,":"+Te+"input-$1")]})),vi(pr(t,{props:[pe(u,/:(plac\w+)/,":"+Do+"$1")]})),vi(pr(t,{props:[pe(u,/:(plac\w+)/,Fe+"input-$1")]})),vi(pr(t,{props:[u]})),tc(t,{props:Gp(o,a)});break}return""})}}var kv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bt={},Ci=typeof process<"u"&&Bt!==void 0&&(Bt.REACT_APP_SC_ATTR||Bt.SC_ATTR)||"data-styled",Zh="active",Jh="data-styled-version",Ma="6.1.13",Ec=`/*!sc*/
`,ya=typeof window<"u"&&"HTMLElement"in window,Dv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==""?Bt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Bt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.SC_DISABLE_SPEEDY!==void 0&&Bt.SC_DISABLE_SPEEDY!==""&&Bt.SC_DISABLE_SPEEDY!=="false"&&Bt.SC_DISABLE_SPEEDY),Nv={},La=Object.freeze([]),Pi=Object.freeze({});function eg(t,r,o){return o===void 0&&(o=Pi),t.theme!==o.theme&&t.theme||r||o.theme}var tg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ov=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Mv=/(^-|-$)/g;function jp(t){return t.replace(Ov,"-").replace(Mv,"")}var Lv=/(a)(d)/gi,ta=52,Yp=function(t){return String.fromCharCode(t+(t>25?39:97))};function ic(t){var r,o="";for(r=Math.abs(t);r>ta;r=r/ta|0)o=Yp(r%ta)+o;return(Yp(r%ta)+o).replace(Lv,"$1-$2")}var xu,ng=5381,Ai=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},rg=function(t){return Ai(ng,t)};function ig(t){return ic(rg(t)>>>0)}function Uv(t){return t.displayName||t.name||"Component"}function Gu(t){return typeof t=="string"&&!0}var og=typeof Symbol=="function"&&Symbol.for,sg=og?Symbol.for("react.memo"):60115,Fv=og?Symbol.for("react.forward_ref"):60112,Hv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Bv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ag={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xv=((xu={})[Fv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xu[sg]=ag,xu);function $p(t){return("type"in(r=t)&&r.type.$$typeof)===sg?ag:"$$typeof"in t?xv[t.$$typeof]:Hv;var r}var Gv=Object.defineProperty,zv=Object.getOwnPropertyNames,Vp=Object.getOwnPropertySymbols,Wv=Object.getOwnPropertyDescriptor,jv=Object.getPrototypeOf,Kp=Object.prototype;function lg(t,r,o){if(typeof r!="string"){if(Kp){var a=jv(r);a&&a!==Kp&&lg(t,a,o)}var u=zv(r);Vp&&(u=u.concat(Vp(r)));for(var c=$p(t),f=$p(r),p=0;p<u.length;++p){var g=u[p];if(!(g in Bv||o&&o[g]||f&&g in f||c&&g in c)){var v=Wv(r,g);try{Gv(t,g,v)}catch{}}}}return t}function Ri(t){return typeof t=="function"}function Ac(t){return typeof t=="object"&&"styledComponentId"in t}function xr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function oc(t,r){if(t.length===0)return"";for(var o=t[0],a=1;a<t.length;a++)o+=t[a];return o}function Uo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function sc(t,r,o){if(o===void 0&&(o=!1),!o&&!Uo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var a=0;a<r.length;a++)t[a]=sc(t[a],r[a]);else if(Uo(r))for(var a in r)t[a]=sc(t[a],r[a]);return t}function _c(t,r){Object.defineProperty(t,"toString",{value:r})}function jo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Yv=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,a=0;a<r;a++)o+=this.groupSizes[a];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var a=this.groupSizes,u=a.length,c=u;r>=c;)if((c<<=1)<0)throw jo(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(a),this.length=c;for(var f=u;f<c;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(r+1),g=(f=0,o.length);f<g;f++)this.tag.insertRule(p,o[f])&&(this.groupSizes[r]++,p++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],a=this.indexOfGroup(r),u=a+o;this.groupSizes[r]=0;for(var c=a;c<u;c++)this.tag.deleteRule(a)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var a=this.groupSizes[r],u=this.indexOfGroup(r),c=u+a,f=u;f<c;f++)o+="".concat(this.tag.getRule(f)).concat(Ec);return o},t}(),fa=new Map,Sa=new Map,pa=1,na=function(t){if(fa.has(t))return fa.get(t);for(;Sa.has(pa);)pa++;var r=pa++;return fa.set(t,r),Sa.set(r,t),r},$v=function(t,r){pa=r+1,fa.set(t,r),Sa.set(r,t)},Vv="style[".concat(Ci,"][").concat(Jh,'="').concat(Ma,'"]'),Kv=new RegExp("^".concat(Ci,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Xv=function(t,r,o){for(var a,u=o.split(","),c=0,f=u.length;c<f;c++)(a=u[c])&&t.registerName(r,a)},Qv=function(t,r){for(var o,a=((o=r.textContent)!==null&&o!==void 0?o:"").split(Ec),u=[],c=0,f=a.length;c<f;c++){var p=a[c].trim();if(p){var g=p.match(Kv);if(g){var v=0|parseInt(g[1],10),y=g[2];v!==0&&($v(y,v),Xv(t,y,g[3]),t.getTag().insertRules(v,u)),u.length=0}else u.push(p)}}},Xp=function(t){for(var r=document.querySelectorAll(Vv),o=0,a=r.length;o<a;o++){var u=r[o];u&&u.getAttribute(Ci)!==Zh&&(Qv(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function bv(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ug=function(t){var r=document.head,o=t||r,a=document.createElement("style"),u=function(p){var g=Array.from(p.querySelectorAll("style[".concat(Ci,"]")));return g[g.length-1]}(o),c=u!==void 0?u.nextSibling:null;a.setAttribute(Ci,Zh),a.setAttribute(Jh,Ma);var f=bv();return f&&a.setAttribute("nonce",f),o.insertBefore(a,c),a},qv=function(){function t(r){this.element=ug(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,u=0,c=a.length;u<c;u++){var f=a[u];if(f.ownerNode===o)return f}throw jo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),Zv=function(){function t(r){this.element=ug(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),Jv=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),Qp=ya,ey={isServer:!ya,useCSSOMInjection:!Dv},Ea=function(){function t(r,o,a){r===void 0&&(r=Pi),o===void 0&&(o={});var u=this;this.options=vt(vt({},ey),r),this.gs=o,this.names=new Map(a),this.server=!!r.isServer,!this.server&&ya&&Qp&&(Qp=!1,Xp(this)),_c(this,function(){return function(c){for(var f=c.getTag(),p=f.length,g="",v=function(E){var P=function(k){return Sa.get(k)}(E);if(P===void 0)return"continue";var T=c.names.get(P),N=f.getGroup(E);if(T===void 0||!T.size||N.length===0)return"continue";var O="".concat(Ci,".g").concat(E,'[id="').concat(P,'"]'),w="";T!==void 0&&T.forEach(function(k){k.length>0&&(w+="".concat(k,","))}),g+="".concat(N).concat(O,'{content:"').concat(w,'"}').concat(Ec)},y=0;y<p;y++)v(y);return g}(u)})}return t.registerId=function(r){return na(r)},t.prototype.rehydrate=function(){!this.server&&ya&&Xp(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(vt(vt({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var a=o.useCSSOMInjection,u=o.target;return o.isServer?new Jv(u):a?new qv(u):new Zv(u)}(this.options),new Yv(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(na(r),this.names.has(r))this.names.get(r).add(o);else{var a=new Set;a.add(o),this.names.set(r,a)}},t.prototype.insertRules=function(r,o,a){this.registerName(r,o),this.getTag().insertRules(na(r),a)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(na(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),ty=/&/g,ny=/^\s*\/\/.*$/gm;function cg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(a){return"".concat(r," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=cg(o.children,r)),o})}function ry(t){var r,o,a,u=Pi,c=u.options,f=c===void 0?Pi:c,p=u.plugins,g=p===void 0?La:p,v=function(P,T,N){return N.startsWith(o)&&N.endsWith(o)&&N.replaceAll(o,"").length>0?".".concat(r):P},y=g.slice();y.push(function(P){P.type===ka&&P.value.includes("&")&&(P.props[0]=P.props[0].replace(ty,o).replace(a,v))}),f.prefix&&y.push(Rv),y.push(Tv);var E=function(P,T,N,O){T===void 0&&(T=""),N===void 0&&(N=""),O===void 0&&(O="&"),r=O,o=T,a=new RegExp("\\".concat(o,"\\b"),"g");var w=P.replace(ny,""),k=wv(N||T?"".concat(N," ").concat(T," { ").concat(w," }"):w);f.namespace&&(k=cg(k,f.namespace));var W=[];return va(k,Cv(y.concat(Pv(function(B){return W.push(B)})))),W};return E.hash=g.length?g.reduce(function(P,T){return T.name||jo(15),Ai(P,T.name)},ng).toString():"",E}var iy=new Ea,ac=ry(),dg=An.createContext({shouldForwardProp:void 0,styleSheet:iy,stylis:ac});dg.Consumer;An.createContext(void 0);function lc(){return Re.useContext(dg)}var oy=function(){function t(r,o){var a=this;this.inject=function(u,c){c===void 0&&(c=ac);var f=a.name+c.hash;u.hasNameForId(a.id,f)||u.insertRules(a.id,f,c(a.rules,f,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,_c(this,function(){throw jo(12,String(a.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=ac),this.name+r.hash},t}(),sy=function(t){return t>="A"&&t<="Z"};function bp(t){for(var r="",o=0;o<t.length;o++){var a=t[o];if(o===1&&a==="-"&&t[0]==="-")return t;sy(a)?r+="-"+a.toLowerCase():r+=a}return r.startsWith("ms-")?"-"+r:r}var fg=function(t){return t==null||t===!1||t===""},pg=function(t){var r,o,a=[];for(var u in t){var c=t[u];t.hasOwnProperty(u)&&!fg(c)&&(Array.isArray(c)&&c.isCss||Ri(c)?a.push("".concat(bp(u),":"),c,";"):Uo(c)?a.push.apply(a,Lo(Lo(["".concat(u," {")],pg(c),!1),["}"],!1)):a.push("".concat(bp(u),": ").concat((r=u,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in kv||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function vr(t,r,o,a){if(fg(t))return[];if(Ac(t))return[".".concat(t.styledComponentId)];if(Ri(t)){if(!Ri(c=t)||c.prototype&&c.prototype.isReactComponent||!r)return[t];var u=t(r);return vr(u,r,o,a)}var c;return t instanceof oy?o?(t.inject(o,a),[t.getName(a)]):[t]:Uo(t)?pg(t):Array.isArray(t)?Array.prototype.concat.apply(La,t.map(function(f){return vr(f,r,o,a)})):[t.toString()]}function hg(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Ri(o)&&!Ac(o))return!1}return!0}var ay=rg(Ma),ly=function(){function t(r,o,a){this.rules=r,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&hg(r),this.componentId=o,this.baseHash=Ai(ay,o),this.baseStyle=a,Ea.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,a){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=xr(u,this.staticRulesId);else{var c=oc(vr(this.rules,r,o,a)),f=ic(Ai(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var p=a(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,p)}u=xr(u,f),this.staticRulesId=f}else{for(var g=Ai(this.baseHash,a.hash),v="",y=0;y<this.rules.length;y++){var E=this.rules[y];if(typeof E=="string")v+=E;else if(E){var P=oc(vr(E,r,o,a));g=Ai(g,P+y),v+=P}}if(v){var T=ic(g>>>0);o.hasNameForId(this.componentId,T)||o.insertRules(this.componentId,T,a(v,".".concat(T),void 0,this.componentId)),u=xr(u,T)}}return u},t}(),wc=An.createContext(void 0);wc.Consumer;var zu={};function uy(t,r,o){var a=Ac(t),u=t,c=!Gu(t),f=r.attrs,p=f===void 0?La:f,g=r.componentId,v=g===void 0?function(x,q){var L=typeof x!="string"?"sc":jp(x);zu[L]=(zu[L]||0)+1;var D="".concat(L,"-").concat(ig(Ma+L+zu[L]));return q?"".concat(q,"-").concat(D):D}(r.displayName,r.parentComponentId):g,y=r.displayName,E=y===void 0?function(x){return Gu(x)?"styled.".concat(x):"Styled(".concat(Uv(x),")")}(t):y,P=r.displayName&&r.componentId?"".concat(jp(r.displayName),"-").concat(r.componentId):r.componentId||v,T=a&&u.attrs?u.attrs.concat(p).filter(Boolean):p,N=r.shouldForwardProp;if(a&&u.shouldForwardProp){var O=u.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;N=function(x,q){return O(x,q)&&w(x,q)}}else N=O}var k=new ly(o,P,a?u.componentStyle:void 0);function W(x,q){return function(L,D,oe){var Ie=L.attrs,De=L.componentStyle,ct=L.defaultProps,Ne=L.foldedComponentIds,Ee=L.styledComponentId,Ye=L.target,Ae=An.useContext(wc),he=lc(),se=L.shouldForwardProp||he.shouldForwardProp,z=eg(D,Ae,ct)||Pi,$=function(ge,le,fe){for(var de,X=vt(vt({},le),{className:void 0,theme:fe}),ne=0;ne<ge.length;ne+=1){var we=Ri(de=ge[ne])?de(X):de;for(var ce in we)X[ce]=ce==="className"?xr(X[ce],we[ce]):ce==="style"?vt(vt({},X[ce]),we[ce]):we[ce]}return le.className&&(X.className=xr(X.className,le.className)),X}(Ie,D,z),j=$.as||Ye,_={};for(var M in $)$[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&$.theme===z||(M==="forwardedAs"?_.as=$.forwardedAs:se&&!se(M,j)||(_[M]=$[M]));var V=function(ge,le){var fe=lc(),de=ge.generateAndInjectStyles(le,fe.styleSheet,fe.stylis);return de}(De,$),ae=xr(Ne,Ee);return V&&(ae+=" "+V),$.className&&(ae+=" "+$.className),_[Gu(j)&&!tg.has(j)?"class":"className"]=ae,_.ref=oe,Re.createElement(j,_)}(B,x,q)}W.displayName=E;var B=An.forwardRef(W);return B.attrs=T,B.componentStyle=k,B.displayName=E,B.shouldForwardProp=N,B.foldedComponentIds=a?xr(u.foldedComponentIds,u.styledComponentId):"",B.styledComponentId=P,B.target=a?u.target:t,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=a?function(q){for(var L=[],D=1;D<arguments.length;D++)L[D-1]=arguments[D];for(var oe=0,Ie=L;oe<Ie.length;oe++)sc(q,Ie[oe],!0);return q}({},u.defaultProps,x):x}}),_c(B,function(){return".".concat(B.styledComponentId)}),c&&lg(B,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function qp(t,r){for(var o=[t[0]],a=0,u=r.length;a<u;a+=1)o.push(r[a],t[a+1]);return o}var Zp=function(t){return Object.assign(t,{isCss:!0})};function gg(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Ri(t)||Uo(t))return Zp(vr(qp(La,Lo([t],r,!0))));var a=t;return r.length===0&&a.length===1&&typeof a[0]=="string"?vr(a):Zp(vr(qp(a,r)))}function uc(t,r,o){if(o===void 0&&(o=Pi),!r)throw jo(1,r);var a=function(u){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return t(r,o,gg.apply(void 0,Lo([u],c,!1)))};return a.attrs=function(u){return uc(t,r,vt(vt({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},a.withConfig=function(u){return uc(t,r,vt(vt({},o),u))},a}var mg=function(t){return uc(uy,t)},Er=mg;tg.forEach(function(t){Er[t]=mg(t)});var cy=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=hg(r),Ea.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,a,u){var c=u(oc(vr(this.rules,o,a,u)),""),f=this.componentId+r;a.insertRules(f,f,c)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,a,u){r>2&&Ea.registerId(this.componentId+r),this.removeStyles(r,a),this.createStyles(r,o,a,u)},t}();function dy(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=gg.apply(void 0,Lo([t],r,!1)),u="sc-global-".concat(ig(JSON.stringify(a))),c=new cy(a,u),f=function(g){var v=lc(),y=An.useContext(wc),E=An.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&p(E,g,v.styleSheet,y,v.stylis),An.useLayoutEffect(function(){if(!v.styleSheet.server)return p(E,g,v.styleSheet,y,v.stylis),function(){return c.removeStyles(E,v.styleSheet)}},[E,g,v.styleSheet,y,v.stylis]),null};function p(g,v,y,E,P){if(c.isStatic)c.renderStyles(g,Nv,y,P);else{var T=vt(vt({},v),{theme:eg(v,E,f.defaultProps)});c.renderStyles(g,T,y,P)}}return An.memo(f)}const fy=Er.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #000;
  text-align: center;
`,py=Er.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,hy=Er.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Jp=()=>{const{setAppState:t}=Ra();return ke.jsxs(fy,{children:[ke.jsx(py,{children:"Welcome to Tribe!"}),ke.jsx(hy,{onClick:()=>t("game"),children:"Start Game"})]})};function gy(t,r){var o=Re.useRef(null),a=Re.useRef(!1),u=Re.useRef(t);u.current=t;var c=Re.useCallback(function(p){a.current&&(u.current(p),o.current=requestAnimationFrame(c))},[]),f=Re.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(c))},function(){return a.current}]},[]);return Re.useEffect(function(){return f[0]},[]),f}function my(t,r,o,a,u){var f;(f=t.onExit)==null||f.call(t,a,r);const c=u.find(({id:p})=>p===r);return c!=null&&c.onEnter?c.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function vy(t,r){return r.find(({id:o})=>o===t)}function yy(t,r){return t!==r}function Sy(t){console.warn(`No handler found for state: ${t}`)}const No="bushGrowing",Br="bushFull",ha="bushSpreading",Fo="bushDying",_n=24,wn=10,Wu=3e3,ju=3e3,vg=2,Ey=5,Ay=3,_y=12,wy=940,Iy=.4,cc=20,eh=160,Ty=45,Cy=240,yg=10,Ho=80,Py=3,Eo=5,wt=150,Ic=wt*.8,Ry=wt*.2,nt=wt*.95,Wr=30,Sg=10,ky=10,Dy=.5,Nt=30,Zt=Nt*.75,Eg=50,Ny=20,Oy=Ho*.8,My=.7,Po=16,xt=40,Tc=35,Cc=16,Ly=72/3,th=24,Uy=1.25,Fy=1.5,cn=wt*.6,Yr=50,Hy=1,jr=350,Ag=Ho*.65,By=80,xy=50,Gy=1,zy=128,_g=10,nh=100,Wy=20,Ua=Nt,wg=.5,Ig=5,jy=5,Yy=.1,$y=.5,Vy=1.5,Ky=.25,Xy=2,Qy=45,by=.05,Tg=1,rh=10,ki=5,qy=.5,Zy=6,Jy=100,eS=300,tS=30,nS=0,rS=1,Gr=wt*.8,Cg=wt*.5,Fa=wt*.7,Ha=wt*.8,iS=80,Pc=.1,Di=150,Ba=100,Pg=100,Rg=250,xa=2,Ga=400,oS=1e3,kg=wt*.85,sS=100,Aa=200,aS=80,Dg=100,Ng=3,lS=10,Rc=500,_a=400,uS=10,cS=-5,Og=1.5,dS=1.5,fS=10,yr=10,kc=250,$r=.3,Dc=200,pS=-25,ih=-10,hS=-10,gS=.5,mS=.5,vS=.1,Sr=-50,yS=-5,Tn=30,Mg=Tn*.6,Nc="#4CAF50",Lg="#FF5722",Ug="#9C27B0",SS="#2196F3",Fg="#FFC107",ES="#FFD700",Hg="#DC143C",AS="#FFFFFF",_S=[5,5],Bg=5,oh=20,wS=20,IS=16,TS=10,CS=16,PS=16,sh=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],ah=8,RS="#FFFFFF",lr=18,Dt=15,kS="rgba(0, 0, 0, 0.7)",DS=4,ur=150,Ht=15,vn=10,_i="#555",NS="#f44336",OS="#4CAF50",MS="#2196F3",LS="#FFC107",Ao=16,US=9,Fr=32,ra=28,FS=10,HS=8,BS=8,xS=8,ia=28,oa=40,GS="rgba(255, 215, 0, 0.7)",zS="rgba(0, 0, 0, 0.3)",cr=10,lh=8,Yu=11,dr=20,$u=40,uh=5,WS=10,jS="#FFA500",YS="#808080",Oo=120,$S=30,VS=20,Vu="#2d3748",KS="#ffffff",Ku="#4a5568",XS=60,QS=-50,bS=10,ch=12,dh=10,qS="rgba(0, 0, 0, 0.5)",ZS="#4CAF50",JS="#F44336",eE="#FFC107",tE="#FFFFFF",nE="#FF6B6B",rE=5,iE="rgba(0, 0, 0, 0.5)",oE="#FFFFFF",sE=33,aE=400,lE=20,uE=10,cE="rgba(0, 0, 0, 0.7)",dE="#FFFFFF",Xu=20,fh=16,fE=.5,ph=5,xg="#FFD700",pE=40,hE=4,gE=3,mE=5,Ze=1,Ro=3,vE=70,hh=600,yE=1.5,SE=.1;function Qe(t,r,o,a,u){const c={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:a,entityId:u};return t.visualEffects.push(c),t.nextVisualEffectId++,c.id}var ve=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t))(ve||{}),dn=(t=>(t.Berry="berry",t.Meat="meat",t))(dn||{});const Gg={berry:"🍓",meat:"🥩"},EE={id:No,update:(t,r)=>{const{entity:o,updateContext:a}=r,u=a.deltaTime*(_n/wn);return o.age+=u,o.age>=o.lifespan?{nextState:Fo,data:{...t,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Qe(a.gameState,ve.BushClaimLost,o.position,Ze),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=_y&&o.food.length<o.maxFood&&(o.food.push({type:dn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Br,data:{...t,enteredAt:a.gameState.time,previousState:No}}:{nextState:No,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},AE={id:Br,update:(t,r)=>{const{entity:o,updateContext:a}=r,u=a.deltaTime*(_n/wn);return o.age+=u,o.age>=o.lifespan?{nextState:Fo,data:{...t,enteredAt:a.gameState.time,previousState:Br}}:o.food.length<o.maxFood?{nextState:No,data:{...t,enteredAt:a.gameState.time,previousState:Br}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Qe(a.gameState,ve.BushClaimLost,o.position,Ze),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=eh&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=eh&&Math.random()<o.spreadChance)?{nextState:ha,data:{...t,enteredAt:a.gameState.time,previousState:Br}}:{nextState:Br,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function Bn(t,r){return{x:t.x+r.x,y:t.y+r.y}}function _E(t,r){return{x:t.x-r.x,y:t.y-r.y}}function an(t,r){return{x:t.x*r,y:t.y*r}}function Bo(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function He(t){const r=Bo(t);return r===0?{x:0,y:0}:an(t,1/r)}function zg(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function Me(t,r,o,a){let u=r.x-t.x,c=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(c)>a/2&&(c=c-Math.sign(c)*a),{x:u,y:c}}function re(t,r,o,a){const u=Me(t,r,o,a);return Bo(u)}function wE(t,r){return t.x*r.x+t.y*r.y}function IE(t,r){const o=wE(t,r),a=Bo(t),u=Bo(r);if(a===0||u===0)return 0;const c=Math.max(-1,Math.min(1,o/(a*u)));return Math.acos(c)}function TE(t,r,o){const a=Math.max(0,Math.min(1,o)),u={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},c={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},f=Math.round(u.r+(c.r-u.r)*a),p=Math.round(u.g+(c.g-u.g)*a),g=Math.round(u.b+(c.b-u.b)*a),v=y=>("00"+y.toString(16)).slice(-2);return`#${v(f)}${v(p)}${v(g)}`}var En=(t=>(t.GatherFood="GatherFood",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.PlantBush="PlantBush",t.CallToAttack="CallToAttack",t))(En||{});const CE={GatherFood:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",PlantBush:"🌱",CallToAttack:"📢"};var Ei=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(Ei||{});const _o={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var In=(t=>(t.ToggleAutopilot="ToggleAutopilot",t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t))(In||{});function Wg(t,r){const o=[],a=t;if(r.food.length>0&&r.hunger>Ic&&o.push({type:En.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const f=Se(r,t,"berryBush",Nt,v=>v.food.length>0),p=Se(r,t,"humanCorpse",Nt,v=>v.food.length>0);let g=null;f&&p?g=re(r.position,f.position,t.mapDimensions.width,t.mapDimensions.height)<=re(r.position,p.position,t.mapDimensions.width,t.mapDimensions.height)?f:p:g=f||p,g&&o.push({type:En.GatherFood,action:"gathering",key:"e",targetEntity:g})}const u=Se(r,t,"human",Nt,f=>{const p=f;return(p.id!==r.id&&p.gender!==r.gender&&p.isAdult&&r.isAdult&&p.hunger<nt&&r.hunger<nt&&(p.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant&&p.age<=xt:!r.isPregnant&&r.age<=xt))??!1});u&&o.push({type:En.Procreate,action:"procreating",key:"r",targetEntity:u});const c=Se(r,t,"human",Ua,f=>f.id!==r.id);return c&&o.push({type:En.Attack,action:"attacking",key:"q",targetEntity:c}),r.food.filter(f=>f.type===dn.Berry).length>=ki&&o.push({type:En.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&Mi(r.position,r.id,a,kc).length>0&&o.push({type:En.CallToAttack,action:"callingToAttack",key:"v"}),o}function Yo(t,r,o,a){const u=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*r,f={x:Math.cos(u)*c,y:Math.sin(u)*c},p=Bn(t,f);return{x:(p.x%o+o)%o,y:(p.y%a+a)%a}}function dc(t,r,o){const a=r,u={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...a.search.human.byRect(u),...a.search.berryBush.byRect(u),...a.search.humanCorpse.byRect(u)];for(const f of c)if(re(t,f.position,r.mapDimensions.width,r.mapDimensions.height)<o+f.radius)return!0;return!1}function jg(t,r,o,a){const u=r.mapDimensions.width,c=r.mapDimensions.height;if(!dc(t,r,a))return t;const f=a;for(let p=f;p<=o;p+=f){const g=Math.ceil(2*Math.PI*p/f);for(let v=0;v<g;v++){const y=v/g*2*Math.PI,E={x:Math.cos(y)*p,y:Math.sin(y)*p},P=Bn(t,E),T={x:(P.x%u+u)%u,y:(P.y%c+c)%c};if(!dc(T,r,a))return T}}return null}function wa(t,r){const o=Se(t,r,"berryBush",void 0,u=>u.ownerId===t.id);return o?jg(o.position,r,Jy,tS):null}function Se(t,r,o,a,u){const c=r,f=a!==void 0?a:Math.max(r.mapDimensions.width,r.mapDimensions.height),p=c.search[o].byRadius(t.position,f);let g=null,v=f;for(const y of p){if(y.id===t.id||u&&!u(y))continue;const E=re(t.position,y.position,r.mapDimensions.width,r.mapDimensions.height);E<v&&(v=E,g=y)}return g}function za(t,r,o,a){return r.search[o].byRadius(t,a).length}function Oc(t,r){const o=r,a=o.search.human.byProperty("motherId",t),u=o.search.human.byProperty("fatherId",t);return a.length+u.length}function gh(t,r,o){return r.search.human.byRadius(t.position,o).filter(c=>{if(c.id===t.id||c.gender===t.gender||!c.isAdult||c.hunger>=nt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const f=c.id===t.motherId||c.id===t.fatherId,p=t.id===c.motherId||t.id===c.fatherId;return!f&&!p})}function fc(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),a=(u,c)=>u.age!==c.age?c.age-u.age:u.id-c.id;if(r.sort(a),r.length>0)return r[0];if(o.sort(a),o.length>0)return o[0]}function mr(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function qt(t,r){const o=t,a=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...a,...u]}function xn(t,r){var f;const a=r.search.human.byProperty("activeAction","attacking");let u=null,c=1/0;for(const p of a){if(p.attackTargetId!==t)continue;const g=re(p.position,((f=r.entities.entities.get(t))==null?void 0:f.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);g<c&&(u=p,c=g)}return u}function Wa(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const c=o.entities.entities.get(t.motherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(t.fatherId){const c=o.entities.entities.get(t.fatherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(r.motherId){const c=o.entities.entities.get(r.motherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}if(r.fatherId){const c=o.entities.entities.get(r.fatherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}return!1}function mh(t,r){var c,f;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,a=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((c=t.ancestorIds)==null?void 0:c.some(p=>r.ancestorIds.includes(p)))||((f=r.ancestorIds)==null?void 0:f.some(p=>t.ancestorIds.includes(p)));return o||a||u}function $o(t,r){const o=[];if(t.motherId){const a=r.entities.entities.get(t.motherId);a&&o.push(a)}if(t.fatherId){const a=r.entities.entities.get(t.fatherId);a&&o.push(a)}return o}function Yg(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const a=r.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function vh(t,r){var a;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(a=t.partnerIds)==null||a.forEach(u=>{const c=r.entities.entities.get(u);c&&o.add(c)}),qt(r,t).forEach(u=>o.add(u)),Array.from(o)}function $g(t,r,o,a){const c=r.search.human.byRadius(t.position,o);let f=null,p=1/0,g=1/0;for(const v of c){if(v.id===t.id||a&&!a(v))continue;let y=0;for(const P of r.entities.entities.values())P.type==="human"&&P.attackTargetId===v.id&&y++;const E=re(t.position,v.position,r.mapDimensions.width,r.mapDimensions.height);(y<p||y===p&&E<g)&&(p=y,g=E,f=v)}return f}let Qu=0;function Ia(){const t=sh[Qu];return Qu=(Qu+1)%sh.length,t}function Vg(t,r,o){r.leaderId=t.id,r.tribeBadge=t.tribeBadge,r.gender==="male"&&qt(o,r).forEach(a=>{var u;if(Vg(t,a,o),a.motherId&&((u=r.partnerIds)!=null&&u.includes(a.motherId))){const c=o.entities.entities.get(a.motherId);c&&(c.leaderId=t.id,c.tribeBadge=t.tribeBadge)}})}function PE(t,r){return r.search.human.byProperty("leaderId",t)}function Mi(t,r,o,a){return o.search.human.byRadius(t,a).filter(c=>c.leaderId!==r&&c.id!==r)}function Kg(t,r,o){const a=o.search.human.byProperty("leaderId",t);let u=0;for(const c of a)c.attackTargetId===r&&u++;return u}function RE(t,r){var c;const o=new Map,a=Array.from(t.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(c=o.get(f.leaderId))==null||c.members.push(f));const u=Array.from(o.values()).map(f=>{const p=t.entities.entities.get(f.leaderId),g=f.members.filter(y=>y.isAdult).length,v=f.members.length-g;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:g,childCount:v,isPlayerTribe:f.leaderId===r,leaderAge:(p==null?void 0:p.age)??0,leaderGender:(p==null?void 0:p.gender)??"male"}});return u.sort((f,p)=>f.isPlayerTribe?-1:p.isPlayerTribe?1:p.adultCount+p.childCount-(f.adultCount+f.childCount)),u}function Ta(t,r){const o=r.search.human.byProperty("leaderId",t),a=r.entities.entities.get(t);return a&&(o.some(u=>u.id===t)||o.push(a)),o}function Mc(t,r,o,a){const u=o.search.berryBush.byRadius(t,r),c=o.search.human.byRadius(t,r).filter(g=>g.leaderId!==a);let f=u.length*uS;f+=c.length*cS;let p;if(c.length>0){const g={};for(const y of c)y.leaderId&&(g[y.leaderId]=(g[y.leaderId]||0)+1);let v=0;for(const y in g)g[y]>v&&(v=g[y],p=parseInt(y,10))}return{score:f,occupyingTribeId:p}}function Ca(t,r,o){let a=-1/0,u=null;for(let c=0;c<t.mapDimensions.width;c+=o)for(let f=0;f<t.mapDimensions.height;f+=o){const p={x:c,y:f},{score:g,occupyingTribeId:v}=Mc(p,Rc/2,t,r);g>a&&(a=g,u={position:p,score:g,occupyingTribeId:v})}return u}function yh(t){return t.length===0?0:t.reduce((r,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,r+a},0)}function Lc(t,r){for(const o of t)if(r.search.human.byProperty("attackTargetId",o.id).filter(u=>u.leaderId!==o.leaderId).length>0)return!0;return!1}const kE={id:ha,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:u}=a,c=a.deltaTime*(_n/wn);if(o.age+=c,o.age>=o.lifespan)return{nextState:Fo,data:{...t,enteredAt:u.time,previousState:ha}};const f=Yo(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return dc(f,u,15)||Fc(u.entities,f,u.time),{nextState:Br,data:{...t,enteredAt:u.time,previousState:ha}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},DE={id:Fo,update:t=>({nextState:Fo,data:t}),onEnter:(t,r)=>(Hc(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},NE=[EE,AE,kE,DE],ut="humanIdle",Hr="humanMoving",ko="humanEating",ja="humanGathering",xo="humanProcreating",Ni="humanAttacking",ga="humanPlanting",OE={id:ut,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ni,data:{...t,enteredAt:a.gameState.time,previousState:ut,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=Ic?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Hr,data:{...t,enteredAt:a.gameState.time,previousState:ut,targetPosition:o.targetPosition}}:o.activeAction==="gathering"?{nextState:ja,data:{...t,enteredAt:a.gameState.time,previousState:ut,targetPosition:o.targetPosition}}:o.activeAction==="eating"?{nextState:ko,data:{...t,enteredAt:a.gameState.time,previousState:ut}}:o.activeAction==="planting"&&o.targetPosition?{nextState:ga,data:{...t,enteredAt:a.gameState.time,previousState:ut,plantingSpot:o.targetPosition}}:{nextState:ut,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function Xg(t){let r=ky;return t.hunger>=Ic&&(r*=Dy),t.age>=Oy&&(r*=My),r}const bu=5;class ME{constructor(){xe(this,"id",Hr)}update(r,o){const{entity:a,updateContext:u}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:Ni,data:{...r,enteredAt:u.gameState.time,previousState:Hr,attackTargetId:a.attackTargetId,attackStartTime:u.gameState.time}};if(a.activeAction!=="moving")return{nextState:ut,data:{...r,enteredAt:u.gameState.time,previousState:Hr}};let c=r.targetPosition;if(!c&&(a.direction.x!==0||a.direction.y!==0)&&(c={x:a.position.x+a.direction.x*bu*2,y:a.position.y+a.direction.y*bu*2}),!c)return{nextState:ut,data:{...r,enteredAt:u.gameState.time,previousState:Hr}};const f=Me(a.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return a.direction=He(f),a.acceleration=Xg(a),re(a.position,c,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<bu?{nextState:ut,data:{...r,enteredAt:u.gameState.time,previousState:Hr}}:{nextState:Hr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0,o.targetPosition=void 0}}const LE=new ME,qu=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,UE=""+new URL("gather-CU75596W.mp3",import.meta.url).href,FE=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,HE=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,BE=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,xE=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,GE=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,zE=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,WE=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href;var Xe=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.GameOver=9]="GameOver",t[t.ButtonClick=10]="ButtonClick",t))(Xe||{});const jE=new Map([[0,qu],[1,UE],[2,FE],[3,HE],[4,BE],[5,xE],[6,GE],[9,zE],[10,WE],[7,qu],[8,qu]]);let wo,Go;function YE(){if(!(typeof window>"u"))return Go}function Qg(){if(!(typeof window>"u"))return!wo&&typeof window.AudioContext=="function"&&(wo=new window.AudioContext,Go=wo.createGain(),Go.connect(wo.destination),ma(.1,!1)),wo}function ma(t,r){Go&&(Go.gain.value=r?0:t/10)}const bg=new Map;let sa=!1,Sh=!1;async function $E(){if(Sh||sa)return;const t=Qg();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),sa=!0,console.log("Starting sound loading...");const r=[];jE.forEach((o,a)=>{const u=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>t.decodeAudioData(c)).then(c=>{bg.set(a,c)}).catch(c=>{console.error(`Error loading sound ${Xe[a]} from ${o}:`,c)});r.push(u)});try{await Promise.all(r),Sh=!0,sa=!1,console.log("All sounds loaded successfully.")}catch(o){sa=!1,console.error("An error occurred while loading sounds:",o)}}function qg(t,r){const o=Qg(),a=YE();if(!o||!a||a.gain.value===0)return;o.state==="suspended"&&o.resume();const u=bg.get(t);if(!u){console.warn(`Sound buffer not found for type: ${Xe[t]}`);return}const c=o.createBufferSource();c.buffer=u;const f=o.createGain(),p=o.createStereoPanner();let g=f;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=Me(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),y=re(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(y>hh)return;const E=1-Math.pow(y/hh,yE);f.gain.value=Math.max(0,E);const P=Math.sin(v.x/y*(Math.PI/2));p.pan.value=isNaN(P)?0:P,f.connect(p),g=p}else{const v=t===Xe.GameOver?.4:.2;f.gain.value=v}c.connect(g),g.connect(a),c.start(0)}function mt(t,r,o){const a=mr(t.gameState);a&&qg(r,{position:o,listenerPosition:a.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}const VE={id:ko,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction!=="eating"?{nextState:ut,data:{...t,enteredAt:a.gameState.time,previousState:ko}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>Wr&&(o.hunger=Math.max(0,o.hunger-Wr),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,mt(a,Xe.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(Qe(a.gameState,ve.Eating,o.position,Ze,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ut,data:{...t,enteredAt:a.gameState.time,previousState:ko}}:{nextState:ko,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class KE{constructor(){xe(this,"id",ja)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const XE=new KE,QE=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),bE=(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:u}=a;if(u.time<(t.procreationEndTime||0))return{nextState:xo,data:t};const c=u.entities.entities.get(t.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<nt&&c.hunger<nt&&!o.procreationCooldown&&!c.procreationCooldown){const f=o.gender==="female"?o:c.gender==="female"?c:void 0,p=o.gender==="male"?o:c.gender==="male"?c:void 0;f&&p&&(f.isPregnant=!0,f.gestationTime=Ly,f.fatherId=p.id,o.procreationCooldown=th,c.procreationCooldown=th,mt(a,Xe.Procreate,f.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:ut,data:{...t,enteredAt:u.time,previousState:xo}}},qE={id:xo,onEnter:QE,update:bE},ZE={id:Ni,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ut,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ut,data:{...t}};const a=re(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=Me(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=He(u),a>Ua?r.entity.acceleration=Xg(r.entity):r.entity.acceleration=0,{nextState:Ni,data:t}}},JE={id:ga,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:u}=a;if(u.time-t.enteredAt>=qy){if(o.food.filter(p=>p.type===dn.Berry).length>=ki){for(let p=0;p<ki;p++){const g=o.food.findIndex(v=>v.type===dn.Berry);g>-1&&o.food.splice(g,1)}Fc(u.entities,t.plantingSpot,u.time)}return{nextState:ut,data:{...t,enteredAt:u.time,previousState:ga}}}return{nextState:ga,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},eA=[OE,LE,VE,XE,qE,ZE,JE],Eh=[...NE,...eA];function tA(t,r,o){const a=vy(t,Eh);if(!a)return Sy(t),[t,r];const{nextState:u,data:c}=a.update(r,o);return yy(t,u)?[u,my(a,u,c,o,Eh)]:[u,c]}function Pa(t,r,o,a){t.karma[r.id]=(t.karma[r.id]||0)+o,nA(t,r,o*gS,a)}function nA(t,r,o,a){const u=vh(t,a),c=vh(r,a);for(const f of u)f.id!==r.id&&(f.karma[r.id]=(f.karma[r.id]||0)+o);for(const f of c)f.id!==t.id&&(t.karma[f.id]=(t.karma[f.id]||0)+o)}function rA(t,r){for(const o in t.karma){const a=t.karma[o],u=vS*r;a>0?t.karma[o]=Math.max(0,a-u):a<0&&(t.karma[o]=Math.min(0,a+u)),t.karma[o]===0&&delete t.karma[o]}}function iA(t,r,o){const a={};for(const u in r.karma)a[u]=(a[u]||0)+r.karma[u];if(o)for(const u in o.karma)a[u]=(a[u]||0)+o.karma[u];for(const u in a){const c=a[u]*mS;Math.abs(c)>.1&&(t.karma[u]=c)}}function oA(t,r,o){const{gameState:a}=r,u=o*(_n/wn);if(t.isAdult=t.age>=Cc,rA(t,u),t.leaderId&&t.leaderId!==t.id&&t.isAdult&&t.gender==="male"&&(!a.entities.entities.get(t.leaderId)||(t.karma[t.leaderId]??0)<=Sr)&&(t.leaderId=t.id,t.tribeBadge=Ia(),Vg(t,t,a)),t.isCallingToAttack&&t.callToAttackEndTime&&a.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.hitpoints<t.maxHitpoints){const f=1-t.hunger/100*$y,p=Yy*f*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+p)}if(t.hunger+=o*(Eo/(_n/wn)),t.hunger>vE&&(!t.lastHungerEffectTime||a.time-t.lastHungerEffectTime>Ro*2)&&(Qe(a,ve.Hunger,t.position,Ro,t.id),t.lastHungerEffectTime=a.time),t.age+=o/yg,t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((Eo*Uy-Eo)/(_n/wn)),(!t.lastPregnantEffectTime||a.time-t.lastPregnantEffectTime>Ro*3)&&(Qe(a,ve.Pregnant,t.position,Ro,t.id),t.lastPregnantEffectTime=a.time),t.gestationTime<=0&&(y1(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.leaderCallToAttackCooldown&&(t.leaderCallToAttackCooldown-=u,t.leaderCallToAttackCooldown<0&&(t.leaderCallToAttackCooldown=0)),t.isAdult?t.radius===Mg&&(t.radius=Tn):t.hunger+=o*((Eo*Fy-Eo)/(_n/wn)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const f=[];if(t.motherId){const p=a.entities.entities.get(t.motherId);p&&f.push(p)}if(t.fatherId){const p=a.entities.entities.get(t.fatherId);p&&f.push(p)}for(const p of f)if(p.age>=Ag&&p.hunger>=By&&re(t.position,p.position,a.mapDimensions.width,a.mapDimensions.height)<=xy){t.food.pop(),p.hunger=Math.max(0,p.hunger-Wr),t.feedParentCooldownTime=Gy;break}}let c;if(t.hitpoints<=0?c="killed":t.hunger>=wt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-Wr)):c="hunger":t.age>=t.maxAge&&(c="oldAge"),c){if(t.leaderId===t.id){const f=fc(qt(a,t));f?(f.leaderId=f.id,f.tribeBadge=t.tribeBadge,a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;(g.karma[f.id]??0)>Sr?g.leaderId=f.id:(g.leaderId=g.id,g.tribeBadge=Ia())}})):a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;g.leaderId=void 0,g.tribeBadge=void 0}})}if(t.isPlayer){const f=fc(qt(a,t));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=c)}v1(a.entities,t.position,t.gender,t.age,t.radius,t.id,a.time,t.food,t.hunger),Hc(a.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function sA(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/zy);const a=Math.floor(_g*(1-t.decayProgress));t.food.length>a&&t.food.splice(a),t.decayProgress>=1&&t.food.length<=0&&Hc(r.gameState.entities,t.id)}var Qt=(t=>(t[t.StrategyBased=0]="StrategyBased",t[t.UtilityBased=1]="UtilityBased",t[t.BehaviorTreeBased=2]="BehaviorTreeBased",t))(Qt||{});function aA(t,r){t.aiBehaviorTree&&t.aiBlackboard?t.aiBehaviorTree.execute(t,r,t.aiBlackboard):(console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle")}class lA{check(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>Ha||r.hitpoints<r.maxHitpoints*$r)return null;if(r.attackTargetId){const f=a.entities.entities.get(r.attackTargetId);if(f&&re(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<Aa)return f}const u=xn(r.id,a);if(u)return u;for(const f of a.entities.entities.values())if(f.type==="human"){const p=f;if(p.motherId===r.id||p.fatherId===r.id){const g=xn(p.id,a);if(g)return g}}const c=$g(r,a,Aa,f=>{const p=f;return(r.karma[p.id]||0)<Sr});return c&&a.search.human.byProperty("attackTargetId",c.id).length<Tg?c:null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>Ze*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,Ze,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class uA{check(r,o){const{gameState:a}=o,u=a;if(!r.isAdult||r.hunger>Gr)return null;const c=u.search.berryBush.byProperty("ownerId",r.id);if(c.length===0)return null;for(const f of c){const p=u.search.human.byRadius(f.position,sS);for(const g of p)if(g.id!==r.id&&!Wa(r,g,a)&&(r.karma[g.id]||0)<Sr&&re(g.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<aS)return g}return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>Ze*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,Ze,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class cA{check(r,o){const{gameState:a}=o;if(!r.isAdult||!r.leaderId||r.id===r.leaderId||r.hunger>Ha||r.hitpoints<r.maxHitpoints*$r)return null;const u=a.entities.entities.get(r.leaderId);if(!u||!u.isCallingToAttack)return null;const c=Mi(u.position,u.id,a,Dg);if(c.length===0)return null;c.sort((f,p)=>{const g=re(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height),v=re(r.position,p.position,a.mapDimensions.width,a.mapDimensions.height);return g-v});for(const f of c)if(Kg(u.id,f.id,a)<Ng)return f;return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>Ze*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,Ze,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class dA{check(r){if(!r.isAdult||!r.isAdult&&r.activeAction!=="eating")return!1;if(r.activeAction==="eating"){const a=Gr-Wr;return r.food.length<=0||r.hunger<=a,!0}return!!(r.isAdult&&r.hunger>=Gr&&r.food.length>0)}execute(r){if(r.activeAction==="eating"){const a=Gr-Wr;if(r.food.length<=0||r.hunger<=a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}return}r.isAdult&&r.hunger>=Gr&&r.food.length>0&&(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating")}}class fA{check(r,o){if(r.isAdult&&r.hitpoints>r.maxHitpoints*$r||r.isAdult&&r.hunger>kg)return null;const a=xn(r.id,o.gameState);return a||null}execute(r,o,a){r.activeAction="moving";const u=Me(a.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=He(u),f=Bn(r.position,an(c,Dc));r.targetPosition={x:(f.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(f.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c}}class Zg{check(r,o,a={onlyBerries:!1,hungerThreshold:Cg}){const u=r.food.length<r.maxFood,f=qt(o.gameState,r).length>0?a.hungerThreshold*.5:a.hungerThreshold;if(!r.isAdult||!u||r.hunger<f)return null;const{gameState:p}=o,g=p,v=(O,w)=>{let k=null,W=1/0;for(const B of O){const x=re(w,B.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);x<W&&(W=x,k=B)}return k},y=(O,w)=>{const k=g.search.berryBush.byRadius(w,O).filter(D=>D.food.length>0),W=a.onlyBerries?[]:g.search.humanCorpse.byRadius(w,O).filter(D=>D.food.length>0),B=[...k,...W],x=B.filter(D=>!("ownerId"in D&&D.ownerId));if(x.length>0)return v(x,r.position);const q=B.filter(D=>{if("ownerId"in D&&D.ownerId){const oe=p.entities.entities.get(D.ownerId);return oe&&Wa(r,oe,p)}return!1});if(q.length>0)return v(q,r.position);if(r.hunger>=iS){const D=B.filter(oe=>{if("ownerId"in oe&&oe.ownerId){const Ie=p.entities.entities.get(oe.ownerId);return Ie&&(Ie.karma[r.id]||0)>Sr}return!1});if(D.length>0)return v(D,r.position)}const L=B.filter(D=>{if("ownerId"in D&&D.ownerId){const oe=p.entities.entities.get(D.ownerId);return oe&&(oe.karma[r.id]||0)<=Sr}return!1});return L.length>0?v(L,r.position):null},E=Math.max(p.mapDimensions.width,p.mapDimensions.height),P=y(E,r.position);if(P)return P;const T=Se(r,p,"berryBush",void 0,O=>O.food.length>0),N=Se(r,p,"humanCorpse",void 0,O=>O.food.length>0);if(T&&N){const O=re(r.position,T.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),w=re(r.position,N.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return O<=w?T:N}return T||N}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(re(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Zt)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Me(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=He(c)}}}class pA{check(){return!0}execute(r,o){const{gameState:a}=o;if(r.activeAction==="idle"||!r.activeAction){if(r.activeAction="idle",Math.random()<Pc){let u=r.position,c=Di;const f=r.leaderId&&r.leaderId!==r.id?a.entities.entities.get(r.leaderId):void 0;if(f)u=f.position,c=Rg;else if(r.isAdult){if(r.gender==="female"){const g=Yg(r,a);g&&(u=g.position,c=Pg)}}else{const g=$o(r,a);g.length>0&&(u=g[0].position,c=Ba)}r.activeAction="moving",r.targetPosition=Yo(u,c,a.mapDimensions.width,a.mapDimensions.height);const p=Me(r.position,r.targetPosition,a.mapDimensions.width,a.mapDimensions.height);r.direction=He(p)}else r.direction={x:0,y:0},r.targetPosition=void 0;return}if(r.activeAction==="moving"&&r.targetPosition){re(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Zt&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0});return}r.activeAction!=="moving"&&(r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0)}}class hA{constructor(){xe(this,"gatheringStrategy",new Zg)}check(r,o){const{gameState:a}=o,u=r.food.filter(p=>p.type===dn.Berry).length>=Zy,c=r.hunger<Fa;if(!r.isAdult||!c)return null;if(!u){const p=this.gatheringStrategy.check(r,o,{onlyBerries:!0,hungerThreshold:0});return(p==null?void 0:p.type)==="berryBush"?p:null}const f=wa(r,a);return f||null}execute(r,o,a){"type"in a&&a.type==="berryBush"?this.gatheringStrategy.execute(r,o,a):typeof a=="object"&&"x"in a&&"y"in a&&(r.activeAction="planting",r.targetPosition=a)}}class gA{check(r,o){const{gameState:a}=o,u=r.gender==="male"&&r.age>Tc&&Oc(r.id,a)===0,c=za(r.position,a,"berryBush",Ga);if(!(r.isAdult&&(u||r.hunger<nt&&(r.procreationCooldown||0)<=0&&c>=xa)&&(r.gender==="female"?!r.isPregnant&&r.age<=xt:!0)))return null;const p=y=>{const E=y;return E.type==="human"&&E.id!==r.id&&E.gender!==r.gender&&E.isAdult&&(u||E.hunger<nt&&(E.procreationCooldown||0)<=0&&(r.karma[E.id]||0)>yS)?E.gender==="female"?!E.isPregnant&&E.age<=xt:!0:!1},g=Se(r,a,"human",Di*5,y=>p(y)&&(!y.partnerIds||y.partnerIds.length===0||y.partnerIds.includes(r.id)));return g||(u?null:Se(r,a,"human",Di*10,y=>{if(!p(y)||!y.partnerIds||y.partnerIds.length===0)return!1;const E=y.partnerIds[0];return(r.karma[E]||0)<=Sr}))}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(re(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Zt)r.activeAction="procreating",r.targetPosition=a.position;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Me(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=He(c)}}}class mA{check(r,o){if(r.isAdult||r.hunger<cn)return null;const{gameState:a}=o,u=f=>(f.id===r.motherId||f.id===r.fatherId)&&f.food.length>0;let c=Se(r,a,"human",jr,u);return c||(c=Se(r,a,"human",void 0,u)),c||!0}execute(r,o,a){const{gameState:u}=o;if(typeof a=="object"){const c=a;if(re(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height)>Yr){r.activeAction="moving",r.targetPosition={...c.position};const p=Me(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height);r.direction=He(p)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}else{const c=$o(r,u);if(c.length>0){const f=c[0];if(re(r.position,f.position,u.mapDimensions.width,u.mapDimensions.height)>Ba){r.activeAction="moving",r.targetPosition={...f.position};const g=Me(r.position,f.position,u.mapDimensions.width,u.mapDimensions.height);r.direction=He(g)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}else if(r.activeAction="idle",r.targetPosition=void 0,Math.random()<.05){r.activeAction="moving",r.targetPosition=Yo(r.position,10,u.mapDimensions.width,u.mapDimensions.height);const f=Me(r.position,r.targetPosition,u.mapDimensions.width,u.mapDimensions.height);r.direction=He(f)}else r.direction={x:0,y:0}}}}class vA{check(r,o){return!r.isAdult||r.food.length<=0||r.feedChildCooldownTime&&r.feedChildCooldownTime>0?null:Se(r,o.gameState,"human",jr,a=>{const u=a;return!u.isAdult&&(u.motherId===r.id||u.fatherId===r.id)&&u.hunger>=cn})}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(re(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Yr){r.activeAction="moving",r.targetPosition={...a.position};const c=Me(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=He(c)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}}class yA{check(r,o){if(!r.isAdult||r.food.length>0)return null;const{gameState:a}=o;if(a.search.human.byRadius(r.position,1e3).filter(g=>!g.isAdult&&(g.motherId===r.id||g.fatherId===r.id)&&g.hunger>=cn).length===0)return null;const f=(g,v)=>{const y=Se({...r,position:g},a,"berryBush",v,P=>P.food.length>0),E=Se({...r,position:g},a,"humanCorpse",v,P=>P.food.length>0);if(y&&E){const P=re(g,y.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),T=re(g,E.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return P<=T?y:E}return y||E},p=Math.max(a.mapDimensions.width,a.mapDimensions.height);return f(r.position,p)}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(re(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Zt)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Me(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=He(c)}}}class SA{check(r,o){const{gameState:a}=o,u=a;if(r.id!==r.leaderId||(r.leaderMetaStrategyCooldown??0)>0)return null;const c=Ta(r.id,u);if(c.length===0)return null;if(Lc(c,u))return{decision:3};const f=yh(c),{score:p}=Mc(r.position,Rc/2,u,r.id),g=Ca(u,r.id,_a);if(!g||g.score<=p)return null;const v=g.score>p*Og;if(g.occupyingTribeId){const y=Ta(g.occupyingTribeId,u),E=yh(y),P=f>E*dS;if(v&&P)return{decision:2,targetPosition:g.position,enemyTribeId:g.occupyingTribeId};{const T=Ca(u,r.id,_a);if(T&&!T.occupyingTribeId&&T.score>p)return{decision:0,targetPosition:T.position}}}else if(v)return{decision:1,targetPosition:g.position};return null}execute(r,o,a){switch(r.leaderMetaStrategyCooldown=lS,a.decision){case 0:case 1:r.activeAction="moving",r.targetPosition=a.targetPosition;break;case 2:r.activeAction="moving",r.targetPosition=a.targetPosition,r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+yr;break;case 3:r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+yr,r.activeAction="idle",r.targetPosition=void 0;break}}}const EA=[new fA,new SA,new lA,new cA,new uA,new dA,new mA,new yA,new vA,new gA,new Zg,new hA,new pA];var Pe=(t=>(t.SATISFY_HUNGER="SATISFY_HUNGER",t.MAINTAIN_HEALTH="MAINTAIN_HEALTH",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSHES="PLANT_BUSHES",t.PROCREATE="PROCREATE",t.FEED_CHILDREN="FEED_CHILDREN",t.DEFEND_SELF="DEFEND_SELF",t.DEFEND_TRIBE="DEFEND_TRIBE",t.ELIMINATE_THREATS="ELIMINATE_THREATS",t.EXPLORE_AND_WANDER="EXPLORE_AND_WANDER",t))(Pe||{}),Gt=(t=>(t.EAT="EAT",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSH="PLANT_BUSH",t.FLEE="FLEE",t.ATTACK_HUMAN="ATTACK_HUMAN",t.PROCREATE="PROCREATE",t.FEED_CHILD="FEED_CHILD",t.SEEK_FOOD_FROM_PARENT="SEEK_FOOD_FROM_PARENT",t.GATHER_FOOD_FOR_CHILD="GATHER_FOOD_FOR_CHILD",t.CALL_TO_ATTACK="CALL_TO_ATTACK",t.MIGRATE="MIGRATE",t.IDLE_WANDER="IDLE_WANDER",t))(Gt||{});const Ah=(t,r)=>{const{gameState:o}=r;if(!t.isAdult||t.hunger>Ha||t.hitpoints<t.maxHitpoints*$r)return null;const a=xn(t.id,o);if(a)return a;const u=$g(t,o,Aa,c=>{const f=c;return(t.karma[f.id]||0)<Sr});return u&&o.search.human.byProperty("attackTargetId",u.id).length<Tg?u:null},AA={type:Gt.ATTACK_HUMAN,getUtility(t,r,o){var u;if(o.type!==Pe.ELIMINATE_THREATS&&o.type!==Pe.DEFEND_SELF&&o.type!==Pe.DEFEND_TRIBE)return 0;const a=Ah(t,r);return a?o.type===Pe.DEFEND_SELF&&((u=xn(t.id,r.gameState))==null?void 0:u.id)===a.id?1:.8:0},execute(t,r){const o=Ah(t,r);if(!o){t.activeAction="idle";return}(!t.lastTargetAcquiredEffectTime||r.gameState.time-t.lastTargetAcquiredEffectTime>Ze*5)&&(Qe(r.gameState,ve.TargetAcquired,t.position,Ze,t.id),t.lastTargetAcquiredEffectTime=r.gameState.time),t.activeAction="attacking",t.attackTargetId=o.id,t.targetPosition=void 0}},_A={type:Gt.CALL_TO_ATTACK,getUtility(t,r,o){if(o.type!==Pe.DEFEND_TRIBE&&o.type!==Pe.ELIMINATE_THREATS||t.id!==t.leaderId||t.isCallingToAttack)return 0;const a=r.gameState,u=Ta(t.id,a);return o.type===Pe.DEFEND_TRIBE&&Lc(u,a)?.9:o.type===Pe.ELIMINATE_THREATS&&Mi(t.position,t.id,a,kc).length>0?.6:0},execute(t,r){t.isCallingToAttack=!0,t.callToAttackEndTime=r.gameState.time+yr,Qe(r.gameState,ve.CallToAttack,t.position,yr),mt(r,Xe.CallToAttack,t.position),t.activeAction="idle",t.targetPosition=void 0}},wA={type:Gt.EAT,getUtility(t,r,o){if(o.type!==Pe.SATISFY_HUNGER)return 0;const a=t.food.length>0,u=t.hunger>=Gr;return a&&u?1:0},execute(t){t.activeAction="eating",t.direction={x:0,y:0},t.targetPosition=void 0}},IA={type:Gt.FEED_CHILD,getUtility(t,r,o){return o.type!==Pe.FEED_CHILDREN||!t.isAdult||t.food.length<=0||t.feedChildCooldownTime&&t.feedChildCooldownTime>0?0:Se(t,r.gameState,"human",jr,u=>{const c=u;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=cn})?1:0},execute(t,r){const o=Se(t,r.gameState,"human",jr,u=>{const c=u;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=cn});if(!o){t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;return}if(re(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Yr){t.activeAction="moving",t.targetPosition={...o.position};const u=Me(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=He(u)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},TA={type:Gt.FLEE,getUtility(t,r,o){if(o.type!==Pe.DEFEND_SELF)return 0;const a=t.hitpoints<t.maxHitpoints*$r,u=xn(t.id,r.gameState);return a&&u?1:0},execute(t,r){const o=xn(t.id,r.gameState);if(!o){t.activeAction="idle";return}t.activeAction="moving";const a=Me(o.position,t.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),u=He(a),c=Bn(t.position,an(u,Dc));t.targetPosition={x:(c.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,y:(c.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height},t.direction=u,t.attackTargetId=void 0}};function _h(t,r){const o=Se(t,r.gameState,"berryBush",void 0,u=>u.food.length>0),a=Se(t,r.gameState,"humanCorpse",void 0,u=>u.food.length>0);if(o&&a){const u=re(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),c=re(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return u<=c?o:a}return o||a}const CA={type:Gt.GATHER_FOOD,getUtility(t,r,o){return o.type!==Pe.GATHER_FOOD||t.food.length>=t.maxFood?0:_h(t,r)?.7:0},execute(t,r){const o=_h(t,r);if(!o){t.activeAction="idle";return}if(re(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<Zt)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const u=Me(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=He(u)}}},wh=(t,r)=>{const{gameState:o}=r;return(u=>{const c=Se(t,o,"berryBush",u,p=>p.food.length>0),f=Se(t,o,"humanCorpse",u,p=>p.food.length>0);if(c&&f){const p=re(t.position,c.position,o.mapDimensions.width,o.mapDimensions.height),g=re(t.position,f.position,o.mapDimensions.width,o.mapDimensions.height);return p<=g?c:f}return c||f})()},PA={type:Gt.GATHER_FOOD_FOR_CHILD,getUtility(t,r,o){return o.type!==Pe.FEED_CHILDREN||!t.isAdult||t.food.length>0||qt(r.gameState,t).filter(c=>!c.isAdult&&c.hunger>=cn).length===0?0:wh(t,r)?.8:0},execute(t,r){const o=wh(t,r);if(!o){t.activeAction="idle";return}if(re(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<Zt)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const u=Me(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=He(u)}}},RA={type:Gt.IDLE_WANDER,getUtility(t,r,o){return o.type===Pe.EXPLORE_AND_WANDER?.1:0},execute(t,r){const{gameState:o}=r;if(t.activeAction==="moving"&&t.targetPosition){re(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height)<Zt&&(t.activeAction="idle",t.targetPosition=void 0,t.direction={x:0,y:0});return}if(t.activeAction==="idle"||!t.activeAction)if(Math.random()<Pc){let a=t.position,u=Di;const c=t.leaderId&&t.leaderId!==t.id?o.entities.entities.get(t.leaderId):void 0;if(c)a=c.position,u=Rg;else if(t.isAdult){if(t.gender==="female"){const p=Yg(t,o);p&&(a=p.position,u=Pg)}}else{const p=$o(t,o);p.length>0&&(a=p[0].position,u=Ba)}t.activeAction="moving",t.targetPosition=Yo(a,u,o.mapDimensions.width,o.mapDimensions.height);const f=Me(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height);t.direction=He(f)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},kA={type:Gt.MIGRATE,getUtility(t,r,o){if(o.type!==Pe.EXPLORE_AND_WANDER||t.id!==t.leaderId)return 0;const a=r.gameState,{score:u}=Mc(t.position,Rc/2,a,t.id),c=Ca(a,t.id,_a);return c&&c.score>u*Og?.8:0},execute(t,r){const o=r.gameState,a=Ca(o,t.id,_a);a&&(t.activeAction="moving",t.targetPosition=a.position)}},DA={type:Gt.PLANT_BUSH,getUtility(t,r,o){if(o.type!==Pe.PLANT_BUSHES)return 0;const a=t.food.filter(f=>f.type===dn.Berry).length>=ki;return!(t.hunger<Fa)||!a?0:wa(t,r.gameState)?.8:0},execute(t,r){const o=wa(t,r.gameState);o&&(t.activeAction="planting",t.targetPosition=o)}},Ih=(t,r)=>{const{gameState:o}=r,a=o,u=t.gender==="male"&&t.age>Tc&&Oc(t.id,o)===0,c=a.search.berryBush.byRadius(t.position,Ga).length;if(!(t.isAdult&&(u||t.hunger<nt&&(t.procreationCooldown||0)<=0&&c>=xa)&&(t.gender==="female"?!t.isPregnant&&t.age<=xt:!0)))return null;const p=g=>{const v=g;return!(v.type==="human"&&v.id!==t.id&&v.gender!==t.gender&&v.isAdult)||!(v.hunger<nt&&(v.procreationCooldown||0)<=0)?!1:v.gender==="female"?!v.isPregnant&&v.age<=xt:!0};return Se(t,o,"human",Di*5,g=>p(g)&&(!g.partnerIds||g.partnerIds.length===0||g.partnerIds.includes(t.id)))},NA={type:Gt.PROCREATE,getUtility(t,r,o){return o.type!==Pe.PROCREATE?0:Ih(t,r)?.8:0},execute(t,r){const o=Ih(t,r);if(!o){t.activeAction="idle";return}if(re(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<Zt)t.activeAction="procreating",t.targetPosition=o.position;else{t.activeAction="moving",t.targetPosition={...o.position};const u=Me(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=He(u)}}},OA={type:Gt.SEEK_FOOD_FROM_PARENT,getUtility(t,r,o){return o.type!==Pe.SATISFY_HUNGER||t.isAdult||!(t.hunger>=cn)?0:Se(t,r.gameState,"human",jr,c=>(c.id===t.motherId||c.id===t.fatherId)&&c.food.length>0)?.9:0},execute(t,r){const o=Se(t,r.gameState,"human",jr,a=>(a.id===t.motherId||a.id===t.fatherId)&&a.food.length>0);if(o)if(re(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Yr){t.activeAction="moving",t.targetPosition={...o.position};const u=Me(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=He(u)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;else t.activeAction="idle"}};class MA{constructor(){xe(this,"type",Pe.DEFEND_SELF)}getScore(r,o){if(!xn(r.id,o.gameState))return 0;const u=1-r.hitpoints/r.maxHitpoints;return Math.min(1,.5+u*.5)}}const LA=new MA;class UA{constructor(){xe(this,"type",Pe.DEFEND_TRIBE)}getScore(r,o){if(!r.leaderId)return 0;const a=o.gameState,u=Ta(r.leaderId,a);return Lc(u,a)?1:0}}const FA=new UA;class HA{constructor(){xe(this,"type",Pe.ELIMINATE_THREATS)}getScore(r,o){return r.leaderId&&Mi(r.position,r.leaderId,o.gameState,Aa).length>0?1:0}}const BA=new HA,xA={type:Pe.EXPLORE_AND_WANDER,getScore(){return .05}};class GA{constructor(){xe(this,"type",Pe.FEED_CHILDREN)}getScore(r,o){if(!r.isAdult||r.food.length===0)return 0;const a=qt(o.gameState,r);if(a.length===0)return 0;let u=0;for(const c of a)c.hunger>=cn&&c.hunger>u&&(u=c.hunger);return u===0?0:u/wt}}const zA=new GA,WA={type:Pe.GATHER_FOOD,getScore(t,r){if(!t.isAdult||t.food.length>=t.maxFood)return 0;const o=1-t.food.length/t.maxFood,a=t.hunger/wt,u=qt(r.gameState,t),c=u.length>0?.2*u.length:0,f=o+a+c;return Math.max(0,Math.min(f,1))}},jA={type:Pe.MAINTAIN_HEALTH,getScore(t){const o=1-t.hitpoints/t.maxHitpoints;return Math.max(0,Math.min(o,1))}},YA={type:Pe.PLANT_BUSHES,getScore(t,r){if(!t.isAdult||!t.leaderId||t.food.filter(v=>v.type===dn.Berry).length<ki||t.hunger>Fa)return 0;const a=PE(t.leaderId,r.gameState),u=new Set(a.map(v=>v.id)),c=r.gameState,p=Array.from(c.entities.entities.values()).filter(v=>v.type==="berryBush").filter(v=>v.ownerId&&u.has(v.ownerId)).length;if(p>=rh)return 0;const g=1-p/rh;return Math.max(0,Math.min(g,1))}};class $A{constructor(){xe(this,"type",Pe.PROCREATE)}getScore(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>=nt||(r.procreationCooldown||0)>0||r.gender==="female"&&(r.isPregnant||r.age>xt)||za(r.position,a,"berryBush",Ga)<xa)return 0;if(r.gender==="male"&&r.age>Tc&&Oc(r.id,a)===0)return 1;let c=0;r.gender==="female"?c=(r.age-Po)/(xt-Po):c=(r.age-Po)/(r.maxAge-Po);const f=.1+c*.7;return Math.max(0,Math.min(f,1))}}const VA=new $A;class KA{constructor(){xe(this,"type",Pe.SATISFY_HUNGER)}getScore(r){const o=r.hunger/wt;return Math.max(0,Math.min(o,1))}}const XA=new KA,Th=[XA,jA,WA,YA,VA,zA,LA,FA,BA,xA],Ch=[wA,CA,DA,TA,AA,NA,IA,OA,PA,_A,kA,RA];function QA(t,r){if(Ch.length===0||Th.length===0){t.activeAction="idle";return}let o=null,a=-1/0;for(const u of Ch){let c=0;for(const f of Th){const p=f.getScore(t,r);if(p<=0)continue;const g=u.getUtility(t,r,f);c+=p*g}c>a&&(a=c,o=u)}o&&a>0?o.execute(t,r):(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}function bA(t,r){switch(t.aiType){case Qt.BehaviorTreeBased:aA(t,r);return;case Qt.UtilityBased:QA(t,r);return;case Qt.StrategyBased:default:for(const o of EA){const a=o.check(t,r);if(a){o.execute(t,r,a);return}}t.activeAction||(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}}function qA(t,r){t.forces.push(an(t.velocity,-.1));const o=an(He(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(a=>{r.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(t.velocity=an(t.velocity,.5))}),t.debuffs=t.debuffs.filter(a=>r.gameState.time-a.startTime<a.duration),t.velocity=Bn(t.velocity,t.forces.reduce(Bn,{x:0,y:0})),Bo(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=Bn(t.position,an(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?oA(t,r,r.deltaTime):t.type==="humanCorpse"&&sA(t,r),t.type==="human"&&(!t.isPlayer||r.gameState.isPlayerOnAutopilot)&&bA(t,r),t.stateMachine&&(t.stateMachine=tA(...t.stateMachine,{entity:t,updateContext:r}))}var J=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t))(J||{});class un{constructor(r,o,a=0){xe(this,"name");xe(this,"lastStatus");xe(this,"depth");this.children=r,this.name=o,this.depth=a,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,a){for(const u of this.children){const c=u.execute(r,o,a);if(c!==J.SUCCESS)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth),c}return this.lastStatus=J.SUCCESS,this.name&&a.recordNodeExecution(this.name,J.SUCCESS,o.gameState.time,this.depth),J.SUCCESS}}class Jg{constructor(r,o,a=0){xe(this,"name");xe(this,"lastStatus");xe(this,"depth");this.children=r,this.name=o,this.depth=a,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,a){for(const u of this.children){const c=u.execute(r,o,a);if(c!==J.FAILURE)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth),c}return this.lastStatus=J.FAILURE,this.name&&a.recordNodeExecution(this.name,J.FAILURE,o.gameState.time,this.depth),J.FAILURE}}class yt{constructor(r,o,a=0){xe(this,"name");xe(this,"lastStatus");xe(this,"depth");this.action=r,this.name=o,this.depth=a}execute(r,o,a){const u=this.action(r,o,a);return this.lastStatus=u,this.name&&a.recordNodeExecution(this.name,u,o.gameState.time,this.depth),u}}class tt{constructor(r,o,a=0){xe(this,"name");xe(this,"lastStatus");xe(this,"depth");this.condition=r,this.name=o,this.depth=a}execute(r,o,a){const u=this.condition(r,o,a)?J.SUCCESS:J.FAILURE;return this.lastStatus=u,this.name&&a.recordNodeExecution(this.name,u,o.gameState.time,this.depth),u}}function ZA(t){return new yt(r=>{const o=r.hunger>=Gr,a=r.food.length>0;return r.isAdult&&o&&a?(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating",J.RUNNING):J.FAILURE},"Eat",t)}function JA(t){return new un([new tt((r,o,a)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*$r||r.isAdult&&r.hunger>kg)return!1;const u=xn(r.id,o.gameState);return u?(a.set("fleeThreat",u),!0):!1},"Should Flee",t+1),new yt((r,o,a)=>{const u=a.get("fleeThreat");if(!u)return J.FAILURE;r.activeAction="moving";const c=Me(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=He(c),p=Bn(r.position,an(f,Dc));return r.targetPosition={x:(p.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(p.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=f,J.RUNNING},"Execute Flee",t+1)],"Flee",t)}function e1(t){return new un([new tt((r,o,a)=>{const u=r.food.length<r.maxFood;if(!r.isAdult||!u||r.hunger<Cg)return!1;const c=Se(r,o.gameState,"berryBush",void 0,g=>g.food.length>0),f=Se(r,o.gameState,"humanCorpse",void 0,g=>g.food.length>0);let p=null;if(c&&f){const g=re(r.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),v=re(r.position,f.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);p=g<=v?c:f}else p=c||f;return p?(a.set("foodSource",p),!0):!1},"Should Gather Food",t+1),new yt((r,o,a)=>{const u=a.get("foodSource");if(!u)return J.FAILURE;if(re(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Zt)return r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0,J.SUCCESS;{r.activeAction="moving",r.targetPosition={...u.position};const f=Me(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=He(f),J.RUNNING}},"Move To Food and Gather",t+1)],"Gather Food",t)}function t1(t){return new yt((r,o)=>{if(r.activeAction==="idle"||!r.activeAction){if(Math.random()<Pc){r.activeAction="moving";const a=$o(r,o.gameState)[0];r.targetPosition=Yo(!r.isAdult&&a?a.position:r.position,r.isAdult?Di:Ba,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);const u=Me(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=He(u)}else r.direction={x:0,y:0},r.targetPosition=void 0;return J.SUCCESS}return r.activeAction==="moving"&&r.targetPosition&&re(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Zt&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0}),J.SUCCESS},"Idle/Wander",t)}const Ph=t=>t.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<nt&&(r.gender==="female"?!r.isPregnant&&r.age<=xt:!0));function n1(t){const r=new tt((c,f,p)=>{const g=gh(c,f.gameState,Zt),v=Ph(g);return v?(p.set("procreationPartner",v),!0):!1},"Find Immediate Partner",t+2),o=new yt((c,f,p)=>{var v;const g=p.get("procreationPartner");return g?(c.activeAction="procreating",c.targetPosition=void 0,c.direction={x:0,y:0},(v=c.partnerIds)!=null&&v.includes(g.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,g.id]:[g.id]),J.SUCCESS):J.FAILURE},"Start Procreating",t+2),a=new tt((c,f,p)=>{const g=gh(c,f.gameState,oS),v=Ph(g);return v?(p.set("procreationPartner",v),!0):!1},"Locate Distant Partner",t+2),u=new yt((c,f,p)=>{const g=p.get("procreationPartner");if(!g)return J.FAILURE;c.activeAction="moving",c.targetPosition={...g.position};const v=Me(c.position,g.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height);return c.direction=He(v),J.RUNNING},"Move Towards Partner",t+2);return new un([new tt(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<Po||c.gender==="female"&&c.age>xt),"Is Fertile (age, not pregnant)",t+1),new tt(c=>c.hunger<nt,"Is Healthy (hunger)",t+1),new tt(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new tt((c,f)=>za(c.position,f.gameState,"berryBush",Ga)>=xa,"Is Environment Viable (food)",t+1),new Jg([new un([r,o],"Procreate With Immediate Partner",t+2),new un([a,u],"Seek Distant Partner",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const Io="attackTarget",Zu=150;function pc(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}function r1(t,r,o){let a,u=1/0;for(const c of Object.values(t.entities.entities))if(c.type==="human"&&c.id!==r.id&&c.hitpoints>0&&c.tribeBadge!==r.tribeBadge){const f=pc(r.position,c.position);f<o&&f<u&&(u=f,a=c)}return a}function i1(t){return new un([new tt((r,o,a)=>{if(r.activeAction==="attacking"&&r.attackTargetId){const c=o.gameState.entities.entities.get(r.attackTargetId);if(c&&c.hitpoints>0&&pc(r.position,c.position)<=Zu)return a.set(Io,c),!0}const u=r1(o.gameState,r,Zu);return u?(a.set(Io,u),!0):(a.set(Io,void 0),!1)},"Find Attack Target",t+1),new yt((r,o,a)=>{const u=a.get(Io);return!u||u.hitpoints<=0||pc(r.position,u.position)>Zu?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),a.set(Io,void 0),J.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),J.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const o1=(t,r,o)=>{const a=qt(r.gameState,t).filter(f=>!f.isAdult);if(a.length===0)return J.FAILURE;let u=null,c=cn;for(const f of a)f.hunger>=c&&(c=f.hunger,u=f);return u?(o.set("targetChild",u),J.SUCCESS):J.FAILURE},s1=(t,r,o)=>{const a=o.get("targetChild");return a?re(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Yr?(t.activeAction="moving",t.targetPosition=a.position,J.RUNNING):(t.activeAction="idle",t.targetPosition=void 0,o.set("targetChild",void 0),J.SUCCESS):J.FAILURE};function a1(t){return new un([new tt(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new yt(o1,"Find Hungriest Child",t+1),new yt(s1,"Move To Child and Feed",t+1)],"Feed Child",t)}function l1(t){return new un([new tt(r=>!r.isAdult&&r.hunger>=cn,"Is Hungry Child",t+1),new yt((r,o,a)=>{const u=$o(r,o.gameState);if(u.length===0)return J.FAILURE;const c=Se(r,o.gameState,"human",jr,f=>u.some(p=>p.id===f.id)&&f.food.length>0);return c?(a.set("targetParent",c),J.SUCCESS):J.FAILURE},"Find Parent With Food",t+1),new yt((r,o,a)=>{const u=a.get("targetParent");if(!u)return J.FAILURE;const c=re(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",c<=Yr?(r.targetPosition=void 0,J.SUCCESS):(r.targetPosition=u.position,r.activeAction="moving",J.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}function u1(t){return new un([new tt(r=>{const o=r.food.filter(u=>u.type===dn.Berry).length>=ki,a=r.hunger<Fa;return(r.isAdult&&o&&a)??!1},"Can Plant",t+1),new tt((r,o)=>{const a=za(r.position,o.gameState,"berryBush",eS),u=qt(o.gameState,r);return!(u.length===0||a>=u.length*2)},"Has Not Enough Nearby Bushes",t+1),new yt((r,o,a)=>{const u="plantingSpot";let c=a.get(u);if(c&&r.activeAction!=="planting"&&(r.activeAction!=="moving"||r.targetPosition!==c))return a.set(u,void 0),J.FAILURE;if(!c){const p=wa(r,o.gameState);if(p)a.set(u,p),c=p;else return J.FAILURE}return re(r.position,c,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Zt?(r.activeAction="moving",r.targetPosition=c,J.RUNNING):(r.activeAction="planting",r.targetPosition=c,J.RUNNING)},"Find, Move, and Plant",t+1)],"Plant Bush",t)}const c1="enemiesNearby";function d1(t){const r=new tt(f=>f.id===f.leaderId,"Is Leader?",t+1),o=new tt(f=>!f.isCallingToAttack,"Is Not Already Calling?",t+1),a=new tt(f=>(f.leaderCallToAttackCooldown??0)<=0,"Is Cooldown Ready?",t+1),u=new yt((f,p,g)=>{const v=Mi(f.position,f.id,p.gameState,kc);return v.length>0?(g.set(c1,v),J.SUCCESS):J.FAILURE},"Check Enemies Nearby",t+1),c=new yt((f,p)=>(f.isCallingToAttack=!0,f.callToAttackEndTime=p.gameState.time+yr,f.leaderCallToAttackCooldown=fS,Qe(p.gameState,ve.CallToAttack,f.position,yr),mt(p,Xe.CallToAttack,f.position),f.activeAction="idle",f.targetPosition=void 0,J.SUCCESS),"Issue Call to Attack",t+1);return new un([r,o,a,u,c],"Leader Call to Attack",t)}const Rh="combatTarget";function f1(t){const r=new tt(f=>f.isAdult&&f.leaderId?f.id!==f.leaderId:!1,"Is Tribe Follower?",t+1),o=new tt(f=>f.hunger<Ha&&f.hitpoints>=f.maxHitpoints*$r,"Is Fit for Combat?",t+1),a=new tt((f,p)=>{const g=p.gameState.entities.entities.get(f.leaderId);return!!(g!=null&&g.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),u=new yt((f,p,g)=>{const{gameState:v}=p,y=v.entities.entities.get(f.leaderId);if(!y)return J.FAILURE;const E=Mi(y.position,y.id,v,Dg);if(E.length===0)return J.FAILURE;E.sort((P,T)=>{const N=re(f.position,P.position,v.mapDimensions.width,v.mapDimensions.height),O=re(f.position,T.position,v.mapDimensions.width,v.mapDimensions.height);return N-O});for(const P of E)if(Kg(y.id,P.id,v)<Ng)return g.set(Rh,P),J.SUCCESS;return J.FAILURE},"Find Best Target",t+1),c=new yt((f,p,g)=>{const v=g.get(Rh);return v?((!f.lastTargetAcquiredEffectTime||p.gameState.time-f.lastTargetAcquiredEffectTime>Ze*5)&&(Qe(p.gameState,ve.TargetAcquired,f.position,Ze,f.id),f.lastTargetAcquiredEffectTime=p.gameState.time),f.activeAction="attacking",f.attackTargetId=v.id,f.targetPosition=void 0,J.SUCCESS):J.FAILURE},"Attack Target",t+1);return new un([r,o,a,u,c],"Tribe Member Combat",t)}function p1(){return new Jg([JA(1),d1(1),f1(1),i1(1),a1(1),l1(1),ZA(1),e1(1),u1(1),n1(1),t1(1)],"Human Behavior",0)}class h1{constructor(){xe(this,"data",new Map);xe(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}recordNodeExecution(r,o,a,u){this.nodeExecutionData.set(r,{lastExecuted:a,status:o,depth:u})}getNodeExecutionData(){return this.nodeExecutionData}}function g1(t){t.gameState.entities.entities.forEach(o=>{qA(o,t)})}function m1(){return{entities:new Map,nextEntityId:1}}function Uc(t,r,o){const a={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(a.id,a),a}function Fc(t,r,o){return Uc(t,"berryBush",{position:r,radius:cc,food:Array.from({length:Ay},()=>({type:dn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:Ey,lifespan:wy,age:0,spreadChance:Iy,spreadRadius:cc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[No,{enteredAt:o,previousState:void 0}]})}function hc(t,r,o,a,u=!1,c=Ny,f=Eg,p,g,v=[],y,E){const P=c>=Cc;let T;return Math.random()<rS?T=Qt.BehaviorTreeBased:T=Math.random()<nS?Qt.UtilityBased:Qt.StrategyBased,Uc(t,"human",{position:r,radius:P?Tn:Mg,hunger:f,hitpoints:nh,maxHitpoints:nh,age:c,gender:a,isPlayer:u,food:[],maxFood:Sg,maxAge:Ho,isAdult:P,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:p,fatherId:g,ancestorIds:v,karma:{},stateMachine:[ut,{enteredAt:o,previousState:void 0}],leaderId:y,tribeBadge:E,aiType:T,aiBehaviorTree:T===Qt.BehaviorTreeBased?p1():void 0,aiBlackboard:T===Qt.BehaviorTreeBased?new h1:void 0})}function v1(t,r,o,a,u,c,f,p,g){return Uc(t,"humanCorpse",{position:r,radius:u,gender:o,age:a,originalHumanId:c,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(_g*Math.max(nt-g,0)/nt,1)},()=>({type:dn.Meat})),...p].map(y=>({...y,id:t.nextEntityId++})),stateMachine:void 0})}function y1(t,r,o){const a=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],c=a?[...a.ancestorIds||[],a.id]:[],f=[...u,...c],p=[...new Set(f)],g=p.slice(Math.max(p.length-Py,0)),v=Math.random()<.5?"male":"female",y=Bn(t.position,{x:5,y:5}),E=hc(o.gameState.entities,y,o.gameState.time,v,!1,0,Eg/2,t.id,r,g,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return iA(E,t,a),mt(o,Xe.Birth,t.position),E}function Hc(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class S1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let a=this.length++;for(;a>0;){const u=a-1>>1,c=this.values[u];if(o>=c)break;this.ids[a]=this.ids[u],this.values[a]=c,a=u}this.ids[a]=r,this.values[a]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],u=this.length>>1;let c=0;for(;c<u;){let f=(c<<1)+1;const p=f+1;let g=this.ids[f],v=this.values[f];const y=this.values[p];if(p<this.length&&y<v&&(f=p,g=this.ids[p],v=y),v>=a)break;this.ids[c]=g,this.values[c]=v,c=f}this.ids[c]=o,this.values[c]=a}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const kh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ju=3;class Bc{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,u]=new Uint8Array(r,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=u>>4;if(c!==Ju)throw new Error(`Got v${c} data when expected v${Ju}.`);const f=kh[u&15];if(!f)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(r,o+2,1),[g]=new Uint32Array(r,o+4,1);return new Bc(g,p,f,void 0,r,o)}constructor(r,o=16,a=Float64Array,u=ArrayBuffer,c,f=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let p=r,g=p;this._levelBounds=[p*4];do p=Math.ceil(p/this.nodeSize),g+=p,this._levelBounds.push(g*4);while(p!==1);this.ArrayType=a,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const v=kh.indexOf(this.ArrayType),y=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${a}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,f+8,g*4),this._indices=new this.IndexArrayType(this.data,f+8+y,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+y+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+y,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Ju<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new S1}add(r,o,a=r,u=o){const c=this._pos>>2,f=this._boxes;return this._indices[c]=c,f[this._pos++]=r,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),u>this.maxY&&(this.maxY=u),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),c=65535;for(let f=0,p=0;f<this.numItems;f++){const g=r[p++],v=r[p++],y=r[p++],E=r[p++],P=Math.floor(c*((g+y)/2-this.minX)/o),T=Math.floor(c*((v+E)/2-this.minY)/a);u[f]=A1(P,T)}gc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,p=0;f<this._levelBounds.length-1;f++){const g=this._levelBounds[f];for(;p<g;){const v=p;let y=r[p++],E=r[p++],P=r[p++],T=r[p++];for(let N=1;N<this.nodeSize&&p<g;N++)y=Math.min(y,r[p++]),E=Math.min(E,r[p++]),P=Math.max(P,r[p++]),T=Math.max(T,r[p++]);this._indices[this._pos>>2]=v,r[this._pos++]=y,r[this._pos++]=E,r[this._pos++]=P,r[this._pos++]=T}}}search(r,o,a,u,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=[],g=[];for(;f!==void 0;){const v=Math.min(f+this.nodeSize*4,Nh(f,this._levelBounds));for(let y=f;y<v;y+=4){if(a<this._boxes[y]||u<this._boxes[y+1]||r>this._boxes[y+2]||o>this._boxes[y+3])continue;const E=this._indices[y>>2]|0;f>=this.numItems*4?p.push(E):(c===void 0||c(E))&&g.push(E)}f=p.pop()}return g}neighbors(r,o,a=1/0,u=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=this._queue,g=[],v=u*u;e:for(;f!==void 0;){const y=Math.min(f+this.nodeSize*4,Nh(f,this._levelBounds));for(let E=f;E<y;E+=4){const P=this._indices[E>>2]|0,T=Dh(r,this._boxes[E],this._boxes[E+2]),N=Dh(o,this._boxes[E+1],this._boxes[E+3]),O=T*T+N*N;O>v||(f>=this.numItems*4?p.push(P<<1,O):(c===void 0||c(P))&&p.push((P<<1)+1,O))}for(;p.length&&p.peek()&1;)if(p.peekValue()>v||(g.push(p.pop()>>1),g.length===a))break e;f=p.length?p.pop()>>1:void 0}return p.clear(),g}}function Dh(t,r,o){return t<r?r-t:t<=o?0:t-o}function Nh(t,r){let o=0,a=r.length-1;for(;o<a;){const u=o+a>>1;r[u]>t?a=u:o=u+1}return r[o]}function gc(t,r,o,a,u,c){if(Math.floor(a/c)>=Math.floor(u/c))return;const f=t[a+u>>1];let p=a-1,g=u+1;for(;;){do p++;while(t[p]<f);do g--;while(t[g]>f);if(p>=g)break;E1(t,r,o,p,g)}gc(t,r,o,a,g,c),gc(t,r,o,g+1,u,c)}function E1(t,r,o,a,u){const c=t[a];t[a]=t[u],t[u]=c;const f=4*a,p=4*u,g=r[f],v=r[f+1],y=r[f+2],E=r[f+3];r[f]=r[p],r[f+1]=r[p+1],r[f+2]=r[p+2],r[f+3]=r[p+3],r[p]=g,r[p+1]=v,r[p+2]=y,r[p+3]=E;const P=o[a];o[a]=o[u],o[u]=P}function A1(t,r){let o=t^r,a=65535^o,u=65535^(t|r),c=t&(r^65535),f=o|a>>1,p=o>>1^o,g=u>>1^a&c>>1^u,v=o&u>>1^c>>1^c;o=f,a=p,u=g,c=v,f=o&o>>2^a&a>>2,p=o&a>>2^a&(o^a)>>2,g^=o&u>>2^a&c>>2,v^=a&u>>2^(o^a)&c>>2,o=f,a=p,u=g,c=v,f=o&o>>4^a&a>>4,p=o&a>>4^a&(o^a)>>4,g^=o&u>>4^a&c>>4,v^=a&u>>4^(o^a)&c>>4,o=f,a=p,u=g,c=v,g^=o&u>>8^a&c>>8,v^=a&u>>8^(o^a)&c>>8,o=g^g>>1,a=v^v>>1;let y=t^r,E=a|65535^(y|o);return y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,(E<<1|y)>>>0}function ec(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Bc(t.length),a=new Map;for(const c of t)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(p=>t[p])},byRadius(c,f){return o.neighbors(c.x,c.y,void 0,f).map(g=>t[g])},byProperty(c,f){var p;if(!a.has(c)){const g=new Map;for(const v of t){const y=v[c];g.has(y)||g.set(y,[]),g.get(y).push(v)}a.set(c,g)}return((p=a.get(c))==null?void 0:p.get(f))||[]},resetPropertyCache(){a.clear()}}}function em(t){const r=Array.from(t.entities.entities.values()),o=r.filter(f=>f.type==="human"),a=r.filter(f=>f.type==="berryBush"),u=r.filter(f=>f.type==="humanCorpse");return{...t,search:{human:ec(o),berryBush:ec(a),humanCorpse:ec(u)}}}var hr=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t))(hr||{}),zo=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t))(zo||{}),_t=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(_t||{});const _1=[{key:hr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:hr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>Ry,isCompleted:!1,minDisplayTime:ph,highlightedUIElements:[zo.HUNGER_BAR]},{key:hr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!Se(r,t,"berryBush",Nt*5,a=>a.food.length>0),getTargets:(t,r)=>{const o=[];for(const a of t.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&re(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:ph},{key:hr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=Se(r,t,"berryBush",Nt,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:hr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[zo.FOOD_BAR]},{key:hr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>qt(t,r).length>0,getTargets:(t,r)=>{const o=Se(r,t,"human",Nt,a=>{const u=a;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<nt&&r.hunger<nt&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=xt:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:hr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>Wg(t,r).some(a=>a.type===En.PlantBush)&&t.hasPlayerPlantedBush===!0,isCompleted:!1}];function w1(){return{steps:_1.map(t=>({...t,isCompleted:!1}))}}function I1(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:_t.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function T1(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function C1(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=mr(t);if(!a){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/fE;switch(o.transitionState){case _t.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=c*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=_t.ACTIVE);break;case _t.ACTIVE:{(t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,a)||t.isPlayerOnAutopilot)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=_t.FADING_OUT);break}case _t.FADING_OUT:if(o.transitionAlpha-=c*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const p=T1(t);p!==null?(o.currentStepIndex=p,o.transitionState=_t.FADING_IN):(o.isActive=!1,o.transitionState=_t.INACTIVE)}break}o.transitionState!==_t.FADING_OUT&&o.transitionState!==_t.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,a)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function P1(){const t=m1(),r=0;for(let y=0;y<Ty;y++){const E={x:Math.random()*Wu,y:Math.random()*ju};Fc(t,E,r)}const o=Wu/2,a=ju/2,u=hc(t,{x:o,y:a},r,"male",!0);hc(t,{x:o+50,y:a},r,"female",!1);const c=[{id:"autopilotButton",action:In.ToggleAutopilot,currentWidth:Oo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:In.ToggleMute,currentWidth:Oo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:In.TogglePause,currentWidth:Oo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=w1(),p=I1(),g={time:r,entities:t,mapDimensions:{width:Wu,height:ju},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:SE,isMuted:!1,uiButtons:c,tutorial:f,tutorialState:p},v=em(g);return console.log("Game world initialized:",v),v}function R1(){return console.log("Tribe game initialized with detailed 2D world state."),P1()}const k1="humanProcreation",D1="human",N1="human",O1=Nt,M1=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(a,u)=>a.isAdult&&a.hunger<nt&&(a.procreationCooldown||0)<=0?u?!a.isPregnant&&a.age<=xt:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},L1=(t,r,o)=>{var y,E;const{gameState:a}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},c=[...t.partnerIds||[]],f=[...r.partnerIds||[]],p=t.gender==="male"?t:r,g=t.gender==="female"?t:r,v=(p.partnerIds||[]).length===0;t.stateMachine=[xo,{partnerId:r.id,previousState:(y=t.stateMachine)==null?void 0:y[0]}],r.stateMachine=[xo,{partnerId:t.id,previousState:(E=r.stateMachine)==null?void 0:E[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id);for(const P of c)if(P!==r.id){const T=a.entities.entities.get(P);T&&Pa(t,T,ih,a)}for(const P of f)if(P!==t.id){const T=a.entities.entities.get(P);T&&Pa(r,T,ih,a)}if(v&&p.leaderId&&p.leaderId!==p.id){const P=a.entities.entities.get(p.leaderId);if(P){const T=mh(p,P),N=mh(g,P);if(!T&&!N){const O=Ia();p.leaderId=p.id,p.tribeBadge=O,g.leaderId=p.id,g.tribeBadge=O}}}else if(!t.leaderId&&!r.leaderId&&p&&g){const P=Ia();p.leaderId=p.id,p.tribeBadge=P,g.leaderId=p.id,g.tribeBadge=P}t.activeAction=void 0,Qe(a,ve.Procreation,u,Ro),Qe(a,ve.Partnered,t.position,Ze,t.id),Qe(a,ve.Partnered,r.position,Ze,r.id),t.lastPartneredEffectTime=a.time,r.lastPartneredEffectTime=a.time,r.activeAction=void 0,mt(o,Xe.Procreate,u)},U1={id:k1,sourceType:D1,targetType:N1,maxDistance:O1,checker:M1,perform:L1},F1={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Yr,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=cn,perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-Wr),t.feedChildCooldownTime=Hy,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(Qe(o.gameState,ve.ChildFed,r.position,Ze,r.id),r.lastChildFedEffectTime=o.gameState.time),mt(o,Xe.ChildFed,r.position)}},H1={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Ua,checker:(t,r,o)=>{var c;if(((c=t.stateMachine)==null?void 0:c[0])!==Ni||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const a=t.stateMachine[1];return o.gameState.time-a.attackStartTime>=wg},perform:(t,r,o)=>{Pa(t,r,pS,o.gameState);const a=Me(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=IE(He(a),r.direction);if(Math.abs(u)<Qy*Math.PI/180&&Math.random()<by)Qe(o.gameState,ve.AttackDeflected,r.position,Ze,r.id);else{let p=Wy;t.gender==="male"&&(p*=Vy),t.isAdult||(p*=Ky),(!r.isAdult||r.age>=Ag)&&t.isAdult&&(p*=Xy),r.hitpoints-=p,Qe(o.gameState,ve.Hit,r.position,Ze,r.id);const v=Me(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),y=an(v,jy);r.forces.push(y),r.hitpoints<=0?mt(o,Xe.HumanDeath,r.position):mt(o,Xe.Attack,t.position)}t.attackCooldown=Ig;const f=t.stateMachine[1];f.attackStartTime=o.gameState.time,Qe(o.gameState,ve.Attack,t.position,Ze,t.id)}},B1={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Tn*2,checker:(t,r,{gameState:o})=>re(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const a=re(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const c=(t.radius+r.radius-a)*.05,f=He(_E(t.position,r.position)),p=an(f,c);t.forces.push(p),r.forces.push(an(p,-1))}},x1={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Nt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===ja&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();if(a&&t.food.push(a),r.ownerId&&r.ownerId!==t.id){const u=o.gameState.entities.entities.get(r.ownerId);u&&!Wa(t,u,o.gameState)&&Pa(u,t,hS,o.gameState)}t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+Cy,Qe(o.gameState,ve.BushClaimed,r.position,Ze),mt(o,Xe.Gather,t.position)}},G1={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Nt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===ja&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();a&&t.food.push(a),t.gatheringCooldownTime=o.gameState.time+1,mt(o,Xe.Gather,t.position)}},z1=[x1,G1],W1=[B1,...z1,U1,F1,H1];function j1(t){const{gameState:r}=t,o=r,a=Array.from(r.entities.entities.values());for(const u of W1)for(const c of a){if(u.sourceType&&c.type!==u.sourceType)continue;const f=o.search[u.targetType].byRadius(c.position,u.maxDistance);for(const p of f){if(c.id===p.id)continue;re(c.position,p.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(c,p,t)&&u.perform(c,p,t)}}}function Y1(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const $1=1/60;function V1(t,r){const o=mr(t);o&&(t.viewportCenter=zg(t.viewportCenter,o.position,vg*r))}function Oh(t,r){if(t.isPaused)return t;for(;r>0;){const o=em(t),a=Math.min(r,$1);if(o.gameOver)return o;const u=a*(_n/wn);o.time+=u,V1(o,a),g1({gameState:o,deltaTime:a}),j1({gameState:o,deltaTime:a}),Y1(o),C1(o,a),t=o,r-=a}return t}const mc=10,K1=3,Mh=mc*.7;function X1(t,r,o,a,u){const{position:c,food:f,maxFood:p,ownerId:g,claimedUntil:v}=r;if(t.beginPath(),t.arc(c.x,c.y,mc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),g&&v&&v>u&&a){const y=o.entities.entities.get(g);if(y){let E;y.id===a.id?E=Nc:Wa(a,y,o)?E=ES:E=Hg,E&&(t.strokeStyle=E,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(c.x,c.y,mc+2,0,Math.PI*2),t.stroke())}}if(f.length>0){const y=Math.PI*2/Math.min(f.length,p);for(let E=0;E<f.length;E++){const P=E*y,T=c.x+Mh*Math.cos(P),N=c.y+Mh*Math.sin(P);t.beginPath(),t.arc(T,N,K1,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}const ie=(t,r,o,a,u,c,f)=>{c==="transparent"||a<=0||u<=0||(t.fillStyle=c,t.fillRect(Math.floor(r*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(u*f)))},Lh=10,Uh=10,yn=6,Fn=4,aa=2,Q1=5,Xt=4,b1=2,gt=4,q1=2,Ge=3,yi=2,gr=0,Mo=gr+Fn-1,At=Mo,Ke=Mo+Xt-1,Z1="rgba(0, 0, 0, 0.4)",J1=4,e_=1,xc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,a,u,c,f,p="male",g=20,v=[1,0],y=!1,E=0){const P=["dead","stunned"].includes(f),T=P?Uh+4:Lh,N=P?Lh+4:Uh+Ge,O=.15,w=Math.min(a*(1-2*O)/T,u*(1-2*O)/N),k=T*w,W=N*w,B=r+(a-k)/2,x=o+(u-W)/2;t.save(),v[0]<0&&!P?(t.translate(B+k,x),t.scale(-1,1)):t.translate(B,x);const L="#D09A5A",D=g>50?"#BDBDBD":"#281808",oe="#7F5C4A",Ie="#6B4F3A",De="#E0D8C0",ct="#A0522D",Ne=1-Math.max(0,Math.min(100,E))/100*.2,Ee=p==="male"?1.1:.9,Ye=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let Ae=Q1*Ne*Ee*Ye,he=b1*Ne*Ee*Ye,se=q1*Ne*Ye;y&&p==="female"&&(Ae*=1.5);const z=Math.round((T-Ae)/2),$=Math.round((T-yn)/2),j=z-he,_=z+Ae,M=1,V=z+(Ae/2-M/2)-se,ae=z+(Ae/2+M/2),ge=v[1]<-.2&&Math.abs(v[0])<.7,le=X=>{t.fillStyle=Z1,t.beginPath();const ne=T/2,we=X;t.ellipse(Math.floor(ne*w),Math.floor(we*w),Math.max(1,Math.floor(J1*w)),Math.max(1,Math.floor(e_*w)),0,0,2*Math.PI),t.fill()},fe=(X,ne)=>{p==="male"?(ie(t,z,Mo+X,Ae,Xt-yi,ne,w),ie(t,z,Mo+Xt-yi+X,Ae,yi,oe,w)):ie(t,z,Mo+X,Ae,Xt,Ie,w)},de=(X,ne)=>{ge?ie(t,$,gr+X,yn,Fn,D,w):(ie(t,$,gr+X,yn,Fn,ne,w),ie(t,$,gr+X,yn,aa,D,w),p==="female"?(ie(t,$-1,gr+aa+X,1,Fn,D,w),ie(t,$+yn,gr+aa+X,1,Fn,D,w)):ie(t,$+1,gr+2+X,yn-2,Fn-2,D,w))};switch(f){case"idle":{const X=c*Math.PI*2,ne=Math.sin(X)*.5,ce=(Math.cos(X*2)+1)*.25;le(Ke+Ge+1),ie(t,V+ne,Ke+ce,se,Ge,L,w),ie(t,ae-ne,Ke+ce,se,Ge,L,w),fe(ce,L),ie(t,j,At+ce,he,gt,L,w),ie(t,_,At+ce,he,gt,L,w),de(ce,L);break}case"walk":{const X=c*Math.PI*2,ne=Math.sin(X)*2,ce=Math.abs(Math.cos(X))*1;le(Ke+Ge+1),ie(t,V+ne,Ke+ce,se,Ge,L,w),ie(t,ae-ne,Ke+ce,se,Ge,L,w),fe(ce,L),ie(t,j-ne,At+ce,he,gt,L,w),ie(t,_+ne,At+ce,he,gt,L,w),de(ce,L);break}case"gathering":{const X=c*Math.PI*2,ne=1,we=(Math.sin(X)+1)/2*2,ce=ne+Math.abs(Math.cos(X))*.5;le(Ke+Ge+1),ie(t,V,Ke+ce,se,Ge-ne,L,w),ie(t,ae,Ke+ce,se,Ge-ne,L,w),fe(ce,L),ie(t,j+1,At+ce-we,he,gt,L,w),ie(t,_-1,At+ce-we,he,gt,L,w),de(ce,L);break}case"eat":{le(Ke+Ge+1),ie(t,V,Ke+1,se,Ge-1,L,w),ie(t,ae,Ke+1,se,Ge-1,L,w),fe(1,L);const we=(Math.sin(c*Math.PI*4)+1)/2,ce=$+yn/2,Cn=gr+Fn/2,Ot=_+(ce-_)*we,zt=At+1+(Cn-(At+1))*we;ie(t,j,At+1,he,gt,L,w),ie(t,Ot,zt,he,gt,L,w),ie(t,Ot,zt-1,1,1,ct,w),de(1,L);break}case"procreate":{const X=(Math.sin(c*Math.PI*8)+1)/4,ne=(Math.sin(c*Math.PI*6)+1)*.5,we=1.5,ce=we-ne;le(Ke+Ge+1),ie(t,V,Ke+ce,se,Ge-we,L,w),ie(t,ae,Ke+ce,se,Ge-we,L,w),fe(ce,L),ie(t,j,At+ce,he,gt,L,w),ie(t,_,At+ce,he,gt,L,w),de(ce,L),t.globalAlpha=X,fe(ce,"white"),t.globalAlpha=1;break}case"attacking":{const X=Math.sin(c*Math.PI)*1.5,ne=Math.abs(Math.sin(c*Math.PI));le(Ke+Ge+1),ie(t,V-X,Ke+ne,se,Ge,L,w),ie(t,ae+X*.5,Ke+ne,se,Ge,L,w),fe(ne,L),ie(t,j,At+ne-2,he,gt,L,w),ie(t,_,At+ne-2.5,he,gt,L,w),de(ne,L);break}case"defending":{le(Ke+Ge+1),ie(t,V,Ke+1,se,Ge-1,L,w),ie(t,ae,Ke+1,se,Ge-1,L,w),fe(1,L),ie(t,j-1,At+1-1,he,gt,L,w),ie(t,_+1,At+1-1,he,gt,L,w),de(1,L);break}case"stunned":case"dead":{const X=f==="dead",ne=X?Math.min(1,c):0,we=ne>.5?De:L,ce=p==="male"?oe:Ie,Cn=ne>.8?"transparent":D,Ot=T/2,zt=N/2,Ar=2;le(N-1),ie(t,Ot-se-Ar,zt,se,Ge,we,w),ie(t,Ot+Ar,zt,se,Ge,we,w),ie(t,Ot-he-Ar,zt-Xt+1,he,gt,we,w),ie(t,Ot+Ar,zt-Xt+1,he,gt,we,w);const Pn=Ot-Ae/2,Gn=zt-Xt/2;p==="male"?(ne<.7&&ie(t,Pn,Gn+Xt-yi,Ae,yi,ce,w),ie(t,Pn,Gn,Ae,Xt-yi,we,w)):ne<.7?ie(t,Pn,Gn,Ae,Xt,ce,w):ie(t,Pn,Gn,Ae,Xt,we,w);const Vr=Ot-yn/2,zn=zt-Xt/2-Fn+1;if(ie(t,Vr,zn,yn,Fn,we,w),Cn!=="transparent"&&ie(t,Vr,zn,yn,aa,Cn,w),X&&ne>.6){const Wn="#B0A890";for(let _r=0;_r<3;_r++)ie(t,Pn+1,Gn+_r*1+1,Ae-2,.5,Wn,w)}break}default:ie(t,0,0,T,N,"magenta",w);break}t.restore()}};function t_(t,r){const{position:o,gender:a,age:u,decayProgress:c,food:f,radius:p}=r;if(t.save(),t.globalAlpha=1-c,xc.render(t,o.x-p,o.y-p,p*2,p*2,c,"dead",a,u,[0,0],!1,0),t.restore(),f.length>0){t.save(),t.font=`${US}px Arial`,t.textAlign="center",t.textBaseline="middle";const g=Tn*.9,v=Math.PI/Sg*3;f.forEach((y,E)=>{const P=E*v,T=o.x+g*Math.cos(P)*Math.atan2(E,E),N=o.y+g*Math.sin(P)*Math.atan2(E,E),O=Gg[y.type];t.fillText(O,T,N)}),t.restore()}}const n_=25,r_=0,Fh=28;function i_(t,r,o,a,u,c,f,p,g){t.save();const v=r.x-f.x+p/2,y=r.y-f.y+g/2;t.strokeStyle=a,t.lineWidth=c,t.setLineDash(u),t.beginPath(),t.arc(v,y,o+Bg,0,2*Math.PI),t.stroke(),t.restore()}function o_(t,r,o,a,u,c){if(r.length===0)return;t.save(),r.forEach(y=>{y.targetEntity&&i_(t,y.targetEntity.position,y.targetEntity.radius,AS,_S,2,a,u,c)}),t.font=`${oh}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const f=o.position.x-a.x+u/2,p=o.position.y-a.y+c/2;let g=0,v={};r.forEach(y=>{const E=CE[y.type];if(y.targetEntity){v[y.targetEntity.id]=(v[y.targetEntity.id]||0)+1;const P=y.targetEntity.position.x-a.x+u/2,T=y.targetEntity.position.y-a.y+c/2,N=`${E}${y.key.toUpperCase()}`,O=T-y.targetEntity.radius-Bg-oh/2-(v[y.targetEntity.id]-1)*Fh;t.fillText(N,P,O)}else{t.textAlign="left";const P=`${E}${y.key.toUpperCase()}`,T=f+n_,O=p+r_+g*Fh;t.fillText(P,T,O),g++,t.textAlign="center"}}),t.restore()}function s_(t,r){t.save(),t.fillStyle=r.backgroundColor,t.fillRect(r.rect.x,r.rect.y,r.rect.width,r.rect.height),t.fillStyle=r.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,r.rect.x+r.rect.width/2,r.rect.y+r.rect.height/2),t.restore()}function wi(t,r,o,a,u,c,f,p){t.save(),t.fillStyle=f,t.fillRect(r,o,a,u),t.fillStyle=p,t.fillRect(r,o,a*Math.max(0,c),u),t.restore()}function a_(t,r,o,a,u,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*u;let p;f>c||f+(a.length-1)*4>c?p=(c-f)/(a.length-1):p=4,a.length===1&&(p=0);for(let g=0;g<a.length;g++){const v=Gg[a[g].type];t.fillText(v,r+g*(u+p),o)}t.restore()}function l_(t,r,o,a,u){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function Wo(t,r,o,a,u,c=!1,f=!1,p=!1,g=!1){a<Cc&&(o=o*.75),xc.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,a,[0,0],!1,0);let v,y;c?(v=FS,y=Nc):f?(v=HS,y=Fg):p?(v=BS,y=Ug):g&&(v=xS,y=Lg),v&&y&&l_(t,r,o/2,v,y)}function u_(t,r,o,a,u,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*u,p=4;let g;const v=f+(a.length-1)*p;a.length>1&&v>c?g=(c-f)/(a.length-1):g=p,a.length<=1&&(g=0);for(let y=0;y<a.length;y++){const{member:E,isPlayer:P,isHeir:T,isPartner:N,isParent:O}=a[y],w=r+y*(u+g)+u/2,k=o+u/4;Wo(t,{x:w,y:k},u,E.age,E.gender,P,T,N,O)}t.restore()}function c_(t,r,o,a){if(r.length===0)return;t.save();const u=cr,c=" 00",f=" 00";t.font=`${Yu}px "Press Start 2P", Arial`;const p=t.measureText(c).width,g=t.measureText(f).width,v=cr+ia+cr+dr+p+cr/2+dr+g,y=r.length*oa+(r.length-1)*lh,E=a-y-cr;t.fillStyle=zS,t.fillRect(u,E,v,y);for(let P=0;P<r.length;P++){const T=r[P],N=E+P*(oa+lh),O=N+oa/2;T.isPlayerTribe&&(t.fillStyle=GS,t.fillRect(u,N,v,oa));let w=u+cr;t.font=`${ia}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(T.tribeBadge,w,O-ia/4),w+=ia+cr*1.1,T.adultCount>0&&(Wo(t,{x:w+dr/2,y:O},dr,25,"male"),w+=dr/2,t.font=`${Yu}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${T.adultCount}`,w,O),w+=t.measureText(` ${T.adultCount}`).width+cr/2),T.childCount>0&&(Wo(t,{x:w+dr/2,y:O},dr,1,"female"),w+=dr/2,t.font=`${Yu}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${T.childCount}`,w,O))}t.restore()}function d_(t,r,o,a,u){t.save();const{position:c}=r;t.strokeStyle=a,t.lineWidth=2+Math.sin(u*5)*1.5,t.setLineDash([8,8]),t.beginPath(),t.arc(c.x,c.y,o,0,2*Math.PI),t.stroke(),t.restore()}function f_(t,r,o,a,u){if(r.transitionState===_t.INACTIVE)return;const c=o.steps[r.currentStepIndex];if(!c)return;t.save(),t.globalAlpha=r.transitionAlpha;const f=aE,p=lE,g=uE,v=`${Xu}px "Press Start 2P", Arial`,y=`${fh}px "Press Start 2P", Arial`,E=dE,P=fh*1.5;t.font=y;const T=c.text.split(" ");let N="";const O=[];for(let x=0;x<T.length;x++){const q=N+T[x]+" ";t.measureText(q).width>f-p*2&&x>0?(O.push(N),N=T[x]+" "):N=q}O.push(N);const w=p*2+Xu+p/2+O.length*P,k=(a-f)/2,W=u-w-20;t.fillStyle=cE,t.beginPath(),t.moveTo(k+g,W),t.lineTo(k+f-g,W),t.quadraticCurveTo(k+f,W,k+f,W+g),t.lineTo(k+f,W+w-g),t.quadraticCurveTo(k+f,W+w,k+f-g,W+w),t.lineTo(k+g,W+w),t.quadraticCurveTo(k,W+w,k,W+w-g),t.lineTo(k,W+g),t.quadraticCurveTo(k,W,k+g,W),t.closePath(),t.fill(),t.fillStyle=E,t.textAlign="center",t.textBaseline="top",t.font=v,t.fillText(c.title,k+f/2,W+p),t.font=y;let B=W+p+Xu+p/2;for(const x of O)t.fillText(x,k+f/2,B),B+=P;t.restore()}function Hh(t,r,o){t.save();const a=mE,u={x:r.x-a,y:r.y-a,width:r.width+a*2,height:r.height+a*2};t.strokeStyle=xg,t.lineWidth=gE+Math.sin(o*hE)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function p_(t){t.save(),t.fillStyle=iE,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=oE,t.font=`${sE}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const h_={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle"};function g_(t,r){var p;const{radius:o,position:a,activeAction:u="idle"}=r,c=((p=r.stateMachine)==null?void 0:p[0])||"N/A",f=r.isAdult?Tn+20:Tn*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,a.x,a.y-f),t.fillText(`State: ${c}`,a.x,a.y-f+10),t.fillText(`HP: ${r.hitpoints}`,a.x,a.y-f+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,a.x,a.y-f+30),t.restore(),t.beginPath(),t.arc(a.x,a.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function m_(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const a=r.aiBlackboard.getNodeExecutionData();if(a.size===0)return;t.save(),t.font=`${bS}px Arial`,t.textAlign="left",t.textBaseline="top";const u=(y,E,P)=>{let T=E;const N=y.name?a.get(y.name):void 0;if(y.name&&N){const{lastExecuted:O,status:w,depth:k}=N,W=rE/wn*_n,B=o-O,x=Math.max(0,1-B/W),q=TE(tE,nE,x);let L;switch(w){case J.SUCCESS:L=ZS;break;case J.FAILURE:L=JS;break;case J.RUNNING:L=eE;break;default:L="grey"}const D=P+2+(k??0)*dh;t.fillStyle=L,t.fillText("●",D,T),t.fillStyle=q,t.fillText(` ${y.name}`,D+8,T),T+=ch}if(y.children)for(const O of y.children)T=u(O,T,P);else y.child&&(T=u(y.child,T,P));return T},c=y=>{let E=0,P=0;const T=y.name?a.get(y.name):void 0;if(y.name&&T){const N=(T.depth??0)*dh+t.measureText(y.name).width+20;E=Math.max(E,N),P+=ch}if(y.children)for(const N of y.children){const O=c(N);E=Math.max(E,O.width),P+=O.height}else if(y.child){const N=c(y.child);E=Math.max(E,N.width),P+=N.height}return{width:E,height:P}},{width:f,height:p}=c(r.aiBehaviorTree),g=r.position.x+XS,v=r.position.y+QS;t.fillStyle=qS,t.fillRect(g,v,f,p+4),u(r.aiBehaviorTree,v+2,g),t.restore()}function v_(t,r,o){t.save(),t.font=`${ah}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-Tn-ah-18),t.restore()}function y_(t,r,o,a,u){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function S_(t,r,o){var p;const{position:a,radius:u}=r,c=a.x-$u/2,f=a.y-u-WS;if(((p=r.stateMachine)==null?void 0:p[0])===Ni){const g=r.stateMachine[1],v=o-g.attackStartTime,y=Math.min(v/wg,1);wi(t,c,f,$u,uh,y,_i,jS)}else if(r.attackCooldown&&r.attackCooldown>0){const g=1-r.attackCooldown/Ig;wi(t,c,f,$u,uh,g,_i,YS)}}function E_(t,r,o=!1,a=!1,u=!1,c=!1,f=!1,p=!1,g=!1,v,y){const{position:E,activeAction:P="idle"}=r,T=r.isAdult?Tn:Tn*.6,N=h_[P]||"idle";xc.render(t,E.x-T,E.y-T,T*2,T*2,r.animationProgress||0,N,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),p&&(t.save(),t.strokeStyle=Hg,t.lineWidth=2,t.beginPath(),t.arc(E.x,E.y,T+3,0,2*Math.PI),t.stroke(),t.restore());let O,w;if(f?(O=IS,w=Fg):o?(O=wS,w=Nc):u?(O=TS,w=SS):a?(O=CS,w=Lg):c&&(O=PS,w=Ug),O&&w&&y_(t,E,T,O,w),r.tribeBadge&&v_(t,E,r.tribeBadge),r.aiType!==void 0){t.save();const W=3,B=T+5;let x;switch(r.aiType){case Qt.UtilityBased:x="blue";break;case Qt.BehaviorTreeBased:x="purple";break;case Qt.StrategyBased:default:x="red";break}t.fillStyle=x,t.beginPath(),t.arc(E.x,E.y-B,W,0,Math.PI*2),t.fill(),t.restore()}const k=g&&(y===void 0||r.id===y);k&&r.aiBlackboard&&m_(t,r,v),S_(t,r,v),k&&g_(t,r)}const tm=15;function Bh(t,r,o,a,u=1.5){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,v=1+Math.sin(f*Math.PI*2)*(u-1),y=tm*v;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,y),0,Math.PI*2),t.fillStyle=a,t.fill(),t.restore()}function Si(t,r,o,a,u=2){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,g=tm*2*f;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,g,0,Math.PI*2),t.strokeStyle=a,t.lineWidth=u,t.stroke(),t.restore()}function fr(t,r,o,a){const u=o-r.startTime,c=Math.min(u/r.duration,1),f=1-c,p=-20*c;t.save(),t.globalAlpha=f,t.font="20px Arial",t.textAlign="center",t.fillText(a,r.position.x,r.position.y+p),t.restore()}function A_(t,r,o){switch(r.type){case ve.Hunger:Bh(t,r,o,"rgba(255, 165, 0, 0.7)");break;case ve.Procreation:fr(t,r,o,"❤️");break;case ve.Pregnant:Bh(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case ve.TargetAcquired:Si(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case ve.Attack:fr(t,r,o,"⚔️");break;case ve.Partnered:fr(t,r,o,"🤝");break;case ve.BushClaimed:Si(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case ve.BushClaimLost:Si(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case ve.Eating:fr(t,r,o,"🍖");break;case ve.ChildFed:fr(t,r,o,"🍼");break;case ve.AttackDeflected:fr(t,r,o,"🛡️");break;case ve.AttackResisted:fr(t,r,o,"💪");break;case ve.Hit:fr(t,r,o,"💥");break;case ve.SeizeBuildup:Si(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case ve.Seize:Si(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case ve.CallToAttack:Si(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function To(t,r,o,a,u,...c){const f={...u.position};for(let p=-o;p<=o;p+=o)for(let g=-r;g<=r;g+=r)u.position.x=f.x+g,u.position.y=f.y+p,a(t,u,...c);u.position=f}function xh(t,r,o,a,u){var L;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-a.x,t.canvas.height/2-a.y),r.gameOver){t.restore(),t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20);return}const c=mr(r),f=c?qt(r,c):[],p=fc(f),g=((L=c==null?void 0:c.partnerIds)==null?void 0:L.map(D=>r.entities.entities.get(D)).filter(D=>D!==void 0))||[],{width:v,height:y}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((D,oe)=>D.position.y-oe.position.y||D.id-oe.id).forEach(D=>{var oe,Ie;if(D.type==="berryBush")To(t,v,y,X1,D,r,c,r.time);else if(D.type==="human"){const De=D,ct=De.id===(c==null?void 0:c.id),Ne=f.some(se=>se.id===De.id),Ee=De.id===(p==null?void 0:p.id),Ye=c&&(De.id===c.motherId||De.id===c.fatherId),Ae=c&&(((oe=De.partnerIds)==null?void 0:oe.includes(c.id))||((Ie=c.partnerIds)==null?void 0:Ie.includes(De.id))),he=(c==null?void 0:c.attackTargetId)===De.id;To(t,v,y,E_,De,ct,Ye,Ne,Ae,Ee,he,o,r.time,r.debugCharacterId)}else D.type==="humanCorpse"&&To(t,v,y,t_,D)}),r.visualEffects.forEach(D=>{To(t,v,y,A_,D,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const D of r.tutorialState.highlightedEntityIds){const oe=r.entities.entities.get(D);oe&&To(t,v,y,d_,oe,pE,xg,r.time)}t.restore();let P=null,T=null;t.fillStyle=RS,t.font=`${lr}px "Press Start 2P", Arial`,t.shadowColor=kS,t.shadowBlur=DS,t.textAlign="left";let N=Dt+lr;const w=r.time/(_n/wn)/yg%1,k=_o[Ei.Time],W=25,B=Dt+W;if(t.fillText(k,Dt,N+Ht/2+lr/3),wi(t,B,N,ur,Ht,w,_i,LS),N+=Ht+vn,c){const D=N+Fr/2,oe=N+(Fr-Ht)/2,Ie=5;Wo(t,{x:Dt*2,y:D},Fr,5,c.gender,!1,!1,!1);const De=Dt+Fr+Ie,ct=ur+W-(Fr+Ie)*2;wi(t,De,oe,ct,Ht,Math.floor(c.age)/Ho,_i,MS),Wo(t,{x:De+ct+Ie+Fr/2,y:D},Fr,Ho,c.gender,!1,!1,!1),N+=Ht+vn*2;const Ne=[],Ee=new Set;if(Ne.push({member:c,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),Ee.add(c.id),p&&!Ee.has(p.id)&&(Ne.push({member:p,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),Ee.add(p.id)),g.forEach(V=>{Ee.has(V.id)||(Ne.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),Ee.add(V.id))}),f.forEach(V=>{Ee.has(V.id)||(Ne.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),Ee.add(V.id))}),c.motherId&&!Ee.has(c.motherId)){const V=r.entities.entities.get(c.motherId);V&&(Ne.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),Ee.add(V.id))}if(c.fatherId&&!Ee.has(c.fatherId)){const V=r.entities.entities.get(c.fatherId);V&&(Ne.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),Ee.add(V.id))}const Ye=_o[Ei.Family],Ae=10,he=Dt+lr+Ae,se=ur+W-(lr+Ae),z=N+ra/2;t.font=`${lr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(Ye,Dt,z);const $=N+ra/2;u_(t,he,$,Ne,ra,se),N+=ra+vn,t.textBaseline="alphabetic";const j=_o[Ei.Hitpoints];t.fillText(j,Dt,N+Ht/2+lr/3),wi(t,B,N,ur,Ht,c.hitpoints/c.maxHitpoints,_i,OS),N+=Ht+vn;const _=_o[Ei.Hunger];t.fillText(_,Dt,N+Ht/2+lr/3),wi(t,B,N,ur,Ht,(wt-c.hunger)/wt,_i,NS),P={x:Dt,y:N-vn/2,width:ur+W,height:Ht+vn},N+=Ht+vn,t.textBaseline="middle";const M=_o[Ei.Food];t.fillText(M,Dt,N+Ao/2),a_(t,B,N+Ao/2,c.food,Ao,ur),T={x:Dt,y:N-vn/5,width:ur+W,height:Ao+vn},t.textBaseline="alphabetic",N+=Ao+vn*2}t.textAlign="right";let x=t.canvas.width-Dt;r.uiButtons.forEach(D=>{const oe=Dt,Ie=x-D.currentWidth;switch(D.rect={x:Ie,y:oe,width:D.currentWidth,height:$S},D.textColor=KS,D.action){case In.ToggleAutopilot:D.text="AUT[O]",D.backgroundColor=r.isPlayerOnAutopilot?Ku:Vu;break;case In.ToggleMute:D.text=r.isMuted?"UN[M]UTE":"[M]UTE",D.backgroundColor=r.isMuted?Ku:Vu;break;case In.TogglePause:D.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",D.backgroundColor=r.isPaused?Ku:Vu,r.isPaused?D.currentWidth=Oo*1.4:D.currentWidth=Oo*1.1;break}s_(t,D),x-=D.currentWidth+VS});const q=RE(r,c==null?void 0:c.leaderId);if(c_(t,q,t.canvas.width,t.canvas.height),t.shadowColor="transparent",t.shadowBlur=0,c&&u.length>0&&o_(t,u,c,a,t.canvas.width,t.canvas.height),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:D}=r.tutorialState;D.has(zo.HUNGER_BAR)&&P&&Hh(t,P,r.time),D.has(zo.FOOD_BAR)&&T&&Hh(t,T,r.time)}r.tutorialState.isActive&&f_(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),r.isPaused&&p_(t)}const Gh=R1(),zh=()=>{const t=Re.useRef(null),r=Re.useRef(null),o=Re.useRef(Gh),a=Re.useRef(),u=Re.useRef(new Set),c=Re.useRef(!1),f=Re.useRef(Gh.viewportCenter),p=Re.useRef([]),{appState:g,setAppState:v}=Ra();Re.useEffect(()=>{const T=t.current;if(!T)return;r.current=T.getContext("2d");const N=()=>{T&&r.current&&(T.width=window.innerWidth,T.height=window.innerHeight,xh(r.current,o.current,c.current,f.current,p.current))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[y,E,P]=gy(T=>{if(!r.current||!a.current){a.current=T;return}const N=(T-a.current)/1e3;o.current=Oh(o.current,N);const O=mr(o.current);if(O?p.current=Wg(o.current,O):p.current=[],O){const{mapDimensions:w}=o.current,{width:k,height:W}=w;let B={...O.position};if(o.current.debugCharacterId){const D=o.current.entities.entities.get(o.current.debugCharacterId);D&&(B={...D.position})}const x=B.x-f.current.x;Math.abs(x)>k/2&&(x>0?B.x-=k:B.x+=k);const q=B.y-f.current.y;Math.abs(q)>W/2&&(q>0?B.y-=W:B.y+=W);let L=zg(f.current,B,vg*N);L={x:(L.x%k+k)%k,y:(L.y%W+W)%W},f.current=L}else f.current=o.current.viewportCenter;xh(r.current,o.current,c.current,f.current,p.current),a.current=T,o.current.gameOver&&g!=="gameOver"&&(qg(Xe.GameOver,{masterVolume:o.current.masterVolume,isMuted:o.current.isMuted}),v("gameOver",{generations:o.current.generationCount,cause:o.current.causeOfGameOver||"Unknown"}))});return Re.useEffect(()=>(E(),y),[E,y]),Re.useEffect(()=>{const T=N=>{if(!P()||o.current.gameOver||!t.current)return;const O=t.current.getBoundingClientRect(),w=N.clientX-O.left,k=N.clientY-O.top,W={gameState:o.current};o.current.uiButtons.forEach(B=>{if(w>=B.rect.x&&w<=B.rect.x+B.rect.width&&k>=B.rect.y&&k<=B.rect.y+B.rect.height){const x=mr(o.current);switch(x&&mt(W,Xe.ButtonClick,x.position),B.action){case In.ToggleAutopilot:o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;break;case In.ToggleMute:o.current.isMuted=!o.current.isMuted;break;case In.TogglePause:o.current.isPaused=!o.current.isPaused;break}}})};return window.addEventListener("mousedown",T),()=>{window.removeEventListener("mousedown",T)}},[P]),Re.useEffect(()=>{const T=O=>{if(!P()||o.current.gameOver)return;const w=O.key.toLowerCase();if(w==="m"){o.current.isMuted=!o.current.isMuted,ma(o.current.masterVolume,o.current.isMuted);return}if(w==="="||w==="+"){const B=Math.min(1,o.current.masterVolume+.1);o.current.masterVolume=parseFloat(B.toFixed(1)),ma(o.current.masterVolume,o.current.isMuted);return}if(w==="-"){const B=Math.max(0,o.current.masterVolume-.1);o.current.masterVolume=parseFloat(B.toFixed(1)),ma(o.current.masterVolume,o.current.isMuted);return}if(w==="t"){o.current=Oh(o.current,10);return}if(w===" "||w==="p"){O.preventDefault(),o.current.isPaused=!o.current.isPaused;return}if(w==="o"){o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;return}if(w==="§"||w==="`"){c.current=!c.current,c.current||(o.current.debugCharacterId=void 0);return}if(w==="tab"){O.preventDefault(),c.current=!0;const B=Array.from(o.current.entities.entities.values()).filter(x=>x.type==="human");if(B.length>0){const x=B.sort((oe,Ie)=>oe.isPlayer?-1:oe.id-Ie.id),q=o.current.debugCharacterId,D=((q?x.findIndex(oe=>oe.id===q):-1)+1)%x.length;o.current.debugCharacterId=x[D].id}else o.current.debugCharacterId=void 0;return}if(o.current.isPlayerOnAutopilot)return;u.current.add(w);const k=mr(o.current);if(!k)return;const W={gameState:o.current};if(w==="e"){const B=Se(k,o.current,"berryBush",Nt,L=>L.food.length>0&&k.food.length<k.maxFood),x=Se(k,o.current,"humanCorpse",Nt,L=>L.food.length>0&&k.food.length<k.maxFood);let q=null;B&&x?q=re(k.position,B.position,o.current.mapDimensions.width,o.current.mapDimensions.height)<=re(k.position,x.position,o.current.mapDimensions.width,o.current.mapDimensions.height)?B:x:q=B||x,q&&(k.activeAction="gathering",mt(W,Xe.Gather,k.position))}else if(w==="r")Se(k,o.current,"human",Nt,x=>{const q=x;return q.id!==k.id&&q.gender!==k.gender&&q.isAdult&&k.isAdult&&q.hunger<nt&&k.hunger<nt&&(q.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(q.gender==="female"?!q.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",mt(W,Xe.Procreate,k.position));else if(w==="f")k.activeAction="eating",mt(W,Xe.Eat,k.position);else if(w==="arrowup"||w==="w")k.direction.y=-1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowdown"||w==="s")k.direction.y=1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowleft"||w==="a")k.direction.x=-1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowright"||w==="d")k.direction.x=1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="q"){const B=Se(k,o.current,"human",Ua,x=>x.id!==k.id);B&&(k.activeAction="attacking",k.attackTargetId=B.id)}else if(w==="b"){if(p.current.find(x=>x.type===En.PlantBush)){const x=jg(k.position,o.current,50,cc);x&&(k.activeAction="planting",k.targetPosition=x,o.current.hasPlayerPlantedBush=!0)}}else if(w==="v")p.current.find(x=>x.type===En.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=o.current.time+yr,Qe(o.current,ve.CallToAttack,k.position,yr),mt(W,Xe.CallToAttack,k.position));else return},N=O=>{if(!P()||o.current.gameOver)return;const w=O.key.toLowerCase();u.current.delete(w);const k=mr(o.current);!k||o.current.isPlayerOnAutopilot||(w==="arrowup"||w==="w"||w==="arrowdown"||w==="s"?k.direction.y=0:(w==="arrowleft"||w==="a"||w==="arrowright"||w==="d")&&(k.direction.x=0),!u.current.has("arrowup")&&!u.current.has("arrowdown")&&!u.current.has("arrowleft")&&!u.current.has("arrowright")&&!u.current.has("w")&&!u.current.has("a")&&!u.current.has("s")&&!u.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!u.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!u.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!u.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",T),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",T),window.removeEventListener("keyup",N)}},[P,g,v,E,y]),ke.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})},__=Er.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,w_=Er.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,la=Er.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,I_=Er.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,T_=()=>{const{setAppState:t,gameOverDetails:r}=Ra(),o=()=>{t("intro")};return ke.jsxs(__,{children:[ke.jsx(w_,{children:"Game Over"}),ke.jsx(la,{children:"Your tribe's lineage has ended."}),r&&ke.jsxs(ke.Fragment,{children:[ke.jsxs(la,{children:["Generations Survived: ",r.generations]}),ke.jsxs(la,{children:["Cause of Extinction: ",r.cause]})]}),!r&&ke.jsx(la,{children:"Game details are unavailable."}),ke.jsx(I_,{onClick:o,children:"Return to Menu"})]})},C_=dy`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function P_(t,r){Re.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";r(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Re.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const R_=()=>{const{appState:t,setAppState:r}=Ra();P_(t,r);const o=()=>{switch(t){case"intro":return ke.jsx(Jp,{});case"game":return ke.jsx(zh,{});case"gameOver":return ke.jsxs(ke.Fragment,{children:[ke.jsx(zh,{}),ke.jsx(T_,{})]});default:return ke.jsx(Jp,{})}};return ke.jsxs(ke.Fragment,{children:[ke.jsx(C_,{}),o()]})};$E();const Wh=document.getElementById("root");Wh?uv.createRoot(Wh).render(ke.jsx(An.StrictMode,{children:ke.jsx(cv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:ke.jsx(R_,{})})})):console.error("Failed to find the root element");
