var T0=Object.defineProperty;var I0=(n,r,o)=>r in n?T0(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o;var Te=(n,r,o)=>I0(n,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(u){if(u.ep)return;u.ep=!0;const l=o(u);fetch(u.href,l)}})();function gg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ju={exports:{}},Ao={},Yu={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function C0(){if(Jh)return we;Jh=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function T(w,M,re){this.props=w,this.context=M,this.refs=O,this.updater=re||k}T.prototype.isReactComponent={},T.prototype.setState=function(w,M){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,M,"setState")},T.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function F(){}F.prototype=T.prototype;function C(w,M,re){this.props=w,this.context=M,this.refs=O,this.updater=re||k}var W=C.prototype=new F;W.constructor=C,D(W,T.prototype),W.isPureReactComponent=!0;var x=Array.isArray,K=Object.prototype.hasOwnProperty,U={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function j(w,M,re){var ee,Ae={},ae=null,me=null;if(M!=null)for(ee in M.ref!==void 0&&(me=M.ref),M.key!==void 0&&(ae=""+M.key),M)K.call(M,ee)&&!B.hasOwnProperty(ee)&&(Ae[ee]=M[ee]);var he=arguments.length-2;if(he===1)Ae.children=re;else if(1<he){for(var b=Array(he),ie=0;ie<he;ie++)b[ie]=arguments[ie+2];Ae.children=b}if(w&&w.defaultProps)for(ee in he=w.defaultProps,he)Ae[ee]===void 0&&(Ae[ee]=he[ee]);return{$$typeof:n,type:w,key:ae,ref:me,props:Ae,_owner:U.current}}function Se(w,M){return{$$typeof:n,type:w.type,key:M,ref:w.ref,props:w.props,_owner:w._owner}}function ze(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Je(w){var M={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(re){return M[re]})}var Ue=/\/+/g;function Le(w,M){return typeof w=="object"&&w!==null&&w.key!=null?Je(""+w.key):M.toString(36)}function _e(w,M,re,ee,Ae){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var me=!1;if(w===null)me=!0;else switch(ae){case"string":case"number":me=!0;break;case"object":switch(w.$$typeof){case n:case r:me=!0}}if(me)return me=w,Ae=Ae(me),w=ee===""?"."+Le(me,0):ee,x(Ae)?(re="",w!=null&&(re=w.replace(Ue,"$&/")+"/"),_e(Ae,M,re,"",function(ie){return ie})):Ae!=null&&(ze(Ae)&&(Ae=Se(Ae,re+(!Ae.key||me&&me.key===Ae.key?"":(""+Ae.key).replace(Ue,"$&/")+"/")+w)),M.push(Ae)),1;if(me=0,ee=ee===""?".":ee+":",x(w))for(var he=0;he<w.length;he++){ae=w[he];var b=ee+Le(ae,he);me+=_e(ae,M,re,b,Ae)}else if(b=_(w),typeof b=="function")for(w=b.call(w),he=0;!(ae=w.next()).done;)ae=ae.value,b=ee+Le(ae,he++),me+=_e(ae,M,re,b,Ae);else if(ae==="object")throw M=String(w),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return me}function ke(w,M,re){if(w==null)return w;var ee=[],Ae=0;return _e(w,ee,"","",function(ae){return M.call(re,ae,Ae++)}),ee}function ge(w){if(w._status===-1){var M=w._result;M=M(),M.then(function(re){(w._status===0||w._status===-1)&&(w._status=1,w._result=re)},function(re){(w._status===0||w._status===-1)&&(w._status=2,w._result=re)}),w._status===-1&&(w._status=0,w._result=M)}if(w._status===1)return w._result.default;throw w._result}var se={current:null},$={transition:null},X={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:$,ReactCurrentOwner:U};function Y(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:ke,forEach:function(w,M,re){ke(w,function(){M.apply(this,arguments)},re)},count:function(w){var M=0;return ke(w,function(){M++}),M},toArray:function(w){return ke(w,function(M){return M})||[]},only:function(w){if(!ze(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},we.Component=T,we.Fragment=o,we.Profiler=u,we.PureComponent=C,we.StrictMode=s,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,we.act=Y,we.cloneElement=function(w,M,re){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var ee=D({},w.props),Ae=w.key,ae=w.ref,me=w._owner;if(M!=null){if(M.ref!==void 0&&(ae=M.ref,me=U.current),M.key!==void 0&&(Ae=""+M.key),w.type&&w.type.defaultProps)var he=w.type.defaultProps;for(b in M)K.call(M,b)&&!B.hasOwnProperty(b)&&(ee[b]=M[b]===void 0&&he!==void 0?he[b]:M[b])}var b=arguments.length-2;if(b===1)ee.children=re;else if(1<b){he=Array(b);for(var ie=0;ie<b;ie++)he[ie]=arguments[ie+2];ee.children=he}return{$$typeof:n,type:w.type,key:Ae,ref:ae,props:ee,_owner:me}},we.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:l,_context:w},w.Consumer=w},we.createElement=j,we.createFactory=function(w){var M=j.bind(null,w);return M.type=w,M},we.createRef=function(){return{current:null}},we.forwardRef=function(w){return{$$typeof:h,render:w}},we.isValidElement=ze,we.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:ge}},we.memo=function(w,M){return{$$typeof:v,type:w,compare:M===void 0?null:M}},we.startTransition=function(w){var M=$.transition;$.transition={};try{w()}finally{$.transition=M}},we.unstable_act=Y,we.useCallback=function(w,M){return se.current.useCallback(w,M)},we.useContext=function(w){return se.current.useContext(w)},we.useDebugValue=function(){},we.useDeferredValue=function(w){return se.current.useDeferredValue(w)},we.useEffect=function(w,M){return se.current.useEffect(w,M)},we.useId=function(){return se.current.useId()},we.useImperativeHandle=function(w,M,re){return se.current.useImperativeHandle(w,M,re)},we.useInsertionEffect=function(w,M){return se.current.useInsertionEffect(w,M)},we.useLayoutEffect=function(w,M){return se.current.useLayoutEffect(w,M)},we.useMemo=function(w,M){return se.current.useMemo(w,M)},we.useReducer=function(w,M,re){return se.current.useReducer(w,M,re)},we.useRef=function(w){return se.current.useRef(w)},we.useState=function(w){return se.current.useState(w)},we.useSyncExternalStore=function(w,M,re){return se.current.useSyncExternalStore(w,M,re)},we.useTransition=function(){return se.current.useTransition()},we.version="18.3.1",we}var ep;function Fc(){return ep||(ep=1,Yu.exports=C0()),Yu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function R0(){if(tp)return Ao;tp=1;var n=Fc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,v){var m,y={},_=null,k=null;v!==void 0&&(_=""+v),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(k=p.ref);for(m in p)s.call(p,m)&&!l.hasOwnProperty(m)&&(y[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)y[m]===void 0&&(y[m]=p[m]);return{$$typeof:r,type:h,key:_,ref:k,props:y,_owner:u.current}}return Ao.Fragment=o,Ao.jsx=d,Ao.jsxs=d,Ao}var np;function k0(){return np||(np=1,ju.exports=R0()),ju.exports}var Fe=k0(),Ee=Fc();const Sn=gg(Ee);var ia={},Vu={exports:{}},Pt={},Ku={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function P0(){return rp||(rp=1,function(n){function r($,X){var Y=$.length;$.push(X);e:for(;0<Y;){var w=Y-1>>>1,M=$[w];if(0<u(M,X))$[w]=X,$[Y]=M,Y=w;else break e}}function o($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var X=$[0],Y=$.pop();if(Y!==X){$[0]=Y;e:for(var w=0,M=$.length,re=M>>>1;w<re;){var ee=2*(w+1)-1,Ae=$[ee],ae=ee+1,me=$[ae];if(0>u(Ae,Y))ae<M&&0>u(me,Ae)?($[w]=me,$[ae]=Y,w=ae):($[w]=Ae,$[ee]=Y,w=ee);else if(ae<M&&0>u(me,Y))$[w]=me,$[ae]=Y,w=ae;else break e}}return X}function u($,X){var Y=$.sortIndex-X.sortIndex;return Y!==0?Y:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],v=[],m=1,y=null,_=3,k=!1,D=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W($){for(var X=o(v);X!==null;){if(X.callback===null)s(v);else if(X.startTime<=$)s(v),X.sortIndex=X.expirationTime,r(p,X);else break;X=o(v)}}function x($){if(O=!1,W($),!D)if(o(p)!==null)D=!0,ge(K);else{var X=o(v);X!==null&&se(x,X.startTime-$)}}function K($,X){D=!1,O&&(O=!1,F(j),j=-1),k=!0;var Y=_;try{for(W(X),y=o(p);y!==null&&(!(y.expirationTime>X)||$&&!Je());){var w=y.callback;if(typeof w=="function"){y.callback=null,_=y.priorityLevel;var M=w(y.expirationTime<=X);X=n.unstable_now(),typeof M=="function"?y.callback=M:y===o(p)&&s(p),W(X)}else s(p);y=o(p)}if(y!==null)var re=!0;else{var ee=o(v);ee!==null&&se(x,ee.startTime-X),re=!1}return re}finally{y=null,_=Y,k=!1}}var U=!1,B=null,j=-1,Se=5,ze=-1;function Je(){return!(n.unstable_now()-ze<Se)}function Ue(){if(B!==null){var $=n.unstable_now();ze=$;var X=!0;try{X=B(!0,$)}finally{X?Le():(U=!1,B=null)}}else U=!1}var Le;if(typeof C=="function")Le=function(){C(Ue)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ke=_e.port2;_e.port1.onmessage=Ue,Le=function(){ke.postMessage(null)}}else Le=function(){T(Ue,0)};function ge($){B=$,U||(U=!0,Le())}function se($,X){j=T(function(){$(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){D||k||(D=!0,ge(K))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return o(p)},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var Y=_;_=X;try{return $()}finally{_=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=_;_=$;try{return X()}finally{_=Y}},n.unstable_scheduleCallback=function($,X,Y){var w=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?w+Y:w):Y=w,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Y+M,$={id:m++,callback:X,priorityLevel:$,startTime:Y,expirationTime:M,sortIndex:-1},Y>w?($.sortIndex=Y,r(v,$),o(p)===null&&$===o(v)&&(O?(F(j),j=-1):O=!0,se(x,Y-w))):($.sortIndex=M,r(p,$),D||k||(D=!0,ge(K))),$},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function($){var X=_;return function(){var Y=_;_=X;try{return $.apply(this,arguments)}finally{_=Y}}}}(Xu)),Xu}var ip;function N0(){return ip||(ip=1,Ku.exports=P0()),Ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function O0(){if(op)return Pt;op=1;var n=Fc(),r=N0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function l(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(e){return p.call(y,e)?!0:p.call(m,e)?!1:v.test(e)?y[e]=!0:(m[e]=!0,!1)}function k(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D(e,t,i,a){if(t===null||typeof t>"u"||k(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,i,a,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F,C);T[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F,C);T[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F,C);T[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function W(e,t,i,a){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D(t,i,c,a)&&(i=null),a||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),$=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,w;function M(e){if(w===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var re=!1;function ee(e,t){if(!e||re)return"";re=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var a=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){a=N}e.call(t.prototype)}else{try{throw Error()}catch(N){a=N}e()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,S=f.length-1;1<=g&&0<=S&&c[g]!==f[S];)S--;for(;1<=g&&0<=S;g--,S--)if(c[g]!==f[S]){if(g!==1||S!==1)do if(g--,S--,0>S||c[g]!==f[S]){var A=`
`+c[g].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=g&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?M(e):""}function Ae(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case U:return"Portal";case Se:return"Profiler";case j:return"StrictMode";case Le:return"Suspense";case _e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case ze:return(e._context.displayName||"Context")+".Provider";case Ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function me(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=b(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ne(e){e._valueTracker||(e._valueTracker=ie(e))}function fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=b(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function wn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dt(e,t){var i=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Gt(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=he(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vr(e,t){t=t.checked,t!=null&&W(e,"checked",t,!1)}function _n(e,t){vr(e,t);var i=he(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jr(e,t.type,i):t.hasOwnProperty("defaultValue")&&jr(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hn(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function jr(e,t,i){(t!=="number"||wn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var xn=Array.isArray;function Gn(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+he(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function yr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ld(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(o(92));if(xn(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:he(i)}}function ud(e,t){var i=he(t.value),a=he(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bo,fd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},km=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(e){km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Li[t]=Li[e]})});function hd(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Li.hasOwnProperty(e)&&Li[e]?(""+t).trim():t+"px"}function pd(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=hd(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Pm=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(e,t){if(t){if(Pm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,Yr=null,Vr=null;function gd(e){if(e=io(e)){if(typeof sl!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Ss(t),sl(e.stateNode,e.type,t))}}function md(e){Yr?Vr?Vr.push(e):Vr=[e]:Yr=e}function vd(){if(Yr){var e=Yr,t=Vr;if(Vr=Yr=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function yd(e,t){return e(t)}function Sd(){}var al=!1;function Ad(e,t,i){if(al)return e(t,i);al=!0;try{return yd(e,t,i)}finally{al=!1,(Yr!==null||Vr!==null)&&(Sd(),vd())}}function Bi(e,t){var i=e.stateNode;if(i===null)return null;var a=Ss(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var ll=!1;if(h)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{ll=!1}function Nm(e,t,i,a,c,f,g,S,A){var N=Array.prototype.slice.call(arguments,3);try{t.apply(i,N)}catch(H){this.onError(H)}}var xi=!1,Zo=null,qo=!1,ul=null,Om={onError:function(e){xi=!0,Zo=e}};function Dm(e,t,i,a,c,f,g,S,A){xi=!1,Zo=null,Nm.apply(Om,arguments)}function Fm(e,t,i,a,c,f,g,S,A){if(Dm.apply(this,arguments),xi){if(xi){var N=Zo;xi=!1,Zo=null}else throw Error(o(198));qo||(qo=!0,ul=N)}}function Sr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Ed(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wd(e){if(Sr(e)!==e)throw Error(o(188))}function Mm(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return wd(c),e;if(f===a)return wd(c),t;f=f.sibling}throw Error(o(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,S=c.child;S;){if(S===i){g=!0,i=c,a=f;break}if(S===a){g=!0,a=c,i=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===i){g=!0,i=f,a=c;break}if(S===a){g=!0,a=f,i=c;break}S=S.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function _d(e){return e=Mm(e),e!==null?Td(e):null}function Td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Td(e);if(t!==null)return t;e=e.sibling}return null}var Id=r.unstable_scheduleCallback,Cd=r.unstable_cancelCallback,Um=r.unstable_shouldYield,Lm=r.unstable_requestPaint,Xe=r.unstable_now,Bm=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,Rd=r.unstable_UserBlockingPriority,Jo=r.unstable_NormalPriority,Hm=r.unstable_LowPriority,kd=r.unstable_IdlePriority,es=null,fn=null;function xm(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(es,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Wm,Gm=Math.log,zm=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Gm(e)/zm|0)|0}var ts=64,ns=4194304;function Gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rs(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var S=g&~c;S!==0?a=Gi(S):(f&=g,f!==0&&(a=Gi(f)))}else g=i&~c,g!==0?a=Gi(g):f!==0&&(a=Gi(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-tn(t),c=1<<i,a|=e[i],t&=~c;return a}function $m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-tn(f),S=1<<g,A=c[g];A===-1?((S&i)===0||(S&a)!==0)&&(c[g]=$m(S,t)):A<=t&&(e.expiredLanes|=S),f&=~S}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pd(){var e=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),e}function fl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function zi(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=i}function Ym(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-tn(i),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function hl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-tn(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var Me=0;function Nd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Od,pl,Dd,Fd,Md,gl=!1,is=[],zn=null,Wn=null,$n=null,Wi=new Map,$i=new Map,jn=[],Vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function ji(e,t,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=io(t),t!==null&&pl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Km(e,t,i,a,c){switch(t){case"focusin":return zn=ji(zn,e,t,i,a,c),!0;case"dragenter":return Wn=ji(Wn,e,t,i,a,c),!0;case"mouseover":return $n=ji($n,e,t,i,a,c),!0;case"pointerover":var f=c.pointerId;return Wi.set(f,ji(Wi.get(f)||null,e,t,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,$i.set(f,ji($i.get(f)||null,e,t,i,a,c)),!0}return!1}function Ld(e){var t=Ar(e.target);if(t!==null){var i=Sr(t);if(i!==null){if(t=i.tag,t===13){if(t=Ed(i),t!==null){e.blockedOn=t,Md(e.priority,function(){Dd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);il=a,i.target.dispatchEvent(a),il=null}else return t=io(i),t!==null&&pl(t),e.blockedOn=i,!1;t.shift()}return!0}function Bd(e,t,i){os(e)&&i.delete(t)}function Xm(){gl=!1,zn!==null&&os(zn)&&(zn=null),Wn!==null&&os(Wn)&&(Wn=null),$n!==null&&os($n)&&($n=null),Wi.forEach(Bd),$i.forEach(Bd)}function Yi(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xm)))}function Vi(e){function t(c){return Yi(c,e)}if(0<is.length){Yi(is[0],e);for(var i=1;i<is.length;i++){var a=is[i];a.blockedOn===e&&(a.blockedOn=null)}}for(zn!==null&&Yi(zn,e),Wn!==null&&Yi(Wn,e),$n!==null&&Yi($n,e),Wi.forEach(t),$i.forEach(t),i=0;i<jn.length;i++)a=jn[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<jn.length&&(i=jn[0],i.blockedOn===null);)Ld(i),i.blockedOn===null&&jn.shift()}var Kr=x.ReactCurrentBatchConfig,ss=!0;function Qm(e,t,i,a){var c=Me,f=Kr.transition;Kr.transition=null;try{Me=1,ml(e,t,i,a)}finally{Me=c,Kr.transition=f}}function bm(e,t,i,a){var c=Me,f=Kr.transition;Kr.transition=null;try{Me=4,ml(e,t,i,a)}finally{Me=c,Kr.transition=f}}function ml(e,t,i,a){if(ss){var c=vl(e,t,i,a);if(c===null)Ml(e,t,a,as,i),Ud(e,a);else if(Km(c,e,t,i,a))a.stopPropagation();else if(Ud(e,a),t&4&&-1<Vm.indexOf(e)){for(;c!==null;){var f=io(c);if(f!==null&&Od(f),f=vl(e,t,i,a),f===null&&Ml(e,t,a,as,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Ml(e,t,a,null,i)}}var as=null;function vl(e,t,i,a){if(as=null,e=ol(a),e=Ar(e),e!==null)if(t=Sr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Ed(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return as=e,null}function Hd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bm()){case cl:return 1;case Rd:return 4;case Jo:case Hm:return 16;case kd:return 536870912;default:return 16}default:return 16}}var Yn=null,yl=null,ls=null;function xd(){if(ls)return ls;var e,t=yl,i=t.length,a,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[f-a];a++);return ls=c.slice(e,1<a?1-a:void 0)}function us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Gd(){return!1}function Ft(e){function t(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?cs:Gd,this.isPropagationStopped=Gd,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Ft(Xr),Ki=Y({},Xr,{view:0,detail:0}),Zm=Ft(Ki),Al,El,Xi,ds=Y({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(Al=e.screenX-Xi.screenX,El=e.screenY-Xi.screenY):El=Al=0,Xi=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:El}}),zd=Ft(ds),qm=Y({},ds,{dataTransfer:0}),Jm=Ft(qm),ev=Y({},Ki,{relatedTarget:0}),wl=Ft(ev),tv=Y({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),nv=Ft(tv),rv=Y({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iv=Ft(rv),ov=Y({},Xr,{data:0}),Wd=Ft(ov),sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lv[e])?!!t[e]:!1}function _l(){return uv}var cv=Y({},Ki,{key:function(e){if(e.key){var t=sv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dv=Ft(cv),fv=Y({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Ft(fv),hv=Y({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),pv=Ft(hv),gv=Y({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mv=Ft(gv),vv=Y({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yv=Ft(vv),Sv=[9,13,27,32],Tl=h&&"CompositionEvent"in window,Qi=null;h&&"documentMode"in document&&(Qi=document.documentMode);var Av=h&&"TextEvent"in window&&!Qi,jd=h&&(!Tl||Qi&&8<Qi&&11>=Qi),Yd=" ",Vd=!1;function Kd(e,t){switch(e){case"keyup":return Sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function Ev(e,t){switch(e){case"compositionend":return Xd(t);case"keypress":return t.which!==32?null:(Vd=!0,Yd);case"textInput":return e=t.data,e===Yd&&Vd?null:e;default:return null}}function wv(e,t){if(Qr)return e==="compositionend"||!Tl&&Kd(e,t)?(e=xd(),ls=yl=Yn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var _v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_v[e.type]:t==="textarea"}function bd(e,t,i,a){md(a),t=ms(t,"onChange"),0<t.length&&(i=new Sl("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var bi=null,Zi=null;function Tv(e){gf(e,0)}function fs(e){var t=ei(e);if(fe(t))return e}function Iv(e,t){if(e==="change")return t}var Zd=!1;if(h){var Il;if(h){var Cl="oninput"in document;if(!Cl){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Cl=typeof qd.oninput=="function"}Il=Cl}else Il=!1;Zd=Il&&(!document.documentMode||9<document.documentMode)}function Jd(){bi&&(bi.detachEvent("onpropertychange",ef),Zi=bi=null)}function ef(e){if(e.propertyName==="value"&&fs(Zi)){var t=[];bd(t,Zi,e,ol(e)),Ad(Tv,t)}}function Cv(e,t,i){e==="focusin"?(Jd(),bi=t,Zi=i,bi.attachEvent("onpropertychange",ef)):e==="focusout"&&Jd()}function Rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fs(Zi)}function kv(e,t){if(e==="click")return fs(t)}function Pv(e,t){if(e==="input"||e==="change")return fs(t)}function Nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:Nv;function qi(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!p.call(t,c)||!nn(e[c],t[c]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,t){var i=tf(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=tf(i)}}function rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function of(){for(var e=window,t=wn();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=wn(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ov(e){var t=of(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&rf(i.ownerDocument.documentElement,i)){if(a!==null&&Rl(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=nf(i,f);var g=nf(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dv=h&&"documentMode"in document&&11>=document.documentMode,br=null,kl=null,Ji=null,Pl=!1;function sf(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pl||br==null||br!==wn(a)||(a=br,"selectionStart"in a&&Rl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ji&&qi(Ji,a)||(Ji=a,a=ms(kl,"onSelect"),0<a.length&&(t=new Sl("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=br)))}function hs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Zr={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Nl={},af={};h&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ps(e){if(Nl[e])return Nl[e];if(!Zr[e])return e;var t=Zr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in af)return Nl[e]=t[i];return e}var lf=ps("animationend"),uf=ps("animationiteration"),cf=ps("animationstart"),df=ps("transitionend"),ff=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){ff.set(e,t),l(t,[e])}for(var Ol=0;Ol<hf.length;Ol++){var Dl=hf[Ol],Fv=Dl.toLowerCase(),Mv=Dl[0].toUpperCase()+Dl.slice(1);Vn(Fv,"on"+Mv)}Vn(lf,"onAnimationEnd"),Vn(uf,"onAnimationIteration"),Vn(cf,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(df,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function pf(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Fm(a,t,void 0,e),e.currentTarget=null}function gf(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var S=a[g],A=S.instance,N=S.currentTarget;if(S=S.listener,A!==f&&c.isPropagationStopped())break e;pf(c,S,N),f=A}else for(g=0;g<a.length;g++){if(S=a[g],A=S.instance,N=S.currentTarget,S=S.listener,A!==f&&c.isPropagationStopped())break e;pf(c,S,N),f=A}}}if(qo)throw e=ul,qo=!1,ul=null,e}function He(e,t){var i=t[Gl];i===void 0&&(i=t[Gl]=new Set);var a=e+"__bubble";i.has(a)||(mf(t,e,2,!1),i.add(a))}function Fl(e,t,i){var a=0;t&&(a|=4),mf(i,e,a,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[gs]){e[gs]=!0,s.forEach(function(i){i!=="selectionchange"&&(Uv.has(i)||Fl(i,!1,e),Fl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,Fl("selectionchange",!1,t))}}function mf(e,t,i,a){switch(Hd(t)){case 1:var c=Qm;break;case 4:c=bm;break;default:c=ml}i=c.bind(null,t,i,e),c=void 0,!ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Ml(e,t,i,a,c){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var S=a.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var A=g.tag;if((A===3||A===4)&&(A=g.stateNode.containerInfo,A===c||A.nodeType===8&&A.parentNode===c))return;g=g.return}for(;S!==null;){if(g=Ar(S),g===null)return;if(A=g.tag,A===5||A===6){a=f=g;continue e}S=S.parentNode}}a=a.return}Ad(function(){var N=f,H=ol(i),G=[];e:{var L=ff.get(e);if(L!==void 0){var V=Sl,Z=e;switch(e){case"keypress":if(us(i)===0)break e;case"keydown":case"keyup":V=dv;break;case"focusin":Z="focus",V=wl;break;case"focusout":Z="blur",V=wl;break;case"beforeblur":case"afterblur":V=wl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=pv;break;case lf:case uf:case cf:V=nv;break;case df:V=mv;break;case"scroll":V=Zm;break;case"wheel":V=yv;break;case"copy":case"cut":case"paste":V=iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=$d}var q=(t&4)!==0,Qe=!q&&e==="scroll",I=q?L!==null?L+"Capture":null:L;q=[];for(var E=N,R;E!==null;){R=E;var z=R.stateNode;if(R.tag===5&&z!==null&&(R=z,I!==null&&(z=Bi(E,I),z!=null&&q.push(no(E,z,R)))),Qe)break;E=E.return}0<q.length&&(L=new V(L,Z,null,i,H),G.push({event:L,listeners:q}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",L&&i!==il&&(Z=i.relatedTarget||i.fromElement)&&(Ar(Z)||Z[Tn]))break e;if((V||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,V?(Z=i.relatedTarget||i.toElement,V=N,Z=Z?Ar(Z):null,Z!==null&&(Qe=Sr(Z),Z!==Qe||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(V=null,Z=N),V!==Z)){if(q=zd,z="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(q=$d,z="onPointerLeave",I="onPointerEnter",E="pointer"),Qe=V==null?L:ei(V),R=Z==null?L:ei(Z),L=new q(z,E+"leave",V,i,H),L.target=Qe,L.relatedTarget=R,z=null,Ar(H)===N&&(q=new q(I,E+"enter",Z,i,H),q.target=R,q.relatedTarget=Qe,z=q),Qe=z,V&&Z)t:{for(q=V,I=Z,E=0,R=q;R;R=qr(R))E++;for(R=0,z=I;z;z=qr(z))R++;for(;0<E-R;)q=qr(q),E--;for(;0<R-E;)I=qr(I),R--;for(;E--;){if(q===I||I!==null&&q===I.alternate)break t;q=qr(q),I=qr(I)}q=null}else q=null;V!==null&&vf(G,L,V,q,!1),Z!==null&&Qe!==null&&vf(G,Qe,Z,q,!0)}}e:{if(L=N?ei(N):window,V=L.nodeName&&L.nodeName.toLowerCase(),V==="select"||V==="input"&&L.type==="file")var J=Iv;else if(Qd(L))if(Zd)J=Pv;else{J=Rv;var te=Cv}else(V=L.nodeName)&&V.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(J=kv);if(J&&(J=J(e,N))){bd(G,J,i,H);break e}te&&te(e,L,N),e==="focusout"&&(te=L._wrapperState)&&te.controlled&&L.type==="number"&&jr(L,"number",L.value)}switch(te=N?ei(N):window,e){case"focusin":(Qd(te)||te.contentEditable==="true")&&(br=te,kl=N,Ji=null);break;case"focusout":Ji=kl=br=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,sf(G,i,H);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":sf(G,i,H)}var ne;if(Tl)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Qr?Kd(e,i)&&(le="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(le="onCompositionStart");le&&(jd&&i.locale!=="ko"&&(Qr||le!=="onCompositionStart"?le==="onCompositionEnd"&&Qr&&(ne=xd()):(Yn=H,yl="value"in Yn?Yn.value:Yn.textContent,Qr=!0)),te=ms(N,le),0<te.length&&(le=new Wd(le,e,null,i,H),G.push({event:le,listeners:te}),ne?le.data=ne:(ne=Xd(i),ne!==null&&(le.data=ne)))),(ne=Av?Ev(e,i):wv(e,i))&&(N=ms(N,"onBeforeInput"),0<N.length&&(H=new Wd("onBeforeInput","beforeinput",null,i,H),G.push({event:H,listeners:N}),H.data=ne))}gf(G,t)})}function no(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ms(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Bi(e,i),f!=null&&a.unshift(no(e,f,c)),f=Bi(e,t),f!=null&&a.push(no(e,f,c))),e=e.return}return a}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,i,a,c){for(var f=t._reactName,g=[];i!==null&&i!==a;){var S=i,A=S.alternate,N=S.stateNode;if(A!==null&&A===a)break;S.tag===5&&N!==null&&(S=N,c?(A=Bi(i,f),A!=null&&g.unshift(no(i,A,S))):c||(A=Bi(i,f),A!=null&&g.push(no(i,A,S)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Lv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function yf(e){return(typeof e=="string"?e:""+e).replace(Lv,`
`).replace(Bv,"")}function vs(e,t,i){if(t=yf(t),yf(e)!==t&&i)throw Error(o(425))}function ys(){}var Ul=null,Ll=null;function Bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Hv=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(e){return Sf.resolve(null).then(e).catch(Gv)}:Hl;function Gv(e){setTimeout(function(){throw e})}function xl(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Vi(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Vi(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Jr,ro="__reactProps$"+Jr,Tn="__reactContainer$"+Jr,Gl="__reactEvents$"+Jr,zv="__reactListeners$"+Jr,Wv="__reactHandles$"+Jr;function Ar(e){var t=e[hn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Tn]||i[hn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Af(e);e!==null;){if(i=e[hn])return i;e=Af(e)}return t}e=i,i=e.parentNode}return null}function io(e){return e=e[hn]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ss(e){return e[ro]||null}var zl=[],ti=-1;function Xn(e){return{current:e}}function xe(e){0>ti||(e.current=zl[ti],zl[ti]=null,ti--)}function Be(e,t){ti++,zl[ti]=e.current,e.current=t}var Qn={},ft=Xn(Qn),Tt=Xn(!1),Er=Qn;function ni(e,t){var i=e.type.contextTypes;if(!i)return Qn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function It(e){return e=e.childContextTypes,e!=null}function As(){xe(Tt),xe(ft)}function Ef(e,t,i){if(ft.current!==Qn)throw Error(o(168));Be(ft,t),Be(Tt,i)}function wf(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(o(108,me(e)||"Unknown",c));return Y({},i,a)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,Er=ft.current,Be(ft,e),Be(Tt,Tt.current),!0}function _f(e,t,i){var a=e.stateNode;if(!a)throw Error(o(169));i?(e=wf(e,t,Er),a.__reactInternalMemoizedMergedChildContext=e,xe(Tt),xe(ft),Be(ft,e)):xe(Tt),Be(Tt,i)}var In=null,ws=!1,Wl=!1;function Tf(e){In===null?In=[e]:In.push(e)}function $v(e){ws=!0,Tf(e)}function bn(){if(!Wl&&In!==null){Wl=!0;var e=0,t=Me;try{var i=In;for(Me=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}In=null,ws=!1}catch(c){throw In!==null&&(In=In.slice(e+1)),Id(cl,bn),c}finally{Me=t,Wl=!1}}return null}var ri=[],ii=0,_s=null,Ts=0,zt=[],Wt=0,wr=null,Cn=1,Rn="";function _r(e,t){ri[ii++]=Ts,ri[ii++]=_s,_s=e,Ts=t}function If(e,t,i){zt[Wt++]=Cn,zt[Wt++]=Rn,zt[Wt++]=wr,wr=e;var a=Cn;e=Rn;var c=32-tn(a)-1;a&=~(1<<c),i+=1;var f=32-tn(t)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Cn=1<<32-tn(t)+c|i<<c|a,Rn=f+e}else Cn=1<<f|i<<c|a,Rn=e}function $l(e){e.return!==null&&(_r(e,1),If(e,1,0))}function jl(e){for(;e===_s;)_s=ri[--ii],ri[ii]=null,Ts=ri[--ii],ri[ii]=null;for(;e===wr;)wr=zt[--Wt],zt[Wt]=null,Rn=zt[--Wt],zt[Wt]=null,Cn=zt[--Wt],zt[Wt]=null}var Mt=null,Ut=null,We=!1,rn=null;function Cf(e,t){var i=Vt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Rf(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Ut=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=wr!==null?{id:Cn,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Vt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Mt=e,Ut=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vl(e){if(We){var t=Ut;if(t){var i=t;if(!Rf(e,t)){if(Yl(e))throw Error(o(418));t=Kn(i.nextSibling);var a=Mt;t&&Rf(e,t)?Cf(a,i):(e.flags=e.flags&-4097|2,We=!1,Mt=e)}}else{if(Yl(e))throw Error(o(418));e.flags=e.flags&-4097|2,We=!1,Mt=e}}}function kf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Is(e){if(e!==Mt)return!1;if(!We)return kf(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bl(e.type,e.memoizedProps)),t&&(t=Ut)){if(Yl(e))throw Pf(),Error(o(418));for(;t;)Cf(e,t),t=Kn(t.nextSibling)}if(kf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ut=Kn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Mt?Kn(e.stateNode.nextSibling):null;return!0}function Pf(){for(var e=Ut;e;)e=Kn(e.nextSibling)}function oi(){Ut=Mt=null,We=!1}function Kl(e){rn===null?rn=[e]:rn.push(e)}var jv=x.ReactCurrentBatchConfig;function oo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var S=c.refs;g===null?delete S[f]:S[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function Of(e){function t(I,E){if(e){var R=I.deletions;R===null?(I.deletions=[E],I.flags|=16):R.push(E)}}function i(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function a(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function c(I,E){return I=ir(I,E),I.index=0,I.sibling=null,I}function f(I,E,R){return I.index=R,e?(R=I.alternate,R!==null?(R=R.index,R<E?(I.flags|=2,E):R):(I.flags|=2,E)):(I.flags|=1048576,E)}function g(I){return e&&I.alternate===null&&(I.flags|=2),I}function S(I,E,R,z){return E===null||E.tag!==6?(E=Hu(R,I.mode,z),E.return=I,E):(E=c(E,R),E.return=I,E)}function A(I,E,R,z){var J=R.type;return J===B?H(I,E,R.props.children,z,R.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ge&&Nf(J)===E.type)?(z=c(E,R.props),z.ref=oo(I,E,R),z.return=I,z):(z=bs(R.type,R.key,R.props,null,I.mode,z),z.ref=oo(I,E,R),z.return=I,z)}function N(I,E,R,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=xu(R,I.mode,z),E.return=I,E):(E=c(E,R.children||[]),E.return=I,E)}function H(I,E,R,z,J){return E===null||E.tag!==7?(E=Or(R,I.mode,z,J),E.return=I,E):(E=c(E,R),E.return=I,E)}function G(I,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Hu(""+E,I.mode,R),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case K:return R=bs(E.type,E.key,E.props,null,I.mode,R),R.ref=oo(I,null,E),R.return=I,R;case U:return E=xu(E,I.mode,R),E.return=I,E;case ge:var z=E._init;return G(I,z(E._payload),R)}if(xn(E)||X(E))return E=Or(E,I.mode,R,null),E.return=I,E;Cs(I,E)}return null}function L(I,E,R,z){var J=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return J!==null?null:S(I,E,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case K:return R.key===J?A(I,E,R,z):null;case U:return R.key===J?N(I,E,R,z):null;case ge:return J=R._init,L(I,E,J(R._payload),z)}if(xn(R)||X(R))return J!==null?null:H(I,E,R,z,null);Cs(I,R)}return null}function V(I,E,R,z,J){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(R)||null,S(E,I,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return I=I.get(z.key===null?R:z.key)||null,A(E,I,z,J);case U:return I=I.get(z.key===null?R:z.key)||null,N(E,I,z,J);case ge:var te=z._init;return V(I,E,R,te(z._payload),J)}if(xn(z)||X(z))return I=I.get(R)||null,H(E,I,z,J,null);Cs(E,z)}return null}function Z(I,E,R,z){for(var J=null,te=null,ne=E,le=E=0,it=null;ne!==null&&le<R.length;le++){ne.index>le?(it=ne,ne=null):it=ne.sibling;var Pe=L(I,ne,R[le],z);if(Pe===null){ne===null&&(ne=it);break}e&&ne&&Pe.alternate===null&&t(I,ne),E=f(Pe,E,le),te===null?J=Pe:te.sibling=Pe,te=Pe,ne=it}if(le===R.length)return i(I,ne),We&&_r(I,le),J;if(ne===null){for(;le<R.length;le++)ne=G(I,R[le],z),ne!==null&&(E=f(ne,E,le),te===null?J=ne:te.sibling=ne,te=ne);return We&&_r(I,le),J}for(ne=a(I,ne);le<R.length;le++)it=V(ne,I,le,R[le],z),it!==null&&(e&&it.alternate!==null&&ne.delete(it.key===null?le:it.key),E=f(it,E,le),te===null?J=it:te.sibling=it,te=it);return e&&ne.forEach(function(or){return t(I,or)}),We&&_r(I,le),J}function q(I,E,R,z){var J=X(R);if(typeof J!="function")throw Error(o(150));if(R=J.call(R),R==null)throw Error(o(151));for(var te=J=null,ne=E,le=E=0,it=null,Pe=R.next();ne!==null&&!Pe.done;le++,Pe=R.next()){ne.index>le?(it=ne,ne=null):it=ne.sibling;var or=L(I,ne,Pe.value,z);if(or===null){ne===null&&(ne=it);break}e&&ne&&or.alternate===null&&t(I,ne),E=f(or,E,le),te===null?J=or:te.sibling=or,te=or,ne=it}if(Pe.done)return i(I,ne),We&&_r(I,le),J;if(ne===null){for(;!Pe.done;le++,Pe=R.next())Pe=G(I,Pe.value,z),Pe!==null&&(E=f(Pe,E,le),te===null?J=Pe:te.sibling=Pe,te=Pe);return We&&_r(I,le),J}for(ne=a(I,ne);!Pe.done;le++,Pe=R.next())Pe=V(ne,I,le,Pe.value,z),Pe!==null&&(e&&Pe.alternate!==null&&ne.delete(Pe.key===null?le:Pe.key),E=f(Pe,E,le),te===null?J=Pe:te.sibling=Pe,te=Pe);return e&&ne.forEach(function(_0){return t(I,_0)}),We&&_r(I,le),J}function Qe(I,E,R,z){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case K:e:{for(var J=R.key,te=E;te!==null;){if(te.key===J){if(J=R.type,J===B){if(te.tag===7){i(I,te.sibling),E=c(te,R.props.children),E.return=I,I=E;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ge&&Nf(J)===te.type){i(I,te.sibling),E=c(te,R.props),E.ref=oo(I,te,R),E.return=I,I=E;break e}i(I,te);break}else t(I,te);te=te.sibling}R.type===B?(E=Or(R.props.children,I.mode,z,R.key),E.return=I,I=E):(z=bs(R.type,R.key,R.props,null,I.mode,z),z.ref=oo(I,E,R),z.return=I,I=z)}return g(I);case U:e:{for(te=R.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){i(I,E.sibling),E=c(E,R.children||[]),E.return=I,I=E;break e}else{i(I,E);break}else t(I,E);E=E.sibling}E=xu(R,I.mode,z),E.return=I,I=E}return g(I);case ge:return te=R._init,Qe(I,E,te(R._payload),z)}if(xn(R))return Z(I,E,R,z);if(X(R))return q(I,E,R,z);Cs(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,E!==null&&E.tag===6?(i(I,E.sibling),E=c(E,R),E.return=I,I=E):(i(I,E),E=Hu(R,I.mode,z),E.return=I,I=E),g(I)):i(I,E)}return Qe}var si=Of(!0),Df=Of(!1),Rs=Xn(null),ks=null,ai=null,Xl=null;function Ql(){Xl=ai=ks=null}function bl(e){var t=Rs.current;xe(Rs),e._currentValue=t}function Zl(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function li(e,t){ks=e,Xl=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Xl!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(ks===null)throw Error(o(308));ai=e,ks.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var Tr=null;function ql(e){Tr===null?Tr=[e]:Tr.push(e)}function Ff(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,ql(t)):(i.next=c.next,c.next=i),t.interleaved=i,kn(e,a)}function kn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Zn=!1;function Jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,kn(e,i)}return c=a.interleaved,c===null?(t.next=t,ql(a)):(t.next=c.next,c.next=t),a.interleaved=t,kn(e,i)}function Ps(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,hl(e,i)}}function Uf(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ns(e,t,i,a){var c=e.updateQueue;Zn=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var A=S,N=A.next;A.next=null,g===null?f=N:g.next=N,g=A;var H=e.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==g&&(S===null?H.firstBaseUpdate=N:S.next=N,H.lastBaseUpdate=A))}if(f!==null){var G=c.baseState;g=0,H=N=A=null,S=f;do{var L=S.lane,V=S.eventTime;if((a&L)===L){H!==null&&(H=H.next={eventTime:V,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Z=e,q=S;switch(L=t,V=i,q.tag){case 1:if(Z=q.payload,typeof Z=="function"){G=Z.call(V,G,L);break e}G=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=q.payload,L=typeof Z=="function"?Z.call(V,G,L):Z,L==null)break e;G=Y({},G,L);break e;case 2:Zn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,L=c.effects,L===null?c.effects=[S]:L.push(S))}else V={eventTime:V,lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(N=H=V,A=G):H=H.next=V,g|=L;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;L=S,S=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);if(H===null&&(A=G),c.baseState=A,c.firstBaseUpdate=N,c.lastBaseUpdate=H,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);Rr|=g,e.lanes=g,e.memoizedState=G}}function Lf(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(o(191,c));c.call(a)}}}var so={},pn=Xn(so),ao=Xn(so),lo=Xn(so);function Ir(e){if(e===so)throw Error(o(174));return e}function eu(e,t){switch(Be(lo,t),Be(ao,e),Be(pn,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tl(t,e)}xe(pn),Be(pn,t)}function ui(){xe(pn),xe(ao),xe(lo)}function Bf(e){Ir(lo.current);var t=Ir(pn.current),i=tl(t,e.type);t!==i&&(Be(ao,e),Be(pn,i))}function tu(e){ao.current===e&&(xe(pn),xe(ao))}var Ye=Xn(0);function Os(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function ru(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var Ds=x.ReactCurrentDispatcher,iu=x.ReactCurrentBatchConfig,Cr=0,Ve=null,et=null,nt=null,Fs=!1,uo=!1,co=0,Yv=0;function ht(){throw Error(o(321))}function ou(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!nn(e[i],t[i]))return!1;return!0}function su(e,t,i,a,c,f){if(Cr=f,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ds.current=e===null||e.memoizedState===null?Qv:bv,e=i(a,c),uo){f=0;do{if(uo=!1,co=0,25<=f)throw Error(o(301));f+=1,nt=et=null,t.updateQueue=null,Ds.current=Zv,e=i(a,c)}while(uo)}if(Ds.current=Ls,t=et!==null&&et.next!==null,Cr=0,nt=et=Ve=null,Fs=!1,t)throw Error(o(300));return e}function au(){var e=co!==0;return co=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ve.memoizedState=nt=e:nt=nt.next=e,nt}function jt(){if(et===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=nt===null?Ve.memoizedState:nt.next;if(t!==null)nt=t,et=e;else{if(e===null)throw Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},nt===null?Ve.memoizedState=nt=e:nt=nt.next=e}return nt}function fo(e,t){return typeof t=="function"?t(e):t}function lu(e){var t=jt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=et,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var S=g=null,A=null,N=f;do{var H=N.lane;if((Cr&H)===H)A!==null&&(A=A.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:e(a,N.action);else{var G={lane:H,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};A===null?(S=A=G,g=a):A=A.next=G,Ve.lanes|=H,Rr|=H}N=N.next}while(N!==null&&N!==f);A===null?g=a:A.next=S,nn(a,t.memoizedState)||(Ct=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=A,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Ve.lanes|=f,Rr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function uu(e){var t=jt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);nn(f,t.memoizedState)||(Ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function Hf(){}function xf(e,t){var i=Ve,a=jt(),c=t(),f=!nn(a.memoizedState,c);if(f&&(a.memoizedState=c,Ct=!0),a=a.queue,cu(Wf.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||nt!==null&&nt.memoizedState.tag&1){if(i.flags|=2048,ho(9,zf.bind(null,i,a,c,t),void 0,null),rt===null)throw Error(o(349));(Cr&30)!==0||Gf(i,t,c)}return c}function Gf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function zf(e,t,i,a){t.value=i,t.getSnapshot=a,$f(t)&&jf(e)}function Wf(e,t,i){return i(function(){$f(t)&&jf(e)})}function $f(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!nn(e,i)}catch{return!0}}function jf(e){var t=kn(e,1);t!==null&&ln(t,e,1,-1)}function Yf(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xv.bind(null,Ve,e),[t.memoizedState,e]}function ho(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Vf(){return jt().memoizedState}function Ms(e,t,i,a){var c=gn();Ve.flags|=e,c.memoizedState=ho(1|t,i,void 0,a===void 0?null:a)}function Us(e,t,i,a){var c=jt();a=a===void 0?null:a;var f=void 0;if(et!==null){var g=et.memoizedState;if(f=g.destroy,a!==null&&ou(a,g.deps)){c.memoizedState=ho(t,i,f,a);return}}Ve.flags|=e,c.memoizedState=ho(1|t,i,f,a)}function Kf(e,t){return Ms(8390656,8,e,t)}function cu(e,t){return Us(2048,8,e,t)}function Xf(e,t){return Us(4,2,e,t)}function Qf(e,t){return Us(4,4,e,t)}function bf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zf(e,t,i){return i=i!=null?i.concat([e]):null,Us(4,4,bf.bind(null,t,e),i)}function du(){}function qf(e,t){var i=jt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&ou(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Jf(e,t){var i=jt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&ou(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function eh(e,t,i){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(nn(i,t)||(i=Pd(),Ve.lanes|=i,Rr|=i,e.baseState=!0),t)}function Vv(e,t){var i=Me;Me=i!==0&&4>i?i:4,e(!0);var a=iu.transition;iu.transition={};try{e(!1),t()}finally{Me=i,iu.transition=a}}function th(){return jt().memoizedState}function Kv(e,t,i){var a=nr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},nh(e))rh(t,i);else if(i=Ff(e,t,i,a),i!==null){var c=Et();ln(i,e,a,c),ih(i,t,a)}}function Xv(e,t,i){var a=nr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(nh(e))rh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,S=f(g,i);if(c.hasEagerState=!0,c.eagerState=S,nn(S,g)){var A=t.interleaved;A===null?(c.next=c,ql(t)):(c.next=A.next,A.next=c),t.interleaved=c;return}}catch{}finally{}i=Ff(e,t,c,a),i!==null&&(c=Et(),ln(i,e,a,c),ih(i,t,a))}}function nh(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function rh(e,t){uo=Fs=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ih(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,hl(e,i)}}var Ls={readContext:$t,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Qv={readContext:$t,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Kf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ms(4194308,4,bf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var i=gn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=gn();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Kv.bind(null,Ve,e),[a.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:Yf,useDebugValue:du,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=Yf(!1),t=e[0];return e=Vv.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ve,c=gn();if(We){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),rt===null)throw Error(o(349));(Cr&30)!==0||Gf(a,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,Kf(Wf.bind(null,a,f,e),[e]),a.flags|=2048,ho(9,zf.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=gn(),t=rt.identifierPrefix;if(We){var i=Rn,a=Cn;i=(a&~(1<<32-tn(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=co++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Yv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bv={readContext:$t,useCallback:qf,useContext:$t,useEffect:cu,useImperativeHandle:Zf,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:Jf,useReducer:lu,useRef:Vf,useState:function(){return lu(fo)},useDebugValue:du,useDeferredValue:function(e){var t=jt();return eh(t,et.memoizedState,e)},useTransition:function(){var e=lu(fo)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:xf,useId:th,unstable_isNewReconciler:!1},Zv={readContext:$t,useCallback:qf,useContext:$t,useEffect:cu,useImperativeHandle:Zf,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:Jf,useReducer:uu,useRef:Vf,useState:function(){return uu(fo)},useDebugValue:du,useDeferredValue:function(e){var t=jt();return et===null?t.memoizedState=e:eh(t,et.memoizedState,e)},useTransition:function(){var e=uu(fo)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:xf,useId:th,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function fu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:Y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Bs={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Et(),c=nr(e),f=Pn(a,c);f.payload=t,i!=null&&(f.callback=i),t=qn(e,f,c),t!==null&&(ln(t,e,c,a),Ps(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Et(),c=nr(e),f=Pn(a,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=qn(e,f,c),t!==null&&(ln(t,e,c,a),Ps(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Et(),a=nr(e),c=Pn(i,a);c.tag=2,t!=null&&(c.callback=t),t=qn(e,c,a),t!==null&&(ln(t,e,a,i),Ps(t,e,a))}};function oh(e,t,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!qi(i,a)||!qi(c,f):!0}function sh(e,t,i){var a=!1,c=Qn,f=t.contextType;return typeof f=="object"&&f!==null?f=$t(f):(c=It(t)?Er:ft.current,a=t.contextTypes,f=(a=a!=null)?ni(e,c):Qn),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function ah(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function hu(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Jl(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=$t(f):(f=It(t)?Er:ft.current,c.context=ni(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(fu(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Bs.enqueueReplaceState(c,c.state,null),Ns(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,t){try{var i="",a=t;do i+=Ae(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function pu(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var qv=typeof WeakMap=="function"?WeakMap:Map;function lh(e,t,i){i=Pn(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){js||(js=!0,Nu=a),gu(e,t)},i}function uh(e,t,i){i=Pn(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){gu(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){gu(e,t),typeof a!="function"&&(er===null?er=new Set([this]):er.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function ch(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new qv;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=f0.bind(null,e,t,i),t.then(e,e))}function dh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fh(e,t,i,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Pn(-1,1),t.tag=2,qn(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Jv=x.ReactCurrentOwner,Ct=!1;function At(e,t,i,a){t.child=e===null?Df(t,null,i,a):si(t,e.child,i,a)}function hh(e,t,i,a,c){i=i.render;var f=t.ref;return li(t,c),a=su(e,t,i,a,f,c),i=au(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Nn(e,t,c)):(We&&i&&$l(t),t.flags|=1,At(e,t,a,c),t.child)}function ph(e,t,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Bu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,gh(e,t,f,a,c)):(e=bs(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:qi,i(g,a)&&e.ref===t.ref)return Nn(e,t,c)}return t.flags|=1,e=ir(f,a),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,i,a,c){if(e!==null){var f=e.memoizedProps;if(qi(f,a)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=a=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,Nn(e,t,c)}return mu(e,t,i,a,c)}function mh(e,t,i){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(fi,Lt),Lt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(fi,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Be(fi,Lt),Lt|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,Be(fi,Lt),Lt|=a;return At(e,t,c,i),t.child}function vh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,i,a,c){var f=It(i)?Er:ft.current;return f=ni(t,f),li(t,c),i=su(e,t,i,a,f,c),a=au(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Nn(e,t,c)):(We&&a&&$l(t),t.flags|=1,At(e,t,i,c),t.child)}function yh(e,t,i,a,c){if(It(i)){var f=!0;Es(t)}else f=!1;if(li(t,c),t.stateNode===null)xs(e,t),sh(t,i,a),hu(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,S=t.memoizedProps;g.props=S;var A=g.context,N=i.contextType;typeof N=="object"&&N!==null?N=$t(N):(N=It(i)?Er:ft.current,N=ni(t,N));var H=i.getDerivedStateFromProps,G=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function";G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==a||A!==N)&&ah(t,g,a,N),Zn=!1;var L=t.memoizedState;g.state=L,Ns(t,a,g,c),A=t.memoizedState,S!==a||L!==A||Tt.current||Zn?(typeof H=="function"&&(fu(t,i,H,a),A=t.memoizedState),(S=Zn||oh(t,i,S,a,L,A,N))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),g.props=a,g.state=A,g.context=N,a=S):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,Mf(e,t),S=t.memoizedProps,N=t.type===t.elementType?S:on(t.type,S),g.props=N,G=t.pendingProps,L=g.context,A=i.contextType,typeof A=="object"&&A!==null?A=$t(A):(A=It(i)?Er:ft.current,A=ni(t,A));var V=i.getDerivedStateFromProps;(H=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==G||L!==A)&&ah(t,g,a,A),Zn=!1,L=t.memoizedState,g.state=L,Ns(t,a,g,c);var Z=t.memoizedState;S!==G||L!==Z||Tt.current||Zn?(typeof V=="function"&&(fu(t,i,V,a),Z=t.memoizedState),(N=Zn||oh(t,i,N,a,L,Z,A)||!1)?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Z,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Z,A)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),g.props=a,g.state=Z,g.context=A,a=N):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return vu(e,t,i,a,f,c)}function vu(e,t,i,a,c,f){vh(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&_f(t,i,!1),Nn(e,t,f);a=t.stateNode,Jv.current=t;var S=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=si(t,e.child,null,f),t.child=si(t,null,S,f)):At(e,t,S,f),t.memoizedState=a.state,c&&_f(t,i,!0),t.child}function Sh(e){var t=e.stateNode;t.pendingContext?Ef(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ef(e,t.context,!1),eu(e,t.containerInfo)}function Ah(e,t,i,a,c){return oi(),Kl(c),t.flags|=256,At(e,t,i,a),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function Su(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eh(e,t,i){var a=t.pendingProps,c=Ye.current,f=!1,g=(t.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(c&2)!==0),S?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Be(Ye,c&1),e===null)return Vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Zs(g,a,0,null),e=Or(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Su(i),t.memoizedState=yu,e):Au(t,g));if(c=e.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return e0(e,t,g,a,S,c,i);if(f){f=a.fallback,g=t.mode,c=e.child,S=c.sibling;var A={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=A,t.deletions=null):(a=ir(c,A),a.subtreeFlags=c.subtreeFlags&14680064),S!==null?f=ir(S,f):(f=Or(f,g,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?Su(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=yu,a}return f=e.child,e=f.sibling,a=ir(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Au(e,t){return t=Zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,i,a){return a!==null&&Kl(a),si(t,e.child,null,i),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e0(e,t,i,a,c,f,g){if(i)return t.flags&256?(t.flags&=-257,a=pu(Error(o(422))),Hs(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=Zs({mode:"visible",children:a.children},c,0,null),f=Or(f,c,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&si(t,e.child,null,g),t.child.memoizedState=Su(g),t.memoizedState=yu,f);if((t.mode&1)===0)return Hs(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var S=a.dgst;return a=S,f=Error(o(419)),a=pu(f,a,void 0),Hs(e,t,g,a)}if(S=(g&e.childLanes)!==0,Ct||S){if(a=rt,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,kn(e,c),ln(a,e,c,-1))}return Lu(),a=pu(Error(o(421))),Hs(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=h0.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Ut=Kn(c.nextSibling),Mt=t,We=!0,rn=null,e!==null&&(zt[Wt++]=Cn,zt[Wt++]=Rn,zt[Wt++]=wr,Cn=e.id,Rn=e.overflow,wr=t),t=Au(t,a.children),t.flags|=4096,t)}function wh(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zl(e.return,t,i)}function Eu(e,t,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function _h(e,t,i){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(At(e,t,a.children,i),a=Ye.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,i,t);else if(e.tag===19)wh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Be(Ye,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Os(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Eu(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Os(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Eu(t,!0,i,null,f);break;case"together":Eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=ir(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ir(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function t0(e,t,i){switch(t.tag){case 3:Sh(t),oi();break;case 5:Bf(t);break;case 1:It(t.type)&&Es(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Be(Rs,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Be(Ye,Ye.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Eh(e,t,i):(Be(Ye,Ye.current&1),e=Nn(e,t,i),e!==null?e.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return _h(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Be(Ye,Ye.current),a)break;return null;case 22:case 23:return t.lanes=0,mh(e,t,i)}return Nn(e,t,i)}var Th,wu,Ih,Ch;Th=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},wu=function(){},Ih=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Ir(pn.current);var f=null;switch(i){case"input":c=Dt(e,c),a=Dt(e,a),f=[];break;case"select":c=Y({},c,{value:void 0}),a=Y({},a,{value:void 0}),f=[];break;case"textarea":c=yr(e,c),a=yr(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ys)}nl(i,a);var g;i=null;for(N in c)if(!a.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var S=c[N];for(g in S)S.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(u.hasOwnProperty(N)?f||(f=[]):(f=f||[]).push(N,null));for(N in a){var A=a[N];if(S=c!=null?c[N]:void 0,a.hasOwnProperty(N)&&A!==S&&(A!=null||S!=null))if(N==="style")if(S){for(g in S)!S.hasOwnProperty(g)||A&&A.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in A)A.hasOwnProperty(g)&&S[g]!==A[g]&&(i||(i={}),i[g]=A[g])}else i||(f||(f=[]),f.push(N,i)),i=A;else N==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(f=f||[]).push(N,A)):N==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(N,""+A):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(u.hasOwnProperty(N)?(A!=null&&N==="onScroll"&&He("scroll",e),f||S===A||(f=[])):(f=f||[]).push(N,A))}i&&(f=f||[]).push("style",i);var N=f;(t.updateQueue=N)&&(t.flags|=4)}},Ch=function(e,t,i,a){i!==a&&(t.flags|=4)};function po(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function n0(e,t,i){var a=t.pendingProps;switch(jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return It(t.type)&&As(),pt(t),null;case 3:return a=t.stateNode,ui(),xe(Tt),xe(ft),ru(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rn!==null&&(Fu(rn),rn=null))),wu(e,t),pt(t),null;case 5:tu(t);var c=Ir(lo.current);if(i=t.type,e!==null&&t.stateNode!=null)Ih(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return pt(t),null}if(e=Ir(pn.current),Is(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[hn]=t,a[ro]=f,e=(t.mode&1)!==0,i){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(c=0;c<eo.length;c++)He(eo[c],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":Gt(a,f),He("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},He("invalid",a);break;case"textarea":ld(a,f),He("invalid",a)}nl(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var S=f[g];g==="children"?typeof S=="string"?a.textContent!==S&&(f.suppressHydrationWarning!==!0&&vs(a.textContent,S,e),c=["children",S]):typeof S=="number"&&a.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&vs(a.textContent,S,e),c=["children",""+S]):u.hasOwnProperty(g)&&S!=null&&g==="onScroll"&&He("scroll",a)}switch(i){case"input":Ne(a),Hn(a,f,!0);break;case"textarea":Ne(a),cd(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ys)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[hn]=t,e[ro]=a,Th(e,t,!1,!1),t.stateNode=e;e:{switch(g=rl(i,a),i){case"dialog":He("cancel",e),He("close",e),c=a;break;case"iframe":case"object":case"embed":He("load",e),c=a;break;case"video":case"audio":for(c=0;c<eo.length;c++)He(eo[c],e);c=a;break;case"source":He("error",e),c=a;break;case"img":case"image":case"link":He("error",e),He("load",e),c=a;break;case"details":He("toggle",e),c=a;break;case"input":Gt(e,a),c=Dt(e,a),He("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=Y({},a,{value:void 0}),He("invalid",e);break;case"textarea":ld(e,a),c=yr(e,a),He("invalid",e);break;default:c=a}nl(i,c),S=c;for(f in S)if(S.hasOwnProperty(f)){var A=S[f];f==="style"?pd(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&fd(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Ui(e,A):typeof A=="number"&&Ui(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?A!=null&&f==="onScroll"&&He("scroll",e):A!=null&&W(e,f,A,g))}switch(i){case"input":Ne(e),Hn(e,a,!1);break;case"textarea":Ne(e),cd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+he(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Gn(e,!!a.multiple,f,!1):a.defaultValue!=null&&Gn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ys)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Ch(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(i=Ir(lo.current),Ir(pn.current),Is(t)){if(a=t.stateNode,i=t.memoizedProps,a[hn]=t,(f=a.nodeValue!==i)&&(e=Mt,e!==null))switch(e.tag){case 3:vs(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[hn]=t,t.stateNode=a}return pt(t),null;case 13:if(xe(Ye),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pf(),oi(),t.flags|=98560,f=!1;else if(f=Is(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[hn]=t}else oi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pt(t),f=!1}else rn!==null&&(Fu(rn),rn=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?tt===0&&(tt=3):Lu())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return ui(),wu(e,t),e===null&&to(t.stateNode.containerInfo),pt(t),null;case 10:return bl(t.type._context),pt(t),null;case 17:return It(t.type)&&As(),pt(t),null;case 19:if(xe(Ye),f=t.memoizedState,f===null)return pt(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)po(f,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Os(e),g!==null){for(t.flags|=128,po(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(Ye,Ye.current&1|2),t.child}e=e.sibling}f.tail!==null&&Xe()>hi&&(t.flags|=128,a=!0,po(f,!1),t.lanes=4194304)}else{if(!a)if(e=Os(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),po(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!We)return pt(t),null}else 2*Xe()-f.renderingStartTime>hi&&i!==1073741824&&(t.flags|=128,a=!0,po(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Xe(),t.sibling=null,i=Ye.current,Be(Ye,a?i&1|2:i&1),t):(pt(t),null);case 22:case 23:return Uu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function r0(e,t){switch(jl(t),t.tag){case 1:return It(t.type)&&As(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),xe(Tt),xe(ft),ru(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(xe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ye),null;case 4:return ui(),null;case 10:return bl(t.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var Gs=!1,gt=!1,i0=typeof WeakSet=="function"?WeakSet:Set,Q=null;function di(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ke(e,t,a)}else i.current=null}function _u(e,t,i){try{i()}catch(a){Ke(e,t,a)}}var Rh=!1;function o0(e,t){if(Ul=ss,e=of(),Rl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,S=-1,A=-1,N=0,H=0,G=e,L=null;t:for(;;){for(var V;G!==i||c!==0&&G.nodeType!==3||(S=g+c),G!==f||a!==0&&G.nodeType!==3||(A=g+a),G.nodeType===3&&(g+=G.nodeValue.length),(V=G.firstChild)!==null;)L=G,G=V;for(;;){if(G===e)break t;if(L===i&&++N===c&&(S=g),L===f&&++H===a&&(A=g),(V=G.nextSibling)!==null)break;G=L,L=G.parentNode}G=V}i=S===-1||A===-1?null:{start:S,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ll={focusedElem:e,selectionRange:i},ss=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var q=Z.memoizedProps,Qe=Z.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?q:on(t.type,q),Qe);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(z){Ke(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Z=Rh,Rh=!1,Z}function go(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&_u(t,i,f)}c=c.next}while(c!==a)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Tu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function kh(e){var t=e.alternate;t!==null&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[ro],delete t[Gl],delete t[zv],delete t[Wv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ph(e){return e.tag===5||e.tag===3||e.tag===4}function Nh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ys));else if(a!==4&&(e=e.child,e!==null))for(Iu(e,t,i),e=e.sibling;e!==null;)Iu(e,t,i),e=e.sibling}function Cu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Cu(e,t,i),e=e.sibling;e!==null;)Cu(e,t,i),e=e.sibling}var st=null,sn=!1;function Jn(e,t,i){for(i=i.child;i!==null;)Oh(e,t,i),i=i.sibling}function Oh(e,t,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(es,i)}catch{}switch(i.tag){case 5:gt||di(i,t);case 6:var a=st,c=sn;st=null,Jn(e,t,i),st=a,sn=c,st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):st.removeChild(i.stateNode));break;case 18:st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?xl(e.parentNode,i):e.nodeType===1&&xl(e,i),Vi(e)):xl(st,i.stateNode));break;case 4:a=st,c=sn,st=i.stateNode.containerInfo,sn=!0,Jn(e,t,i),st=a,sn=c;break;case 0:case 11:case 14:case 15:if(!gt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&_u(i,t,g),c=c.next}while(c!==a)}Jn(e,t,i);break;case 1:if(!gt&&(di(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(S){Ke(i,t,S)}Jn(e,t,i);break;case 21:Jn(e,t,i);break;case 22:i.mode&1?(gt=(a=gt)||i.memoizedState!==null,Jn(e,t,i),gt=a):Jn(e,t,i);break;default:Jn(e,t,i)}}function Dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new i0),t.forEach(function(a){var c=p0.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function an(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=t,S=g;e:for(;S!==null;){switch(S.tag){case 5:st=S.stateNode,sn=!1;break e;case 3:st=S.stateNode.containerInfo,sn=!0;break e;case 4:st=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(st===null)throw Error(o(160));Oh(f,g,c),st=null,sn=!1;var A=c.alternate;A!==null&&(A.return=null),c.return=null}catch(N){Ke(c,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fh(t,e),t=t.sibling}function Fh(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),mn(e),a&4){try{go(3,e,e.return),zs(3,e)}catch(q){Ke(e,e.return,q)}try{go(5,e,e.return)}catch(q){Ke(e,e.return,q)}}break;case 1:an(t,e),mn(e),a&512&&i!==null&&di(i,i.return);break;case 5:if(an(t,e),mn(e),a&512&&i!==null&&di(i,i.return),e.flags&32){var c=e.stateNode;try{Ui(c,"")}catch(q){Ke(e,e.return,q)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,S=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&vr(c,f),rl(S,g);var N=rl(S,f);for(g=0;g<A.length;g+=2){var H=A[g],G=A[g+1];H==="style"?pd(c,G):H==="dangerouslySetInnerHTML"?fd(c,G):H==="children"?Ui(c,G):W(c,H,G,N)}switch(S){case"input":_n(c,f);break;case"textarea":ud(c,f);break;case"select":var L=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?Gn(c,!!f.multiple,V,!1):L!==!!f.multiple&&(f.defaultValue!=null?Gn(c,!!f.multiple,f.defaultValue,!0):Gn(c,!!f.multiple,f.multiple?[]:"",!1))}c[ro]=f}catch(q){Ke(e,e.return,q)}}break;case 6:if(an(t,e),mn(e),a&4){if(e.stateNode===null)throw Error(o(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(q){Ke(e,e.return,q)}}break;case 3:if(an(t,e),mn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(q){Ke(e,e.return,q)}break;case 4:an(t,e),mn(e);break;case 13:an(t,e),mn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Pu=Xe())),a&4&&Dh(e);break;case 22:if(H=i!==null&&i.memoizedState!==null,e.mode&1?(gt=(N=gt)||H,an(t,e),gt=N):an(t,e),mn(e),a&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!H&&(e.mode&1)!==0)for(Q=e,H=e.child;H!==null;){for(G=Q=H;Q!==null;){switch(L=Q,V=L.child,L.tag){case 0:case 11:case 14:case 15:go(4,L,L.return);break;case 1:di(L,L.return);var Z=L.stateNode;if(typeof Z.componentWillUnmount=="function"){a=L,i=L.return;try{t=a,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(q){Ke(a,i,q)}}break;case 5:di(L,L.return);break;case 22:if(L.memoizedState!==null){Lh(G);continue}}V!==null?(V.return=L,Q=V):Lh(G)}H=H.sibling}e:for(H=null,G=e;;){if(G.tag===5){if(H===null){H=G;try{c=G.stateNode,N?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=G.stateNode,A=G.memoizedProps.style,g=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=hd("display",g))}catch(q){Ke(e,e.return,q)}}}else if(G.tag===6){if(H===null)try{G.stateNode.nodeValue=N?"":G.memoizedProps}catch(q){Ke(e,e.return,q)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;H===G&&(H=null),G=G.return}H===G&&(H=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:an(t,e),mn(e),a&4&&Dh(e);break;case 21:break;default:an(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Ph(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Ui(c,""),a.flags&=-33);var f=Nh(e);Cu(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,S=Nh(e);Iu(e,S,g);break;default:throw Error(o(161))}}catch(A){Ke(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function s0(e,t,i){Q=e,Mh(e)}function Mh(e,t,i){for(var a=(e.mode&1)!==0;Q!==null;){var c=Q,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Gs;if(!g){var S=c.alternate,A=S!==null&&S.memoizedState!==null||gt;S=Gs;var N=gt;if(Gs=g,(gt=A)&&!N)for(Q=c;Q!==null;)g=Q,A=g.child,g.tag===22&&g.memoizedState!==null?Bh(c):A!==null?(A.return=g,Q=A):Bh(c);for(;f!==null;)Q=f,Mh(f),f=f.sibling;Q=c,Gs=S,gt=N}Uh(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,Q=f):Uh(e)}}function Uh(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:gt||zs(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!gt)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:on(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Lf(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Lf(t,g,i)}break;case 5:var S=t.stateNode;if(i===null&&t.flags&4){i=S;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var H=N.memoizedState;if(H!==null){var G=H.dehydrated;G!==null&&Vi(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}gt||t.flags&512&&Tu(t)}catch(L){Ke(t,t.return,L)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function Lh(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function Bh(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{zs(4,t)}catch(A){Ke(t,i,A)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(A){Ke(t,c,A)}}var f=t.return;try{Tu(t)}catch(A){Ke(t,f,A)}break;case 5:var g=t.return;try{Tu(t)}catch(A){Ke(t,g,A)}}}catch(A){Ke(t,t.return,A)}if(t===e){Q=null;break}var S=t.sibling;if(S!==null){S.return=t.return,Q=S;break}Q=t.return}}var a0=Math.ceil,Ws=x.ReactCurrentDispatcher,Ru=x.ReactCurrentOwner,Yt=x.ReactCurrentBatchConfig,Re=0,rt=null,Ze=null,at=0,Lt=0,fi=Xn(0),tt=0,mo=null,Rr=0,$s=0,ku=0,vo=null,Rt=null,Pu=0,hi=1/0,On=null,js=!1,Nu=null,er=null,Ys=!1,tr=null,Vs=0,yo=0,Ou=null,Ks=-1,Xs=0;function Et(){return(Re&6)!==0?Xe():Ks!==-1?Ks:Ks=Xe()}function nr(e){return(e.mode&1)===0?1:(Re&2)!==0&&at!==0?at&-at:jv.transition!==null?(Xs===0&&(Xs=Pd()),Xs):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Hd(e.type)),e)}function ln(e,t,i,a){if(50<yo)throw yo=0,Ou=null,Error(o(185));zi(e,i,a),((Re&2)===0||e!==rt)&&(e===rt&&((Re&2)===0&&($s|=i),tt===4&&rr(e,at)),kt(e,a),i===1&&Re===0&&(t.mode&1)===0&&(hi=Xe()+500,ws&&bn()))}function kt(e,t){var i=e.callbackNode;jm(e,t);var a=rs(e,e===rt?at:0);if(a===0)i!==null&&Cd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Cd(i),t===1)e.tag===0?$v(xh.bind(null,e)):Tf(xh.bind(null,e)),xv(function(){(Re&6)===0&&bn()}),i=null;else{switch(Nd(a)){case 1:i=cl;break;case 4:i=Rd;break;case 16:i=Jo;break;case 536870912:i=kd;break;default:i=Jo}i=Kh(i,Hh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Hh(e,t){if(Ks=-1,Xs=0,(Re&6)!==0)throw Error(o(327));var i=e.callbackNode;if(pi()&&e.callbackNode!==i)return null;var a=rs(e,e===rt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Qs(e,a);else{t=a;var c=Re;Re|=2;var f=zh();(rt!==e||at!==t)&&(On=null,hi=Xe()+500,Pr(e,t));do try{c0();break}catch(S){Gh(e,S)}while(!0);Ql(),Ws.current=f,Re=c,Ze!==null?t=0:(rt=null,at=0,t=tt)}if(t!==0){if(t===2&&(c=dl(e),c!==0&&(a=c,t=Du(e,c))),t===1)throw i=mo,Pr(e,0),rr(e,a),kt(e,Xe()),i;if(t===6)rr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!l0(c)&&(t=Qs(e,a),t===2&&(f=dl(e),f!==0&&(a=f,t=Du(e,f))),t===1))throw i=mo,Pr(e,0),rr(e,a),kt(e,Xe()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Nr(e,Rt,On);break;case 3:if(rr(e,a),(a&130023424)===a&&(t=Pu+500-Xe(),10<t)){if(rs(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Et(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Hl(Nr.bind(null,e,Rt,On),t);break}Nr(e,Rt,On);break;case 4:if(rr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-tn(a);f=1<<g,g=t[g],g>c&&(c=g),a&=~f}if(a=c,a=Xe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*a0(a/1960))-a,10<a){e.timeoutHandle=Hl(Nr.bind(null,e,Rt,On),a);break}Nr(e,Rt,On);break;case 5:Nr(e,Rt,On);break;default:throw Error(o(329))}}}return kt(e,Xe()),e.callbackNode===i?Hh.bind(null,e):null}function Du(e,t){var i=vo;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Qs(e,t),e!==2&&(t=Rt,Rt=i,t!==null&&Fu(t)),e}function Fu(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function l0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~ku,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-tn(t),a=1<<i;e[i]=-1,t&=~a}}function xh(e){if((Re&6)!==0)throw Error(o(327));pi();var t=rs(e,0);if((t&1)===0)return kt(e,Xe()),null;var i=Qs(e,t);if(e.tag!==0&&i===2){var a=dl(e);a!==0&&(t=a,i=Du(e,a))}if(i===1)throw i=mo,Pr(e,0),rr(e,t),kt(e,Xe()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nr(e,Rt,On),kt(e,Xe()),null}function Mu(e,t){var i=Re;Re|=1;try{return e(t)}finally{Re=i,Re===0&&(hi=Xe()+500,ws&&bn())}}function kr(e){tr!==null&&tr.tag===0&&(Re&6)===0&&pi();var t=Re;Re|=1;var i=Yt.transition,a=Me;try{if(Yt.transition=null,Me=1,e)return e()}finally{Me=a,Yt.transition=i,Re=t,(Re&6)===0&&bn()}}function Uu(){Lt=fi.current,xe(fi)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Hv(i)),Ze!==null)for(i=Ze.return;i!==null;){var a=i;switch(jl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&As();break;case 3:ui(),xe(Tt),xe(ft),ru();break;case 5:tu(a);break;case 4:ui();break;case 13:xe(Ye);break;case 19:xe(Ye);break;case 10:bl(a.type._context);break;case 22:case 23:Uu()}i=i.return}if(rt=e,Ze=e=ir(e.current,null),at=Lt=t,tt=0,mo=null,ku=$s=Rr=0,Rt=vo=null,Tr!==null){for(t=0;t<Tr.length;t++)if(i=Tr[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}Tr=null}return e}function Gh(e,t){do{var i=Ze;try{if(Ql(),Ds.current=Ls,Fs){for(var a=Ve.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Fs=!1}if(Cr=0,nt=et=Ve=null,uo=!1,co=0,Ru.current=null,i===null||i.return===null){tt=1,mo=t,Ze=null;break}e:{var f=e,g=i.return,S=i,A=t;if(t=at,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var N=A,H=S,G=H.tag;if((H.mode&1)===0&&(G===0||G===11||G===15)){var L=H.alternate;L?(H.updateQueue=L.updateQueue,H.memoizedState=L.memoizedState,H.lanes=L.lanes):(H.updateQueue=null,H.memoizedState=null)}var V=dh(g);if(V!==null){V.flags&=-257,fh(V,g,S,f,t),V.mode&1&&ch(f,N,t),t=V,A=N;var Z=t.updateQueue;if(Z===null){var q=new Set;q.add(A),t.updateQueue=q}else Z.add(A);break e}else{if((t&1)===0){ch(f,N,t),Lu();break e}A=Error(o(426))}}else if(We&&S.mode&1){var Qe=dh(g);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),fh(Qe,g,S,f,t),Kl(ci(A,S));break e}}f=A=ci(A,S),tt!==4&&(tt=2),vo===null?vo=[f]:vo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=lh(f,A,t);Uf(f,I);break e;case 1:S=A;var E=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(er===null||!er.has(R)))){f.flags|=65536,t&=-t,f.lanes|=t;var z=uh(f,S,t);Uf(f,z);break e}}f=f.return}while(f!==null)}$h(i)}catch(J){t=J,Ze===i&&i!==null&&(Ze=i=i.return);continue}break}while(!0)}function zh(){var e=Ws.current;return Ws.current=Ls,e===null?Ls:e}function Lu(){(tt===0||tt===3||tt===2)&&(tt=4),rt===null||(Rr&268435455)===0&&($s&268435455)===0||rr(rt,at)}function Qs(e,t){var i=Re;Re|=2;var a=zh();(rt!==e||at!==t)&&(On=null,Pr(e,t));do try{u0();break}catch(c){Gh(e,c)}while(!0);if(Ql(),Re=i,Ws.current=a,Ze!==null)throw Error(o(261));return rt=null,at=0,tt}function u0(){for(;Ze!==null;)Wh(Ze)}function c0(){for(;Ze!==null&&!Um();)Wh(Ze)}function Wh(e){var t=Vh(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?$h(e):Ze=t,Ru.current=null}function $h(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=n0(i,t,Lt),i!==null){Ze=i;return}}else{if(i=r0(i,t),i!==null){i.flags&=32767,Ze=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Ze=null;return}}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);tt===0&&(tt=5)}function Nr(e,t,i){var a=Me,c=Yt.transition;try{Yt.transition=null,Me=1,d0(e,t,i,a)}finally{Yt.transition=c,Me=a}return null}function d0(e,t,i,a){do pi();while(tr!==null);if((Re&6)!==0)throw Error(o(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Ym(e,f),e===rt&&(Ze=rt=null,at=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ys||(Ys=!0,Kh(Jo,function(){return pi(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Yt.transition,Yt.transition=null;var g=Me;Me=1;var S=Re;Re|=4,Ru.current=null,o0(e,i),Fh(i,e),Ov(Ll),ss=!!Ul,Ll=Ul=null,e.current=i,s0(i),Lm(),Re=S,Me=g,Yt.transition=f}else e.current=i;if(Ys&&(Ys=!1,tr=e,Vs=c),f=e.pendingLanes,f===0&&(er=null),xm(i.stateNode),kt(e,Xe()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(js)throw js=!1,e=Nu,Nu=null,e;return(Vs&1)!==0&&e.tag!==0&&pi(),f=e.pendingLanes,(f&1)!==0?e===Ou?yo++:(yo=0,Ou=e):yo=0,bn(),null}function pi(){if(tr!==null){var e=Nd(Vs),t=Yt.transition,i=Me;try{if(Yt.transition=null,Me=16>e?16:e,tr===null)var a=!1;else{if(e=tr,tr=null,Vs=0,(Re&6)!==0)throw Error(o(331));var c=Re;for(Re|=4,Q=e.current;Q!==null;){var f=Q,g=f.child;if((Q.flags&16)!==0){var S=f.deletions;if(S!==null){for(var A=0;A<S.length;A++){var N=S[A];for(Q=N;Q!==null;){var H=Q;switch(H.tag){case 0:case 11:case 15:go(8,H,f)}var G=H.child;if(G!==null)G.return=H,Q=G;else for(;Q!==null;){H=Q;var L=H.sibling,V=H.return;if(kh(H),H===N){Q=null;break}if(L!==null){L.return=V,Q=L;break}Q=V}}}var Z=f.alternate;if(Z!==null){var q=Z.child;if(q!==null){Z.child=null;do{var Qe=q.sibling;q.sibling=null,q=Qe}while(q!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,Q=g;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:go(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,Q=I;break e}Q=f.return}}var E=e.current;for(Q=E;Q!==null;){g=Q;var R=g.child;if((g.subtreeFlags&2064)!==0&&R!==null)R.return=g,Q=R;else e:for(g=E;Q!==null;){if(S=Q,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:zs(9,S)}}catch(J){Ke(S,S.return,J)}if(S===g){Q=null;break e}var z=S.sibling;if(z!==null){z.return=S.return,Q=z;break e}Q=S.return}}if(Re=c,bn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(es,e)}catch{}a=!0}return a}finally{Me=i,Yt.transition=t}}return!1}function jh(e,t,i){t=ci(i,t),t=lh(e,t,1),e=qn(e,t,1),t=Et(),e!==null&&(zi(e,1,t),kt(e,t))}function Ke(e,t,i){if(e.tag===3)jh(e,e,i);else for(;t!==null;){if(t.tag===3){jh(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(er===null||!er.has(a))){e=ci(i,e),e=uh(t,e,1),t=qn(t,e,1),e=Et(),t!==null&&(zi(t,1,e),kt(t,e));break}}t=t.return}}function f0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&i,rt===e&&(at&i)===i&&(tt===4||tt===3&&(at&130023424)===at&&500>Xe()-Pu?Pr(e,0):ku|=i),kt(e,t)}function Yh(e,t){t===0&&((e.mode&1)===0?t=1:(t=ns,ns<<=1,(ns&130023424)===0&&(ns=4194304)));var i=Et();e=kn(e,t),e!==null&&(zi(e,t,i),kt(e,i))}function h0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Yh(e,i)}function p0(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),Yh(e,i)}var Vh;Vh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Ct=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Ct=!1,t0(e,t,i);Ct=(e.flags&131072)!==0}else Ct=!1,We&&(t.flags&1048576)!==0&&If(t,Ts,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;xs(e,t),e=t.pendingProps;var c=ni(t,ft.current);li(t,i),c=su(null,t,a,e,c,i);var f=au();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(a)?(f=!0,Es(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Jl(t),c.updater=Bs,t.stateNode=c,c._reactInternals=t,hu(t,a,e,i),t=vu(null,t,a,!0,f,i)):(t.tag=0,We&&f&&$l(t),At(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(xs(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=m0(a),e=on(a,e),c){case 0:t=mu(null,t,a,e,i);break e;case 1:t=yh(null,t,a,e,i);break e;case 11:t=hh(null,t,a,e,i);break e;case 14:t=ph(null,t,a,on(a.type,e),i);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),mu(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),yh(e,t,a,c,i);case 3:e:{if(Sh(t),e===null)throw Error(o(387));a=t.pendingProps,f=t.memoizedState,c=f.element,Mf(e,t),Ns(t,a,null,i);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=ci(Error(o(423)),t),t=Ah(e,t,a,i,c);break e}else if(a!==c){c=ci(Error(o(424)),t),t=Ah(e,t,a,i,c);break e}else for(Ut=Kn(t.stateNode.containerInfo.firstChild),Mt=t,We=!0,rn=null,i=Df(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(oi(),a===c){t=Nn(e,t,i);break e}At(e,t,a,i)}t=t.child}return t;case 5:return Bf(t),e===null&&Vl(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Bl(a,c)?g=null:f!==null&&Bl(a,f)&&(t.flags|=32),vh(e,t),At(e,t,g,i),t.child;case 6:return e===null&&Vl(t),null;case 13:return Eh(e,t,i);case 4:return eu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=si(t,null,a,i):At(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),hh(e,t,a,c,i);case 7:return At(e,t,t.pendingProps,i),t.child;case 8:return At(e,t,t.pendingProps.children,i),t.child;case 12:return At(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,Be(Rs,a._currentValue),a._currentValue=g,f!==null)if(nn(f.value,g)){if(f.children===c.children&&!Tt.current){t=Nn(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var S=f.dependencies;if(S!==null){g=f.child;for(var A=S.firstContext;A!==null;){if(A.context===a){if(f.tag===1){A=Pn(-1,i&-i),A.tag=2;var N=f.updateQueue;if(N!==null){N=N.shared;var H=N.pending;H===null?A.next=A:(A.next=H.next,H.next=A),N.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),Zl(f.return,i,t),S.lanes|=i;break}A=A.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),Zl(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}At(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,li(t,i),c=$t(c),a=a(c),t.flags|=1,At(e,t,a,i),t.child;case 14:return a=t.type,c=on(a,t.pendingProps),c=on(a.type,c),ph(e,t,a,c,i);case 15:return gh(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),xs(e,t),t.tag=1,It(a)?(e=!0,Es(t)):e=!1,li(t,i),sh(t,a,c),hu(t,a,c,i),vu(null,t,a,!0,e,i);case 19:return _h(e,t,i);case 22:return mh(e,t,i)}throw Error(o(156,t.tag))};function Kh(e,t){return Id(e,t)}function g0(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,i,a){return new g0(e,t,i,a)}function Bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m0(e){if(typeof e=="function")return Bu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ue)return 11;if(e===ke)return 14}return 2}function ir(e,t){var i=e.alternate;return i===null?(i=Vt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function bs(e,t,i,a,c,f){var g=2;if(a=e,typeof e=="function")Bu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case B:return Or(i.children,c,f,t);case j:g=8,c|=8;break;case Se:return e=Vt(12,i,t,c|2),e.elementType=Se,e.lanes=f,e;case Le:return e=Vt(13,i,t,c),e.elementType=Le,e.lanes=f,e;case _e:return e=Vt(19,i,t,c),e.elementType=_e,e.lanes=f,e;case se:return Zs(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ze:g=10;break e;case Je:g=9;break e;case Ue:g=11;break e;case ke:g=14;break e;case ge:g=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Vt(g,i,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function Or(e,t,i,a){return e=Vt(7,e,a,t),e.lanes=i,e}function Zs(e,t,i,a){return e=Vt(22,e,a,t),e.elementType=se,e.lanes=i,e.stateNode={isHidden:!1},e}function Hu(e,t,i){return e=Vt(6,e,null,t),e.lanes=i,e}function xu(e,t,i){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v0(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Gu(e,t,i,a,c,f,g,S,A){return e=new v0(e,t,i,S,A),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Vt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(f),e}function y0(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Xh(e){if(!e)return Qn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(It(i))return wf(e,i,t)}return t}function Qh(e,t,i,a,c,f,g,S,A){return e=Gu(i,a,!0,e,c,f,g,S,A),e.context=Xh(null),i=e.current,a=Et(),c=nr(i),f=Pn(a,c),f.callback=t??null,qn(i,f,c),e.current.lanes=c,zi(e,c,a),kt(e,a),e}function qs(e,t,i,a){var c=t.current,f=Et(),g=nr(c);return i=Xh(i),t.context===null?t.context=i:t.pendingContext=i,t=Pn(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=qn(c,t,g),e!==null&&(ln(e,c,g,f),Ps(e,c,g)),g}function Js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function zu(e,t){bh(e,t),(e=e.alternate)&&bh(e,t)}function S0(){return null}var Zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}ea.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));qs(e,t,null,null)},ea.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){qs(null,e,null,null)}),t[Tn]=null}};function ea(e){this._internalRoot=e}ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<jn.length&&t!==0&&t<jn[i].priority;i++);jn.splice(i,0,e),i===0&&Ld(e)}};function $u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qh(){}function A0(e,t,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var N=Js(g);f.call(N)}}var g=Qh(t,a,e,0,null,!1,!1,"",qh);return e._reactRootContainer=g,e[Tn]=g.current,to(e.nodeType===8?e.parentNode:e),kr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var S=a;a=function(){var N=Js(A);S.call(N)}}var A=Gu(e,0,!1,null,null,!1,!1,"",qh);return e._reactRootContainer=A,e[Tn]=A.current,to(e.nodeType===8?e.parentNode:e),kr(function(){qs(t,A,i,a)}),A}function na(e,t,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var S=c;c=function(){var A=Js(g);S.call(A)}}qs(t,g,e,c)}else g=A0(i,t,e,c,a);return Js(g)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Gi(t.pendingLanes);i!==0&&(hl(t,i|1),kt(t,Xe()),(Re&6)===0&&(hi=Xe()+500,bn()))}break;case 13:kr(function(){var a=kn(e,1);if(a!==null){var c=Et();ln(a,e,1,c)}}),zu(e,1)}},pl=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var i=Et();ln(t,e,134217728,i)}zu(e,134217728)}},Dd=function(e){if(e.tag===13){var t=nr(e),i=kn(e,t);if(i!==null){var a=Et();ln(i,e,t,a)}zu(e,t)}},Fd=function(){return Me},Md=function(e,t){var i=Me;try{return Me=e,t()}finally{Me=i}},sl=function(e,t,i){switch(t){case"input":if(_n(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=Ss(a);if(!c)throw Error(o(90));fe(a),_n(a,c)}}}break;case"textarea":ud(e,i);break;case"select":t=i.value,t!=null&&Gn(e,!!i.multiple,t,!1)}},yd=Mu,Sd=kr;var E0={usingClientEntryPoint:!1,Events:[io,ei,Ss,md,vd,Mu]},So={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w0={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_d(e),e===null?null:e.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||S0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{es=ra.inject(w0),fn=ra}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0,Pt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$u(t))throw Error(o(200));return y0(e,t,null,i)},Pt.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var i=!1,a="",c=Zh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Gu(e,1,!1,null,null,i,!1,a,c),e[Tn]=t.current,to(e.nodeType===8?e.parentNode:e),new Wu(t)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_d(t),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return kr(e)},Pt.hydrate=function(e,t,i){if(!ta(t))throw Error(o(200));return na(null,e,t,!0,i)},Pt.hydrateRoot=function(e,t,i){if(!$u(e))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=Zh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Qh(t,null,e,1,i??null,c,!1,f,g),e[Tn]=t.current,to(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new ea(t)},Pt.render=function(e,t,i){if(!ta(t))throw Error(o(200));return na(null,e,t,!1,i)},Pt.unmountComponentAtNode=function(e){if(!ta(e))throw Error(o(40));return e._reactRootContainer?(kr(function(){na(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1},Pt.unstable_batchedUpdates=Mu,Pt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!ta(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return na(e,t,i,!1,a)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var sp;function D0(){if(sp)return Vu.exports;sp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Vu.exports=O0(),Vu.exports}var ap;function F0(){if(ap)return ia;ap=1;var n=D0();return ia.createRoot=n.createRoot,ia.hydrateRoot=n.hydrateRoot,ia}var M0=F0();const U0=gg(M0),mg=Ee.createContext(void 0),L0=({initialAppState:n,children:r})=>{const[o,s]=Ee.useState(n),[u,l]=Ee.useState(void 0),d=(h,p)=>{s(h),h==="gameOver"&&p?l(p):h!=="gameOver"&&l(void 0)};return Fe.jsx(mg.Provider,{value:{appState:o,setAppState:d,gameOverDetails:u},children:r})},Ga=()=>{const n=Ee.useContext(mg);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var vt=function(){return vt=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},vt.apply(this,arguments)};function Lo(n,r,o){if(o||arguments.length===2)for(var s=0,u=r.length,l;s<u;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return n.concat(l||Array.prototype.slice.call(r))}var Ge="-ms-",Oo="-moz-",De="-webkit-",vg="comm",za="rule",Mc="decl",B0="@import",yg="@keyframes",H0="@layer",Sg=Math.abs,Uc=String.fromCharCode,mc=Object.assign;function x0(n,r){return ot(n,0)^45?(((r<<2^ot(n,0))<<2^ot(n,1))<<2^ot(n,2))<<2^ot(n,3):0}function Ag(n){return n.trim()}function Mn(n,r){return(n=r.exec(n))?n[0]:n}function ve(n,r,o){return n.replace(r,o)}function wa(n,r,o){return n.indexOf(r,o)}function ot(n,r){return n.charCodeAt(r)|0}function Ii(n,r,o){return n.slice(r,o)}function yn(n){return n.length}function Eg(n){return n.length}function Ro(n,r){return r.push(n),n}function G0(n,r){return n.map(r).join("")}function lp(n,r){return n.filter(function(o){return!Mn(o,r)})}var Wa=1,Ci=1,wg=0,qt=0,qe=0,Mi="";function $a(n,r,o,s,u,l,d,h){return{value:n,root:r,parent:o,type:s,props:u,children:l,line:Wa,column:Ci,length:d,return:"",siblings:h}}function cr(n,r){return mc($a("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},r)}function gi(n){for(;n.root;)n=cr(n.root,{children:[n]});Ro(n,n.siblings)}function z0(){return qe}function W0(){return qe=qt>0?ot(Mi,--qt):0,Ci--,qe===10&&(Ci=1,Wa--),qe}function un(){return qe=qt<wg?ot(Mi,qt++):0,Ci++,qe===10&&(Ci=1,Wa++),qe}function zr(){return ot(Mi,qt)}function _a(){return qt}function ja(n,r){return Ii(Mi,n,r)}function vc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $0(n){return Wa=Ci=1,wg=yn(Mi=n),qt=0,[]}function j0(n){return Mi="",n}function Qu(n){return Ag(ja(qt-1,yc(n===91?n+2:n===40?n+1:n)))}function Y0(n){for(;(qe=zr())&&qe<33;)un();return vc(n)>2||vc(qe)>3?"":" "}function V0(n,r){for(;--r&&un()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return ja(n,_a()+(r<6&&zr()==32&&un()==32))}function yc(n){for(;un();)switch(qe){case n:return qt;case 34:case 39:n!==34&&n!==39&&yc(qe);break;case 40:n===41&&yc(n);break;case 92:un();break}return qt}function K0(n,r){for(;un()&&n+qe!==57;)if(n+qe===84&&zr()===47)break;return"/*"+ja(r,qt-1)+"*"+Uc(n===47?n:un())}function X0(n){for(;!vc(zr());)un();return ja(n,qt)}function Q0(n){return j0(Ta("",null,null,null,[""],n=$0(n),0,[0],n))}function Ta(n,r,o,s,u,l,d,h,p){for(var v=0,m=0,y=d,_=0,k=0,D=0,O=1,T=1,F=1,C=0,W="",x=u,K=l,U=s,B=W;T;)switch(D=C,C=un()){case 40:if(D!=108&&ot(B,y-1)==58){wa(B+=ve(Qu(C),"&","&\f"),"&\f",Sg(v?h[v-1]:0))!=-1&&(F=-1);break}case 34:case 39:case 91:B+=Qu(C);break;case 9:case 10:case 13:case 32:B+=Y0(D);break;case 92:B+=V0(_a()-1,7);continue;case 47:switch(zr()){case 42:case 47:Ro(b0(K0(un(),_a()),r,o,p),p);break;default:B+="/"}break;case 123*O:h[v++]=yn(B)*F;case 125*O:case 59:case 0:switch(C){case 0:case 125:T=0;case 59+m:F==-1&&(B=ve(B,/\f/g,"")),k>0&&yn(B)-y&&Ro(k>32?cp(B+";",s,o,y-1,p):cp(ve(B," ","")+";",s,o,y-2,p),p);break;case 59:B+=";";default:if(Ro(U=up(B,r,o,v,m,u,h,W,x=[],K=[],y,l),l),C===123)if(m===0)Ta(B,r,U,U,x,l,y,h,K);else switch(_===99&&ot(B,3)===110?100:_){case 100:case 108:case 109:case 115:Ta(n,U,U,s&&Ro(up(n,U,U,0,0,u,h,W,u,x=[],y,K),K),u,K,y,h,s?x:K);break;default:Ta(B,U,U,U,[""],K,0,h,K)}}v=m=k=0,O=F=1,W=B="",y=d;break;case 58:y=1+yn(B),k=D;default:if(O<1){if(C==123)--O;else if(C==125&&O++==0&&W0()==125)continue}switch(B+=Uc(C),C*O){case 38:F=m>0?1:(B+="\f",-1);break;case 44:h[v++]=(yn(B)-1)*F,F=1;break;case 64:zr()===45&&(B+=Qu(un())),_=zr(),m=y=yn(W=B+=X0(_a())),C++;break;case 45:D===45&&yn(B)==2&&(O=0)}}return l}function up(n,r,o,s,u,l,d,h,p,v,m,y){for(var _=u-1,k=u===0?l:[""],D=Eg(k),O=0,T=0,F=0;O<s;++O)for(var C=0,W=Ii(n,_+1,_=Sg(T=d[O])),x=n;C<D;++C)(x=Ag(T>0?k[C]+" "+W:ve(W,/&\f/g,k[C])))&&(p[F++]=x);return $a(n,r,o,u===0?za:h,p,v,m,y)}function b0(n,r,o,s){return $a(n,r,o,vg,Uc(z0()),Ii(n,2,-2),0,s)}function cp(n,r,o,s,u){return $a(n,r,o,Mc,Ii(n,0,s),Ii(n,s+1,-1),s,u)}function _g(n,r,o){switch(x0(n,r)){case 5103:return De+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return De+n+n;case 4789:return Oo+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return De+n+Oo+n+Ge+n+n;case 5936:switch(ot(n,r+11)){case 114:return De+n+Ge+ve(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return De+n+Ge+ve(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return De+n+Ge+ve(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return De+n+Ge+n+n;case 6165:return De+n+Ge+"flex-"+n+n;case 5187:return De+n+ve(n,/(\w+).+(:[^]+)/,De+"box-$1$2"+Ge+"flex-$1$2")+n;case 5443:return De+n+Ge+"flex-item-"+ve(n,/flex-|-self/g,"")+(Mn(n,/flex-|baseline/)?"":Ge+"grid-row-"+ve(n,/flex-|-self/g,""))+n;case 4675:return De+n+Ge+"flex-line-pack"+ve(n,/align-content|flex-|-self/g,"")+n;case 5548:return De+n+Ge+ve(n,"shrink","negative")+n;case 5292:return De+n+Ge+ve(n,"basis","preferred-size")+n;case 6060:return De+"box-"+ve(n,"-grow","")+De+n+Ge+ve(n,"grow","positive")+n;case 4554:return De+ve(n,/([^-])(transform)/g,"$1"+De+"$2")+n;case 6187:return ve(ve(ve(n,/(zoom-|grab)/,De+"$1"),/(image-set)/,De+"$1"),n,"")+n;case 5495:case 3959:return ve(n,/(image-set\([^]*)/,De+"$1$`$1");case 4968:return ve(ve(n,/(.+:)(flex-)?(.*)/,De+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+De+n+n;case 4200:if(!Mn(n,/flex-|baseline/))return Ge+"grid-column-align"+Ii(n,r)+n;break;case 2592:case 3360:return Ge+ve(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(s,u){return r=u,Mn(s.props,/grid-\w+-end/)})?~wa(n+(o=o[r].value),"span",0)?n:Ge+ve(n,"-start","")+n+Ge+"grid-row-span:"+(~wa(o,"span",0)?Mn(o,/\d+/):+Mn(o,/\d+/)-+Mn(n,/\d+/))+";":Ge+ve(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(s){return Mn(s.props,/grid-\w+-start/)})?n:Ge+ve(ve(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return ve(n,/(.+)-inline(.+)/,De+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yn(n)-1-r>6)switch(ot(n,r+1)){case 109:if(ot(n,r+4)!==45)break;case 102:return ve(n,/(.+:)(.+)-([^]+)/,"$1"+De+"$2-$3$1"+Oo+(ot(n,r+3)==108?"$3":"$2-$3"))+n;case 115:return~wa(n,"stretch",0)?_g(ve(n,"stretch","fill-available"),r,o)+n:n}break;case 5152:case 5920:return ve(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,u,l,d,h,p,v){return Ge+u+":"+l+v+(d?Ge+u+"-span:"+(h?p:+p-+l)+v:"")+n});case 4949:if(ot(n,r+6)===121)return ve(n,":",":"+De)+n;break;case 6444:switch(ot(n,ot(n,14)===45?18:11)){case 120:return ve(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+De+(ot(n,14)===45?"inline-":"")+"box$3$1"+De+"$2$3$1"+Ge+"$2box$3")+n;case 100:return ve(n,":",":"+Ge)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ve(n,"scroll-","scroll-snap-")+n}return n}function Oa(n,r){for(var o="",s=0;s<n.length;s++)o+=r(n[s],s,n,r)||"";return o}function Z0(n,r,o,s){switch(n.type){case H0:if(n.children.length)break;case B0:case Mc:return n.return=n.return||n.value;case vg:return"";case yg:return n.return=n.value+"{"+Oa(n.children,s)+"}";case za:if(!yn(n.value=n.props.join(",")))return""}return yn(o=Oa(n.children,s))?n.return=n.value+"{"+o+"}":""}function q0(n){var r=Eg(n);return function(o,s,u,l){for(var d="",h=0;h<r;h++)d+=n[h](o,s,u,l)||"";return d}}function J0(n){return function(r){r.root||(r=r.return)&&n(r)}}function ey(n,r,o,s){if(n.length>-1&&!n.return)switch(n.type){case Mc:n.return=_g(n.value,n.length,o);return;case yg:return Oa([cr(n,{value:ve(n.value,"@","@"+De)})],s);case za:if(n.length)return G0(o=n.props,function(u){switch(Mn(u,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gi(cr(n,{props:[ve(u,/:(read-\w+)/,":"+Oo+"$1")]})),gi(cr(n,{props:[u]})),mc(n,{props:lp(o,s)});break;case"::placeholder":gi(cr(n,{props:[ve(u,/:(plac\w+)/,":"+De+"input-$1")]})),gi(cr(n,{props:[ve(u,/:(plac\w+)/,":"+Oo+"$1")]})),gi(cr(n,{props:[ve(u,/:(plac\w+)/,Ge+"input-$1")]})),gi(cr(n,{props:[u]})),mc(n,{props:lp(o,s)});break}return""})}}var ty={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Ri=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",Tg="active",Ig="data-styled-version",Ya="6.1.13",Lc=`/*!sc*/
`,Da=typeof window<"u"&&"HTMLElement"in window,ny=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),ry={},Va=Object.freeze([]),ki=Object.freeze({});function Cg(n,r,o){return o===void 0&&(o=ki),n.theme!==o.theme&&n.theme||r||o.theme}var Rg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),iy=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,oy=/(^-|-$)/g;function dp(n){return n.replace(iy,"-").replace(oy,"")}var sy=/(a)(d)/gi,oa=52,fp=function(n){return String.fromCharCode(n+(n>25?39:97))};function Sc(n){var r,o="";for(r=Math.abs(n);r>oa;r=r/oa|0)o=fp(r%oa)+o;return(fp(r%oa)+o).replace(sy,"$1-$2")}var bu,kg=5381,wi=function(n,r){for(var o=r.length;o;)n=33*n^r.charCodeAt(--o);return n},Pg=function(n){return wi(kg,n)};function Ng(n){return Sc(Pg(n)>>>0)}function ay(n){return n.displayName||n.name||"Component"}function Zu(n){return typeof n=="string"&&!0}var Og=typeof Symbol=="function"&&Symbol.for,Dg=Og?Symbol.for("react.memo"):60115,ly=Og?Symbol.for("react.forward_ref"):60112,uy={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cy={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Fg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dy=((bu={})[ly]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bu[Dg]=Fg,bu);function hp(n){return("type"in(r=n)&&r.type.$$typeof)===Dg?Fg:"$$typeof"in n?dy[n.$$typeof]:uy;var r}var fy=Object.defineProperty,hy=Object.getOwnPropertyNames,pp=Object.getOwnPropertySymbols,py=Object.getOwnPropertyDescriptor,gy=Object.getPrototypeOf,gp=Object.prototype;function Mg(n,r,o){if(typeof r!="string"){if(gp){var s=gy(r);s&&s!==gp&&Mg(n,s,o)}var u=hy(r);pp&&(u=u.concat(pp(r)));for(var l=hp(n),d=hp(r),h=0;h<u.length;++h){var p=u[h];if(!(p in cy||o&&o[p]||d&&p in d||l&&p in l)){var v=py(r,p);try{fy(n,p,v)}catch{}}}}return n}function Pi(n){return typeof n=="function"}function Bc(n){return typeof n=="object"&&"styledComponentId"in n}function Br(n,r){return n&&r?"".concat(n," ").concat(r):n||r||""}function Ac(n,r){if(n.length===0)return"";for(var o=n[0],s=1;s<n.length;s++)o+=n[s];return o}function Bo(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Ec(n,r,o){if(o===void 0&&(o=!1),!o&&!Bo(n)&&!Array.isArray(n))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)n[s]=Ec(n[s],r[s]);else if(Bo(r))for(var s in r)n[s]=Ec(n[s],r[s]);return n}function Hc(n,r){Object.defineProperty(n,"toString",{value:r})}function Xo(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var my=function(){function n(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return n.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},n.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,u=s.length,l=u;r>=l;)if((l<<=1)<0)throw Xo(16,"".concat(r));this.groupSizes=new Uint32Array(l),this.groupSizes.set(s),this.length=l;for(var d=u;d<l;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(r+1),p=(d=0,o.length);d<p;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[r]++,h++)},n.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),u=s+o;this.groupSizes[r]=0;for(var l=s;l<u;l++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],u=this.indexOfGroup(r),l=u+s,d=u;d<l;d++)o+="".concat(this.tag.getRule(d)).concat(Lc);return o},n}(),Ia=new Map,Fa=new Map,Ca=1,sa=function(n){if(Ia.has(n))return Ia.get(n);for(;Fa.has(Ca);)Ca++;var r=Ca++;return Ia.set(n,r),Fa.set(r,n),r},vy=function(n,r){Ca=r+1,Ia.set(n,r),Fa.set(r,n)},yy="style[".concat(Ri,"][").concat(Ig,'="').concat(Ya,'"]'),Sy=new RegExp("^".concat(Ri,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ay=function(n,r,o){for(var s,u=o.split(","),l=0,d=u.length;l<d;l++)(s=u[l])&&n.registerName(r,s)},Ey=function(n,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(Lc),u=[],l=0,d=s.length;l<d;l++){var h=s[l].trim();if(h){var p=h.match(Sy);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(vy(m,v),Ay(n,m,p[3]),n.getTag().insertRules(v,u)),u.length=0}else u.push(h)}}},mp=function(n){for(var r=document.querySelectorAll(yy),o=0,s=r.length;o<s;o++){var u=r[o];u&&u.getAttribute(Ri)!==Tg&&(Ey(n,u),u.parentNode&&u.parentNode.removeChild(u))}};function wy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ug=function(n){var r=document.head,o=n||r,s=document.createElement("style"),u=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Ri,"]")));return p[p.length-1]}(o),l=u!==void 0?u.nextSibling:null;s.setAttribute(Ri,Tg),s.setAttribute(Ig,Ya);var d=wy();return d&&s.setAttribute("nonce",d),o.insertBefore(s,l),s},_y=function(){function n(r){this.element=Ug(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,u=0,l=s.length;u<l;u++){var d=s[u];if(d.ownerNode===o)return d}throw Xo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},n.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},n}(),Ty=function(){function n(r){this.element=Ug(r),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},n.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},n}(),Iy=function(){function n(r){this.rules=[],this.length=0}return n.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},n.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},n.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},n}(),vp=Da,Cy={isServer:!Da,useCSSOMInjection:!ny},Ma=function(){function n(r,o,s){r===void 0&&(r=ki),o===void 0&&(o={});var u=this;this.options=vt(vt({},Cy),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&Da&&vp&&(vp=!1,mp(this)),Hc(this,function(){return function(l){for(var d=l.getTag(),h=d.length,p="",v=function(y){var _=function(F){return Fa.get(F)}(y);if(_===void 0)return"continue";var k=l.names.get(_),D=d.getGroup(y);if(k===void 0||!k.size||D.length===0)return"continue";var O="".concat(Ri,".g").concat(y,'[id="').concat(_,'"]'),T="";k!==void 0&&k.forEach(function(F){F.length>0&&(T+="".concat(F,","))}),p+="".concat(D).concat(O,'{content:"').concat(T,'"}').concat(Lc)},m=0;m<h;m++)v(m);return p}(u)})}return n.registerId=function(r){return sa(r)},n.prototype.rehydrate=function(){!this.server&&Da&&mp(this)},n.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new n(vt(vt({},this.options),r),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,u=o.target;return o.isServer?new Iy(u):s?new _y(u):new Ty(u)}(this.options),new my(r)));var r},n.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},n.prototype.registerName=function(r,o){if(sa(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},n.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(sa(r),s)},n.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},n.prototype.clearRules=function(r){this.getTag().clearGroup(sa(r)),this.clearNames(r)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Ry=/&/g,ky=/^\s*\/\/.*$/gm;function Lg(n,r){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Lg(o.children,r)),o})}function Py(n){var r,o,s,u=ki,l=u.options,d=l===void 0?ki:l,h=u.plugins,p=h===void 0?Va:h,v=function(_,k,D){return D.startsWith(o)&&D.endsWith(o)&&D.replaceAll(o,"").length>0?".".concat(r):_},m=p.slice();m.push(function(_){_.type===za&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(Ry,o).replace(s,v))}),d.prefix&&m.push(ey),m.push(Z0);var y=function(_,k,D,O){k===void 0&&(k=""),D===void 0&&(D=""),O===void 0&&(O="&"),r=O,o=k,s=new RegExp("\\".concat(o,"\\b"),"g");var T=_.replace(ky,""),F=Q0(D||k?"".concat(D," ").concat(k," { ").concat(T," }"):T);d.namespace&&(F=Lg(F,d.namespace));var C=[];return Oa(F,q0(m.concat(J0(function(W){return C.push(W)})))),C};return y.hash=p.length?p.reduce(function(_,k){return k.name||Xo(15),wi(_,k.name)},kg).toString():"",y}var Ny=new Ma,wc=Py(),Bg=Sn.createContext({shouldForwardProp:void 0,styleSheet:Ny,stylis:wc});Bg.Consumer;Sn.createContext(void 0);function _c(){return Ee.useContext(Bg)}var Oy=function(){function n(r,o){var s=this;this.inject=function(u,l){l===void 0&&(l=wc);var d=s.name+l.hash;u.hasNameForId(s.id,d)||u.insertRules(s.id,d,l(s.rules,d,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Hc(this,function(){throw Xo(12,String(s.name))})}return n.prototype.getName=function(r){return r===void 0&&(r=wc),this.name+r.hash},n}(),Dy=function(n){return n>="A"&&n<="Z"};function yp(n){for(var r="",o=0;o<n.length;o++){var s=n[o];if(o===1&&s==="-"&&n[0]==="-")return n;Dy(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var Hg=function(n){return n==null||n===!1||n===""},xg=function(n){var r,o,s=[];for(var u in n){var l=n[u];n.hasOwnProperty(u)&&!Hg(l)&&(Array.isArray(l)&&l.isCss||Pi(l)?s.push("".concat(yp(u),":"),l,";"):Bo(l)?s.push.apply(s,Lo(Lo(["".concat(u," {")],xg(l),!1),["}"],!1)):s.push("".concat(yp(u),": ").concat((r=u,(o=l)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in ty||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function pr(n,r,o,s){if(Hg(n))return[];if(Bc(n))return[".".concat(n.styledComponentId)];if(Pi(n)){if(!Pi(l=n)||l.prototype&&l.prototype.isReactComponent||!r)return[n];var u=n(r);return pr(u,r,o,s)}var l;return n instanceof Oy?o?(n.inject(o,s),[n.getName(s)]):[n]:Bo(n)?xg(n):Array.isArray(n)?Array.prototype.concat.apply(Va,n.map(function(d){return pr(d,r,o,s)})):[n.toString()]}function Gg(n){for(var r=0;r<n.length;r+=1){var o=n[r];if(Pi(o)&&!Bc(o))return!1}return!0}var Fy=Pg(Ya),My=function(){function n(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Gg(r),this.componentId=o,this.baseHash=wi(Fy,o),this.baseStyle=s,Ma.registerId(o)}return n.prototype.generateAndInjectStyles=function(r,o,s){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Br(u,this.staticRulesId);else{var l=Ac(pr(this.rules,r,o,s)),d=Sc(wi(this.baseHash,l)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(l,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}u=Br(u,d),this.staticRulesId=d}else{for(var p=wi(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")v+=y;else if(y){var _=Ac(pr(y,r,o,s));p=wi(p,_+m),v+=_}}if(v){var k=Sc(p>>>0);o.hasNameForId(this.componentId,k)||o.insertRules(this.componentId,k,s(v,".".concat(k),void 0,this.componentId)),u=Br(u,k)}}return u},n}(),xc=Sn.createContext(void 0);xc.Consumer;var qu={};function Uy(n,r,o){var s=Bc(n),u=n,l=!Zu(n),d=r.attrs,h=d===void 0?Va:d,p=r.componentId,v=p===void 0?function(x,K){var U=typeof x!="string"?"sc":dp(x);qu[U]=(qu[U]||0)+1;var B="".concat(U,"-").concat(Ng(Ya+U+qu[U]));return K?"".concat(K,"-").concat(B):B}(r.displayName,r.parentComponentId):p,m=r.displayName,y=m===void 0?function(x){return Zu(x)?"styled.".concat(x):"Styled(".concat(ay(x),")")}(n):m,_=r.displayName&&r.componentId?"".concat(dp(r.displayName),"-").concat(r.componentId):r.componentId||v,k=s&&u.attrs?u.attrs.concat(h).filter(Boolean):h,D=r.shouldForwardProp;if(s&&u.shouldForwardProp){var O=u.shouldForwardProp;if(r.shouldForwardProp){var T=r.shouldForwardProp;D=function(x,K){return O(x,K)&&T(x,K)}}else D=O}var F=new My(o,_,s?u.componentStyle:void 0);function C(x,K){return function(U,B,j){var Se=U.attrs,ze=U.componentStyle,Je=U.defaultProps,Ue=U.foldedComponentIds,Le=U.styledComponentId,_e=U.target,ke=Sn.useContext(xc),ge=_c(),se=U.shouldForwardProp||ge.shouldForwardProp,$=Cg(B,ke,Je)||ki,X=function(Ae,ae,me){for(var he,b=vt(vt({},ae),{className:void 0,theme:me}),ie=0;ie<Ae.length;ie+=1){var Ne=Pi(he=Ae[ie])?he(b):he;for(var fe in Ne)b[fe]=fe==="className"?Br(b[fe],Ne[fe]):fe==="style"?vt(vt({},b[fe]),Ne[fe]):Ne[fe]}return ae.className&&(b.className=Br(b.className,ae.className)),b}(Se,B,$),Y=X.as||_e,w={};for(var M in X)X[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&X.theme===$||(M==="forwardedAs"?w.as=X.forwardedAs:se&&!se(M,Y)||(w[M]=X[M]));var re=function(Ae,ae){var me=_c(),he=Ae.generateAndInjectStyles(ae,me.styleSheet,me.stylis);return he}(ze,X),ee=Br(Ue,Le);return re&&(ee+=" "+re),X.className&&(ee+=" "+X.className),w[Zu(Y)&&!Rg.has(Y)?"class":"className"]=ee,w.ref=j,Ee.createElement(Y,w)}(W,x,K)}C.displayName=y;var W=Sn.forwardRef(C);return W.attrs=k,W.componentStyle=F,W.displayName=y,W.shouldForwardProp=D,W.foldedComponentIds=s?Br(u.foldedComponentIds,u.styledComponentId):"",W.styledComponentId=_,W.target=s?u.target:n,Object.defineProperty(W,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=s?function(K){for(var U=[],B=1;B<arguments.length;B++)U[B-1]=arguments[B];for(var j=0,Se=U;j<Se.length;j++)Ec(K,Se[j],!0);return K}({},u.defaultProps,x):x}}),Hc(W,function(){return".".concat(W.styledComponentId)}),l&&Mg(W,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),W}function Sp(n,r){for(var o=[n[0]],s=0,u=r.length;s<u;s+=1)o.push(r[s],n[s+1]);return o}var Ap=function(n){return Object.assign(n,{isCss:!0})};function zg(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Pi(n)||Bo(n))return Ap(pr(Sp(Va,Lo([n],r,!0))));var s=n;return r.length===0&&s.length===1&&typeof s[0]=="string"?pr(s):Ap(pr(Sp(s,r)))}function Tc(n,r,o){if(o===void 0&&(o=ki),!r)throw Xo(1,r);var s=function(u){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return n(r,o,zg.apply(void 0,Lo([u],l,!1)))};return s.attrs=function(u){return Tc(n,r,vt(vt({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},s.withConfig=function(u){return Tc(n,r,vt(vt({},o),u))},s}var Wg=function(n){return Tc(Uy,n)},En=Wg;Rg.forEach(function(n){En[n]=Wg(n)});var Ly=function(){function n(r,o){this.rules=r,this.componentId=o,this.isStatic=Gg(r),Ma.registerId(this.componentId+1)}return n.prototype.createStyles=function(r,o,s,u){var l=u(Ac(pr(this.rules,o,s,u)),""),d=this.componentId+r;s.insertRules(d,d,l)},n.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},n.prototype.renderStyles=function(r,o,s,u){r>2&&Ma.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,u)},n}();function By(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=zg.apply(void 0,Lo([n],r,!1)),u="sc-global-".concat(Ng(JSON.stringify(s))),l=new Ly(s,u),d=function(p){var v=_c(),m=Sn.useContext(xc),y=Sn.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&h(y,p,v.styleSheet,m,v.stylis),Sn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(y,p,v.styleSheet,m,v.stylis),function(){return l.removeStyles(y,v.styleSheet)}},[y,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,y,_){if(l.isStatic)l.renderStyles(p,ry,m,_);else{var k=vt(vt({},v),{theme:Cg(v,y,d.defaultProps)});l.renderStyles(p,k,m,_)}}return Sn.memo(d)}function $g(n,r){var o=Ee.useRef(null),s=Ee.useRef(!1),u=Ee.useRef(n);u.current=n;var l=Ee.useCallback(function(h){s.current&&(u.current(h),o.current=requestAnimationFrame(l))},[]),d=Ee.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(l))},function(){return s.current}]},[]);return Ee.useEffect(function(){return d[0]},[]),d}function Hy(n,r,o,s,u){var d;(d=n.onExit)==null||d.call(n,s,r);const l=u.find(({id:h})=>h===r);return l!=null&&l.onEnter?l.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function xy(n,r){return r.find(({id:o})=>o===n)}function Gy(n,r){return n!==r}function zy(n){console.warn(`No handler found for state: ${n}`)}const Do="bushGrowing",Lr="bushFull",Ra="bushSpreading",Ho="bushDying",Qt=24,bt=10,Hr=3e3,xr=3e3,Gc=2,Wy=5,$y=3,jy=12,Yy=940,Vy=.7,Ic=20,Ep=90,jg=45,Yg=240,Vg=10,xo=80,Ky=3,Eo=5,Jt=150,zc=Jt*.8,Xy=Jt*.2,yt=Jt*.95,Go=30,Kg=10,Qy=10,by=.5,ct=30,mr=ct*.75,Xg=50,Zy=20,qy=xo*.8,Jy=.7,eS=16,Un=40,tS=24,Wc=16,nS=72/3,wp=24,rS=1.25,iS=1.5,Ka=Jt*.6,$c=50,oS=1,sS=350,Qg=xo*.65,aS=80,lS=50,uS=1,cS=128,bg=10,_p=100,dS=35,Xa=ct,Zg=.5,qg=2.5,fS=5,hS=.5,pS=1.5,gS=.1,mS=.5,vS=1.5,yS=.25,SS=2.5,AS=45,ES=.05,zo=5,wS=.5,Tp=100,_S=300,Qa=30,Wo=1,Ip=Jt*.6,TS=Jt*.25,IS=Jt*.7,CS=Jt*.8,Jg=100,RS=250,kS=120,PS=2,NS=400,OS=1e3,DS=Jt*.85,FS=100,MS=3,US=96,LS=24,BS=600,em=600,HS=1,xS=24,GS=1,zS=.5,Cp=24,Cc=12,Rp=40,WS=.35,$S=24,kp=500,jS=24,YS=1500,Ju=500,VS=400,KS=10,XS=-5,QS=1.5,bS=1.2,ZS=10,qS=150,JS=200,eA=100,tA=100,nA=.7,rA=300,iA=100,oA=120,Pp=300,Ua=10,tm=250,Rc=12,ba=mr*1.2,Np=10,sA=20,nm=.15,rm=200,cn=30,jc=cn*.6,Yc="#4CAF50",im="#FF5722",om="#9C27B0",aA="#2196F3",sm="#FFC107",lA="#FFD700",am="#DC143C",Vc="#FFFFFF",Kc=[5,5],Za=5,Ni=15,uA=20,cA=16,dA=10,fA=16,hA=16,Op=["","","","","","","","","",""],Dp=8,pA="#FFFFFF",dr=18,Nt=15,gA="rgba(0, 0, 0, 0.7)",mA=4,sr=150,Bt=15,Dn=10,_i="#555",vA="#f44336",yA="#4CAF50",SA="#2196F3",AA="#FFC107",aa=16,EA=9,Dr=32,la=28,wA=10,_A=8,TA=8,IA=8,ua=28,ca=40,CA="rgba(255, 215, 0, 0.7)",RA="rgba(0, 0, 0, 0.3)",ar=10,Fp=8,ec=11,lr=20,tc=40,Mp=5,kA=10,PA="#FFA500",NA="#808080",Gr=120,OA=30,DA=20,Ai="#2d3748",Fo="#ffffff",ka="#4a5568",FA=5,MA="#3a445892",UA="rgba(0, 0, 0, 0.8)",LA="#FFFFFF",Up=14,Lp=8,Bp=-15,BA=60,HA=-50,xA=10,nc=12,Hp=10,GA="rgba(0, 0, 0, 0.5)",zA="#4CAF50",WA="#F44336",$A="#FFC107",jA="rgba(255, 255, 255, 0.2)",xp="#FFFFFF",YA="#FF6B6B",VA=5,lm=30,wo=50,da=8,Gp=10,KA="rgba(0, 0, 0, 0.5)",XA="#FFFFFF",QA=33,bA=400,ZA=20,qA=10,JA="rgba(0, 0, 0, 0.7)",eE="#FFFFFF",rc=20,zp=16,tE=.5,Wp=5,um="#FFD700",nE=40,cm=4,rE=3,iE=5,Zt=1,ko=3,oE=70,$p=600,sE=1.5,dm=.1,aE=15,lE=5e3,Fr=80,fa=10;function dt(n,r,o,s,u){const l={id:n.nextVisualEffectId,type:r,position:o,startTime:n.time,duration:s,entityId:u};return n.visualEffects.push(l),n.nextVisualEffectId++,l.id}var Ce=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n[n.CallToFollow=16]="CallToFollow",n[n.AutopilotMoveTarget=17]="AutopilotMoveTarget",n))(Ce||{}),Ln=(n=>(n.Berry="berry",n.Meat="meat",n))(Ln||{});const fm={berry:"",meat:""},uE={id:Do,update:(n,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/bt);return o.age+=u,o.age>=o.lifespan?{nextState:Ho,data:{...n,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(dt(s.gameState,Ce.BushClaimLost,o.position,Zt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=jy&&o.food.length<o.maxFood&&(o.food.push({type:Ln.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Lr,data:{...n,enteredAt:s.gameState.time,previousState:Do}}:{nextState:Do,data:n})},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})},cE={id:Lr,update:(n,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/bt);return o.age+=u,o.age>=o.lifespan?{nextState:Ho,data:{...n,enteredAt:s.gameState.time,previousState:Lr}}:o.food.length<o.maxFood?{nextState:Do,data:{...n,enteredAt:s.gameState.time,previousState:Lr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(dt(s.gameState,Ce.BushClaimLost,o.position,Zt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=Ep&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=Ep&&Math.random()<o.spreadChance)?{nextState:Ra,data:{...n,enteredAt:s.gameState.time,previousState:Lr}}:{nextState:Lr,data:n})},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})};function gr(n,r){return{x:n.x+r.x,y:n.y+r.y}}function hm(n,r){return{x:n.x-r.x,y:n.y-r.y}}function An(n,r){return{x:n.x*r,y:n.y*r}}function Oi(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function en(n){const r=Oi(n);return r===0?{x:0,y:0}:An(n,1/r)}function dE(n,r){return Oi(hm(n,r))}function Xc(n,r,o){return{x:n.x+(r.x-n.x)*o,y:n.y+(r.y-n.y)*o}}function Qc(n){if(n.length===0)return{x:0,y:0};const r=n.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/n.length,y:r.y/n.length}}function xt(n,r,o,s){let u=r.x-n.x,l=r.y-n.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(l)>s/2&&(l=l-Math.sign(l)*s),{x:u,y:l}}function dn(n,r,o){const s=xt(n,r,o.width,o.height);return en(s)}function ce(n,r,o,s){const u=xt(n,r,o,s);return Oi(u)}function fE(n,r){return n.x*r.x+n.y*r.y}function hE(n,r){const o=fE(n,r),s=Oi(n),u=Oi(r);if(s===0||u===0)return 0;const l=Math.max(-1,Math.min(1,o/(s*u)));return Math.acos(l)}function pE(n,r,o){const s=Math.max(0,Math.min(1,o)),u={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},l={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},d=Math.round(u.r+(l.r-u.r)*s),h=Math.round(u.g+(l.g-u.g)*s),p=Math.round(u.b+(l.b-u.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(p)}`}var pe=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n.FollowMe="FollowMe",n.FeedChildren="FeedChildren",n.AutopilotMove="AutopilotMove",n.AutopilotGather="AutopilotGather",n.AutopilotAttack="AutopilotAttack",n.AutopilotProcreate="AutopilotProcreate",n.AutopilotPlant="AutopilotPlant",n.AutopilotFeedChildren="AutopilotFeedChildren",n.AutopilotFollowMe="AutopilotFollowMe",n))(pe||{});const qa={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:"",TribeSplit:"",FollowMe:"",FeedChildren:"",AutopilotMove:"",AutopilotGather:"",AutopilotAttack:"",AutopilotProcreate:"",AutopilotPlant:"",AutopilotFeedChildren:"",AutopilotFollowMe:""},pm={GatherFood:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",PlantBush:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FollowMe:"Follow Me",FeedChildren:"Feed",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChildren:"Feed",AutopilotFollowMe:"Follow"};var Ei=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(Ei||{});const _o={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var de=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n.ToggleProcreationBehavior="ToggleProcreationBehavior",n.TogglePlantingBehavior="TogglePlantingBehavior",n.ToggleGatheringBehavior="ToggleGatheringBehavior",n.ToggleAttackBehavior="ToggleAttackBehavior",n.ToggleCallToAttackBehavior="ToggleCallToAttackBehavior",n.ToggleFeedChildrenBehavior="ToggleFeedChildrenBehavior",n.ToggleFollowMeBehavior="ToggleFollowMeBehavior",n.FastForward="FastForward",n))(de||{});const ic=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,gE=""+new URL("gather-CU75596W.mp3",import.meta.url).href,mE=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,oc=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,vE=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,yE=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,SE=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,AE=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,EE=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,wE=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Oe=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.CallToFollow=10]="CallToFollow",n[n.GameOver=11]="GameOver",n[n.ButtonClick=12]="ButtonClick",n[n.SoundTrack1=13]="SoundTrack1",n))(Oe||{});const _E=new Map([[0,ic],[1,gE],[2,mE],[3,oc],[4,vE],[5,yE],[6,SE],[11,AE],[12,EE],[7,ic],[8,ic],[9,oc],[10,oc],[13,wE]]);let To,$o;function TE(){if(!(typeof window>"u"))return $o}function bc(){if(!(typeof window>"u"))return!To&&typeof window.AudioContext=="function"&&(To=new window.AudioContext,$o=To.createGain(),$o.connect(To.destination),Po(.1,!1)),To}function Po(n,r){$o&&($o.gain.value=r?0:n/10)}const gm=new Map;let ha=!1,jp=!1;async function IE(){if(jp||ha)return;const n=bc();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),ha=!0,console.log("Starting sound loading...");const r=[];_E.forEach((o,s)=>{const u=fetch(o).then(l=>{if(!l.ok)throw new Error(`Failed to fetch sound: ${o}`);return l.arrayBuffer()}).then(l=>n.decodeAudioData(l)).then(l=>{gm.set(s,l)}).catch(l=>{console.error(`Error loading sound ${Oe[s]} from ${o}:`,l)});r.push(u)});try{await Promise.all(r),jp=!0,ha=!1,console.log("All sounds loaded successfully.")}catch(o){ha=!1,console.error("An error occurred while loading sounds:",o)}}const Mo=new Map;function Zc(n,r){const o=bc(),s=TE();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const u=gm.get(n);if(!u){console.warn(`Sound buffer not found for type: ${Oe[n]}`);return}if(r!=null&&r.trackId&&Mo.has(r.trackId))return;const l=o.createBufferSource();l.buffer=u,l.loop=(r==null?void 0:r.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let p=d;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=xt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=ce(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>$p)return;const y=1-Math.pow(m/$p,sE);d.gain.value=Math.max(0,y);const _=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(_)?0:_,d.connect(h),p=h}else{const v=n===Oe.GameOver?.4:n===Oe.SoundTrack1?1:.2;d.gain.value=v}l.connect(p),p.connect(s),l.start(0),r!=null&&r.trackId&&(Mo.set(r.trackId,{sourceNode:l,gainNode:d}),l.onended=()=>{Mo.delete(r.trackId)})}function Yp(n,r=1){const o=Mo.get(n),s=bc();if(o&&s){const{sourceNode:u,gainNode:l}=o,d=s.currentTime;l.gain.setValueAtTime(l.gain.value,d),l.gain.linearRampToValueAtTime(0,d+r),u.stop(d+r),u.onended=null,Mo.delete(n)}}function je(n,r,o){const s=Xt(n.gameState);s&&Zc(r,{position:o,listenerPosition:s.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function mm(n,r){if(n.autopilotControls.isActive)return[];const o=[],s=n;if(r.food.length>0&&r.hunger>zc&&o.push({type:pe.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const d=ut(r,n,"berryBush",ct,v=>v.food.length>0),h=ut(r,n,"humanCorpse",ct,v=>v.food.length>0);let p=null;d&&h?p=ce(r.position,d.position,n.mapDimensions.width,n.mapDimensions.height)<=ce(r.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?d:h:p=d||h,p&&o.push({type:pe.GatherFood,action:"gathering",key:"e",targetEntity:p})}const u=ut(r,n,"human",ct,d=>{const h=d;return(h.id!==r.id&&h.gender!==r.gender&&h.isAdult&&r.isAdult&&h.hunger<yt&&r.hunger<yt&&(h.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=Un:!r.isPregnant&&r.age<=Un))??!1});u&&o.push({type:pe.Procreate,action:"procreating",key:"r",targetEntity:u});const l=ut(r,n,"human",Xa,d=>d.id!==r.id&&d.leaderId!==r.leaderId);return l&&o.push({type:pe.Attack,action:"attacking",key:"q",targetEntity:l}),r.food.filter(d=>d.type===Ln.Berry).length>=zo&&o.push({type:pe.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&td(r.position,r.id,s,tm).length>0&&o.push({type:pe.CallToAttack,action:"callingToAttack",key:"v"}),Jc(r,n).canSplit&&o.push({type:pe.TribeSplit,action:"tribeSplitting",key:"k"}),r.leaderId===r.id&&!r.isCallingToFollow&&o.push({type:pe.FollowMe,action:"following",key:"c"}),o}function CE(n,r,o){return r.search.human.byRadius(n.position,o).filter(u=>{var l;return u.activeAction==="procreating"&&u.gender===n.gender&&typeof u.target=="number"&&((l=n.partnerIds)==null?void 0:l.includes(u.target))})[0]}function RE(n,r,o){if(!n.leaderId)return;const s=r,u=s.search.berryBush.byRadius(n.position,o).filter(l=>l.ownerId===n.id);for(const l of u)if(l.claimedUntil&&r.time<l.claimedUntil){const d=s.search.human.byRadius(l.position,ct);for(const h of d)if(!Pc(h,n)&&h.activeAction==="gathering"&&h.target===l.id)return h}}function kE(n,r,o){const s=La(n,r),u=r;for(const l of s){if(ce(n.position,l.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=u.search.human.byProperty("attackTargetId",l.id);for(const p of h)if(p.leaderId!==n.leaderId)return{familyMember:l,aggressor:p}}}function PE(n,r){const s=r.search.human.byRadius(n.position,rA);let u,l=1/0;for(const d of s){if(d.id===n.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>nA||ym(n,d,r))continue;const h=ce(n.position,d.position,r.mapDimensions.width,r.mapDimensions.height);h<l&&(l=h,u=d)}return u}function qc(n,r,o,s){const u=Math.random()*Math.PI*2,l=Math.sqrt(Math.random())*r,d={x:Math.cos(u)*l,y:Math.sin(u)*l},h=gr(n,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Di(n,r,o,s){const u=r,l={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},d=[...u.search.human.byRect(l),...u.search.berryBush.byRect(l),...u.search.humanCorpse.byRect(l)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(ce(n,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function kc(n,r,o,s,u){const l=r.mapDimensions.width,d=r.mapDimensions.height;if(!Di(n,r,s,u))return n;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const y=m/v*2*Math.PI,_={x:Math.cos(y)*p,y:Math.sin(y)*p},k=gr(n,_),D={x:(k.x%l+l)%l,y:(k.y%d+d)%d};if(!Di(D,r,s,u))return D}}return null}function NE(n,r){const o=ut(n,r,"berryBush",Tp,u=>u.ownerId===n.id);return o?kc(o.position,r,Tp,Qa,o.id):null}function ut(n,r,o,s,u){const l=r,d=s,h=l.search[o].byRadius(n.position,d);let p=null,v=d;for(const m of h){if(m.id===n.id||u&&!u(m))continue;const y=ce(n.position,m.position,r.mapDimensions.width,r.mapDimensions.height);y<v&&(v=y,p=m)}return p}function vm(n,r,o,s){return r.search[o].byRadius(n,s).length}function Vp(n,r,o){return r.search.human.byRadius(n.position,o).filter(l=>{if(l.id===n.id||l.gender===n.gender||!l.isAdult||l.hunger>=yt||(l.procreationCooldown||0)>0||l.gender==="female"&&l.isPregnant)return!1;const d=l.id===n.motherId||l.id===n.fatherId,h=n.id===l.motherId||n.id===l.fatherId;return!d&&!h})}function Wr(n){if(n.length===0)return;const r=n.filter(u=>u.gender==="male"),o=n.filter(u=>u.gender==="female"),s=(u,l)=>u.age!==l.age?l.age-u.age:u.id-l.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function Xt(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Ot(n,r){const o=n,s=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...s,...u]}function OE(n,r){var d;const s=r.search.human.byProperty("activeAction","attacking");let u=null,l=1/0;for(const h of s){if(h.attackTargetId!==n)continue;const p=ce(h.position,((d=r.entities.entities.get(n))==null?void 0:d.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);p<l&&(u=h,l=p)}return u}function ym(n,r,o){var u;if(n.id===r.id||n.motherId===r.id||n.fatherId===r.id||r.motherId===n.id||r.fatherId===n.id||n.motherId&&n.motherId===r.motherId||n.fatherId&&n.fatherId===r.fatherId||(u=n.partnerIds)!=null&&u.includes(r.id))return!0;if(n.motherId){const l=o.entities.entities.get(n.motherId);if(l&&(l.motherId===r.id||l.fatherId===r.id))return!0}if(n.fatherId){const l=o.entities.entities.get(n.fatherId);if(l&&(l.motherId===r.id||l.fatherId===r.id))return!0}if(r.motherId){const l=o.entities.entities.get(r.motherId);if(l&&(l.motherId===n.id||l.fatherId===n.id))return!0}if(r.fatherId){const l=o.entities.entities.get(r.fatherId);if(l&&(l.motherId===n.id||l.fatherId===n.id))return!0}return!1}function Pc(n,r){var l,d;if(n.id===r.id||n.motherId===r.id||n.fatherId===r.id||r.motherId===n.id||r.fatherId===n.id)return!0;const o=n.motherId===r.motherId||n.fatherId===r.fatherId,s=r.motherId===n.motherId||r.fatherId===n.fatherId,u=((l=n.ancestorIds)==null?void 0:l.some(h=>r.ancestorIds.includes(h)))||((d=r.ancestorIds)==null?void 0:d.some(h=>n.ancestorIds.includes(h)));return o||s||u}function DE(n,r){const o=[];if(n.motherId){const s=r.entities.entities.get(n.motherId);s&&o.push(s)}if(n.fatherId){const s=r.entities.entities.get(n.fatherId);s&&o.push(s)}return o}function FE(n,r){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function ME(n,r){if(!n.isAdult&&n.fatherId){const o=r.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?FE(n,r):null}function La(n,r){var s;const o=new Set;if(n.motherId){const u=r.entities.entities.get(n.motherId);u&&o.add(u)}if(n.fatherId){const u=r.entities.entities.get(n.fatherId);u&&o.add(u)}return(s=n.partnerIds)==null||s.forEach(u=>{const l=r.entities.entities.get(u);l&&o.add(l)}),Ot(r,n).forEach(u=>o.add(u)),Array.from(o)}let sc=0;function Nc(){const n=Op[sc];return sc=(sc+1)%Op.length,n}function UE(n,r,o){const s=o.mapDimensions.width,u=o.mapDimensions.height,l=r.radius*2;for(let d=kp;d<s/2;d+=50)for(let h=0;h<10;h++){const p=qc(n,d,s,u);if(!(ce(n,p,s,u)<kp)&&!Di(p,o,l,r.id))return p}return null}function Sm(n,r){const o=new Map;function s(u){const l=Ot(r,u);for(const d of l)o.has(d.id)||(o.set(d.id,d),s(d))}return s(n),Array.from(o.values())}function Jc(n,r){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=r.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=Wr(Ot(r,o));if(s&&s.id===n.id)return{canSplit:!1};const u=ed(n.leaderId,r);if(u.length<Rp)return{canSplit:!1};const d=Sm(n,r).length+1,h=Math.min(u.length*WS,Rp);return{canSplit:d>=h,progress:d/h}}function Am(n,r){if(!Jc(n,r).canSplit)return;const o=Nc(),s=Sm(n,r);n.leaderId=n.id,n.tribeBadge=o;for(const l of s)l.leaderId=n.id,l.tribeBadge=o;je({gameState:r},Oe.TribeSplit,n.position)}function ed(n,r){return r.search.human.byProperty("leaderId",n)}function td(n,r,o,s){return o.search.human.byRadius(n,s).filter(l=>l.leaderId!==r&&l.id!==r)}function LE(n,r,o){const s=o.search.human.byProperty("leaderId",n);let u=0;for(const l of s)l.attackTargetId===r&&u++;return u}function BE(n,r){var l;const o=new Map,s=Array.from(n.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(l=o.get(d.leaderId))==null||l.members.push(d));const u=Array.from(o.values()).map(d=>{const h=n.entities.entities.get(d.leaderId),p=d.members.filter(m=>m.isAdult).length,v=d.members.length-p;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:d.leaderId===r,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return u.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),u}function Kp(n,r,o,s){const u=o.search.berryBush.byRadius(n,r),l=o.search.human.byRadius(n,r).filter(p=>p.leaderId!==s);let d=u.length*KS;d+=l.length*XS;let h;if(l.length>0){const p={};for(const m of l)m.leaderId&&(p[m.leaderId]=(p[m.leaderId]||0)+1);let v=0;for(const m in p)p[m]>v&&(v=p[m],h=parseInt(m,10))}return{score:d,occupyingTribeId:h}}function Xp(n){return n.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function Em(n){return Array.from(n.entities.entities.values()).filter(r=>r.type==="human")}function jo(n,r){const o=ed(n,r);if(o.length===0){const u=r.entities.entities.get(n);return u?u.position:{x:0,y:0}}const s=o.map(u=>u.position);return Qc(s)}function Qp(n,r){const s=[...La(n,r),n].map(u=>u.position);return Qc(s)}function bp(n,r,o,s){const u=r.x-o.width/2,l=r.y-o.height/2,d=u+n.x,h=l+n.y,p=(d%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}function HE(n,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const u of s)if(dE(n,u.position)<u.radius)return u}function xE(n,r){if(n.id!==n.leaderId)return null;const o=r,s=jo(n.id,r),{score:u}=Kp(s,Ju/2,o,n.id);let l=null,d=u;const h=VS,p=YS;for(let v=n.position.x-p;v<n.position.x+p;v+=h)for(let m=n.position.y-p;m<n.position.y+p;m+=h){const y={x:(v%r.mapDimensions.width+r.mapDimensions.width)%r.mapDimensions.width,y:(m%r.mapDimensions.height+r.mapDimensions.height)%r.mapDimensions.height};if(ce(s,y,r.mapDimensions.width,r.mapDimensions.height)<Ju*2)continue;const{score:k}=Kp(y,Ju/2,o,n.id);k>d*QS&&(d=k,l=y)}return l}const GE={id:Ra,update:(n,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s,l=s.deltaTime*(Qt/bt);if(o.age+=l,o.age>=o.lifespan)return{nextState:Ho,data:{...n,enteredAt:u.time,previousState:Ra}};const d=qc(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return Di(d,u,15)||el(u.entities,d,u.time),{nextState:Lr,data:{...n,enteredAt:u.time,previousState:Ra}}},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})},zE={id:Ho,update:n=>({nextState:Ho,data:n}),onEnter:(n,r)=>(id(n.updateContext.gameState.entities,n.entity.id),{...r,enteredAt:n.updateContext.gameState.time})},WE=[uE,cE,GE,zE],lt="humanIdle",Ur="humanMoving",No="humanEating",Ja="humanGathering",Yo="humanProcreating",Fi="humanAttacking",Pa="humanPlanting",$E={id:lt,update:(n,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Fi,data:{...n,enteredAt:s.gameState.time,previousState:lt,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=zc?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Ur,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="gathering"?{nextState:Ja,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="eating"?{nextState:No,data:{...n,enteredAt:s.gameState.time,previousState:lt}}:o.activeAction==="planting"&&o.target?{nextState:Pa,data:{...n,enteredAt:s.gameState.time,previousState:lt,plantingSpot:o.target}}:{nextState:lt,data:n})},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})};function wm(n){let r=Qy;return n.hunger>=zc&&(r*=by),n.age>=qy&&(r*=Jy),n.movementSlowdown&&(r*=n.movementSlowdown.modifier),r}const ac=7.5;class jE{constructor(){Te(this,"id",Ur)}update(r,o){var p;const{entity:s,updateContext:u}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Fi,data:{...r,enteredAt:u.gameState.time,previousState:Ur,attackTargetId:s.attackTargetId,attackStartTime:u.gameState.time}};if(s.activeAction!=="moving")return{nextState:lt,data:{...r,enteredAt:u.gameState.time,previousState:Ur}};let l;if(typeof s.target=="object"?l=s.target:typeof s.target=="number"&&(l=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!l&&(s.direction.x!==0||s.direction.y!==0)&&(l={x:s.position.x+s.direction.x*ac*2,y:s.position.y+s.direction.y*ac*2}),!l)return{nextState:lt,data:{...r,enteredAt:u.gameState.time,previousState:Ur}};const d=xt(s.position,l,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=en(d),s.acceleration=wm(s),ce(s.position,l,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<ac?{nextState:lt,data:{...r,enteredAt:u.gameState.time,previousState:Ur}}:{nextState:Ur,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const YE=new jE,VE={id:No,update:(n,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:No}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>Go&&(o.hunger=Math.max(0,o.hunger-Go),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,je(s,Oe.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(dt(s.gameState,Ce.Eating,o.position,Zt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:No}}:{nextState:No,data:n})},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})};class KE{constructor(){Te(this,"id",Ja)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const XE=new KE,QE=(n,r)=>(r.procreationEndTime=n.updateContext.gameState.time+(r.duration||2),r),bE=(n,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time<(n.procreationEndTime||0))return{nextState:Yo,data:n};const l=u.entities.entities.get(n.partnerId);if(l&&l.type==="human"&&!l.isPregnant&&o.hunger<yt&&l.hunger<yt&&!o.procreationCooldown&&!l.procreationCooldown){const d=o.gender==="female"?o:l.gender==="female"?l:void 0,h=o.gender==="male"?o:l.gender==="male"?l:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=nS,d.fatherId=h.id,o.procreationCooldown=wp,l.procreationCooldown=wp,je(s,Oe.Procreate,d.position))}return o.activeAction="idle",l&&(l.activeAction="idle"),{nextState:lt,data:{...n,enteredAt:u.time,previousState:Yo}}},ZE={id:Yo,onEnter:QE,update:bE},qE={id:Fi,onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:lt,data:{...n}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:lt,data:{...n}};const s=ce(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=xt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=en(u),s>Xa?r.entity.acceleration=wm(r.entity):r.entity.acceleration=0,{nextState:Fi,data:n}}},JE={id:Pa,update:(n,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time-n.enteredAt>=wS){if(o.food.filter(h=>h.type===Ln.Berry).length>=zo){for(let p=0;p<zo;p++){const v=o.food.findIndex(m=>m.type===Ln.Berry);v>-1&&o.food.splice(v,1)}const h=el(u.entities,n.plantingSpot,u.time);h.ownerId=o.id,h.claimedUntil=u.time+Yg}return{nextState:lt,data:{...n,enteredAt:u.time,previousState:Pa}}}return{nextState:Pa,data:n}},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})},e1=[$E,YE,VE,XE,ZE,qE,JE],Zp=[...WE,...e1];function t1(n,r,o){const s=xy(n,Zp);if(!s)return zy(n),[n,r];const{nextState:u,data:l}=s.update(r,o);return Gy(n,u)?[u,Hy(s,u,l,o,Zp)]:[u,l]}function n1(n,r,o){const{gameState:s}=r,u=o*(Qt/bt);if(n.isAdult=n.age>=Wc,n.isCallingToAttack&&n.callToAttackEndTime&&s.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.isCallingToFollow&&n.callToFollowEndTime&&s.time>n.callToFollowEndTime&&(n.isCallingToFollow=!1,n.callToFollowEndTime=void 0),n.movementSlowdown&&s.time>n.movementSlowdown.endTime&&(n.movementSlowdown=void 0),n.hitpoints<n.maxHitpoints){const d=1-n.hunger/100*mS,h=gS*d*u;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(Eo/(Qt/bt)),n.hunger>oE&&(!n.lastHungerEffectTime||s.time-n.lastHungerEffectTime>ko*2)&&(dt(s,Ce.Hunger,n.position,ko,n.id),n.lastHungerEffectTime=s.time),n.age+=o/Vg,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=u,n.hunger+=o*((Eo*rS-Eo)/(Qt/bt)),(!n.lastPregnantEffectTime||s.time-n.lastPregnantEffectTime>ko*3)&&(dt(s,Ce.Pregnant,n.position,ko,n.id),n.lastPregnantEffectTime=s.time),n.gestationTime<=0&&($1(n,n.fatherId,r),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=u,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=u,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=u,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=u,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=u,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===jc&&(n.radius=cn):n.hunger+=o*((Eo*iS-Eo)/(Qt/bt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const d=[];if(n.motherId){const h=s.entities.entities.get(n.motherId);h&&d.push(h)}if(n.fatherId){const h=s.entities.entities.get(n.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=Qg&&h.hunger>=aS&&ce(n.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=lS){n.food.pop(),h.hunger=Math.max(0,h.hunger-Go),n.feedParentCooldownTime=uS;break}}let l;if(n.hitpoints<=0?l="killed":n.hunger>=Jt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Go)):l="hunger":n.age>=n.maxAge&&(l="oldAge"),l){if(n.leaderId===n.id){const d=Wr(Ot(s,n));d?(d.leaderId=d.id,d.tribeBadge=n.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const p=h;p.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(n.isPlayer){const d=Wr(Ot(s,n));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=l)}W1(s.entities,n.position,n.gender,n.age,n.radius,n.id,s.time,n.food,n.hunger),id(s.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function r1(n,r){const o=r.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/cS);const s=Math.floor(bg*(1-n.decayProgress));n.food.length>s&&n.food.splice(s),n.decayProgress>=1&&n.food.length<=0&&id(r.gameState.entities,n.id)}var nd=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(nd||{});function i1(n,r){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=Wo&&(n.aiBehaviorTree.execute(n,r,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function o1(n,r){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(r.gameState.time),n.aiType){case nd.BehaviorTreeBased:default:i1(n,r);break}}function s1(n,r){n.forces.push(An(n.velocity,-.1));const o=An(en(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(n.velocity=An(n.velocity,.5))}),n.debuffs=n.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),n.velocity=gr(n.velocity,n.forces.reduce(gr,{x:0,y:0})),Oi(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=gr(n.position,An(n.velocity,r.deltaTime)),n.position.x=(n.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,n.position.y=(n.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,n.forces=[],n.type==="human"?n1(n,r,r.deltaTime):n.type==="humanCorpse"&&r1(n,r),n.type==="human"&&(!n.isPlayer||r.gameState.autopilotControls.isActive)&&o1(n,r),n.stateMachine&&(n.stateMachine=t1(...n.stateMachine,{entity:n,updateContext:r}))}var P=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(P||{});const qp="Human Behavior",a1=1;class l1{constructor(){Te(this,"nodeData",new Map);Te(this,"pathStack",[]);Te(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,u=this.pathStack.join(" > "),l=this.nodeData.get(u)??{path:u,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};l.totalTime+=s,l.callCount++,l.minTime=Math.min(l.minTime,s),l.maxTime=Math.max(l.maxTime,s),this.nodeData.set(u,l),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let u=s,l="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(qp);if(h){const p=h.totalTime*a1/100;u=s.filter(v=>v.totalTime>p&&v.path!==qp),l="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),l="--- Behavior Tree Full Report (Root Not Found) ---"}const d=u.sort((h,p)=>p.totalTime-h.totalTime);console.log(l),d.length>0?console.table(d.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const St=new l1;function Bn(n){return Array.isArray(n)?n:[n,""]}class Ie{constructor(r,o,s=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&St.nodeStart(this.name);try{for(const u of this.children){const[l,d]=Bn(u.execute(r,o,s));if(l!==P.SUCCESS)return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,d),l}return this.lastStatus=P.SUCCESS,this.name&&s.recordNodeExecution(this.name,P.SUCCESS,o.gameState.time,this.depth,""),P.SUCCESS}finally{this.name&&St.nodeEnd()}}}class $r{constructor(r,o,s=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");Te(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&St.nodeStart(this.name);try{const u=this.runningChildIndex??0;for(let l=u;l<this.children.length;l++){const d=this.children[l],[h,p]=Bn(d.execute(r,o,s));if(h!==P.FAILURE){if(h===P.SUCCESS)return delete this.runningChildIndex,this.lastStatus=P.SUCCESS,this.name&&s.recordNodeExecution(this.name,P.SUCCESS,o.gameState.time,this.depth,p),P.SUCCESS;if(h===P.RUNNING)return this.runningChildIndex=l,this.lastStatus=P.RUNNING,this.name&&s.recordNodeExecution(this.name,P.RUNNING,o.gameState.time,this.depth,p),P.RUNNING}}return delete this.runningChildIndex,this.lastStatus=P.FAILURE,this.name&&s.recordNodeExecution(this.name,P.FAILURE,o.gameState.time,this.depth,""),P.FAILURE}finally{this.name&&St.nodeEnd()}}}class ye{constructor(r,o,s=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&St.nodeStart(this.name);try{const[u,l]=Bn(this.action(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,l),u}finally{this.name&&St.nodeEnd()}}}class ue{constructor(r,o,s=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&St.nodeStart(this.name);try{const[u,l]=Bn(this.condition(r,o,s)),d=u?P.SUCCESS:P.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,l),d}finally{this.name&&St.nodeEnd()}}}class Jp{constructor(r,o,s,u=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");Te(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){St.nodeStart(this.name);try{const u=o.gameState.time;let l=s.get(this.startTimeKey);const[d,h]=Bn(this.child.execute(r,o,s));if(d===P.RUNNING){l===void 0&&(s.set(this.startTimeKey,u),l=u);const p=u-l;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=P.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m),this.lastStatus}this.lastStatus=P.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}return l!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{St.nodeEnd()}}}class Ba{constructor(r,o,s,u=0,l){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");Te(this,"statusKey");Te(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=l,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){St.nodeStart(this.name);try{const u=o.gameState.time,l=s.get(this.statusKey),d=s.get(this.timestampKey);if(l!==void 0&&d!==void 0){const m=u-d>this.cacheDurationHours,y=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&y){const _=(d+this.cacheDurationHours-u).toFixed(2),k=`Cache hit. Status: ${P[l]}. ${_}h left.`;return this.lastStatus=l,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,k),this.lastStatus}}const[h,p]=Bn(this.child.execute(r,o,s));(h===P.SUCCESS||h===P.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,u)),this.lastStatus=h;const v=`Cache miss. Child returned ${P[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}finally{St.nodeEnd()}}}class Qo{constructor(r,o,s,u=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");Te(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){St.nodeStart(this.name);try{const u=o.gameState.time,l=s.get(this.cooldownKey);if(this.child.lastStatus===P.RUNNING){const[p,v]=Bn(this.child.execute(r,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m)}return this.lastStatus}if(l!==void 0&&u<l){const v=`Cooldown active, ${(l-u).toFixed(2)}h left`;return this.lastStatus=P.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}const[d,h]=Bn(this.child.execute(r,o,s));return(d===P.SUCCESS||d===P.RUNNING)&&s.set(this.cooldownKey,u+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{St.nodeEnd()}}}class mi{constructor(r,o,s,u=0){Te(this,"name");Te(this,"lastStatus");Te(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=u;const l=(d,h)=>{d.depth=h,d.children?d.children.forEach(p=>l(p,h+1)):d.child&&l(d.child,h+1)};l(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&St.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isActive&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=P.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[l,d]=Bn(this.child.execute(r,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}finally{this.name&&St.nodeEnd()}}}function u1(n){return new Ie([new ue((r,o)=>{const s=r.hunger>=Ip,u=r.food.length>0,l=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&u&&l),`${Math.floor(r.hunger-Ip)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new ye(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",P.RUNNING),"Eat",n+1)],"Eating",n)}function c1(n){return new Ie([new ue((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*nm||r.isAdult&&r.hunger>DS)return!1;const u=OE(r.id,o.gameState);return u?(s.set("fleeThreat",u),!0):!1},"Should Flee",n+1),new ye((r,o,s)=>{const u=s.get("fleeThreat");if(!u)return P.FAILURE;r.activeAction="moving";const l=xt(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=en(l),h=gr(r.position,An(d,rm));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=d,P.RUNNING},"Execute Flee",n+1)],"Flee",n)}const Io="foodSource";function d1(n){const r=new ye((s,u,l)=>{const d=new Map,h=ut(s,u.gameState,"berryBush",Pp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||u.gameState.time>=m.claimedUntil)return!0;const y=u.gameState.entities.entities.get(m.ownerId);if(!y||y.leaderId===s.leaderId)return!0;const _=d.get(y.id)??ce(s.position,y.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);return d.set(y.id,_),_>oA}),p=ut(s,u.gameState,"humanCorpse",Pp,m=>m.food.length>0);let v=null;if(h&&p){const m=ce(s.position,h.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height),y=ce(s.position,p.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);v=m<=y?h:p}else v=h||p;return v?(l.set(Io,v),[P.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[P.FAILURE,"No food source found"]},"Find Closest Food Source",n+4),o=new ye((s,u,l)=>{const d=l.get(Io);return!d||d.food.length===0?(l.delete(Io),[P.FAILURE,"Food source is invalid or depleted"]):ce(s.position,d.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<mr?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,l.delete(Io),[P.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=dn(s.position,d.position,u.gameState.mapDimensions),[P.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",n+3);return new Ie([new ue((s,u)=>{const l=s.food.length<s.maxFood,d=s.hunger>TS,h=Ot(u.gameState,s).filter(p=>p.hunger>Ka);return[(s.isAdult&&l&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",n+1),new $r([new Ie([new ue((s,u,l)=>l.has(Io),"Has Food Source?",n+2),o],"Continue Gathering Action",n+2),new Ie([new Ba(r,zS,"Cache Food Source Search",n+3),o],"Find New Food Source and Gather",n+2)],"Perform or Start Gathering",n+1)],"Gather Food",n)}function f1(n){return new ye((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),P.SUCCESS),"Idle",n)}const pa="procreationWanderStartTime",eg=n=>n.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<yt&&(r.gender==="female"?!r.isPregnant&&r.age<=Un:!0));function h1(n){const r=new ue((l,d,h)=>{const p=Vp(l,d.gameState,mr),v=eg(p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new ye((l,d,h)=>{var v;const p=h.get("procreationPartner");return p?(l.activeAction="procreating",l.target=void 0,h.delete("procreationPartner"),h.delete(pa),(v=l.partnerIds)!=null&&v.includes(p.id)||(l.partnerIds=l.partnerIds?[...l.partnerIds,p.id]:[p.id]),P.SUCCESS):P.FAILURE},"Start Procreating"),s=new ue((l,d,h)=>{const p=Vp(l,d.gameState,OS),v=eg(p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),u=new ye((l,d,h)=>{const p=h.get("procreationPartner");if(!p)return P.FAILURE;if(ce(l.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<mr)return P.SUCCESS;l.activeAction="moving",l.target=p.id;const m=xt(l.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return l.direction=en(m),P.RUNNING},"Move Towards Partner");return new Ie([new ue(l=>!(!l.isAdult||l.gender==="female"&&l.isPregnant||l.age<eS||l.gender==="female"&&l.age>Un),"Is Fertile (age, not pregnant)",n+1),new ue(l=>l.hunger<yt,"Is Healthy (hunger)",n+1),new ue(l=>(l.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new $r([new Ie([new ue((l,d)=>vm(l.position,d.gameState,"berryBush",NS)>=PS,"Is Environment Viable (food)",n+3),new ye((l,d,h)=>(h.delete(pa),P.SUCCESS),"Clear Wander Timer",n+3)],"Sufficient Food Path",n+2),new Ie([new ue((l,d)=>{if(l.gender==="male"){const h=Ot(d.gameState,l);return!Wr(h)}return!1},"Is Male Without Heir",n+3),new ye((l,d,h)=>{const p=h.get(pa);if(p===void 0)return h.set(pa,d.gameState.time),[P.FAILURE,"Starting heirless wander timer"];const v=d.gameState.time-p;return v>=tS?[P.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[P.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",n+3)],"Heirless Desperation Path",n+2)],"Check Environment Or Desperation",n+1),new ue((l,d,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(l.id)&&p.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ce(l.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<iA)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",n+1),new $r([new Ie([r,o],"Procreate With Immediate Partner",n+2),new Qo(HS,new Ie([s,u],"Seek Distant Partner Action",n+3),"Seek Distant Partner Cooldown",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const vi="attackTarget",Mr="homeCenter",lc=150;function p1(n,r,o){let s,u=1/0;for(const l of Object.values(n.entities.entities))if(l.type==="human"&&l.id!==r.id&&l.hitpoints>0&&l.leaderId!==r.leaderId){const d=ce(r.position,l.position,n.mapDimensions.width,n.mapDimensions.height);d<o&&d<u&&(u=d,s=l)}return s}function g1(n){return new Ie([new ue((r,o,s)=>{const{gameState:u}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const d=u.entities.entities.get(r.attackTargetId);if(d&&d.hitpoints>0&&ce(r.position,d.position,u.mapDimensions.width,u.mapDimensions.height)<=lc){if(s.set(vi,d),!s.get(Mr)){const h=r.leaderId?jo(r.leaderId,u):La(r,u).length>0?Qp(r,u):r.position;s.set(Mr,h)}return!0}}const l=p1(u,r,lc);if(l){s.set(vi,l);const d=r.leaderId?jo(r.leaderId,u):La(r,u).length>0?Qp(r,u):r.position;return s.set(Mr,d),!0}return s.set(vi,void 0),s.set(Mr,void 0),!1},"Find Attack Target",n+1),new ye((r,o,s)=>{const u=s.get(vi),l=s.get(Mr);if(!u||!l)return P.FAILURE;const{gameState:d}=o;return ce(r.position,l,d.mapDimensions.width,d.mapDimensions.height)>em?(r.activeAction="idle",r.attackTargetId=void 0,s.set(vi,void 0),s.set(Mr,void 0),P.FAILURE):u.hitpoints<=0||ce(r.position,u.position,d.mapDimensions.width,d.mapDimensions.height)>lc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(vi,void 0),s.set(Mr,void 0),P.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),P.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const m1=(n,r,o)=>{const s=Ot(r.gameState,n).filter(d=>!d.isAdult);if(s.length===0)return P.FAILURE;let u=null,l=Ka;for(const d of s)d.hunger>=l&&(l=d.hunger,u=d);return u?(o.set("targetChild",u),P.SUCCESS):P.FAILURE},v1=(n,r,o)=>{const s=o.get("targetChild");return s?ce(n.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>$c?(n.activeAction="moving",n.target=s.id,n.direction=dn(n.position,s.position,r.gameState.mapDimensions),P.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),P.SUCCESS):P.FAILURE};function y1(n){return new Ie([new ue(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new ye(m1,"Find Hungriest Child",n+1),new ye(v1,"Move To Child and Feed",n+1)],"Feed Child",n)}function S1(n){return new Ie([new ue(r=>!r.isAdult&&r.hunger>=Ka,"Is Hungry Child",n+1),new ye((r,o,s)=>{const u=DE(r,o.gameState);if(u.length===0)return P.FAILURE;const l=ut(r,o.gameState,"human",sS,d=>u.some(h=>h.id===d.id)&&d.food.length>0);return l?(s.set("targetParent",l),P.SUCCESS):P.FAILURE},"Find Parent With Food",n+1),new ye((r,o,s)=>{const u=s.get("targetParent");if(!u)return P.FAILURE;const l=ce(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",l<=$c?(r.target=void 0,P.SUCCESS):(r.target=u.id,r.activeAction="moving",P.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}const ga="plantingSpot";function A1(n){const r=new ye((s,u,l)=>{const d=l.get(ga);return!d||Di(d,u.gameState,Qa,s.id)?(l.delete(ga),[P.FAILURE,"Planting spot is invalid or now occupied"]):ce(s.position,d,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)>mr?(s.activeAction="moving",s.target=d,s.direction=dn(s.position,d,u.gameState.mapDimensions),[P.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[P.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",n+3),o=new ye((s,u,l)=>{const d=NE(s,u.gameState);return d?(l.set(ga,d),[P.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[P.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",n+3);return new Ie([new ue(s=>{const u=s.food.filter(d=>d.type===Ln.Berry).length>=zo,l=s.hunger<IS;return(s.isAdult&&u&&l)??!1},"Can Plant",n+1),new ue((s,u)=>{const l=vm(s.position,u.gameState,"berryBush",_S),d=Ot(u.gameState,s);return!(d.length===0||l>=d.length*2)},"Has Not Enough Nearby Bushes",n+1),new $r([new Ie([new ue((s,u,l)=>l.has(ga),"Has Planting Spot?",n+2),r],"Continue Planting Action",n+2),new Qo(GS,o,"Find Planting Spot Cooldown",n+2)],"Perform or Start Planting",n+1)],"Plant Bush",n)}const uc="enemiesNearby";function E1(n){const r=new ue(l=>l.id===l.leaderId,"Is Leader?",n+1),o=new ue(l=>!l.isCallingToAttack,"Is Not Already Calling?",n+1),s=new ye((l,d,h)=>{const p=td(l.position,l.id,d.gameState,tm);return p.length>0?(h.set(uc,p),P.SUCCESS):P.FAILURE},"Find Nearby Enemies",n+1),u=new $r([new Ie([new ue((l,d,h)=>{const p=h.get(uc);if(!p||p.length===0)return!1;const v=ed(l.id,d.gameState),m=Xp(v),y=Xp(p);return m>y*bS},"Is Strong Enough?",n+3),new ye((l,d)=>(l.isCallingToAttack=!0,l.callToAttackEndTime=d.gameState.time+Ua,dt(d.gameState,Ce.CallToAttack,l.position,Ua),je(d,Oe.CallToAttack,l.position),l.activeAction="idle",l.target=void 0,P.SUCCESS),"Issue Call to Attack",n+3)],"Attack",n+2),new ye((l,d,h)=>{const p=h.get(uc);if(!p||p.length===0)return P.FAILURE;const v=p.map(D=>D.position),m=Qc(v),y=xt(m,l.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),_=en(y),k=gr(l.position,An(_,rm*2));return l.activeAction="moving",l.target={x:(k.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(k.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},l.direction=_,P.SUCCESS},"Retreat",n+2)],"Attack or Retreat",n+2);return new Ie([r,o,s,new Qo(ZS,u,"Leader Combat Cooldown",n+1)],"Leader Combat Strategy",n)}const cc="combatTarget",dc="homeCenter";function w1(n){const r=new ue(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",n+1),o=new ue(d=>d.hunger<CS&&d.hitpoints>=d.maxHitpoints*nm,"Is Fit for Combat?",n+1),s=new ue((d,h)=>{const p=h.gameState.entities.entities.get(d.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),u=new ye((d,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return P.FAILURE;const y=td(m.position,m.id,v,FS);if(y.length===0)return P.FAILURE;y.sort((_,k)=>{const D=ce(d.position,_.position,v.mapDimensions.width,v.mapDimensions.height),O=ce(d.position,k.position,v.mapDimensions.width,v.mapDimensions.height);return D-O});for(const _ of y)if(LE(m.id,_.id,v)<MS){p.set(cc,_);const D=jo(m.id,v);return p.set(dc,D),P.SUCCESS}return P.FAILURE},"Find Best Target",n+1),l=new ye((d,h,p)=>{const v=p.get(cc),m=p.get(dc);if(!v||!m)return P.FAILURE;const{gameState:y}=h;return ce(d.position,m,y.mapDimensions.width,y.mapDimensions.height)>em?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),p.set(cc,void 0),p.set(dc,void 0),P.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>Zt*5)&&(dt(h.gameState,Ce.TargetAcquired,d.position,Zt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,P.RUNNING)},"Attack Target",n+1);return new Ie([r,o,s,u,l],"Tribe Member Combat",n)}function _1(n){const r=new ue((m,y)=>{if(!m.isAdult||m.gender!=="male")return!1;const _=m.partnerIds&&m.partnerIds.length>0,k=Ot(y.gameState,m).length>0;return _||k},"Is Adult Male With Family?",n+1),o=new ue((m,y)=>{var D;if(!m.fatherId)return!1;const _=y.gameState.entities.entities.get(m.fatherId);return!_||((D=Wr(Ot(y.gameState,_)))==null?void 0:D.id)===m.id?!1:ce(m.position,_.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<BS},"Is Too Close To Father?",n+1),s=new ue((m,y,_)=>_.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),u=new ye((m,y,_)=>{const k=_.get("territoryMoveTarget"),D=_.get("territoryMoveStartTime");if(!k||!D)return[P.FAILURE,"Missing move data"];if(y.gameState.time-D>US)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[P.FAILURE,"Territory move timed out"];if(ce(m.position,k,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<mr)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[P.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=k;const F=xt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=en(F),[P.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),l=new Ie([s,u],"Handle In-Progress Move",n+2),d=new ue((m,y,_)=>_.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+4),h=new ye((m,y,_)=>{const k=qc(m.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);_.set("territoryMoveTarget",k),_.set("territoryMoveStartTime",y.gameState.time),m.activeAction="moving",m.target=k;const D=xt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=en(D),[P.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+4),p=new Ie([d,h],"Start New Territory Move Action",n+3),v=new $r([l,new Qo(xS,p,"Establish Territory Cooldown",n+2)],"Establish or Continue Move",n+1);return new Ie([r,o,v],"Establish Family Territory",n)}function T1(n){return new Ie([new ye((r,o,s)=>{const u=ME(r,o.gameState);return u?(s.set("patriarchTarget",u),[P.SUCCESS,`Found patriarch: ${u.id}`]):(s.delete("patriarchTarget"),[P.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new ye((r,o,s)=>{const u=s.get("patriarchTarget");if(!u)return[P.FAILURE,"Patriarch target missing from blackboard"];const l=ce(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(l>Jg){r.activeAction="moving",r.target=u.id;const d=xt(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=en(d),[P.RUNNING,`Moving to patriarch at ${l.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[P.SUCCESS,`Arrived at patriarch at ${l.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}const fc="tribeSplitMigrationTarget";function I1(n){const r=new Ie([new ue((o,s)=>{const{canSplit:u,progress:l}=Jc(o,s.gameState);return u?[!0,`Progress: ${(l??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",n+2),new ye((o,s,u)=>{const{gameState:l}=s;let d=u.get(fc);if(!d){if(!o.leaderId)return P.FAILURE;const p=jo(o.leaderId,l),v=UE(p,o,l);if(v)u.set(fc,v),d=v;else return P.FAILURE}return ce(o.position,d,l.mapDimensions.width,l.mapDimensions.height)<mr?(u.delete(fc),o.activeAction="idle",o.target=void 0,P.SUCCESS):(o.activeAction="moving",o.target=d,P.RUNNING)},"Move to New Territory",n+2),new ye((o,s)=>(Am(o,s.gameState),P.SUCCESS),"Perform Tribe Split",n+2)],"Tribe Split Action",n+1);return new Qo($S,r,"Tribe Split Cooldown",n)}const ma="jealousyAttackTarget";function C1(n){return new Ie([new ue((r,o,s)=>{const u=CE(r,o.gameState,qS);return u?(s.set(ma,u),[!0,`Partner cheating with ${u.id}`]):(s.delete(ma),!1)},"Check for Infidelity",n+1),new ye((r,o,s)=>{const u=s.get(ma);return!u||u.hitpoints<=0?(s.delete(ma),[P.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?P.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[P.RUNNING,`Attacking ${u.id}`])},"Execute Jealousy Attack",n+1)],"Jealousy Attack",n)}const va="defendAggressor";function R1(n){return new Ie([new ue((r,o,s)=>{const u=kE(r,o.gameState,JS);return u?(s.set(va,u.aggressor),[!0,`Family member ${u.familyMember.id} attacked by ${u.aggressor.id}`]):(s.delete(va),!1)},"Check Family Under Attack",n+1),new ye((r,o,s)=>{const u=s.get(va);return!u||u.hitpoints<=0?(s.delete(va),[P.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?P.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[P.RUNNING,`Attacking aggressor ${u.id}`])},"Execute Family Defense Attack",n+1)],"Defend Family",n)}const ya="bushIntruder";function k1(n){return new Ie([new ue((r,o,s)=>{const u=RE(r,o.gameState,eA);return u?(s.set(ya,u),[!0,`Intruder ${u.id} stealing berries`]):(s.delete(ya),!1)},"Check For Intruders on Bushes",n+1),new ye((r,o,s)=>{const u=s.get(ya);return!u||u.hitpoints<=0?(s.delete(ya),[P.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?P.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[P.RUNNING,`Attacking intruder ${u.id}`])},"Execute Bush Defense Attack",n+1)],"Defend Claimed Bush",n)}const Sa="desperateAttackTarget";function P1(n){return new Ie([new ue(r=>r.hunger>tA,"Is Starving",n+1),new ue((r,o)=>{const s=ut(r,o.gameState,"berryBush",ct,l=>l.food.length>0),u=ut(r,o.gameState,"humanCorpse",ct,l=>l.food.length>0);return!s&&!u},"No Other Food Available",n+1),new ue((r,o,s)=>{const u=PE(r,o.gameState);return u?(s.set(Sa,u),[!0,`Found weak target ${u.id}`]):(s.delete(Sa),!1)},"Find Weak Target",n+1),new ye((r,o,s)=>{const u=s.get(Sa);return!u||u.hitpoints<=0?(s.delete(Sa),[P.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?P.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[P.RUNNING,`Desperately attacking ${u.id}`])},"Execute Desperate Attack",n+1)],"Desperate Attack",n)}function N1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotMove},"Has Autopilot Move Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotMove)return r.activeAction==="moving"&&typeof r.target=="object"&&(r.activeAction="idle",r.target=void 0),P.FAILURE;const u=s.position;return ce(r.position,u,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<sA?(o.gameState.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle",r.target=void 0),P.SUCCESS):(r.activeAction="moving",r.target=u,r.direction=dn(r.position,u,o.gameState.mapDimensions),P.RUNNING)},"Execute Autopilot Move",n+1)],"Autopilot Move To Target",n)}function O1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotGather},"Has Autopilot Gather Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotGather)return o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.food.length===0?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE):ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>mr?(r.activeAction="moving",r.target=u,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),P.RUNNING):(r.activeAction="gathering",r.target=u,o.gameState.autopilotControls.activeAutopilotAction=void 0,P.SUCCESS)},"Execute Autopilot Gather",n+1)],"Autopilot Gather From Target",n)}function D1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotAttack},"Has Autopilot Attack Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotAttack)return o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.hitpoints<=0?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE):ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=ba?(r.activeAction="attacking",r.attackTargetId=l.id,o.gameState.autopilotControls.activeAutopilotAction=void 0,P.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),P.RUNNING)},"Execute Autopilot Attack",n+1)],"Autopilot Attack",n)}function F1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotFeedChildren},"Has Autopilot Feed Child Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotFeedChildren)return o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.isAdult||r.food.length===0?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE):ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=ba?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),P.RUNNING)},"Execute Autopilot Feed Child",n+1)],"Autopilot Feed Child",n)}function M1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotPlant},"Has Autopilot Plant Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotPlant)return o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE;if(r.activeAction==="planting")return P.RUNNING;const u=s.position;return Di(u,o.gameState,Qa,r.id)?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE):ce(r.position,u,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=ba?(r.activeAction="planting",r.target=u,o.gameState.autopilotControls.activeAutopilotAction=void 0,P.RUNNING):(r.activeAction="moving",r.target=u,r.direction=dn(r.position,u,o.gameState.mapDimensions),P.RUNNING)},"Execute Autopilot Plant",n+1)],"Autopilot Plant",n)}function U1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotProcreate},"Has Autopilot Procreate Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotProcreate)return o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.gender===r.gender||!l.isAdult||!r.isAdult||l.gender==="female"&&(l.isPregnant||l.age>Un)||r.gender==="female"&&(r.isPregnant||r.age>Un)||(l.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||l.hunger>=yt||r.hunger>=yt?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE):ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=ba?(r.activeAction="procreating",o.gameState.autopilotControls.activeAutopilotAction=void 0,P.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),P.RUNNING)},"Execute Autopilot Procreate",n+1)],"Autopilot Procreate",n)}function L1(n){return new Ie([new ue(r=>!!r.leaderId&&r.leaderId!==r.id,"Is Follower",n+1),new ue((r,o)=>{if(!r.leaderId)return!1;const s=o.gameState.entities.entities.get(r.leaderId);return!!s&&s.isCallingToFollow===!0},"Is Leader Calling To Follow",n+1),new ue(r=>r.hunger<kS,"Is Not Critically Hungry",n+1),new ye((r,o)=>{if(!r.leaderId)return P.FAILURE;const s=o.gameState.entities.entities.get(r.leaderId);return s?ce(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>RS?(r.activeAction="moving",r.target=s.id,r.direction=dn(r.position,s.position,o.gameState.mapDimensions),P.RUNNING):(r.activeAction==="moving"&&r.target===s.id&&(r.activeAction="idle",r.target=void 0),P.SUCCESS):P.FAILURE},"Execute Follow Leader",n+1)],"Follow Leader Command",n)}const tg="tribeMigrationCheckCooldown";function B1(n){const r=new Ie([new ue(o=>!!o.leaderId&&o.leaderId===o.id,"Is Tribe Leader",n+1),new ue((o,s)=>{var l;const u=(l=o.aiBlackboard)==null?void 0:l.get(tg);return u?s.gameState.time-u>=jS:!0},"Is Migration Check Cooldown Over",n+1),new ye((o,s)=>{var l;(l=o.aiBlackboard)==null||l.set(tg,s.gameState.time);const u=xE(o,s.gameState);return u?(o.isCallingToFollow=!0,o.callToFollowEndTime=s.gameState.time+Rc,o.target=u,o.activeAction="moving",console.log(`Tribe ${o.tribeBadge} led by ${o.id} is migrating to`,u),P.SUCCESS):P.FAILURE},"Execute Tribe Migration",n+1)],"Tribe Migration Strategy",n);return new Ba(r,Cc,"Cache Tribe Migration",n)}function H1(n){return new Ie([new ue((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&o.gameState.autopilotControls.isActive&&(s==null?void 0:s.action)===pe.AutopilotFollowMe},"Has Autopilot Follow Command",n+1),new ye((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==pe.AutopilotFollowMe)return o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.id!==l.leaderId?(o.gameState.autopilotControls.activeAutopilotAction=void 0,P.FAILURE):ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Jg?(o.gameState.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),P.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),P.RUNNING)},"Execute Autopilot Follow",n+1)],"Autopilot Follow Leader",n)}function x1(){return new $r([c1(1),R1(1),C1(1),k1(1),P1(1),N1(1),O1(1),D1(1),U1(1),M1(1),F1(1),H1(1),new mi(E1(2),"callToAttack","Gated Leader Combat",1),w1(1),new mi(g1(2),"attack","Gated Attacking",1),u1(1),new mi(new Jp(d1(3),Cp,"Timeout Gathering",2),"gathering","Gated Gathering",1),new mi(y1(2),"feedChildren","Gated Feed Child",1),S1(1),new mi(new Jp(A1(3),Cp,"Timeout Planting",2),"planting","Gated Planting",1),new mi(h1(2),"procreation","Gated Procreation",1),new Ba(I1(2),Cc,"Cache Tribe Split",1),B1(1),new Ba(_1(2),Cc,"Cache Establish Territory",1),L1(1),T1(1),f1(1)],"Human Behavior",0)}class G1{constructor(){Te(this,"data",new Map);Te(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,u,l){const d=this.nodeExecutionData.get(r)||{lastExecuted:0,status:P.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Wo&&d.executionHistory.push({time:h.time+Wo,status:P.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const p=lm/bt*Qt,v=s-p;d.executionHistory=d.executionHistory.filter(y=>y.time>=v);const m={...d,lastExecuted:s,status:o,depth:u,debugInfo:l};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=LS,s=[];for(const[u,l]of this.nodeExecutionData.entries())r-l.lastExecuted>o&&s.push(u);for(const u of s)this.nodeExecutionData.delete(u)}}function z1(n){n.gameState.entities.entities.forEach(o=>{s1(o,n)})}function _m(){return{entities:new Map,nextEntityId:1}}function rd(n,r,o){const s={id:n.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(s.id,s),s}function el(n,r,o){return rd(n,"berryBush",{position:r,radius:Ic,food:Array.from({length:$y},()=>({type:Ln.Berry})).map(u=>({...u,id:n.nextEntityId++})),maxFood:Wy,lifespan:Yy,age:0,spreadChance:Vy,spreadRadius:Ic,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Do,{enteredAt:o,previousState:void 0}]})}function Ha(n,r,o,s,u=!1,l=Zy,d=Xg,h,p,v=[],m,y){const _=l>=Wc;return rd(n,"human",{position:r,radius:_?cn:jc,hunger:d,hitpoints:_p,maxHitpoints:_p,age:l,gender:s,isPlayer:u,food:[],maxFood:Kg,maxAge:xo,isAdult:_,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[lt,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:y,aiType:nd.BehaviorTreeBased,aiBehaviorTree:x1(),aiBlackboard:new G1})}function W1(n,r,o,s,u,l,d,h,p){return rd(n,"humanCorpse",{position:r,radius:u,gender:o,age:s,originalHumanId:l,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(bg*Math.max(yt-p,0)/yt,1)},()=>({type:Ln.Meat})),...h].map(m=>({...m,id:n.nextEntityId++})),stateMachine:void 0})}function $1(n,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,u=[...n.ancestorIds||[],n.id],l=s?[...s.ancestorIds||[],s.id]:[],d=[...u,...l],h=[...new Set(d)],p=h.slice(Math.max(h.length-Ky,0)),v=Math.random()<.5?"male":"female",m=gr(n.position,{x:5,y:5}),y=Ha(o.gameState.entities,m,o.gameState.time,v,!1,0,Xg/2,n.id,r,p,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return je(o,Oe.Birth,n.position),y}function id(n,r){return n.entities.get(r)?(n.entities.delete(r),!0):!1}class j1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const u=s-1>>1,l=this.values[u];if(o>=l)break;this.ids[s]=this.ids[u],this.values[s]=l,s=u}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],u=this.length>>1;let l=0;for(;l<u;){let d=(l<<1)+1;const h=d+1;let p=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,p=this.ids[h],v=m),v>=s)break;this.ids[l]=p,this.values[l]=v,l=d}this.ids[l]=o,this.values[l]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const ng=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],hc=3;class od{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,u]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const l=u>>4;if(l!==hc)throw new Error(`Got v${l} data when expected v${hc}.`);const d=ng[u&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[p]=new Uint32Array(r,o+4,1);return new od(p,h,d,void 0,r,o)}constructor(r,o=16,s=Float64Array,u=ArrayBuffer,l,d=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=r,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=ng.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);l&&l.byteLength!==void 0&&!l.buffer?(this.data=l,this._boxes=new this.ArrayType(this.data,d+8,p*4),this._indices=new this.IndexArrayType(this.data,d+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(hc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new j1}add(r,o,s=r,u=o){const l=this._pos>>2,d=this._boxes;return this._indices[l]=l,d[this._pos++]=r,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),u>this.maxY&&(this.maxY=u),l}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),l=65535;for(let d=0,h=0;d<this.numItems;d++){const p=r[h++],v=r[h++],m=r[h++],y=r[h++],_=Math.floor(l*((p+m)/2-this.minX)/o),k=Math.floor(l*((v+y)/2-this.minY)/s);u[d]=V1(_,k)}Oc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const p=this._levelBounds[d];for(;h<p;){const v=h;let m=r[h++],y=r[h++],_=r[h++],k=r[h++];for(let D=1;D<this.nodeSize&&h<p;D++)m=Math.min(m,r[h++]),y=Math.min(y,r[h++]),_=Math.max(_,r[h++]),k=Math.max(k,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=y,r[this._pos++]=_,r[this._pos++]=k}}}search(r,o,s,u,l){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],p=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,ig(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||u<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const y=this._indices[m>>2]|0;d>=this.numItems*4?h.push(y):(l===void 0||l(y))&&p.push(y)}d=h.pop()}return p}neighbors(r,o,s=1/0,u=1/0,l){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,p=[],v=u*u;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,ig(d,this._levelBounds));for(let y=d;y<m;y+=4){const _=this._indices[y>>2]|0,k=rg(r,this._boxes[y],this._boxes[y+2]),D=rg(o,this._boxes[y+1],this._boxes[y+3]),O=k*k+D*D;O>v||(d>=this.numItems*4?h.push(_<<1,O):(l===void 0||l(_))&&h.push((_<<1)+1,O))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),p}}function rg(n,r,o){return n<r?r-n:n<=o?0:n-o}function ig(n,r){let o=0,s=r.length-1;for(;o<s;){const u=o+s>>1;r[u]>n?s=u:o=u+1}return r[o]}function Oc(n,r,o,s,u,l){if(Math.floor(s/l)>=Math.floor(u/l))return;const d=n[s+u>>1];let h=s-1,p=u+1;for(;;){do h++;while(n[h]<d);do p--;while(n[p]>d);if(h>=p)break;Y1(n,r,o,h,p)}Oc(n,r,o,s,p,l),Oc(n,r,o,p+1,u,l)}function Y1(n,r,o,s,u){const l=n[s];n[s]=n[u],n[u]=l;const d=4*s,h=4*u,p=r[d],v=r[d+1],m=r[d+2],y=r[d+3];r[d]=r[h],r[d+1]=r[h+1],r[d+2]=r[h+2],r[d+3]=r[h+3],r[h]=p,r[h+1]=v,r[h+2]=m,r[h+3]=y;const _=o[s];o[s]=o[u],o[u]=_}function V1(n,r){let o=n^r,s=65535^o,u=65535^(n|r),l=n&(r^65535),d=o|s>>1,h=o>>1^o,p=u>>1^s&l>>1^u,v=o&u>>1^l>>1^l;o=d,s=h,u=p,l=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&u>>2^s&l>>2,v^=s&u>>2^(o^s)&l>>2,o=d,s=h,u=p,l=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&u>>4^s&l>>4,v^=s&u>>4^(o^s)&l>>4,o=d,s=h,u=p,l=v,p^=o&u>>8^s&l>>8,v^=s&u>>8^(o^s)&l>>8,o=p^p>>1,s=v^v>>1;let m=n^r,y=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|m)>>>0}function pc(n,r){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new od(n.length),s=new Map;for(const l of n)o.add(l.position.x,l.position.y,l.position.x,l.position.y);return o.finish(),{byRect(l){return o.search(l.left,l.top,l.right,l.bottom).map(h=>n[h])},byRadius(l,d){return o.neighbors(l.x,l.y,void 0,d).map(p=>n[p])},byProperty(l,d){var h;if(!s.has(l)){const p=new Map;for(const v of n){const m=v[l];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(l,p)}return((h=s.get(l))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function sd(n){const r=Array.from(n.entities.entities.values()),o=r.filter(d=>d.type==="human"),s=r.filter(d=>d.type==="berryBush"),u=r.filter(d=>d.type==="humanCorpse");return{...n,search:{human:pc(o),berryBush:pc(s),humanCorpse:pc(u)}}}var fr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(fr||{}),Vo=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(Vo||{}),_t=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(_t||{});const K1=[{key:fr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:fr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,r)=>r.hunger>Xy,isCompleted:!1,minDisplayTime:Wp,highlightedUIElements:[Vo.HUNGER_BAR]},{key:fr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,r)=>!!ut(r,n,"berryBush",ct*5,s=>s.food.length>0),getTargets:(n,r)=>{const o=[];for(const s of n.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ce(r.position,s.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Wp},{key:fr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,r)=>r.food.length>0,getTargets:(n,r)=>{const o=ut(r,n,"berryBush",ct,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:fr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Vo.FOOD_BAR]},{key:fr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,r)=>Ot(n,r).length>0,getTargets:(n,r)=>{const o=ut(r,n,"human",ct,s=>{const u=s;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<yt&&r.hunger<yt&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=Un:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:fr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,r)=>mm(n,r).some(s=>s.type===pe.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function Tm(){return{steps:K1.map(n=>({...n,isCompleted:!1}))}}function Im(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:_t.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function X1(n){for(let r=0;r<n.tutorial.steps.length;r++){const o=n.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function Q1(n,r){const o=n.tutorialState;if(!o.isActive){o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=Xt(n);if(!s){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=n.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=1/tE;switch(o.transitionState){case _t.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=l*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=_t.ACTIVE);break;case _t.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(u.minDisplayTime||0)&&u.condition(n,s)||n.autopilotControls.isActive)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=_t.FADING_OUT);break}case _t.FADING_OUT:if(o.transitionAlpha-=l*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=X1(n);h!==null?(o.currentStepIndex=h,o.transitionState=_t.FADING_IN):(o.isActive=!1,o.transitionState=_t.INACTIVE)}break}o.transitionState!==_t.FADING_OUT&&o.transitionState!==_t.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(n,s)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function b1(){const n=_m(),r=0;for(let m=0;m<jg;m++){const y={x:Math.random()*Hr,y:Math.random()*xr};el(n,y,r)}const o=Hr/2,s=xr/2,u=Ha(n,{x:o,y:s},r,"male",!0);Ha(n,{x:o+50,y:s},r,"female",!1);const l=[{id:"autopilotButton",action:de.ToggleAutopilot,currentWidth:Gr,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Fo},{id:"muteButton",action:de.ToggleMute,currentWidth:Gr,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Fo},{id:"pauseButton",action:de.TogglePause,currentWidth:Gr,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Fo}],d=Tm(),h=Im(),p={time:r,entities:n,mapDimensions:{width:Hr,height:xr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!1,gathering:!0,attack:!1,callToAttack:!1,followMe:!1,feedChildren:!0},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0},hasPlayerMovedEver:!1,masterVolume:dm,isMuted:!1,uiButtons:l,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},v=sd(p);return console.log("Game world initialized:",v),v}function Z1(){const n=_m(),r=0;for(let l=0;l<jg;l++){const d={x:Math.random()*Hr,y:Math.random()*xr};el(n,d,r)}for(let l=0;l<aE;l++){const d={x:Math.random()*Hr,y:Math.random()*xr},h=Math.random()<.5?"male":"female";Ha(n,d,r,h,!1)}const o=Tm(),s=Im(),u={time:r,entities:n,mapDimensions:{width:Hr,height:xr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Hr/2,y:xr/2},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0,gathering:!0,attack:!1,callToAttack:!0,followMe:!1,feedChildren:!0},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0},hasPlayerMovedEver:!1,masterVolume:dm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return sd(u)}const q1="humanProcreation",J1="human",ew="human",tw=ct,nw=(n,r)=>{if(n.id===r.id||n.gender===r.gender)return!1;const o=(s,u)=>s.isAdult&&s.hunger<yt&&(s.procreationCooldown||0)<=0?u?!s.isPregnant&&s.age<=Un:!0:!1;return n.gender==="male"?!o(n,!1)||!o(r,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(r,!1)?!1:n.activeAction==="procreating"&&r.activeAction==="procreating"},rw=(n,r,o)=>{var p,v;const{gameState:s}=o,u={x:(n.position.x+r.position.x)/2,y:(n.position.y+r.position.y)/2},l=n.gender==="male"?n:r,d=n.gender==="female"?n:r,h=(l.partnerIds||[]).length===0;if(n.stateMachine=[Yo,{partnerId:r.id,previousState:(p=n.stateMachine)==null?void 0:p[0]}],r.stateMachine=[Yo,{partnerId:n.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(r.id)||n.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(n.id)||r.partnerIds.push(n.id),h&&l.leaderId&&l.leaderId!==l.id){const m=s.entities.entities.get(l.leaderId);if(m){const y=Pc(l,m),_=Pc(d,m);if(!y&&!_){const k=Nc();l.leaderId=l.id,l.tribeBadge=k,d.leaderId=l.id,d.tribeBadge=k}}}else if(!n.leaderId&&!r.leaderId&&l&&d){const m=Nc();l.leaderId=l.id,l.tribeBadge=m,d.leaderId=l.id,d.tribeBadge=m}n.activeAction=void 0,dt(s,Ce.Procreation,u,ko),dt(s,Ce.Partnered,n.position,Zt,n.id),dt(s,Ce.Partnered,r.position,Zt,r.id),n.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,je(o,Oe.Procreate,u)},iw={id:q1,sourceType:J1,targetType:ew,maxDistance:tw,checker:nw,perform:rw},ow={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:$c,checker:(n,r)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===n.id||r.fatherId===n.id)&&r.hunger>=Ka,perform:(n,r,o)=>{n.food.pop(),r.hunger=Math.max(0,r.hunger-Go),n.feedChildCooldownTime=oS,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(dt(o.gameState,Ce.ChildFed,r.position,Zt,r.id),r.lastChildFedEffectTime=o.gameState.time),je(o,Oe.ChildFed,r.position)}},sw={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Xa,checker:(n,r,o)=>{var l;if(((l=n.stateMachine)==null?void 0:l[0])!==Fi||n.attackTargetId!==r.id||(n.attackCooldown||0)>0)return!1;const s=n.stateMachine[1];return o.gameState.time-s.attackStartTime>=Zg},perform:(n,r,o)=>{const s=xt(n.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=hE(en(s),r.direction);if(Math.abs(u)<AS*Math.PI/180&&Math.random()<ES)dt(o.gameState,Ce.AttackDeflected,r.position,Zt,r.id);else{let h=dS;n.gender==="male"&&(h*=vS),n.isAdult||(h*=yS),(!r.isAdult||r.age>=Qg)&&n.isAdult&&(h*=SS),r.hitpoints-=h,r.movementSlowdown={modifier:hS,endTime:o.gameState.time+pS},dt(o.gameState,Ce.Hit,r.position,Zt,r.id);const v=xt(n.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=An(v,fS);r.forces.push(m),r.hitpoints<=0?je(o,Oe.HumanDeath,r.position):je(o,Oe.Attack,n.position)}n.attackCooldown=qg;const d=n.stateMachine[1];d.attackStartTime=o.gameState.time,dt(o.gameState,Ce.Attack,n.position,Zt,n.id)}},aw={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:cn*2,checker:(n,r,{gameState:o})=>ce(n.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+r.radius)/3,perform:(n,r,{gameState:o})=>{const s=ce(n.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){n.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const l=(n.radius+r.radius-s)*.05,d=en(hm(n.position,r.position)),h=An(d,l);n.forces.push(h),r.forces.push(An(h,-1))}},lw={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ct,checker:(n,r,o)=>{var s;return n.isAdult&&r.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Ja&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,r,o)=>{const s=r.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=n.id,r.claimedUntil=o.gameState.time+Yg,dt(o.gameState,Ce.BushClaimed,r.position,Zt),je(o,Oe.Gather,n.position)}},uw={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ct,checker:(n,r,o)=>{var s;return n.isAdult&&r.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Ja&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,r,o)=>{const s=r.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,je(o,Oe.Gather,n.position)}},cw=[lw,uw],dw=[aw,...cw,iw,ow,sw];function fw(n){const{gameState:r}=n,o=r,s=Array.from(r.entities.entities.values());for(const u of dw)for(const l of s){if(u.sourceType&&l.type!==u.sourceType)continue;const d=o.search[u.targetType].byRadius(l.position,u.maxDistance);for(const h of d){if(l.id===h.id)continue;ce(l.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(l,h,n)&&u.perform(l,h,n)}}}function hw(n){n.visualEffects=n.visualEffects.filter(r=>n.time-r.startTime<=r.duration)}const pw=1/60;function gw(n,r){const o=Xt(n);o&&(n.viewportCenter=Xc(n.viewportCenter,o.position,Gc*r))}function Na(n,r){if(n.isPaused)return n;for(;r>0;){const o=sd(n),s=Math.min(r,pw);if(o.gameOver)return o;const u=s*(Qt/bt);o.time+=u,gw(o,s),z1({gameState:o,deltaTime:s}),fw({gameState:o,deltaTime:s}),hw(o),Q1(o,s),n=o,r-=s}return n}function og(n,r,o){n.save();const{x:s,y:u,width:l,height:d}=r.rect,h=FA;n.fillStyle=r.backgroundColor,n.beginPath(),n.moveTo(s+h,u),n.lineTo(s+l-h,u),n.quadraticCurveTo(s+l,u,s+l,u+h),n.lineTo(s+l,u+d-h),n.quadraticCurveTo(s+l,u+d,s+l-h,u+d),n.lineTo(s+h,u+d),n.quadraticCurveTo(s,u+d,s,u+d-h),n.lineTo(s,u+h),n.quadraticCurveTo(s,u,s+h,u),n.closePath(),n.fill(),o&&(n.fillStyle=MA,n.globalAlpha=.5,n.fill(),n.globalAlpha=1),n.fillStyle=r.textColor,r.icon?(n.font=`${d*.55}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(r.icon,s+l/2,u+d/2),r.text&&(n.font=`${d*.18}px "Press Start 2P", Arial`,n.textAlign="right",n.textBaseline="bottom",n.fillText(r.text,s+l-4,u+d-2))):(n.textAlign="center",n.textBaseline="middle",n.fillText(r.text,s+l/2,u+d/2)),n.restore()}function mw(n,r,o,s){n.save(),n.font=`${Up}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="bottom";const l=n.measureText(o).width,d=Up,h=l+Lp*2,p=d+Lp*2,v=s.x-h/2,m=n.canvas.height,y=r.y<m/2?r.y+r.height-Bp:r.y-p+Bp;n.fillStyle=UA,n.fillRect(v,y,h,p),n.fillStyle=LA,n.fillText(o,s.x,y+p/2+d/2),n.restore()}function vw(n,r,o){if(n.uiButtons=n.uiButtons.filter(s=>![de.ToggleProcreationBehavior,de.TogglePlantingBehavior,de.ToggleGatheringBehavior,de.ToggleAttackBehavior,de.ToggleCallToAttackBehavior,de.ToggleFollowMeBehavior,de.ToggleFeedChildrenBehavior].includes(s.action)),n.autopilotControls.isActive){const s=[{key:"gathering",action:de.ToggleGatheringBehavior,emoji:pe.GatherFood,shortcut:"G",name:"Gathering"},{key:"attack",action:de.ToggleAttackBehavior,emoji:pe.Attack,shortcut:"Q",name:"Attack"},{key:"callToAttack",action:de.ToggleCallToAttackBehavior,emoji:pe.CallToAttack,shortcut:"V",name:"Call to Attack"},{key:"followMe",action:de.ToggleFollowMeBehavior,emoji:pe.FollowMe,shortcut:"C",name:"Follow Me"},{key:"procreation",action:de.ToggleProcreationBehavior,emoji:pe.Procreate,shortcut:"R",name:"Procreation"},{key:"planting",action:de.TogglePlantingBehavior,emoji:pe.PlantBush,shortcut:"B",name:"Planting"},{key:"feedChildren",action:de.ToggleFeedChildrenBehavior,emoji:pe.FeedChildren,shortcut:"H",name:"Feed Children"}],u=4,l=2,d=u*Fr+(u-1)*fa,h=l*Fr+(l-1)*fa,p=(r-d)/2,v=o-h-20;s.forEach((m,y)=>{const _=y%u,k=Math.floor(y/u),D=p+_*(Fr+fa),O=v+k*(Fr+fa),T=n.autopilotControls.behaviors[m.key],F={id:`toggle${m.name}Button`,action:m.action,rect:{x:D,y:O,width:Fr,height:Fr},icon:qa[m.emoji],text:m.shortcut,backgroundColor:T?ka:Ai,textColor:Fo,currentWidth:Fr,tooltip:`${m.name}: ${T?"ON":"OFF"}`};n.uiButtons.push(F)})}}function yw(n,r,o){n.save(),r.uiButtons.some(v=>v.action===de.FastForward)||r.uiButtons.push({id:"fastForwardButton",action:de.FastForward,rect:{x:0,y:0,width:0,height:0},text:"FFWD [T]",currentWidth:Gr,backgroundColor:Ai,textColor:Fo,tooltip:"Fast-forward time"}),n.textAlign="right";let s=o-Nt;const u=r.uiButtons.find(v=>v.action===de.ToggleAutopilot);u&&(u.text="AUT[O]",u.backgroundColor=r.autopilotControls.isActive?ka:Ai,u.tooltip=`Toggle Autopilot (${r.autopilotControls.isActive?"ON":"OFF"})`);const l=r.uiButtons.find(v=>v.action===de.ToggleMute);l&&(l.text=r.isMuted?"UN[M]UTE":"[M]UTE",l.backgroundColor=r.isMuted?ka:Ai,l.tooltip=`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`);const d=r.uiButtons.find(v=>v.action===de.TogglePause);d&&(d.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",d.backgroundColor=r.isPaused?ka:Ai,d.currentWidth=r.isPaused?Gr*1.4:Gr*1.1,d.tooltip=r.isPaused?"Resume Game":"Pause Game");const h=r.uiButtons.find(v=>v.action===de.FastForward);h&&(h.text="FFWD [T]",h.backgroundColor=Ai,h.currentWidth=Gr*1.3,h.tooltip="Fast-forward time"),vw(r,o,n.canvas.height),r.uiButtons.filter(v=>v.action===de.FastForward||v.action===de.ToggleAutopilot||v.action===de.ToggleMute||v.action===de.TogglePause).forEach(v=>{const m=Nt,y=s-v.currentWidth;v.rect={x:y,y:m,width:v.currentWidth,height:OA},og(n,v,r.hoveredButtonId===v.id),s-=v.currentWidth+DA}),r.uiButtons.filter(v=>[de.ToggleProcreationBehavior,de.TogglePlantingBehavior,de.ToggleGatheringBehavior,de.ToggleAttackBehavior,de.ToggleCallToAttackBehavior,de.ToggleFollowMeBehavior,de.ToggleFeedChildrenBehavior].includes(v.action)).forEach(v=>{og(n,v,r.hoveredButtonId===v.id)});const p=r.hoveredButtonId?r.uiButtons.find(v=>v.id===r.hoveredButtonId):void 0;p&&p.tooltip&&r.mousePosition&&mw(n,p.rect,p.tooltip,r.mousePosition),n.restore()}function Sw(n){n.save(),n.fillStyle=KA,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=XA,n.font=`${QA}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const Aw=25,Ew=0,sg=28;function Cm(n,r,o,s,u,l,d,h,p){n.save();const v=r.x-d.x+h/2,m=r.y-d.y+p/2;n.strokeStyle=s,n.lineWidth=l,n.setLineDash(u),n.beginPath(),n.arc(v,m,o+Za,0,2*Math.PI),n.stroke(),n.restore()}function ww(n,r,o,s,u,l){if(r.length===0)return;n.save(),r.forEach(m=>{m.targetEntity&&Cm(n,m.targetEntity.position,m.targetEntity.radius,Vc,Kc,2,s,u,l)}),n.font=`${Ni}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const d=o.position.x-s.x+u/2,h=o.position.y-s.y+l/2;let p=0,v={};r.forEach(m=>{const y=qa[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const _=m.targetEntity.position.x-s.x+u/2,k=m.targetEntity.position.y-s.y+l/2,D=`${y}${m.key.toUpperCase()}`,O=k-m.targetEntity.radius-Za-Ni/2-(v[m.targetEntity.id]-1)*sg;n.fillText(D,_,O)}else{n.textAlign="left";const _=`${y}${m.key.toUpperCase()}`,k=d+Aw,O=h+Ew+p*sg;n.fillText(_,k,O),p++,n.textAlign="center"}}),n.restore()}const oe=(n,r,o,s,u,l,d)=>{l==="transparent"||s<=0||u<=0||(n.fillStyle=l,n.fillRect(Math.floor(r*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(u*d)))},ag=10,lg=10,vn=6,Fn=4,Aa=2,_w=5,Kt=4,Tw=2,mt=4,Iw=2,$e=3,yi=2,hr=0,Uo=hr+Fn-1,wt=Uo,be=Uo+Kt-1,Cw="rgba(0, 0, 0, 0.4)",Rw=4,kw=1,ad={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,r,o,s,u,l,d,h="male",p=20,v=[1,0],m=!1,y=0){const _=["dead","stunned"].includes(d),k=_?lg+4:ag,D=_?ag+4:lg+$e,O=.15,T=Math.min(s*(1-2*O)/k,u*(1-2*O)/D),F=k*T,C=D*T,W=r+(s-F)/2,x=o+(u-C)/2;n.save(),v[0]<0&&!_?(n.translate(W+F,x),n.scale(-1,1)):n.translate(W,x);const U="#D09A5A",B=p>50?"#BDBDBD":"#281808",j="#7F5C4A",Se="#6B4F3A",ze="#E0D8C0",Je="#A0522D",Ue=1-Math.max(0,Math.min(100,y))/100*.2,Le=h==="male"?1.1:.9,_e=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let ke=_w*Ue*Le*_e,ge=Tw*Ue*Le*_e,se=Iw*Ue*_e;m&&h==="female"&&(ke*=1.5);const $=Math.round((k-ke)/2),X=Math.round((k-vn)/2),Y=$-ge,w=$+ke,M=1,re=$+(ke/2-M/2)-se,ee=$+(ke/2+M/2),Ae=v[1]<-.2&&Math.abs(v[0])<.7,ae=b=>{n.fillStyle=Cw,n.beginPath();const ie=k/2,Ne=b;n.ellipse(Math.floor(ie*T),Math.floor(Ne*T),Math.max(1,Math.floor(Rw*T)),Math.max(1,Math.floor(kw*T)),0,0,2*Math.PI),n.fill()},me=(b,ie)=>{h==="male"?(oe(n,$,Uo+b,ke,Kt-yi,ie,T),oe(n,$,Uo+Kt-yi+b,ke,yi,j,T)):oe(n,$,Uo+b,ke,Kt,Se,T)},he=(b,ie)=>{Ae?oe(n,X,hr+b,vn,Fn,B,T):(oe(n,X,hr+b,vn,Fn,ie,T),oe(n,X,hr+b,vn,Aa,B,T),h==="female"?(oe(n,X-1,hr+Aa+b,1,Fn,B,T),oe(n,X+vn,hr+Aa+b,1,Fn,B,T)):oe(n,X+1,hr+2+b,vn-2,Fn-2,B,T))};switch(d){case"idle":{const b=l*Math.PI*2,ie=Math.sin(b)*.5,fe=(Math.cos(b*2)+1)*.25;ae(be+$e+1),oe(n,re+ie,be+fe,se,$e,U,T),oe(n,ee-ie,be+fe,se,$e,U,T),me(fe,U),oe(n,Y,wt+fe,ge,mt,U,T),oe(n,w,wt+fe,ge,mt,U,T),he(fe,U);break}case"walk":{const b=l*Math.PI*2,ie=Math.sin(b)*2,fe=Math.abs(Math.cos(b))*1;ae(be+$e+1),oe(n,re+ie,be+fe,se,$e,U,T),oe(n,ee-ie,be+fe,se,$e,U,T),me(fe,U),oe(n,Y-ie,wt+fe,ge,mt,U,T),oe(n,w+ie,wt+fe,ge,mt,U,T),he(fe,U);break}case"gathering":{const b=l*Math.PI*2,ie=1,Ne=(Math.sin(b)+1)/2*2,fe=ie+Math.abs(Math.cos(b))*.5;ae(be+$e+1),oe(n,re,be+fe,se,$e-ie,U,T),oe(n,ee,be+fe,se,$e-ie,U,T),me(fe,U),oe(n,Y+1,wt+fe-Ne,ge,mt,U,T),oe(n,w-1,wt+fe-Ne,ge,mt,U,T),he(fe,U);break}case"eat":{ae(be+$e+1),oe(n,re,be+1,se,$e-1,U,T),oe(n,ee,be+1,se,$e-1,U,T),me(1,U);const Ne=(Math.sin(l*Math.PI*4)+1)/2,fe=X+vn/2,wn=hr+Fn/2,Dt=w+(fe-w)*Ne,Gt=wt+1+(wn-(wt+1))*Ne;oe(n,Y,wt+1,ge,mt,U,T),oe(n,Dt,Gt,ge,mt,U,T),oe(n,Dt,Gt-1,1,1,Je,T),he(1,U);break}case"procreate":{const b=(Math.sin(l*Math.PI*8)+1)/4,ie=(Math.sin(l*Math.PI*6)+1)*.5,Ne=1.5,fe=Ne-ie;ae(be+$e+1),oe(n,re,be+fe,se,$e-Ne,U,T),oe(n,ee,be+fe,se,$e-Ne,U,T),me(fe,U),oe(n,Y,wt+fe,ge,mt,U,T),oe(n,w,wt+fe,ge,mt,U,T),he(fe,U),n.globalAlpha=b,me(fe,"white"),n.globalAlpha=1;break}case"attacking":{const b=Math.sin(l*Math.PI)*1.5,ie=Math.abs(Math.sin(l*Math.PI));ae(be+$e+1),oe(n,re-b,be+ie,se,$e,U,T),oe(n,ee+b*.5,be+ie,se,$e,U,T),me(ie,U),oe(n,Y,wt+ie-2,ge,mt,U,T),oe(n,w,wt+ie-2.5,ge,mt,U,T),he(ie,U);break}case"defending":{ae(be+$e+1),oe(n,re,be+1,se,$e-1,U,T),oe(n,ee,be+1,se,$e-1,U,T),me(1,U),oe(n,Y-1,wt+1-1,ge,mt,U,T),oe(n,w+1,wt+1-1,ge,mt,U,T),he(1,U);break}case"stunned":case"dead":{const b=d==="dead",ie=b?Math.min(1,l):0,Ne=ie>.5?ze:U,fe=h==="male"?j:Se,wn=ie>.8?"transparent":B,Dt=k/2,Gt=D/2,vr=2;ae(D-1),oe(n,Dt-se-vr,Gt,se,$e,Ne,T),oe(n,Dt+vr,Gt,se,$e,Ne,T),oe(n,Dt-ge-vr,Gt-Kt+1,ge,mt,Ne,T),oe(n,Dt+vr,Gt-Kt+1,ge,mt,Ne,T);const _n=Dt-ke/2,Hn=Gt-Kt/2;h==="male"?(ie<.7&&oe(n,_n,Hn+Kt-yi,ke,yi,fe,T),oe(n,_n,Hn,ke,Kt-yi,Ne,T)):ie<.7?oe(n,_n,Hn,ke,Kt,fe,T):oe(n,_n,Hn,ke,Kt,Ne,T);const jr=Dt-vn/2,xn=Gt-Kt/2-Fn+1;if(oe(n,jr,xn,vn,Fn,Ne,T),wn!=="transparent"&&oe(n,jr,xn,vn,Aa,wn,T),b&&ie>.6){const Gn="#B0A890";for(let yr=0;yr<3;yr++)oe(n,_n+1,Hn+yr*1+1,ke-2,.5,Gn,T)}break}default:oe(n,0,0,k,D,"magenta",T);break}n.restore()}};function Pw(n,r,o,s,u){const l=r.x,d=r.y-o-s/2;n.save(),n.fillStyle=u,n.strokeStyle=u,n.lineWidth=1.5,n.beginPath(),n.rect(l-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(l-s/2,d),n.lineTo(l-s/4,d-s/3),n.lineTo(l-s/6,d),n.moveTo(l-s/6,d),n.lineTo(l,d-s/2),n.lineTo(l+s/6,d),n.moveTo(l+s/6,d),n.lineTo(l+s/4,d-s/3),n.lineTo(l+s/2,d),n.stroke(),n.restore()}function Ko(n,r,o,s,u,l=!1,d=!1,h=!1,p=!1){s<Wc&&(o=o*.75),ad.render(n,r.x-o/2,r.y-o/2,o,o,0,"idle",u,s,[0,0],!1,0);let v,m;l?(v=wA,m=Yc):d?(v=_A,m=sm):h?(v=TA,m=om):p&&(v=IA,m=im),v&&m&&Pw(n,r,o/2,v,m)}function Nw(n,r,o,s,u,l){if(n.save(),s.length===0){n.restore();return}const d=s.length*u,h=4;let p;const v=d+(s.length-1)*h;s.length>1&&v>l?p=(l-d)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:y,isPlayer:_,isHeir:k,isPartner:D,isParent:O}=s[m],T=r+m*(u+p)+u/2,F=o+u/4;Ko(n,{x:T,y:F},u,y.age,y.gender,_,k,D,O)}n.restore()}function Ow(n,r,o,s){if(r.length===0)return;n.save();const u=ar,l=" 00",d=" 00";n.font=`${ec}px "Press Start 2P", Arial`;const h=n.measureText(l).width,p=n.measureText(d).width,v=ar+ua+ar+lr+h+ar/2+lr+p,m=r.length*ca+(r.length-1)*Fp,y=s-m-ar;n.fillStyle=RA,n.fillRect(u,y,v,m);for(let _=0;_<r.length;_++){const k=r[_],D=y+_*(ca+Fp),O=D+ca/2;k.isPlayerTribe&&(n.fillStyle=CA,n.fillRect(u,D,v,ca));let T=u+ar;n.font=`${ua}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(k.tribeBadge,T,O-ua/4),T+=ua+ar*1.1,k.adultCount>0&&(Ko(n,{x:T+lr/2,y:O},lr,25,"male"),T+=lr/2,n.font=`${ec}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${k.adultCount}`,T,O),T+=n.measureText(` ${k.adultCount}`).width+ar/2),k.childCount>0&&(Ko(n,{x:T+lr/2,y:O},lr,1,"female"),T+=lr/2,n.font=`${ec}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${k.childCount}`,T,O))}n.restore()}function Dw(n,r,o,s,u){n.save();const{position:l}=r;n.strokeStyle=s,n.lineWidth=2+Math.sin(u*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(l.x,l.y,o,0,2*Math.PI),n.stroke(),n.restore()}function Fw(n,r,o,s,u){if(r.transitionState===_t.INACTIVE)return;const l=o.steps[r.currentStepIndex];if(!l)return;n.save(),n.globalAlpha=r.transitionAlpha;const d=bA,h=ZA,p=qA,v=`${rc}px "Press Start 2P", Arial`,m=`${zp}px "Press Start 2P", Arial`,y=eE,_=zp*1.5;n.font=m;const k=l.text.split(" ");let D="";const O=[];for(let x=0;x<k.length;x++){const K=D+k[x]+" ";n.measureText(K).width>d-h*2&&x>0?(O.push(D),D=k[x]+" "):D=K}O.push(D);const T=h*2+rc+h/2+O.length*_,F=(s-d)/2,C=u-T-20;n.fillStyle=JA,n.beginPath(),n.moveTo(F+p,C),n.lineTo(F+d-p,C),n.quadraticCurveTo(F+d,C,F+d,C+p),n.lineTo(F+d,C+T-p),n.quadraticCurveTo(F+d,C+T,F+d-p,C+T),n.lineTo(F+p,C+T),n.quadraticCurveTo(F,C+T,F,C+T-p),n.lineTo(F,C+p),n.quadraticCurveTo(F,C,F+p,C),n.closePath(),n.fill(),n.fillStyle=y,n.textAlign="center",n.textBaseline="top",n.font=v,n.fillText(l.title,F+d/2,C+h),n.font=m;let W=C+h+rc+h/2;for(const x of O)n.fillText(x,F+d/2,W),W+=_;n.restore()}function ug(n,r,o){n.save();const s=iE,u={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};n.strokeStyle=um,n.lineWidth=rE+Math.sin(o*cm)*1.5,n.setLineDash([8,8]),n.strokeRect(u.x,u.y,u.width,u.height),n.restore()}function Mw(n,r){n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20)}const Dc=10,Uw=3,cg=Dc*.7;function Lw(n,r,o,s,u){const{position:l,food:d,maxFood:h,ownerId:p,claimedUntil:v}=r;if(n.beginPath(),n.arc(l.x,l.y,Dc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),p&&v&&v>u&&s){const m=o.entities.entities.get(p);if(m){let y;m.id===s.id?y=Yc:ym(s,m,o)?y=lA:y=am,y&&(n.strokeStyle=y,n.lineWidth=1+Math.sin(u*2)*.5,n.beginPath(),n.arc(l.x,l.y,Dc+2,0,Math.PI*2),n.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let y=0;y<d.length;y++){const _=y*m,k=l.x+cg*Math.cos(_),D=l.y+cg*Math.sin(_);n.beginPath(),n.arc(k,D,Uw,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}function Bw(n,r){const{position:o,gender:s,age:u,decayProgress:l,food:d,radius:h}=r;if(n.save(),n.globalAlpha=1-l,ad.render(n,o.x-h,o.y-h,h*2,h*2,l,"dead",s,u,[0,0],!1,0),n.restore(),d.length>0){n.save(),n.font=`${EA}px Arial`,n.textAlign="center",n.textBaseline="middle";const p=cn*.9,v=Math.PI/Kg*3;d.forEach((m,y)=>{const _=y*v,k=o.x+p*Math.cos(_)*Math.atan2(y,y),D=o.y+p*Math.sin(_)*Math.atan2(y,y),O=fm[m.type];n.fillText(O,k,D)}),n.restore()}}function Ti(n,r,o,s,u,l,d,h){n.save(),n.fillStyle=d,n.fillRect(r,o,s,u),n.fillStyle=h,n.fillRect(r,o,s*Math.max(0,l),u),n.restore()}function Hw(n,r,o,s,u,l){if(n.save(),s.length===0){n.restore();return}const d=s.length*u;let h;d>l||d+(s.length-1)*4>l?h=(l-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=fm[s[p].type];n.fillText(v,r+p*(u+h),o)}n.restore()}function xw(n,r,o,s,u){const l=r.autopilotControls.hoveredAutopilotAction;if(!l)return;let d,h=cn/2;const p=qa[l.action],v=pm[l.action],m=`${p} ${v}`;if("targetEntityId"in l){const y=r.entities.entities.get(l.targetEntityId);y&&(d=y.position,h=y.radius)}else"position"in l&&(d=l.position);if(d){Cm(n,d,h,Vc,Kc,2,o,s,u),n.save(),n.font=`${Ni}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const y=d.x-o.x+s/2,k=d.y-o.y+u/2-h-Za-Ni/2;n.fillText(m,y,k),n.restore()}}function Gw(n,r,o,s,u){n.save();const l=(Math.sin(u*cm)+1)/2,d=o+Za+l*5;n.strokeStyle=Vc,n.lineWidth=2,n.setLineDash(Kc),n.beginPath(),n.arc(r.x,r.y,d,0,Math.PI*2),n.stroke(),n.setLineDash([]);const h=qa[s],p=pm[s];if(h){n.font=`${Ni*1.5}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle";const v=r.y-d-25;n.fillText(h,r.x,v),n.font=`${Ni*.8}px "Press Start 2P", Arial`,n.fillText(p,r.x,v+25)}n.restore()}function zw(n,r){const o=r.autopilotControls.activeAutopilotAction;if(!o)return;let s,u=15;if("position"in o)s=o.position;else if("targetEntityId"in o){const l=r.entities.entities.get(o.targetEntityId);l&&(s=l.position,u=l.radius||30)}s&&Gw(n,s,u,o.action,r.time)}const Ww={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",following:"idle",tribeSplitting:"idle"};function $w(n,r){var h;const{radius:o,position:s,activeAction:u="idle"}=r,l=((h=r.stateMachine)==null?void 0:h[0])||"N/A",d=r.isAdult?cn+20:cn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${u}`,s.x,s.y-d),n.fillText(`State: ${l}`,s.x,s.y-d+10),n.fillText(`HP: ${r.hitpoints}`,s.x,s.y-d+20),n.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-d+30),n.restore(),n.beginPath(),n.arc(s.x,s.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function jw(n,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${xA}px Arial`,n.textAlign="left",n.textBaseline="top";const u=y=>{switch(y){case P.SUCCESS:return zA;case P.FAILURE:return WA;case P.RUNNING:return $A;case P.NOT_EVALUATED:case null:default:return jA}},l=y=>{if(!y.name||!s.has(y.name))return{width:0,height:0};let _=0,k=0;const D=s.get(y.name),O=` ${y.name}`+(D!=null&&D.debugInfo?`: ${D.debugInfo}`:""),T=n.measureText(O).width,F=(y.depth??0)*Hp+8+T+Gp+wo+20;if(_=Math.max(_,F),k+=nc,y.children)for(const C of y.children){const W=l(C);_=Math.max(_,W.width),k+=W.height}else if(y.child){const C=l(y.child);_=Math.max(_,C.width),k+=C.height}return{width:_,height:k}},d=(y,_,k,D)=>{if(!y.name||!s.has(y.name))return _;let O=_;const T=s.get(y.name),F=k+2+(y.depth??0)*Hp;let C=P.NOT_EVALUATED,W=xp,x="";if(T){C=T.status,x=T.debugInfo;const B=VA/bt*Qt,j=o-T.lastExecuted,Se=Math.max(0,1-j/B);W=pE(xp,YA,Se),j>Wo&&(C=P.NOT_EVALUATED)}const K=u(C);n.fillStyle=K,n.fillText("",F,O),n.fillStyle=W;const U=` ${y.name}`+(x?`: ${x}`:"");if(n.fillText(U,F+8,O),T&&T.executionHistory.length>0){const{executionHistory:B}=T,j=lm/bt*Qt,Se=o,ze=Se-j,Je=k+D-wo-Gp;let Ue=Je;const Le=O+(nc-da)/2,_e=B.filter(M=>M.time<ze);let ke=_e.length>0?_e[_e.length-1].status:null,ge=ze;const se=B.filter(M=>M.time>=ze&&M.time<=Se),$=wo/j;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Je,Le,wo,da);for(const M of se){const ee=(M.time-ge)*$;ee>0&&(n.fillStyle=u(ke),n.fillRect(Ue,Le,ee,da),Ue+=ee),ke=M.status,ge=M.time}o-ge>Wo&&(ke=P.NOT_EVALUATED);const Y=(Se-ge)*$;n.fillStyle=u(ke);const w=Je+wo-Ue;n.fillRect(Ue,Le,Math.min(Y,w),da)}if(O+=nc,y.children)for(const B of y.children)O=d(B,O,k,D);else y.child&&(O=d(y.child,O,k,D));return O},{width:h,height:p}=l(r.aiBehaviorTree);if(p===0){n.restore();return}const v=r.position.x+BA,m=r.position.y+HA-p/2;n.fillStyle=GA,n.fillRect(v,m,h,p+4),d(r.aiBehaviorTree,m+2,v,h),n.restore()}function Yw(n,r,o,s,u){n.save(),n.font=`${Dp}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,r.x,r.y-(s?cn:jc)-Dp-u),n.restore()}function Vw(n,r,o,s,u){const l=r.x,d=r.y-o-s/2;n.save(),n.fillStyle=u,n.strokeStyle=u,n.lineWidth=1.5,n.beginPath(),n.rect(l-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(l-s/2,d),n.lineTo(l-s/4,d-s/3),n.lineTo(l-s/6,d),n.moveTo(l-s/6,d),n.lineTo(l,d-s/2),n.lineTo(l+s/6,d),n.moveTo(l+s/6,d),n.lineTo(l+s/4,d-s/3),n.lineTo(l+s/2,d),n.stroke(),n.restore()}function Kw(n,r,o){var h;const{position:s,radius:u}=r,l=s.x-tc/2,d=s.y-u-kA;if(((h=r.stateMachine)==null?void 0:h[0])===Fi){const p=r.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/Zg,1);Ti(n,l,d,tc,Mp,m,_i,PA)}else if(r.attackCooldown&&r.attackCooldown>0){const p=1-r.attackCooldown/qg;Ti(n,l,d,tc,Mp,p,_i,NA)}}function Xw(n,r,o=!1,s=!1,u=!1,l=!1,d=!1,h=!1,p=!1,v,m){const{position:y,activeAction:_="idle"}=r,k=r.isAdult?cn:cn*.6,D=Ww[_]||"idle";ad.render(n,y.x-k,y.y-k,k*2,k*2,r.animationProgress||0,D,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(n.save(),n.strokeStyle=am,n.lineWidth=2,n.beginPath(),n.arc(y.x,y.y,k+3,0,2*Math.PI),n.stroke(),n.restore());let O,T;d?(O=cA,T=sm):o?(O=uA,T=Yc):u?(O=dA,T=aA):s?(O=fA,T=im):l&&(O=hA,T=om),O&&T&&Vw(n,y,k,O,T),r.tribeBadge&&Yw(n,y,r.tribeBadge,r.isAdult??!1,O??0);const F=p&&(m===void 0||r.id===m);F&&r.aiBlackboard&&jw(n,r,v),Kw(n,r,v),F&&$w(n,r)}const Rm=15;function dg(n,r,o,s,u=1.5){const l=o-r.startTime,d=Math.min(l/r.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(u-1),m=Rm*v;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function Si(n,r,o,s,u=2){const l=o-r.startTime,d=Math.min(l/r.duration,1),h=1-d,p=Rm*2*d;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(r.position.x,r.position.y,p,0,Math.PI*2),n.strokeStyle=s,n.lineWidth=u,n.stroke(),n.restore()}function ur(n,r,o,s){const u=o-r.startTime,l=Math.min(u/r.duration,1),d=1-l,h=-20*l;n.save(),n.globalAlpha=d,n.font="20px Arial",n.textAlign="center",n.fillText(s,r.position.x,r.position.y+h),n.restore()}function Qw(n,r,o){switch(r.type){case Ce.Hunger:dg(n,r,o,"rgba(255, 165, 0, 0.7)",1);break;case Ce.Procreation:ur(n,r,o,"");break;case Ce.Pregnant:dg(n,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ce.TargetAcquired:Si(n,r,o,"rgba(255, 0, 0, 0.8)",3);break;case Ce.Attack:ur(n,r,o,"");break;case Ce.Partnered:ur(n,r,o,"");break;case Ce.BushClaimed:Si(n,r,o,"rgba(0, 255, 0, 0.7)",2);break;case Ce.BushClaimLost:Si(n,r,o,"rgba(128, 128, 128, 0.7)",2);break;case Ce.Eating:ur(n,r,o,"");break;case Ce.ChildFed:ur(n,r,o,"");break;case Ce.AttackDeflected:ur(n,r,o,"");break;case Ce.AttackResisted:ur(n,r,o,"");break;case Ce.Hit:ur(n,r,o,"");break;case Ce.SeizeBuildup:Si(n,r,o,"rgba(255, 215, 0, 0.8)",4);break;case Ce.Seize:Si(n,r,o,"rgba(148, 0, 211, 0.8)",4);break;case Ce.CallToAttack:Si(n,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Co(n,r,o,s,u,...l){const d={...u.position};for(let h=-o;h<=o;h+=o)for(let p=-r;p<=r;p+=r)u.position.x=d.x+p,u.position.y=d.y+h,s(n,u,...l);u.position=d}function bw(n,r,o){const s=Xt(r),u=s?Ot(r,s):[],l=Wr(u),{width:d,height:h}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,y;if(v.type==="berryBush")Co(n,d,h,Lw,v,r,s,r.time);else if(v.type==="human"){const _=v,k=_.id===(s==null?void 0:s.id),D=u.some(W=>W.id===_.id),O=_.id===(l==null?void 0:l.id),T=s&&(_.id===s.motherId||_.id===s.fatherId),F=s&&(((m=_.partnerIds)==null?void 0:m.includes(s.id))||((y=s.partnerIds)==null?void 0:y.includes(_.id))),C=(s==null?void 0:s.attackTargetId)===_.id;Co(n,d,h,Xw,_,k,T,D,F,O,C,o,r.time,r.debugCharacterId)}else v.type==="humanCorpse"&&Co(n,d,h,Bw,v)}),r.visualEffects.forEach(v=>{Co(n,d,h,Qw,v,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const v of r.tutorialState.highlightedEntityIds){const m=r.entities.entities.get(v);m&&Co(n,d,h,Dw,m,nE,um,r.time)}}function Zw(n,r,o,s,u,l){let d=null,h=null;n.textAlign="left";let p=Nt+dr;const m=r.time/(Qt/bt)/Vg%1,y=_o[Ei.Time],_=25,k=Nt+_;n.fillText(y,Nt,p+Bt/2+dr/3),Ti(n,k,p,sr,Bt,m,_i,AA),p+=Bt+Dn;const D=p+Dr/2,O=p+(Dr-Bt)/2,T=5;Ko(n,{x:Nt*2,y:D},Dr,5,o.gender,!1,!1,!1);const F=Nt+Dr+T,C=sr+_-(Dr+T)*2;Ti(n,F,O,C,Bt,Math.floor(o.age)/xo,_i,SA),Ko(n,{x:F+C+T+Dr/2,y:D},Dr,xo,o.gender,!1,!1,!1),p+=Bt+Dn*2;const W=[],x=new Set;if(W.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),x.add(o.id),s&&!x.has(s.id)&&(W.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),x.add(s.id)),u.forEach(_e=>{x.has(_e.id)||(W.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),x.add(_e.id))}),l.forEach(_e=>{x.has(_e.id)||(W.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),x.add(_e.id))}),o.motherId&&!x.has(o.motherId)){const _e=r.entities.entities.get(o.motherId);_e&&(W.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),x.add(_e.id))}if(o.fatherId&&!x.has(o.fatherId)){const _e=r.entities.entities.get(o.fatherId);_e&&(W.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),x.add(_e.id))}const K=_o[Ei.Family],U=10,B=Nt+dr+U,j=sr+_-(dr+U),Se=p+la/2;n.font=`${dr}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(K,Nt,Se);const ze=p+la/2;Nw(n,B,ze,W,la,j),p+=la+Dn,n.textBaseline="alphabetic";const Je=_o[Ei.Hitpoints];n.fillText(Je,Nt,p+Bt/2+dr/3),Ti(n,k,p,sr,Bt,o.hitpoints/o.maxHitpoints,_i,yA),p+=Bt+Dn;const Ue=_o[Ei.Hunger];n.fillText(Ue,Nt,p+Bt/2+dr/3),Ti(n,k,p,sr,Bt,(Jt-o.hunger)/Jt,_i,vA),d={x:Nt,y:p-Dn/2,width:sr+_,height:Bt+Dn},p+=Bt+Dn,n.textBaseline="middle";const Le=_o[Ei.Food];return n.fillText(Le,Nt,p+aa/2),Hw(n,k,p+aa/2,o.food,aa,sr),h={x:Nt,y:p-Dn/5,width:sr+_,height:aa+Dn},n.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function xa(n,r,o,s,u,l=!1){var d;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-s.x,n.canvas.height/2-s.y),!l&&r.gameOver){n.restore(),Mw(n,r);return}if(bw(n,r,o),zw(n,r),n.restore(),!l){n.fillStyle=pA,n.font=`${dr}px "Press Start 2P", Arial`,n.shadowColor=gA,n.shadowBlur=mA;const h=Xt(r);let p=null,v=null;if(h){const y=Ot(r,h),_=Wr(y),k=((d=h.partnerIds)==null?void 0:d.map(O=>r.entities.entities.get(O)).filter(O=>O!==void 0))||[],D=Zw(n,r,h,_,k,y);p=D.hungerBarRect,v=D.foodBarRect}const m=BE(r,h==null?void 0:h.leaderId);if(Ow(n,m,n.canvas.width,n.canvas.height),yw(n,r,n.canvas.width),n.shadowColor="transparent",n.shadowBlur=0,h&&(r.autopilotControls.isActive?xw(n,r,s,n.canvas.width,n.canvas.height):u.length>0&&ww(n,u,h,s,n.canvas.width,n.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:y}=r.tutorialState;y.has(Vo.HUNGER_BAR)&&p&&ug(n,p,r.time),y.has(Vo.FOOD_BAR)&&v&&ug(n,v,r.time)}r.tutorialState.isActive&&Fw(n,r.tutorialState,r.tutorial,n.canvas.width,n.canvas.height),r.isPaused&&Sw(n)}}const qw=En.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,Jw=En.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,e_=En.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,t_=En.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,n_=En.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,gc="intro-soundtrack",fg=()=>{const{setAppState:n}=Ga(),r=Ee.useRef(null),o=Ee.useRef(null),s=Ee.useRef(Z1()),u=Ee.useRef(),l=Ee.useRef(s.current.viewportCenter),d=Ee.useRef();Ee.useEffect(()=>(Zc(Oe.SoundTrack1,{loop:!0,trackId:gc}),()=>{Yp(gc,2)}),[]),Ee.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const y=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,xa(o.current,s.current,!1,l.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),Ee.useEffect(()=>{const m=()=>{const _=Em(s.current);if(_.length>0){const k=Math.floor(Math.random()*_.length);d.current=_[k].id}};m();const y=setInterval(m,lE);return()=>clearInterval(y)},[]);const[h,p]=$g(m=>{if(!o.current)return;if(u.current===void 0){u.current=m;return}const y=Math.min((m-u.current)/1e3,1);s.current=Na(s.current,y);const _=d.current?s.current.entities.entities.get(d.current):void 0;if(_){const{mapDimensions:k}=s.current,{width:D,height:O}=k;let T={..._.position};const F=T.x-l.current.x;Math.abs(F)>D/2&&(F>0?T.x-=D:T.x+=D);const C=T.y-l.current.y;Math.abs(C)>O/2&&(C>0?T.y-=O:T.y+=O);let W=Xc(l.current,T,Gc*y);W={x:(W.x%D+D)%D,y:(W.y%O+O)%O},l.current=W}xa(o.current,s.current,!1,l.current,[],!0),u.current=m});Ee.useEffect(()=>(p(),h),[p,h]);const v=()=>{Yp(gc,2),n("game")};return Fe.jsxs(qw,{children:[Fe.jsx(Jw,{ref:r}),Fe.jsxs(e_,{children:[Fe.jsx(t_,{children:"Tribe"}),Fe.jsx(n_,{onClick:v,children:"Start Game"})]})]})};function r_(){return console.log("Tribe game initialized with detailed 2D world state."),b1()}const hg=()=>{const[n]=Ee.useState(()=>r_());return Fe.jsx(i_,{initialState:n})},i_=({initialState:n})=>{const r=Ee.useRef(null),o=Ee.useRef(null),s=Ee.useRef(n),u=Ee.useRef(),l=Ee.useRef(new Set),d=Ee.useRef(!1),h=Ee.useRef(n.viewportCenter),p=Ee.useRef([]),{appState:v,setAppState:m}=Ga();Ee.useEffect(()=>{const D=r.current;if(!D)return;o.current=D.getContext("2d");const O=()=>{D&&o.current&&(D.width=window.innerWidth,D.height=window.innerHeight,xa(o.current,s.current,d.current,h.current,p.current,!1))};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[y,_,k]=$g(D=>{if(!o.current||!u.current){u.current=D;return}const O=Math.min(D-u.current,1e3)/1e3;s.current=Na(s.current,O);const T=Xt(s.current);if(T?s.current.autopilotControls.isActive?p.current=[]:p.current=mm(s.current,T):p.current=[],T){const{mapDimensions:F}=s.current,{width:C,height:W}=F;let x={...T.position};if(s.current.debugCharacterId){const j=s.current.entities.entities.get(s.current.debugCharacterId);j&&(x={...j.position})}const K=x.x-h.current.x;Math.abs(K)>C/2&&(K>0?x.x-=C:x.x+=C);const U=x.y-h.current.y;Math.abs(U)>W/2&&(U>0?x.y-=W:x.y+=W);let B=Xc(h.current,x,Gc*O);B={x:(B.x%C+C)%C,y:(B.y%W+W)%W},h.current=B}else h.current=s.current.viewportCenter;xa(o.current,s.current,d.current,h.current,p.current,!1),u.current=D,s.current.gameOver&&v!=="gameOver"&&(Zc(Oe.GameOver,{masterVolume:s.current.masterVolume,isMuted:s.current.isMuted}),m("gameOver",{generations:s.current.generationCount,cause:s.current.causeOfGameOver||"Unknown"}))});return Ee.useEffect(()=>(_(),y),[_,y]),Ee.useEffect(()=>{const D=O=>{if(!k()||s.current.gameOver||!r.current||!O.target||O.target!==r.current)return;const T=r.current.getBoundingClientRect(),F=O.clientX-T.left,C=O.clientY-T.top,W={gameState:s.current};let x=!1;if(s.current.uiButtons.forEach(K=>{if(F>=K.rect.x&&F<=K.rect.x+K.rect.width&&C>=K.rect.y&&C<=K.rect.y+K.rect.height){x=!0;const U=Xt(s.current);switch(U&&je(W,Oe.ButtonClick,U.position),K.action){case de.ToggleAutopilot:s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;break;case de.ToggleMute:s.current.isMuted=!s.current.isMuted,Po(s.current.masterVolume,s.current.isMuted);break;case de.TogglePause:s.current.isPaused=!s.current.isPaused;break;case de.FastForward:s.current=Na(s.current,Np);break;case de.ToggleProcreationBehavior:s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation;break;case de.TogglePlantingBehavior:s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting;break;case de.ToggleGatheringBehavior:s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering;break;case de.ToggleAttackBehavior:s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack;break;case de.ToggleCallToAttackBehavior:s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack;break;case de.ToggleFollowMeBehavior:s.current.autopilotControls.behaviors.followMe=!s.current.autopilotControls.behaviors.followMe;break;case de.ToggleFeedChildrenBehavior:s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren;break}}}),!x&&s.current.autopilotControls.isActive&&!s.current.isPaused){const K=Xt(s.current),U=s.current.autopilotControls.hoveredAutopilotAction;if(s.current.autopilotControls.activeAutopilotAction=void 0,K&&U)s.current.autopilotControls.activeAutopilotAction=U;else if(K){const B=bp({x:F,y:C},h.current,{width:r.current.width,height:r.current.height},s.current.mapDimensions);s.current.autopilotControls.activeAutopilotAction={action:pe.AutopilotMove,position:B}}}};return window.addEventListener("mousedown",D),()=>{window.removeEventListener("mousedown",D)}},[k]),Ee.useEffect(()=>{const D=O=>{if(!k()||!r.current)return;const T=r.current.getBoundingClientRect(),F=O.clientX-T.left,C=O.clientY-T.top;if(s.current.mousePosition={x:F,y:C},s.current.autopilotControls.isActive){const x=Xt(s.current);if(!x){s.current.autopilotControls.hoveredAutopilotAction=void 0;return}const K=bp({x:F,y:C},h.current,{width:r.current.width,height:r.current.height},s.current.mapDimensions);let U,B=HE(K,s.current);if(B){if(B.type==="berryBush"&&B.food.length>0)U={action:pe.AutopilotGather,targetEntityId:B.id};else if(B.type==="human"){const j=B;j.id!==x.id&&j.leaderId!==x.leaderId?U={action:pe.AutopilotAttack,targetEntityId:j.id}:j.id!==x.id&&j.gender!==x.gender&&j.isAdult&&x.isAdult&&(j.procreationCooldown||0)<=0&&j.gender==="female"&&j.age<=Un?U={action:pe.AutopilotProcreate,targetEntityId:j.id}:x.food.length>0&&!j.isAdult&&(j.motherId===x.id||j.fatherId===x.id)?U={action:pe.AutopilotFeedChildren,targetEntityId:j.id}:x.leaderId===j.id&&j.id===j.leaderId&&(U={action:pe.AutopilotFollowMe,targetEntityId:j.id})}}else s.current.autopilotControls.behaviors.planting&&x.food.filter(j=>j.type===Ln.Berry).length>=zo&&kc(K,s.current,1,Qa,x.id)?U={action:pe.AutopilotPlant,position:K}:U={action:pe.AutopilotMove,position:K};s.current.autopilotControls.hoveredAutopilotAction=U}else s.current.autopilotControls.hoveredAutopilotAction=void 0;let W;for(let x=s.current.uiButtons.length-1;x>=0;x--){const K=s.current.uiButtons[x];if(F>=K.rect.x&&F<=K.rect.x+K.rect.width&&C>=K.rect.y&&C<=K.rect.y+K.rect.height){W=K.id;break}}s.current.hoveredButtonId=W};return window.addEventListener("mousemove",D),()=>{window.removeEventListener("mousemove",D)}},[k]),Ee.useEffect(()=>{const D=T=>{var x,K,U;if(!k()||s.current.gameOver)return;const F=T.key.toLowerCase();if(F==="escape"){s.current.autopilotControls.activeAutopilotAction=void 0;return}if(F==="m"){s.current.isMuted=!s.current.isMuted,Po(s.current.masterVolume,s.current.isMuted);return}if(F==="="||F==="+"){const B=Math.min(1,s.current.masterVolume+.1);s.current.masterVolume=parseFloat(B.toFixed(1)),Po(s.current.masterVolume,s.current.isMuted);return}if(F==="-"){const B=Math.max(0,s.current.masterVolume-.1);s.current.masterVolume=parseFloat(B.toFixed(1)),Po(s.current.masterVolume,s.current.isMuted);return}if(F==="t"){s.current=Na(s.current,Np);return}if(F===" "||F==="p"){T.preventDefault(),s.current.isPaused=!s.current.isPaused;return}if(F==="o"){s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;return}if(F===""||F==="`"){d.current=!d.current,d.current?s.current.debugCharacterId=((x=Xt(s.current))==null?void 0:x.id)??((U=(K=Em(s.current))==null?void 0:K[0])==null?void 0:U.id):s.current.debugCharacterId=void 0;return}if(F==="tab"){T.preventDefault(),d.current=!0;const B=Array.from(s.current.entities.entities.values()).filter(j=>j.type==="human");if(B.length>0){const j=B.sort((Ue,Le)=>Ue.isPlayer?-1:Ue.id-Le.id),Se=s.current.debugCharacterId,Je=((Se?j.findIndex(Ue=>Ue.id===Se):-1)+1)%j.length;s.current.debugCharacterId=j[Je].id}else s.current.debugCharacterId=void 0;return}const C=Xt(s.current);if(!C)return;const W={gameState:s.current};if(s.current.autopilotControls.isActive){F==="r"?(s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation,je(W,Oe.ButtonClick,C.position)):F==="b"?(s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting,je(W,Oe.ButtonClick,C.position)):F==="g"?(s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering,je(W,Oe.ButtonClick,C.position)):F==="q"?(s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack,je(W,Oe.ButtonClick,C.position)):F==="v"?(s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack,je(W,Oe.ButtonClick,C.position)):F==="c"?(s.current.autopilotControls.behaviors.followMe=!s.current.autopilotControls.behaviors.followMe,je(W,Oe.ButtonClick,C.position)):F==="h"&&(s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren,je(W,Oe.ButtonClick,C.position));return}if(l.current.add(F),F==="e"){const B=ut(C,s.current,"berryBush",ct,ze=>ze.food.length>0&&C.food.length<C.maxFood),j=ut(C,s.current,"humanCorpse",ct,ze=>ze.food.length>0&&C.food.length<C.maxFood);let Se=null;B&&j?Se=ce(C.position,B.position,s.current.mapDimensions.width,s.current.mapDimensions.height)<=ce(C.position,j.position,s.current.mapDimensions.width,s.current.mapDimensions.height)?B:j:Se=B||j,Se&&(C.activeAction="gathering",je(W,Oe.Gather,C.position))}else if(F==="r")ut(C,s.current,"human",ct,j=>{const Se=j;return Se.id!==C.id&&Se.gender!==C.gender&&Se.isAdult&&C.isAdult&&Se.hunger<yt&&C.hunger<yt&&(Se.procreationCooldown||0)<=0&&(C.procreationCooldown||0)<=0&&(Se.gender==="female"?!Se.isPregnant:!C.isPregnant)||!1})&&(C.activeAction="procreating",je(W,Oe.Procreate,C.position));else if(F==="f")C.activeAction="eating",je(W,Oe.Eat,C.position);else if(F==="arrowup"||F==="w")C.direction.y=-1,C.activeAction="moving",C.target=void 0,s.current.hasPlayerMovedEver=!0;else if(F==="arrowdown"||F==="s")C.direction.y=1,C.activeAction="moving",C.target=void 0,s.current.hasPlayerMovedEver=!0;else if(F==="arrowleft"||F==="a")C.direction.x=-1,C.activeAction="moving",C.target=void 0,s.current.hasPlayerMovedEver=!0;else if(F==="arrowright"||F==="d")C.direction.x=1,C.activeAction="moving",C.target=void 0,s.current.hasPlayerMovedEver=!0;else if(F==="q"){const B=ut(C,s.current,"human",Xa,j=>j.id!==C.id&&j.leaderId!==C.leaderId);B&&(C.activeAction="attacking",C.attackTargetId=B.id)}else if(F==="b"){if(p.current.find(j=>j.type===pe.PlantBush)){const j=kc(C.position,s.current,50,Ic);j&&(C.activeAction="planting",C.target=j,s.current.hasPlayerPlantedBush=!0)}}else if(F==="v")p.current.find(j=>j.type===pe.CallToAttack)&&(C.isCallingToAttack=!0,C.callToAttackEndTime=s.current.time+Ua,dt(s.current,Ce.CallToAttack,C.position,Ua),je(W,Oe.CallToAttack,C.position));else if(F==="c")p.current.find(j=>j.type===pe.FollowMe)&&(C.isCallingToFollow=!0,C.callToFollowEndTime=s.current.time+Rc,dt(s.current,Ce.CallToFollow,C.position,Rc),je(W,Oe.CallToFollow,C.position));else if(F==="k")p.current.find(j=>j.type===pe.TribeSplit)&&Am(C,s.current);else return},O=T=>{if(!k()||s.current.gameOver)return;const F=T.key.toLowerCase();l.current.delete(F);const C=Xt(s.current);!C||s.current.autopilotControls.isActive||(F==="arrowup"||F==="w"||F==="arrowdown"||F==="s"?C.direction.y=0:(F==="arrowleft"||F==="a"||F==="arrowright"||F==="d")&&(C.direction.x=0),!l.current.has("arrowup")&&!l.current.has("arrowdown")&&!l.current.has("arrowleft")&&!l.current.has("arrowright")&&!l.current.has("w")&&!l.current.has("a")&&!l.current.has("s")&&!l.current.has("d")&&C&&C.activeAction==="moving"&&(C.activeAction="idle"),!l.current.has("e")&&C.activeAction==="gathering"&&(C.activeAction="idle"),!l.current.has("f")&&C.activeAction==="eating"&&(C.activeAction="idle"),!l.current.has("r")&&C.activeAction==="procreating"&&(C.activeAction="idle"))};return window.addEventListener("keydown",D),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",O)}},[k,v,m,_,y]),Fe.jsx("canvas",{ref:r,style:{display:"block",background:"#2c5234"}})},o_=En.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,s_=En.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Ea=En.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,a_=En.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,l_=()=>{const{setAppState:n,gameOverDetails:r}=Ga(),o=()=>{n("intro")};return Fe.jsxs(o_,{children:[Fe.jsx(s_,{children:"Game Over"}),Fe.jsx(Ea,{children:"Your tribe's lineage has ended."}),r&&Fe.jsxs(Fe.Fragment,{children:[Fe.jsxs(Ea,{children:["Generations Survived: ",r.generations]}),Fe.jsxs(Ea,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Fe.jsx(Ea,{children:"Game details are unavailable."}),Fe.jsx(a_,{onClick:o,children:"Return to Menu"})]})},u_=By`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function c_(n,r){Ee.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Ee.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const d_=()=>{const{appState:n,setAppState:r}=Ga();c_(n,r);const o=()=>{switch(n){case"intro":return Fe.jsx(fg,{});case"game":return Fe.jsx(hg,{});case"gameOver":return Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(hg,{}),Fe.jsx(l_,{})]});default:return Fe.jsx(fg,{})}};return Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(u_,{}),o()]})},pg=document.getElementById("root");pg?IE().then(()=>{U0.createRoot(pg).render(Fe.jsx(Sn.StrictMode,{children:Fe.jsx(L0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Fe.jsx(d_,{})})}))}):console.error("Failed to find the root element");
