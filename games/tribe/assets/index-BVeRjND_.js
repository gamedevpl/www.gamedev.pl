var Nv=Object.defineProperty;var Pv=(t,r,o)=>r in t?Nv(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var de=(t,r,o)=>Pv(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(u){if(u.ep)return;u.ep=!0;const a=o(u);fetch(u.href,a)}})();function Sg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yu={exports:{}},Eo={},Vu={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function kv(){if(np)return Se;np=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function I(E,D,te){this.props=E,this.context=D,this.refs=O,this.updater=te||R}I.prototype.isReactComponent={},I.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},I.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function G(){}G.prototype=I.prototype;function z(E,D,te){this.props=E,this.context=D,this.refs=O,this.updater=te||R}var W=z.prototype=new G;W.constructor=z,k(W,I.prototype),W.isPureReactComponent=!0;var j=Array.isArray,ue=Object.prototype.hasOwnProperty,F={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Re(E,D,te){var q,ve={},oe=null,ge=null;if(D!=null)for(q in D.ref!==void 0&&(ge=D.ref),D.key!==void 0&&(oe=""+D.key),D)ue.call(D,q)&&!$.hasOwnProperty(q)&&(ve[q]=D[q]);var ce=arguments.length-2;if(ce===1)ve.children=te;else if(1<ce){for(var X=Array(ce),ne=0;ne<ce;ne++)X[ne]=arguments[ne+2];ve.children=X}if(E&&E.defaultProps)for(q in ce=E.defaultProps,ce)ve[q]===void 0&&(ve[q]=ce[q]);return{$$typeof:t,type:E,key:oe,ref:ge,props:ve,_owner:F.current}}function Me(E,D){return{$$typeof:t,type:E.type,key:D,ref:E.ref,props:E.props,_owner:E._owner}}function Ve(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function Je(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(te){return D[te]})}var Le=/\/+/g;function Ge(E,D){return typeof E=="object"&&E!==null&&E.key!=null?Je(""+E.key):D.toString(36)}function Ae(E,D,te,q,ve){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(oe){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case t:case r:ge=!0}}if(ge)return ge=E,ve=ve(ge),E=q===""?"."+Ge(ge,0):q,j(ve)?(te="",E!=null&&(te=E.replace(Le,"$&/")+"/"),Ae(ve,D,te,"",function(ne){return ne})):ve!=null&&(Ve(ve)&&(ve=Me(ve,te+(!ve.key||ge&&ge.key===ve.key?"":(""+ve.key).replace(Le,"$&/")+"/")+E)),D.push(ve)),1;if(ge=0,q=q===""?".":q+":",j(E))for(var ce=0;ce<E.length;ce++){oe=E[ce];var X=q+Ge(oe,ce);ge+=Ae(oe,D,te,X,ve)}else if(X=_(E),typeof X=="function")for(E=X.call(E),ce=0;!(oe=E.next()).done;)oe=oe.value,X=q+Ge(oe,ce++),ge+=Ae(oe,D,te,X,ve);else if(oe==="object")throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ge}function Te(E,D,te){if(E==null)return E;var q=[],ve=0;return Ae(E,q,"","",function(oe){return D.call(te,oe,ve++)}),q}function pe(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(te){(E._status===0||E._status===-1)&&(E._status=1,E._result=te)},function(te){(E._status===0||E._status===-1)&&(E._status=2,E._result=te)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var ie={current:null},H={transition:null},V={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:H,ReactCurrentOwner:F};function x(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Te,forEach:function(E,D,te){Te(E,function(){D.apply(this,arguments)},te)},count:function(E){var D=0;return Te(E,function(){D++}),D},toArray:function(E){return Te(E,function(D){return D})||[]},only:function(E){if(!Ve(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Se.Component=I,Se.Fragment=o,Se.Profiler=u,Se.PureComponent=z,Se.StrictMode=s,Se.Suspense=p,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Se.act=x,Se.cloneElement=function(E,D,te){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var q=k({},E.props),ve=E.key,oe=E.ref,ge=E._owner;if(D!=null){if(D.ref!==void 0&&(oe=D.ref,ge=F.current),D.key!==void 0&&(ve=""+D.key),E.type&&E.type.defaultProps)var ce=E.type.defaultProps;for(X in D)ue.call(D,X)&&!$.hasOwnProperty(X)&&(q[X]=D[X]===void 0&&ce!==void 0?ce[X]:D[X])}var X=arguments.length-2;if(X===1)q.children=te;else if(1<X){ce=Array(X);for(var ne=0;ne<X;ne++)ce[ne]=arguments[ne+2];q.children=ce}return{$$typeof:t,type:E.type,key:ve,ref:oe,props:q,_owner:ge}},Se.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:a,_context:E},E.Consumer=E},Se.createElement=Re,Se.createFactory=function(E){var D=Re.bind(null,E);return D.type=E,D},Se.createRef=function(){return{current:null}},Se.forwardRef=function(E){return{$$typeof:h,render:E}},Se.isValidElement=Ve,Se.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:pe}},Se.memo=function(E,D){return{$$typeof:v,type:E,compare:D===void 0?null:D}},Se.startTransition=function(E){var D=H.transition;H.transition={};try{E()}finally{H.transition=D}},Se.unstable_act=x,Se.useCallback=function(E,D){return ie.current.useCallback(E,D)},Se.useContext=function(E){return ie.current.useContext(E)},Se.useDebugValue=function(){},Se.useDeferredValue=function(E){return ie.current.useDeferredValue(E)},Se.useEffect=function(E,D){return ie.current.useEffect(E,D)},Se.useId=function(){return ie.current.useId()},Se.useImperativeHandle=function(E,D,te){return ie.current.useImperativeHandle(E,D,te)},Se.useInsertionEffect=function(E,D){return ie.current.useInsertionEffect(E,D)},Se.useLayoutEffect=function(E,D){return ie.current.useLayoutEffect(E,D)},Se.useMemo=function(E,D){return ie.current.useMemo(E,D)},Se.useReducer=function(E,D,te){return ie.current.useReducer(E,D,te)},Se.useRef=function(E){return ie.current.useRef(E)},Se.useState=function(E){return ie.current.useState(E)},Se.useSyncExternalStore=function(E,D,te){return ie.current.useSyncExternalStore(E,D,te)},Se.useTransition=function(){return ie.current.useTransition()},Se.version="18.3.1",Se}var rp;function Uc(){return rp||(rp=1,Vu.exports=kv()),Vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function Ov(){if(ip)return Eo;ip=1;var t=Uc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,v){var m,y={},_=null,R=null;v!==void 0&&(_=""+v),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(R=p.ref);for(m in p)s.call(p,m)&&!a.hasOwnProperty(m)&&(y[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)y[m]===void 0&&(y[m]=p[m]);return{$$typeof:r,type:h,key:_,ref:R,props:y,_owner:u.current}}return Eo.Fragment=o,Eo.jsx=d,Eo.jsxs=d,Eo}var op;function Dv(){return op||(op=1,Yu.exports=Ov()),Yu.exports}var we=Dv(),ye=Uc();const An=Sg(ye);var ol={},Ku={exports:{}},kt={},Xu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Mv(){return sp||(sp=1,function(t){function r(H,V){var x=H.length;H.push(V);e:for(;0<x;){var E=x-1>>>1,D=H[E];if(0<u(D,V))H[E]=V,H[x]=D,x=E;else break e}}function o(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var V=H[0],x=H.pop();if(x!==V){H[0]=x;e:for(var E=0,D=H.length,te=D>>>1;E<te;){var q=2*(E+1)-1,ve=H[q],oe=q+1,ge=H[oe];if(0>u(ve,x))oe<D&&0>u(ge,ve)?(H[E]=ge,H[oe]=x,E=oe):(H[E]=ve,H[q]=x,E=q);else if(oe<D&&0>u(ge,x))H[E]=ge,H[oe]=x,E=oe;else break e}}return V}function u(H,V){var x=H.sortIndex-V.sortIndex;return x!==0?x:H.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],v=[],m=1,y=null,_=3,R=!1,k=!1,O=!1,I=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(H){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=H)s(v),V.sortIndex=V.expirationTime,r(p,V);else break;V=o(v)}}function j(H){if(O=!1,W(H),!k)if(o(p)!==null)k=!0,pe(ue);else{var V=o(v);V!==null&&ie(j,V.startTime-H)}}function ue(H,V){k=!1,O&&(O=!1,G(Re),Re=-1),R=!0;var x=_;try{for(W(V),y=o(p);y!==null&&(!(y.expirationTime>V)||H&&!Je());){var E=y.callback;if(typeof E=="function"){y.callback=null,_=y.priorityLevel;var D=E(y.expirationTime<=V);V=t.unstable_now(),typeof D=="function"?y.callback=D:y===o(p)&&s(p),W(V)}else s(p);y=o(p)}if(y!==null)var te=!0;else{var q=o(v);q!==null&&ie(j,q.startTime-V),te=!1}return te}finally{y=null,_=x,R=!1}}var F=!1,$=null,Re=-1,Me=5,Ve=-1;function Je(){return!(t.unstable_now()-Ve<Me)}function Le(){if($!==null){var H=t.unstable_now();Ve=H;var V=!0;try{V=$(!0,H)}finally{V?Ge():(F=!1,$=null)}}else F=!1}var Ge;if(typeof z=="function")Ge=function(){z(Le)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Te=Ae.port2;Ae.port1.onmessage=Le,Ge=function(){Te.postMessage(null)}}else Ge=function(){I(Le,0)};function pe(H){$=H,F||(F=!0,Ge())}function ie(H,V){Re=I(function(){H(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,pe(ue))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var V=3;break;default:V=_}var x=_;_=V;try{return H()}finally{_=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var x=_;_=H;try{return V()}finally{_=x}},t.unstable_scheduleCallback=function(H,V,x){var E=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?E+x:E):x=E,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=x+D,H={id:m++,callback:V,priorityLevel:H,startTime:x,expirationTime:D,sortIndex:-1},x>E?(H.sortIndex=x,r(v,H),o(p)===null&&H===o(v)&&(O?(G(Re),Re=-1):O=!0,ie(j,x-E))):(H.sortIndex=D,r(p,H),k||R||(k=!0,pe(ue))),H},t.unstable_shouldYield=Je,t.unstable_wrapCallback=function(H){var V=_;return function(){var x=_;_=V;try{return H.apply(this,arguments)}finally{_=x}}}}(Qu)),Qu}var lp;function Uv(){return lp||(lp=1,Xu.exports=Mv()),Xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function Fv(){if(ap)return kt;ap=1;var t=Uc(),r=Uv();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function a(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(u[e]=n,e=0;e<n.length;e++)s.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(e){return p.call(y,e)?!0:p.call(m,e)?!1:v.test(e)?y[e]=!0:(m[e]=!0,!1)}function R(e,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,i,l){if(n===null||typeof n>"u"||R(e,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,i,l,c,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];I[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){I[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(G,z);I[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(G,z);I[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(G,z);I[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),I.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){I[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function W(e,n,i,l){var c=I.hasOwnProperty(n)?I[n]:null;(c!==null?c.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,i,c,l)&&(i=null),l||c===null?_(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,l=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,l?e.setAttributeNS(l,n,i):e.setAttribute(n,i))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Me=Symbol.for("react.profiler"),Ve=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),H=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var x=Object.assign,E;function D(e){if(E===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var te=!1;function q(e,n){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var l=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){l=P}e.call(n.prototype)}else{try{throw Error()}catch(P){l=P}e()}}catch(P){if(P&&l&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),f=l.stack.split(`
`),g=c.length-1,S=f.length-1;1<=g&&0<=S&&c[g]!==f[S];)S--;for(;1<=g&&0<=S;g--,S--)if(c[g]!==f[S]){if(g!==1||S!==1)do if(g--,S--,0>S||c[g]!==f[S]){var A=`
`+c[g].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=g&&0<=S);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function ve(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1),e;case 11:return e=q(e.type.render,!1),e;case 1:return e=q(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case F:return"Portal";case Me:return"Profiler";case Re:return"StrictMode";case Ge:return"Suspense";case Ae:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case Ve:return(e._context.displayName||"Context")+".Provider";case Le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===Re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(e){var n=X(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ne(e){e._valueTracker||(e._valueTracker=ne(e))}function ae(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=X(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function En(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mt(e,n){var i=n.checked;return x({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=ce(n.value!=null?n.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function yr(e,n){n=n.checked,n!=null&&W(e,"checked",n,!1)}function In(e,n){yr(e,n);var i=ce(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?jr(e,n.type,i):n.hasOwnProperty("defaultValue")&&jr(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Hn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function jr(e,n,i){(n!=="number"||En(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var xn=Array.isArray;function Gn(e,n,i,l){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Sr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return x({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dd(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(xn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ce(i)}}function fd(e,n){var i=ce(n.value),l=ce(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function hd(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,l,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Hi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dm=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){Dm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),xi[n]=xi[e]})});function md(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||xi.hasOwnProperty(e)&&xi[e]?(""+n).trim():n+"px"}function vd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,c=md(i,n[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,c):e[i]=c}}var Mm=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(e,n){if(n){if(Mm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function ia(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=null;function sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,Yr=null,Vr=null;function yd(e){if(e=lo(e)){if(typeof la!="function")throw Error(o(280));var n=e.stateNode;n&&(n=As(n),la(e.stateNode,e.type,n))}}function Sd(e){Yr?Vr?Vr.push(e):Vr=[e]:Yr=e}function Ad(){if(Yr){var e=Yr,n=Vr;if(Vr=Yr=null,yd(e),n)for(e=0;e<n.length;e++)yd(n[e])}}function _d(e,n){return e(n)}function wd(){}var aa=!1;function Ed(e,n,i){if(aa)return e(n,i);aa=!0;try{return _d(e,n,i)}finally{aa=!1,(Yr!==null||Vr!==null)&&(wd(),Ad())}}function Gi(e,n){var i=e.stateNode;if(i===null)return null;var l=As(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var ua=!1;if(h)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){ua=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{ua=!1}function Um(e,n,i,l,c,f,g,S,A){var P=Array.prototype.slice.call(arguments,3);try{n.apply(i,P)}catch(U){this.onError(U)}}var Wi=!1,qo=null,Jo=!1,ca=null,Fm={onError:function(e){Wi=!0,qo=e}};function Lm(e,n,i,l,c,f,g,S,A){Wi=!1,qo=null,Um.apply(Fm,arguments)}function Bm(e,n,i,l,c,f,g,S,A){if(Lm.apply(this,arguments),Wi){if(Wi){var P=qo;Wi=!1,qo=null}else throw Error(o(198));Jo||(Jo=!0,ca=P)}}function Ar(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Id(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Td(e){if(Ar(e)!==e)throw Error(o(188))}function Hm(e){var n=e.alternate;if(!n){if(n=Ar(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,l=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return Td(c),e;if(f===l)return Td(c),n;f=f.sibling}throw Error(o(188))}if(i.return!==l.return)i=c,l=f;else{for(var g=!1,S=c.child;S;){if(S===i){g=!0,i=c,l=f;break}if(S===l){g=!0,l=c,i=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===i){g=!0,i=f,l=c;break}if(S===l){g=!0,l=f,i=c;break}S=S.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Cd(e){return e=Hm(e),e!==null?Rd(e):null}function Rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Rd(e);if(n!==null)return n;e=e.sibling}return null}var Nd=r.unstable_scheduleCallback,Pd=r.unstable_cancelCallback,xm=r.unstable_shouldYield,Gm=r.unstable_requestPaint,Ke=r.unstable_now,zm=r.unstable_getCurrentPriorityLevel,da=r.unstable_ImmediatePriority,kd=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,Wm=r.unstable_LowPriority,Od=r.unstable_IdlePriority,ts=null,hn=null;function $m(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ts,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Vm,jm=Math.log,Ym=Math.LN2;function Vm(e){return e>>>=0,e===0?32:31-(jm(e)/Ym|0)|0}var ns=64,rs=4194304;function $i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function is(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var S=g&~c;S!==0?l=$i(S):(f&=g,f!==0&&(l=$i(f)))}else g=i&~c,g!==0?l=$i(g):f!==0&&(l=$i(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&c)===0&&(c=l&-l,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-nn(n),c=1<<i,l|=e[i],n&=~c;return l}function Km(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-nn(f),S=1<<g,A=c[g];A===-1?((S&i)===0||(S&l)!==0)&&(c[g]=Km(S,n)):A<=n&&(e.expiredLanes|=S),f&=~S}}function fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dd(){var e=ns;return ns<<=1,(ns&4194240)===0&&(ns=64),e}function ha(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function ji(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-nn(n),e[n]=i}function Qm(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-nn(i),f=1<<c;n[c]=0,l[c]=-1,e[c]=-1,i&=~f}}function pa(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-nn(i),c=1<<l;c&n|e[l]&n&&(e[l]|=n),i&=~c}}var Oe=0;function Md(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ud,ga,Fd,Ld,Bd,ma=!1,os=[],zn=null,Wn=null,$n=null,Yi=new Map,Vi=new Map,jn=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(e,n){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Yi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(n.pointerId)}}function Ki(e,n,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=lo(n),n!==null&&ga(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Zm(e,n,i,l,c){switch(n){case"focusin":return zn=Ki(zn,e,n,i,l,c),!0;case"dragenter":return Wn=Ki(Wn,e,n,i,l,c),!0;case"mouseover":return $n=Ki($n,e,n,i,l,c),!0;case"pointerover":var f=c.pointerId;return Yi.set(f,Ki(Yi.get(f)||null,e,n,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vi.set(f,Ki(Vi.get(f)||null,e,n,i,l,c)),!0}return!1}function xd(e){var n=_r(e.target);if(n!==null){var i=Ar(n);if(i!==null){if(n=i.tag,n===13){if(n=Id(i),n!==null){e.blockedOn=n,Bd(e.priority,function(){Fd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ss(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ya(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);oa=l,i.target.dispatchEvent(l),oa=null}else return n=lo(i),n!==null&&ga(n),e.blockedOn=i,!1;n.shift()}return!0}function Gd(e,n,i){ss(e)&&i.delete(n)}function qm(){ma=!1,zn!==null&&ss(zn)&&(zn=null),Wn!==null&&ss(Wn)&&(Wn=null),$n!==null&&ss($n)&&($n=null),Yi.forEach(Gd),Vi.forEach(Gd)}function Xi(e,n){e.blockedOn===n&&(e.blockedOn=null,ma||(ma=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qm)))}function Qi(e){function n(c){return Xi(c,e)}if(0<os.length){Xi(os[0],e);for(var i=1;i<os.length;i++){var l=os[i];l.blockedOn===e&&(l.blockedOn=null)}}for(zn!==null&&Xi(zn,e),Wn!==null&&Xi(Wn,e),$n!==null&&Xi($n,e),Yi.forEach(n),Vi.forEach(n),i=0;i<jn.length;i++)l=jn[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<jn.length&&(i=jn[0],i.blockedOn===null);)xd(i),i.blockedOn===null&&jn.shift()}var Kr=j.ReactCurrentBatchConfig,ls=!0;function Jm(e,n,i,l){var c=Oe,f=Kr.transition;Kr.transition=null;try{Oe=1,va(e,n,i,l)}finally{Oe=c,Kr.transition=f}}function e0(e,n,i,l){var c=Oe,f=Kr.transition;Kr.transition=null;try{Oe=4,va(e,n,i,l)}finally{Oe=c,Kr.transition=f}}function va(e,n,i,l){if(ls){var c=ya(e,n,i,l);if(c===null)Fa(e,n,l,as,i),Hd(e,l);else if(Zm(c,e,n,i,l))l.stopPropagation();else if(Hd(e,l),n&4&&-1<bm.indexOf(e)){for(;c!==null;){var f=lo(c);if(f!==null&&Ud(f),f=ya(e,n,i,l),f===null&&Fa(e,n,l,as,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else Fa(e,n,l,null,i)}}var as=null;function ya(e,n,i,l){if(as=null,e=sa(l),e=_r(e),e!==null)if(n=Ar(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Id(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return as=e,null}function zd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zm()){case da:return 1;case kd:return 4;case es:case Wm:return 16;case Od:return 536870912;default:return 16}default:return 16}}var Yn=null,Sa=null,us=null;function Wd(){if(us)return us;var e,n=Sa,i=n.length,l,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(l=1;l<=g&&n[i-l]===c[f-l];l++);return us=c.slice(e,1<l?1-l:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function $d(){return!1}function Ut(e){function n(i,l,c,f,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ds:$d,this.isPropagationStopped=$d,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),n}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Ut(Xr),bi=x({},Xr,{view:0,detail:0}),t0=Ut(bi),_a,wa,Zi,fs=x({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(_a=e.screenX-Zi.screenX,wa=e.screenY-Zi.screenY):wa=_a=0,Zi=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),jd=Ut(fs),n0=x({},fs,{dataTransfer:0}),r0=Ut(n0),i0=x({},bi,{relatedTarget:0}),Ea=Ut(i0),o0=x({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=Ut(o0),l0=x({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a0=Ut(l0),u0=x({},Xr,{data:0}),Yd=Ut(u0),c0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=f0[e])?!!n[e]:!1}function Ia(){return h0}var p0=x({},bi,{key:function(e){if(e.key){var n=c0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g0=Ut(p0),m0=x({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=Ut(m0),v0=x({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),y0=Ut(v0),S0=x({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A0=Ut(S0),_0=x({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w0=Ut(_0),E0=[9,13,27,32],Ta=h&&"CompositionEvent"in window,qi=null;h&&"documentMode"in document&&(qi=document.documentMode);var I0=h&&"TextEvent"in window&&!qi,Kd=h&&(!Ta||qi&&8<qi&&11>=qi),Xd=" ",Qd=!1;function bd(e,n){switch(e){case"keyup":return E0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function T0(e,n){switch(e){case"compositionend":return Zd(n);case"keypress":return n.which!==32?null:(Qd=!0,Xd);case"textInput":return e=n.data,e===Xd&&Qd?null:e;default:return null}}function C0(e,n){if(Qr)return e==="compositionend"||!Ta&&bd(e,n)?(e=Wd(),us=Sa=Yn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kd&&n.locale!=="ko"?null:n.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!R0[e.type]:n==="textarea"}function Jd(e,n,i,l){Sd(l),n=vs(n,"onChange"),0<n.length&&(i=new Aa("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var Ji=null,eo=null;function N0(e){yf(e,0)}function hs(e){var n=ei(e);if(ae(n))return e}function P0(e,n){if(e==="change")return n}var ef=!1;if(h){var Ca;if(h){var Ra="oninput"in document;if(!Ra){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Ra=typeof tf.oninput=="function"}Ca=Ra}else Ca=!1;ef=Ca&&(!document.documentMode||9<document.documentMode)}function nf(){Ji&&(Ji.detachEvent("onpropertychange",rf),eo=Ji=null)}function rf(e){if(e.propertyName==="value"&&hs(eo)){var n=[];Jd(n,eo,e,sa(e)),Ed(N0,n)}}function k0(e,n,i){e==="focusin"?(nf(),Ji=n,eo=i,Ji.attachEvent("onpropertychange",rf)):e==="focusout"&&nf()}function O0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(eo)}function D0(e,n){if(e==="click")return hs(n)}function M0(e,n){if(e==="input"||e==="change")return hs(n)}function U0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rn=typeof Object.is=="function"?Object.is:U0;function to(e,n){if(rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!p.call(n,c)||!rn(e[c],n[c]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,n){var i=of(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=of(i)}}function lf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function af(){for(var e=window,n=En();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=En(e.document)}return n}function Na(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function F0(e){var n=af(),i=e.focusedElem,l=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&lf(i.ownerDocument.documentElement,i)){if(l!==null&&Na(i)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!e.extend&&f>l&&(c=l,l=f,f=c),c=sf(i,f);var g=sf(i,l);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L0=h&&"documentMode"in document&&11>=document.documentMode,br=null,Pa=null,no=null,ka=!1;function uf(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ka||br==null||br!==En(l)||(l=br,"selectionStart"in l&&Na(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&to(no,l)||(no=l,l=vs(Pa,"onSelect"),0<l.length&&(n=new Aa("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=br)))}function ps(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Zr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},Oa={},cf={};h&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function gs(e){if(Oa[e])return Oa[e];if(!Zr[e])return e;var n=Zr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in cf)return Oa[e]=n[i];return e}var df=gs("animationend"),ff=gs("animationiteration"),hf=gs("animationstart"),pf=gs("transitionend"),gf=new Map,mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,n){gf.set(e,n),a(n,[e])}for(var Da=0;Da<mf.length;Da++){var Ma=mf[Da],B0=Ma.toLowerCase(),H0=Ma[0].toUpperCase()+Ma.slice(1);Vn(B0,"on"+H0)}Vn(df,"onAnimationEnd"),Vn(ff,"onAnimationIteration"),Vn(hf,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(pf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function vf(e,n,i){var l=e.type||"unknown-event";e.currentTarget=i,Bm(l,n,void 0,e),e.currentTarget=null}function yf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var S=l[g],A=S.instance,P=S.currentTarget;if(S=S.listener,A!==f&&c.isPropagationStopped())break e;vf(c,S,P),f=A}else for(g=0;g<l.length;g++){if(S=l[g],A=S.instance,P=S.currentTarget,S=S.listener,A!==f&&c.isPropagationStopped())break e;vf(c,S,P),f=A}}}if(Jo)throw e=ca,Jo=!1,ca=null,e}function Be(e,n){var i=n[za];i===void 0&&(i=n[za]=new Set);var l=e+"__bubble";i.has(l)||(Sf(n,e,2,!1),i.add(l))}function Ua(e,n,i){var l=0;n&&(l|=4),Sf(i,e,l,n)}var ms="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[ms]){e[ms]=!0,s.forEach(function(i){i!=="selectionchange"&&(x0.has(i)||Ua(i,!1,e),Ua(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ms]||(n[ms]=!0,Ua("selectionchange",!1,n))}}function Sf(e,n,i,l){switch(zd(n)){case 1:var c=Jm;break;case 4:c=e0;break;default:c=va}i=c.bind(null,n,i,e),c=void 0,!ua||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Fa(e,n,i,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(g===4)for(g=l.return;g!==null;){var A=g.tag;if((A===3||A===4)&&(A=g.stateNode.containerInfo,A===c||A.nodeType===8&&A.parentNode===c))return;g=g.return}for(;S!==null;){if(g=_r(S),g===null)return;if(A=g.tag,A===5||A===6){l=f=g;continue e}S=S.parentNode}}l=l.return}Ed(function(){var P=f,U=sa(i),L=[];e:{var M=gf.get(e);if(M!==void 0){var Y=Aa,Q=e;switch(e){case"keypress":if(cs(i)===0)break e;case"keydown":case"keyup":Y=g0;break;case"focusin":Q="focus",Y=Ea;break;case"focusout":Q="blur",Y=Ea;break;case"beforeblur":case"afterblur":Y=Ea;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y0;break;case df:case ff:case hf:Y=s0;break;case pf:Y=A0;break;case"scroll":Y=t0;break;case"wheel":Y=w0;break;case"copy":case"cut":case"paste":Y=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Vd}var b=(n&4)!==0,Xe=!b&&e==="scroll",T=b?M!==null?M+"Capture":null:M;b=[];for(var w=P,C;w!==null;){C=w;var B=C.stateNode;if(C.tag===5&&B!==null&&(C=B,T!==null&&(B=Gi(w,T),B!=null&&b.push(oo(w,B,C)))),Xe)break;w=w.return}0<b.length&&(M=new Y(M,Q,null,i,U),L.push({event:M,listeners:b}))}}if((n&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",M&&i!==oa&&(Q=i.relatedTarget||i.fromElement)&&(_r(Q)||Q[Tn]))break e;if((Y||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,Y?(Q=i.relatedTarget||i.toElement,Y=P,Q=Q?_r(Q):null,Q!==null&&(Xe=Ar(Q),Q!==Xe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(b=jd,B="onMouseLeave",T="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(b=Vd,B="onPointerLeave",T="onPointerEnter",w="pointer"),Xe=Y==null?M:ei(Y),C=Q==null?M:ei(Q),M=new b(B,w+"leave",Y,i,U),M.target=Xe,M.relatedTarget=C,B=null,_r(U)===P&&(b=new b(T,w+"enter",Q,i,U),b.target=C,b.relatedTarget=Xe,B=b),Xe=B,Y&&Q)t:{for(b=Y,T=Q,w=0,C=b;C;C=qr(C))w++;for(C=0,B=T;B;B=qr(B))C++;for(;0<w-C;)b=qr(b),w--;for(;0<C-w;)T=qr(T),C--;for(;w--;){if(b===T||T!==null&&b===T.alternate)break t;b=qr(b),T=qr(T)}b=null}else b=null;Y!==null&&Af(L,M,Y,b,!1),Q!==null&&Xe!==null&&Af(L,Xe,Q,b,!0)}}e:{if(M=P?ei(P):window,Y=M.nodeName&&M.nodeName.toLowerCase(),Y==="select"||Y==="input"&&M.type==="file")var Z=P0;else if(qd(M))if(ef)Z=M0;else{Z=O0;var J=k0}else(Y=M.nodeName)&&Y.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(Z=D0);if(Z&&(Z=Z(e,P))){Jd(L,Z,i,U);break e}J&&J(e,M,P),e==="focusout"&&(J=M._wrapperState)&&J.controlled&&M.type==="number"&&jr(M,"number",M.value)}switch(J=P?ei(P):window,e){case"focusin":(qd(J)||J.contentEditable==="true")&&(br=J,Pa=P,no=null);break;case"focusout":no=Pa=br=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,uf(L,i,U);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":uf(L,i,U)}var ee;if(Ta)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Qr?bd(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(Kd&&i.locale!=="ko"&&(Qr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Qr&&(ee=Wd()):(Yn=U,Sa="value"in Yn?Yn.value:Yn.textContent,Qr=!0)),J=vs(P,se),0<J.length&&(se=new Yd(se,e,null,i,U),L.push({event:se,listeners:J}),ee?se.data=ee:(ee=Zd(i),ee!==null&&(se.data=ee)))),(ee=I0?T0(e,i):C0(e,i))&&(P=vs(P,"onBeforeInput"),0<P.length&&(U=new Yd("onBeforeInput","beforeinput",null,i,U),L.push({event:U,listeners:P}),U.data=ee))}yf(L,n)})}function oo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function vs(e,n){for(var i=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Gi(e,i),f!=null&&l.unshift(oo(e,f,c)),f=Gi(e,n),f!=null&&l.push(oo(e,f,c))),e=e.return}return l}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Af(e,n,i,l,c){for(var f=n._reactName,g=[];i!==null&&i!==l;){var S=i,A=S.alternate,P=S.stateNode;if(A!==null&&A===l)break;S.tag===5&&P!==null&&(S=P,c?(A=Gi(i,f),A!=null&&g.unshift(oo(i,A,S))):c||(A=Gi(i,f),A!=null&&g.push(oo(i,A,S)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var G0=/\r\n?/g,z0=/\u0000|\uFFFD/g;function _f(e){return(typeof e=="string"?e:""+e).replace(G0,`
`).replace(z0,"")}function ys(e,n,i){if(n=_f(n),_f(e)!==n&&i)throw Error(o(425))}function Ss(){}var La=null,Ba=null;function Ha(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,W0=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(e){return wf.resolve(null).then(e).catch(j0)}:xa;function j0(e){setTimeout(function(){throw e})}function Ga(e,n){var i=n,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(l===0){e.removeChild(c),Qi(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=c}while(i);Qi(n)}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ef(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),pn="__reactFiber$"+Jr,so="__reactProps$"+Jr,Tn="__reactContainer$"+Jr,za="__reactEvents$"+Jr,Y0="__reactListeners$"+Jr,V0="__reactHandles$"+Jr;function _r(e){var n=e[pn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Tn]||i[pn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Ef(e);e!==null;){if(i=e[pn])return i;e=Ef(e)}return n}e=i,i=e.parentNode}return null}function lo(e){return e=e[pn]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function As(e){return e[so]||null}var Wa=[],ti=-1;function Xn(e){return{current:e}}function He(e){0>ti||(e.current=Wa[ti],Wa[ti]=null,ti--)}function Ue(e,n){ti++,Wa[ti]=e.current,e.current=n}var Qn={},ht=Xn(Qn),Tt=Xn(!1),wr=Qn;function ni(e,n){var i=e.type.contextTypes;if(!i)return Qn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function Ct(e){return e=e.childContextTypes,e!=null}function _s(){He(Tt),He(ht)}function If(e,n,i){if(ht.current!==Qn)throw Error(o(168));Ue(ht,n),Ue(Tt,i)}function Tf(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var c in l)if(!(c in n))throw Error(o(108,ge(e)||"Unknown",c));return x({},i,l)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,wr=ht.current,Ue(ht,e),Ue(Tt,Tt.current),!0}function Cf(e,n,i){var l=e.stateNode;if(!l)throw Error(o(169));i?(e=Tf(e,n,wr),l.__reactInternalMemoizedMergedChildContext=e,He(Tt),He(ht),Ue(ht,e)):He(Tt),Ue(Tt,i)}var Cn=null,Es=!1,$a=!1;function Rf(e){Cn===null?Cn=[e]:Cn.push(e)}function K0(e){Es=!0,Rf(e)}function bn(){if(!$a&&Cn!==null){$a=!0;var e=0,n=Oe;try{var i=Cn;for(Oe=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Cn=null,Es=!1}catch(c){throw Cn!==null&&(Cn=Cn.slice(e+1)),Nd(da,bn),c}finally{Oe=n,$a=!1}}return null}var ri=[],ii=0,Is=null,Ts=0,Wt=[],$t=0,Er=null,Rn=1,Nn="";function Ir(e,n){ri[ii++]=Ts,ri[ii++]=Is,Is=e,Ts=n}function Nf(e,n,i){Wt[$t++]=Rn,Wt[$t++]=Nn,Wt[$t++]=Er,Er=e;var l=Rn;e=Nn;var c=32-nn(l)-1;l&=~(1<<c),i+=1;var f=32-nn(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Rn=1<<32-nn(n)+c|i<<c|l,Nn=f+e}else Rn=1<<f|i<<c|l,Nn=e}function ja(e){e.return!==null&&(Ir(e,1),Nf(e,1,0))}function Ya(e){for(;e===Is;)Is=ri[--ii],ri[ii]=null,Ts=ri[--ii],ri[ii]=null;for(;e===Er;)Er=Wt[--$t],Wt[$t]=null,Nn=Wt[--$t],Wt[$t]=null,Rn=Wt[--$t],Wt[$t]=null}var Ft=null,Lt=null,ze=!1,on=null;function Pf(e,n){var i=Kt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function kf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ft=e,Lt=Kn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ft=e,Lt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Er!==null?{id:Rn,overflow:Nn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Kt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Ft=e,Lt=null,!0):!1;default:return!1}}function Va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ka(e){if(ze){var n=Lt;if(n){var i=n;if(!kf(e,n)){if(Va(e))throw Error(o(418));n=Kn(i.nextSibling);var l=Ft;n&&kf(e,n)?Pf(l,i):(e.flags=e.flags&-4097|2,ze=!1,Ft=e)}}else{if(Va(e))throw Error(o(418));e.flags=e.flags&-4097|2,ze=!1,Ft=e}}}function Of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function Cs(e){if(e!==Ft)return!1;if(!ze)return Of(e),ze=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ha(e.type,e.memoizedProps)),n&&(n=Lt)){if(Va(e))throw Df(),Error(o(418));for(;n;)Pf(e,n),n=Kn(n.nextSibling)}if(Of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Lt=Kn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Lt=null}}else Lt=Ft?Kn(e.stateNode.nextSibling):null;return!0}function Df(){for(var e=Lt;e;)e=Kn(e.nextSibling)}function oi(){Lt=Ft=null,ze=!1}function Xa(e){on===null?on=[e]:on.push(e)}var X0=j.ReactCurrentBatchConfig;function ao(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var l=i.stateNode}if(!l)throw Error(o(147,e));var c=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var S=c.refs;g===null?delete S[f]:S[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Rs(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Mf(e){var n=e._init;return n(e._payload)}function Uf(e){function n(T,w){if(e){var C=T.deletions;C===null?(T.deletions=[w],T.flags|=16):C.push(w)}}function i(T,w){if(!e)return null;for(;w!==null;)n(T,w),w=w.sibling;return null}function l(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(T,w){return T=ir(T,w),T.index=0,T.sibling=null,T}function f(T,w,C){return T.index=C,e?(C=T.alternate,C!==null?(C=C.index,C<w?(T.flags|=2,w):C):(T.flags|=2,w)):(T.flags|=1048576,w)}function g(T){return e&&T.alternate===null&&(T.flags|=2),T}function S(T,w,C,B){return w===null||w.tag!==6?(w=xu(C,T.mode,B),w.return=T,w):(w=c(w,C),w.return=T,w)}function A(T,w,C,B){var Z=C.type;return Z===$?U(T,w,C.props.children,B,C.key):w!==null&&(w.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&Mf(Z)===w.type)?(B=c(w,C.props),B.ref=ao(T,w,C),B.return=T,B):(B=Zs(C.type,C.key,C.props,null,T.mode,B),B.ref=ao(T,w,C),B.return=T,B)}function P(T,w,C,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Gu(C,T.mode,B),w.return=T,w):(w=c(w,C.children||[]),w.return=T,w)}function U(T,w,C,B,Z){return w===null||w.tag!==7?(w=Dr(C,T.mode,B,Z),w.return=T,w):(w=c(w,C),w.return=T,w)}function L(T,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xu(""+w,T.mode,C),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ue:return C=Zs(w.type,w.key,w.props,null,T.mode,C),C.ref=ao(T,null,w),C.return=T,C;case F:return w=Gu(w,T.mode,C),w.return=T,w;case pe:var B=w._init;return L(T,B(w._payload),C)}if(xn(w)||V(w))return w=Dr(w,T.mode,C,null),w.return=T,w;Rs(T,w)}return null}function M(T,w,C,B){var Z=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Z!==null?null:S(T,w,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ue:return C.key===Z?A(T,w,C,B):null;case F:return C.key===Z?P(T,w,C,B):null;case pe:return Z=C._init,M(T,w,Z(C._payload),B)}if(xn(C)||V(C))return Z!==null?null:U(T,w,C,B,null);Rs(T,C)}return null}function Y(T,w,C,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return T=T.get(C)||null,S(w,T,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ue:return T=T.get(B.key===null?C:B.key)||null,A(w,T,B,Z);case F:return T=T.get(B.key===null?C:B.key)||null,P(w,T,B,Z);case pe:var J=B._init;return Y(T,w,C,J(B._payload),Z)}if(xn(B)||V(B))return T=T.get(C)||null,U(w,T,B,Z,null);Rs(w,B)}return null}function Q(T,w,C,B){for(var Z=null,J=null,ee=w,se=w=0,st=null;ee!==null&&se<C.length;se++){ee.index>se?(st=ee,ee=null):st=ee.sibling;var Ce=M(T,ee,C[se],B);if(Ce===null){ee===null&&(ee=st);break}e&&ee&&Ce.alternate===null&&n(T,ee),w=f(Ce,w,se),J===null?Z=Ce:J.sibling=Ce,J=Ce,ee=st}if(se===C.length)return i(T,ee),ze&&Ir(T,se),Z;if(ee===null){for(;se<C.length;se++)ee=L(T,C[se],B),ee!==null&&(w=f(ee,w,se),J===null?Z=ee:J.sibling=ee,J=ee);return ze&&Ir(T,se),Z}for(ee=l(T,ee);se<C.length;se++)st=Y(ee,T,se,C[se],B),st!==null&&(e&&st.alternate!==null&&ee.delete(st.key===null?se:st.key),w=f(st,w,se),J===null?Z=st:J.sibling=st,J=st);return e&&ee.forEach(function(or){return n(T,or)}),ze&&Ir(T,se),Z}function b(T,w,C,B){var Z=V(C);if(typeof Z!="function")throw Error(o(150));if(C=Z.call(C),C==null)throw Error(o(151));for(var J=Z=null,ee=w,se=w=0,st=null,Ce=C.next();ee!==null&&!Ce.done;se++,Ce=C.next()){ee.index>se?(st=ee,ee=null):st=ee.sibling;var or=M(T,ee,Ce.value,B);if(or===null){ee===null&&(ee=st);break}e&&ee&&or.alternate===null&&n(T,ee),w=f(or,w,se),J===null?Z=or:J.sibling=or,J=or,ee=st}if(Ce.done)return i(T,ee),ze&&Ir(T,se),Z;if(ee===null){for(;!Ce.done;se++,Ce=C.next())Ce=L(T,Ce.value,B),Ce!==null&&(w=f(Ce,w,se),J===null?Z=Ce:J.sibling=Ce,J=Ce);return ze&&Ir(T,se),Z}for(ee=l(T,ee);!Ce.done;se++,Ce=C.next())Ce=Y(ee,T,se,Ce.value,B),Ce!==null&&(e&&Ce.alternate!==null&&ee.delete(Ce.key===null?se:Ce.key),w=f(Ce,w,se),J===null?Z=Ce:J.sibling=Ce,J=Ce);return e&&ee.forEach(function(Rv){return n(T,Rv)}),ze&&Ir(T,se),Z}function Xe(T,w,C,B){if(typeof C=="object"&&C!==null&&C.type===$&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ue:e:{for(var Z=C.key,J=w;J!==null;){if(J.key===Z){if(Z=C.type,Z===$){if(J.tag===7){i(T,J.sibling),w=c(J,C.props.children),w.return=T,T=w;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&Mf(Z)===J.type){i(T,J.sibling),w=c(J,C.props),w.ref=ao(T,J,C),w.return=T,T=w;break e}i(T,J);break}else n(T,J);J=J.sibling}C.type===$?(w=Dr(C.props.children,T.mode,B,C.key),w.return=T,T=w):(B=Zs(C.type,C.key,C.props,null,T.mode,B),B.ref=ao(T,w,C),B.return=T,T=B)}return g(T);case F:e:{for(J=C.key;w!==null;){if(w.key===J)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){i(T,w.sibling),w=c(w,C.children||[]),w.return=T,T=w;break e}else{i(T,w);break}else n(T,w);w=w.sibling}w=Gu(C,T.mode,B),w.return=T,T=w}return g(T);case pe:return J=C._init,Xe(T,w,J(C._payload),B)}if(xn(C))return Q(T,w,C,B);if(V(C))return b(T,w,C,B);Rs(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(i(T,w.sibling),w=c(w,C),w.return=T,T=w):(i(T,w),w=xu(C,T.mode,B),w.return=T,T=w),g(T)):i(T,w)}return Xe}var si=Uf(!0),Ff=Uf(!1),Ns=Xn(null),Ps=null,li=null,Qa=null;function ba(){Qa=li=Ps=null}function Za(e){var n=Ns.current;He(Ns),e._currentValue=n}function qa(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function ai(e,n){Ps=e,Qa=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Rt=!0),e.firstContext=null)}function jt(e){var n=e._currentValue;if(Qa!==e)if(e={context:e,memoizedValue:n,next:null},li===null){if(Ps===null)throw Error(o(308));li=e,Ps.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return n}var Tr=null;function Ja(e){Tr===null?Tr=[e]:Tr.push(e)}function Lf(e,n,i,l){var c=n.interleaved;return c===null?(i.next=i,Ja(n)):(i.next=c.next,c.next=i),n.interleaved=i,Pn(e,l)}function Pn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Zn=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function qn(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,Pn(e,i)}return c=l.interleaved,c===null?(n.next=n,Ja(l)):(n.next=c.next,c.next=n),l.interleaved=n,Pn(e,i)}function ks(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,pa(e,i)}}function Hf(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Os(e,n,i,l){var c=e.updateQueue;Zn=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var A=S,P=A.next;A.next=null,g===null?f=P:g.next=P,g=A;var U=e.alternate;U!==null&&(U=U.updateQueue,S=U.lastBaseUpdate,S!==g&&(S===null?U.firstBaseUpdate=P:S.next=P,U.lastBaseUpdate=A))}if(f!==null){var L=c.baseState;g=0,U=P=A=null,S=f;do{var M=S.lane,Y=S.eventTime;if((l&M)===M){U!==null&&(U=U.next={eventTime:Y,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=e,b=S;switch(M=n,Y=i,b.tag){case 1:if(Q=b.payload,typeof Q=="function"){L=Q.call(Y,L,M);break e}L=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=b.payload,M=typeof Q=="function"?Q.call(Y,L,M):Q,M==null)break e;L=x({},L,M);break e;case 2:Zn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[S]:M.push(S))}else Y={eventTime:Y,lane:M,tag:S.tag,payload:S.payload,callback:S.callback,next:null},U===null?(P=U=Y,A=L):U=U.next=Y,g|=M;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;M=S,S=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(U===null&&(A=L),c.baseState=A,c.firstBaseUpdate=P,c.lastBaseUpdate=U,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Nr|=g,e.lanes=g,e.memoizedState=L}}function xf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],c=l.callback;if(c!==null){if(l.callback=null,l=i,typeof c!="function")throw Error(o(191,c));c.call(l)}}}var uo={},gn=Xn(uo),co=Xn(uo),fo=Xn(uo);function Cr(e){if(e===uo)throw Error(o(174));return e}function tu(e,n){switch(Ue(fo,n),Ue(co,e),Ue(gn,uo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:na(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=na(n,e)}He(gn),Ue(gn,n)}function ui(){He(gn),He(co),He(fo)}function Gf(e){Cr(fo.current);var n=Cr(gn.current),i=na(n,e.type);n!==i&&(Ue(co,e),Ue(gn,i))}function nu(e){co.current===e&&(He(gn),He(co))}var $e=Xn(0);function Ds(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ru=[];function iu(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var Ms=j.ReactCurrentDispatcher,ou=j.ReactCurrentBatchConfig,Rr=0,je=null,et=null,it=null,Us=!1,ho=!1,po=0,Q0=0;function pt(){throw Error(o(321))}function su(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!rn(e[i],n[i]))return!1;return!0}function lu(e,n,i,l,c,f){if(Rr=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ms.current=e===null||e.memoizedState===null?J0:ev,e=i(l,c),ho){f=0;do{if(ho=!1,po=0,25<=f)throw Error(o(301));f+=1,it=et=null,n.updateQueue=null,Ms.current=tv,e=i(l,c)}while(ho)}if(Ms.current=Bs,n=et!==null&&et.next!==null,Rr=0,it=et=je=null,Us=!1,n)throw Error(o(300));return e}function au(){var e=po!==0;return po=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?je.memoizedState=it=e:it=it.next=e,it}function Yt(){if(et===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var n=it===null?je.memoizedState:it.next;if(n!==null)it=n,et=e;else{if(e===null)throw Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?je.memoizedState=it=e:it=it.next=e}return it}function go(e,n){return typeof n=="function"?n(e):n}function uu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=et,c=l.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}l.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,l=l.baseState;var S=g=null,A=null,P=f;do{var U=P.lane;if((Rr&U)===U)A!==null&&(A=A.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),l=P.hasEagerState?P.eagerState:e(l,P.action);else{var L={lane:U,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};A===null?(S=A=L,g=l):A=A.next=L,je.lanes|=U,Nr|=U}P=P.next}while(P!==null&&P!==f);A===null?g=l:A.next=S,rn(l,n.memoizedState)||(Rt=!0),n.memoizedState=l,n.baseState=g,n.baseQueue=A,i.lastRenderedState=l}if(e=i.interleaved,e!==null){c=e;do f=c.lane,je.lanes|=f,Nr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function cu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);rn(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function zf(){}function Wf(e,n){var i=je,l=Yt(),c=n(),f=!rn(l.memoizedState,c);if(f&&(l.memoizedState=c,Rt=!0),l=l.queue,du(Yf.bind(null,i,l,e),[e]),l.getSnapshot!==n||f||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,mo(9,jf.bind(null,i,l,c,n),void 0,null),ot===null)throw Error(o(349));(Rr&30)!==0||$f(i,n,c)}return c}function $f(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function jf(e,n,i,l){n.value=i,n.getSnapshot=l,Vf(n)&&Kf(e)}function Yf(e,n,i){return i(function(){Vf(n)&&Kf(e)})}function Vf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!rn(e,i)}catch{return!0}}function Kf(e){var n=Pn(e,1);n!==null&&un(n,e,1,-1)}function Xf(e){var n=mn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},n.queue=e,e=e.dispatch=q0.bind(null,je,e),[n.memoizedState,e]}function mo(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function Qf(){return Yt().memoizedState}function Fs(e,n,i,l){var c=mn();je.flags|=e,c.memoizedState=mo(1|n,i,void 0,l===void 0?null:l)}function Ls(e,n,i,l){var c=Yt();l=l===void 0?null:l;var f=void 0;if(et!==null){var g=et.memoizedState;if(f=g.destroy,l!==null&&su(l,g.deps)){c.memoizedState=mo(n,i,f,l);return}}je.flags|=e,c.memoizedState=mo(1|n,i,f,l)}function bf(e,n){return Fs(8390656,8,e,n)}function du(e,n){return Ls(2048,8,e,n)}function Zf(e,n){return Ls(4,2,e,n)}function qf(e,n){return Ls(4,4,e,n)}function Jf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function eh(e,n,i){return i=i!=null?i.concat([e]):null,Ls(4,4,Jf.bind(null,n,e),i)}function fu(){}function th(e,n){var i=Yt();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&su(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function nh(e,n){var i=Yt();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&su(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function rh(e,n,i){return(Rr&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=i):(rn(i,n)||(i=Dd(),je.lanes|=i,Nr|=i,e.baseState=!0),n)}function b0(e,n){var i=Oe;Oe=i!==0&&4>i?i:4,e(!0);var l=ou.transition;ou.transition={};try{e(!1),n()}finally{Oe=i,ou.transition=l}}function ih(){return Yt().memoizedState}function Z0(e,n,i){var l=nr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},oh(e))sh(n,i);else if(i=Lf(e,n,i,l),i!==null){var c=_t();un(i,e,l,c),lh(i,n,l)}}function q0(e,n,i){var l=nr(e),c={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(oh(e))sh(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,i);if(c.hasEagerState=!0,c.eagerState=S,rn(S,g)){var A=n.interleaved;A===null?(c.next=c,Ja(n)):(c.next=A.next,A.next=c),n.interleaved=c;return}}catch{}finally{}i=Lf(e,n,c,l),i!==null&&(c=_t(),un(i,e,l,c),lh(i,n,l))}}function oh(e){var n=e.alternate;return e===je||n!==null&&n===je}function sh(e,n){ho=Us=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function lh(e,n,i){if((i&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,pa(e,i)}}var Bs={readContext:jt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},J0={readContext:jt,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:jt,useEffect:bf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Fs(4194308,4,Jf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Fs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Fs(4,2,e,n)},useMemo:function(e,n){var i=mn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=mn();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Z0.bind(null,je,e),[l.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:Xf,useDebugValue:fu,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=Xf(!1),n=e[0];return e=b0.bind(null,e[1]),mn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=je,c=mn();if(ze){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ot===null)throw Error(o(349));(Rr&30)!==0||$f(l,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,bf(Yf.bind(null,l,f,e),[e]),l.flags|=2048,mo(9,jf.bind(null,l,f,i,n),void 0,null),i},useId:function(){var e=mn(),n=ot.identifierPrefix;if(ze){var i=Nn,l=Rn;i=(l&~(1<<32-nn(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=po++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Q0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ev={readContext:jt,useCallback:th,useContext:jt,useEffect:du,useImperativeHandle:eh,useInsertionEffect:Zf,useLayoutEffect:qf,useMemo:nh,useReducer:uu,useRef:Qf,useState:function(){return uu(go)},useDebugValue:fu,useDeferredValue:function(e){var n=Yt();return rh(n,et.memoizedState,e)},useTransition:function(){var e=uu(go)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:zf,useSyncExternalStore:Wf,useId:ih,unstable_isNewReconciler:!1},tv={readContext:jt,useCallback:th,useContext:jt,useEffect:du,useImperativeHandle:eh,useInsertionEffect:Zf,useLayoutEffect:qf,useMemo:nh,useReducer:cu,useRef:Qf,useState:function(){return cu(go)},useDebugValue:fu,useDeferredValue:function(e){var n=Yt();return et===null?n.memoizedState=e:rh(n,et.memoizedState,e)},useTransition:function(){var e=cu(go)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:zf,useSyncExternalStore:Wf,useId:ih,unstable_isNewReconciler:!1};function sn(e,n){if(e&&e.defaultProps){n=x({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function hu(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hs={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=_t(),c=nr(e),f=kn(l,c);f.payload=n,i!=null&&(f.callback=i),n=qn(e,f,c),n!==null&&(un(n,e,c,l),ks(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=_t(),c=nr(e),f=kn(l,c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=qn(e,f,c),n!==null&&(un(n,e,c,l),ks(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=_t(),l=nr(e),c=kn(i,l);c.tag=2,n!=null&&(c.callback=n),n=qn(e,c,l),n!==null&&(un(n,e,l,i),ks(n,e,l))}};function ah(e,n,i,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!to(i,l)||!to(c,f):!0}function uh(e,n,i){var l=!1,c=Qn,f=n.contextType;return typeof f=="object"&&f!==null?f=jt(f):(c=Ct(n)?wr:ht.current,l=n.contextTypes,f=(l=l!=null)?ni(e,c):Qn),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Hs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function ch(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Hs.enqueueReplaceState(n,n.state,null)}function pu(e,n,i,l){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},eu(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=jt(f):(f=Ct(n)?wr:ht.current,c.context=ni(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(hu(e,n,f,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Hs.enqueueReplaceState(c,c.state,null),Os(e,i,c,l),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,n){try{var i="",l=n;do i+=ve(l),l=l.return;while(l);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function gu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function mu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var nv=typeof WeakMap=="function"?WeakMap:Map;function dh(e,n,i){i=kn(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){Ys||(Ys=!0,Ou=l),mu(e,n)},i}function fh(e,n,i){i=kn(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var c=n.value;i.payload=function(){return l(c)},i.callback=function(){mu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){mu(e,n),typeof l!="function"&&(er===null?er=new Set([this]):er.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function hh(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new nv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(i)||(c.add(i),e=mv.bind(null,e,n,i),n.then(e,e))}function ph(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function gh(e,n,i,l,c){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=kn(-1,1),n.tag=2,qn(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var rv=j.ReactCurrentOwner,Rt=!1;function At(e,n,i,l){n.child=e===null?Ff(n,null,i,l):si(n,e.child,i,l)}function mh(e,n,i,l,c){i=i.render;var f=n.ref;return ai(n,c),l=lu(e,n,i,l,f,c),i=au(),e!==null&&!Rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,On(e,n,c)):(ze&&i&&ja(n),n.flags|=1,At(e,n,l,c),n.child)}function vh(e,n,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!Hu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,yh(e,n,f,l,c)):(e=Zs(i.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:to,i(g,l)&&e.ref===n.ref)return On(e,n,c)}return n.flags|=1,e=ir(f,l),e.ref=n.ref,e.return=n,n.child=e}function yh(e,n,i,l,c){if(e!==null){var f=e.memoizedProps;if(to(f,l)&&e.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(Rt=!0);else return n.lanes=e.lanes,On(e,n,c)}return vu(e,n,i,l,c)}function Sh(e,n,i){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(fi,Bt),Bt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ue(fi,Bt),Bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,Ue(fi,Bt),Bt|=l}else f!==null?(l=f.baseLanes|i,n.memoizedState=null):l=i,Ue(fi,Bt),Bt|=l;return At(e,n,c,i),n.child}function Ah(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function vu(e,n,i,l,c){var f=Ct(i)?wr:ht.current;return f=ni(n,f),ai(n,c),i=lu(e,n,i,l,f,c),l=au(),e!==null&&!Rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,On(e,n,c)):(ze&&l&&ja(n),n.flags|=1,At(e,n,i,c),n.child)}function _h(e,n,i,l,c){if(Ct(i)){var f=!0;ws(n)}else f=!1;if(ai(n,c),n.stateNode===null)Gs(e,n),uh(n,i,l),pu(n,i,l,c),l=!0;else if(e===null){var g=n.stateNode,S=n.memoizedProps;g.props=S;var A=g.context,P=i.contextType;typeof P=="object"&&P!==null?P=jt(P):(P=Ct(i)?wr:ht.current,P=ni(n,P));var U=i.getDerivedStateFromProps,L=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function";L||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==l||A!==P)&&ch(n,g,l,P),Zn=!1;var M=n.memoizedState;g.state=M,Os(n,l,g,c),A=n.memoizedState,S!==l||M!==A||Tt.current||Zn?(typeof U=="function"&&(hu(n,i,U,l),A=n.memoizedState),(S=Zn||ah(n,i,S,l,M,A,P))?(L||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),g.props=l,g.state=A,g.context=P,l=S):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,Bf(e,n),S=n.memoizedProps,P=n.type===n.elementType?S:sn(n.type,S),g.props=P,L=n.pendingProps,M=g.context,A=i.contextType,typeof A=="object"&&A!==null?A=jt(A):(A=Ct(i)?wr:ht.current,A=ni(n,A));var Y=i.getDerivedStateFromProps;(U=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==L||M!==A)&&ch(n,g,l,A),Zn=!1,M=n.memoizedState,g.state=M,Os(n,l,g,c);var Q=n.memoizedState;S!==L||M!==Q||Tt.current||Zn?(typeof Y=="function"&&(hu(n,i,Y,l),Q=n.memoizedState),(P=Zn||ah(n,i,P,l,M,Q,A)||!1)?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,Q,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,Q,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),g.props=l,g.state=Q,g.context=A,l=P):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),l=!1)}return yu(e,n,i,l,f,c)}function yu(e,n,i,l,c,f){Ah(e,n);var g=(n.flags&128)!==0;if(!l&&!g)return c&&Cf(n,i,!1),On(e,n,f);l=n.stateNode,rv.current=n;var S=g&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&g?(n.child=si(n,e.child,null,f),n.child=si(n,null,S,f)):At(e,n,S,f),n.memoizedState=l.state,c&&Cf(n,i,!0),n.child}function wh(e){var n=e.stateNode;n.pendingContext?If(e,n.pendingContext,n.pendingContext!==n.context):n.context&&If(e,n.context,!1),tu(e,n.containerInfo)}function Eh(e,n,i,l,c){return oi(),Xa(c),n.flags|=256,At(e,n,i,l),n.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ih(e,n,i){var l=n.pendingProps,c=$e.current,f=!1,g=(n.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(c&2)!==0),S?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ue($e,c&1),e===null)return Ka(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=l.children,e=l.fallback,f?(l=n.mode,f=n.child,g={mode:"hidden",children:g},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=qs(g,l,0,null),e=Dr(e,l,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Au(i),n.memoizedState=Su,e):_u(n,g));if(c=e.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return iv(e,n,g,l,S,c,i);if(f){f=l.fallback,g=n.mode,c=e.child,S=c.sibling;var A={mode:"hidden",children:l.children};return(g&1)===0&&n.child!==c?(l=n.child,l.childLanes=0,l.pendingProps=A,n.deletions=null):(l=ir(c,A),l.subtreeFlags=c.subtreeFlags&14680064),S!==null?f=ir(S,f):(f=Dr(f,g,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,g=e.child.memoizedState,g=g===null?Au(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Su,l}return f=e.child,e=f.sibling,l=ir(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=i),l.return=n,l.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=l,n.memoizedState=null,l}function _u(e,n){return n=qs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function xs(e,n,i,l){return l!==null&&Xa(l),si(n,e.child,null,i),e=_u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iv(e,n,i,l,c,f,g){if(i)return n.flags&256?(n.flags&=-257,l=gu(Error(o(422))),xs(e,n,g,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,c=n.mode,l=qs({mode:"visible",children:l.children},c,0,null),f=Dr(f,c,g,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&si(n,e.child,null,g),n.child.memoizedState=Au(g),n.memoizedState=Su,f);if((n.mode&1)===0)return xs(e,n,g,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var S=l.dgst;return l=S,f=Error(o(419)),l=gu(f,l,void 0),xs(e,n,g,l)}if(S=(g&e.childLanes)!==0,Rt||S){if(l=ot,l!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Pn(e,c),un(l,e,c,-1))}return Bu(),l=gu(Error(o(421))),xs(e,n,g,l)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=vv.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,Lt=Kn(c.nextSibling),Ft=n,ze=!0,on=null,e!==null&&(Wt[$t++]=Rn,Wt[$t++]=Nn,Wt[$t++]=Er,Rn=e.id,Nn=e.overflow,Er=n),n=_u(n,l.children),n.flags|=4096,n)}function Th(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),qa(e.return,n,i)}function wu(e,n,i,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=c)}function Ch(e,n,i){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(At(e,n,l.children,i),l=$e.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,i,n);else if(e.tag===19)Th(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ue($e,l),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&Ds(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),wu(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Ds(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}wu(n,!0,i,null,f);break;case"together":wu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function On(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=ir(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ir(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ov(e,n,i){switch(n.tag){case 3:wh(n),oi();break;case 5:Gf(n);break;case 1:Ct(n.type)&&ws(n);break;case 4:tu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,c=n.memoizedProps.value;Ue(Ns,l._currentValue),l._currentValue=c;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ue($e,$e.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Ih(e,n,i):(Ue($e,$e.current&1),e=On(e,n,i),e!==null?e.sibling:null);Ue($e,$e.current&1);break;case 19:if(l=(i&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Ch(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ue($e,$e.current),l)break;return null;case 22:case 23:return n.lanes=0,Sh(e,n,i)}return On(e,n,i)}var Rh,Eu,Nh,Ph;Rh=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eu=function(){},Nh=function(e,n,i,l){var c=e.memoizedProps;if(c!==l){e=n.stateNode,Cr(gn.current);var f=null;switch(i){case"input":c=Mt(e,c),l=Mt(e,l),f=[];break;case"select":c=x({},c,{value:void 0}),l=x({},l,{value:void 0}),f=[];break;case"textarea":c=Sr(e,c),l=Sr(e,l),f=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ss)}ra(i,l);var g;i=null;for(P in c)if(!l.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var S=c[P];for(g in S)S.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in l){var A=l[P];if(S=c!=null?c[P]:void 0,l.hasOwnProperty(P)&&A!==S&&(A!=null||S!=null))if(P==="style")if(S){for(g in S)!S.hasOwnProperty(g)||A&&A.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in A)A.hasOwnProperty(g)&&S[g]!==A[g]&&(i||(i={}),i[g]=A[g])}else i||(f||(f=[]),f.push(P,i)),i=A;else P==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(f=f||[]).push(P,A)):P==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(P,""+A):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(A!=null&&P==="onScroll"&&Be("scroll",e),f||S===A||(f=[])):(f=f||[]).push(P,A))}i&&(f=f||[]).push("style",i);var P=f;(n.updateQueue=P)&&(n.flags|=4)}},Ph=function(e,n,i,l){i!==l&&(n.flags|=4)};function vo(e,n){if(!ze)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function sv(e,n,i){var l=n.pendingProps;switch(Ya(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return Ct(n.type)&&_s(),gt(n),null;case 3:return l=n.stateNode,ui(),He(Tt),He(ht),iu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Cs(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,on!==null&&(Uu(on),on=null))),Eu(e,n),gt(n),null;case 5:nu(n);var c=Cr(fo.current);if(i=n.type,e!==null&&n.stateNode!=null)Nh(e,n,i,l,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(o(166));return gt(n),null}if(e=Cr(gn.current),Cs(n)){l=n.stateNode,i=n.type;var f=n.memoizedProps;switch(l[pn]=n,l[so]=f,e=(n.mode&1)!==0,i){case"dialog":Be("cancel",l),Be("close",l);break;case"iframe":case"object":case"embed":Be("load",l);break;case"video":case"audio":for(c=0;c<ro.length;c++)Be(ro[c],l);break;case"source":Be("error",l);break;case"img":case"image":case"link":Be("error",l),Be("load",l);break;case"details":Be("toggle",l);break;case"input":zt(l,f),Be("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},Be("invalid",l);break;case"textarea":dd(l,f),Be("invalid",l)}ra(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var S=f[g];g==="children"?typeof S=="string"?l.textContent!==S&&(f.suppressHydrationWarning!==!0&&ys(l.textContent,S,e),c=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&ys(l.textContent,S,e),c=["children",""+S]):u.hasOwnProperty(g)&&S!=null&&g==="onScroll"&&Be("scroll",l)}switch(i){case"input":Ne(l),Hn(l,f,!0);break;case"textarea":Ne(l),hd(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ss)}l=c,n.updateQueue=l,l!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(i,{is:l.is}):(e=g.createElement(i),i==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,i),e[pn]=n,e[so]=l,Rh(e,n,!1,!1),n.stateNode=e;e:{switch(g=ia(i,l),i){case"dialog":Be("cancel",e),Be("close",e),c=l;break;case"iframe":case"object":case"embed":Be("load",e),c=l;break;case"video":case"audio":for(c=0;c<ro.length;c++)Be(ro[c],e);c=l;break;case"source":Be("error",e),c=l;break;case"img":case"image":case"link":Be("error",e),Be("load",e),c=l;break;case"details":Be("toggle",e),c=l;break;case"input":zt(e,l),c=Mt(e,l),Be("invalid",e);break;case"option":c=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},c=x({},l,{value:void 0}),Be("invalid",e);break;case"textarea":dd(e,l),c=Sr(e,l),Be("invalid",e);break;default:c=l}ra(i,c),S=c;for(f in S)if(S.hasOwnProperty(f)){var A=S[f];f==="style"?vd(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&gd(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Hi(e,A):typeof A=="number"&&Hi(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?A!=null&&f==="onScroll"&&Be("scroll",e):A!=null&&W(e,f,A,g))}switch(i){case"input":Ne(e),Hn(e,l,!1);break;case"textarea":Ne(e),hd(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ce(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?Gn(e,!!l.multiple,f,!1):l.defaultValue!=null&&Gn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ss)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return gt(n),null;case 6:if(e&&n.stateNode!=null)Ph(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(i=Cr(fo.current),Cr(gn.current),Cs(n)){if(l=n.stateNode,i=n.memoizedProps,l[pn]=n,(f=l.nodeValue!==i)&&(e=Ft,e!==null))switch(e.tag){case 3:ys(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(l.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[pn]=n,n.stateNode=l}return gt(n),null;case 13:if(He($e),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Lt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Df(),oi(),n.flags|=98560,f=!1;else if(f=Cs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[pn]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),f=!1}else on!==null&&(Uu(on),on=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||($e.current&1)!==0?tt===0&&(tt=3):Bu())),n.updateQueue!==null&&(n.flags|=4),gt(n),null);case 4:return ui(),Eu(e,n),e===null&&io(n.stateNode.containerInfo),gt(n),null;case 10:return Za(n.type._context),gt(n),null;case 17:return Ct(n.type)&&_s(),gt(n),null;case 19:if(He($e),f=n.memoizedState,f===null)return gt(n),null;if(l=(n.flags&128)!==0,g=f.rendering,g===null)if(l)vo(f,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Ds(e),g!==null){for(n.flags|=128,vo(f,!1),l=g.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)f=i,e=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ue($e,$e.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ke()>hi&&(n.flags|=128,l=!0,vo(f,!1),n.lanes=4194304)}else{if(!l)if(e=Ds(g),e!==null){if(n.flags|=128,l=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),vo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ze)return gt(n),null}else 2*Ke()-f.renderingStartTime>hi&&i!==1073741824&&(n.flags|=128,l=!0,vo(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ke(),n.sibling=null,i=$e.current,Ue($e,l?i&1|2:i&1),n):(gt(n),null);case 22:case 23:return Lu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Bt&1073741824)!==0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function lv(e,n){switch(Ya(n),n.tag){case 1:return Ct(n.type)&&_s(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ui(),He(Tt),He(ht),iu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return nu(n),null;case 13:if(He($e),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return He($e),null;case 4:return ui(),null;case 10:return Za(n.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var zs=!1,mt=!1,av=typeof WeakSet=="function"?WeakSet:Set,K=null;function di(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Ye(e,n,l)}else i.current=null}function Iu(e,n,i){try{i()}catch(l){Ye(e,n,l)}}var kh=!1;function uv(e,n){if(La=ls,e=af(),Na(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,S=-1,A=-1,P=0,U=0,L=e,M=null;t:for(;;){for(var Y;L!==i||c!==0&&L.nodeType!==3||(S=g+c),L!==f||l!==0&&L.nodeType!==3||(A=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(Y=L.firstChild)!==null;)M=L,L=Y;for(;;){if(L===e)break t;if(M===i&&++P===c&&(S=g),M===f&&++U===l&&(A=g),(Y=L.nextSibling)!==null)break;L=M,M=L.parentNode}L=Y}i=S===-1||A===-1?null:{start:S,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ba={focusedElem:e,selectionRange:i},ls=!1,K=n;K!==null;)if(n=K,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,K=e;else for(;K!==null;){n=K;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var b=Q.memoizedProps,Xe=Q.memoizedState,T=n.stateNode,w=T.getSnapshotBeforeUpdate(n.elementType===n.type?b:sn(n.type,b),Xe);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=n.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){Ye(n,n.return,B)}if(e=n.sibling,e!==null){e.return=n.return,K=e;break}K=n.return}return Q=kh,kh=!1,Q}function yo(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Iu(n,i,f)}c=c.next}while(c!==l)}}function Ws(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function Tu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Oh(e){var n=e.alternate;n!==null&&(e.alternate=null,Oh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[pn],delete n[so],delete n[za],delete n[Y0],delete n[V0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dh(e){return e.tag===5||e.tag===3||e.tag===4}function Mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ss));else if(l!==4&&(e=e.child,e!==null))for(Cu(e,n,i),e=e.sibling;e!==null;)Cu(e,n,i),e=e.sibling}function Ru(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ru(e,n,i),e=e.sibling;e!==null;)Ru(e,n,i),e=e.sibling}var ct=null,ln=!1;function Jn(e,n,i){for(i=i.child;i!==null;)Uh(e,n,i),i=i.sibling}function Uh(e,n,i){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ts,i)}catch{}switch(i.tag){case 5:mt||di(i,n);case 6:var l=ct,c=ln;ct=null,Jn(e,n,i),ct=l,ln=c,ct!==null&&(ln?(e=ct,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ct.removeChild(i.stateNode));break;case 18:ct!==null&&(ln?(e=ct,i=i.stateNode,e.nodeType===8?Ga(e.parentNode,i):e.nodeType===1&&Ga(e,i),Qi(e)):Ga(ct,i.stateNode));break;case 4:l=ct,c=ln,ct=i.stateNode.containerInfo,ln=!0,Jn(e,n,i),ct=l,ln=c;break;case 0:case 11:case 14:case 15:if(!mt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Iu(i,n,g),c=c.next}while(c!==l)}Jn(e,n,i);break;case 1:if(!mt&&(di(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(S){Ye(i,n,S)}Jn(e,n,i);break;case 21:Jn(e,n,i);break;case 22:i.mode&1?(mt=(l=mt)||i.memoizedState!==null,Jn(e,n,i),mt=l):Jn(e,n,i);break;default:Jn(e,n,i)}}function Fh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new av),n.forEach(function(l){var c=yv.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}}function an(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];try{var f=e,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 5:ct=S.stateNode,ln=!1;break e;case 3:ct=S.stateNode.containerInfo,ln=!0;break e;case 4:ct=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ct===null)throw Error(o(160));Uh(f,g,c),ct=null,ln=!1;var A=c.alternate;A!==null&&(A.return=null),c.return=null}catch(P){Ye(c,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Lh(n,e),n=n.sibling}function Lh(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(n,e),vn(e),l&4){try{yo(3,e,e.return),Ws(3,e)}catch(b){Ye(e,e.return,b)}try{yo(5,e,e.return)}catch(b){Ye(e,e.return,b)}}break;case 1:an(n,e),vn(e),l&512&&i!==null&&di(i,i.return);break;case 5:if(an(n,e),vn(e),l&512&&i!==null&&di(i,i.return),e.flags&32){var c=e.stateNode;try{Hi(c,"")}catch(b){Ye(e,e.return,b)}}if(l&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,S=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&yr(c,f),ia(S,g);var P=ia(S,f);for(g=0;g<A.length;g+=2){var U=A[g],L=A[g+1];U==="style"?vd(c,L):U==="dangerouslySetInnerHTML"?gd(c,L):U==="children"?Hi(c,L):W(c,U,L,P)}switch(S){case"input":In(c,f);break;case"textarea":fd(c,f);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Gn(c,!!f.multiple,Y,!1):M!==!!f.multiple&&(f.defaultValue!=null?Gn(c,!!f.multiple,f.defaultValue,!0):Gn(c,!!f.multiple,f.multiple?[]:"",!1))}c[so]=f}catch(b){Ye(e,e.return,b)}}break;case 6:if(an(n,e),vn(e),l&4){if(e.stateNode===null)throw Error(o(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(b){Ye(e,e.return,b)}}break;case 3:if(an(n,e),vn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Qi(n.containerInfo)}catch(b){Ye(e,e.return,b)}break;case 4:an(n,e),vn(e);break;case 13:an(n,e),vn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(ku=Ke())),l&4&&Fh(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(mt=(P=mt)||U,an(n,e),mt=P):an(n,e),vn(e),l&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!U&&(e.mode&1)!==0)for(K=e,U=e.child;U!==null;){for(L=K=U;K!==null;){switch(M=K,Y=M.child,M.tag){case 0:case 11:case 14:case 15:yo(4,M,M.return);break;case 1:di(M,M.return);var Q=M.stateNode;if(typeof Q.componentWillUnmount=="function"){l=M,i=M.return;try{n=l,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(b){Ye(l,i,b)}}break;case 5:di(M,M.return);break;case 22:if(M.memoizedState!==null){xh(L);continue}}Y!==null?(Y.return=M,K=Y):xh(L)}U=U.sibling}e:for(U=null,L=e;;){if(L.tag===5){if(U===null){U=L;try{c=L.stateNode,P?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=L.stateNode,A=L.memoizedProps.style,g=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=md("display",g))}catch(b){Ye(e,e.return,b)}}}else if(L.tag===6){if(U===null)try{L.stateNode.nodeValue=P?"":L.memoizedProps}catch(b){Ye(e,e.return,b)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;U===L&&(U=null),L=L.return}U===L&&(U=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:an(n,e),vn(e),l&4&&Fh(e);break;case 21:break;default:an(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Dh(i)){var l=i;break e}i=i.return}throw Error(o(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(Hi(c,""),l.flags&=-33);var f=Mh(e);Ru(e,f,c);break;case 3:case 4:var g=l.stateNode.containerInfo,S=Mh(e);Cu(e,S,g);break;default:throw Error(o(161))}}catch(A){Ye(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cv(e,n,i){K=e,Bh(e)}function Bh(e,n,i){for(var l=(e.mode&1)!==0;K!==null;){var c=K,f=c.child;if(c.tag===22&&l){var g=c.memoizedState!==null||zs;if(!g){var S=c.alternate,A=S!==null&&S.memoizedState!==null||mt;S=zs;var P=mt;if(zs=g,(mt=A)&&!P)for(K=c;K!==null;)g=K,A=g.child,g.tag===22&&g.memoizedState!==null?Gh(c):A!==null?(A.return=g,K=A):Gh(c);for(;f!==null;)K=f,Bh(f),f=f.sibling;K=c,zs=S,mt=P}Hh(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,K=f):Hh(e)}}function Hh(e){for(;K!==null;){var n=K;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:mt||Ws(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!mt)if(i===null)l.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:sn(n.type,i.memoizedProps);l.componentDidUpdate(c,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&xf(n,f,l);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}xf(n,g,i)}break;case 5:var S=n.stateNode;if(i===null&&n.flags&4){i=S;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var U=P.memoizedState;if(U!==null){var L=U.dehydrated;L!==null&&Qi(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}mt||n.flags&512&&Tu(n)}catch(M){Ye(n,n.return,M)}}if(n===e){K=null;break}if(i=n.sibling,i!==null){i.return=n.return,K=i;break}K=n.return}}function xh(e){for(;K!==null;){var n=K;if(n===e){K=null;break}var i=n.sibling;if(i!==null){i.return=n.return,K=i;break}K=n.return}}function Gh(e){for(;K!==null;){var n=K;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ws(4,n)}catch(A){Ye(n,i,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var c=n.return;try{l.componentDidMount()}catch(A){Ye(n,c,A)}}var f=n.return;try{Tu(n)}catch(A){Ye(n,f,A)}break;case 5:var g=n.return;try{Tu(n)}catch(A){Ye(n,g,A)}}}catch(A){Ye(n,n.return,A)}if(n===e){K=null;break}var S=n.sibling;if(S!==null){S.return=n.return,K=S;break}K=n.return}}var dv=Math.ceil,$s=j.ReactCurrentDispatcher,Nu=j.ReactCurrentOwner,Vt=j.ReactCurrentBatchConfig,Ie=0,ot=null,be=null,dt=0,Bt=0,fi=Xn(0),tt=0,So=null,Nr=0,js=0,Pu=0,Ao=null,Nt=null,ku=0,hi=1/0,Dn=null,Ys=!1,Ou=null,er=null,Vs=!1,tr=null,Ks=0,_o=0,Du=null,Xs=-1,Qs=0;function _t(){return(Ie&6)!==0?Ke():Xs!==-1?Xs:Xs=Ke()}function nr(e){return(e.mode&1)===0?1:(Ie&2)!==0&&dt!==0?dt&-dt:X0.transition!==null?(Qs===0&&(Qs=Dd()),Qs):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:zd(e.type)),e)}function un(e,n,i,l){if(50<_o)throw _o=0,Du=null,Error(o(185));ji(e,i,l),((Ie&2)===0||e!==ot)&&(e===ot&&((Ie&2)===0&&(js|=i),tt===4&&rr(e,dt)),Pt(e,l),i===1&&Ie===0&&(n.mode&1)===0&&(hi=Ke()+500,Es&&bn()))}function Pt(e,n){var i=e.callbackNode;Xm(e,n);var l=is(e,e===ot?dt:0);if(l===0)i!==null&&Pd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&Pd(i),n===1)e.tag===0?K0(Wh.bind(null,e)):Rf(Wh.bind(null,e)),$0(function(){(Ie&6)===0&&bn()}),i=null;else{switch(Md(l)){case 1:i=da;break;case 4:i=kd;break;case 16:i=es;break;case 536870912:i=Od;break;default:i=es}i=bh(i,zh.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function zh(e,n){if(Xs=-1,Qs=0,(Ie&6)!==0)throw Error(o(327));var i=e.callbackNode;if(pi()&&e.callbackNode!==i)return null;var l=is(e,e===ot?dt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=bs(e,l);else{n=l;var c=Ie;Ie|=2;var f=jh();(ot!==e||dt!==n)&&(Dn=null,hi=Ke()+500,kr(e,n));do try{pv();break}catch(S){$h(e,S)}while(!0);ba(),$s.current=f,Ie=c,be!==null?n=0:(ot=null,dt=0,n=tt)}if(n!==0){if(n===2&&(c=fa(e),c!==0&&(l=c,n=Mu(e,c))),n===1)throw i=So,kr(e,0),rr(e,l),Pt(e,Ke()),i;if(n===6)rr(e,l);else{if(c=e.current.alternate,(l&30)===0&&!fv(c)&&(n=bs(e,l),n===2&&(f=fa(e),f!==0&&(l=f,n=Mu(e,f))),n===1))throw i=So,kr(e,0),rr(e,l),Pt(e,Ke()),i;switch(e.finishedWork=c,e.finishedLanes=l,n){case 0:case 1:throw Error(o(345));case 2:Or(e,Nt,Dn);break;case 3:if(rr(e,l),(l&130023424)===l&&(n=ku+500-Ke(),10<n)){if(is(e,0)!==0)break;if(c=e.suspendedLanes,(c&l)!==l){_t(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=xa(Or.bind(null,e,Nt,Dn),n);break}Or(e,Nt,Dn);break;case 4:if(rr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,c=-1;0<l;){var g=31-nn(l);f=1<<g,g=n[g],g>c&&(c=g),l&=~f}if(l=c,l=Ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*dv(l/1960))-l,10<l){e.timeoutHandle=xa(Or.bind(null,e,Nt,Dn),l);break}Or(e,Nt,Dn);break;case 5:Or(e,Nt,Dn);break;default:throw Error(o(329))}}}return Pt(e,Ke()),e.callbackNode===i?zh.bind(null,e):null}function Mu(e,n){var i=Ao;return e.current.memoizedState.isDehydrated&&(kr(e,n).flags|=256),e=bs(e,n),e!==2&&(n=Nt,Nt=i,n!==null&&Uu(n)),e}function Uu(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function fv(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(e,n){for(n&=~Pu,n&=~js,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-nn(n),l=1<<i;e[i]=-1,n&=~l}}function Wh(e){if((Ie&6)!==0)throw Error(o(327));pi();var n=is(e,0);if((n&1)===0)return Pt(e,Ke()),null;var i=bs(e,n);if(e.tag!==0&&i===2){var l=fa(e);l!==0&&(n=l,i=Mu(e,l))}if(i===1)throw i=So,kr(e,0),rr(e,n),Pt(e,Ke()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Or(e,Nt,Dn),Pt(e,Ke()),null}function Fu(e,n){var i=Ie;Ie|=1;try{return e(n)}finally{Ie=i,Ie===0&&(hi=Ke()+500,Es&&bn())}}function Pr(e){tr!==null&&tr.tag===0&&(Ie&6)===0&&pi();var n=Ie;Ie|=1;var i=Vt.transition,l=Oe;try{if(Vt.transition=null,Oe=1,e)return e()}finally{Oe=l,Vt.transition=i,Ie=n,(Ie&6)===0&&bn()}}function Lu(){Bt=fi.current,He(fi)}function kr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,W0(i)),be!==null)for(i=be.return;i!==null;){var l=i;switch(Ya(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&_s();break;case 3:ui(),He(Tt),He(ht),iu();break;case 5:nu(l);break;case 4:ui();break;case 13:He($e);break;case 19:He($e);break;case 10:Za(l.type._context);break;case 22:case 23:Lu()}i=i.return}if(ot=e,be=e=ir(e.current,null),dt=Bt=n,tt=0,So=null,Pu=js=Nr=0,Nt=Ao=null,Tr!==null){for(n=0;n<Tr.length;n++)if(i=Tr[n],l=i.interleaved,l!==null){i.interleaved=null;var c=l.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,l.next=g}i.pending=l}Tr=null}return e}function $h(e,n){do{var i=be;try{if(ba(),Ms.current=Bs,Us){for(var l=je.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Us=!1}if(Rr=0,it=et=je=null,ho=!1,po=0,Nu.current=null,i===null||i.return===null){tt=1,So=n,be=null;break}e:{var f=e,g=i.return,S=i,A=n;if(n=dt,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=A,U=S,L=U.tag;if((U.mode&1)===0&&(L===0||L===11||L===15)){var M=U.alternate;M?(U.updateQueue=M.updateQueue,U.memoizedState=M.memoizedState,U.lanes=M.lanes):(U.updateQueue=null,U.memoizedState=null)}var Y=ph(g);if(Y!==null){Y.flags&=-257,gh(Y,g,S,f,n),Y.mode&1&&hh(f,P,n),n=Y,A=P;var Q=n.updateQueue;if(Q===null){var b=new Set;b.add(A),n.updateQueue=b}else Q.add(A);break e}else{if((n&1)===0){hh(f,P,n),Bu();break e}A=Error(o(426))}}else if(ze&&S.mode&1){var Xe=ph(g);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),gh(Xe,g,S,f,n),Xa(ci(A,S));break e}}f=A=ci(A,S),tt!==4&&(tt=2),Ao===null?Ao=[f]:Ao.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var T=dh(f,A,n);Hf(f,T);break e;case 1:S=A;var w=f.type,C=f.stateNode;if((f.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(er===null||!er.has(C)))){f.flags|=65536,n&=-n,f.lanes|=n;var B=fh(f,S,n);Hf(f,B);break e}}f=f.return}while(f!==null)}Vh(i)}catch(Z){n=Z,be===i&&i!==null&&(be=i=i.return);continue}break}while(!0)}function jh(){var e=$s.current;return $s.current=Bs,e===null?Bs:e}function Bu(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||(Nr&268435455)===0&&(js&268435455)===0||rr(ot,dt)}function bs(e,n){var i=Ie;Ie|=2;var l=jh();(ot!==e||dt!==n)&&(Dn=null,kr(e,n));do try{hv();break}catch(c){$h(e,c)}while(!0);if(ba(),Ie=i,$s.current=l,be!==null)throw Error(o(261));return ot=null,dt=0,tt}function hv(){for(;be!==null;)Yh(be)}function pv(){for(;be!==null&&!xm();)Yh(be)}function Yh(e){var n=Qh(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,n===null?Vh(e):be=n,Nu.current=null}function Vh(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=sv(i,n,Bt),i!==null){be=i;return}}else{if(i=lv(i,n),i!==null){i.flags&=32767,be=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,be=null;return}}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);tt===0&&(tt=5)}function Or(e,n,i){var l=Oe,c=Vt.transition;try{Vt.transition=null,Oe=1,gv(e,n,i,l)}finally{Vt.transition=c,Oe=l}return null}function gv(e,n,i,l){do pi();while(tr!==null);if((Ie&6)!==0)throw Error(o(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Qm(e,f),e===ot&&(be=ot=null,dt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Vs||(Vs=!0,bh(es,function(){return pi(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Vt.transition,Vt.transition=null;var g=Oe;Oe=1;var S=Ie;Ie|=4,Nu.current=null,uv(e,i),Lh(i,e),F0(Ba),ls=!!La,Ba=La=null,e.current=i,cv(i),Gm(),Ie=S,Oe=g,Vt.transition=f}else e.current=i;if(Vs&&(Vs=!1,tr=e,Ks=c),f=e.pendingLanes,f===0&&(er=null),$m(i.stateNode),Pt(e,Ke()),n!==null)for(l=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],l(c.value,{componentStack:c.stack,digest:c.digest});if(Ys)throw Ys=!1,e=Ou,Ou=null,e;return(Ks&1)!==0&&e.tag!==0&&pi(),f=e.pendingLanes,(f&1)!==0?e===Du?_o++:(_o=0,Du=e):_o=0,bn(),null}function pi(){if(tr!==null){var e=Md(Ks),n=Vt.transition,i=Oe;try{if(Vt.transition=null,Oe=16>e?16:e,tr===null)var l=!1;else{if(e=tr,tr=null,Ks=0,(Ie&6)!==0)throw Error(o(331));var c=Ie;for(Ie|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var S=f.deletions;if(S!==null){for(var A=0;A<S.length;A++){var P=S[A];for(K=P;K!==null;){var U=K;switch(U.tag){case 0:case 11:case 15:yo(8,U,f)}var L=U.child;if(L!==null)L.return=U,K=L;else for(;K!==null;){U=K;var M=U.sibling,Y=U.return;if(Oh(U),U===P){K=null;break}if(M!==null){M.return=Y,K=M;break}K=Y}}}var Q=f.alternate;if(Q!==null){var b=Q.child;if(b!==null){Q.child=null;do{var Xe=b.sibling;b.sibling=null,b=Xe}while(b!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:yo(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,K=T;break e}K=f.return}}var w=e.current;for(K=w;K!==null;){g=K;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,K=C;else e:for(g=w;K!==null;){if(S=K,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Ws(9,S)}}catch(Z){Ye(S,S.return,Z)}if(S===g){K=null;break e}var B=S.sibling;if(B!==null){B.return=S.return,K=B;break e}K=S.return}}if(Ie=c,bn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ts,e)}catch{}l=!0}return l}finally{Oe=i,Vt.transition=n}}return!1}function Kh(e,n,i){n=ci(i,n),n=dh(e,n,1),e=qn(e,n,1),n=_t(),e!==null&&(ji(e,1,n),Pt(e,n))}function Ye(e,n,i){if(e.tag===3)Kh(e,e,i);else for(;n!==null;){if(n.tag===3){Kh(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){e=ci(i,e),e=fh(n,e,1),n=qn(n,e,1),e=_t(),n!==null&&(ji(n,1,e),Pt(n,e));break}}n=n.return}}function mv(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=_t(),e.pingedLanes|=e.suspendedLanes&i,ot===e&&(dt&i)===i&&(tt===4||tt===3&&(dt&130023424)===dt&&500>Ke()-ku?kr(e,0):Pu|=i),Pt(e,n)}function Xh(e,n){n===0&&((e.mode&1)===0?n=1:(n=rs,rs<<=1,(rs&130023424)===0&&(rs=4194304)));var i=_t();e=Pn(e,n),e!==null&&(ji(e,n,i),Pt(e,i))}function vv(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Xh(e,i)}function yv(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(n),Xh(e,i)}var Qh;Qh=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Tt.current)Rt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Rt=!1,ov(e,n,i);Rt=(e.flags&131072)!==0}else Rt=!1,ze&&(n.flags&1048576)!==0&&Nf(n,Ts,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Gs(e,n),e=n.pendingProps;var c=ni(n,ht.current);ai(n,i),c=lu(null,n,l,e,c,i);var f=au();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ct(l)?(f=!0,ws(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,eu(n),c.updater=Hs,n.stateNode=c,c._reactInternals=n,pu(n,l,e,i),n=yu(null,n,l,!0,f,i)):(n.tag=0,ze&&f&&ja(n),At(null,n,c,i),n=n.child),n;case 16:l=n.elementType;e:{switch(Gs(e,n),e=n.pendingProps,c=l._init,l=c(l._payload),n.type=l,c=n.tag=Av(l),e=sn(l,e),c){case 0:n=vu(null,n,l,e,i);break e;case 1:n=_h(null,n,l,e,i);break e;case 11:n=mh(null,n,l,e,i);break e;case 14:n=vh(null,n,l,sn(l.type,e),i);break e}throw Error(o(306,l,""))}return n;case 0:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:sn(l,c),vu(e,n,l,c,i);case 1:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:sn(l,c),_h(e,n,l,c,i);case 3:e:{if(wh(n),e===null)throw Error(o(387));l=n.pendingProps,f=n.memoizedState,c=f.element,Bf(e,n),Os(n,l,null,i);var g=n.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=ci(Error(o(423)),n),n=Eh(e,n,l,i,c);break e}else if(l!==c){c=ci(Error(o(424)),n),n=Eh(e,n,l,i,c);break e}else for(Lt=Kn(n.stateNode.containerInfo.firstChild),Ft=n,ze=!0,on=null,i=Ff(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(oi(),l===c){n=On(e,n,i);break e}At(e,n,l,i)}n=n.child}return n;case 5:return Gf(n),e===null&&Ka(n),l=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Ha(l,c)?g=null:f!==null&&Ha(l,f)&&(n.flags|=32),Ah(e,n),At(e,n,g,i),n.child;case 6:return e===null&&Ka(n),null;case 13:return Ih(e,n,i);case 4:return tu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=si(n,null,l,i):At(e,n,l,i),n.child;case 11:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:sn(l,c),mh(e,n,l,c,i);case 7:return At(e,n,n.pendingProps,i),n.child;case 8:return At(e,n,n.pendingProps.children,i),n.child;case 12:return At(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,c=n.pendingProps,f=n.memoizedProps,g=c.value,Ue(Ns,l._currentValue),l._currentValue=g,f!==null)if(rn(f.value,g)){if(f.children===c.children&&!Tt.current){n=On(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var S=f.dependencies;if(S!==null){g=f.child;for(var A=S.firstContext;A!==null;){if(A.context===l){if(f.tag===1){A=kn(-1,i&-i),A.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var U=P.pending;U===null?A.next=A:(A.next=U.next,U.next=A),P.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),qa(f.return,i,n),S.lanes|=i;break}A=A.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),qa(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}At(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,l=n.pendingProps.children,ai(n,i),c=jt(c),l=l(c),n.flags|=1,At(e,n,l,i),n.child;case 14:return l=n.type,c=sn(l,n.pendingProps),c=sn(l.type,c),vh(e,n,l,c,i);case 15:return yh(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,c=n.pendingProps,c=n.elementType===l?c:sn(l,c),Gs(e,n),n.tag=1,Ct(l)?(e=!0,ws(n)):e=!1,ai(n,i),uh(n,l,c),pu(n,l,c,i),yu(null,n,l,!0,e,i);case 19:return Ch(e,n,i);case 22:return Sh(e,n,i)}throw Error(o(156,n.tag))};function bh(e,n){return Nd(e,n)}function Sv(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,n,i,l){return new Sv(e,n,i,l)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Av(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===Te)return 14}return 2}function ir(e,n){var i=e.alternate;return i===null?(i=Kt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Zs(e,n,i,l,c,f){var g=2;if(l=e,typeof e=="function")Hu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case $:return Dr(i.children,c,f,n);case Re:g=8,c|=8;break;case Me:return e=Kt(12,i,n,c|2),e.elementType=Me,e.lanes=f,e;case Ge:return e=Kt(13,i,n,c),e.elementType=Ge,e.lanes=f,e;case Ae:return e=Kt(19,i,n,c),e.elementType=Ae,e.lanes=f,e;case ie:return qs(i,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ve:g=10;break e;case Je:g=9;break e;case Le:g=11;break e;case Te:g=14;break e;case pe:g=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Kt(g,i,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Dr(e,n,i,l){return e=Kt(7,e,l,n),e.lanes=i,e}function qs(e,n,i,l){return e=Kt(22,e,l,n),e.elementType=ie,e.lanes=i,e.stateNode={isHidden:!1},e}function xu(e,n,i){return e=Kt(6,e,null,n),e.lanes=i,e}function Gu(e,n,i){return n=Kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function _v(e,n,i,l,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function zu(e,n,i,l,c,f,g,S,A){return e=new _v(e,n,i,S,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Kt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(f),e}function wv(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}}function Zh(e){if(!e)return Qn;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ct(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Ct(i))return Tf(e,i,n)}return n}function qh(e,n,i,l,c,f,g,S,A){return e=zu(i,l,!0,e,c,f,g,S,A),e.context=Zh(null),i=e.current,l=_t(),c=nr(i),f=kn(l,c),f.callback=n??null,qn(i,f,c),e.current.lanes=c,ji(e,c,l),Pt(e,l),e}function Js(e,n,i,l){var c=n.current,f=_t(),g=nr(c);return i=Zh(i),n.context===null?n.context=i:n.pendingContext=i,n=kn(f,g),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=qn(c,n,g),e!==null&&(un(e,c,g,f),ks(e,c,g)),g}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Wu(e,n){Jh(e,n),(e=e.alternate)&&Jh(e,n)}function Ev(){return null}var ep=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}tl.prototype.render=$u.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));Js(e,n,null,null)},tl.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Pr(function(){Js(null,e,null,null)}),n[Tn]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ld();e={blockedOn:null,target:e,priority:n};for(var i=0;i<jn.length&&n!==0&&n<jn[i].priority;i++);jn.splice(i,0,e),i===0&&xd(e)}};function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tp(){}function Iv(e,n,i,l,c){if(c){if(typeof l=="function"){var f=l;l=function(){var P=el(g);f.call(P)}}var g=qh(n,l,e,0,null,!1,!1,"",tp);return e._reactRootContainer=g,e[Tn]=g.current,io(e.nodeType===8?e.parentNode:e),Pr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof l=="function"){var S=l;l=function(){var P=el(A);S.call(P)}}var A=zu(e,0,!1,null,null,!1,!1,"",tp);return e._reactRootContainer=A,e[Tn]=A.current,io(e.nodeType===8?e.parentNode:e),Pr(function(){Js(n,A,i,l)}),A}function rl(e,n,i,l,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var S=c;c=function(){var A=el(g);S.call(A)}}Js(n,g,e,c)}else g=Iv(i,n,e,c,l);return el(g)}Ud=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=$i(n.pendingLanes);i!==0&&(pa(n,i|1),Pt(n,Ke()),(Ie&6)===0&&(hi=Ke()+500,bn()))}break;case 13:Pr(function(){var l=Pn(e,1);if(l!==null){var c=_t();un(l,e,1,c)}}),Wu(e,1)}},ga=function(e){if(e.tag===13){var n=Pn(e,134217728);if(n!==null){var i=_t();un(n,e,134217728,i)}Wu(e,134217728)}},Fd=function(e){if(e.tag===13){var n=nr(e),i=Pn(e,n);if(i!==null){var l=_t();un(i,e,n,l)}Wu(e,n)}},Ld=function(){return Oe},Bd=function(e,n){var i=Oe;try{return Oe=e,n()}finally{Oe=i}},la=function(e,n,i){switch(n){case"input":if(In(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var c=As(l);if(!c)throw Error(o(90));ae(l),In(l,c)}}}break;case"textarea":fd(e,i);break;case"select":n=i.value,n!=null&&Gn(e,!!i.multiple,n,!1)}},_d=Fu,wd=Pr;var Tv={usingClientEntryPoint:!1,Events:[lo,ei,As,Sd,Ad,Fu]},wo={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cd(e),e===null?null:e.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||Ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{ts=il.inject(Cv),hn=il}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tv,kt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(n))throw Error(o(200));return wv(e,n,null,i)},kt.createRoot=function(e,n){if(!ju(e))throw Error(o(299));var i=!1,l="",c=ep;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=zu(e,1,!1,null,null,i,!1,l,c),e[Tn]=n.current,io(e.nodeType===8?e.parentNode:e),new $u(n)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Cd(n),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Pr(e)},kt.hydrate=function(e,n,i){if(!nl(n))throw Error(o(200));return rl(null,e,n,!0,i)},kt.hydrateRoot=function(e,n,i){if(!ju(e))throw Error(o(405));var l=i!=null&&i.hydratedSources||null,c=!1,f="",g=ep;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=qh(n,null,e,1,i??null,c,!1,f,g),e[Tn]=n.current,io(e),l)for(e=0;e<l.length;e++)i=l[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new tl(n)},kt.render=function(e,n,i){if(!nl(n))throw Error(o(200));return rl(null,e,n,!1,i)},kt.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return e._reactRootContainer?(Pr(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1},kt.unstable_batchedUpdates=Fu,kt.unstable_renderSubtreeIntoContainer=function(e,n,i,l){if(!nl(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return rl(e,n,i,!1,l)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var up;function Lv(){if(up)return Ku.exports;up=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Ku.exports=Fv(),Ku.exports}var cp;function Bv(){if(cp)return ol;cp=1;var t=Lv();return ol.createRoot=t.createRoot,ol.hydrateRoot=t.hydrateRoot,ol}var Hv=Bv();const xv=Sg(Hv),Ag=ye.createContext(void 0),Gv=({initialAppState:t,children:r})=>{const[o,s]=ye.useState(t),[u,a]=ye.useState(void 0),d=(h,p)=>{s(h),h==="gameOver"&&p?a(p):h!=="gameOver"&&a(void 0)};return we.jsx(Ag.Provider,{value:{appState:o,setAppState:d,gameOverDetails:u},children:r})},zl=()=>{const t=ye.useContext(Ag);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var yt=function(){return yt=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},yt.apply(this,arguments)};function Ho(t,r,o){if(o||arguments.length===2)for(var s=0,u=r.length,a;s<u;s++)(a||!(s in r))&&(a||(a=Array.prototype.slice.call(r,0,s)),a[s]=r[s]);return t.concat(a||Array.prototype.slice.call(r))}var xe="-ms-",Mo="-moz-",Pe="-webkit-",_g="comm",Wl="rule",Fc="decl",zv="@import",wg="@keyframes",Wv="@layer",Eg=Math.abs,Lc=String.fromCharCode,yc=Object.assign;function $v(t,r){return lt(t,0)^45?(((r<<2^lt(t,0))<<2^lt(t,1))<<2^lt(t,2))<<2^lt(t,3):0}function Ig(t){return t.trim()}function Fn(t,r){return(t=r.exec(t))?t[0]:t}function me(t,r,o){return t.replace(r,o)}function Cl(t,r,o){return t.indexOf(r,o)}function lt(t,r){return t.charCodeAt(r)|0}function Ci(t,r,o){return t.slice(r,o)}function Sn(t){return t.length}function Tg(t){return t.length}function ko(t,r){return r.push(t),t}function jv(t,r){return t.map(r).join("")}function dp(t,r){return t.filter(function(o){return!Fn(o,r)})}var $l=1,Ri=1,Cg=0,Jt=0,Ze=0,Li="";function jl(t,r,o,s,u,a,d,h){return{value:t,root:r,parent:o,type:s,props:u,children:a,line:$l,column:Ri,length:d,return:"",siblings:h}}function cr(t,r){return yc(jl("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function gi(t){for(;t.root;)t=cr(t.root,{children:[t]});ko(t,t.siblings)}function Yv(){return Ze}function Vv(){return Ze=Jt>0?lt(Li,--Jt):0,Ri--,Ze===10&&(Ri=1,$l--),Ze}function dn(){return Ze=Jt<Cg?lt(Li,Jt++):0,Ri++,Ze===10&&(Ri=1,$l++),Ze}function zr(){return lt(Li,Jt)}function Rl(){return Jt}function Yl(t,r){return Ci(Li,t,r)}function Sc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kv(t){return $l=Ri=1,Cg=Sn(Li=t),Jt=0,[]}function Xv(t){return Li="",t}function bu(t){return Ig(Yl(Jt-1,Ac(t===91?t+2:t===40?t+1:t)))}function Qv(t){for(;(Ze=zr())&&Ze<33;)dn();return Sc(t)>2||Sc(Ze)>3?"":" "}function bv(t,r){for(;--r&&dn()&&!(Ze<48||Ze>102||Ze>57&&Ze<65||Ze>70&&Ze<97););return Yl(t,Rl()+(r<6&&zr()==32&&dn()==32))}function Ac(t){for(;dn();)switch(Ze){case t:return Jt;case 34:case 39:t!==34&&t!==39&&Ac(Ze);break;case 40:t===41&&Ac(t);break;case 92:dn();break}return Jt}function Zv(t,r){for(;dn()&&t+Ze!==57;)if(t+Ze===84&&zr()===47)break;return"/*"+Yl(r,Jt-1)+"*"+Lc(t===47?t:dn())}function qv(t){for(;!Sc(zr());)dn();return Yl(t,Jt)}function Jv(t){return Xv(Nl("",null,null,null,[""],t=Kv(t),0,[0],t))}function Nl(t,r,o,s,u,a,d,h,p){for(var v=0,m=0,y=d,_=0,R=0,k=0,O=1,I=1,G=1,z=0,W="",j=u,ue=a,F=s,$=W;I;)switch(k=z,z=dn()){case 40:if(k!=108&&lt($,y-1)==58){Cl($+=me(bu(z),"&","&\f"),"&\f",Eg(v?h[v-1]:0))!=-1&&(G=-1);break}case 34:case 39:case 91:$+=bu(z);break;case 9:case 10:case 13:case 32:$+=Qv(k);break;case 92:$+=bv(Rl()-1,7);continue;case 47:switch(zr()){case 42:case 47:ko(ey(Zv(dn(),Rl()),r,o,p),p);break;default:$+="/"}break;case 123*O:h[v++]=Sn($)*G;case 125*O:case 59:case 0:switch(z){case 0:case 125:I=0;case 59+m:G==-1&&($=me($,/\f/g,"")),R>0&&Sn($)-y&&ko(R>32?hp($+";",s,o,y-1,p):hp(me($," ","")+";",s,o,y-2,p),p);break;case 59:$+=";";default:if(ko(F=fp($,r,o,v,m,u,h,W,j=[],ue=[],y,a),a),z===123)if(m===0)Nl($,r,F,F,j,a,y,h,ue);else switch(_===99&&lt($,3)===110?100:_){case 100:case 108:case 109:case 115:Nl(t,F,F,s&&ko(fp(t,F,F,0,0,u,h,W,u,j=[],y,ue),ue),u,ue,y,h,s?j:ue);break;default:Nl($,F,F,F,[""],ue,0,h,ue)}}v=m=R=0,O=G=1,W=$="",y=d;break;case 58:y=1+Sn($),R=k;default:if(O<1){if(z==123)--O;else if(z==125&&O++==0&&Vv()==125)continue}switch($+=Lc(z),z*O){case 38:G=m>0?1:($+="\f",-1);break;case 44:h[v++]=(Sn($)-1)*G,G=1;break;case 64:zr()===45&&($+=bu(dn())),_=zr(),m=y=Sn(W=$+=qv(Rl())),z++;break;case 45:k===45&&Sn($)==2&&(O=0)}}return a}function fp(t,r,o,s,u,a,d,h,p,v,m,y){for(var _=u-1,R=u===0?a:[""],k=Tg(R),O=0,I=0,G=0;O<s;++O)for(var z=0,W=Ci(t,_+1,_=Eg(I=d[O])),j=t;z<k;++z)(j=Ig(I>0?R[z]+" "+W:me(W,/&\f/g,R[z])))&&(p[G++]=j);return jl(t,r,o,u===0?Wl:h,p,v,m,y)}function ey(t,r,o,s){return jl(t,r,o,_g,Lc(Yv()),Ci(t,2,-2),0,s)}function hp(t,r,o,s,u){return jl(t,r,o,Fc,Ci(t,0,s),Ci(t,s+1,-1),s,u)}function Rg(t,r,o){switch($v(t,r)){case 5103:return Pe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+t+t;case 4789:return Mo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+t+Mo+t+xe+t+t;case 5936:switch(lt(t,r+11)){case 114:return Pe+t+xe+me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pe+t+xe+me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pe+t+xe+me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Pe+t+xe+t+t;case 6165:return Pe+t+xe+"flex-"+t+t;case 5187:return Pe+t+me(t,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+xe+"flex-$1$2")+t;case 5443:return Pe+t+xe+"flex-item-"+me(t,/flex-|-self/g,"")+(Fn(t,/flex-|baseline/)?"":xe+"grid-row-"+me(t,/flex-|-self/g,""))+t;case 4675:return Pe+t+xe+"flex-line-pack"+me(t,/align-content|flex-|-self/g,"")+t;case 5548:return Pe+t+xe+me(t,"shrink","negative")+t;case 5292:return Pe+t+xe+me(t,"basis","preferred-size")+t;case 6060:return Pe+"box-"+me(t,"-grow","")+Pe+t+xe+me(t,"grow","positive")+t;case 4554:return Pe+me(t,/([^-])(transform)/g,"$1"+Pe+"$2")+t;case 6187:return me(me(me(t,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),t,"")+t;case 5495:case 3959:return me(t,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return me(me(t,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+t+t;case 4200:if(!Fn(t,/flex-|baseline/))return xe+"grid-column-align"+Ci(t,r)+t;break;case 2592:case 3360:return xe+me(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(s,u){return r=u,Fn(s.props,/grid-\w+-end/)})?~Cl(t+(o=o[r].value),"span",0)?t:xe+me(t,"-start","")+t+xe+"grid-row-span:"+(~Cl(o,"span",0)?Fn(o,/\d+/):+Fn(o,/\d+/)-+Fn(t,/\d+/))+";":xe+me(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(s){return Fn(s.props,/grid-\w+-start/)})?t:xe+me(me(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return me(t,/(.+)-inline(.+)/,Pe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sn(t)-1-r>6)switch(lt(t,r+1)){case 109:if(lt(t,r+4)!==45)break;case 102:return me(t,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Mo+(lt(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Cl(t,"stretch",0)?Rg(me(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return me(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,u,a,d,h,p,v){return xe+u+":"+a+v+(d?xe+u+"-span:"+(h?p:+p-+a)+v:"")+t});case 4949:if(lt(t,r+6)===121)return me(t,":",":"+Pe)+t;break;case 6444:switch(lt(t,lt(t,14)===45?18:11)){case 120:return me(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pe+(lt(t,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+xe+"$2box$3")+t;case 100:return me(t,":",":"+xe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return me(t,"scroll-","scroll-snap-")+t}return t}function Ml(t,r){for(var o="",s=0;s<t.length;s++)o+=r(t[s],s,t,r)||"";return o}function ty(t,r,o,s){switch(t.type){case Wv:if(t.children.length)break;case zv:case Fc:return t.return=t.return||t.value;case _g:return"";case wg:return t.return=t.value+"{"+Ml(t.children,s)+"}";case Wl:if(!Sn(t.value=t.props.join(",")))return""}return Sn(o=Ml(t.children,s))?t.return=t.value+"{"+o+"}":""}function ny(t){var r=Tg(t);return function(o,s,u,a){for(var d="",h=0;h<r;h++)d+=t[h](o,s,u,a)||"";return d}}function ry(t){return function(r){r.root||(r=r.return)&&t(r)}}function iy(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case Fc:t.return=Rg(t.value,t.length,o);return;case wg:return Ml([cr(t,{value:me(t.value,"@","@"+Pe)})],s);case Wl:if(t.length)return jv(o=t.props,function(u){switch(Fn(u,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gi(cr(t,{props:[me(u,/:(read-\w+)/,":"+Mo+"$1")]})),gi(cr(t,{props:[u]})),yc(t,{props:dp(o,s)});break;case"::placeholder":gi(cr(t,{props:[me(u,/:(plac\w+)/,":"+Pe+"input-$1")]})),gi(cr(t,{props:[me(u,/:(plac\w+)/,":"+Mo+"$1")]})),gi(cr(t,{props:[me(u,/:(plac\w+)/,xe+"input-$1")]})),gi(cr(t,{props:[u]})),yc(t,{props:dp(o,s)});break}return""})}}var oy={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xt={},Ni=typeof process<"u"&&xt!==void 0&&(xt.REACT_APP_SC_ATTR||xt.SC_ATTR)||"data-styled",Ng="active",Pg="data-styled-version",Vl="6.1.13",Bc=`/*!sc*/
`,Ul=typeof window<"u"&&"HTMLElement"in window,sy=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xt!==void 0&&xt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xt.REACT_APP_SC_DISABLE_SPEEDY!==""?xt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xt!==void 0&&xt.SC_DISABLE_SPEEDY!==void 0&&xt.SC_DISABLE_SPEEDY!==""&&xt.SC_DISABLE_SPEEDY!=="false"&&xt.SC_DISABLE_SPEEDY),ly={},Kl=Object.freeze([]),Pi=Object.freeze({});function kg(t,r,o){return o===void 0&&(o=Pi),t.theme!==o.theme&&t.theme||r||o.theme}var Og=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ay=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,uy=/(^-|-$)/g;function pp(t){return t.replace(ay,"-").replace(uy,"")}var cy=/(a)(d)/gi,sl=52,gp=function(t){return String.fromCharCode(t+(t>25?39:97))};function _c(t){var r,o="";for(r=Math.abs(t);r>sl;r=r/sl|0)o=gp(r%sl)+o;return(gp(r%sl)+o).replace(cy,"$1-$2")}var Zu,Dg=5381,_i=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},Mg=function(t){return _i(Dg,t)};function Ug(t){return _c(Mg(t)>>>0)}function dy(t){return t.displayName||t.name||"Component"}function qu(t){return typeof t=="string"&&!0}var Fg=typeof Symbol=="function"&&Symbol.for,Lg=Fg?Symbol.for("react.memo"):60115,fy=Fg?Symbol.for("react.forward_ref"):60112,hy={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},py={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Bg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gy=((Zu={})[fy]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zu[Lg]=Bg,Zu);function mp(t){return("type"in(r=t)&&r.type.$$typeof)===Lg?Bg:"$$typeof"in t?gy[t.$$typeof]:hy;var r}var my=Object.defineProperty,vy=Object.getOwnPropertyNames,vp=Object.getOwnPropertySymbols,yy=Object.getOwnPropertyDescriptor,Sy=Object.getPrototypeOf,yp=Object.prototype;function Hg(t,r,o){if(typeof r!="string"){if(yp){var s=Sy(r);s&&s!==yp&&Hg(t,s,o)}var u=vy(r);vp&&(u=u.concat(vp(r)));for(var a=mp(t),d=mp(r),h=0;h<u.length;++h){var p=u[h];if(!(p in py||o&&o[p]||d&&p in d||a&&p in a)){var v=yy(r,p);try{my(t,p,v)}catch{}}}}return t}function ki(t){return typeof t=="function"}function Hc(t){return typeof t=="object"&&"styledComponentId"in t}function Hr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function wc(t,r){if(t.length===0)return"";for(var o=t[0],s=1;s<t.length;s++)o+=t[s];return o}function xo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Ec(t,r,o){if(o===void 0&&(o=!1),!o&&!xo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)t[s]=Ec(t[s],r[s]);else if(xo(r))for(var s in r)t[s]=Ec(t[s],r[s]);return t}function xc(t,r){Object.defineProperty(t,"toString",{value:r})}function bo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Ay=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,u=s.length,a=u;r>=a;)if((a<<=1)<0)throw bo(16,"".concat(r));this.groupSizes=new Uint32Array(a),this.groupSizes.set(s),this.length=a;for(var d=u;d<a;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(r+1),p=(d=0,o.length);d<p;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[r]++,h++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),u=s+o;this.groupSizes[r]=0;for(var a=s;a<u;a++)this.tag.deleteRule(s)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],u=this.indexOfGroup(r),a=u+s,d=u;d<a;d++)o+="".concat(this.tag.getRule(d)).concat(Bc);return o},t}(),Pl=new Map,Fl=new Map,kl=1,ll=function(t){if(Pl.has(t))return Pl.get(t);for(;Fl.has(kl);)kl++;var r=kl++;return Pl.set(t,r),Fl.set(r,t),r},_y=function(t,r){kl=r+1,Pl.set(t,r),Fl.set(r,t)},wy="style[".concat(Ni,"][").concat(Pg,'="').concat(Vl,'"]'),Ey=new RegExp("^".concat(Ni,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Iy=function(t,r,o){for(var s,u=o.split(","),a=0,d=u.length;a<d;a++)(s=u[a])&&t.registerName(r,s)},Ty=function(t,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(Bc),u=[],a=0,d=s.length;a<d;a++){var h=s[a].trim();if(h){var p=h.match(Ey);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(_y(m,v),Iy(t,m,p[3]),t.getTag().insertRules(v,u)),u.length=0}else u.push(h)}}},Sp=function(t){for(var r=document.querySelectorAll(wy),o=0,s=r.length;o<s;o++){var u=r[o];u&&u.getAttribute(Ni)!==Ng&&(Ty(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function Cy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var xg=function(t){var r=document.head,o=t||r,s=document.createElement("style"),u=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Ni,"]")));return p[p.length-1]}(o),a=u!==void 0?u.nextSibling:null;s.setAttribute(Ni,Ng),s.setAttribute(Pg,Vl);var d=Cy();return d&&s.setAttribute("nonce",d),o.insertBefore(s,a),s},Ry=function(){function t(r){this.element=xg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,u=0,a=s.length;u<a;u++){var d=s[u];if(d.ownerNode===o)return d}throw bo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),Ny=function(){function t(r){this.element=xg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),Py=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),Ap=Ul,ky={isServer:!Ul,useCSSOMInjection:!sy},Ll=function(){function t(r,o,s){r===void 0&&(r=Pi),o===void 0&&(o={});var u=this;this.options=yt(yt({},ky),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&Ul&&Ap&&(Ap=!1,Sp(this)),xc(this,function(){return function(a){for(var d=a.getTag(),h=d.length,p="",v=function(y){var _=function(G){return Fl.get(G)}(y);if(_===void 0)return"continue";var R=a.names.get(_),k=d.getGroup(y);if(R===void 0||!R.size||k.length===0)return"continue";var O="".concat(Ni,".g").concat(y,'[id="').concat(_,'"]'),I="";R!==void 0&&R.forEach(function(G){G.length>0&&(I+="".concat(G,","))}),p+="".concat(k).concat(O,'{content:"').concat(I,'"}').concat(Bc)},m=0;m<h;m++)v(m);return p}(u)})}return t.registerId=function(r){return ll(r)},t.prototype.rehydrate=function(){!this.server&&Ul&&Sp(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(yt(yt({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,u=o.target;return o.isServer?new Py(u):s?new Ry(u):new Ny(u)}(this.options),new Ay(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(ll(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},t.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(ll(r),s)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(ll(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Oy=/&/g,Dy=/^\s*\/\/.*$/gm;function Gg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Gg(o.children,r)),o})}function My(t){var r,o,s,u=Pi,a=u.options,d=a===void 0?Pi:a,h=u.plugins,p=h===void 0?Kl:h,v=function(_,R,k){return k.startsWith(o)&&k.endsWith(o)&&k.replaceAll(o,"").length>0?".".concat(r):_},m=p.slice();m.push(function(_){_.type===Wl&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(Oy,o).replace(s,v))}),d.prefix&&m.push(iy),m.push(ty);var y=function(_,R,k,O){R===void 0&&(R=""),k===void 0&&(k=""),O===void 0&&(O="&"),r=O,o=R,s=new RegExp("\\".concat(o,"\\b"),"g");var I=_.replace(Dy,""),G=Jv(k||R?"".concat(k," ").concat(R," { ").concat(I," }"):I);d.namespace&&(G=Gg(G,d.namespace));var z=[];return Ml(G,ny(m.concat(ry(function(W){return z.push(W)})))),z};return y.hash=p.length?p.reduce(function(_,R){return R.name||bo(15),_i(_,R.name)},Dg).toString():"",y}var Uy=new Ll,Ic=My(),zg=An.createContext({shouldForwardProp:void 0,styleSheet:Uy,stylis:Ic});zg.Consumer;An.createContext(void 0);function Tc(){return ye.useContext(zg)}var Fy=function(){function t(r,o){var s=this;this.inject=function(u,a){a===void 0&&(a=Ic);var d=s.name+a.hash;u.hasNameForId(s.id,d)||u.insertRules(s.id,d,a(s.rules,d,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,xc(this,function(){throw bo(12,String(s.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=Ic),this.name+r.hash},t}(),Ly=function(t){return t>="A"&&t<="Z"};function _p(t){for(var r="",o=0;o<t.length;o++){var s=t[o];if(o===1&&s==="-"&&t[0]==="-")return t;Ly(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var Wg=function(t){return t==null||t===!1||t===""},$g=function(t){var r,o,s=[];for(var u in t){var a=t[u];t.hasOwnProperty(u)&&!Wg(a)&&(Array.isArray(a)&&a.isCss||ki(a)?s.push("".concat(_p(u),":"),a,";"):xo(a)?s.push.apply(s,Ho(Ho(["".concat(u," {")],$g(a),!1),["}"],!1)):s.push("".concat(_p(u),": ").concat((r=u,(o=a)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in oy||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function pr(t,r,o,s){if(Wg(t))return[];if(Hc(t))return[".".concat(t.styledComponentId)];if(ki(t)){if(!ki(a=t)||a.prototype&&a.prototype.isReactComponent||!r)return[t];var u=t(r);return pr(u,r,o,s)}var a;return t instanceof Fy?o?(t.inject(o,s),[t.getName(s)]):[t]:xo(t)?$g(t):Array.isArray(t)?Array.prototype.concat.apply(Kl,t.map(function(d){return pr(d,r,o,s)})):[t.toString()]}function jg(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(ki(o)&&!Hc(o))return!1}return!0}var By=Mg(Vl),Hy=function(){function t(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&jg(r),this.componentId=o,this.baseHash=_i(By,o),this.baseStyle=s,Ll.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,s){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Hr(u,this.staticRulesId);else{var a=wc(pr(this.rules,r,o,s)),d=_c(_i(this.baseHash,a)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(a,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}u=Hr(u,d),this.staticRulesId=d}else{for(var p=_i(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")v+=y;else if(y){var _=wc(pr(y,r,o,s));p=_i(p,_+m),v+=_}}if(v){var R=_c(p>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,s(v,".".concat(R),void 0,this.componentId)),u=Hr(u,R)}}return u},t}(),Gc=An.createContext(void 0);Gc.Consumer;var Ju={};function xy(t,r,o){var s=Hc(t),u=t,a=!qu(t),d=r.attrs,h=d===void 0?Kl:d,p=r.componentId,v=p===void 0?function(j,ue){var F=typeof j!="string"?"sc":pp(j);Ju[F]=(Ju[F]||0)+1;var $="".concat(F,"-").concat(Ug(Vl+F+Ju[F]));return ue?"".concat(ue,"-").concat($):$}(r.displayName,r.parentComponentId):p,m=r.displayName,y=m===void 0?function(j){return qu(j)?"styled.".concat(j):"Styled(".concat(dy(j),")")}(t):m,_=r.displayName&&r.componentId?"".concat(pp(r.displayName),"-").concat(r.componentId):r.componentId||v,R=s&&u.attrs?u.attrs.concat(h).filter(Boolean):h,k=r.shouldForwardProp;if(s&&u.shouldForwardProp){var O=u.shouldForwardProp;if(r.shouldForwardProp){var I=r.shouldForwardProp;k=function(j,ue){return O(j,ue)&&I(j,ue)}}else k=O}var G=new Hy(o,_,s?u.componentStyle:void 0);function z(j,ue){return function(F,$,Re){var Me=F.attrs,Ve=F.componentStyle,Je=F.defaultProps,Le=F.foldedComponentIds,Ge=F.styledComponentId,Ae=F.target,Te=An.useContext(Gc),pe=Tc(),ie=F.shouldForwardProp||pe.shouldForwardProp,H=kg($,Te,Je)||Pi,V=function(ve,oe,ge){for(var ce,X=yt(yt({},oe),{className:void 0,theme:ge}),ne=0;ne<ve.length;ne+=1){var Ne=ki(ce=ve[ne])?ce(X):ce;for(var ae in Ne)X[ae]=ae==="className"?Hr(X[ae],Ne[ae]):ae==="style"?yt(yt({},X[ae]),Ne[ae]):Ne[ae]}return oe.className&&(X.className=Hr(X.className,oe.className)),X}(Me,$,H),x=V.as||Ae,E={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===H||(D==="forwardedAs"?E.as=V.forwardedAs:ie&&!ie(D,x)||(E[D]=V[D]));var te=function(ve,oe){var ge=Tc(),ce=ve.generateAndInjectStyles(oe,ge.styleSheet,ge.stylis);return ce}(Ve,V),q=Hr(Le,Ge);return te&&(q+=" "+te),V.className&&(q+=" "+V.className),E[qu(x)&&!Og.has(x)?"class":"className"]=q,E.ref=Re,ye.createElement(x,E)}(W,j,ue)}z.displayName=y;var W=An.forwardRef(z);return W.attrs=R,W.componentStyle=G,W.displayName=y,W.shouldForwardProp=k,W.foldedComponentIds=s?Hr(u.foldedComponentIds,u.styledComponentId):"",W.styledComponentId=_,W.target=s?u.target:t,Object.defineProperty(W,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=s?function(ue){for(var F=[],$=1;$<arguments.length;$++)F[$-1]=arguments[$];for(var Re=0,Me=F;Re<Me.length;Re++)Ec(ue,Me[Re],!0);return ue}({},u.defaultProps,j):j}}),xc(W,function(){return".".concat(W.styledComponentId)}),a&&Hg(W,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),W}function wp(t,r){for(var o=[t[0]],s=0,u=r.length;s<u;s+=1)o.push(r[s],t[s+1]);return o}var Ep=function(t){return Object.assign(t,{isCss:!0})};function Yg(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(ki(t)||xo(t))return Ep(pr(wp(Kl,Ho([t],r,!0))));var s=t;return r.length===0&&s.length===1&&typeof s[0]=="string"?pr(s):Ep(pr(wp(s,r)))}function Cc(t,r,o){if(o===void 0&&(o=Pi),!r)throw bo(1,r);var s=function(u){for(var a=[],d=1;d<arguments.length;d++)a[d-1]=arguments[d];return t(r,o,Yg.apply(void 0,Ho([u],a,!1)))};return s.attrs=function(u){return Cc(t,r,yt(yt({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},s.withConfig=function(u){return Cc(t,r,yt(yt({},o),u))},s}var Vg=function(t){return Cc(xy,t)},wn=Vg;Og.forEach(function(t){wn[t]=Vg(t)});var Gy=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=jg(r),Ll.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,s,u){var a=u(wc(pr(this.rules,o,s,u)),""),d=this.componentId+r;s.insertRules(d,d,a)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,s,u){r>2&&Ll.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,u)},t}();function zy(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=Yg.apply(void 0,Ho([t],r,!1)),u="sc-global-".concat(Ug(JSON.stringify(s))),a=new Gy(s,u),d=function(p){var v=Tc(),m=An.useContext(Gc),y=An.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&h(y,p,v.styleSheet,m,v.stylis),An.useLayoutEffect(function(){if(!v.styleSheet.server)return h(y,p,v.styleSheet,m,v.stylis),function(){return a.removeStyles(y,v.styleSheet)}},[y,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,y,_){if(a.isStatic)a.renderStyles(p,ly,m,_);else{var R=yt(yt({},v),{theme:kg(v,y,d.defaultProps)});a.renderStyles(p,R,m,_)}}return An.memo(d)}function Kg(t,r){var o=ye.useRef(null),s=ye.useRef(!1),u=ye.useRef(t);u.current=t;var a=ye.useCallback(function(h){s.current&&(u.current(h),o.current=requestAnimationFrame(a))},[]),d=ye.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(a))},function(){return s.current}]},[]);return ye.useEffect(function(){return d[0]},[]),d}function Wy(t,r,o,s,u){var d;(d=t.onExit)==null||d.call(t,s,r);const a=u.find(({id:h})=>h===r);return a!=null&&a.onEnter?a.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function $y(t,r){return r.find(({id:o})=>o===t)}function jy(t,r){return t!==r}function Yy(t){console.warn(`No handler found for state: ${t}`)}const Uo="bushGrowing",Br="bushFull",Ol="bushSpreading",Go="bushDying",Qt=24,bt=10,xr=3e3,Gr=3e3,zc=2,Vy=5,Ky=3,Xy=12,Qy=940,by=.7,Rc=20,Ip=90,Xg=45,Qg=240,bg=10,zo=80,Zy=3,Io=5,en=150,Zg=en*.8,qy=en*.2,St=en*.95,mr=30,qg=10,Jy=10,eS=.5,ut=30,vr=ut*.75,Jg=50,tS=20,nS=zo*.8,rS=.7,iS=16,Ln=40,oS=24,Wc=16,sS=72/3,Tp=24,lS=1.25,aS=1.5,$c=en*.6,jc=50,uS=1,cS=350,em=zo*.65,dS=80,fS=50,hS=1,pS=128,tm=10,Cp=100,gS=35,Xl=ut,nm=.5,rm=2.5,mS=5,vS=.5,yS=1.5,SS=.1,AS=.5,_S=1.5,wS=.25,ES=2.5,IS=45,TS=.05,Wo=5,CS=.5,Rp=100,RS=300,Ql=30,$o=1,Np=en*.6,NS=en*.25,PS=en*.7,kS=en*.8,im=100,OS=250,DS=120,MS=2,US=400,FS=1e3,LS=en*.85,BS=100,HS=3,xS=96,GS=24,zS=600,om=600,WS=1,$S=24,jS=1,YS=.5,Pp=24,Nc=12,kp=40,VS=.3,KS=24,Op=300,Dp=24,XS=1500,ec=500,QS=400,bS=10,ZS=-5,qS=1.5,JS=1.2,eA=10,tA=150,nA=200,rA=100,iA=100,oA=.7,sA=300,lA=100,aA=120,Mp=400,Oi=10,sm=250,jo=12,al=vr*1.2,lm=10,uA=20,am=.15,um=200,Zt=30,bl=Zt*.6,Yc="#4CAF50",cm="#FF5722",dm="#9C27B0",cA="#2196F3",fm="#FFC107",dA="#FFD700",hm="#DC143C",Vc="#FFFFFF",Kc=[5,5],Zl=5,Di=15,fA=20,hA=16,pA=10,gA=16,mA=16,Up=["","","","","","","","","",""],Pc=8,vA="#FFFFFF",dr=18,Ot=15,yA="rgba(0, 0, 0, 0.7)",SA=4,sr=150,Ht=15,Mn=10,wi="#555",AA="#f44336",_A="#4CAF50",wA="#2196F3",EA="#FFC107",ul=16,IA=9,Mr=32,cl=28,TA=10,CA=8,RA=8,NA=8,dl=28,fl=40,PA="rgba(255, 215, 0, 0.7)",kA="rgba(0, 0, 0, 0.3)",lr=10,Fp=8,tc=11,ar=20,nc=40,Lp=5,OA=10,DA="#FFA500",MA="#808080",Ei=120,UA=30,FA=20,hl="#2d3748",Ii="#ffffff",rc="#4a5568",LA=5,BA="#bdc9f792",HA="#272c36ff",xA="#a0aec0",Bp=300,GA="rgba(255, 255, 255, 0.5)",zA="rgba(0, 0, 0, 0.8)",WA="#FFFFFF",Hp=14,xp=8,Gp=-15,$A="#FFD700",jA=5,YA=60,VA=-50,KA=10,ic=12,zp=10,XA="rgba(0, 0, 0, 0.5)",QA="#4CAF50",bA="#F44336",ZA="#FFC107",qA="rgba(255, 255, 255, 0.2)",Wp="#FFFFFF",JA="#FF6B6B",e_=5,pm=30,To=50,pl=8,$p=10,t_="rgba(0, 0, 0, 0.5)",n_="#FFFFFF",r_=33,i_=400,o_=20,s_=10,l_="rgba(0, 0, 0, 0.7)",a_="#FFFFFF",oc=20,jp=16,u_=.5,Yp=5,gm="#FFD700",c_=40,mm=4,d_=3,f_=5,qt=1,Oo=3,h_=70,Vp=600,p_=1.5,vm=.1,g_=15,m_=5e3,Ur=80,gl=10;function rt(t,r,o,s,u){const a={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:s,entityId:u};return t.visualEffects.push(a),t.nextVisualEffectId++,a.id}var _e=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t[t.CallToFollow=16]="CallToFollow",t[t.AutopilotMoveTarget=17]="AutopilotMoveTarget",t))(_e||{}),Bn=(t=>(t.Berry="berry",t.Meat="meat",t))(Bn||{});const ym={berry:"",meat:""},v_={id:Uo,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/bt);return o.age+=u,o.age>=o.lifespan?{nextState:Go,data:{...t,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(rt(s.gameState,_e.BushClaimLost,o.position,qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=Xy&&o.food.length<o.maxFood&&(o.food.push({type:Bn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Br,data:{...t,enteredAt:s.gameState.time,previousState:Uo}}:{nextState:Uo,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},y_={id:Br,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/bt);return o.age+=u,o.age>=o.lifespan?{nextState:Go,data:{...t,enteredAt:s.gameState.time,previousState:Br}}:o.food.length<o.maxFood?{nextState:Uo,data:{...t,enteredAt:s.gameState.time,previousState:Br}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(rt(s.gameState,_e.BushClaimLost,o.position,qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=Ip&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=Ip&&Math.random()<o.spreadChance)?{nextState:Ol,data:{...t,enteredAt:s.gameState.time,previousState:Br}}:{nextState:Br,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function gr(t,r){return{x:t.x+r.x,y:t.y+r.y}}function Sm(t,r){return{x:t.x-r.x,y:t.y-r.y}}function _n(t,r){return{x:t.x*r,y:t.y*r}}function Mi(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function tn(t){const r=Mi(t);return r===0?{x:0,y:0}:_n(t,1/r)}function S_(t,r){return Mi(Sm(t,r))}function Xc(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function Qc(t){if(t.length===0)return{x:0,y:0};const r=t.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/t.length,y:r.y/t.length}}function Gt(t,r,o,s){let u=r.x-t.x,a=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(a)>s/2&&(a=a-Math.sign(a)*s),{x:u,y:a}}function cn(t,r,o){const s=Gt(t,r,o.width,o.height);return tn(s)}function le(t,r,o,s){const u=Gt(t,r,o,s);return Mi(u)}function A_(t,r){return t.x*r.x+t.y*r.y}function __(t,r){const o=A_(t,r),s=Mi(t),u=Mi(r);if(s===0||u===0)return 0;const a=Math.max(-1,Math.min(1,o/(s*u)));return Math.acos(a)}function w_(t,r,o){const s=Math.max(0,Math.min(1,o)),u={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},a={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},d=Math.round(u.r+(a.r-u.r)*s),h=Math.round(u.g+(a.g-u.g)*s),p=Math.round(u.b+(a.b-u.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(p)}`}var fe=(t=>(t.Gather="Gather",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.Plant="Plant",t.CallToAttack="CallToAttack",t.TribeSplit="TribeSplit",t.FollowMe="FollowMe",t.FeedChild="FeedChild",t.AutopilotMove="AutopilotMove",t.AutopilotGather="AutopilotGather",t.AutopilotAttack="AutopilotAttack",t.AutopilotProcreate="AutopilotProcreate",t.AutopilotPlant="AutopilotPlant",t.AutopilotFeedChild="AutopilotFeedChild",t.AutopilotFollowMe="AutopilotFollowMe",t))(fe||{});const ql={Gather:"",Eat:"",Procreate:"",Attack:"",Plant:"",CallToAttack:"",TribeSplit:"",FollowMe:"",FeedChild:"",AutopilotMove:"",AutopilotGather:"",AutopilotAttack:"",AutopilotProcreate:"",AutopilotPlant:"",AutopilotFeedChild:"",AutopilotFollowMe:""},Am={Gather:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",Plant:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FollowMe:"Follow Me",FeedChild:"Feed Child",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChild:"Feed",AutopilotFollowMe:"Follow"};var Ai=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(Ai||{});const Co={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var De=(t=>(t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t.FastForward="FastForward",t.CommandEat="CommandEat",t.CommandPlant="CommandPlant",t.CommandCallToAttack="CommandCallToAttack",t.CommandFollowMe="CommandFollowMe",t.CommandGather="CommandGather",t.CommandTribeSplit="CommandTribeSplit",t.ToggleProcreationBehavior="ToggleProcreationBehavior",t.ToggleAttackBehavior="ToggleAttackBehavior",t.ToggleFeedChildBehavior="ToggleFeedChildBehavior",t.TogglePlantingBehavior="TogglePlantingBehavior",t.ToggleGatheringBehavior="ToggleGatheringBehavior",t.ToggleAutopilotFollowLeaderBehavior="ToggleAutopilotFollowLeaderBehavior",t))(De||{});const sc=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,E_=""+new URL("gather-CU75596W.mp3",import.meta.url).href,I_=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,lc=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,T_=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,C_=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,R_=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,N_=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,P_=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,k_=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Fe=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.TribeSplit=9]="TribeSplit",t[t.CallToFollow=10]="CallToFollow",t[t.GameOver=11]="GameOver",t[t.ButtonClick=12]="ButtonClick",t[t.SoundTrack1=13]="SoundTrack1",t))(Fe||{});const O_=new Map([[0,sc],[1,E_],[2,I_],[3,lc],[4,T_],[5,C_],[6,R_],[11,N_],[12,P_],[7,sc],[8,sc],[9,lc],[10,lc],[13,k_]]);let Ro,Yo;function D_(){if(!(typeof window>"u"))return Yo}function bc(){if(!(typeof window>"u"))return!Ro&&typeof window.AudioContext=="function"&&(Ro=new window.AudioContext,Yo=Ro.createGain(),Yo.connect(Ro.destination),Fo(.1,!1)),Ro}function Fo(t,r){Yo&&(Yo.gain.value=r?0:t/10)}const _m=new Map;let ml=!1,Kp=!1;async function M_(){if(Kp||ml)return;const t=bc();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),ml=!0,console.log("Starting sound loading...");const r=[];O_.forEach((o,s)=>{const u=fetch(o).then(a=>{if(!a.ok)throw new Error(`Failed to fetch sound: ${o}`);return a.arrayBuffer()}).then(a=>t.decodeAudioData(a)).then(a=>{_m.set(s,a)}).catch(a=>{console.error(`Error loading sound ${Fe[s]} from ${o}:`,a)});r.push(u)});try{await Promise.all(r),Kp=!0,ml=!1,console.log("All sounds loaded successfully.")}catch(o){ml=!1,console.error("An error occurred while loading sounds:",o)}}const Lo=new Map;function Zc(t,r){const o=bc(),s=D_();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const u=_m.get(t);if(!u){console.warn(`Sound buffer not found for type: ${Fe[t]}`);return}if(r!=null&&r.trackId&&Lo.has(r.trackId))return;const a=o.createBufferSource();a.buffer=u,a.loop=(r==null?void 0:r.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let p=d;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=Gt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=le(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>Vp)return;const y=1-Math.pow(m/Vp,p_);d.gain.value=Math.max(0,y);const _=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(_)?0:_,d.connect(h),p=h}else{const v=t===Fe.GameOver?.4:t===Fe.SoundTrack1?1:.2;d.gain.value=v}a.connect(p),p.connect(s),a.start(0),r!=null&&r.trackId&&(Lo.set(r.trackId,{sourceNode:a,gainNode:d}),a.onended=()=>{Lo.delete(r.trackId)})}function Xp(t,r=1){const o=Lo.get(t),s=bc();if(o&&s){const{sourceNode:u,gainNode:a}=o,d=s.currentTime;a.gain.setValueAtTime(a.gain.value,d),a.gain.linearRampToValueAtTime(0,d+r),u.stop(d+r),u.onended=null,Lo.delete(t)}}function nt(t,r,o){const s=It(t.gameState);s&&Zc(r,{position:o,listenerPosition:s.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}function qc(t,r){const o=[];if(r.food.length>0&&r.hunger>mr&&o.push({type:fe.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const a=at(r,t,"berryBush",ut,p=>p.food.length>0),d=at(r,t,"humanCorpse",ut,p=>p.food.length>0);let h=null;a&&d?h=le(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<=le(r.position,d.position,t.mapDimensions.width,t.mapDimensions.height)?a:d:h=a||d,h&&o.push({type:fe.Gather,action:"gathering",key:"e",targetEntity:h})}const s=at(r,t,"human",ut,a=>{const d=a;return(d.id!==r.id&&d.gender!==r.gender&&d.isAdult&&r.isAdult&&d.hunger<St&&r.hunger<St&&(d.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(d.gender==="female"?!d.isPregnant&&d.age<=Ln:!r.isPregnant&&r.age<=Ln))??!1});if(s&&o.push({type:fe.Procreate,action:"procreating",key:"r",targetEntity:s}),r.food.length>0&&r.isAdult){const a=at(r,t,"human",ut,d=>{const h=d;return!h.isAdult&&(h.motherId===r.id||h.fatherId===r.id)&&h.hunger>=mr});a&&o.push({type:fe.FeedChild,action:"feeding",key:"h",targetEntity:a})}const u=at(r,t,"human",Xl,a=>a.id!==r.id&&a.leaderId!==r.leaderId);if(u&&o.push({type:fe.Attack,action:"attacking",key:"q",targetEntity:u}),r.food.filter(a=>a.type===Bn.Berry).length>=Wo&&o.push({type:fe.Plant,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack){const a=t;id(r.position,r.id,a,sm).length>0&&o.push({type:fe.CallToAttack,action:"idle",key:"v"})}return td(r,t).canSplit&&o.push({type:fe.TribeSplit,action:"idle",key:"k"}),r.leaderId===r.id&&!r.isCallingToFollow&&o.push({type:fe.FollowMe,action:"idle",key:"c"}),o}function U_(t,r,o){return r.search.human.byRadius(t.position,o).filter(u=>{var a;return u.activeAction==="procreating"&&u.gender===t.gender&&typeof u.target=="number"&&((a=t.partnerIds)==null?void 0:a.includes(u.target))})[0]}function F_(t,r,o){if(!t.leaderId)return;const s=r,u=s.search.berryBush.byRadius(t.position,o).filter(a=>a.ownerId===t.id);for(const a of u)if(a.claimedUntil&&r.time<a.claimedUntil){const d=s.search.human.byRadius(a.position,ut);for(const h of d)if(!kc(h,t)&&h.activeAction==="gathering"&&h.target===a.id)return h}}function L_(t,r,o){const s=Bl(t,r),u=r;for(const a of s){if(le(t.position,a.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=u.search.human.byProperty("attackTargetId",a.id);for(const p of h)if(p.leaderId!==t.leaderId)return{familyMember:a,aggressor:p}}}function B_(t,r){const s=r.search.human.byRadius(t.position,sA);let u,a=1/0;for(const d of s){if(d.id===t.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>oA||Em(t,d,r))continue;const h=le(t.position,d.position,r.mapDimensions.width,r.mapDimensions.height);h<a&&(a=h,u=d)}return u}function Jc(t,r,o,s){const u=Math.random()*Math.PI*2,a=Math.sqrt(Math.random())*r,d={x:Math.cos(u)*a,y:Math.sin(u)*a},h=gr(t,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Ui(t,r,o,s){const u=r,a={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},d=[...u.search.human.byRect(a),...u.search.berryBush.byRect(a),...u.search.humanCorpse.byRect(a)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(le(t,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function ed(t,r,o,s,u){const a=r.mapDimensions.width,d=r.mapDimensions.height;if(!Ui(t,r,s,u))return t;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const y=m/v*2*Math.PI,_={x:Math.cos(y)*p,y:Math.sin(y)*p},R=gr(t,_),k={x:(R.x%a+a)%a,y:(R.y%d+d)%d};if(!Ui(k,r,s,u))return k}}return null}function H_(t,r){const o=at(t,r,"berryBush",Rp,u=>u.ownerId===t.id);return o?ed(o.position,r,Rp,Ql,o.id):null}function at(t,r,o,s,u){const a=r,d=s,h=a.search[o].byRadius(t.position,d);let p=null,v=d;for(const m of h){if(m.id===t.id||u&&!u(m))continue;const y=le(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);y<v&&(v=y,p=m)}return p}function wm(t,r,o,s){return r.search[o].byRadius(t,s).length}function Qp(t,r,o){return r.search.human.byRadius(t.position,o).filter(a=>{if(a.id===t.id||a.gender===t.gender||!a.isAdult||a.hunger>=St||(a.procreationCooldown||0)>0||a.gender==="female"&&a.isPregnant)return!1;const d=a.id===t.motherId||a.id===t.fatherId,h=t.id===a.motherId||t.id===a.fatherId;return!d&&!h})}function Wr(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),s=(u,a)=>u.age!==a.age?a.age-u.age:u.id-a.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function It(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Dt(t,r){const o=t,s=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...s,...u]}function x_(t,r){var d;const s=r.search.human.byProperty("activeAction","attacking");let u=null,a=1/0;for(const h of s){if(h.attackTargetId!==t)continue;const p=le(h.position,((d=r.entities.entities.get(t))==null?void 0:d.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);p<a&&(u=h,a=p)}return u}function Em(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const a=o.entities.entities.get(t.motherId);if(a&&(a.motherId===r.id||a.fatherId===r.id))return!0}if(t.fatherId){const a=o.entities.entities.get(t.fatherId);if(a&&(a.motherId===r.id||a.fatherId===r.id))return!0}if(r.motherId){const a=o.entities.entities.get(r.motherId);if(a&&(a.motherId===t.id||a.fatherId===t.id))return!0}if(r.fatherId){const a=o.entities.entities.get(r.fatherId);if(a&&(a.motherId===t.id||a.fatherId===t.id))return!0}return!1}function kc(t,r){var a,d;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,s=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((a=t.ancestorIds)==null?void 0:a.some(h=>r.ancestorIds.includes(h)))||((d=r.ancestorIds)==null?void 0:d.some(h=>t.ancestorIds.includes(h)));return o||s||u}function G_(t,r){const o=[];if(t.motherId){const s=r.entities.entities.get(t.motherId);s&&o.push(s)}if(t.fatherId){const s=r.entities.entities.get(t.fatherId);s&&o.push(s)}return o}function z_(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function W_(t,r){if(!t.isAdult&&t.fatherId){const o=r.entities.entities.get(t.fatherId);if(o&&o.type==="human")return o}return t.isAdult&&t.gender==="female"&&t.partnerIds&&t.partnerIds.length>0?z_(t,r):null}function Bl(t,r){var s;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(s=t.partnerIds)==null||s.forEach(u=>{const a=r.entities.entities.get(u);a&&o.add(a)}),Dt(r,t).forEach(u=>o.add(u)),Array.from(o)}let ac=0;function Oc(){const t=Up[ac];return ac=(ac+1)%Up.length,t}function $_(t,r,o){const s=o.mapDimensions.width,u=o.mapDimensions.height,a=r.radius*2;for(let d=Op;d<s/2;d+=50)for(let h=0;h<10;h++){const p=Jc(t,d,s,u);if(!(le(t,p,s,u)<Op)&&!Ui(p,o,a,r.id))return p}return null}function Im(t,r){const o=new Map;function s(u){const a=Dt(r,u);for(const d of a)o.has(d.id)||(o.set(d.id,d),s(d))}return s(t),Array.from(o.values())}function td(t,r){if(!t.isAdult||t.gender!=="male"||t.leaderId===t.id||!t.leaderId)return{canSplit:!1};if(!t.leaderId)return{canSplit:!1};const o=r.entities.entities.get(t.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=Wr(Dt(r,o));if(s&&s.id===t.id)return{canSplit:!1};const u=rd(t.leaderId,r);if(u.length<kp)return{canSplit:!1};const d=Im(t,r).length+1,h=Math.min(u.length*VS,kp);return{canSplit:d>=h,progress:d/h}}function nd(t,r){if(!td(t,r).canSplit)return;const o=Oc(),s=Im(t,r);t.leaderId=t.id,t.tribeBadge=o;for(const a of s)a.leaderId=t.id,a.tribeBadge=o;nt({gameState:r},Fe.TribeSplit,t.position)}function rd(t,r){return r.search.human.byProperty("leaderId",t)}function id(t,r,o,s){return o.search.human.byRadius(t,s).filter(a=>a.leaderId!==r&&a.id!==r)}function j_(t,r,o){const s=o.search.human.byProperty("leaderId",t);let u=0;for(const a of s)a.attackTargetId===r&&u++;return u}function Y_(t,r){var a;const o=new Map,s=Array.from(t.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(a=o.get(d.leaderId))==null||a.members.push(d));const u=Array.from(o.values()).map(d=>{const h=t.entities.entities.get(d.leaderId),p=d.members.filter(m=>m.isAdult).length,v=d.members.length-p;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:d.leaderId===r,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return u.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),u}function bp(t,r,o,s){const u=o.search.berryBush.byRadius(t,r),a=o.search.human.byRadius(t,r).filter(p=>p.leaderId!==s);let d=u.length*bS;d+=a.length*ZS;let h;if(a.length>0){const p={};for(const m of a)m.leaderId&&(p[m.leaderId]=(p[m.leaderId]||0)+1);let v=0;for(const m in p)p[m]>v&&(v=p[m],h=parseInt(m,10))}return{score:d,occupyingTribeId:h}}function Zp(t){return t.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function Tm(t){return Array.from(t.entities.entities.values()).filter(r=>r.type==="human")}function Vo(t,r){const o=rd(t,r);if(o.length===0){const u=r.entities.entities.get(t);return u?u.position:{x:0,y:0}}const s=o.map(u=>u.position);return Qc(s)}function qp(t,r){const s=[...Bl(t,r),t].map(u=>u.position);return Qc(s)}function Jp(t,r,o,s){const u=r.x-o.width/2,a=r.y-o.height/2,d=u+t.x,h=a+t.y,p=(d%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}function V_(t,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const u of s)if(S_(t,u.position)<u.radius)return u}function K_(t,r){if(t.id!==t.leaderId)return null;const o=r,s=Vo(t.id,r),{score:u}=bp(s,ec/2,o,t.id);let a=null,d=u;const h=QS,p=XS;for(let v=t.position.x-p;v<t.position.x+p;v+=h)for(let m=t.position.y-p;m<t.position.y+p;m+=h){const y={x:(v%r.mapDimensions.width+r.mapDimensions.width)%r.mapDimensions.width,y:(m%r.mapDimensions.height+r.mapDimensions.height)%r.mapDimensions.height};if(le(s,y,r.mapDimensions.width,r.mapDimensions.height)<ec*2)continue;const{score:R}=bp(y,ec/2,o,t.id);R>d*qS&&(d=R,a=y)}return a}const X_={id:Ol,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s,a=s.deltaTime*(Qt/bt);if(o.age+=a,o.age>=o.lifespan)return{nextState:Go,data:{...t,enteredAt:u.time,previousState:Ol}};const d=Jc(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return Ui(d,u,15)||ea(u.entities,d,u.time),{nextState:Br,data:{...t,enteredAt:u.time,previousState:Ol}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},Q_={id:Go,update:t=>({nextState:Go,data:t}),onEnter:(t,r)=>(ld(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},b_=[v_,y_,X_,Q_],ft="humanIdle",Lr="humanMoving",Do="humanEating",Jl="humanGathering",Ko="humanProcreating",Fi="humanAttacking",Dl="humanPlanting",Z_={id:ft,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Fi,data:{...t,enteredAt:s.gameState.time,previousState:ft,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=Zg?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Lr,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="gathering"?{nextState:Jl,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="eating"?{nextState:Do,data:{...t,enteredAt:s.gameState.time,previousState:ft}}:o.activeAction==="planting"&&o.target?{nextState:Dl,data:{...t,enteredAt:s.gameState.time,previousState:ft,plantingSpot:o.target}}:{nextState:ft,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function Cm(t){let r=Jy;return t.hunger>=Zg&&(r*=eS),t.age>=nS&&(r*=rS),t.movementSlowdown&&(r*=t.movementSlowdown.modifier),r}const uc=7.5;class q_{constructor(){de(this,"id",Lr)}update(r,o){var p;const{entity:s,updateContext:u}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Fi,data:{...r,enteredAt:u.gameState.time,previousState:Lr,attackTargetId:s.attackTargetId,attackStartTime:u.gameState.time}};if(s.activeAction!=="moving")return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Lr}};let a;if(typeof s.target=="object"?a=s.target:typeof s.target=="number"&&(a=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!a&&(s.direction.x!==0||s.direction.y!==0)&&(a={x:s.position.x+s.direction.x*uc*2,y:s.position.y+s.direction.y*uc*2}),!a)return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Lr}};const d=Gt(s.position,a,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=tn(d),s.acceleration=Cm(s),le(s.position,a,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<uc?{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Lr}}:{nextState:Lr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const J_=new q_,e1={id:Do,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:Do}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>mr&&(o.hunger=Math.max(0,o.hunger-mr),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,nt(s,Fe.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(rt(s.gameState,_e.Eating,o.position,qt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:Do}}:{nextState:Do,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class t1{constructor(){de(this,"id",Jl)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const n1=new t1,r1=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),i1=(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time<(t.procreationEndTime||0))return{nextState:Ko,data:t};const a=u.entities.entities.get(t.partnerId);if(a&&a.type==="human"&&!a.isPregnant&&o.hunger<St&&a.hunger<St&&!o.procreationCooldown&&!a.procreationCooldown){const d=o.gender==="female"?o:a.gender==="female"?a:void 0,h=o.gender==="male"?o:a.gender==="male"?a:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=sS,d.fatherId=h.id,o.procreationCooldown=Tp,a.procreationCooldown=Tp,nt(s,Fe.Procreate,d.position))}return o.activeAction="idle",a&&(a.activeAction="idle"),{nextState:ft,data:{...t,enteredAt:u.time,previousState:Ko}}},o1={id:Ko,onEnter:r1,update:i1},s1={id:Fi,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const s=le(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=Gt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=tn(u),s>Xl?r.entity.acceleration=Cm(r.entity):r.entity.acceleration=0,{nextState:Fi,data:t}}},l1={id:Dl,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time-t.enteredAt>=CS){if(o.food.filter(h=>h.type===Bn.Berry).length>=Wo){for(let p=0;p<Wo;p++){const v=o.food.findIndex(m=>m.type===Bn.Berry);v>-1&&o.food.splice(v,1)}const h=ea(u.entities,t.plantingSpot,u.time);h.ownerId=o.id,h.claimedUntil=u.time+Qg}return{nextState:ft,data:{...t,enteredAt:u.time,previousState:Dl}}}return{nextState:Dl,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},a1=[Z_,J_,e1,n1,o1,s1,l1],eg=[...b_,...a1];function u1(t,r,o){const s=$y(t,eg);if(!s)return Yy(t),[t,r];const{nextState:u,data:a}=s.update(r,o);return jy(t,u)?[u,Wy(s,u,a,o,eg)]:[u,a]}function c1(t,r,o){const{gameState:s}=r,u=o*(Qt/bt);if(t.isAdult=t.age>=Wc,t.isCallingToAttack&&t.callToAttackEndTime&&s.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.isCallingToFollow&&t.callToFollowEndTime&&s.time>t.callToFollowEndTime&&(t.isCallingToFollow=!1,t.callToFollowEndTime=void 0),t.movementSlowdown&&s.time>t.movementSlowdown.endTime&&(t.movementSlowdown=void 0),t.hitpoints<t.maxHitpoints){const d=1-t.hunger/100*AS,h=SS*d*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+h)}if(t.hunger+=o*(Io/(Qt/bt)),t.hunger>h_&&(!t.lastHungerEffectTime||s.time-t.lastHungerEffectTime>Oo*2)&&(rt(s,_e.Hunger,t.position,Oo,t.id),t.lastHungerEffectTime=s.time),t.age+=o/bg,t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((Io*lS-Io)/(Qt/bt)),(!t.lastPregnantEffectTime||s.time-t.lastPregnantEffectTime>Oo*3)&&(rt(s,_e.Pregnant,t.position,Oo,t.id),t.lastPregnantEffectTime=s.time),t.gestationTime<=0&&(V1(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.isAdult?t.radius===bl&&(t.radius=Zt):t.hunger+=o*((Io*aS-Io)/(Qt/bt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const d=[];if(t.motherId){const h=s.entities.entities.get(t.motherId);h&&d.push(h)}if(t.fatherId){const h=s.entities.entities.get(t.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=em&&h.hunger>=dS&&le(t.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=fS){t.food.pop(),h.hunger=Math.max(0,h.hunger-mr),t.feedParentCooldownTime=hS;break}}let a;if(t.hitpoints<=0?a="killed":t.hunger>=en?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-mr)):a="hunger":t.age>=t.maxAge&&(a="oldAge"),a){if(t.leaderId===t.id){const d=Wr(Dt(s,t));d?(d.leaderId=d.id,d.tribeBadge=t.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(t.isPlayer){const d=Wr(Dt(s,t));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=a)}Y1(s.entities,t.position,t.gender,t.age,t.radius,t.id,s.time,t.food,t.hunger),ld(s.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function d1(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/pS);const s=Math.floor(tm*(1-t.decayProgress));t.food.length>s&&t.food.splice(s),t.decayProgress>=1&&t.food.length<=0&&ld(r.gameState.entities,t.id)}var od=(t=>(t[t.BehaviorTreeBased=0]="BehaviorTreeBased",t))(od||{});function f1(t,r){if(t.aiBehaviorTree&&t.aiBlackboard){const o=t.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=$o&&(t.aiBehaviorTree.execute(t,r,t.aiBlackboard),t.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle"}function h1(t,r){switch(t.aiBlackboard&&t.aiBlackboard.cleanupOldEntries(r.gameState.time),t.aiType){case od.BehaviorTreeBased:default:f1(t,r);break}}function p1(t,r){t.forces.push(_n(t.velocity,-.1));const o=_n(tn(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(t.velocity=_n(t.velocity,.5))}),t.debuffs=t.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),t.velocity=gr(t.velocity,t.forces.reduce(gr,{x:0,y:0})),Mi(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=gr(t.position,_n(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?c1(t,r,r.deltaTime):t.type==="humanCorpse"&&d1(t,r),t.type==="human"&&h1(t,r),t.stateMachine&&(t.stateMachine=u1(...t.stateMachine,{entity:t,updateContext:r}))}var N=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t[t.NOT_EVALUATED=3]="NOT_EVALUATED",t))(N||{});const tg="Human Behavior",g1=1;class m1{constructor(){de(this,"nodeData",new Map);de(this,"pathStack",[]);de(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,u=this.pathStack.join(" > "),a=this.nodeData.get(u)??{path:u,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};a.totalTime+=s,a.callCount++,a.minTime=Math.min(a.minTime,s),a.maxTime=Math.max(a.maxTime,s),this.nodeData.set(u,a),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let u=s,a="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(tg);if(h){const p=h.totalTime*g1/100;u=s.filter(v=>v.totalTime>p&&v.path!==tg),a="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),a="--- Behavior Tree Full Report (Root Not Found) ---"}const d=u.sort((h,p)=>p.totalTime-h.totalTime);console.log(a),d.length>0?console.table(d.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const qe=new m1;function fn(t){return Array.isArray(t)?t:[t,""]}class ke{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{for(const u of this.children){const[a,d]=fn(u.execute(r,o,s));if(a!==N.SUCCESS)return this.lastStatus=a,this.name&&s.recordNodeExecution(this.name,a,o.gameState.time,this.depth,d),a}return this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,""),N.SUCCESS}finally{this.name&&qe.nodeEnd()}}}class $r{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{const u=this.runningChildIndex??0;for(let a=u;a<this.children.length;a++){const d=this.children[a],[h,p]=fn(d.execute(r,o,s));if(h!==N.FAILURE){if(h===N.SUCCESS)return delete this.runningChildIndex,this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,p),N.SUCCESS;if(h===N.RUNNING)return this.runningChildIndex=a,this.lastStatus=N.RUNNING,this.name&&s.recordNodeExecution(this.name,N.RUNNING,o.gameState.time,this.depth,p),N.RUNNING}}return delete this.runningChildIndex,this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,N.FAILURE,o.gameState.time,this.depth,""),N.FAILURE}finally{this.name&&qe.nodeEnd()}}}class Ee{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{const[u,a]=fn(this.action(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,a),u}finally{this.name&&qe.nodeEnd()}}}class he{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{const[u,a]=fn(this.condition(r,o,s)),d=u?N.SUCCESS:N.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,a),d}finally{this.name&&qe.nodeEnd()}}}class ng{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){qe.nodeStart(this.name);try{const u=o.gameState.time;let a=s.get(this.startTimeKey);const[d,h]=fn(this.child.execute(r,o,s));if(d===N.RUNNING){a===void 0&&(s.set(this.startTimeKey,u),a=u);const p=u-a;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=N.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m),this.lastStatus}this.lastStatus=N.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}return a!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{qe.nodeEnd()}}}class Hl{constructor(r,o,s,u=0,a){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"statusKey");de(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=a,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){qe.nodeStart(this.name);try{const u=o.gameState.time,a=s.get(this.statusKey),d=s.get(this.timestampKey);if(a!==void 0&&d!==void 0){const m=u-d>this.cacheDurationHours,y=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&y){const _=(d+this.cacheDurationHours-u).toFixed(2),R=`Cache hit. Status: ${N[a]}. ${_}h left.`;return this.lastStatus=a,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,R),this.lastStatus}}const[h,p]=fn(this.child.execute(r,o,s));(h===N.SUCCESS||h===N.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,u)),this.lastStatus=h;const v=`Cache miss. Child returned ${N[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}finally{qe.nodeEnd()}}}class Bi{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){qe.nodeStart(this.name);try{const u=o.gameState.time,a=s.get(this.cooldownKey);if(this.child.lastStatus===N.RUNNING){const[p,v]=fn(this.child.execute(r,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m)}return this.lastStatus}if(a!==void 0&&u<a){const v=`Cooldown active, ${(a-u).toFixed(2)}h left`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}const[d,h]=fn(this.child.execute(r,o,s));return(d===N.SUCCESS||d===N.RUNNING)&&s.set(this.cooldownKey,u+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{qe.nodeEnd()}}}class mi{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=u;const a=(d,h)=>{d.depth=h,d.children?d.children.forEach(p=>a(p,h+1)):d.child&&a(d.child,h+1)};a(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{if(r.isPlayer&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[a,d]=fn(this.child.execute(r,o,s));return this.lastStatus=a,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}finally{this.name&&qe.nodeEnd()}}}class v1{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(a,d)=>{a.depth=d,a.children?a.children.forEach(h=>u(h,d+1)):a.child&&u(a.child,d+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isManuallyMoving)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Manual movement active, AI blocked."),this.lastStatus;const[u,a]=fn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,a),this.lastStatus}finally{this.name&&qe.nodeEnd()}}}class vl{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(a,d)=>{a.depth=d,a.children?a.children.forEach(h=>u(h,d+1)):a.child&&u(a.child,d+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&qe.nodeStart(this.name);try{if(r.isPlayer)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Player controlled, AI blocked."),this.lastStatus;const[u,a]=fn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,a),this.lastStatus}finally{this.name&&qe.nodeEnd()}}}function y1(t){return new ke([new he((r,o)=>{const s=r.hunger>=Np,u=r.food.length>0,a=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&u&&a),`${Math.floor(r.hunger-Np)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new Ee(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",N.RUNNING),"Eat",t+1)],"Eating",t)}function S1(t){return new ke([new he((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*am||r.isAdult&&r.hunger>LS)return!1;const u=x_(r.id,o.gameState);return u?(s.set("fleeThreat",u),!0):!1},"Should Flee",t+1),new Ee((r,o,s)=>{const u=s.get("fleeThreat");if(!u)return N.FAILURE;r.activeAction="moving";const a=Gt(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=tn(a),h=gr(r.position,_n(d,um));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=d,N.RUNNING},"Execute Flee",t+1)],"Flee",t)}const No="foodSource";function A1(t){const r=new Ee((s,u,a)=>{const d=new Map,h=at(s,u.gameState,"berryBush",Mp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||u.gameState.time>=m.claimedUntil)return!0;const y=u.gameState.entities.entities.get(m.ownerId);if(!y||y.leaderId===s.leaderId)return!0;const _=d.get(y.id)??le(s.position,y.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);return d.set(y.id,_),_>aA}),p=at(s,u.gameState,"humanCorpse",Mp,m=>m.food.length>0);let v=null;if(h&&p){const m=le(s.position,h.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height),y=le(s.position,p.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);v=m<=y?h:p}else v=h||p;return v?(a.set(No,v),[N.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[N.FAILURE,"No food source found"]},"Find Closest Food Source",t+4),o=new Ee((s,u,a)=>{const d=a.get(No);return!d||d.food.length===0?(a.delete(No),[N.FAILURE,"Food source is invalid or depleted"]):le(s.position,d.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<vr?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,a.delete(No),[N.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=cn(s.position,d.position,u.gameState.mapDimensions),[N.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",t+3);return new ke([new he((s,u)=>{const a=s.food.length<s.maxFood,d=s.hunger>NS,h=Dt(u.gameState,s).filter(p=>p.hunger>$c);return[(s.isAdult&&a&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",t+1),new $r([new ke([new he((s,u,a)=>a.has(No),"Has Food Source?",t+2),o],"Continue Gathering Action",t+2),new ke([new Hl(r,YS,"Cache Food Source Search",t+3),o],"Find New Food Source and Gather",t+2)],"Perform or Start Gathering",t+1)],"Gather Food",t)}function _1(t){return new Ee((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),N.SUCCESS),"Idle",t)}const yl="procreationWanderStartTime",rg=t=>t.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<St&&(r.gender==="female"?!r.isPregnant&&r.age<=Ln:!0));function w1(t){const r=new he((a,d,h)=>{const p=Qp(a,d.gameState,vr),v=rg(p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new Ee((a,d,h)=>{var v;const p=h.get("procreationPartner");return p?(a.activeAction="procreating",a.target=void 0,h.delete("procreationPartner"),h.delete(yl),(v=a.partnerIds)!=null&&v.includes(p.id)||(a.partnerIds=a.partnerIds?[...a.partnerIds,p.id]:[p.id]),N.SUCCESS):N.FAILURE},"Start Procreating"),s=new he((a,d,h)=>{const p=Qp(a,d.gameState,FS),v=rg(p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),u=new Ee((a,d,h)=>{const p=h.get("procreationPartner");if(!p)return N.FAILURE;if(le(a.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<vr)return N.SUCCESS;a.activeAction="moving",a.target=p.id;const m=Gt(a.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return a.direction=tn(m),N.RUNNING},"Move Towards Partner");return new ke([new he(a=>!(!a.isAdult||a.gender==="female"&&a.isPregnant||a.age<iS||a.gender==="female"&&a.age>Ln),"Is Fertile (age, not pregnant)",t+1),new he(a=>a.hunger<St,"Is Healthy (hunger)",t+1),new he(a=>(a.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new $r([new ke([new he((a,d)=>wm(a.position,d.gameState,"berryBush",US)>=MS,"Is Environment Viable (food)",t+3),new Ee((a,d,h)=>(h.delete(yl),N.SUCCESS),"Clear Wander Timer",t+3)],"Sufficient Food Path",t+2),new ke([new he((a,d)=>{if(a.gender==="male"){const h=Dt(d.gameState,a);return!Wr(h)}return!1},"Is Male Without Heir",t+3),new Ee((a,d,h)=>{const p=h.get(yl);if(p===void 0)return h.set(yl,d.gameState.time),[N.FAILURE,"Starting heirless wander timer"];const v=d.gameState.time-p;return v>=oS?[N.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[N.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",t+3)],"Heirless Desperation Path",t+2)],"Check Environment Or Desperation",t+1),new he((a,d,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(a.id)&&p.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>le(a.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<lA)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",t+1),new $r([new ke([r,o],"Procreate With Immediate Partner",t+2),new Bi(WS,new ke([s,u],"Seek Distant Partner Action",t+3),"Seek Distant Partner Cooldown",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const vi="attackTarget",Fr="homeCenter",cc=150;function E1(t,r,o){let s,u=1/0;for(const a of Object.values(t.entities.entities))if(a.type==="human"&&a.id!==r.id&&a.hitpoints>0&&a.leaderId!==r.leaderId){const d=le(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height);d<o&&d<u&&(u=d,s=a)}return s}function I1(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const{gameState:u}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const d=u.entities.entities.get(r.attackTargetId);if(d&&d.hitpoints>0&&le(r.position,d.position,u.mapDimensions.width,u.mapDimensions.height)<=cc){if(s.set(vi,d),!s.get(Fr)){const h=r.leaderId?Vo(r.leaderId,u):Bl(r,u).length>0?qp(r,u):r.position;s.set(Fr,h)}return!0}}const a=E1(u,r,cc);if(a){s.set(vi,a);const d=r.leaderId?Vo(r.leaderId,u):Bl(r,u).length>0?qp(r,u):r.position;return s.set(Fr,d),!0}return s.set(vi,void 0),s.set(Fr,void 0),!1},"Find Attack Target",t+1),new Ee((r,o,s)=>{const u=s.get(vi),a=s.get(Fr);if(!u||!a)return N.FAILURE;const{gameState:d}=o;return le(r.position,a,d.mapDimensions.width,d.mapDimensions.height)>om?(r.activeAction="idle",r.attackTargetId=void 0,s.set(vi,void 0),s.set(Fr,void 0),N.FAILURE):u.hitpoints<=0||le(r.position,u.position,d.mapDimensions.width,d.mapDimensions.height)>cc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(vi,void 0),s.set(Fr,void 0),N.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),N.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const T1=(t,r,o)=>{const s=Dt(r.gameState,t).filter(d=>!d.isAdult);if(s.length===0)return N.FAILURE;let u=null,a=$c;for(const d of s)d.hunger>=a&&(a=d.hunger,u=d);return u?(o.set("targetChild",u),N.SUCCESS):N.FAILURE},C1=(t,r,o)=>{const s=o.get("targetChild");return s?le(t.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>jc?(t.activeAction="moving",t.target=s.id,t.direction=cn(t.position,s.position,r.gameState.mapDimensions),N.RUNNING):(t.activeAction="feeding",t.target=void 0,o.set("targetChild",void 0),N.SUCCESS):N.FAILURE};function R1(t){return new ke([new he(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new Ee(T1,"Find Hungriest Child",t+1),new Ee(C1,"Move To Child and Feed",t+1)],"Feed Child",t)}function N1(t){return new ke([new he(r=>!r.isAdult&&r.hunger>=$c,"Is Hungry Child",t+1),new Ee((r,o,s)=>{const u=G_(r,o.gameState);if(u.length===0)return N.FAILURE;const a=at(r,o.gameState,"human",cS,d=>u.some(h=>h.id===d.id)&&d.food.length>0);return a?(s.set("targetParent",a),N.SUCCESS):N.FAILURE},"Find Parent With Food",t+1),new Ee((r,o,s)=>{const u=s.get("targetParent");if(!u)return N.FAILURE;const a=le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",a<=jc?(r.target=void 0,N.SUCCESS):(r.target=u.id,r.activeAction="moving",N.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}const Sl="plantingSpot";function P1(t){const r=new Ee((s,u,a)=>{const d=a.get(Sl);return!d||Ui(d,u.gameState,Ql,s.id)?(a.delete(Sl),[N.FAILURE,"Planting spot is invalid or now occupied"]):le(s.position,d,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)>vr?(s.activeAction="moving",s.target=d,s.direction=cn(s.position,d,u.gameState.mapDimensions),[N.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[N.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",t+3),o=new Ee((s,u,a)=>{const d=H_(s,u.gameState);return d?(a.set(Sl,d),[N.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[N.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",t+3);return new ke([new he(s=>{const u=s.food.filter(d=>d.type===Bn.Berry).length>=Wo,a=s.hunger<PS;return(s.isAdult&&u&&a)??!1},"Can Plant",t+1),new he((s,u)=>{const a=wm(s.position,u.gameState,"berryBush",RS),d=Dt(u.gameState,s);return!(d.length===0||a>=d.length*2)},"Has Not Enough Nearby Bushes",t+1),new $r([new ke([new he((s,u,a)=>a.has(Sl),"Has Planting Spot?",t+2),r],"Continue Planting Action",t+2),new Bi(jS,o,"Find Planting Spot Cooldown",t+2)],"Perform or Start Planting",t+1)],"Plant Bush",t)}const dc="enemiesNearby";function k1(t){const r=new he(a=>a.id===a.leaderId,"Is Leader?",t+1),o=new he(a=>!a.isCallingToAttack,"Is Not Already Calling?",t+1),s=new Ee((a,d,h)=>{const p=id(a.position,a.id,d.gameState,sm);return p.length>0?(h.set(dc,p),N.SUCCESS):N.FAILURE},"Find Nearby Enemies",t+1),u=new $r([new ke([new he((a,d,h)=>{const p=h.get(dc);if(!p||p.length===0)return!1;const v=rd(a.id,d.gameState),m=Zp(v),y=Zp(p);return m>y*JS},"Is Strong Enough?",t+3),new Ee((a,d)=>(a.isCallingToAttack=!0,a.callToAttackEndTime=d.gameState.time+Oi,rt(d.gameState,_e.CallToAttack,a.position,Oi),nt(d,Fe.CallToAttack,a.position),a.activeAction="idle",a.target=void 0,N.SUCCESS),"Issue Call to Attack",t+3)],"Attack",t+2),new Ee((a,d,h)=>{const p=h.get(dc);if(!p||p.length===0)return N.FAILURE;const v=p.map(k=>k.position),m=Qc(v),y=Gt(m,a.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),_=tn(y),R=gr(a.position,_n(_,um*2));return a.activeAction="moving",a.target={x:(R.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(R.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},a.direction=_,N.SUCCESS},"Retreat",t+2)],"Attack or Retreat",t+2);return new ke([r,o,s,new Bi(eA,u,"Leader Combat Cooldown",t+1)],"Leader Combat Strategy",t)}const fc="combatTarget",hc="homeCenter";function O1(t){const r=new he(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",t+1),o=new he(d=>d.hunger<kS&&d.hitpoints>=d.maxHitpoints*am,"Is Fit for Combat?",t+1),s=new he((d,h)=>{const p=h.gameState.entities.entities.get(d.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),u=new Ee((d,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return N.FAILURE;const y=id(m.position,m.id,v,BS);if(y.length===0)return N.FAILURE;y.sort((_,R)=>{const k=le(d.position,_.position,v.mapDimensions.width,v.mapDimensions.height),O=le(d.position,R.position,v.mapDimensions.width,v.mapDimensions.height);return k-O});for(const _ of y)if(j_(m.id,_.id,v)<HS){p.set(fc,_);const k=Vo(m.id,v);return p.set(hc,k),N.SUCCESS}return N.FAILURE},"Find Best Target",t+1),a=new Ee((d,h,p)=>{const v=p.get(fc),m=p.get(hc);if(!v||!m)return N.FAILURE;const{gameState:y}=h;return le(d.position,m,y.mapDimensions.width,y.mapDimensions.height)>om?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),p.set(fc,void 0),p.set(hc,void 0),N.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>qt*5)&&(rt(h.gameState,_e.TargetAcquired,d.position,qt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,N.RUNNING)},"Attack Target",t+1);return new ke([r,o,s,u,a],"Tribe Member Combat",t)}function D1(t){const r=new he((m,y)=>{if(!m.isAdult||m.gender!=="male")return!1;const _=m.partnerIds&&m.partnerIds.length>0,R=Dt(y.gameState,m).length>0;return _||R},"Is Adult Male With Family?",t+1),o=new he((m,y)=>{var k;if(!m.fatherId)return!1;const _=y.gameState.entities.entities.get(m.fatherId);return!_||((k=Wr(Dt(y.gameState,_)))==null?void 0:k.id)===m.id?!1:le(m.position,_.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<zS},"Is Too Close To Father?",t+1),s=new he((m,y,_)=>_.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",t+3),u=new Ee((m,y,_)=>{const R=_.get("territoryMoveTarget"),k=_.get("territoryMoveStartTime");if(!R||!k)return[N.FAILURE,"Missing move data"];if(y.gameState.time-k>xS)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[N.FAILURE,"Territory move timed out"];if(le(m.position,R,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<vr)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[N.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const G=Gt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=tn(G),[N.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",t+3),a=new ke([s,u],"Handle In-Progress Move",t+2),d=new he((m,y,_)=>_.get("territoryMoveTarget")===void 0,"Should Start New Move?",t+4),h=new Ee((m,y,_)=>{const R=Jc(m.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);_.set("territoryMoveTarget",R),_.set("territoryMoveStartTime",y.gameState.time),m.activeAction="moving",m.target=R;const k=Gt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=tn(k),[N.RUNNING,"Started moving to new territory"]},"Start New Territory Move",t+4),p=new ke([d,h],"Start New Territory Move Action",t+3),v=new $r([a,new Bi($S,p,"Establish Territory Cooldown",t+2)],"Establish or Continue Move",t+1);return new ke([r,o,v],"Establish Family Territory",t)}function M1(t){return new ke([new Ee((r,o,s)=>{const u=W_(r,o.gameState);return u?(s.set("patriarchTarget",u),[N.SUCCESS,`Found patriarch: ${u.id}`]):(s.delete("patriarchTarget"),[N.FAILURE,"No patriarch found"])},"Find Patriarch",t+1),new Ee((r,o,s)=>{const u=s.get("patriarchTarget");if(!u)return[N.FAILURE,"Patriarch target missing from blackboard"];const a=le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(a>im){r.activeAction="moving",r.target=u.id;const d=Gt(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=tn(d),[N.RUNNING,`Moving to patriarch at ${a.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[N.SUCCESS,`Arrived at patriarch at ${a.toFixed(0)}`]},"Move Towards Patriarch",t+1)],"Follow Patriarch",t)}const pc="tribeSplitMigrationTarget";function U1(t){const r=new ke([new he((o,s)=>{const{canSplit:u,progress:a}=td(o,s.gameState);return u?[!0,`Progress: ${(a??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",t+2),new Ee((o,s,u)=>{const{gameState:a}=s;let d=u.get(pc);if(!d){if(!o.leaderId)return N.FAILURE;const p=Vo(o.leaderId,a),v=$_(p,o,a);if(v)u.set(pc,v),d=v;else return N.FAILURE}return le(o.position,d,a.mapDimensions.width,a.mapDimensions.height)<vr?(u.delete(pc),o.activeAction="idle",o.target=void 0,N.SUCCESS):(o.activeAction="moving",o.target=d,N.RUNNING)},"Move to New Territory",t+2),new Ee((o,s)=>(nd(o,s.gameState),N.SUCCESS),"Perform Tribe Split",t+2)],"Tribe Split Action",t+1);return new Bi(KS,r,"Tribe Split Cooldown",t)}const Al="jealousyAttackTarget";function F1(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=U_(r,o.gameState,tA);return u?(s.set(Al,u),[!0,`Partner cheating with ${u.id}`]):(s.delete(Al),!1)},"Check for Infidelity",t+1),new Ee((r,o,s)=>{const u=s.get(Al);return!u||u.hitpoints<=0?(s.delete(Al),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking ${u.id}`])},"Execute Jealousy Attack",t+1)],"Jealousy Attack",t)}const _l="defendAggressor";function L1(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=L_(r,o.gameState,nA);return u?(s.set(_l,u.aggressor),[!0,`Family member ${u.familyMember.id} attacked by ${u.aggressor.id}`]):(s.delete(_l),!1)},"Check Family Under Attack",t+1),new Ee((r,o,s)=>{const u=s.get(_l);return!u||u.hitpoints<=0?(s.delete(_l),[N.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking aggressor ${u.id}`])},"Execute Family Defense Attack",t+1)],"Defend Family",t)}const wl="bushIntruder";function B1(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=F_(r,o.gameState,rA);return u?(s.set(wl,u),[!0,`Intruder ${u.id} stealing berries`]):(s.delete(wl),!1)},"Check For Intruders on Bushes",t+1),new Ee((r,o,s)=>{const u=s.get(wl);return!u||u.hitpoints<=0?(s.delete(wl),[N.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking intruder ${u.id}`])},"Execute Bush Defense Attack",t+1)],"Defend Claimed Bush",t)}const El="desperateAttackTarget";function H1(t){return new ke([new he(r=>r.hunger>iA,"Is Starving",t+1),new he((r,o)=>{if(!r.isAdult)return[!1,"Not an adult"];const s=at(r,o.gameState,"berryBush",ut,a=>a.food.length>0),u=at(r,o.gameState,"humanCorpse",ut,a=>a.food.length>0);return!s&&!u},"No Other Food Available",t+1),new he((r,o,s)=>{const u=B_(r,o.gameState);return u?(s.set(El,u),[!0,`Found weak target ${u.id}`]):(s.delete(El),!1)},"Find Weak Target",t+1),new Ee((r,o,s)=>{const u=s.get(El);return!u||u.hitpoints<=0?(s.delete(El),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Desperately attacking ${u.id}`])},"Execute Desperate Attack",t+1)],"Desperate Attack",t)}function x1(t){return new ke([new he((r,o)=>r.isPlayer===!0&&!!o.gameState.autopilotControls.activeAutopilotAction,"Has Player Command",t+1),new Ee((r,o)=>{const{gameState:s}=o,u=s.autopilotControls.activeAutopilotAction;if(!u)return N.FAILURE;switch(u.action){case fe.AutopilotMove:{const a=u.position;return le(r.position,a,s.mapDimensions.width,s.mapDimensions.height)<uA?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):(r.activeAction="moving",r.target=a,r.direction=cn(r.position,a,s.mapDimensions),N.RUNNING)}case fe.AutopilotGather:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)>vr?(r.activeAction="moving",r.target=a.id,r.direction=cn(r.position,a.position,s.mapDimensions),N.RUNNING):(r.activeAction="gathering",r.target=a.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS)}case fe.AutopilotAttack:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.hitpoints<=0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=al?(r.activeAction="attacking",r.attackTargetId=a.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=cn(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotProcreate:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.gender===r.gender||!a.isAdult||!r.isAdult||a.gender==="female"&&(a.isPregnant||a.age>Ln)||r.gender==="female"&&(r.isPregnant||r.age>Ln)||(a.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||a.hunger>=St||r.hunger>=St?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=al?(r.activeAction="procreating",s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=cn(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotPlant:{if(r.activeAction==="planting")return N.RUNNING;const a=u.position;return Ui(a,s,Ql,r.id)?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a,s.mapDimensions.width,s.mapDimensions.height)<=al?(r.activeAction="planting",r.target=a,s.autopilotControls.activeAutopilotAction=void 0,s.hasPlayerPlantedBush=!0,N.RUNNING):(r.activeAction="moving",r.target=a,r.direction=cn(r.position,a,s.mapDimensions),N.RUNNING)}case fe.AutopilotFeedChild:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.isAdult||r.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=al?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction="feeding",N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=cn(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotFollowMe:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.id!==a.leaderId?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=im?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=cn(r.position,a.position,s.mapDimensions),N.RUNNING)}default:return s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE}},"Execute Player Command",t+1)],"Player Command Handler",t)}function G1(t){return new ke([new he(r=>!!r.leaderId&&r.leaderId!==r.id,"Is Follower",t+1),new he((r,o)=>{if(!r.leaderId)return!1;const s=o.gameState.entities.entities.get(r.leaderId);return!!s&&s.isCallingToFollow===!0},"Is Leader Calling To Follow",t+1),new he(r=>r.hunger<DS,"Is Not Critically Hungry",t+1),new Ee((r,o)=>{if(!r.leaderId)return N.FAILURE;const s=o.gameState.entities.entities.get(r.leaderId);return s?le(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>OS?(r.activeAction="moving",r.target=s.id,r.direction=cn(r.position,s.position,o.gameState.mapDimensions),N.RUNNING):(r.activeAction==="moving"&&r.target===s.id&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):N.FAILURE},"Execute Follow Leader",t+1)],"Follow Leader Command",t)}const ig="tribeMigrationCheckCooldown";function z1(t){const r=new ke([new he(s=>!!s.leaderId&&s.leaderId===s.id,"Is Tribe Leader",t+2),new he((s,u)=>{var d;const a=(d=s.aiBlackboard)==null?void 0:d.get(ig);return a?u.gameState.time-a>=Dp:!0},"Is Migration Check Cooldown Over",t+2),new Ee((s,u)=>{var d;(d=s.aiBlackboard)==null||d.set(ig,u.gameState.time);const a=K_(s,u.gameState);return a?(s.isCallingToFollow=!0,s.callToFollowEndTime=u.gameState.time+jo,s.target=a,s.activeAction="moving",console.log(`Tribe ${s.tribeBadge} led by ${s.id} is migrating to`,a),N.SUCCESS):N.FAILURE},"Execute Tribe Migration",t+2)],"Tribe Migration Strategy",t+1),o=new Hl(r,Nc,"Cache Tribe Migration",t+1);return new Bi(Dp,o,"Tribe Migration Cooldown",t)}function W1(){const t=new $r([S1(2),L1(2),F1(2),B1(2),H1(2),x1(2),new vl(k1(3),"Gated Leader Combat Strategy",2),O1(2),new mi(I1(3),"attack","Gated Attacking",2),y1(2),new ng(new mi(A1(4),"gathering","Gated Gathering",3),Pp,"Timeout Gathering",2),new mi(R1(3),"feedChildren","Gated Feed Child",2),N1(2),new ng(new mi(P1(4),"planting","Gated Planting",3),Pp,"Timeout Planting",2),new mi(w1(3),"procreation","Gated Procreation",2),new Hl(U1(3),Nc,"Cache Tribe Split",2),new vl(z1(3),"Gated Tribe Migration",2),new Hl(D1(3),Nc,"Cache Establish Territory",2),new mi(G1(3),"followLeader","Gated Follow Leader",2),new vl(M1(2),"Gated Follow Patriarch",2),new vl(_1(2),"Gated Idle Wander",2)],"AI Root Selector",1);return new v1(t,"Manual Control Gate",0)}class $1{constructor(){de(this,"data",new Map);de(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,u,a){const d=this.nodeExecutionData.get(r)||{lastExecuted:0,status:N.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>$o&&d.executionHistory.push({time:h.time+$o,status:N.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const p=pm/bt*Qt,v=s-p;d.executionHistory=d.executionHistory.filter(y=>y.time>=v);const m={...d,lastExecuted:s,status:o,depth:u,debugInfo:a};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=GS,s=[];for(const[u,a]of this.nodeExecutionData.entries())r-a.lastExecuted>o&&s.push(u);for(const u of s)this.nodeExecutionData.delete(u)}}function j1(t){t.gameState.entities.entities.forEach(o=>{p1(o,t)})}function Rm(){return{entities:new Map,nextEntityId:1}}function sd(t,r,o){const s={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(s.id,s),s}function ea(t,r,o){return sd(t,"berryBush",{position:r,radius:Rc,food:Array.from({length:Ky},()=>({type:Bn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:Vy,lifespan:Qy,age:0,spreadChance:by,spreadRadius:Rc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Uo,{enteredAt:o,previousState:void 0}]})}function xl(t,r,o,s,u=!1,a=tS,d=Jg,h,p,v=[],m,y){const _=a>=Wc;return sd(t,"human",{position:r,radius:_?Zt:bl,hunger:d,hitpoints:Cp,maxHitpoints:Cp,age:a,gender:s,isPlayer:u,food:[],maxFood:qg,maxAge:zo,isAdult:_,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[ft,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:y,aiType:od.BehaviorTreeBased,aiBehaviorTree:W1(),aiBlackboard:new $1})}function Y1(t,r,o,s,u,a,d,h,p){return sd(t,"humanCorpse",{position:r,radius:u,gender:o,age:s,originalHumanId:a,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(tm*Math.max(St-p,0)/St,1)},()=>({type:Bn.Meat})),...h].map(m=>({...m,id:t.nextEntityId++})),stateMachine:void 0})}function V1(t,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],a=s?[...s.ancestorIds||[],s.id]:[],d=[...u,...a],h=[...new Set(d)],p=h.slice(Math.max(h.length-Zy,0)),v=Math.random()<.5?"male":"female",m=gr(t.position,{x:5,y:5}),y=xl(o.gameState.entities,m,o.gameState.time,v,!1,0,Jg/2,t.id,r,p,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return nt(o,Fe.Birth,t.position),y}function ld(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class K1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const u=s-1>>1,a=this.values[u];if(o>=a)break;this.ids[s]=this.ids[u],this.values[s]=a,s=u}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],u=this.length>>1;let a=0;for(;a<u;){let d=(a<<1)+1;const h=d+1;let p=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,p=this.ids[h],v=m),v>=s)break;this.ids[a]=p,this.values[a]=v,a=d}this.ids[a]=o,this.values[a]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const og=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],gc=3;class ad{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,u]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const a=u>>4;if(a!==gc)throw new Error(`Got v${a} data when expected v${gc}.`);const d=og[u&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[p]=new Uint32Array(r,o+4,1);return new ad(p,h,d,void 0,r,o)}constructor(r,o=16,s=Float64Array,u=ArrayBuffer,a,d=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=r,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=og.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);a&&a.byteLength!==void 0&&!a.buffer?(this.data=a,this._boxes=new this.ArrayType(this.data,d+8,p*4),this._indices=new this.IndexArrayType(this.data,d+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(gc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new K1}add(r,o,s=r,u=o){const a=this._pos>>2,d=this._boxes;return this._indices[a]=a,d[this._pos++]=r,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),u>this.maxY&&(this.maxY=u),a}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),a=65535;for(let d=0,h=0;d<this.numItems;d++){const p=r[h++],v=r[h++],m=r[h++],y=r[h++],_=Math.floor(a*((p+m)/2-this.minX)/o),R=Math.floor(a*((v+y)/2-this.minY)/s);u[d]=Q1(_,R)}Dc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const p=this._levelBounds[d];for(;h<p;){const v=h;let m=r[h++],y=r[h++],_=r[h++],R=r[h++];for(let k=1;k<this.nodeSize&&h<p;k++)m=Math.min(m,r[h++]),y=Math.min(y,r[h++]),_=Math.max(_,r[h++]),R=Math.max(R,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=y,r[this._pos++]=_,r[this._pos++]=R}}}search(r,o,s,u,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],p=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,lg(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||u<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const y=this._indices[m>>2]|0;d>=this.numItems*4?h.push(y):(a===void 0||a(y))&&p.push(y)}d=h.pop()}return p}neighbors(r,o,s=1/0,u=1/0,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,p=[],v=u*u;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,lg(d,this._levelBounds));for(let y=d;y<m;y+=4){const _=this._indices[y>>2]|0,R=sg(r,this._boxes[y],this._boxes[y+2]),k=sg(o,this._boxes[y+1],this._boxes[y+3]),O=R*R+k*k;O>v||(d>=this.numItems*4?h.push(_<<1,O):(a===void 0||a(_))&&h.push((_<<1)+1,O))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),p}}function sg(t,r,o){return t<r?r-t:t<=o?0:t-o}function lg(t,r){let o=0,s=r.length-1;for(;o<s;){const u=o+s>>1;r[u]>t?s=u:o=u+1}return r[o]}function Dc(t,r,o,s,u,a){if(Math.floor(s/a)>=Math.floor(u/a))return;const d=t[s+u>>1];let h=s-1,p=u+1;for(;;){do h++;while(t[h]<d);do p--;while(t[p]>d);if(h>=p)break;X1(t,r,o,h,p)}Dc(t,r,o,s,p,a),Dc(t,r,o,p+1,u,a)}function X1(t,r,o,s,u){const a=t[s];t[s]=t[u],t[u]=a;const d=4*s,h=4*u,p=r[d],v=r[d+1],m=r[d+2],y=r[d+3];r[d]=r[h],r[d+1]=r[h+1],r[d+2]=r[h+2],r[d+3]=r[h+3],r[h]=p,r[h+1]=v,r[h+2]=m,r[h+3]=y;const _=o[s];o[s]=o[u],o[u]=_}function Q1(t,r){let o=t^r,s=65535^o,u=65535^(t|r),a=t&(r^65535),d=o|s>>1,h=o>>1^o,p=u>>1^s&a>>1^u,v=o&u>>1^a>>1^a;o=d,s=h,u=p,a=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&u>>2^s&a>>2,v^=s&u>>2^(o^s)&a>>2,o=d,s=h,u=p,a=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&u>>4^s&a>>4,v^=s&u>>4^(o^s)&a>>4,o=d,s=h,u=p,a=v,p^=o&u>>8^s&a>>8,v^=s&u>>8^(o^s)&a>>8,o=p^p>>1,s=v^v>>1;let m=t^r,y=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|m)>>>0}function mc(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new ad(t.length),s=new Map;for(const a of t)o.add(a.position.x,a.position.y,a.position.x,a.position.y);return o.finish(),{byRect(a){return o.search(a.left,a.top,a.right,a.bottom).map(h=>t[h])},byRadius(a,d){return o.neighbors(a.x,a.y,void 0,d).map(p=>t[p])},byProperty(a,d){var h;if(!s.has(a)){const p=new Map;for(const v of t){const m=v[a];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(a,p)}return((h=s.get(a))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function ud(t){const r=Array.from(t.entities.entities.values()),o=r.filter(d=>d.type==="human"),s=r.filter(d=>d.type==="berryBush"),u=r.filter(d=>d.type==="humanCorpse");return{...t,search:{human:mc(o),berryBush:mc(s),humanCorpse:mc(u)}}}var fr=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t))(fr||{}),Xo=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t))(Xo||{}),Et=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(Et||{});const b1=[{key:fr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:fr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>qy,isCompleted:!1,minDisplayTime:Yp,highlightedUIElements:[Xo.HUNGER_BAR]},{key:fr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!at(r,t,"berryBush",ut*5,s=>s.food.length>0),getTargets:(t,r)=>{const o=[];for(const s of t.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&le(r.position,s.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Yp},{key:fr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=at(r,t,"berryBush",ut,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:fr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Xo.FOOD_BAR]},{key:fr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>Dt(t,r).length>0,getTargets:(t,r)=>{const o=at(r,t,"human",ut,s=>{const u=s;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<St&&r.hunger<St&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=Ln:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:fr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>qc(t,r).some(s=>s.type===fe.Plant)||t.hasPlayerPlantedBush===!0,isCompleted:!1}];function Nm(){return{steps:b1.map(t=>({...t,isCompleted:!1}))}}function Pm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Et.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function Z1(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function q1(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=It(t);if(!s){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=1/u_;switch(o.transitionState){case Et.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=a*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Et.ACTIVE);break;case Et.ACTIVE:{t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,s)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=Et.FADING_OUT);break}case Et.FADING_OUT:if(o.transitionAlpha-=a*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=Z1(t);h!==null?(o.currentStepIndex=h,o.transitionState=Et.FADING_IN):(o.isActive=!1,o.transitionState=Et.INACTIVE)}break}o.transitionState!==Et.FADING_OUT&&o.transitionState!==Et.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,s)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function J1(){const t=Rm(),r=0;for(let m=0;m<Xg;m++){const y={x:Math.random()*xr,y:Math.random()*Gr};ea(t,y,r)}const o=xr/2,s=Gr/2,u=xl(t,{x:o,y:s},r,"male",!0);xl(t,{x:o+50,y:s},r,"female",!1);const a=[{id:"muteButton",action:De.ToggleMute,currentWidth:Ei,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ii},{id:"pauseButton",action:De.TogglePause,currentWidth:Ei,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ii}],d=Nm(),h=Pm(),p={time:r,entities:t,mapDimensions:{width:xr,height:Gr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,masterVolume:vm,isMuted:!1,uiButtons:a,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},v=ud(p);return console.log("Game world initialized:",v),v}function ew(){const t=Rm(),r=0;for(let a=0;a<Xg;a++){const d={x:Math.random()*xr,y:Math.random()*Gr};ea(t,d,r)}for(let a=0;a<g_;a++){const d={x:Math.random()*xr,y:Math.random()*Gr},h=Math.random()<.5?"male":"female";xl(t,d,r,h,!1)}const o=Nm(),s=Pm(),u={time:r,entities:t,mapDimensions:{width:xr,height:Gr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:xr/2,y:Gr/2},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,masterVolume:vm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return ud(u)}const tw="humanProcreation",nw="human",rw="human",iw=ut,ow=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(s,u)=>s.isAdult&&s.hunger<St&&(s.procreationCooldown||0)<=0?u?!s.isPregnant&&s.age<=Ln:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},sw=(t,r,o)=>{var p,v;const{gameState:s}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},a=t.gender==="male"?t:r,d=t.gender==="female"?t:r,h=(a.partnerIds||[]).length===0;if(t.stateMachine=[Ko,{partnerId:r.id,previousState:(p=t.stateMachine)==null?void 0:p[0]}],r.stateMachine=[Ko,{partnerId:t.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id),h&&a.leaderId&&a.leaderId!==a.id){const m=s.entities.entities.get(a.leaderId);if(m){const y=kc(a,m),_=kc(d,m);if(!y&&!_){const R=Oc();a.leaderId=a.id,a.tribeBadge=R,d.leaderId=a.id,d.tribeBadge=R}}}else if(!t.leaderId&&!r.leaderId&&a&&d){const m=Oc();a.leaderId=a.id,a.tribeBadge=m,d.leaderId=a.id,d.tribeBadge=m}t.activeAction=void 0,rt(s,_e.Procreation,u,Oo),rt(s,_e.Partnered,t.position,qt,t.id),rt(s,_e.Partnered,r.position,qt,r.id),t.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,nt(o,Fe.Procreate,u)},lw={id:tw,sourceType:nw,targetType:rw,maxDistance:iw,checker:ow,perform:sw},aw={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:jc,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=mr&&t.activeAction==="feeding",perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-mr),t.feedChildCooldownTime=uS,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(rt(o.gameState,_e.ChildFed,r.position,qt,r.id),r.lastChildFedEffectTime=o.gameState.time),nt(o,Fe.ChildFed,r.position)}},uw={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Xl,checker:(t,r,o)=>{var a;if(((a=t.stateMachine)==null?void 0:a[0])!==Fi||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const s=t.stateMachine[1];return o.gameState.time-s.attackStartTime>=nm},perform:(t,r,o)=>{const s=Gt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=__(tn(s),r.direction);if(Math.abs(u)<IS*Math.PI/180&&Math.random()<TS)rt(o.gameState,_e.AttackDeflected,r.position,qt,r.id);else{let h=gS;t.gender==="male"&&(h*=_S),t.isAdult||(h*=wS),(!r.isAdult||r.age>=em)&&t.isAdult&&(h*=ES),r.hitpoints-=h,r.movementSlowdown={modifier:vS,endTime:o.gameState.time+yS},rt(o.gameState,_e.Hit,r.position,qt,r.id);const v=Gt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=_n(v,mS);r.forces.push(m),r.hitpoints<=0?nt(o,Fe.HumanDeath,r.position):nt(o,Fe.Attack,t.position)}t.attackCooldown=rm;const d=t.stateMachine[1];d.attackStartTime=o.gameState.time,rt(o.gameState,_e.Attack,t.position,qt,t.id)}},cw={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Zt*2,checker:(t,r,{gameState:o})=>le(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const s=le(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const a=(t.radius+r.radius-s)*.05,d=tn(Sm(t.position,r.position)),h=_n(d,a);t.forces.push(h),r.forces.push(_n(h,-1))}},dw={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===Jl&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+Qg,rt(o.gameState,_e.BushClaimed,r.position,qt),nt(o,Fe.Gather,t.position)}},fw={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===Jl&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,nt(o,Fe.Gather,t.position)}},hw=[dw,fw],pw=[cw,...hw,lw,aw,uw];function gw(t){const{gameState:r}=t,o=r,s=Array.from(r.entities.entities.values());for(const u of pw)for(const a of s){if(u.sourceType&&a.type!==u.sourceType)continue;const d=o.search[u.targetType].byRadius(a.position,u.maxDistance);for(const h of d){if(a.id===h.id)continue;le(a.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(a,h,t)&&u.perform(a,h,t)}}}function mw(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const vw=1/60;function yw(t,r){const o=It(t);o&&(t.viewportCenter=Xc(t.viewportCenter,o.position,zc*r))}function ta(t,r){if(t.isPaused)return t;for(;r>0;){const o=ud(t),s=Math.min(r,vw);if(o.gameOver)return o;const u=s*(Qt/bt);o.time+=u,yw(o,s),j1({gameState:o,deltaTime:s}),gw({gameState:o,deltaTime:s}),mw(o),q1(o,s),t=o,r-=s}return t}function ag(t,r,o){t.save();const{x:s,y:u,width:a,height:d}=r.rect,h=LA;if(t.beginPath(),t.moveTo(s+h,u),t.lineTo(s+a-h,u),t.quadraticCurveTo(s+a,u,s+a,u+h),t.lineTo(s+a,u+d-h),t.quadraticCurveTo(s+a,u+d,s+a-h,u+d),t.lineTo(s+h,u+d),t.quadraticCurveTo(s,u+d,s,u+d-h),t.lineTo(s,u+h),t.quadraticCurveTo(s,u,s+h,u),t.closePath(),t.fillStyle=r.isDisabled?HA:r.backgroundColor,t.fill(),r.activated){t.save();const p=(Math.sin(Date.now()/1e3*jA)+1)/2;t.strokeStyle=$A,t.lineWidth=2+p*2,t.globalAlpha=.7+p*.3,t.stroke(),t.restore()}if(r.lastActivated){const p=Date.now()-r.lastActivated;if(p<Bp){const v=1-p/Bp;t.fillStyle=GA,t.globalAlpha=v,t.fill(),t.globalAlpha=1}}o&&!r.isDisabled&&(t.fillStyle=BA,t.globalAlpha=.5,t.fill(),t.globalAlpha=1),t.fillStyle=r.isDisabled?xA:r.textColor,r.icon?(t.font=`${d*.55}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(r.icon,s+a/2,u+d/2),r.text&&(t.font=`${d*.18}px "Press Start 2P", Arial`,t.textAlign="right",t.textBaseline="bottom",t.fillText(r.text,s+a-4,u+d-2))):(t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,s+a/2,u+d/2)),t.restore()}function Sw(t,r,o,s){t.save(),t.font=`${Hp}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="bottom";const a=t.measureText(o).width,d=Hp,h=a+xp*2,p=d+xp*2,v=s.x-h/2,m=t.canvas.height,y=r.y<m/2?r.y+r.height-Gp:r.y-p+Gp;t.fillStyle=zA,t.fillRect(v,y,h,p),t.fillStyle=WA,t.fillText(o,s.x,y+p/2+d/2),t.restore()}function Aw(t,r,o){t.save();const s=It(r);r.uiButtons=[];const u=[{id:"fastForwardButton",action:De.FastForward,text:"FFWD [T]",currentWidth:Ei*1.3,backgroundColor:hl,textColor:Ii,tooltip:"Fast-forward time",rect:{x:0,y:0,width:0,height:0}},{id:"pauseButton",action:De.TogglePause,text:r.isPaused?"UN[P]AUSE":"[P]AUSE",backgroundColor:r.isPaused?rc:hl,currentWidth:r.isPaused?Ei*1.4:Ei*1.1,tooltip:r.isPaused?"Resume Game":"Pause Game",rect:{x:0,y:0,width:0,height:0},textColor:Ii},{id:"muteButton",action:De.ToggleMute,text:r.isMuted?"UN[M]UTE":"[M]UTE",backgroundColor:r.isMuted?rc:hl,tooltip:`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`,currentWidth:Ei,rect:{x:0,y:0,width:0,height:0},textColor:Ii}];if(r.uiButtons.push(...u),s){const h=qc(r,s),p=new Set(h.map(I=>I.type));let v=[{playerAction:fe.Gather,buttonAction:De.CommandGather,shortcut:"E",name:"Gather",toggleKey:"gathering",condition:()=>s.isAdult===!0},{playerAction:fe.Eat,buttonAction:De.CommandEat,shortcut:"F",name:"Eat"},{playerAction:fe.Plant,buttonAction:De.CommandPlant,shortcut:"B",name:"Plant",toggleKey:"planting",condition:()=>s.isAdult===!0},{playerAction:fe.Procreate,buttonAction:De.ToggleProcreationBehavior,shortcut:"R",name:"Procreation",toggleKey:"procreation",condition:()=>s.isAdult===!0},{playerAction:fe.FeedChild,buttonAction:De.ToggleFeedChildBehavior,shortcut:"H",name:"Feed Child",toggleKey:"feedChildren",condition:()=>s.isAdult===!0},{playerAction:fe.Attack,buttonAction:De.ToggleAttackBehavior,shortcut:"Q",name:"Attack",toggleKey:"attack",condition:()=>s.isAdult===!0},{playerAction:fe.FollowMe,buttonAction:De.CommandFollowMe,shortcut:"C",name:"Follow Me",toggleKey:"followLeader",condition:()=>s.isAdult===!0},{playerAction:fe.CallToAttack,buttonAction:De.CommandCallToAttack,shortcut:"V",name:"Call to Attack",condition:()=>s.isAdult===!0},{playerAction:fe.TribeSplit,buttonAction:De.CommandTribeSplit,shortcut:"K",name:"Split Tribe",condition:()=>s.leaderId!==void 0&&s.leaderId!==s.id&&s.isAdult===!0}];v=v.filter(I=>I.condition?I.condition():!0);const m=1,y=v.length,_=y*Ur+(y-1)*gl,R=m*Ur+(m-1)*gl,k=(o-_)/2,O=t.canvas.height-R-20;v.forEach((I,G)=>{const z=G%y,W=Math.floor(G/y),j=k+z*(Ur+gl),ue=O+W*(Ur+gl),F=!!I.toggleKey,$=F&&r.autopilotControls.behaviors[I.toggleKey],Re=!p.has(I.playerAction),Me=r.hasPlayerEnabledAutopilot?"":" (Press Shift to toggle Auto)",Ve=F?`${I.name}${Me}`:I.name,Je=$?rc:hl,Le={id:`commandButton_${I.name}`,action:I.buttonAction,rect:{x:j,y:ue,width:Ur,height:Ur},icon:ql[I.playerAction],text:I.shortcut,backgroundColor:Je,textColor:Ii,currentWidth:Ur,tooltip:Ve,isDisabled:Re,activated:$};r.uiButtons.push(Le)})}let a=o-Ot;u.forEach(h=>{const p=Ot,v=a-h.currentWidth;h.rect={x:v,y:p,width:h.currentWidth,height:UA},ag(t,h,r.hoveredButtonId===h.id),a-=h.currentWidth+FA}),r.uiButtons.filter(h=>h.id.startsWith("commandButton_")).forEach(h=>{ag(t,h,r.hoveredButtonId===h.id)});const d=r.hoveredButtonId?r.uiButtons.find(h=>h.id===r.hoveredButtonId):void 0;d&&d.tooltip&&r.mousePosition&&Sw(t,d.rect,d.tooltip,r.mousePosition),t.restore()}function _w(t){t.save(),t.fillStyle=t_,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=n_,t.font=`${r_}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const ww=25,Ew=0,ug=28;function km(t,r,o,s,u,a,d,h,p){t.save();const v=r.x-d.x+h/2,m=r.y-d.y+p/2;t.strokeStyle=s,t.lineWidth=a,t.setLineDash(u),t.beginPath(),t.arc(v,m,o+Zl,0,2*Math.PI),t.stroke(),t.restore()}function Iw(t,r,o,s,u,a){if(r=r.filter(m=>m.type!==fe.FollowMe),r.length===0)return;t.save(),r.forEach(m=>{m.targetEntity&&km(t,m.targetEntity.position,m.targetEntity.radius,Vc,Kc,2,s,u,a)}),t.font=`${Di}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const d=o.position.x-s.x+u/2,h=o.position.y-s.y+a/2;let p=0,v={};r.forEach(m=>{const y=ql[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const _=m.targetEntity.position.x-s.x+u/2,R=m.targetEntity.position.y-s.y+a/2,k=`${y}${m.key.toUpperCase()}`,O=R-m.targetEntity.radius-Zl-Di/2-(v[m.targetEntity.id]-1)*ug;t.fillText(k,_,O)}else{t.textAlign="left";const _=`${y}${m.key.toUpperCase()}`,R=d+ww,O=h+Ew+p*ug;t.fillText(_,R,O),p++,t.textAlign="center"}}),t.restore()}const re=(t,r,o,s,u,a,d)=>{a==="transparent"||s<=0||u<=0||(t.fillStyle=a,t.fillRect(Math.floor(r*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(u*d)))},cg=10,dg=10,yn=6,Un=4,Il=2,Tw=5,Xt=4,Cw=2,vt=4,Rw=2,We=3,yi=2,hr=0,Bo=hr+Un-1,wt=Bo,Qe=Bo+Xt-1,Nw="rgba(0, 0, 0, 0.4)",Pw=4,kw=1,cd={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,s,u,a,d,h="male",p=20,v=[1,0],m=!1,y=0){const _=["dead","stunned"].includes(d),R=_?dg+4:cg,k=_?cg+4:dg+We,O=.15,I=Math.min(s*(1-2*O)/R,u*(1-2*O)/k),G=R*I,z=k*I,W=r+(s-G)/2,j=o+(u-z)/2;t.save(),v[0]<0&&!_?(t.translate(W+G,j),t.scale(-1,1)):t.translate(W,j);const F="#D09A5A",$=p>50?"#BDBDBD":"#281808",Re="#7F5C4A",Me="#6B4F3A",Ve="#E0D8C0",Je="#A0522D",Le=1-Math.max(0,Math.min(100,y))/100*.2,Ge=h==="male"?1.1:.9,Ae=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Te=Tw*Le*Ge*Ae,pe=Cw*Le*Ge*Ae,ie=Rw*Le*Ae;m&&h==="female"&&(Te*=1.5);const H=Math.round((R-Te)/2),V=Math.round((R-yn)/2),x=H-pe,E=H+Te,D=1,te=H+(Te/2-D/2)-ie,q=H+(Te/2+D/2),ve=v[1]<-.2&&Math.abs(v[0])<.7,oe=X=>{t.fillStyle=Nw,t.beginPath();const ne=R/2,Ne=X;t.ellipse(Math.floor(ne*I),Math.floor(Ne*I),Math.max(1,Math.floor(Pw*I)),Math.max(1,Math.floor(kw*I)),0,0,2*Math.PI),t.fill()},ge=(X,ne)=>{h==="male"?(re(t,H,Bo+X,Te,Xt-yi,ne,I),re(t,H,Bo+Xt-yi+X,Te,yi,Re,I)):re(t,H,Bo+X,Te,Xt,Me,I)},ce=(X,ne)=>{ve?re(t,V,hr+X,yn,Un,$,I):(re(t,V,hr+X,yn,Un,ne,I),re(t,V,hr+X,yn,Il,$,I),h==="female"?(re(t,V-1,hr+Il+X,1,Un,$,I),re(t,V+yn,hr+Il+X,1,Un,$,I)):re(t,V+1,hr+2+X,yn-2,Un-2,$,I))};switch(d){case"idle":{const X=a*Math.PI*2,ne=Math.sin(X)*.5,ae=(Math.cos(X*2)+1)*.25;oe(Qe+We+1),re(t,te+ne,Qe+ae,ie,We,F,I),re(t,q-ne,Qe+ae,ie,We,F,I),ge(ae,F),re(t,x,wt+ae,pe,vt,F,I),re(t,E,wt+ae,pe,vt,F,I),ce(ae,F);break}case"walk":{const X=a*Math.PI*2,ne=Math.sin(X)*2,ae=Math.abs(Math.cos(X))*1;oe(Qe+We+1),re(t,te+ne,Qe+ae,ie,We,F,I),re(t,q-ne,Qe+ae,ie,We,F,I),ge(ae,F),re(t,x-ne,wt+ae,pe,vt,F,I),re(t,E+ne,wt+ae,pe,vt,F,I),ce(ae,F);break}case"gathering":{const X=a*Math.PI*2,ne=1,Ne=(Math.sin(X)+1)/2*2,ae=ne+Math.abs(Math.cos(X))*.5;oe(Qe+We+1),re(t,te,Qe+ae,ie,We-ne,F,I),re(t,q,Qe+ae,ie,We-ne,F,I),ge(ae,F),re(t,x+1,wt+ae-Ne,pe,vt,F,I),re(t,E-1,wt+ae-Ne,pe,vt,F,I),ce(ae,F);break}case"eat":{oe(Qe+We+1),re(t,te,Qe+1,ie,We-1,F,I),re(t,q,Qe+1,ie,We-1,F,I),ge(1,F);const Ne=(Math.sin(a*Math.PI*4)+1)/2,ae=V+yn/2,En=hr+Un/2,Mt=E+(ae-E)*Ne,zt=wt+1+(En-(wt+1))*Ne;re(t,x,wt+1,pe,vt,F,I),re(t,Mt,zt,pe,vt,F,I),re(t,Mt,zt-1,1,1,Je,I),ce(1,F);break}case"procreate":{const X=(Math.sin(a*Math.PI*8)+1)/4,ne=(Math.sin(a*Math.PI*6)+1)*.5,Ne=1.5,ae=Ne-ne;oe(Qe+We+1),re(t,te,Qe+ae,ie,We-Ne,F,I),re(t,q,Qe+ae,ie,We-Ne,F,I),ge(ae,F),re(t,x,wt+ae,pe,vt,F,I),re(t,E,wt+ae,pe,vt,F,I),ce(ae,F),t.globalAlpha=X,ge(ae,"white"),t.globalAlpha=1;break}case"attacking":{const X=Math.sin(a*Math.PI)*1.5,ne=Math.abs(Math.sin(a*Math.PI));oe(Qe+We+1),re(t,te-X,Qe+ne,ie,We,F,I),re(t,q+X*.5,Qe+ne,ie,We,F,I),ge(ne,F),re(t,x,wt+ne-2,pe,vt,F,I),re(t,E,wt+ne-2.5,pe,vt,F,I),ce(ne,F);break}case"defending":{oe(Qe+We+1),re(t,te,Qe+1,ie,We-1,F,I),re(t,q,Qe+1,ie,We-1,F,I),ge(1,F),re(t,x-1,wt+1-1,pe,vt,F,I),re(t,E+1,wt+1-1,pe,vt,F,I),ce(1,F);break}case"stunned":case"dead":{const X=d==="dead",ne=X?Math.min(1,a):0,Ne=ne>.5?Ve:F,ae=h==="male"?Re:Me,En=ne>.8?"transparent":$,Mt=R/2,zt=k/2,yr=2;oe(k-1),re(t,Mt-ie-yr,zt,ie,We,Ne,I),re(t,Mt+yr,zt,ie,We,Ne,I),re(t,Mt-pe-yr,zt-Xt+1,pe,vt,Ne,I),re(t,Mt+yr,zt-Xt+1,pe,vt,Ne,I);const In=Mt-Te/2,Hn=zt-Xt/2;h==="male"?(ne<.7&&re(t,In,Hn+Xt-yi,Te,yi,ae,I),re(t,In,Hn,Te,Xt-yi,Ne,I)):ne<.7?re(t,In,Hn,Te,Xt,ae,I):re(t,In,Hn,Te,Xt,Ne,I);const jr=Mt-yn/2,xn=zt-Xt/2-Un+1;if(re(t,jr,xn,yn,Un,Ne,I),En!=="transparent"&&re(t,jr,xn,yn,Il,En,I),X&&ne>.6){const Gn="#B0A890";for(let Sr=0;Sr<3;Sr++)re(t,In+1,Hn+Sr*1+1,Te-2,.5,Gn,I)}break}default:re(t,0,0,R,k,"magenta",I);break}t.restore()}};function Ow(t,r,o,s,u){const a=r.x,d=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(a-s/2,d,s,s/2),t.fill(),t.beginPath(),t.moveTo(a-s/2,d),t.lineTo(a-s/4,d-s/3),t.lineTo(a-s/6,d),t.moveTo(a-s/6,d),t.lineTo(a,d-s/2),t.lineTo(a+s/6,d),t.moveTo(a+s/6,d),t.lineTo(a+s/4,d-s/3),t.lineTo(a+s/2,d),t.stroke(),t.restore()}function Qo(t,r,o,s,u,a=!1,d=!1,h=!1,p=!1){s<Wc&&(o=o*.75),cd.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,s,[0,0],!1,0);let v,m;a?(v=TA,m=Yc):d?(v=CA,m=fm):h?(v=RA,m=dm):p&&(v=NA,m=cm),v&&m&&Ow(t,r,o/2,v,m)}function Dw(t,r,o,s,u,a){if(t.save(),s.length===0){t.restore();return}const d=s.length*u,h=4;let p;const v=d+(s.length-1)*h;s.length>1&&v>a?p=(a-d)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:y,isPlayer:_,isHeir:R,isPartner:k,isParent:O}=s[m],I=r+m*(u+p)+u/2,G=o+u/4;Qo(t,{x:I,y:G},u,y.age,y.gender,_,R,k,O)}t.restore()}function Mw(t,r,o,s){if(r.length===0)return;t.save();const u=lr,a=" 00",d=" 00";t.font=`${tc}px "Press Start 2P", Arial`;const h=t.measureText(a).width,p=t.measureText(d).width,v=lr+dl+lr+ar+h+lr/2+ar+p,m=r.length*fl+(r.length-1)*Fp,y=s-m-lr;t.fillStyle=kA,t.fillRect(u,y,v,m);for(let _=0;_<r.length;_++){const R=r[_],k=y+_*(fl+Fp),O=k+fl/2;R.isPlayerTribe&&(t.fillStyle=PA,t.fillRect(u,k,v,fl));let I=u+lr;t.font=`${dl}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(R.tribeBadge,I,O-dl/4),I+=dl+lr*1.1,R.adultCount>0&&(Qo(t,{x:I+ar/2,y:O},ar,25,"male"),I+=ar/2,t.font=`${tc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${R.adultCount}`,I,O),I+=t.measureText(` ${R.adultCount}`).width+lr/2),R.childCount>0&&(Qo(t,{x:I+ar/2,y:O},ar,1,"female"),I+=ar/2,t.font=`${tc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${R.childCount}`,I,O))}t.restore()}function Uw(t,r,o,s,u){t.save();const{position:a}=r;t.strokeStyle=s,t.lineWidth=2+Math.sin(u*5)*1.5,t.setLineDash([8,8]),t.beginPath(),t.arc(a.x,a.y,o,0,2*Math.PI),t.stroke(),t.restore()}function Fw(t,r,o,s,u){if(r.transitionState===Et.INACTIVE)return;const a=o.steps[r.currentStepIndex];if(!a)return;t.save(),t.globalAlpha=r.transitionAlpha;const d=i_,h=o_,p=s_,v=`${oc}px "Press Start 2P", Arial`,m=`${jp}px "Press Start 2P", Arial`,y=a_,_=jp*1.5;t.font=m;const R=a.text.split(" ");let k="";const O=[];for(let j=0;j<R.length;j++){const ue=k+R[j]+" ";t.measureText(ue).width>d-h*2&&j>0?(O.push(k),k=R[j]+" "):k=ue}O.push(k);const I=h*2+oc+h/2+O.length*_,G=(s-d)/2,z=u-I-160;t.fillStyle=l_,t.beginPath(),t.moveTo(G+p,z),t.lineTo(G+d-p,z),t.quadraticCurveTo(G+d,z,G+d,z+p),t.lineTo(G+d,z+I-p),t.quadraticCurveTo(G+d,z+I,G+d-p,z+I),t.lineTo(G+p,z+I),t.quadraticCurveTo(G,z+I,G,z+I-p),t.lineTo(G,z+p),t.quadraticCurveTo(G,z,G+p,z),t.closePath(),t.fill(),t.fillStyle=y,t.textAlign="center",t.textBaseline="top",t.font=v,t.fillText(a.title,G+d/2,z+h),t.font=m;let W=z+h+oc+h/2;for(const j of O)t.fillText(j,G+d/2,W),W+=_;t.restore()}function fg(t,r,o){t.save();const s=f_,u={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};t.strokeStyle=gm,t.lineWidth=d_+Math.sin(o*mm)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function Lw(t,r){t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20)}const Mc=10,Bw=3,hg=Mc*.7;function Hw(t,r,o,s,u){const{position:a,food:d,maxFood:h,ownerId:p,claimedUntil:v}=r;if(t.beginPath(),t.arc(a.x,a.y,Mc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),p&&v&&v>u&&s){const m=o.entities.entities.get(p);if(m){let y;m.id===s.id?y=Yc:Em(s,m,o)?y=dA:y=hm,y&&(t.strokeStyle=y,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(a.x,a.y,Mc+2,0,Math.PI*2),t.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let y=0;y<d.length;y++){const _=y*m,R=a.x+hg*Math.cos(_),k=a.y+hg*Math.sin(_);t.beginPath(),t.arc(R,k,Bw,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}function xw(t,r){const{position:o,gender:s,age:u,decayProgress:a,food:d,radius:h}=r;if(t.save(),t.globalAlpha=1-a,cd.render(t,o.x-h,o.y-h,h*2,h*2,a,"dead",s,u,[0,0],!1,0),t.restore(),d.length>0){t.save(),t.font=`${IA}px Arial`,t.textAlign="center",t.textBaseline="middle";const p=Zt*.9,v=Math.PI/qg*3;d.forEach((m,y)=>{const _=y*v,R=o.x+p*Math.cos(_)*Math.atan2(y,y),k=o.y+p*Math.sin(_)*Math.atan2(y,y),O=ym[m.type];t.fillText(O,R,k)}),t.restore()}}function Ti(t,r,o,s,u,a,d,h){t.save(),t.fillStyle=d,t.fillRect(r,o,s,u),t.fillStyle=h,t.fillRect(r,o,s*Math.max(0,a),u),t.restore()}function Gw(t,r,o,s,u,a){if(t.save(),s.length===0){t.restore();return}const d=s.length*u;let h;d>a||d+(s.length-1)*4>a?h=(a-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=ym[s[p].type];t.fillText(v,r+p*(u+h),o)}t.restore()}function zw(t,r,o,s,u){const a=r.autopilotControls.hoveredAutopilotAction;if(!a)return;let d,h=Zt/2;const p=ql[a.action],v=Am[a.action],m=`${p} ${v}`;if("targetEntityId"in a){const y=r.entities.entities.get(a.targetEntityId);y&&(d=y.position,h=y.radius)}else"position"in a&&(d=a.position);if(d){km(t,d,h,Vc,Kc,2,o,s,u),t.save(),t.font=`${Di}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const y=d.x-o.x+s/2,R=d.y-o.y+u/2-h-Zl-Di/2;t.fillText(m,y,R),t.restore()}}function Ww(t,r,o,s,u){t.save();const a=(Math.sin(u*mm)+1)/2,d=o+Zl+a*5;t.strokeStyle=Vc,t.lineWidth=2,t.setLineDash(Kc),t.beginPath(),t.arc(r.x,r.y,d,0,Math.PI*2),t.stroke(),t.setLineDash([]);const h=ql[s],p=Am[s];if(h){t.font=`${Di*1.5}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle";const v=r.y-d-25;t.fillText(h,r.x,v),t.font=`${Di*.8}px "Press Start 2P", Arial`,t.fillText(p,r.x,v+25)}t.restore()}function pg(t,r,o){t.save();const s=30,u=70,a=3,d=u/a;for(let h=0;h<a;h++){const p=h*d,v=(o*s+p)%u,m=1-v/u;t.strokeStyle=`rgba(255, 215, 0, ${m*.7})`,t.lineWidth=1+(1-m)*2,t.beginPath(),t.arc(r.x,r.y,v,0,Math.PI*2),t.stroke()}t.restore()}function $w(t,r){const{activeAutopilotAction:o,behaviors:s}=r.autopilotControls,u=It(r);if(u&&(u.isCallingToFollow&&pg(t,u.position,r.time),s.followLeader&&!o&&pg(t,u.position,r.time),o)){let a,d=15;if("position"in o)a=o.position;else if("targetEntityId"in o){const h=r.entities.entities.get(o.targetEntityId);h&&(a=h.position,d=h.radius||30)}a&&o.action!==fe.AutopilotFollowMe&&!u.isCallingToFollow&&Ww(t,a,d,o.action,r.time)}}const jw={moving:"walk",gathering:"gathering",eating:"eat",feeding:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering"};function Yw(t,r){var h;const{radius:o,position:s,activeAction:u="idle"}=r,a=((h=r.stateMachine)==null?void 0:h[0])||"N/A",d=r.isAdult?Zt+20:Zt*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,s.x,s.y-d),t.fillText(`State: ${a}`,s.x,s.y-d+10),t.fillText(`HP: ${r.hitpoints}`,s.x,s.y-d+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-d+30),t.restore(),t.beginPath(),t.arc(s.x,s.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function Vw(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();t.save(),t.font=`${KA}px Arial`,t.textAlign="left",t.textBaseline="top";const u=y=>{switch(y){case N.SUCCESS:return QA;case N.FAILURE:return bA;case N.RUNNING:return ZA;case N.NOT_EVALUATED:case null:default:return qA}},a=y=>{if(!y.name||!s.has(y.name))return{width:0,height:0};let _=0,R=0;const k=s.get(y.name),O=` ${y.name}`+(k!=null&&k.debugInfo?`: ${k.debugInfo}`:""),I=t.measureText(O).width,G=(y.depth??0)*zp+8+I+$p+To+20;if(_=Math.max(_,G),R+=ic,y.children)for(const z of y.children){const W=a(z);_=Math.max(_,W.width),R+=W.height}else if(y.child){const z=a(y.child);_=Math.max(_,z.width),R+=z.height}return{width:_,height:R}},d=(y,_,R,k)=>{if(!y.name||!s.has(y.name))return _;let O=_;const I=s.get(y.name),G=R+2+(y.depth??0)*zp;let z=N.NOT_EVALUATED,W=Wp,j="";if(I){z=I.status,j=I.debugInfo;const $=e_/bt*Qt,Re=o-I.lastExecuted,Me=Math.max(0,1-Re/$);W=w_(Wp,JA,Me),Re>$o&&(z=N.NOT_EVALUATED)}const ue=u(z);t.fillStyle=ue,t.fillText("",G,O),t.fillStyle=W;const F=` ${y.name}`+(j?`: ${j}`:"");if(t.fillText(F,G+8,O),I&&I.executionHistory.length>0){const{executionHistory:$}=I,Re=pm/bt*Qt,Me=o,Ve=Me-Re,Je=R+k-To-$p;let Le=Je;const Ge=O+(ic-pl)/2,Ae=$.filter(D=>D.time<Ve);let Te=Ae.length>0?Ae[Ae.length-1].status:null,pe=Ve;const ie=$.filter(D=>D.time>=Ve&&D.time<=Me),H=To/Re;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(Je,Ge,To,pl);for(const D of ie){const q=(D.time-pe)*H;q>0&&(t.fillStyle=u(Te),t.fillRect(Le,Ge,q,pl),Le+=q),Te=D.status,pe=D.time}o-pe>$o&&(Te=N.NOT_EVALUATED);const x=(Me-pe)*H;t.fillStyle=u(Te);const E=Je+To-Le;t.fillRect(Le,Ge,Math.min(x,E),pl)}if(O+=ic,y.children)for(const $ of y.children)O=d($,O,R,k);else y.child&&(O=d(y.child,O,R,k));return O},{width:h,height:p}=a(r.aiBehaviorTree);if(p===0){t.restore();return}const v=r.position.x+YA,m=r.position.y+VA-p/2;t.fillStyle=XA,t.fillRect(v,m,h,p+4),d(r.aiBehaviorTree,m+2,v,h),t.restore()}function Kw(t,r,o,s,u){t.save(),t.font=`${Pc}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-(s?Zt:bl)-Pc-u),t.restore()}function Xw(t,r,o,s,u){const a=r.x,d=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(a-s/2,d,s,s/2),t.fill(),t.beginPath(),t.moveTo(a-s/2,d),t.lineTo(a-s/4,d-s/3),t.lineTo(a-s/6,d),t.moveTo(a-s/6,d),t.lineTo(a,d-s/2),t.lineTo(a+s/6,d),t.moveTo(a+s/6,d),t.lineTo(a+s/4,d-s/3),t.lineTo(a+s/2,d),t.stroke(),t.restore()}function Qw(t,r,o){var h;const{position:s,radius:u}=r,a=s.x-nc/2,d=s.y-u-OA;if(((h=r.stateMachine)==null?void 0:h[0])===Fi){const p=r.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/nm,1);Ti(t,a,d,nc,Lp,m,wi,DA)}else if(r.attackCooldown&&r.attackCooldown>0){const p=1-r.attackCooldown/rm;Ti(t,a,d,nc,Lp,p,wi,MA)}}function bw(t,r,o){const u="";t.save(),t.font="15px Arial",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=3,t.fillText(u,r.x,r.y-o),t.restore()}function Zw(t,r,o=!1,s=!1,u=!1,a=!1,d=!1,h=!1,p=!1,v=!1,m,y){const{position:_,activeAction:R="idle"}=r,k=r.isAdult?Zt:Zt*.6,O=jw[R]||"idle";cd.render(t,_.x-k,_.y-k,k*2,k*2,r.animationProgress||0,O,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(t.save(),t.strokeStyle=hm,t.lineWidth=2,t.beginPath(),t.arc(_.x,_.y,k+3,0,2*Math.PI),t.stroke(),t.restore());let I,G;if(d?(I=hA,G=fm):o?(I=fA,G=Yc):u?(I=pA,G=cA):s?(I=gA,G=cm):a&&(I=mA,G=dm),I&&G&&Xw(t,_,k,I,G),r.tribeBadge&&Kw(t,_,r.tribeBadge,r.isAdult??!1,I??0),p){let W=(r.isAdult?Zt:bl)+5;I&&(W+=I),r.tribeBadge&&(W+=Pc),bw(t,_,W)}const z=v&&(y===void 0||r.id===y);z&&r.aiBlackboard&&Vw(t,r,m),Qw(t,r,m),z&&Yw(t,r)}const Om=15;function gg(t,r,o,s,u=1.5){const a=o-r.startTime,d=Math.min(a/r.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(u-1),m=Om*v;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),t.fillStyle=s,t.fill(),t.restore()}function Si(t,r,o,s,u=2){const a=o-r.startTime,d=Math.min(a/r.duration,1),h=1-d,p=Om*2*d;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,p,0,Math.PI*2),t.strokeStyle=s,t.lineWidth=u,t.stroke(),t.restore()}function ur(t,r,o,s){const u=o-r.startTime,a=Math.min(u/r.duration,1),d=1-a,h=-20*a;t.save(),t.globalAlpha=d,t.font="20px Arial",t.textAlign="center",t.fillText(s,r.position.x,r.position.y+h),t.restore()}function qw(t,r,o){switch(r.type){case _e.Hunger:gg(t,r,o,"rgba(255, 165, 0, 0.7)",1);break;case _e.Procreation:ur(t,r,o,"");break;case _e.Pregnant:gg(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case _e.TargetAcquired:Si(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case _e.Attack:ur(t,r,o,"");break;case _e.Partnered:ur(t,r,o,"");break;case _e.BushClaimed:Si(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case _e.BushClaimLost:Si(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case _e.Eating:ur(t,r,o,"");break;case _e.ChildFed:ur(t,r,o,"");break;case _e.AttackDeflected:ur(t,r,o,"");break;case _e.AttackResisted:ur(t,r,o,"");break;case _e.Hit:ur(t,r,o,"");break;case _e.SeizeBuildup:Si(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case _e.Seize:Si(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case _e.CallToAttack:Si(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Po(t,r,o,s,u,...a){const d={...u.position};for(let h=-o;h<=o;h+=o)for(let p=-r;p<=r;p+=r)u.position.x=d.x+p,u.position.y=d.y+h,s(t,u,...a);u.position=d}function Jw(t,r,o){const s=It(r),u=s?Dt(r,s):[],a=Wr(u),{width:d,height:h}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,y;if(v.type==="berryBush")Po(t,d,h,Hw,v,r,s,r.time);else if(v.type==="human"){const _=v,R=_.id===(s==null?void 0:s.id),k=u.some(ue=>ue.id===_.id),O=_.id===(a==null?void 0:a.id),I=s&&(_.id===s.motherId||_.id===s.fatherId),G=s&&(((m=_.partnerIds)==null?void 0:m.includes(s.id))||((y=s.partnerIds)==null?void 0:y.includes(_.id))),z=(s==null?void 0:s.attackTargetId)===_.id,W=_.leaderId?r.entities.entities.get(_.leaderId):void 0,j=s?_.leaderId===s.id&&_.activeAction==="moving"&&_.target===_.leaderId&&(W==null?void 0:W.isCallingToFollow):!1;Po(t,d,h,Zw,_,R,I,k,G,O,z,j,o,r.time,r.debugCharacterId)}else v.type==="humanCorpse"&&Po(t,d,h,xw,v)}),r.visualEffects.forEach(v=>{Po(t,d,h,qw,v,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const v of r.tutorialState.highlightedEntityIds){const m=r.entities.entities.get(v);m&&Po(t,d,h,Uw,m,c_,gm,r.time)}}function eE(t,r,o,s,u,a){let d=null,h=null;t.textAlign="left";let p=Ot+dr;const m=r.time/(Qt/bt)/bg%1,y=Co[Ai.Time],_=25,R=Ot+_;t.fillText(y,Ot,p+Ht/2+dr/3),Ti(t,R,p,sr,Ht,m,wi,EA),p+=Ht+Mn;const k=p+Mr/2,O=p+(Mr-Ht)/2,I=5;Qo(t,{x:Ot*2,y:k},Mr,5,o.gender,!1,!1,!1);const G=Ot+Mr+I,z=sr+_-(Mr+I)*2;Ti(t,G,O,z,Ht,Math.floor(o.age)/zo,wi,wA),Qo(t,{x:G+z+I+Mr/2,y:k},Mr,zo,o.gender,!1,!1,!1),p+=Ht+Mn*2;const W=[],j=new Set;if(W.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),j.add(o.id),s&&!j.has(s.id)&&(W.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),j.add(s.id)),u.forEach(Ae=>{j.has(Ae.id)||(W.push({member:Ae,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),j.add(Ae.id))}),a.forEach(Ae=>{j.has(Ae.id)||(W.push({member:Ae,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),j.add(Ae.id))}),o.motherId&&!j.has(o.motherId)){const Ae=r.entities.entities.get(o.motherId);Ae&&(W.push({member:Ae,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),j.add(Ae.id))}if(o.fatherId&&!j.has(o.fatherId)){const Ae=r.entities.entities.get(o.fatherId);Ae&&(W.push({member:Ae,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),j.add(Ae.id))}const ue=Co[Ai.Family],F=10,$=Ot+dr+F,Re=sr+_-(dr+F),Me=p+cl/2;t.font=`${dr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(ue,Ot,Me);const Ve=p+cl/2;Dw(t,$,Ve,W,cl,Re),p+=cl+Mn,t.textBaseline="alphabetic";const Je=Co[Ai.Hitpoints];t.fillText(Je,Ot,p+Ht/2+dr/3),Ti(t,R,p,sr,Ht,o.hitpoints/o.maxHitpoints,wi,_A),p+=Ht+Mn;const Le=Co[Ai.Hunger];t.fillText(Le,Ot,p+Ht/2+dr/3),Ti(t,R,p,sr,Ht,(en-o.hunger)/en,wi,AA),d={x:Ot,y:p-Mn/2,width:sr+_,height:Ht+Mn},p+=Ht+Mn,t.textBaseline="middle";const Ge=Co[Ai.Food];return t.fillText(Ge,Ot,p+ul/2),Gw(t,R,p+ul/2,o.food,ul,sr),h={x:Ot,y:p-Mn/5,width:sr+_,height:ul+Mn},t.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function Gl(t,r,o,s,u,a=!1){var d;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-s.x,t.canvas.height/2-s.y),!a&&r.gameOver){t.restore(),Lw(t,r);return}if(Jw(t,r,o),$w(t,r),t.restore(),!a){t.fillStyle=vA,t.font=`${dr}px "Press Start 2P", Arial`,t.shadowColor=yA,t.shadowBlur=SA;const h=It(r);let p=null,v=null;if(h){const y=Dt(r,h),_=Wr(y),R=((d=h.partnerIds)==null?void 0:d.map(O=>r.entities.entities.get(O)).filter(O=>O!==void 0))||[],k=eE(t,r,h,_,R,y);p=k.hungerBarRect,v=k.foodBarRect}const m=Y_(r,h==null?void 0:h.leaderId);if(Mw(t,m,t.canvas.width,t.canvas.height),Aw(t,r,t.canvas.width),t.shadowColor="transparent",t.shadowBlur=0,h&&(zw(t,r,s,t.canvas.width,t.canvas.height),u.length>0&&Iw(t,u,h,s,t.canvas.width,t.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:y}=r.tutorialState;y.has(Xo.HUNGER_BAR)&&p&&fg(t,p,r.time),y.has(Xo.FOOD_BAR)&&v&&fg(t,v,r.time)}r.tutorialState.isActive&&Fw(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),r.isPaused&&_w(t)}}const tE=wn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,nE=wn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,rE=wn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,iE=wn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,oE=wn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,vc="intro-soundtrack",mg=()=>{const{setAppState:t}=zl(),r=ye.useRef(null),o=ye.useRef(null),s=ye.useRef(ew()),u=ye.useRef(),a=ye.useRef(s.current.viewportCenter),d=ye.useRef();ye.useEffect(()=>(Zc(Fe.SoundTrack1,{loop:!0,trackId:vc}),()=>{Xp(vc,2)}),[]),ye.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const y=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Gl(o.current,s.current,!1,a.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),ye.useEffect(()=>{const m=()=>{const _=Tm(s.current);if(_.length>0){const R=Math.floor(Math.random()*_.length);d.current=_[R].id}};m();const y=setInterval(m,m_);return()=>clearInterval(y)},[]);const[h,p]=Kg(m=>{if(!o.current)return;if(u.current===void 0){u.current=m;return}const y=Math.min((m-u.current)/1e3,1);s.current=ta(s.current,y);const _=d.current?s.current.entities.entities.get(d.current):void 0;if(_){const{mapDimensions:R}=s.current,{width:k,height:O}=R;let I={..._.position};const G=I.x-a.current.x;Math.abs(G)>k/2&&(G>0?I.x-=k:I.x+=k);const z=I.y-a.current.y;Math.abs(z)>O/2&&(z>0?I.y-=O:I.y+=O);let W=Xc(a.current,I,zc*y);W={x:(W.x%k+k)%k,y:(W.y%O+O)%O},a.current=W}Gl(o.current,s.current,!1,a.current,[],!0),u.current=m});ye.useEffect(()=>(p(),h),[p,h]);const v=()=>{Xp(vc,2),t("game")};return we.jsxs(tE,{children:[we.jsx(nE,{ref:r}),we.jsxs(rE,{children:[we.jsx(iE,{children:"Tribe"}),we.jsx(oE,{onClick:v,children:"Start Game"})]})]})};function sE(){return console.log("Tribe game initialized with detailed 2D world state."),J1()}const lE=({canvasRef:t,ctxRef:r,gameStateRef:o,isDebugOnRef:s,viewportCenterRef:u,playerActionHintsRef:a})=>(ye.useEffect(()=>{const d=t.current;if(!d)return;r.current=d.getContext("2d");const h=()=>{d&&r.current&&o.current&&(d.width=window.innerWidth,d.height=window.innerHeight,Gl(r.current,o.current,s.current===!0,u.current,a.current,!1))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),we.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})),aE=(t,r,o)=>{let s;const u=V_(t,o);if(u){if(r.isAdult&&u.type==="berryBush"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(r.isAdult&&u.type==="humanCorpse"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(u.type==="human"){const a=u;a.id!==r.id&&a.leaderId!==r.leaderId&&r.isAdult?s={action:fe.AutopilotAttack,targetEntityId:a.id}:a.id!==r.id&&a.gender!==r.gender&&a.isAdult&&r.isAdult&&(a.procreationCooldown||0)<=0&&a.gender==="female"&&a.age<=Ln?s={action:fe.AutopilotProcreate,targetEntityId:a.id}:r.food.length>0&&!a.isAdult&&(a.motherId===r.id||a.fatherId===r.id)&&(s={action:fe.AutopilotFeedChild,targetEntityId:a.id})}}else o.autopilotControls.isManuallyPlanting&&r.food.filter(a=>a.type===Bn.Berry).length>=Wo&&ed(t,o,1,Ql,r.id)?s={action:fe.AutopilotPlant,position:t}:s={action:fe.AutopilotMove,position:t};return s},uE=(t,r)=>{if(t.isPaused||!It(t))return;const s=t.autopilotControls.hoveredAutopilotAction;t.autopilotControls.activeAutopilotAction=void 0,s?(t.autopilotControls.activeAutopilotAction=s,(s.action===fe.AutopilotMove||s.action===fe.AutopilotGather)&&(t.hasPlayerMovedEver=!0),s.action===fe.AutopilotPlant&&(t.hasPlayerPlantedBush=!0)):t.autopilotControls.activeAutopilotAction={action:fe.AutopilotMove,position:r},t.autopilotControls.isManuallyMoving=!1,t.autopilotControls.isManuallyPlanting=!1},cE=(t,r,o)=>{var a,d,h;let s=!0,u=r;switch(t){case"m":r.isMuted=!r.isMuted,Fo(r.masterVolume,r.isMuted);break;case"=":case"+":const p=Math.min(1,r.masterVolume+.1);r.masterVolume=parseFloat(p.toFixed(1)),Fo(r.masterVolume,r.isMuted);break;case"-":const v=Math.max(0,r.masterVolume-.1);r.masterVolume=parseFloat(v.toFixed(1)),Fo(r.masterVolume,r.isMuted);break;case"t":u=ta(r,lm);break;case" ":case"p":r.isPaused=!r.isPaused;break;case"":case"`":o.current=!o.current,o.current?u.debugCharacterId=((a=It(u))==null?void 0:a.id)??((h=(d=Tm(u))==null?void 0:d[0])==null?void 0:h.id):u.debugCharacterId=void 0;break;case"tab":o.current=!0;const m=Array.from(u.entities.entities.values()).filter(y=>y.type==="human");if(m.length>0){const y=m.sort((O,I)=>O.isPlayer?-1:O.id-I.id),_=u.debugCharacterId,k=((_?y.findIndex(O=>O.id===_):-1)+1)%y.length;u.debugCharacterId=y[k].id}else u.debugCharacterId=void 0;break;default:s=!1;break}return{newState:u,handled:s}},dE=(t,r,o,s,u)=>{const a={gameState:o};if(r&&(o.hasPlayerEnabledAutopilot=!0),t==="e"){if(r){o.autopilotControls.behaviors.gathering=!o.autopilotControls.behaviors.gathering;return}const d=at(s,o,"berryBush",ut,v=>v.food.length>0&&s.food.length<s.maxFood),h=at(s,o,"humanCorpse",ut,v=>v.food.length>0&&s.food.length<s.maxFood);let p=null;d&&h?p=le(s.position,d.position,o.mapDimensions.width,o.mapDimensions.height)<=le(s.position,h.position,o.mapDimensions.width,o.mapDimensions.height)?d:h:p=d||h,p&&(s.activeAction="gathering",nt(a,Fe.Gather,s.position))}else if(t==="r"){if(r){o.autopilotControls.behaviors.procreation=!o.autopilotControls.behaviors.procreation;return}at(s,o,"human",ut,h=>{const p=h;return p.id!==s.id&&p.gender!==s.gender&&p.isAdult&&s.isAdult&&p.hunger<St&&s.hunger<St&&(p.procreationCooldown||0)<=0&&(s.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant:!s.isPregnant)||!1})&&(s.activeAction="procreating",nt(a,Fe.Procreate,s.position))}else if(t==="f")s.food.length>0&&(s.activeAction="eating",nt(a,Fe.Eat,s.position));else if(t==="h"){if(r){o.autopilotControls.behaviors.feedChildren=!o.autopilotControls.behaviors.feedChildren;return}const d=u.find(h=>h.type===fe.FeedChild);d&&d.targetEntity&&(s.activeAction="feeding",s.target=d.targetEntity.id)}else if(t==="arrowup"||t==="w")s.direction.y=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowdown"||t==="s")s.direction.y=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowleft"||t==="a")s.direction.x=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowright"||t==="d")s.direction.x=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="q"){if(r){o.autopilotControls.behaviors.attack=!o.autopilotControls.behaviors.attack;return}const d=at(s,o,"human",Xl,h=>h.id!==s.id&&h.leaderId!==s.leaderId);d&&(s.activeAction="attacking",s.attackTargetId=d.id)}else if(t==="b"){if(r){o.autopilotControls.behaviors.planting=!o.autopilotControls.behaviors.planting;return}if(u.find(h=>h.type===fe.Plant)){const h=ed(s.position,o,50,Rc);h&&(s.activeAction="planting",s.target=h,o.hasPlayerPlantedBush=!0)}}else t==="v"?(s.isCallingToAttack=!0,s.callToAttackEndTime=o.time+Oi,rt(o,_e.CallToAttack,s.position,Oi),nt(a,Fe.CallToAttack,s.position)):t==="c"?(s.isCallingToFollow=!0,s.callToFollowEndTime=o.time+jo,rt(o,_e.CallToFollow,s.position,jo),nt(a,Fe.CallToFollow,s.position)):t==="k"&&nd(s,o)},fE=(t,r,o,s)=>{t==="arrowup"||t==="w"||t==="arrowdown"||t==="s"?r.direction.y=0:(t==="arrowleft"||t==="a"||t==="arrowright"||t==="d")&&(r.direction.x=0),!s.current.has("arrowup")&&!s.current.has("arrowdown")&&!s.current.has("arrowleft")&&!s.current.has("arrowright")&&!s.current.has("w")&&!s.current.has("a")&&!s.current.has("s")&&!s.current.has("d")&&(r.activeAction==="moving"&&(r.activeAction="idle"),o.autopilotControls.isManuallyMoving=!1),!s.current.has("e")&&r.activeAction==="gathering"&&(r.activeAction="idle"),!s.current.has("f")&&r.activeAction==="eating"&&(r.activeAction="idle"),!s.current.has("r")&&r.activeAction==="procreating"&&(r.activeAction="idle"),!s.current.has("h")&&r.activeAction==="feeding"&&(r.activeAction="idle")},hE=(t,r,o)=>{const s={gameState:o},u=It(o);u&&nt(s,Fe.ButtonClick,u.position);const a=o.uiButtons.find(h=>h.id===t.id);a&&(a.lastActivated=Date.now()),r&&(o.hasPlayerEnabledAutopilot=!0);const{behaviors:d}=o.autopilotControls;switch(t.action){case De.ToggleMute:o.isMuted=!o.isMuted,Fo(o.masterVolume,o.isMuted);break;case De.TogglePause:o.isPaused=!o.isPaused;break;case De.FastForward:return ta(o,lm);case De.CommandEat:u&&u.food.length>0&&(u.activeAction="eating");break;case De.CommandGather:r?d.gathering=!d.gathering:u&&(u.activeAction="gathering");break;case De.CommandPlant:r?d.planting=!d.planting:u&&(o.autopilotControls.isManuallyPlanting=!0);break;case De.ToggleProcreationBehavior:d.procreation=!d.procreation;break;case De.ToggleAttackBehavior:d.attack=!d.attack;break;case De.ToggleFeedChildBehavior:d.feedChildren=!d.feedChildren;break;case De.ToggleAutopilotFollowLeaderBehavior:d.followLeader=!d.followLeader;break;case De.CommandCallToAttack:u&&u.leaderId===u.id&&(u.isCallingToAttack=!0,u.callToAttackEndTime=o.time+Oi,rt(o,_e.CallToAttack,u.position,Oi),nt(s,Fe.CallToAttack,u.position));break;case De.CommandFollowMe:r?d.followLeader=!d.followLeader:u&&u.leaderId===u.id&&(u.isCallingToFollow=!0,u.callToFollowEndTime=o.time+jo,rt(o,_e.CallToFollow,u.position,jo),nt(s,Fe.CallToFollow,u.position));break;case De.CommandTribeSplit:u&&nd(u,o);break}return o},pE=({isActive:t,gameStateRef:r,canvasRef:o,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:a,keysPressed:d})=>(ye.useEffect(()=>{const h=p=>{if(!t()||r.current.gameOver||!o.current||!p.target||p.target!==o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top,_=r.current.uiButtons.find(k=>m>=k.rect.x&&m<=k.rect.x+k.rect.width&&y>=k.rect.y&&y<=k.rect.y+k.rect.height);if(_){r.current=hE(_,p.shiftKey,r.current);return}const R=Jp({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);uE(r.current,R)};return window.addEventListener("mousedown",h),()=>{window.removeEventListener("mousedown",h)}},[t,o,r,s]),ye.useEffect(()=>{const h=p=>{if(!t()||!o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;r.current.mousePosition={x:m,y};let _;for(let k=r.current.uiButtons.length-1;k>=0;k--){const O=r.current.uiButtons[k];if(m>=O.rect.x&&m<=O.rect.x+O.rect.width&&y>=O.rect.y&&y<=O.rect.y+O.rect.height){_=O.id;break}}if(r.current.hoveredButtonId=_,_){r.current.autopilotControls.hoveredAutopilotAction=void 0;return}const R=It(r.current);if(R){const k=Jp({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);r.current.autopilotControls.hoveredAutopilotAction=aE(k,R,r.current)}else r.current.autopilotControls.hoveredAutopilotAction=void 0};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[t,o,r,s]),ye.useEffect(()=>{const h=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();if((m===" "||m==="p"||m==="tab")&&v.preventDefault(),m==="escape"){r.current.autopilotControls.activeAutopilotAction=void 0;return}const y=cE(m,r.current,a);if(r.current=y.newState,y.handled)return;const _=It(r.current);_&&(d.current.add(m),dE(m,v.shiftKey,r.current,_,u.current))},p=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();d.current.delete(m);const y=It(r.current);y&&fE(m,y,r.current,d)};return window.addEventListener("keydown",h),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",p)}},[t,r,u,a,d]),null),gE=(t,r,o)=>{let u=It(t);if(t.debugCharacterId){const a=t.entities.entities.get(t.debugCharacterId);a&&"position"in a&&(u=a)}if(u){const{mapDimensions:a}=t,{width:d,height:h}=a;let p={...u.position};const v=p.x-r.x;Math.abs(v)>d/2&&(v>0?p.x-=d:p.x+=d);const m=p.y-r.y;Math.abs(m)>h/2&&(m>0?p.y-=h:p.y+=h);let y=Xc(r,p,zc*o);return y={x:(y.x%d+d)%d,y:(y.y%h+h)%h},y}return t.viewportCenter},mE=({gameStateRef:t,ctxRef:r,isDebugOnRef:o,viewportCenterRef:s,playerActionHintsRef:u,keysPressed:a,canvasRef:d,setAppState:h,appState:p})=>{const v=ye.useRef(),[m,y,_]=Kg(R=>{if(!r.current||!v.current){v.current=R;return}const k=Math.min(R-v.current,1e3)/1e3;t.current=ta(t.current,k);const O=It(t.current);O?u.current=qc(t.current,O):u.current=[],s.current=gE(t.current,s.current,k),Gl(r.current,t.current,o.current,s.current,u.current,!1),v.current=R,t.current.gameOver&&p!=="gameOver"&&(Zc(Fe.GameOver,{masterVolume:t.current.masterVolume,isMuted:t.current.isMuted}),h("gameOver",{generations:t.current.generationCount,cause:t.current.causeOfGameOver||"Unknown"}))});return ye.useEffect(()=>(y(),m),[y,m]),we.jsx(pE,{isActive:_,gameStateRef:t,canvasRef:d,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:o,keysPressed:a})},vg=()=>{const[t]=ye.useState(()=>sE());return we.jsx(vE,{initialState:t})},vE=({initialState:t})=>{const r=ye.useRef(null),o=ye.useRef(null),s=ye.useRef(t),u=ye.useRef(new Set),a=ye.useRef(!1),d=ye.useRef(t.viewportCenter),h=ye.useRef([]),{appState:p,setAppState:v}=zl();return we.jsxs(we.Fragment,{children:[we.jsx(lE,{canvasRef:r,ctxRef:o,gameStateRef:s,isDebugOnRef:a,viewportCenterRef:d,playerActionHintsRef:h}),we.jsx(mE,{gameStateRef:s,ctxRef:o,isDebugOnRef:a,viewportCenterRef:d,playerActionHintsRef:h,keysPressed:u,canvasRef:r,setAppState:v,appState:p})]})},yE=wn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,SE=wn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Tl=wn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,AE=wn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,_E=()=>{const{setAppState:t,gameOverDetails:r}=zl(),o=()=>{t("intro")};return we.jsxs(yE,{children:[we.jsx(SE,{children:"Game Over"}),we.jsx(Tl,{children:"Your tribe's lineage has ended."}),r&&we.jsxs(we.Fragment,{children:[we.jsxs(Tl,{children:["Generations Survived: ",r.generations]}),we.jsxs(Tl,{children:["Cause of Extinction: ",r.cause]})]}),!r&&we.jsx(Tl,{children:"Game details are unavailable."}),we.jsx(AE,{onClick:o,children:"Return to Menu"})]})},wE=zy`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function EE(t,r){ye.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),ye.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const IE=()=>{const{appState:t,setAppState:r}=zl();EE(t,r);const o=()=>{switch(t){case"intro":return we.jsx(mg,{});case"game":return we.jsx(vg,{});case"gameOver":return we.jsxs(we.Fragment,{children:[we.jsx(vg,{}),we.jsx(_E,{})]});default:return we.jsx(mg,{})}};return we.jsxs(we.Fragment,{children:[we.jsx(wE,{}),o()]})},yg=document.getElementById("root");yg?M_().then(()=>{xv.createRoot(yg).render(we.jsx(An.StrictMode,{children:we.jsx(Gv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:we.jsx(IE,{})})}))}):console.error("Failed to find the root element");
