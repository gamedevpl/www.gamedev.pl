var Q0=Object.defineProperty;var Z0=(n,i,o)=>i in n?Q0(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var je=(n,i,o)=>Z0(n,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(c){if(c.ep)return;c.ep=!0;const u=o(c);fetch(c.href,u)}})();function jp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ru={exports:{}},fo={},Pu={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function q0(){if(Dh)return ve;Dh=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function A(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function T(w,D,re){this.props=w,this.context=D,this.refs=N,this.updater=re||R}T.prototype.isReactComponent={},T.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},T.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function M(){}M.prototype=T.prototype;function k(w,D,re){this.props=w,this.context=D,this.refs=N,this.updater=re||R}var j=k.prototype=new M;j.constructor=k,O(j,T.prototype),j.isPureReactComponent=!0;var G=Array.isArray,b=Object.prototype.hasOwnProperty,F={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function J(w,D,re){var ee,ge={},ae=null,fe=null;if(D!=null)for(ee in D.ref!==void 0&&(fe=D.ref),D.key!==void 0&&(ae=""+D.key),D)b.call(D,ee)&&!x.hasOwnProperty(ee)&&(ge[ee]=D[ee]);var ce=arguments.length-2;if(ce===1)ge.children=re;else if(1<ce){for(var K=Array(ce),ie=0;ie<ce;ie++)K[ie]=arguments[ie+2];ge.children=K}if(w&&w.defaultProps)for(ee in ce=w.defaultProps,ce)ge[ee]===void 0&&(ge[ee]=ce[ee]);return{$$typeof:n,type:w,key:ae,ref:fe,props:ge,_owner:F.current}}function pe(w,D){return{$$typeof:n,type:w.type,key:D,ref:w.ref,props:w.props,_owner:w._owner}}function Be(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function qe(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(re){return D[re]})}var ke=/\/+/g;function Ne(w,D){return typeof w=="object"&&w!==null&&w.key!=null?qe(""+w.key):D.toString(36)}function ye(w,D,re,ee,ge){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(ae){case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case n:case i:fe=!0}}if(fe)return fe=w,ge=ge(fe),w=ee===""?"."+Ne(fe,0):ee,G(ge)?(re="",w!=null&&(re=w.replace(ke,"$&/")+"/"),ye(ge,D,re,"",function(ie){return ie})):ge!=null&&(Be(ge)&&(ge=pe(ge,re+(!ge.key||fe&&fe.key===ge.key?"":(""+ge.key).replace(ke,"$&/")+"/")+w)),D.push(ge)),1;if(fe=0,ee=ee===""?".":ee+":",G(w))for(var ce=0;ce<w.length;ce++){ae=w[ce];var K=ee+Ne(ae,ce);fe+=ye(ae,D,re,K,ge)}else if(K=A(w),typeof K=="function")for(w=K.call(w),ce=0;!(ae=w.next()).done;)ae=ae.value,K=ee+Ne(ae,ce++),fe+=ye(ae,D,re,K,ge);else if(ae==="object")throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return fe}function we(w,D,re){if(w==null)return w;var ee=[],ge=0;return ye(w,ee,"","",function(ae){return D.call(re,ae,ge++)}),ee}function de(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(re){(w._status===0||w._status===-1)&&(w._status=1,w._result=re)},function(re){(w._status===0||w._status===-1)&&(w._status=2,w._result=re)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var se={current:null},W={transition:null},V={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:W,ReactCurrentOwner:F};function $(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:we,forEach:function(w,D,re){we(w,function(){D.apply(this,arguments)},re)},count:function(w){var D=0;return we(w,function(){D++}),D},toArray:function(w){return we(w,function(D){return D})||[]},only:function(w){if(!Be(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ve.Component=T,ve.Fragment=o,ve.Profiler=c,ve.PureComponent=k,ve.StrictMode=a,ve.Suspense=g,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ve.act=$,ve.cloneElement=function(w,D,re){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var ee=O({},w.props),ge=w.key,ae=w.ref,fe=w._owner;if(D!=null){if(D.ref!==void 0&&(ae=D.ref,fe=F.current),D.key!==void 0&&(ge=""+D.key),w.type&&w.type.defaultProps)var ce=w.type.defaultProps;for(K in D)b.call(D,K)&&!x.hasOwnProperty(K)&&(ee[K]=D[K]===void 0&&ce!==void 0?ce[K]:D[K])}var K=arguments.length-2;if(K===1)ee.children=re;else if(1<K){ce=Array(K);for(var ie=0;ie<K;ie++)ce[ie]=arguments[ie+2];ee.children=ce}return{$$typeof:n,type:w.type,key:ge,ref:ae,props:ee,_owner:fe}},ve.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:u,_context:w},w.Consumer=w},ve.createElement=J,ve.createFactory=function(w){var D=J.bind(null,w);return D.type=w,D},ve.createRef=function(){return{current:null}},ve.forwardRef=function(w){return{$$typeof:h,render:w}},ve.isValidElement=Be,ve.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:de}},ve.memo=function(w,D){return{$$typeof:y,type:w,compare:D===void 0?null:D}},ve.startTransition=function(w){var D=W.transition;W.transition={};try{w()}finally{W.transition=D}},ve.unstable_act=$,ve.useCallback=function(w,D){return se.current.useCallback(w,D)},ve.useContext=function(w){return se.current.useContext(w)},ve.useDebugValue=function(){},ve.useDeferredValue=function(w){return se.current.useDeferredValue(w)},ve.useEffect=function(w,D){return se.current.useEffect(w,D)},ve.useId=function(){return se.current.useId()},ve.useImperativeHandle=function(w,D,re){return se.current.useImperativeHandle(w,D,re)},ve.useInsertionEffect=function(w,D){return se.current.useInsertionEffect(w,D)},ve.useLayoutEffect=function(w,D){return se.current.useLayoutEffect(w,D)},ve.useMemo=function(w,D){return se.current.useMemo(w,D)},ve.useReducer=function(w,D,re){return se.current.useReducer(w,D,re)},ve.useRef=function(w){return se.current.useRef(w)},ve.useState=function(w){return se.current.useState(w)},ve.useSyncExternalStore=function(w,D,re){return se.current.useSyncExternalStore(w,D,re)},ve.useTransition=function(){return se.current.useTransition()},ve.version="18.3.1",ve}var Mh;function hc(){return Mh||(Mh=1,Pu.exports=q0()),Pu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function J0(){if(Uh)return fo;Uh=1;var n=hc(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,g,y){var m,S={},A=null,R=null;y!==void 0&&(A=""+y),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(R=g.ref);for(m in g)a.call(g,m)&&!u.hasOwnProperty(m)&&(S[m]=g[m]);if(h&&h.defaultProps)for(m in g=h.defaultProps,g)S[m]===void 0&&(S[m]=g[m]);return{$$typeof:i,type:h,key:A,ref:R,props:S,_owner:c.current}}return fo.Fragment=o,fo.jsx=f,fo.jsxs=f,fo}var Lh;function b0(){return Lh||(Lh=1,Ru.exports=J0()),Ru.exports}var Ce=b0(),me=hc();const mn=jp(me);var Js={},ku={exports:{}},It={},Nu={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function ev(){return Fh||(Fh=1,function(n){function i(W,V){var $=W.length;W.push(V);e:for(;0<$;){var w=$-1>>>1,D=W[w];if(0<c(D,V))W[w]=V,W[$]=D,$=w;else break e}}function o(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var V=W[0],$=W.pop();if($!==V){W[0]=$;e:for(var w=0,D=W.length,re=D>>>1;w<re;){var ee=2*(w+1)-1,ge=W[ee],ae=ee+1,fe=W[ae];if(0>c(ge,$))ae<D&&0>c(fe,ge)?(W[w]=fe,W[ae]=$,w=ae):(W[w]=ge,W[ee]=$,w=ee);else if(ae<D&&0>c(fe,$))W[w]=fe,W[ae]=$,w=ae;else break e}}return V}function c(W,V){var $=W.sortIndex-V.sortIndex;return $!==0?$:W.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var g=[],y=[],m=1,S=null,A=3,R=!1,O=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var V=o(y);V!==null;){if(V.callback===null)a(y);else if(V.startTime<=W)a(y),V.sortIndex=V.expirationTime,i(g,V);else break;V=o(y)}}function G(W){if(N=!1,j(W),!O)if(o(g)!==null)O=!0,de(b);else{var V=o(y);V!==null&&se(G,V.startTime-W)}}function b(W,V){O=!1,N&&(N=!1,M(J),J=-1),R=!0;var $=A;try{for(j(V),S=o(g);S!==null&&(!(S.expirationTime>V)||W&&!qe());){var w=S.callback;if(typeof w=="function"){S.callback=null,A=S.priorityLevel;var D=w(S.expirationTime<=V);V=n.unstable_now(),typeof D=="function"?S.callback=D:S===o(g)&&a(g),j(V)}else a(g);S=o(g)}if(S!==null)var re=!0;else{var ee=o(y);ee!==null&&se(G,ee.startTime-V),re=!1}return re}finally{S=null,A=$,R=!1}}var F=!1,x=null,J=-1,pe=5,Be=-1;function qe(){return!(n.unstable_now()-Be<pe)}function ke(){if(x!==null){var W=n.unstable_now();Be=W;var V=!0;try{V=x(!0,W)}finally{V?Ne():(F=!1,x=null)}}else F=!1}var Ne;if(typeof k=="function")Ne=function(){k(ke)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,we=ye.port2;ye.port1.onmessage=ke,Ne=function(){we.postMessage(null)}}else Ne=function(){T(ke,0)};function de(W){x=W,F||(F=!0,Ne())}function se(W,V){J=T(function(){W(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,de(b))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return o(g)},n.unstable_next=function(W){switch(A){case 1:case 2:case 3:var V=3;break;default:V=A}var $=A;A=V;try{return W()}finally{A=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,V){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var $=A;A=W;try{return V()}finally{A=$}},n.unstable_scheduleCallback=function(W,V,$){var w=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?w+$:w):$=w,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=$+D,W={id:m++,callback:V,priorityLevel:W,startTime:$,expirationTime:D,sortIndex:-1},$>w?(W.sortIndex=$,i(y,W),o(g)===null&&W===o(y)&&(N?(M(J),J=-1):N=!0,se(G,$-w))):(W.sortIndex=D,i(g,W),O||R||(O=!0,de(b))),W},n.unstable_shouldYield=qe,n.unstable_wrapCallback=function(W){var V=A;return function(){var $=A;A=V;try{return W.apply(this,arguments)}finally{A=$}}}}(Ou)),Ou}var Bh;function tv(){return Bh||(Bh=1,Nu.exports=ev()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function nv(){if(Hh)return It;Hh=1;var n=hc(),i=tv();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},S={};function A(e){return g.call(S,e)?!0:g.call(m,e)?!1:y.test(e)?S[e]=!0:(m[e]=!0,!1)}function R(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,s){if(t===null||typeof t>"u"||R(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,s,l,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,k);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,k);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,k);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function j(e,t,r,s){var l=T.hasOwnProperty(t)?T[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,l,s)&&(r=null),s||l===null?A(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),F=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Be=Symbol.for("react.provider"),qe=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),W=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,w;function D(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var re=!1;function ee(e,t){if(!e||re)return"";re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),d=s.stack.split(`
`),p=l.length-1,v=d.length-1;1<=p&&0<=v&&l[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(l[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||l[p]!==d[v]){var _=`
`+l[p].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=p&&0<=v);break}}}finally{re=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function ge(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case F:return"Portal";case pe:return"Profiler";case J:return"StrictMode";case Ne:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qe:return(e.displayName||"Context")+".Consumer";case Be:return(e._context.displayName||"Context")+".Provider";case ke:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=K(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){s=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Te(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=K(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function _n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var r=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ht(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ce(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hr(e,t){t=t.checked,t!=null&&j(e,"checked",t,!1)}function En(e,t){hr(e,t);var r=ce(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fr(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fr(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Un(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fr(e,t,r){(t!=="number"||_n(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function Fn(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ce(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function pr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(Ln(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ce(r)}}function Wc(e,t){var r=ce(t.value),s=ce(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $c(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$c(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,Yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bg=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(e){bg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pi[t]=Pi[e]})});function Vc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pi.hasOwnProperty(e)&&Pi[e]?(""+t).trim():t+"px"}function Xc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Vc(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var em=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Ga(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function Wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,Br=null,Hr=null;function Kc(e){if(e=Zi(e)){if(typeof ja!="function")throw Error(o(280));var t=e.stateNode;t&&(t=hs(t),ja(e.stateNode,e.type,t))}}function Qc(e){Br?Hr?Hr.push(e):Hr=[e]:Br=e}function Zc(){if(Br){var e=Br,t=Hr;if(Hr=Br=null,Kc(e),t)for(e=0;e<t.length;e++)Kc(t[e])}}function qc(e,t){return e(t)}function Jc(){}var $a=!1;function bc(e,t,r){if($a)return e(t,r);$a=!0;try{return qc(e,t,r)}finally{$a=!1,(Br!==null||Hr!==null)&&(Jc(),Zc())}}function ki(e,t){var r=e.stateNode;if(r===null)return null;var s=hs(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var Ya=!1;if(h)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Ya=!1}function tm(e,t,r,s,l,d,p,v,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(L){this.onError(L)}}var Oi=!1,Yo=null,Vo=!1,Va=null,nm={onError:function(e){Oi=!0,Yo=e}};function rm(e,t,r,s,l,d,p,v,_){Oi=!1,Yo=null,tm.apply(nm,arguments)}function im(e,t,r,s,l,d,p,v,_){if(rm.apply(this,arguments),Oi){if(Oi){var P=Yo;Oi=!1,Yo=null}else throw Error(o(198));Vo||(Vo=!0,Va=P)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ed(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function td(e){if(gr(e)!==e)throw Error(o(188))}function om(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return td(l),e;if(d===s)return td(l),t;d=d.sibling}throw Error(o(188))}if(r.return!==s.return)r=l,s=d;else{for(var p=!1,v=l.child;v;){if(v===r){p=!0,r=l,s=d;break}if(v===s){p=!0,s=l,r=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===r){p=!0,r=d,s=l;break}if(v===s){p=!0,s=d,r=l;break}v=v.sibling}if(!p)throw Error(o(189))}}if(r.alternate!==s)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function nd(e){return e=om(e),e!==null?rd(e):null}function rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rd(e);if(t!==null)return t;e=e.sibling}return null}var id=i.unstable_scheduleCallback,od=i.unstable_cancelCallback,sm=i.unstable_shouldYield,am=i.unstable_requestPaint,$e=i.unstable_now,lm=i.unstable_getCurrentPriorityLevel,Xa=i.unstable_ImmediatePriority,sd=i.unstable_UserBlockingPriority,Xo=i.unstable_NormalPriority,um=i.unstable_LowPriority,ad=i.unstable_IdlePriority,Ko=null,ln=null;function cm(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ko,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:hm,dm=Math.log,fm=Math.LN2;function hm(e){return e>>>=0,e===0?32:31-(dm(e)/fm|0)|0}var Qo=64,Zo=4194304;function Di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,d=e.pingedLanes,p=r&268435455;if(p!==0){var v=p&~l;v!==0?s=Di(v):(d&=p,d!==0&&(s=Di(d)))}else p=r&~l,p!==0?s=Di(p):d!==0&&(s=Di(d));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-bt(t),l=1<<r,s|=e[r],t&=~l;return s}function pm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-bt(d),v=1<<p,_=l[p];_===-1?((v&r)===0||(v&s)!==0)&&(l[p]=pm(v,t)):_<=t&&(e.expiredLanes|=v),d&=~v}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ld(){var e=Qo;return Qo<<=1,(Qo&4194240)===0&&(Qo=64),e}function Qa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=r}function mm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-bt(r),d=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~d}}function Za(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-bt(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var Re=0;function ud(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cd,qa,dd,fd,hd,Ja=!1,Jo=[],Bn=null,Hn=null,xn=null,Ui=new Map,Li=new Map,Gn=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Fi(e,t,r,s,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Zi(t),t!==null&&qa(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ym(e,t,r,s,l){switch(t){case"focusin":return Bn=Fi(Bn,e,t,r,s,l),!0;case"dragenter":return Hn=Fi(Hn,e,t,r,s,l),!0;case"mouseover":return xn=Fi(xn,e,t,r,s,l),!0;case"pointerover":var d=l.pointerId;return Ui.set(d,Fi(Ui.get(d)||null,e,t,r,s,l)),!0;case"gotpointercapture":return d=l.pointerId,Li.set(d,Fi(Li.get(d)||null,e,t,r,s,l)),!0}return!1}function gd(e){var t=mr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=ed(r),t!==null){e.blockedOn=t,hd(e.priority,function(){dd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);za=s,r.target.dispatchEvent(s),za=null}else return t=Zi(r),t!==null&&qa(t),e.blockedOn=r,!1;t.shift()}return!0}function md(e,t,r){bo(e)&&r.delete(t)}function Sm(){Ja=!1,Bn!==null&&bo(Bn)&&(Bn=null),Hn!==null&&bo(Hn)&&(Hn=null),xn!==null&&bo(xn)&&(xn=null),Ui.forEach(md),Li.forEach(md)}function Bi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ja||(Ja=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Sm)))}function Hi(e){function t(l){return Bi(l,e)}if(0<Jo.length){Bi(Jo[0],e);for(var r=1;r<Jo.length;r++){var s=Jo[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Bn!==null&&Bi(Bn,e),Hn!==null&&Bi(Hn,e),xn!==null&&Bi(xn,e),Ui.forEach(t),Li.forEach(t),r=0;r<Gn.length;r++)s=Gn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)gd(r),r.blockedOn===null&&Gn.shift()}var xr=G.ReactCurrentBatchConfig,es=!0;function _m(e,t,r,s){var l=Re,d=xr.transition;xr.transition=null;try{Re=1,ba(e,t,r,s)}finally{Re=l,xr.transition=d}}function Em(e,t,r,s){var l=Re,d=xr.transition;xr.transition=null;try{Re=4,ba(e,t,r,s)}finally{Re=l,xr.transition=d}}function ba(e,t,r,s){if(es){var l=el(e,t,r,s);if(l===null)vl(e,t,s,ts,r),pd(e,s);else if(ym(l,e,t,r,s))s.stopPropagation();else if(pd(e,s),t&4&&-1<vm.indexOf(e)){for(;l!==null;){var d=Zi(l);if(d!==null&&cd(d),d=el(e,t,r,s),d===null&&vl(e,t,s,ts,r),d===l)break;l=d}l!==null&&s.stopPropagation()}else vl(e,t,s,null,r)}}var ts=null;function el(e,t,r,s){if(ts=null,e=Wa(s),e=mr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ed(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ts=e,null}function vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lm()){case Xa:return 1;case sd:return 4;case Xo:case um:return 16;case ad:return 536870912;default:return 16}default:return 16}}var zn=null,tl=null,ns=null;function yd(){if(ns)return ns;var e,t=tl,r=t.length,s,l="value"in zn?zn.value:zn.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===l[d-s];s++);return ns=l.slice(e,1<s?1-s:void 0)}function rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function Sd(){return!1}function Ot(e){function t(r,s,l,d,p){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?is:Sd,this.isPropagationStopped=Sd,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Ot(Gr),xi=$({},Gr,{view:0,detail:0}),wm=Ot(xi),rl,il,Gi,os=$({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(rl=e.screenX-Gi.screenX,il=e.screenY-Gi.screenY):il=rl=0,Gi=e),rl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),_d=Ot(os),Am=$({},os,{dataTransfer:0}),Tm=Ot(Am),Im=$({},xi,{relatedTarget:0}),ol=Ot(Im),Cm=$({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=Ot(Cm),Pm=$({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),km=Ot(Pm),Nm=$({},Gr,{data:0}),Ed=Ot(Nm),Om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mm[e])?!!t[e]:!1}function sl(){return Um}var Lm=$({},xi,{key:function(e){if(e.key){var t=Om[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(e){return e.type==="keypress"?rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=Ot(Lm),Bm=$({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=Ot(Bm),Hm=$({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),xm=Ot(Hm),Gm=$({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zm=Ot(Gm),Wm=$({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jm=Ot(Wm),$m=[9,13,27,32],al=h&&"CompositionEvent"in window,zi=null;h&&"documentMode"in document&&(zi=document.documentMode);var Ym=h&&"TextEvent"in window&&!zi,Ad=h&&(!al||zi&&8<zi&&11>=zi),Td=" ",Id=!1;function Cd(e,t){switch(e){case"keyup":return $m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Vm(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(Id=!0,Td);case"textInput":return e=t.data,e===Td&&Id?null:e;default:return null}}function Xm(e,t){if(zr)return e==="compositionend"||!al&&Cd(e,t)?(e=yd(),ns=tl=zn=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ad&&t.locale!=="ko"?null:t.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Km[e.type]:t==="textarea"}function kd(e,t,r,s){Qc(s),t=cs(t,"onChange"),0<t.length&&(r=new nl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Wi=null,ji=null;function Qm(e){Xd(e,0)}function ss(e){var t=Vr(e);if(ue(t))return e}function Zm(e,t){if(e==="change")return t}var Nd=!1;if(h){var ll;if(h){var ul="oninput"in document;if(!ul){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),ul=typeof Od.oninput=="function"}ll=ul}else ll=!1;Nd=ll&&(!document.documentMode||9<document.documentMode)}function Dd(){Wi&&(Wi.detachEvent("onpropertychange",Md),ji=Wi=null)}function Md(e){if(e.propertyName==="value"&&ss(ji)){var t=[];kd(t,ji,e,Wa(e)),bc(Qm,t)}}function qm(e,t,r){e==="focusin"?(Dd(),Wi=t,ji=r,Wi.attachEvent("onpropertychange",Md)):e==="focusout"&&Dd()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(ji)}function bm(e,t){if(e==="click")return ss(t)}function e0(e,t){if(e==="input"||e==="change")return ss(t)}function t0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:t0;function $i(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!g.call(t,l)||!en(e[l],t[l]))return!1}return!0}function Ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var r=Ud(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ud(r)}}function Fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_n(e.document)}return t}function cl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n0(e){var t=Bd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fd(r.ownerDocument.documentElement,r)){if(s!==null&&cl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(s.start,l);s=s.end===void 0?d:Math.min(s.end,l),!e.extend&&d>s&&(l=s,s=d,d=l),l=Ld(r,d);var p=Ld(r,s);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r0=h&&"documentMode"in document&&11>=document.documentMode,Wr=null,dl=null,Yi=null,fl=!1;function Hd(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fl||Wr==null||Wr!==_n(s)||(s=Wr,"selectionStart"in s&&cl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Yi&&$i(Yi,s)||(Yi=s,s=cs(dl,"onSelect"),0<s.length&&(t=new nl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Wr)))}function as(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},hl={},xd={};h&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function ls(e){if(hl[e])return hl[e];if(!jr[e])return e;var t=jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xd)return hl[e]=t[r];return e}var Gd=ls("animationend"),zd=ls("animationiteration"),Wd=ls("animationstart"),jd=ls("transitionend"),$d=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){$d.set(e,t),u(t,[e])}for(var pl=0;pl<Yd.length;pl++){var gl=Yd[pl],i0=gl.toLowerCase(),o0=gl[0].toUpperCase()+gl.slice(1);Wn(i0,"on"+o0)}Wn(Gd,"onAnimationEnd"),Wn(zd,"onAnimationIteration"),Wn(Wd,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(jd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Vd(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,im(s,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],_=v.instance,P=v.currentTarget;if(v=v.listener,_!==d&&l.isPropagationStopped())break e;Vd(l,v,P),d=_}else for(p=0;p<s.length;p++){if(v=s[p],_=v.instance,P=v.currentTarget,v=v.listener,_!==d&&l.isPropagationStopped())break e;Vd(l,v,P),d=_}}}if(Vo)throw e=Va,Vo=!1,Va=null,e}function De(e,t){var r=t[Al];r===void 0&&(r=t[Al]=new Set);var s=e+"__bubble";r.has(s)||(Kd(t,e,2,!1),r.add(s))}function ml(e,t,r){var s=0;t&&(s|=4),Kd(r,e,s,t)}var us="_reactListening"+Math.random().toString(36).slice(2);function Xi(e){if(!e[us]){e[us]=!0,a.forEach(function(r){r!=="selectionchange"&&(s0.has(r)||ml(r,!1,e),ml(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[us]||(t[us]=!0,ml("selectionchange",!1,t))}}function Kd(e,t,r,s){switch(vd(t)){case 1:var l=_m;break;case 4:l=Em;break;default:l=ba}r=l.bind(null,t,r,e),l=void 0,!Ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function vl(e,t,r,s,l){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(p===4)for(p=s.return;p!==null;){var _=p.tag;if((_===3||_===4)&&(_=p.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;p=p.return}for(;v!==null;){if(p=mr(v),p===null)return;if(_=p.tag,_===5||_===6){s=d=p;continue e}v=v.parentNode}}s=s.return}bc(function(){var P=d,L=Wa(r),B=[];e:{var U=$d.get(e);if(U!==void 0){var Y=nl,Q=e;switch(e){case"keypress":if(rs(r)===0)break e;case"keydown":case"keyup":Y=Fm;break;case"focusin":Q="focus",Y=ol;break;case"focusout":Q="blur",Y=ol;break;case"beforeblur":case"afterblur":Y=ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=xm;break;case Gd:case zd:case Wd:Y=Rm;break;case jd:Y=zm;break;case"scroll":Y=wm;break;case"wheel":Y=jm;break;case"copy":case"cut":case"paste":Y=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=wd}var Z=(t&4)!==0,Ye=!Z&&e==="scroll",I=Z?U!==null?U+"Capture":null:U;Z=[];for(var E=P,C;E!==null;){C=E;var z=C.stateNode;if(C.tag===5&&z!==null&&(C=z,I!==null&&(z=ki(E,I),z!=null&&Z.push(Ki(E,z,C)))),Ye)break;E=E.return}0<Z.length&&(U=new Y(U,Q,null,r,L),B.push({event:U,listeners:Z}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&r!==za&&(Q=r.relatedTarget||r.fromElement)&&(mr(Q)||Q[wn]))break e;if((Y||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(Q=r.relatedTarget||r.toElement,Y=P,Q=Q?mr(Q):null,Q!==null&&(Ye=gr(Q),Q!==Ye||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(Z=_d,z="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Z=wd,z="onPointerLeave",I="onPointerEnter",E="pointer"),Ye=Y==null?U:Vr(Y),C=Q==null?U:Vr(Q),U=new Z(z,E+"leave",Y,r,L),U.target=Ye,U.relatedTarget=C,z=null,mr(L)===P&&(Z=new Z(I,E+"enter",Q,r,L),Z.target=C,Z.relatedTarget=Ye,z=Z),Ye=z,Y&&Q)t:{for(Z=Y,I=Q,E=0,C=Z;C;C=$r(C))E++;for(C=0,z=I;z;z=$r(z))C++;for(;0<E-C;)Z=$r(Z),E--;for(;0<C-E;)I=$r(I),C--;for(;E--;){if(Z===I||I!==null&&Z===I.alternate)break t;Z=$r(Z),I=$r(I)}Z=null}else Z=null;Y!==null&&Qd(B,U,Y,Z,!1),Q!==null&&Ye!==null&&Qd(B,Ye,Q,Z,!0)}}e:{if(U=P?Vr(P):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var q=Zm;else if(Pd(U))if(Nd)q=e0;else{q=Jm;var te=qm}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(q=bm);if(q&&(q=q(e,P))){kd(B,q,r,L);break e}te&&te(e,U,P),e==="focusout"&&(te=U._wrapperState)&&te.controlled&&U.type==="number"&&Fr(U,"number",U.value)}switch(te=P?Vr(P):window,e){case"focusin":(Pd(te)||te.contentEditable==="true")&&(Wr=te,dl=P,Yi=null);break;case"focusout":Yi=dl=Wr=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Hd(B,r,L);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":Hd(B,r,L)}var ne;if(al)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else zr?Cd(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Ad&&r.locale!=="ko"&&(zr||le!=="onCompositionStart"?le==="onCompositionEnd"&&zr&&(ne=yd()):(zn=L,tl="value"in zn?zn.value:zn.textContent,zr=!0)),te=cs(P,le),0<te.length&&(le=new Ed(le,e,null,r,L),B.push({event:le,listeners:te}),ne?le.data=ne:(ne=Rd(r),ne!==null&&(le.data=ne)))),(ne=Ym?Vm(e,r):Xm(e,r))&&(P=cs(P,"onBeforeInput"),0<P.length&&(L=new Ed("onBeforeInput","beforeinput",null,r,L),B.push({event:L,listeners:P}),L.data=ne))}Xd(B,t)})}function Ki(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cs(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=ki(e,r),d!=null&&s.unshift(Ki(e,d,l)),d=ki(e,t),d!=null&&s.push(Ki(e,d,l))),e=e.return}return s}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qd(e,t,r,s,l){for(var d=t._reactName,p=[];r!==null&&r!==s;){var v=r,_=v.alternate,P=v.stateNode;if(_!==null&&_===s)break;v.tag===5&&P!==null&&(v=P,l?(_=ki(r,d),_!=null&&p.unshift(Ki(r,_,v))):l||(_=ki(r,d),_!=null&&p.push(Ki(r,_,v)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var a0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function Zd(e){return(typeof e=="string"?e:""+e).replace(a0,`
`).replace(l0,"")}function ds(e,t,r){if(t=Zd(t),Zd(e)!==t&&r)throw Error(o(425))}function fs(){}var yl=null,Sl=null;function _l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,u0=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,c0=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(e){return qd.resolve(null).then(e).catch(d0)}:El;function d0(e){setTimeout(function(){throw e})}function wl(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Hi(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Hi(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),un="__reactFiber$"+Yr,Qi="__reactProps$"+Yr,wn="__reactContainer$"+Yr,Al="__reactEvents$"+Yr,f0="__reactListeners$"+Yr,h0="__reactHandles$"+Yr;function mr(e){var t=e[un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jd(e);e!==null;){if(r=e[un])return r;e=Jd(e)}return t}e=r,r=e.parentNode}return null}function Zi(e){return e=e[un]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function hs(e){return e[Qi]||null}var Tl=[],Xr=-1;function $n(e){return{current:e}}function Me(e){0>Xr||(e.current=Tl[Xr],Tl[Xr]=null,Xr--)}function Oe(e,t){Xr++,Tl[Xr]=e.current,e.current=t}var Yn={},lt=$n(Yn),_t=$n(!1),vr=Yn;function Kr(e,t){var r=e.type.contextTypes;if(!r)return Yn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Et(e){return e=e.childContextTypes,e!=null}function ps(){Me(_t),Me(lt)}function bd(e,t,r){if(lt.current!==Yn)throw Error(o(168));Oe(lt,t),Oe(_t,r)}function ef(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(o(108,fe(e)||"Unknown",l));return $({},r,s)}function gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,vr=lt.current,Oe(lt,e),Oe(_t,_t.current),!0}function tf(e,t,r){var s=e.stateNode;if(!s)throw Error(o(169));r?(e=ef(e,t,vr),s.__reactInternalMemoizedMergedChildContext=e,Me(_t),Me(lt),Oe(lt,e)):Me(_t),Oe(_t,r)}var An=null,ms=!1,Il=!1;function nf(e){An===null?An=[e]:An.push(e)}function p0(e){ms=!0,nf(e)}function Vn(){if(!Il&&An!==null){Il=!0;var e=0,t=Re;try{var r=An;for(Re=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}An=null,ms=!1}catch(l){throw An!==null&&(An=An.slice(e+1)),id(Xa,Vn),l}finally{Re=t,Il=!1}}return null}var Qr=[],Zr=0,vs=null,ys=0,xt=[],Gt=0,yr=null,Tn=1,In="";function Sr(e,t){Qr[Zr++]=ys,Qr[Zr++]=vs,vs=e,ys=t}function rf(e,t,r){xt[Gt++]=Tn,xt[Gt++]=In,xt[Gt++]=yr,yr=e;var s=Tn;e=In;var l=32-bt(s)-1;s&=~(1<<l),r+=1;var d=32-bt(t)+l;if(30<d){var p=l-l%5;d=(s&(1<<p)-1).toString(32),s>>=p,l-=p,Tn=1<<32-bt(t)+l|r<<l|s,In=d+e}else Tn=1<<d|r<<l|s,In=e}function Cl(e){e.return!==null&&(Sr(e,1),rf(e,1,0))}function Rl(e){for(;e===vs;)vs=Qr[--Zr],Qr[Zr]=null,ys=Qr[--Zr],Qr[Zr]=null;for(;e===yr;)yr=xt[--Gt],xt[Gt]=null,In=xt[--Gt],xt[Gt]=null,Tn=xt[--Gt],xt[Gt]=null}var Dt=null,Mt=null,He=!1,tn=null;function of(e,t){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:Tn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Mt=null,!0):!1;default:return!1}}function Pl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kl(e){if(He){var t=Mt;if(t){var r=t;if(!sf(e,t)){if(Pl(e))throw Error(o(418));t=jn(r.nextSibling);var s=Dt;t&&sf(e,t)?of(s,r):(e.flags=e.flags&-4097|2,He=!1,Dt=e)}}else{if(Pl(e))throw Error(o(418));e.flags=e.flags&-4097|2,He=!1,Dt=e}}}function af(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function Ss(e){if(e!==Dt)return!1;if(!He)return af(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_l(e.type,e.memoizedProps)),t&&(t=Mt)){if(Pl(e))throw lf(),Error(o(418));for(;t;)of(e,t),t=jn(t.nextSibling)}if(af(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mt=jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Dt?jn(e.stateNode.nextSibling):null;return!0}function lf(){for(var e=Mt;e;)e=jn(e.nextSibling)}function qr(){Mt=Dt=null,He=!1}function Nl(e){tn===null?tn=[e]:tn.push(e)}var g0=G.ReactCurrentBatchConfig;function qi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var s=r.stateNode}if(!s)throw Error(o(147,e));var l=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var v=l.refs;p===null?delete v[d]:v[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uf(e){var t=e._init;return t(e._payload)}function cf(e){function t(I,E){if(e){var C=I.deletions;C===null?(I.deletions=[E],I.flags|=16):C.push(E)}}function r(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function s(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function l(I,E){return I=er(I,E),I.index=0,I.sibling=null,I}function d(I,E,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<E?(I.flags|=2,E):C):(I.flags|=2,E)):(I.flags|=1048576,E)}function p(I){return e&&I.alternate===null&&(I.flags|=2),I}function v(I,E,C,z){return E===null||E.tag!==6?(E=Eu(C,I.mode,z),E.return=I,E):(E=l(E,C),E.return=I,E)}function _(I,E,C,z){var q=C.type;return q===x?L(I,E,C.props.children,z,C.key):E!==null&&(E.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===de&&uf(q)===E.type)?(z=l(E,C.props),z.ref=qi(I,E,C),z.return=I,z):(z=$s(C.type,C.key,C.props,null,I.mode,z),z.ref=qi(I,E,C),z.return=I,z)}function P(I,E,C,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=wu(C,I.mode,z),E.return=I,E):(E=l(E,C.children||[]),E.return=I,E)}function L(I,E,C,z,q){return E===null||E.tag!==7?(E=Rr(C,I.mode,z,q),E.return=I,E):(E=l(E,C),E.return=I,E)}function B(I,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Eu(""+E,I.mode,C),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return C=$s(E.type,E.key,E.props,null,I.mode,C),C.ref=qi(I,null,E),C.return=I,C;case F:return E=wu(E,I.mode,C),E.return=I,E;case de:var z=E._init;return B(I,z(E._payload),C)}if(Ln(E)||V(E))return E=Rr(E,I.mode,C,null),E.return=I,E;_s(I,E)}return null}function U(I,E,C,z){var q=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return q!==null?null:v(I,E,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return C.key===q?_(I,E,C,z):null;case F:return C.key===q?P(I,E,C,z):null;case de:return q=C._init,U(I,E,q(C._payload),z)}if(Ln(C)||V(C))return q!==null?null:L(I,E,C,z,null);_s(I,C)}return null}function Y(I,E,C,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(C)||null,v(E,I,""+z,q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return I=I.get(z.key===null?C:z.key)||null,_(E,I,z,q);case F:return I=I.get(z.key===null?C:z.key)||null,P(E,I,z,q);case de:var te=z._init;return Y(I,E,C,te(z._payload),q)}if(Ln(z)||V(z))return I=I.get(C)||null,L(E,I,z,q,null);_s(E,z)}return null}function Q(I,E,C,z){for(var q=null,te=null,ne=E,le=E=0,nt=null;ne!==null&&le<C.length;le++){ne.index>le?(nt=ne,ne=null):nt=ne.sibling;var Ae=U(I,ne,C[le],z);if(Ae===null){ne===null&&(ne=nt);break}e&&ne&&Ae.alternate===null&&t(I,ne),E=d(Ae,E,le),te===null?q=Ae:te.sibling=Ae,te=Ae,ne=nt}if(le===C.length)return r(I,ne),He&&Sr(I,le),q;if(ne===null){for(;le<C.length;le++)ne=B(I,C[le],z),ne!==null&&(E=d(ne,E,le),te===null?q=ne:te.sibling=ne,te=ne);return He&&Sr(I,le),q}for(ne=s(I,ne);le<C.length;le++)nt=Y(ne,I,le,C[le],z),nt!==null&&(e&&nt.alternate!==null&&ne.delete(nt.key===null?le:nt.key),E=d(nt,E,le),te===null?q=nt:te.sibling=nt,te=nt);return e&&ne.forEach(function(tr){return t(I,tr)}),He&&Sr(I,le),q}function Z(I,E,C,z){var q=V(C);if(typeof q!="function")throw Error(o(150));if(C=q.call(C),C==null)throw Error(o(151));for(var te=q=null,ne=E,le=E=0,nt=null,Ae=C.next();ne!==null&&!Ae.done;le++,Ae=C.next()){ne.index>le?(nt=ne,ne=null):nt=ne.sibling;var tr=U(I,ne,Ae.value,z);if(tr===null){ne===null&&(ne=nt);break}e&&ne&&tr.alternate===null&&t(I,ne),E=d(tr,E,le),te===null?q=tr:te.sibling=tr,te=tr,ne=nt}if(Ae.done)return r(I,ne),He&&Sr(I,le),q;if(ne===null){for(;!Ae.done;le++,Ae=C.next())Ae=B(I,Ae.value,z),Ae!==null&&(E=d(Ae,E,le),te===null?q=Ae:te.sibling=Ae,te=Ae);return He&&Sr(I,le),q}for(ne=s(I,ne);!Ae.done;le++,Ae=C.next())Ae=Y(ne,I,le,Ae.value,z),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?le:Ae.key),E=d(Ae,E,le),te===null?q=Ae:te.sibling=Ae,te=Ae);return e&&ne.forEach(function(K0){return t(I,K0)}),He&&Sr(I,le),q}function Ye(I,E,C,z){if(typeof C=="object"&&C!==null&&C.type===x&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case b:e:{for(var q=C.key,te=E;te!==null;){if(te.key===q){if(q=C.type,q===x){if(te.tag===7){r(I,te.sibling),E=l(te,C.props.children),E.return=I,I=E;break e}}else if(te.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===de&&uf(q)===te.type){r(I,te.sibling),E=l(te,C.props),E.ref=qi(I,te,C),E.return=I,I=E;break e}r(I,te);break}else t(I,te);te=te.sibling}C.type===x?(E=Rr(C.props.children,I.mode,z,C.key),E.return=I,I=E):(z=$s(C.type,C.key,C.props,null,I.mode,z),z.ref=qi(I,E,C),z.return=I,I=z)}return p(I);case F:e:{for(te=C.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){r(I,E.sibling),E=l(E,C.children||[]),E.return=I,I=E;break e}else{r(I,E);break}else t(I,E);E=E.sibling}E=wu(C,I.mode,z),E.return=I,I=E}return p(I);case de:return te=C._init,Ye(I,E,te(C._payload),z)}if(Ln(C))return Q(I,E,C,z);if(V(C))return Z(I,E,C,z);_s(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(r(I,E.sibling),E=l(E,C),E.return=I,I=E):(r(I,E),E=Eu(C,I.mode,z),E.return=I,I=E),p(I)):r(I,E)}return Ye}var Jr=cf(!0),df=cf(!1),Es=$n(null),ws=null,br=null,Ol=null;function Dl(){Ol=br=ws=null}function Ml(e){var t=Es.current;Me(Es),e._currentValue=t}function Ul(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function ei(e,t){ws=e,Ol=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(wt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Ol!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(ws===null)throw Error(o(308));br=e,ws.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var _r=null;function Ll(e){_r===null?_r=[e]:_r.push(e)}function ff(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Ll(t)):(r.next=l.next,l.next=r),t.interleaved=r,Cn(e,s)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function Fl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Cn(e,r)}return l=s.interleaved,l===null?(t.next=t,Ll(s)):(t.next=l.next,l.next=t),s.interleaved=t,Cn(e,r)}function As(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Za(e,r)}}function pf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ts(e,t,r,s){var l=e.updateQueue;Xn=!1;var d=l.firstBaseUpdate,p=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var _=v,P=_.next;_.next=null,p===null?d=P:p.next=P,p=_;var L=e.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==p&&(v===null?L.firstBaseUpdate=P:v.next=P,L.lastBaseUpdate=_))}if(d!==null){var B=l.baseState;p=0,L=P=_=null,v=d;do{var U=v.lane,Y=v.eventTime;if((s&U)===U){L!==null&&(L=L.next={eventTime:Y,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Q=e,Z=v;switch(U=t,Y=r,Z.tag){case 1:if(Q=Z.payload,typeof Q=="function"){B=Q.call(Y,B,U);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Z.payload,U=typeof Q=="function"?Q.call(Y,B,U):Q,U==null)break e;B=$({},B,U);break e;case 2:Xn=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,U=l.effects,U===null?l.effects=[v]:U.push(v))}else Y={eventTime:Y,lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(P=L=Y,_=B):L=L.next=Y,p|=U;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;U=v,v=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);if(L===null&&(_=B),l.baseState=_,l.firstBaseUpdate=P,l.lastBaseUpdate=L,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);Ar|=p,e.lanes=p,e.memoizedState=B}}function gf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(o(191,l));l.call(s)}}}var Ji={},cn=$n(Ji),bi=$n(Ji),eo=$n(Ji);function Er(e){if(e===Ji)throw Error(o(174));return e}function Bl(e,t){switch(Oe(eo,t),Oe(bi,e),Oe(cn,Ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ha(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ha(t,e)}Me(cn),Oe(cn,t)}function ti(){Me(cn),Me(bi),Me(eo)}function mf(e){Er(eo.current);var t=Er(cn.current),r=Ha(t,e.type);t!==r&&(Oe(bi,e),Oe(cn,r))}function Hl(e){bi.current===e&&(Me(cn),Me(bi))}var Ge=$n(0);function Is(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=[];function Gl(){for(var e=0;e<xl.length;e++)xl[e]._workInProgressVersionPrimary=null;xl.length=0}var Cs=G.ReactCurrentDispatcher,zl=G.ReactCurrentBatchConfig,wr=0,ze=null,Je=null,et=null,Rs=!1,to=!1,no=0,m0=0;function ut(){throw Error(o(321))}function Wl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function jl(e,t,r,s,l,d){if(wr=d,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cs.current=e===null||e.memoizedState===null?_0:E0,e=r(s,l),to){d=0;do{if(to=!1,no=0,25<=d)throw Error(o(301));d+=1,et=Je=null,t.updateQueue=null,Cs.current=w0,e=r(s,l)}while(to)}if(Cs.current=Ns,t=Je!==null&&Je.next!==null,wr=0,et=Je=ze=null,Rs=!1,t)throw Error(o(300));return e}function $l(){var e=no!==0;return no=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ze.memoizedState=et=e:et=et.next=e,et}function Wt(){if(Je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=et===null?ze.memoizedState:et.next;if(t!==null)et=t,Je=e;else{if(e===null)throw Error(o(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?ze.memoizedState=et=e:et=et.next=e}return et}function ro(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=Wt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var s=Je,l=s.baseQueue,d=r.pending;if(d!==null){if(l!==null){var p=l.next;l.next=d.next,d.next=p}s.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,s=s.baseState;var v=p=null,_=null,P=d;do{var L=P.lane;if((wr&L)===L)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var B={lane:L,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(v=_=B,p=s):_=_.next=B,ze.lanes|=L,Ar|=L}P=P.next}while(P!==null&&P!==d);_===null?p=s:_.next=v,en(s,t.memoizedState)||(wt=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=_,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do d=l.lane,ze.lanes|=d,Ar|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vl(e){var t=Wt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var p=l=l.next;do d=e(d,p.action),p=p.next;while(p!==l);en(d,t.memoizedState)||(wt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,s]}function vf(){}function yf(e,t){var r=ze,s=Wt(),l=t(),d=!en(s.memoizedState,l);if(d&&(s.memoizedState=l,wt=!0),s=s.queue,Xl(Ef.bind(null,r,s,e),[e]),s.getSnapshot!==t||d||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,io(9,_f.bind(null,r,s,l,t),void 0,null),tt===null)throw Error(o(349));(wr&30)!==0||Sf(r,t,l)}return l}function Sf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _f(e,t,r,s){t.value=r,t.getSnapshot=s,wf(t)&&Af(e)}function Ef(e,t,r){return r(function(){wf(t)&&Af(e)})}function wf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function Af(e){var t=Cn(e,1);t!==null&&sn(t,e,1,-1)}function Tf(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=S0.bind(null,ze,e),[t.memoizedState,e]}function io(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function If(){return Wt().memoizedState}function Ps(e,t,r,s){var l=dn();ze.flags|=e,l.memoizedState=io(1|t,r,void 0,s===void 0?null:s)}function ks(e,t,r,s){var l=Wt();s=s===void 0?null:s;var d=void 0;if(Je!==null){var p=Je.memoizedState;if(d=p.destroy,s!==null&&Wl(s,p.deps)){l.memoizedState=io(t,r,d,s);return}}ze.flags|=e,l.memoizedState=io(1|t,r,d,s)}function Cf(e,t){return Ps(8390656,8,e,t)}function Xl(e,t){return ks(2048,8,e,t)}function Rf(e,t){return ks(4,2,e,t)}function Pf(e,t){return ks(4,4,e,t)}function kf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,r){return r=r!=null?r.concat([e]):null,ks(4,4,kf.bind(null,t,e),r)}function Kl(){}function Of(e,t){var r=Wt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Df(e,t){var r=Wt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Mf(e,t,r){return(wr&21)===0?(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=r):(en(r,t)||(r=ld(),ze.lanes|=r,Ar|=r,e.baseState=!0),t)}function v0(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var s=zl.transition;zl.transition={};try{e(!1),t()}finally{Re=r,zl.transition=s}}function Uf(){return Wt().memoizedState}function y0(e,t,r){var s=Jn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Lf(e))Ff(t,r);else if(r=ff(e,t,r,s),r!==null){var l=mt();sn(r,e,s,l),Bf(r,t,s)}}function S0(e,t,r){var s=Jn(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lf(e))Ff(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,r);if(l.hasEagerState=!0,l.eagerState=v,en(v,p)){var _=t.interleaved;_===null?(l.next=l,Ll(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}r=ff(e,t,l,s),r!==null&&(l=mt(),sn(r,e,s,l),Bf(r,t,s))}}function Lf(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Ff(e,t){to=Rs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bf(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Za(e,r)}}var Ns={readContext:zt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},_0={readContext:zt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Cf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ps(4194308,4,kf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=dn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=y0.bind(null,ze,e),[s.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Tf,useDebugValue:Kl,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Tf(!1),t=e[0];return e=v0.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ze,l=dn();if(He){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),tt===null)throw Error(o(349));(wr&30)!==0||Sf(s,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,Cf(Ef.bind(null,s,d,e),[e]),s.flags|=2048,io(9,_f.bind(null,s,d,r,t),void 0,null),r},useId:function(){var e=dn(),t=tt.identifierPrefix;if(He){var r=In,s=Tn;r=(s&~(1<<32-bt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=no++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E0={readContext:zt,useCallback:Of,useContext:zt,useEffect:Xl,useImperativeHandle:Nf,useInsertionEffect:Rf,useLayoutEffect:Pf,useMemo:Df,useReducer:Yl,useRef:If,useState:function(){return Yl(ro)},useDebugValue:Kl,useDeferredValue:function(e){var t=Wt();return Mf(t,Je.memoizedState,e)},useTransition:function(){var e=Yl(ro)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:vf,useSyncExternalStore:yf,useId:Uf,unstable_isNewReconciler:!1},w0={readContext:zt,useCallback:Of,useContext:zt,useEffect:Xl,useImperativeHandle:Nf,useInsertionEffect:Rf,useLayoutEffect:Pf,useMemo:Df,useReducer:Vl,useRef:If,useState:function(){return Vl(ro)},useDebugValue:Kl,useDeferredValue:function(e){var t=Wt();return Je===null?t.memoizedState=e:Mf(t,Je.memoizedState,e)},useTransition:function(){var e=Vl(ro)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:vf,useSyncExternalStore:yf,useId:Uf,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ql(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:$({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Os={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=mt(),l=Jn(e),d=Rn(s,l);d.payload=t,r!=null&&(d.callback=r),t=Kn(e,d,l),t!==null&&(sn(t,e,l,s),As(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=mt(),l=Jn(e),d=Rn(s,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Kn(e,d,l),t!==null&&(sn(t,e,l,s),As(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),s=Jn(e),l=Rn(r,s);l.tag=2,t!=null&&(l.callback=t),t=Kn(e,l,s),t!==null&&(sn(t,e,s,r),As(t,e,s))}};function Hf(e,t,r,s,l,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,p):t.prototype&&t.prototype.isPureReactComponent?!$i(r,s)||!$i(l,d):!0}function xf(e,t,r){var s=!1,l=Yn,d=t.contextType;return typeof d=="object"&&d!==null?d=zt(d):(l=Et(t)?vr:lt.current,s=t.contextTypes,d=(s=s!=null)?Kr(e,l):Yn),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Os,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function Gf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Os.enqueueReplaceState(t,t.state,null)}function Zl(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Fl(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=zt(d):(d=Et(t)?vr:lt.current,l.context=Kr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ql(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Os.enqueueReplaceState(l,l.state,null),Ts(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var r="",s=t;do r+=ge(s),s=s.return;while(s);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function ql(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var A0=typeof WeakMap=="function"?WeakMap:Map;function zf(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Hs||(Hs=!0,hu=s),Jl(e,t)},r}function Wf(e,t,r){r=Rn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Jl(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Jl(e,t),typeof s!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function jf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new A0;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=B0.bind(null,e,t,r),t.then(e,e))}function $f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yf(e,t,r,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,Kn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var T0=G.ReactCurrentOwner,wt=!1;function gt(e,t,r,s){t.child=e===null?df(t,null,r,s):Jr(t,e.child,r,s)}function Vf(e,t,r,s,l){r=r.render;var d=t.ref;return ei(t,l),s=jl(e,t,r,s,d,l),r=$l(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Pn(e,t,l)):(He&&r&&Cl(t),t.flags|=1,gt(e,t,s,l),t.child)}function Xf(e,t,r,s,l){if(e===null){var d=r.type;return typeof d=="function"&&!_u(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Kf(e,t,d,s,l)):(e=$s(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(p,s)&&e.ref===t.ref)return Pn(e,t,l)}return t.flags|=1,e=er(d,s),e.ref=t.ref,e.return=t,t.child=e}function Kf(e,t,r,s,l){if(e!==null){var d=e.memoizedProps;if($i(d,s)&&e.ref===t.ref)if(wt=!1,t.pendingProps=s=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,Pn(e,t,l)}return bl(e,t,r,s,l)}function Qf(e,t,r){var s=t.pendingProps,l=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ii,Ut),Ut|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(ii,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:r,Oe(ii,Ut),Ut|=s}else d!==null?(s=d.baseLanes|r,t.memoizedState=null):s=r,Oe(ii,Ut),Ut|=s;return gt(e,t,l,r),t.child}function Zf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bl(e,t,r,s,l){var d=Et(r)?vr:lt.current;return d=Kr(t,d),ei(t,l),r=jl(e,t,r,s,d,l),s=$l(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Pn(e,t,l)):(He&&s&&Cl(t),t.flags|=1,gt(e,t,r,l),t.child)}function qf(e,t,r,s,l){if(Et(r)){var d=!0;gs(t)}else d=!1;if(ei(t,l),t.stateNode===null)Ms(e,t),xf(t,r,s),Zl(t,r,s,l),s=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var _=p.context,P=r.contextType;typeof P=="object"&&P!==null?P=zt(P):(P=Et(r)?vr:lt.current,P=Kr(t,P));var L=r.getDerivedStateFromProps,B=typeof L=="function"||typeof p.getSnapshotBeforeUpdate=="function";B||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==s||_!==P)&&Gf(t,p,s,P),Xn=!1;var U=t.memoizedState;p.state=U,Ts(t,s,p,l),_=t.memoizedState,v!==s||U!==_||_t.current||Xn?(typeof L=="function"&&(Ql(t,r,L,s),_=t.memoizedState),(v=Xn||Hf(t,r,v,s,U,_,P))?(B||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=_),p.props=s,p.state=_,p.context=P,s=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,hf(e,t),v=t.memoizedProps,P=t.type===t.elementType?v:nn(t.type,v),p.props=P,B=t.pendingProps,U=p.context,_=r.contextType,typeof _=="object"&&_!==null?_=zt(_):(_=Et(r)?vr:lt.current,_=Kr(t,_));var Y=r.getDerivedStateFromProps;(L=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==B||U!==_)&&Gf(t,p,s,_),Xn=!1,U=t.memoizedState,p.state=U,Ts(t,s,p,l);var Q=t.memoizedState;v!==B||U!==Q||_t.current||Xn?(typeof Y=="function"&&(Ql(t,r,Y,s),Q=t.memoizedState),(P=Xn||Hf(t,r,P,s,U,Q,_)||!1)?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,Q,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,Q,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Q),p.props=s,p.state=Q,p.context=_,s=P):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return eu(e,t,r,s,d,l)}function eu(e,t,r,s,l,d){Zf(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return l&&tf(t,r,!1),Pn(e,t,d);s=t.stateNode,T0.current=t;var v=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=Jr(t,e.child,null,d),t.child=Jr(t,null,v,d)):gt(e,t,v,d),t.memoizedState=s.state,l&&tf(t,r,!0),t.child}function Jf(e){var t=e.stateNode;t.pendingContext?bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bd(e,t.context,!1),Bl(e,t.containerInfo)}function bf(e,t,r,s,l){return qr(),Nl(l),t.flags|=256,gt(e,t,r,s),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function eh(e,t,r){var s=t.pendingProps,l=Ge.current,d=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Oe(Ge,l&1),e===null)return kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=s.children,e=s.fallback,d?(s=t.mode,d=t.child,p={mode:"hidden",children:p},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ys(p,s,0,null),e=Rr(e,s,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=nu(r),t.memoizedState=tu,e):ru(t,p));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return I0(e,t,p,s,v,l,r);if(d){d=s.fallback,p=t.mode,l=e.child,v=l.sibling;var _={mode:"hidden",children:s.children};return(p&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=_,t.deletions=null):(s=er(l,_),s.subtreeFlags=l.subtreeFlags&14680064),v!==null?d=er(v,d):(d=Rr(d,p,r,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,p=e.child.memoizedState,p=p===null?nu(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~r,t.memoizedState=tu,s}return d=e.child,e=d.sibling,s=er(d,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ru(e,t){return t=Ys({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ds(e,t,r,s){return s!==null&&Nl(s),Jr(t,e.child,null,r),e=ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I0(e,t,r,s,l,d,p){if(r)return t.flags&256?(t.flags&=-257,s=ql(Error(o(422))),Ds(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,l=t.mode,s=Ys({mode:"visible",children:s.children},l,0,null),d=Rr(d,l,p,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,(t.mode&1)!==0&&Jr(t,e.child,null,p),t.child.memoizedState=nu(p),t.memoizedState=tu,d);if((t.mode&1)===0)return Ds(e,t,p,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var v=s.dgst;return s=v,d=Error(o(419)),s=ql(d,s,void 0),Ds(e,t,p,s)}if(v=(p&e.childLanes)!==0,wt||v){if(s=tt,s!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|p))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Cn(e,l),sn(s,e,l,-1))}return Su(),s=ql(Error(o(421))),Ds(e,t,p,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=H0.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,Mt=jn(l.nextSibling),Dt=t,He=!0,tn=null,e!==null&&(xt[Gt++]=Tn,xt[Gt++]=In,xt[Gt++]=yr,Tn=e.id,In=e.overflow,yr=t),t=ru(t,s.children),t.flags|=4096,t)}function th(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ul(e.return,t,r)}function iu(e,t,r,s,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=r,d.tailMode=l)}function nh(e,t,r){var s=t.pendingProps,l=s.revealOrder,d=s.tail;if(gt(e,t,s.children,r),s=Ge.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&th(e,r,t);else if(e.tag===19)th(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Oe(Ge,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Is(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),iu(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Is(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}iu(t,!0,r,null,d);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ms(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function C0(e,t,r){switch(t.tag){case 3:Jf(t),qr();break;case 5:mf(t);break;case 1:Et(t.type)&&gs(t);break;case 4:Bl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Oe(Es,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Oe(Ge,Ge.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?eh(e,t,r):(Oe(Ge,Ge.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);Oe(Ge,Ge.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return nh(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Oe(Ge,Ge.current),s)break;return null;case 22:case 23:return t.lanes=0,Qf(e,t,r)}return Pn(e,t,r)}var rh,ou,ih,oh;rh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ou=function(){},ih=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Er(cn.current);var d=null;switch(r){case"input":l=Nt(e,l),s=Nt(e,s),d=[];break;case"select":l=$({},l,{value:void 0}),s=$({},s,{value:void 0}),d=[];break;case"textarea":l=pr(e,l),s=pr(e,s),d=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=fs)}xa(r,s);var p;r=null;for(P in l)if(!s.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var v=l[P];for(p in v)v.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(c.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in s){var _=s[P];if(v=l!=null?l[P]:void 0,s.hasOwnProperty(P)&&_!==v&&(_!=null||v!=null))if(P==="style")if(v){for(p in v)!v.hasOwnProperty(p)||_&&_.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in _)_.hasOwnProperty(p)&&v[p]!==_[p]&&(r||(r={}),r[p]=_[p])}else r||(d||(d=[]),d.push(P,r)),r=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(d=d||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(c.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&De("scroll",e),d||v===_||(d=[])):(d=d||[]).push(P,_))}r&&(d=d||[]).push("style",r);var P=d;(t.updateQueue=P)&&(t.flags|=4)}},oh=function(e,t,r,s){r!==s&&(t.flags|=4)};function oo(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function R0(e,t,r){var s=t.pendingProps;switch(Rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Et(t.type)&&ps(),ct(t),null;case 3:return s=t.stateNode,ti(),Me(_t),Me(lt),Gl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tn!==null&&(mu(tn),tn=null))),ou(e,t),ct(t),null;case 5:Hl(t);var l=Er(eo.current);if(r=t.type,e!==null&&t.stateNode!=null)ih(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return ct(t),null}if(e=Er(cn.current),Ss(t)){s=t.stateNode,r=t.type;var d=t.memoizedProps;switch(s[un]=t,s[Qi]=d,e=(t.mode&1)!==0,r){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(l=0;l<Vi.length;l++)De(Vi[l],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":Ht(s,d),De("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},De("invalid",s);break;case"textarea":zc(s,d),De("invalid",s)}xa(r,d),l=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?s.textContent!==v&&(d.suppressHydrationWarning!==!0&&ds(s.textContent,v,e),l=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&ds(s.textContent,v,e),l=["children",""+v]):c.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&De("scroll",s)}switch(r){case"input":Te(s),Un(s,d,!0);break;case"textarea":Te(s),jc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=fs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$c(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(r,{is:s.is}):(e=p.createElement(r),r==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,r),e[un]=t,e[Qi]=s,rh(e,t,!1,!1),t.stateNode=e;e:{switch(p=Ga(r,s),r){case"dialog":De("cancel",e),De("close",e),l=s;break;case"iframe":case"object":case"embed":De("load",e),l=s;break;case"video":case"audio":for(l=0;l<Vi.length;l++)De(Vi[l],e);l=s;break;case"source":De("error",e),l=s;break;case"img":case"image":case"link":De("error",e),De("load",e),l=s;break;case"details":De("toggle",e),l=s;break;case"input":Ht(e,s),l=Nt(e,s),De("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=$({},s,{value:void 0}),De("invalid",e);break;case"textarea":zc(e,s),l=pr(e,s),De("invalid",e);break;default:l=s}xa(r,l),v=l;for(d in v)if(v.hasOwnProperty(d)){var _=v[d];d==="style"?Xc(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Yc(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&Ri(e,_):typeof _=="number"&&Ri(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(c.hasOwnProperty(d)?_!=null&&d==="onScroll"&&De("scroll",e):_!=null&&j(e,d,_,p))}switch(r){case"input":Te(e),Un(e,s,!1);break;case"textarea":Te(e),jc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ce(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?Fn(e,!!s.multiple,d,!1):s.defaultValue!=null&&Fn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)oh(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(r=Er(eo.current),Er(cn.current),Ss(t)){if(s=t.stateNode,r=t.memoizedProps,s[un]=t,(d=s.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:ds(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ds(s.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[un]=t,t.stateNode=s}return ct(t),null;case 13:if(Me(Ge),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)lf(),qr(),t.flags|=98560,d=!1;else if(d=Ss(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[un]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),d=!1}else tn!==null&&(mu(tn),tn=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?be===0&&(be=3):Su())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return ti(),ou(e,t),e===null&&Xi(t.stateNode.containerInfo),ct(t),null;case 10:return Ml(t.type._context),ct(t),null;case 17:return Et(t.type)&&ps(),ct(t),null;case 19:if(Me(Ge),d=t.memoizedState,d===null)return ct(t),null;if(s=(t.flags&128)!==0,p=d.rendering,p===null)if(s)oo(d,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Is(e),p!==null){for(t.flags|=128,oo(d,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)d=r,e=s,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Ge,Ge.current&1|2),t.child}e=e.sibling}d.tail!==null&&$e()>oi&&(t.flags|=128,s=!0,oo(d,!1),t.lanes=4194304)}else{if(!s)if(e=Is(p),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!He)return ct(t),null}else 2*$e()-d.renderingStartTime>oi&&r!==1073741824&&(t.flags|=128,s=!0,oo(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(r=d.last,r!==null?r.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=$e(),t.sibling=null,r=Ge.current,Oe(Ge,s?r&1|2:r&1),t):(ct(t),null);case 22:case 23:return yu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Ut&1073741824)!==0&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function P0(e,t){switch(Rl(t),t.tag){case 1:return Et(t.type)&&ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),Me(_t),Me(lt),Gl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Hl(t),null;case 13:if(Me(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ge),null;case 4:return ti(),null;case 10:return Ml(t.type._context),null;case 22:case 23:return yu(),null;case 24:return null;default:return null}}var Us=!1,dt=!1,k0=typeof WeakSet=="function"?WeakSet:Set,X=null;function ri(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){We(e,t,s)}else r.current=null}function su(e,t,r){try{r()}catch(s){We(e,t,s)}}var sh=!1;function N0(e,t){if(yl=es,e=Bd(),cl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,v=-1,_=-1,P=0,L=0,B=e,U=null;t:for(;;){for(var Y;B!==r||l!==0&&B.nodeType!==3||(v=p+l),B!==d||s!==0&&B.nodeType!==3||(_=p+s),B.nodeType===3&&(p+=B.nodeValue.length),(Y=B.firstChild)!==null;)U=B,B=Y;for(;;){if(B===e)break t;if(U===r&&++P===l&&(v=p),U===d&&++L===s&&(_=p),(Y=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=Y}r=v===-1||_===-1?null:{start:v,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sl={focusedElem:e,selectionRange:r},es=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Z=Q.memoizedProps,Ye=Q.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?Z:nn(t.type,Z),Ye);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(z){We(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Q=sh,sh=!1,Q}function so(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&su(t,r,d)}l=l.next}while(l!==s)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function au(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Qi],delete t[Al],delete t[f0],delete t[h0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lh(e){return e.tag===5||e.tag===3||e.tag===4}function uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fs));else if(s!==4&&(e=e.child,e!==null))for(lu(e,t,r),e=e.sibling;e!==null;)lu(e,t,r),e=e.sibling}function uu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(uu(e,t,r),e=e.sibling;e!==null;)uu(e,t,r),e=e.sibling}var ot=null,rn=!1;function Qn(e,t,r){for(r=r.child;r!==null;)ch(e,t,r),r=r.sibling}function ch(e,t,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ko,r)}catch{}switch(r.tag){case 5:dt||ri(r,t);case 6:var s=ot,l=rn;ot=null,Qn(e,t,r),ot=s,rn=l,ot!==null&&(rn?(e=ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ot.removeChild(r.stateNode));break;case 18:ot!==null&&(rn?(e=ot,r=r.stateNode,e.nodeType===8?wl(e.parentNode,r):e.nodeType===1&&wl(e,r),Hi(e)):wl(ot,r.stateNode));break;case 4:s=ot,l=rn,ot=r.stateNode.containerInfo,rn=!0,Qn(e,t,r),ot=s,rn=l;break;case 0:case 11:case 14:case 15:if(!dt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var d=l,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&su(r,t,p),l=l.next}while(l!==s)}Qn(e,t,r);break;case 1:if(!dt&&(ri(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(v){We(r,t,v)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(dt=(s=dt)||r.memoizedState!==null,Qn(e,t,r),dt=s):Qn(e,t,r);break;default:Qn(e,t,r)}}function dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new k0),t.forEach(function(s){var l=x0.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:ot=v.stateNode,rn=!1;break e;case 3:ot=v.stateNode.containerInfo,rn=!0;break e;case 4:ot=v.stateNode.containerInfo,rn=!0;break e}v=v.return}if(ot===null)throw Error(o(160));ch(d,p,l),ot=null,rn=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(P){We(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fh(t,e),t=t.sibling}function fh(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),fn(e),s&4){try{so(3,e,e.return),Ls(3,e)}catch(Z){We(e,e.return,Z)}try{so(5,e,e.return)}catch(Z){We(e,e.return,Z)}}break;case 1:on(t,e),fn(e),s&512&&r!==null&&ri(r,r.return);break;case 5:if(on(t,e),fn(e),s&512&&r!==null&&ri(r,r.return),e.flags&32){var l=e.stateNode;try{Ri(l,"")}catch(Z){We(e,e.return,Z)}}if(s&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,p=r!==null?r.memoizedProps:d,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&hr(l,d),Ga(v,p);var P=Ga(v,d);for(p=0;p<_.length;p+=2){var L=_[p],B=_[p+1];L==="style"?Xc(l,B):L==="dangerouslySetInnerHTML"?Yc(l,B):L==="children"?Ri(l,B):j(l,L,B,P)}switch(v){case"input":En(l,d);break;case"textarea":Wc(l,d);break;case"select":var U=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Fn(l,!!d.multiple,Y,!1):U!==!!d.multiple&&(d.defaultValue!=null?Fn(l,!!d.multiple,d.defaultValue,!0):Fn(l,!!d.multiple,d.multiple?[]:"",!1))}l[Qi]=d}catch(Z){We(e,e.return,Z)}}break;case 6:if(on(t,e),fn(e),s&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(Z){We(e,e.return,Z)}}break;case 3:if(on(t,e),fn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(Z){We(e,e.return,Z)}break;case 4:on(t,e),fn(e);break;case 13:on(t,e),fn(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(fu=$e())),s&4&&dh(e);break;case 22:if(L=r!==null&&r.memoizedState!==null,e.mode&1?(dt=(P=dt)||L,on(t,e),dt=P):on(t,e),fn(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!L&&(e.mode&1)!==0)for(X=e,L=e.child;L!==null;){for(B=X=L;X!==null;){switch(U=X,Y=U.child,U.tag){case 0:case 11:case 14:case 15:so(4,U,U.return);break;case 1:ri(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){s=U,r=U.return;try{t=s,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(Z){We(s,r,Z)}}break;case 5:ri(U,U.return);break;case 22:if(U.memoizedState!==null){gh(B);continue}}Y!==null?(Y.return=U,X=Y):gh(B)}L=L.sibling}e:for(L=null,B=e;;){if(B.tag===5){if(L===null){L=B;try{l=B.stateNode,P?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=B.stateNode,_=B.memoizedProps.style,p=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=Vc("display",p))}catch(Z){We(e,e.return,Z)}}}else if(B.tag===6){if(L===null)try{B.stateNode.nodeValue=P?"":B.memoizedProps}catch(Z){We(e,e.return,Z)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;L===B&&(L=null),B=B.return}L===B&&(L=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:on(t,e),fn(e),s&4&&dh(e);break;case 21:break;default:on(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lh(r)){var s=r;break e}r=r.return}throw Error(o(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Ri(l,""),s.flags&=-33);var d=uh(e);uu(e,d,l);break;case 3:case 4:var p=s.stateNode.containerInfo,v=uh(e);lu(e,v,p);break;default:throw Error(o(161))}}catch(_){We(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O0(e,t,r){X=e,hh(e)}function hh(e,t,r){for(var s=(e.mode&1)!==0;X!==null;){var l=X,d=l.child;if(l.tag===22&&s){var p=l.memoizedState!==null||Us;if(!p){var v=l.alternate,_=v!==null&&v.memoizedState!==null||dt;v=Us;var P=dt;if(Us=p,(dt=_)&&!P)for(X=l;X!==null;)p=X,_=p.child,p.tag===22&&p.memoizedState!==null?mh(l):_!==null?(_.return=p,X=_):mh(l);for(;d!==null;)X=d,hh(d),d=d.sibling;X=l,Us=v,dt=P}ph(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,X=d):ph(e)}}function ph(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dt||Ls(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!dt)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:nn(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&gf(t,d,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gf(t,p,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var L=P.memoizedState;if(L!==null){var B=L.dehydrated;B!==null&&Hi(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}dt||t.flags&512&&au(t)}catch(U){We(t,t.return,U)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function gh(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function mh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ls(4,t)}catch(_){We(t,r,_)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(_){We(t,l,_)}}var d=t.return;try{au(t)}catch(_){We(t,d,_)}break;case 5:var p=t.return;try{au(t)}catch(_){We(t,p,_)}}}catch(_){We(t,t.return,_)}if(t===e){X=null;break}var v=t.sibling;if(v!==null){v.return=t.return,X=v;break}X=t.return}}var D0=Math.ceil,Fs=G.ReactCurrentDispatcher,cu=G.ReactCurrentOwner,jt=G.ReactCurrentBatchConfig,_e=0,tt=null,Qe=null,st=0,Ut=0,ii=$n(0),be=0,ao=null,Ar=0,Bs=0,du=0,lo=null,At=null,fu=0,oi=1/0,kn=null,Hs=!1,hu=null,Zn=null,xs=!1,qn=null,Gs=0,uo=0,pu=null,zs=-1,Ws=0;function mt(){return(_e&6)!==0?$e():zs!==-1?zs:zs=$e()}function Jn(e){return(e.mode&1)===0?1:(_e&2)!==0&&st!==0?st&-st:g0.transition!==null?(Ws===0&&(Ws=ld()),Ws):(e=Re,e!==0||(e=window.event,e=e===void 0?16:vd(e.type)),e)}function sn(e,t,r,s){if(50<uo)throw uo=0,pu=null,Error(o(185));Mi(e,r,s),((_e&2)===0||e!==tt)&&(e===tt&&((_e&2)===0&&(Bs|=r),be===4&&bn(e,st)),Tt(e,s),r===1&&_e===0&&(t.mode&1)===0&&(oi=$e()+500,ms&&Vn()))}function Tt(e,t){var r=e.callbackNode;gm(e,t);var s=qo(e,e===tt?st:0);if(s===0)r!==null&&od(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&od(r),t===1)e.tag===0?p0(yh.bind(null,e)):nf(yh.bind(null,e)),c0(function(){(_e&6)===0&&Vn()}),r=null;else{switch(ud(s)){case 1:r=Xa;break;case 4:r=sd;break;case 16:r=Xo;break;case 536870912:r=ad;break;default:r=Xo}r=Ch(r,vh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vh(e,t){if(zs=-1,Ws=0,(_e&6)!==0)throw Error(o(327));var r=e.callbackNode;if(si()&&e.callbackNode!==r)return null;var s=qo(e,e===tt?st:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=js(e,s);else{t=s;var l=_e;_e|=2;var d=_h();(tt!==e||st!==t)&&(kn=null,oi=$e()+500,Ir(e,t));do try{L0();break}catch(v){Sh(e,v)}while(!0);Dl(),Fs.current=d,_e=l,Qe!==null?t=0:(tt=null,st=0,t=be)}if(t!==0){if(t===2&&(l=Ka(e),l!==0&&(s=l,t=gu(e,l))),t===1)throw r=ao,Ir(e,0),bn(e,s),Tt(e,$e()),r;if(t===6)bn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!M0(l)&&(t=js(e,s),t===2&&(d=Ka(e),d!==0&&(s=d,t=gu(e,d))),t===1))throw r=ao,Ir(e,0),bn(e,s),Tt(e,$e()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Cr(e,At,kn);break;case 3:if(bn(e,s),(s&130023424)===s&&(t=fu+500-$e(),10<t)){if(qo(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){mt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=El(Cr.bind(null,e,At,kn),t);break}Cr(e,At,kn);break;case 4:if(bn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var p=31-bt(s);d=1<<p,p=t[p],p>l&&(l=p),s&=~d}if(s=l,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*D0(s/1960))-s,10<s){e.timeoutHandle=El(Cr.bind(null,e,At,kn),s);break}Cr(e,At,kn);break;case 5:Cr(e,At,kn);break;default:throw Error(o(329))}}}return Tt(e,$e()),e.callbackNode===r?vh.bind(null,e):null}function gu(e,t){var r=lo;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=js(e,t),e!==2&&(t=At,At=r,t!==null&&mu(t)),e}function mu(e){At===null?At=e:At.push.apply(At,e)}function M0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],d=l.getSnapshot;l=l.value;try{if(!en(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~du,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bt(t),s=1<<r;e[r]=-1,t&=~s}}function yh(e){if((_e&6)!==0)throw Error(o(327));si();var t=qo(e,0);if((t&1)===0)return Tt(e,$e()),null;var r=js(e,t);if(e.tag!==0&&r===2){var s=Ka(e);s!==0&&(t=s,r=gu(e,s))}if(r===1)throw r=ao,Ir(e,0),bn(e,t),Tt(e,$e()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,At,kn),Tt(e,$e()),null}function vu(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(oi=$e()+500,ms&&Vn())}}function Tr(e){qn!==null&&qn.tag===0&&(_e&6)===0&&si();var t=_e;_e|=1;var r=jt.transition,s=Re;try{if(jt.transition=null,Re=1,e)return e()}finally{Re=s,jt.transition=r,_e=t,(_e&6)===0&&Vn()}}function yu(){Ut=ii.current,Me(ii)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,u0(r)),Qe!==null)for(r=Qe.return;r!==null;){var s=r;switch(Rl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ps();break;case 3:ti(),Me(_t),Me(lt),Gl();break;case 5:Hl(s);break;case 4:ti();break;case 13:Me(Ge);break;case 19:Me(Ge);break;case 10:Ml(s.type._context);break;case 22:case 23:yu()}r=r.return}if(tt=e,Qe=e=er(e.current,null),st=Ut=t,be=0,ao=null,du=Bs=Ar=0,At=lo=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,d=r.pending;if(d!==null){var p=d.next;d.next=l,s.next=p}r.pending=s}_r=null}return e}function Sh(e,t){do{var r=Qe;try{if(Dl(),Cs.current=Ns,Rs){for(var s=ze.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Rs=!1}if(wr=0,et=Je=ze=null,to=!1,no=0,cu.current=null,r===null||r.return===null){be=1,ao=t,Qe=null;break}e:{var d=e,p=r.return,v=r,_=t;if(t=st,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,L=v,B=L.tag;if((L.mode&1)===0&&(B===0||B===11||B===15)){var U=L.alternate;U?(L.updateQueue=U.updateQueue,L.memoizedState=U.memoizedState,L.lanes=U.lanes):(L.updateQueue=null,L.memoizedState=null)}var Y=$f(p);if(Y!==null){Y.flags&=-257,Yf(Y,p,v,d,t),Y.mode&1&&jf(d,P,t),t=Y,_=P;var Q=t.updateQueue;if(Q===null){var Z=new Set;Z.add(_),t.updateQueue=Z}else Q.add(_);break e}else{if((t&1)===0){jf(d,P,t),Su();break e}_=Error(o(426))}}else if(He&&v.mode&1){var Ye=$f(p);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),Yf(Ye,p,v,d,t),Nl(ni(_,v));break e}}d=_=ni(_,v),be!==4&&(be=2),lo===null?lo=[d]:lo.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var I=zf(d,_,t);pf(d,I);break e;case 1:v=_;var E=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zn===null||!Zn.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var z=Wf(d,v,t);pf(d,z);break e}}d=d.return}while(d!==null)}wh(r)}catch(q){t=q,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function _h(){var e=Fs.current;return Fs.current=Ns,e===null?Ns:e}function Su(){(be===0||be===3||be===2)&&(be=4),tt===null||(Ar&268435455)===0&&(Bs&268435455)===0||bn(tt,st)}function js(e,t){var r=_e;_e|=2;var s=_h();(tt!==e||st!==t)&&(kn=null,Ir(e,t));do try{U0();break}catch(l){Sh(e,l)}while(!0);if(Dl(),_e=r,Fs.current=s,Qe!==null)throw Error(o(261));return tt=null,st=0,be}function U0(){for(;Qe!==null;)Eh(Qe)}function L0(){for(;Qe!==null&&!sm();)Eh(Qe)}function Eh(e){var t=Ih(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?wh(e):Qe=t,cu.current=null}function wh(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=R0(r,t,Ut),r!==null){Qe=r;return}}else{if(r=P0(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);be===0&&(be=5)}function Cr(e,t,r){var s=Re,l=jt.transition;try{jt.transition=null,Re=1,F0(e,t,r,s)}finally{jt.transition=l,Re=s}return null}function F0(e,t,r,s){do si();while(qn!==null);if((_e&6)!==0)throw Error(o(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(mm(e,d),e===tt&&(Qe=tt=null,st=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||xs||(xs=!0,Ch(Xo,function(){return si(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=jt.transition,jt.transition=null;var p=Re;Re=1;var v=_e;_e|=4,cu.current=null,N0(e,r),fh(r,e),n0(Sl),es=!!yl,Sl=yl=null,e.current=r,O0(r),am(),_e=v,Re=p,jt.transition=d}else e.current=r;if(xs&&(xs=!1,qn=e,Gs=l),d=e.pendingLanes,d===0&&(Zn=null),cm(r.stateNode),Tt(e,$e()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Hs)throw Hs=!1,e=hu,hu=null,e;return(Gs&1)!==0&&e.tag!==0&&si(),d=e.pendingLanes,(d&1)!==0?e===pu?uo++:(uo=0,pu=e):uo=0,Vn(),null}function si(){if(qn!==null){var e=ud(Gs),t=jt.transition,r=Re;try{if(jt.transition=null,Re=16>e?16:e,qn===null)var s=!1;else{if(e=qn,qn=null,Gs=0,(_e&6)!==0)throw Error(o(331));var l=_e;for(_e|=4,X=e.current;X!==null;){var d=X,p=d.child;if((X.flags&16)!==0){var v=d.deletions;if(v!==null){for(var _=0;_<v.length;_++){var P=v[_];for(X=P;X!==null;){var L=X;switch(L.tag){case 0:case 11:case 15:so(8,L,d)}var B=L.child;if(B!==null)B.return=L,X=B;else for(;X!==null;){L=X;var U=L.sibling,Y=L.return;if(ah(L),L===P){X=null;break}if(U!==null){U.return=Y,X=U;break}X=Y}}}var Q=d.alternate;if(Q!==null){var Z=Q.child;if(Z!==null){Q.child=null;do{var Ye=Z.sibling;Z.sibling=null,Z=Ye}while(Z!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,X=p;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:so(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,X=I;break e}X=d.return}}var E=e.current;for(X=E;X!==null;){p=X;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,X=C;else e:for(p=E;X!==null;){if(v=X,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Ls(9,v)}}catch(q){We(v,v.return,q)}if(v===p){X=null;break e}var z=v.sibling;if(z!==null){z.return=v.return,X=z;break e}X=v.return}}if(_e=l,Vn(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ko,e)}catch{}s=!0}return s}finally{Re=r,jt.transition=t}}return!1}function Ah(e,t,r){t=ni(r,t),t=zf(e,t,1),e=Kn(e,t,1),t=mt(),e!==null&&(Mi(e,1,t),Tt(e,t))}function We(e,t,r){if(e.tag===3)Ah(e,e,r);else for(;t!==null;){if(t.tag===3){Ah(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zn===null||!Zn.has(s))){e=ni(r,e),e=Wf(t,e,1),t=Kn(t,e,1),e=mt(),t!==null&&(Mi(t,1,e),Tt(t,e));break}}t=t.return}}function B0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,tt===e&&(st&r)===r&&(be===4||be===3&&(st&130023424)===st&&500>$e()-fu?Ir(e,0):du|=r),Tt(e,t)}function Th(e,t){t===0&&((e.mode&1)===0?t=1:(t=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var r=mt();e=Cn(e,t),e!==null&&(Mi(e,t,r),Tt(e,r))}function H0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Th(e,r)}function x0(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),Th(e,r)}var Ih;Ih=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)wt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return wt=!1,C0(e,t,r);wt=(e.flags&131072)!==0}else wt=!1,He&&(t.flags&1048576)!==0&&rf(t,ys,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ms(e,t),e=t.pendingProps;var l=Kr(t,lt.current);ei(t,r),l=jl(null,t,s,e,l,r);var d=$l();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(s)?(d=!0,gs(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fl(t),l.updater=Os,t.stateNode=l,l._reactInternals=t,Zl(t,s,e,r),t=eu(null,t,s,!0,d,r)):(t.tag=0,He&&d&&Cl(t),gt(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Ms(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=z0(s),e=nn(s,e),l){case 0:t=bl(null,t,s,e,r);break e;case 1:t=qf(null,t,s,e,r);break e;case 11:t=Vf(null,t,s,e,r);break e;case 14:t=Xf(null,t,s,nn(s.type,e),r);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),bl(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),qf(e,t,s,l,r);case 3:e:{if(Jf(t),e===null)throw Error(o(387));s=t.pendingProps,d=t.memoizedState,l=d.element,hf(e,t),Ts(t,s,null,r);var p=t.memoizedState;if(s=p.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=ni(Error(o(423)),t),t=bf(e,t,s,r,l);break e}else if(s!==l){l=ni(Error(o(424)),t),t=bf(e,t,s,r,l);break e}else for(Mt=jn(t.stateNode.containerInfo.firstChild),Dt=t,He=!0,tn=null,r=df(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),s===l){t=Pn(e,t,r);break e}gt(e,t,s,r)}t=t.child}return t;case 5:return mf(t),e===null&&kl(t),s=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,p=l.children,_l(s,l)?p=null:d!==null&&_l(s,d)&&(t.flags|=32),Zf(e,t),gt(e,t,p,r),t.child;case 6:return e===null&&kl(t),null;case 13:return eh(e,t,r);case 4:return Bl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Jr(t,null,s,r):gt(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),Vf(e,t,s,l,r);case 7:return gt(e,t,t.pendingProps,r),t.child;case 8:return gt(e,t,t.pendingProps.children,r),t.child;case 12:return gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,d=t.memoizedProps,p=l.value,Oe(Es,s._currentValue),s._currentValue=p,d!==null)if(en(d.value,p)){if(d.children===l.children&&!_t.current){t=Pn(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var _=v.firstContext;_!==null;){if(_.context===s){if(d.tag===1){_=Rn(-1,r&-r),_.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var L=P.pending;L===null?_.next=_:(_.next=L.next,L.next=_),P.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Ul(d.return,r,t),v.lanes|=r;break}_=_.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(o(341));p.lanes|=r,v=p.alternate,v!==null&&(v.lanes|=r),Ul(p,r,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}gt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,ei(t,r),l=zt(l),s=s(l),t.flags|=1,gt(e,t,s,r),t.child;case 14:return s=t.type,l=nn(s,t.pendingProps),l=nn(s.type,l),Xf(e,t,s,l,r);case 15:return Kf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),Ms(e,t),t.tag=1,Et(s)?(e=!0,gs(t)):e=!1,ei(t,r),xf(t,s,l),Zl(t,s,l,r),eu(null,t,s,!0,e,r);case 19:return nh(e,t,r);case 22:return Qf(e,t,r)}throw Error(o(156,t.tag))};function Ch(e,t){return id(e,t)}function G0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,r,s){return new G0(e,t,r,s)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z0(e){if(typeof e=="function")return _u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ke)return 11;if(e===we)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=$t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $s(e,t,r,s,l,d){var p=2;if(s=e,typeof e=="function")_u(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case x:return Rr(r.children,l,d,t);case J:p=8,l|=8;break;case pe:return e=$t(12,r,t,l|2),e.elementType=pe,e.lanes=d,e;case Ne:return e=$t(13,r,t,l),e.elementType=Ne,e.lanes=d,e;case ye:return e=$t(19,r,t,l),e.elementType=ye,e.lanes=d,e;case se:return Ys(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Be:p=10;break e;case qe:p=9;break e;case ke:p=11;break e;case we:p=14;break e;case de:p=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=$t(p,r,t,l),t.elementType=e,t.type=s,t.lanes=d,t}function Rr(e,t,r,s){return e=$t(7,e,s,t),e.lanes=r,e}function Ys(e,t,r,s){return e=$t(22,e,s,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function Eu(e,t,r){return e=$t(6,e,null,t),e.lanes=r,e}function wu(e,t,r){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W0(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Au(e,t,r,s,l,d,p,v,_){return e=new W0(e,t,r,v,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=$t(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fl(d),e}function j0(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Rh(e){if(!e)return Yn;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(Et(r))return ef(e,r,t)}return t}function Ph(e,t,r,s,l,d,p,v,_){return e=Au(r,s,!0,e,l,d,p,v,_),e.context=Rh(null),r=e.current,s=mt(),l=Jn(r),d=Rn(s,l),d.callback=t??null,Kn(r,d,l),e.current.lanes=l,Mi(e,l,s),Tt(e,s),e}function Vs(e,t,r,s){var l=t.current,d=mt(),p=Jn(l);return r=Rh(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(d,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Kn(l,t,p),e!==null&&(sn(e,l,p,d),As(e,l,p)),p}function Xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tu(e,t){kh(e,t),(e=e.alternate)&&kh(e,t)}function $0(){return null}var Nh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iu(e){this._internalRoot=e}Ks.prototype.render=Iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Vs(e,t,null,null)},Ks.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){Vs(null,e,null,null)}),t[wn]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=fd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gn.length&&t!==0&&t<Gn[r].priority;r++);Gn.splice(r,0,e),r===0&&gd(e)}};function Cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oh(){}function Y0(e,t,r,s,l){if(l){if(typeof s=="function"){var d=s;s=function(){var P=Xs(p);d.call(P)}}var p=Ph(t,s,e,0,null,!1,!1,"",Oh);return e._reactRootContainer=p,e[wn]=p.current,Xi(e.nodeType===8?e.parentNode:e),Tr(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var v=s;s=function(){var P=Xs(_);v.call(P)}}var _=Au(e,0,!1,null,null,!1,!1,"",Oh);return e._reactRootContainer=_,e[wn]=_.current,Xi(e.nodeType===8?e.parentNode:e),Tr(function(){Vs(t,_,r,s)}),_}function Zs(e,t,r,s,l){var d=r._reactRootContainer;if(d){var p=d;if(typeof l=="function"){var v=l;l=function(){var _=Xs(p);v.call(_)}}Vs(t,p,e,l)}else p=Y0(r,t,e,l,s);return Xs(p)}cd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Di(t.pendingLanes);r!==0&&(Za(t,r|1),Tt(t,$e()),(_e&6)===0&&(oi=$e()+500,Vn()))}break;case 13:Tr(function(){var s=Cn(e,1);if(s!==null){var l=mt();sn(s,e,1,l)}}),Tu(e,1)}},qa=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=mt();sn(t,e,134217728,r)}Tu(e,134217728)}},dd=function(e){if(e.tag===13){var t=Jn(e),r=Cn(e,t);if(r!==null){var s=mt();sn(r,e,t,s)}Tu(e,t)}},fd=function(){return Re},hd=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}},ja=function(e,t,r){switch(t){case"input":if(En(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=hs(s);if(!l)throw Error(o(90));ue(s),En(s,l)}}}break;case"textarea":Wc(e,r);break;case"select":t=r.value,t!=null&&Fn(e,!!r.multiple,t,!1)}},qc=vu,Jc=Tr;var V0={usingClientEntryPoint:!1,Events:[Zi,Vr,hs,Qc,Zc,vu]},co={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nd(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||$0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Ko=qs.inject(X0),ln=qs}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0,It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(t))throw Error(o(200));return j0(e,t,null,r)},It.createRoot=function(e,t){if(!Cu(e))throw Error(o(299));var r=!1,s="",l=Nh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Au(e,1,!1,null,null,r,!1,s,l),e[wn]=t.current,Xi(e.nodeType===8?e.parentNode:e),new Iu(t)},It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=nd(t),e=e===null?null:e.stateNode,e},It.flushSync=function(e){return Tr(e)},It.hydrate=function(e,t,r){if(!Qs(t))throw Error(o(200));return Zs(null,e,t,!0,r)},It.hydrateRoot=function(e,t,r){if(!Cu(e))throw Error(o(405));var s=r!=null&&r.hydratedSources||null,l=!1,d="",p=Nh;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Ph(t,null,e,1,r??null,l,!1,d,p),e[wn]=t.current,Xi(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Ks(t)},It.render=function(e,t,r){if(!Qs(t))throw Error(o(200));return Zs(null,e,t,!1,r)},It.unmountComponentAtNode=function(e){if(!Qs(e))throw Error(o(40));return e._reactRootContainer?(Tr(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},It.unstable_batchedUpdates=vu,It.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Qs(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Zs(e,t,r,!1,s)},It.version="18.3.1-next-f1338f8080-20240426",It}var xh;function rv(){if(xh)return ku.exports;xh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),ku.exports=nv(),ku.exports}var Gh;function iv(){if(Gh)return Js;Gh=1;var n=rv();return Js.createRoot=n.createRoot,Js.hydrateRoot=n.hydrateRoot,Js}var ov=iv();const sv=jp(ov),$p=me.createContext(void 0),av=({initialAppState:n,children:i})=>{const[o,a]=me.useState(n),[c,u]=me.useState(void 0),f=(h,g)=>{a(h),h==="gameOver"&&g?u(g):h!=="gameOver"&&u(void 0)};return Ce.jsx($p.Provider,{value:{appState:o,setAppState:f,gameOverDetails:c},children:i})},Ra=()=>{const n=me.useContext($p);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var ht=function(){return ht=Object.assign||function(i){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i},ht.apply(this,arguments)};function No(n,i,o){if(o||arguments.length===2)for(var a=0,c=i.length,u;a<c;a++)(u||!(a in i))&&(u||(u=Array.prototype.slice.call(i,0,a)),u[a]=i[a]);return n.concat(u||Array.prototype.slice.call(i))}var Ue="-ms-",wo="-moz-",Ie="-webkit-",Yp="comm",Pa="rule",pc="decl",lv="@import",Vp="@keyframes",uv="@layer",Xp=Math.abs,gc=String.fromCharCode,qu=Object.assign;function cv(n,i){return rt(n,0)^45?(((i<<2^rt(n,0))<<2^rt(n,1))<<2^rt(n,2))<<2^rt(n,3):0}function Kp(n){return n.trim()}function Mn(n,i){return(n=i.exec(n))?n[0]:n}function he(n,i,o){return n.replace(i,o)}function da(n,i,o){return n.indexOf(i,o)}function rt(n,i){return n.charCodeAt(i)|0}function gi(n,i,o){return n.slice(i,o)}function pn(n){return n.length}function Qp(n){return n.length}function yo(n,i){return i.push(n),n}function dv(n,i){return n.map(i).join("")}function zh(n,i){return n.filter(function(o){return!Mn(o,i)})}var ka=1,mi=1,Zp=0,Qt=0,Ze=0,Ti="";function Na(n,i,o,a,c,u,f,h){return{value:n,root:i,parent:o,type:a,props:c,children:u,line:ka,column:mi,length:f,return:"",siblings:h}}function sr(n,i){return qu(Na("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},i)}function ai(n){for(;n.root;)n=sr(n.root,{children:[n]});yo(n,n.siblings)}function fv(){return Ze}function hv(){return Ze=Qt>0?rt(Ti,--Qt):0,mi--,Ze===10&&(mi=1,ka--),Ze}function an(){return Ze=Qt<Zp?rt(Ti,Qt++):0,mi++,Ze===10&&(mi=1,ka++),Ze}function Lr(){return rt(Ti,Qt)}function fa(){return Qt}function Oa(n,i){return gi(Ti,n,i)}function Ju(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pv(n){return ka=mi=1,Zp=pn(Ti=n),Qt=0,[]}function gv(n){return Ti="",n}function Du(n){return Kp(Oa(Qt-1,bu(n===91?n+2:n===40?n+1:n)))}function mv(n){for(;(Ze=Lr())&&Ze<33;)an();return Ju(n)>2||Ju(Ze)>3?"":" "}function vv(n,i){for(;--i&&an()&&!(Ze<48||Ze>102||Ze>57&&Ze<65||Ze>70&&Ze<97););return Oa(n,fa()+(i<6&&Lr()==32&&an()==32))}function bu(n){for(;an();)switch(Ze){case n:return Qt;case 34:case 39:n!==34&&n!==39&&bu(Ze);break;case 40:n===41&&bu(n);break;case 92:an();break}return Qt}function yv(n,i){for(;an()&&n+Ze!==57;)if(n+Ze===84&&Lr()===47)break;return"/*"+Oa(i,Qt-1)+"*"+gc(n===47?n:an())}function Sv(n){for(;!Ju(Lr());)an();return Oa(n,Qt)}function _v(n){return gv(ha("",null,null,null,[""],n=pv(n),0,[0],n))}function ha(n,i,o,a,c,u,f,h,g){for(var y=0,m=0,S=f,A=0,R=0,O=0,N=1,T=1,M=1,k=0,j="",G=c,b=u,F=a,x=j;T;)switch(O=k,k=an()){case 40:if(O!=108&&rt(x,S-1)==58){da(x+=he(Du(k),"&","&\f"),"&\f",Xp(y?h[y-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:x+=Du(k);break;case 9:case 10:case 13:case 32:x+=mv(O);break;case 92:x+=vv(fa()-1,7);continue;case 47:switch(Lr()){case 42:case 47:yo(Ev(yv(an(),fa()),i,o,g),g);break;default:x+="/"}break;case 123*N:h[y++]=pn(x)*M;case 125*N:case 59:case 0:switch(k){case 0:case 125:T=0;case 59+m:M==-1&&(x=he(x,/\f/g,"")),R>0&&pn(x)-S&&yo(R>32?jh(x+";",a,o,S-1,g):jh(he(x," ","")+";",a,o,S-2,g),g);break;case 59:x+=";";default:if(yo(F=Wh(x,i,o,y,m,c,h,j,G=[],b=[],S,u),u),k===123)if(m===0)ha(x,i,F,F,G,u,S,h,b);else switch(A===99&&rt(x,3)===110?100:A){case 100:case 108:case 109:case 115:ha(n,F,F,a&&yo(Wh(n,F,F,0,0,c,h,j,c,G=[],S,b),b),c,b,S,h,a?G:b);break;default:ha(x,F,F,F,[""],b,0,h,b)}}y=m=R=0,N=M=1,j=x="",S=f;break;case 58:S=1+pn(x),R=O;default:if(N<1){if(k==123)--N;else if(k==125&&N++==0&&hv()==125)continue}switch(x+=gc(k),k*N){case 38:M=m>0?1:(x+="\f",-1);break;case 44:h[y++]=(pn(x)-1)*M,M=1;break;case 64:Lr()===45&&(x+=Du(an())),A=Lr(),m=S=pn(j=x+=Sv(fa())),k++;break;case 45:O===45&&pn(x)==2&&(N=0)}}return u}function Wh(n,i,o,a,c,u,f,h,g,y,m,S){for(var A=c-1,R=c===0?u:[""],O=Qp(R),N=0,T=0,M=0;N<a;++N)for(var k=0,j=gi(n,A+1,A=Xp(T=f[N])),G=n;k<O;++k)(G=Kp(T>0?R[k]+" "+j:he(j,/&\f/g,R[k])))&&(g[M++]=G);return Na(n,i,o,c===0?Pa:h,g,y,m,S)}function Ev(n,i,o,a){return Na(n,i,o,Yp,gc(fv()),gi(n,2,-2),0,a)}function jh(n,i,o,a,c){return Na(n,i,o,pc,gi(n,0,a),gi(n,a+1,-1),a,c)}function qp(n,i,o){switch(cv(n,i)){case 5103:return Ie+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ie+n+n;case 4789:return wo+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ie+n+wo+n+Ue+n+n;case 5936:switch(rt(n,i+11)){case 114:return Ie+n+Ue+he(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ie+n+Ue+he(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ie+n+Ue+he(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ie+n+Ue+n+n;case 6165:return Ie+n+Ue+"flex-"+n+n;case 5187:return Ie+n+he(n,/(\w+).+(:[^]+)/,Ie+"box-$1$2"+Ue+"flex-$1$2")+n;case 5443:return Ie+n+Ue+"flex-item-"+he(n,/flex-|-self/g,"")+(Mn(n,/flex-|baseline/)?"":Ue+"grid-row-"+he(n,/flex-|-self/g,""))+n;case 4675:return Ie+n+Ue+"flex-line-pack"+he(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ie+n+Ue+he(n,"shrink","negative")+n;case 5292:return Ie+n+Ue+he(n,"basis","preferred-size")+n;case 6060:return Ie+"box-"+he(n,"-grow","")+Ie+n+Ue+he(n,"grow","positive")+n;case 4554:return Ie+he(n,/([^-])(transform)/g,"$1"+Ie+"$2")+n;case 6187:return he(he(he(n,/(zoom-|grab)/,Ie+"$1"),/(image-set)/,Ie+"$1"),n,"")+n;case 5495:case 3959:return he(n,/(image-set\([^]*)/,Ie+"$1$`$1");case 4968:return he(he(n,/(.+:)(flex-)?(.*)/,Ie+"box-pack:$3"+Ue+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ie+n+n;case 4200:if(!Mn(n,/flex-|baseline/))return Ue+"grid-column-align"+gi(n,i)+n;break;case 2592:case 3360:return Ue+he(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(a,c){return i=c,Mn(a.props,/grid-\w+-end/)})?~da(n+(o=o[i].value),"span",0)?n:Ue+he(n,"-start","")+n+Ue+"grid-row-span:"+(~da(o,"span",0)?Mn(o,/\d+/):+Mn(o,/\d+/)-+Mn(n,/\d+/))+";":Ue+he(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(a){return Mn(a.props,/grid-\w+-start/)})?n:Ue+he(he(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return he(n,/(.+)-inline(.+)/,Ie+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pn(n)-1-i>6)switch(rt(n,i+1)){case 109:if(rt(n,i+4)!==45)break;case 102:return he(n,/(.+:)(.+)-([^]+)/,"$1"+Ie+"$2-$3$1"+wo+(rt(n,i+3)==108?"$3":"$2-$3"))+n;case 115:return~da(n,"stretch",0)?qp(he(n,"stretch","fill-available"),i,o)+n:n}break;case 5152:case 5920:return he(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,c,u,f,h,g,y){return Ue+c+":"+u+y+(f?Ue+c+"-span:"+(h?g:+g-+u)+y:"")+n});case 4949:if(rt(n,i+6)===121)return he(n,":",":"+Ie)+n;break;case 6444:switch(rt(n,rt(n,14)===45?18:11)){case 120:return he(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ie+(rt(n,14)===45?"inline-":"")+"box$3$1"+Ie+"$2$3$1"+Ue+"$2box$3")+n;case 100:return he(n,":",":"+Ue)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return he(n,"scroll-","scroll-snap-")+n}return n}function ya(n,i){for(var o="",a=0;a<n.length;a++)o+=i(n[a],a,n,i)||"";return o}function wv(n,i,o,a){switch(n.type){case uv:if(n.children.length)break;case lv:case pc:return n.return=n.return||n.value;case Yp:return"";case Vp:return n.return=n.value+"{"+ya(n.children,a)+"}";case Pa:if(!pn(n.value=n.props.join(",")))return""}return pn(o=ya(n.children,a))?n.return=n.value+"{"+o+"}":""}function Av(n){var i=Qp(n);return function(o,a,c,u){for(var f="",h=0;h<i;h++)f+=n[h](o,a,c,u)||"";return f}}function Tv(n){return function(i){i.root||(i=i.return)&&n(i)}}function Iv(n,i,o,a){if(n.length>-1&&!n.return)switch(n.type){case pc:n.return=qp(n.value,n.length,o);return;case Vp:return ya([sr(n,{value:he(n.value,"@","@"+Ie)})],a);case Pa:if(n.length)return dv(o=n.props,function(c){switch(Mn(c,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ai(sr(n,{props:[he(c,/:(read-\w+)/,":"+wo+"$1")]})),ai(sr(n,{props:[c]})),qu(n,{props:zh(o,a)});break;case"::placeholder":ai(sr(n,{props:[he(c,/:(plac\w+)/,":"+Ie+"input-$1")]})),ai(sr(n,{props:[he(c,/:(plac\w+)/,":"+wo+"$1")]})),ai(sr(n,{props:[he(c,/:(plac\w+)/,Ue+"input-$1")]})),ai(sr(n,{props:[c]})),qu(n,{props:zh(o,a)});break}return""})}}var Cv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ft={},vi=typeof process<"u"&&Ft!==void 0&&(Ft.REACT_APP_SC_ATTR||Ft.SC_ATTR)||"data-styled",Jp="active",bp="data-styled-version",Da="6.1.13",mc=`/*!sc*/
`,Sa=typeof window<"u"&&"HTMLElement"in window,Rv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ft!==void 0&&Ft.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ft.REACT_APP_SC_DISABLE_SPEEDY!==""?Ft.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ft.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ft!==void 0&&Ft.SC_DISABLE_SPEEDY!==void 0&&Ft.SC_DISABLE_SPEEDY!==""&&Ft.SC_DISABLE_SPEEDY!=="false"&&Ft.SC_DISABLE_SPEEDY),Pv={},Ma=Object.freeze([]),yi=Object.freeze({});function eg(n,i,o){return o===void 0&&(o=yi),n.theme!==o.theme&&n.theme||i||o.theme}var tg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Nv=/(^-|-$)/g;function $h(n){return n.replace(kv,"-").replace(Nv,"")}var Ov=/(a)(d)/gi,bs=52,Yh=function(n){return String.fromCharCode(n+(n>25?39:97))};function ec(n){var i,o="";for(i=Math.abs(n);i>bs;i=i/bs|0)o=Yh(i%bs)+o;return(Yh(i%bs)+o).replace(Ov,"$1-$2")}var Mu,ng=5381,fi=function(n,i){for(var o=i.length;o;)n=33*n^i.charCodeAt(--o);return n},rg=function(n){return fi(ng,n)};function ig(n){return ec(rg(n)>>>0)}function Dv(n){return n.displayName||n.name||"Component"}function Uu(n){return typeof n=="string"&&!0}var og=typeof Symbol=="function"&&Symbol.for,sg=og?Symbol.for("react.memo"):60115,Mv=og?Symbol.for("react.forward_ref"):60112,Uv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Lv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ag={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fv=((Mu={})[Mv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mu[sg]=ag,Mu);function Vh(n){return("type"in(i=n)&&i.type.$$typeof)===sg?ag:"$$typeof"in n?Fv[n.$$typeof]:Uv;var i}var Bv=Object.defineProperty,Hv=Object.getOwnPropertyNames,Xh=Object.getOwnPropertySymbols,xv=Object.getOwnPropertyDescriptor,Gv=Object.getPrototypeOf,Kh=Object.prototype;function lg(n,i,o){if(typeof i!="string"){if(Kh){var a=Gv(i);a&&a!==Kh&&lg(n,a,o)}var c=Hv(i);Xh&&(c=c.concat(Xh(i)));for(var u=Vh(n),f=Vh(i),h=0;h<c.length;++h){var g=c[h];if(!(g in Lv||o&&o[g]||f&&g in f||u&&g in u)){var y=xv(i,g);try{Bv(n,g,y)}catch{}}}}return n}function Si(n){return typeof n=="function"}function vc(n){return typeof n=="object"&&"styledComponentId"in n}function Dr(n,i){return n&&i?"".concat(n," ").concat(i):n||i||""}function tc(n,i){if(n.length===0)return"";for(var o=n[0],a=1;a<n.length;a++)o+=n[a];return o}function Oo(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function nc(n,i,o){if(o===void 0&&(o=!1),!o&&!Oo(n)&&!Array.isArray(n))return i;if(Array.isArray(i))for(var a=0;a<i.length;a++)n[a]=nc(n[a],i[a]);else if(Oo(i))for(var a in i)n[a]=nc(n[a],i[a]);return n}function yc(n,i){Object.defineProperty(n,"toString",{value:i})}function jo(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var zv=function(){function n(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return n.prototype.indexOfGroup=function(i){for(var o=0,a=0;a<i;a++)o+=this.groupSizes[a];return o},n.prototype.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var a=this.groupSizes,c=a.length,u=c;i>=u;)if((u<<=1)<0)throw jo(16,"".concat(i));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var f=c;f<u;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(i+1),g=(f=0,o.length);f<g;f++)this.tag.insertRule(h,o[f])&&(this.groupSizes[i]++,h++)},n.prototype.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],a=this.indexOfGroup(i),c=a+o;this.groupSizes[i]=0;for(var u=a;u<c;u++)this.tag.deleteRule(a)}},n.prototype.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var a=this.groupSizes[i],c=this.indexOfGroup(i),u=c+a,f=c;f<u;f++)o+="".concat(this.tag.getRule(f)).concat(mc);return o},n}(),pa=new Map,_a=new Map,ga=1,ea=function(n){if(pa.has(n))return pa.get(n);for(;_a.has(ga);)ga++;var i=ga++;return pa.set(n,i),_a.set(i,n),i},Wv=function(n,i){ga=i+1,pa.set(n,i),_a.set(i,n)},jv="style[".concat(vi,"][").concat(bp,'="').concat(Da,'"]'),$v=new RegExp("^".concat(vi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Yv=function(n,i,o){for(var a,c=o.split(","),u=0,f=c.length;u<f;u++)(a=c[u])&&n.registerName(i,a)},Vv=function(n,i){for(var o,a=((o=i.textContent)!==null&&o!==void 0?o:"").split(mc),c=[],u=0,f=a.length;u<f;u++){var h=a[u].trim();if(h){var g=h.match($v);if(g){var y=0|parseInt(g[1],10),m=g[2];y!==0&&(Wv(m,y),Yv(n,m,g[3]),n.getTag().insertRules(y,c)),c.length=0}else c.push(h)}}},Qh=function(n){for(var i=document.querySelectorAll(jv),o=0,a=i.length;o<a;o++){var c=i[o];c&&c.getAttribute(vi)!==Jp&&(Vv(n,c),c.parentNode&&c.parentNode.removeChild(c))}};function Xv(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ug=function(n){var i=document.head,o=n||i,a=document.createElement("style"),c=function(h){var g=Array.from(h.querySelectorAll("style[".concat(vi,"]")));return g[g.length-1]}(o),u=c!==void 0?c.nextSibling:null;a.setAttribute(vi,Jp),a.setAttribute(bp,Da);var f=Xv();return f&&a.setAttribute("nonce",f),o.insertBefore(a,u),a},Kv=function(){function n(i){this.element=ug(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,c=0,u=a.length;c<u;c++){var f=a[c];if(f.ownerNode===o)return f}throw jo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},n.prototype.getRule=function(i){var o=this.sheet.cssRules[i];return o&&o.cssText?o.cssText:""},n}(),Qv=function(){function n(i){this.element=ug(i),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(i,o){if(i<=this.length&&i>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[i]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},n.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},n}(),Zv=function(){function n(i){this.rules=[],this.length=0}return n.prototype.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},n.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},n.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},n}(),Zh=Sa,qv={isServer:!Sa,useCSSOMInjection:!Rv},Ea=function(){function n(i,o,a){i===void 0&&(i=yi),o===void 0&&(o={});var c=this;this.options=ht(ht({},qv),i),this.gs=o,this.names=new Map(a),this.server=!!i.isServer,!this.server&&Sa&&Zh&&(Zh=!1,Qh(this)),yc(this,function(){return function(u){for(var f=u.getTag(),h=f.length,g="",y=function(S){var A=function(M){return _a.get(M)}(S);if(A===void 0)return"continue";var R=u.names.get(A),O=f.getGroup(S);if(R===void 0||!R.size||O.length===0)return"continue";var N="".concat(vi,".g").concat(S,'[id="').concat(A,'"]'),T="";R!==void 0&&R.forEach(function(M){M.length>0&&(T+="".concat(M,","))}),g+="".concat(O).concat(N,'{content:"').concat(T,'"}').concat(mc)},m=0;m<h;m++)y(m);return g}(c)})}return n.registerId=function(i){return ea(i)},n.prototype.rehydrate=function(){!this.server&&Sa&&Qh(this)},n.prototype.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new n(ht(ht({},this.options),i),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(i=function(o){var a=o.useCSSOMInjection,c=o.target;return o.isServer?new Zv(c):a?new Kv(c):new Qv(c)}(this.options),new zv(i)));var i},n.prototype.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},n.prototype.registerName=function(i,o){if(ea(i),this.names.has(i))this.names.get(i).add(o);else{var a=new Set;a.add(o),this.names.set(i,a)}},n.prototype.insertRules=function(i,o,a){this.registerName(i,o),this.getTag().insertRules(ea(i),a)},n.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},n.prototype.clearRules=function(i){this.getTag().clearGroup(ea(i)),this.clearNames(i)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Jv=/&/g,bv=/^\s*\/\/.*$/gm;function cg(n,i){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(i," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(i," ")),o.props=o.props.map(function(a){return"".concat(i," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=cg(o.children,i)),o})}function ey(n){var i,o,a,c=yi,u=c.options,f=u===void 0?yi:u,h=c.plugins,g=h===void 0?Ma:h,y=function(A,R,O){return O.startsWith(o)&&O.endsWith(o)&&O.replaceAll(o,"").length>0?".".concat(i):A},m=g.slice();m.push(function(A){A.type===Pa&&A.value.includes("&")&&(A.props[0]=A.props[0].replace(Jv,o).replace(a,y))}),f.prefix&&m.push(Iv),m.push(wv);var S=function(A,R,O,N){R===void 0&&(R=""),O===void 0&&(O=""),N===void 0&&(N="&"),i=N,o=R,a=new RegExp("\\".concat(o,"\\b"),"g");var T=A.replace(bv,""),M=_v(O||R?"".concat(O," ").concat(R," { ").concat(T," }"):T);f.namespace&&(M=cg(M,f.namespace));var k=[];return ya(M,Av(m.concat(Tv(function(j){return k.push(j)})))),k};return S.hash=g.length?g.reduce(function(A,R){return R.name||jo(15),fi(A,R.name)},ng).toString():"",S}var ty=new Ea,rc=ey(),dg=mn.createContext({shouldForwardProp:void 0,styleSheet:ty,stylis:rc});dg.Consumer;mn.createContext(void 0);function ic(){return me.useContext(dg)}var ny=function(){function n(i,o){var a=this;this.inject=function(c,u){u===void 0&&(u=rc);var f=a.name+u.hash;c.hasNameForId(a.id,f)||c.insertRules(a.id,f,u(a.rules,f,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=o,yc(this,function(){throw jo(12,String(a.name))})}return n.prototype.getName=function(i){return i===void 0&&(i=rc),this.name+i.hash},n}(),ry=function(n){return n>="A"&&n<="Z"};function qh(n){for(var i="",o=0;o<n.length;o++){var a=n[o];if(o===1&&a==="-"&&n[0]==="-")return n;ry(a)?i+="-"+a.toLowerCase():i+=a}return i.startsWith("ms-")?"-"+i:i}var fg=function(n){return n==null||n===!1||n===""},hg=function(n){var i,o,a=[];for(var c in n){var u=n[c];n.hasOwnProperty(c)&&!fg(u)&&(Array.isArray(u)&&u.isCss||Si(u)?a.push("".concat(qh(c),":"),u,";"):Oo(u)?a.push.apply(a,No(No(["".concat(c," {")],hg(u),!1),["}"],!1)):a.push("".concat(qh(c),": ").concat((i=c,(o=u)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||i in Cv||i.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function cr(n,i,o,a){if(fg(n))return[];if(vc(n))return[".".concat(n.styledComponentId)];if(Si(n)){if(!Si(u=n)||u.prototype&&u.prototype.isReactComponent||!i)return[n];var c=n(i);return cr(c,i,o,a)}var u;return n instanceof ny?o?(n.inject(o,a),[n.getName(a)]):[n]:Oo(n)?hg(n):Array.isArray(n)?Array.prototype.concat.apply(Ma,n.map(function(f){return cr(f,i,o,a)})):[n.toString()]}function pg(n){for(var i=0;i<n.length;i+=1){var o=n[i];if(Si(o)&&!vc(o))return!1}return!0}var iy=rg(Da),oy=function(){function n(i,o,a){this.rules=i,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&pg(i),this.componentId=o,this.baseHash=fi(iy,o),this.baseStyle=a,Ea.registerId(o)}return n.prototype.generateAndInjectStyles=function(i,o,a){var c=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))c=Dr(c,this.staticRulesId);else{var u=tc(cr(this.rules,i,o,a)),f=ec(fi(this.baseHash,u)>>>0);if(!o.hasNameForId(this.componentId,f)){var h=a(u,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,h)}c=Dr(c,f),this.staticRulesId=f}else{for(var g=fi(this.baseHash,a.hash),y="",m=0;m<this.rules.length;m++){var S=this.rules[m];if(typeof S=="string")y+=S;else if(S){var A=tc(cr(S,i,o,a));g=fi(g,A+m),y+=A}}if(y){var R=ec(g>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,a(y,".".concat(R),void 0,this.componentId)),c=Dr(c,R)}}return c},n}(),Sc=mn.createContext(void 0);Sc.Consumer;var Lu={};function sy(n,i,o){var a=vc(n),c=n,u=!Uu(n),f=i.attrs,h=f===void 0?Ma:f,g=i.componentId,y=g===void 0?function(G,b){var F=typeof G!="string"?"sc":$h(G);Lu[F]=(Lu[F]||0)+1;var x="".concat(F,"-").concat(ig(Da+F+Lu[F]));return b?"".concat(b,"-").concat(x):x}(i.displayName,i.parentComponentId):g,m=i.displayName,S=m===void 0?function(G){return Uu(G)?"styled.".concat(G):"Styled(".concat(Dv(G),")")}(n):m,A=i.displayName&&i.componentId?"".concat($h(i.displayName),"-").concat(i.componentId):i.componentId||y,R=a&&c.attrs?c.attrs.concat(h).filter(Boolean):h,O=i.shouldForwardProp;if(a&&c.shouldForwardProp){var N=c.shouldForwardProp;if(i.shouldForwardProp){var T=i.shouldForwardProp;O=function(G,b){return N(G,b)&&T(G,b)}}else O=N}var M=new oy(o,A,a?c.componentStyle:void 0);function k(G,b){return function(F,x,J){var pe=F.attrs,Be=F.componentStyle,qe=F.defaultProps,ke=F.foldedComponentIds,Ne=F.styledComponentId,ye=F.target,we=mn.useContext(Sc),de=ic(),se=F.shouldForwardProp||de.shouldForwardProp,W=eg(x,we,qe)||yi,V=function(ge,ae,fe){for(var ce,K=ht(ht({},ae),{className:void 0,theme:fe}),ie=0;ie<ge.length;ie+=1){var Te=Si(ce=ge[ie])?ce(K):ce;for(var ue in Te)K[ue]=ue==="className"?Dr(K[ue],Te[ue]):ue==="style"?ht(ht({},K[ue]),Te[ue]):Te[ue]}return ae.className&&(K.className=Dr(K.className,ae.className)),K}(pe,x,W),$=V.as||ye,w={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===W||(D==="forwardedAs"?w.as=V.forwardedAs:se&&!se(D,$)||(w[D]=V[D]));var re=function(ge,ae){var fe=ic(),ce=ge.generateAndInjectStyles(ae,fe.styleSheet,fe.stylis);return ce}(Be,V),ee=Dr(ke,Ne);return re&&(ee+=" "+re),V.className&&(ee+=" "+V.className),w[Uu($)&&!tg.has($)?"class":"className"]=ee,w.ref=J,me.createElement($,w)}(j,G,b)}k.displayName=S;var j=mn.forwardRef(k);return j.attrs=R,j.componentStyle=M,j.displayName=S,j.shouldForwardProp=O,j.foldedComponentIds=a?Dr(c.foldedComponentIds,c.styledComponentId):"",j.styledComponentId=A,j.target=a?c.target:n,Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(G){this._foldedDefaultProps=a?function(b){for(var F=[],x=1;x<arguments.length;x++)F[x-1]=arguments[x];for(var J=0,pe=F;J<pe.length;J++)nc(b,pe[J],!0);return b}({},c.defaultProps,G):G}}),yc(j,function(){return".".concat(j.styledComponentId)}),u&&lg(j,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),j}function Jh(n,i){for(var o=[n[0]],a=0,c=i.length;a<c;a+=1)o.push(i[a],n[a+1]);return o}var bh=function(n){return Object.assign(n,{isCss:!0})};function gg(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(Si(n)||Oo(n))return bh(cr(Jh(Ma,No([n],i,!0))));var a=n;return i.length===0&&a.length===1&&typeof a[0]=="string"?cr(a):bh(cr(Jh(a,i)))}function oc(n,i,o){if(o===void 0&&(o=yi),!i)throw jo(1,i);var a=function(c){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return n(i,o,gg.apply(void 0,No([c],u,!1)))};return a.attrs=function(c){return oc(n,i,ht(ht({},o),{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},a.withConfig=function(c){return oc(n,i,ht(ht({},o),c))},a}var mg=function(n){return oc(sy,n)},Sn=mg;tg.forEach(function(n){Sn[n]=mg(n)});var ay=function(){function n(i,o){this.rules=i,this.componentId=o,this.isStatic=pg(i),Ea.registerId(this.componentId+1)}return n.prototype.createStyles=function(i,o,a,c){var u=c(tc(cr(this.rules,o,a,c)),""),f=this.componentId+i;a.insertRules(f,f,u)},n.prototype.removeStyles=function(i,o){o.clearRules(this.componentId+i)},n.prototype.renderStyles=function(i,o,a,c){i>2&&Ea.registerId(this.componentId+i),this.removeStyles(i,a),this.createStyles(i,o,a,c)},n}();function ly(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=gg.apply(void 0,No([n],i,!1)),c="sc-global-".concat(ig(JSON.stringify(a))),u=new ay(a,c),f=function(g){var y=ic(),m=mn.useContext(Sc),S=mn.useRef(y.styleSheet.allocateGSInstance(c)).current;return y.styleSheet.server&&h(S,g,y.styleSheet,m,y.stylis),mn.useLayoutEffect(function(){if(!y.styleSheet.server)return h(S,g,y.styleSheet,m,y.stylis),function(){return u.removeStyles(S,y.styleSheet)}},[S,g,y.styleSheet,m,y.stylis]),null};function h(g,y,m,S,A){if(u.isStatic)u.renderStyles(g,Pv,m,A);else{var R=ht(ht({},y),{theme:eg(y,S,f.defaultProps)});u.renderStyles(g,R,m,A)}}return mn.memo(f)}function vg(n,i){var o=me.useRef(null),a=me.useRef(!1),c=me.useRef(n);c.current=n;var u=me.useCallback(function(h){a.current&&(c.current(h),o.current=requestAnimationFrame(u))},[]),f=me.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(u))},function(){return a.current}]},[]);return me.useEffect(function(){return f[0]},[]),f}function uy(n,i,o,a,c){var f;(f=n.onExit)==null||f.call(n,a,i);const u=c.find(({id:h})=>h===i);return u!=null&&u.onEnter?u.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function cy(n,i){return i.find(({id:o})=>o===n)}function dy(n,i){return n!==i}function fy(n){console.warn(`No handler found for state: ${n}`)}const Ao="bushGrowing",Or="bushFull",ma="bushSpreading",Do="bushDying",Vt=24,Xt=10,Mr=3e3,Ur=3e3,_c=2,hy=5,py=3,gy=12,my=940,vy=.7,sc=20,ep=90,yg=45,yy=240,Sg=10,Mo=80,Sy=3,ho=5,Zt=150,Ec=Zt*.8,_y=Zt*.2,kt=Zt*.95,Uo=30,_g=10,Ey=10,wy=.5,Pt=30,_i=Pt*.75,Eg=50,Ay=20,Ty=Mo*.8,Iy=.7,Cy=16,Ei=40,wc=16,Ry=72/3,tp=24,Py=1.25,ky=1.5,Ua=Zt*.6,Ac=50,Ny=1,Oy=350,wg=Mo*.65,Dy=80,My=50,Uy=1,Ly=128,Ag=10,np=100,Fy=35,La=Pt,Tg=.5,Ig=2.5,By=5,Hy=.5,xy=1.5,Gy=.1,zy=.5,Wy=1.5,jy=.25,$y=2.5,Yy=45,Vy=.05,wa=5,Xy=.5,Ky=100,Qy=300,Cg=30,Lo=.5,rp=Zt*.6,Zy=Zt*.25,qy=Zt*.7,Jy=Zt*.8,by=100,eS=2,tS=400,nS=1e3,rS=Zt*.85,iS=100,oS=3,sS=96,aS=24,lS=600,Rg=600,uS=1,cS=24,dS=1,fS=.5,ip=40,hS=.35,pS=24,op=500,gS=1.2,mS=10,Aa=10,Pg=250,kg=.15,Ng=200,yn=30,Tc=yn*.6,Ic="#4CAF50",Og="#FF5722",Dg="#9C27B0",vS="#2196F3",Mg="#FFC107",yS="#FFD700",Ug="#DC143C",SS="#FFFFFF",_S=[5,5],Lg=5,sp=20,ES=20,wS=16,AS=10,TS=16,IS=16,ap=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],lp=8,CS="#FFFFFF",ar=18,Ct=15,RS="rgba(0, 0, 0, 0.7)",PS=4,nr=150,Lt=15,Nn=10,hi="#555",kS="#f44336",NS="#4CAF50",OS="#2196F3",DS="#FFC107",ta=16,MS=9,Pr=32,na=28,US=10,LS=8,FS=8,BS=8,ra=28,ia=40,HS="rgba(255, 215, 0, 0.7)",xS="rgba(0, 0, 0, 0.3)",rr=10,up=8,Fu=11,ir=20,Bu=40,cp=5,GS=10,zS="#FFA500",WS="#808080",To=120,jS=30,$S=20,Io="#2d3748",Co="#ffffff",Ro="#4a5568",YS=5,VS="#3a4458",XS="rgba(0, 0, 0, 0.8)",KS="#FFFFFF",dp=14,fp=8,hp=-15,QS=60,ZS=-50,qS=10,Hu=12,pp=10,JS="rgba(0, 0, 0, 0.5)",bS="#4CAF50",e1="#F44336",t1="#FFC107",n1="rgba(255, 255, 255, 0.2)",gp="#FFFFFF",r1="#FF6B6B",i1=5,Fg=30,po=50,oa=8,mp=10,o1="rgba(0, 0, 0, 0.5)",s1="#FFFFFF",a1=33,l1=400,u1=20,c1=10,d1="rgba(0, 0, 0, 0.7)",f1="#FFFFFF",xu=20,vp=16,h1=.5,yp=5,Bg="#FFD700",p1=40,g1=4,m1=3,v1=5,Kt=1,So=3,y1=70,Sp=600,S1=1.5,Hg=.1,_1=15,E1=5e3,On=80,_p=10;function pt(n,i,o,a,c){const u={id:n.nextVisualEffectId,type:i,position:o,startTime:n.time,duration:a,entityId:c};return n.visualEffects.push(u),n.nextVisualEffectId++,u.id}var Ee=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n))(Ee||{}),fr=(n=>(n.Berry="berry",n.Meat="meat",n))(fr||{});const xg={berry:"🍓",meat:"🥩"},w1={id:Ao,update:(n,i)=>{const{entity:o,updateContext:a}=i,c=a.deltaTime*(Vt/Xt);return o.age+=c,o.age>=o.lifespan?{nextState:Do,data:{...n,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(pt(a.gameState,Ee.BushClaimLost,o.position,Kt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=c,o.timeSinceLastBerryRegen>=gy&&o.food.length<o.maxFood&&(o.food.push({type:fr.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Or,data:{...n,enteredAt:a.gameState.time,previousState:Ao}}:{nextState:Ao,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},A1={id:Or,update:(n,i)=>{const{entity:o,updateContext:a}=i,c=a.deltaTime*(Vt/Xt);return o.age+=c,o.age>=o.lifespan?{nextState:Do,data:{...n,enteredAt:a.gameState.time,previousState:Or}}:o.food.length<o.maxFood?{nextState:Ao,data:{...n,enteredAt:a.gameState.time,previousState:Or}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(pt(a.gameState,Ee.BushClaimLost,o.position,Kt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=c,o.timeSinceLastSpreadAttempt>=ep&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=ep&&Math.random()<o.spreadChance)?{nextState:ma,data:{...n,enteredAt:a.gameState.time,previousState:Or}}:{nextState:Or,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})};function dr(n,i){return{x:n.x+i.x,y:n.y+i.y}}function T1(n,i){return{x:n.x-i.x,y:n.y-i.y}}function vn(n,i){return{x:n.x*i,y:n.y*i}}function Fo(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function qt(n){const i=Fo(n);return i===0?{x:0,y:0}:vn(n,1/i)}function Cc(n,i,o){return{x:n.x+(i.x-n.x)*o,y:n.y+(i.y-n.y)*o}}function Rc(n){if(n.length===0)return{x:0,y:0};const i=n.reduce((o,a)=>({x:o.x+a.x,y:o.y+a.y}),{x:0,y:0});return{x:i.x/n.length,y:i.y/n.length}}function Bt(n,i,o,a){let c=i.x-n.x,u=i.y-n.y;return Math.abs(c)>o/2&&(c=c-Math.sign(c)*o),Math.abs(u)>a/2&&(u=u-Math.sign(u)*a),{x:c,y:u}}function Pc(n,i,o){const a=Bt(n,i,o.width,o.height);return qt(a)}function Se(n,i,o,a){const c=Bt(n,i,o,a);return Fo(c)}function I1(n,i){return n.x*i.x+n.y*i.y}function C1(n,i){const o=I1(n,i),a=Fo(n),c=Fo(i);if(a===0||c===0)return 0;const u=Math.max(-1,Math.min(1,o/(a*c)));return Math.acos(u)}function R1(n,i,o){const a=Math.max(0,Math.min(1,o)),c={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},u={r:parseInt(i.substring(1,3),16),g:parseInt(i.substring(3,5),16),b:parseInt(i.substring(5,7),16)},f=Math.round(c.r+(u.r-c.r)*a),h=Math.round(c.g+(u.g-c.g)*a),g=Math.round(c.b+(u.b-c.b)*a),y=m=>("00"+m.toString(16)).slice(-2);return`#${y(f)}${y(h)}${y(g)}`}var Rt=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n))(Rt||{});const ac={GatherFood:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",PlantBush:"🌱",CallToAttack:"📢",TribeSplit:"🔱"};var di=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(di||{});const go={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var Xe=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n.ToggleProcreationBehavior="ToggleProcreationBehavior",n.TogglePlantingBehavior="TogglePlantingBehavior",n))(Xe||{});const Gu=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,P1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,k1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,Ep=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,N1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,O1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,D1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,M1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,U1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,L1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Le=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.GameOver=10]="GameOver",n[n.ButtonClick=11]="ButtonClick",n[n.SoundTrack1=12]="SoundTrack1",n))(Le||{});const F1=new Map([[0,Gu],[1,P1],[2,k1],[3,Ep],[4,N1],[5,O1],[6,D1],[10,M1],[11,U1],[7,Gu],[8,Gu],[9,Ep],[12,L1]]);let mo,Bo;function B1(){if(!(typeof window>"u"))return Bo}function kc(){if(!(typeof window>"u"))return!mo&&typeof window.AudioContext=="function"&&(mo=new window.AudioContext,Bo=mo.createGain(),Bo.connect(mo.destination),_o(.1,!1)),mo}function _o(n,i){Bo&&(Bo.gain.value=i?0:n/10)}const Gg=new Map;let sa=!1,wp=!1;async function H1(){if(wp||sa)return;const n=kc();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),sa=!0,console.log("Starting sound loading...");const i=[];F1.forEach((o,a)=>{const c=fetch(o).then(u=>{if(!u.ok)throw new Error(`Failed to fetch sound: ${o}`);return u.arrayBuffer()}).then(u=>n.decodeAudioData(u)).then(u=>{Gg.set(a,u)}).catch(u=>{console.error(`Error loading sound ${Le[a]} from ${o}:`,u)});i.push(c)});try{await Promise.all(i),wp=!0,sa=!1,console.log("All sounds loaded successfully.")}catch(o){sa=!1,console.error("An error occurred while loading sounds:",o)}}const Po=new Map;function Nc(n,i){const o=kc(),a=B1();if(!o||!a||a.gain.value===0&&(i==null?void 0:i.trackId)===void 0)return;o.state==="suspended"&&o.resume();const c=Gg.get(n);if(!c){console.warn(`Sound buffer not found for type: ${Le[n]}`);return}if(i!=null&&i.trackId&&Po.has(i.trackId))return;const u=o.createBufferSource();u.buffer=c,u.loop=(i==null?void 0:i.loop)??!1;const f=o.createGain(),h=o.createStereoPanner();let g=f;if(i!=null&&i.position&&(i!=null&&i.listenerPosition)&&(i!=null&&i.worldDimensions)){const y=Bt(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height),m=Se(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height);if(m>Sp)return;const S=1-Math.pow(m/Sp,S1);f.gain.value=Math.max(0,S);const A=Math.sin(y.x/m*(Math.PI/2));h.pan.value=isNaN(A)?0:A,f.connect(h),g=h}else{const y=n===Le.GameOver?.4:n===Le.SoundTrack1?1:.2;f.gain.value=y}u.connect(g),g.connect(a),u.start(0),i!=null&&i.trackId&&(Po.set(i.trackId,{sourceNode:u,gainNode:f}),u.onended=()=>{Po.delete(i.trackId)})}function Ap(n,i=1){const o=Po.get(n),a=kc();if(o&&a){const{sourceNode:c,gainNode:u}=o,f=a.currentTime;u.gain.setValueAtTime(u.gain.value,f),u.gain.linearRampToValueAtTime(0,f+i),c.stop(f+i),c.onended=null,Po.delete(n)}}function it(n,i,o){const a=gn(n.gameState);a&&Nc(i,{position:o,listenerPosition:a.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function zg(n,i){const o=[],a=n;if(i.food.length>0&&i.hunger>Ec&&o.push({type:Rt.Eat,action:"eating",key:"f"}),i.food.length<i.maxFood){const f=St(i,n,"berryBush",Pt,y=>y.food.length>0),h=St(i,n,"humanCorpse",Pt,y=>y.food.length>0);let g=null;f&&h?g=Se(i.position,f.position,n.mapDimensions.width,n.mapDimensions.height)<=Se(i.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?f:h:g=f||h,g&&o.push({type:Rt.GatherFood,action:"gathering",key:"e",targetEntity:g})}const c=St(i,n,"human",Pt,f=>{const h=f;return(h.id!==i.id&&h.gender!==i.gender&&h.isAdult&&i.isAdult&&h.hunger<kt&&i.hunger<kt&&(h.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=Ei:!i.isPregnant&&i.age<=Ei))??!1});c&&o.push({type:Rt.Procreate,action:"procreating",key:"r",targetEntity:c});const u=St(i,n,"human",La,f=>f.id!==i.id&&f.leaderId!==i.leaderId);return u&&o.push({type:Rt.Attack,action:"attacking",key:"q",targetEntity:u}),i.food.filter(f=>f.type===fr.Berry).length>=wa&&o.push({type:Rt.PlantBush,action:"planting",key:"b"}),i.leaderId===i.id&&!i.isCallingToAttack&&Uc(i.position,i.id,a,Pg).length>0&&o.push({type:Rt.CallToAttack,action:"callingToAttack",key:"v"}),Dc(i,n).canSplit&&o.push({type:Rt.TribeSplit,action:"tribeSplitting",key:"k"}),o}function Oc(n,i,o,a){const c=Math.random()*Math.PI*2,u=Math.sqrt(Math.random())*i,f={x:Math.cos(c)*u,y:Math.sin(c)*u},h=dr(n,f);return{x:(h.x%o+o)%o,y:(h.y%a+a)%a}}function Ho(n,i,o,a){const c=i,u={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},f=[...c.search.human.byRect(u),...c.search.berryBush.byRect(u),...c.search.humanCorpse.byRect(u)];for(const h of f){if(a!==void 0&&h.id===a)continue;if(Se(n,h.position,i.mapDimensions.width,i.mapDimensions.height)<o+h.radius)return!0}return!1}function Wg(n,i,o,a,c){const u=i.mapDimensions.width,f=i.mapDimensions.height;if(!Ho(n,i,a,c))return n;const h=a;for(let g=h;g<=o;g+=h){const y=Math.ceil(2*Math.PI*g/h);for(let m=0;m<y;m++){const S=m/y*2*Math.PI,A={x:Math.cos(S)*g,y:Math.sin(S)*g},R=dr(n,A),O={x:(R.x%u+u)%u,y:(R.y%f+f)%f};if(!Ho(O,i,a,c))return O}}return null}function x1(n,i){const o=St(n,i,"berryBush",void 0,c=>c.ownerId===n.id);return o?Wg(o.position,i,Ky,Cg,o.id):null}function St(n,i,o,a,c){const u=i,f=a!==void 0?a:Math.max(i.mapDimensions.width,i.mapDimensions.height),h=u.search[o].byRadius(n.position,f);let g=null,y=f;for(const m of h){if(m.id===n.id||c&&!c(m))continue;const S=Se(n.position,m.position,i.mapDimensions.width,i.mapDimensions.height);S<y&&(y=S,g=m)}return g}function jg(n,i,o,a){return i.search[o].byRadius(n,a).length}function Tp(n,i,o){return i.search.human.byRadius(n.position,o).filter(u=>{if(u.id===n.id||u.gender===n.gender||!u.isAdult||u.hunger>=kt||(u.procreationCooldown||0)>0||u.gender==="female"&&u.isPregnant)return!1;const f=u.id===n.motherId||u.id===n.fatherId,h=n.id===u.motherId||n.id===u.fatherId;return!f&&!h})}function xo(n){if(n.length===0)return;const i=n.filter(c=>c.gender==="male"),o=n.filter(c=>c.gender==="female"),a=(c,u)=>c.age!==u.age?u.age-c.age:c.id-u.id;if(i.sort(a),i.length>0)return i[0];if(o.sort(a),o.length>0)return o[0]}function gn(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Jt(n,i){const o=n,a=o.search.human.byProperty("motherId",i.id),c=o.search.human.byProperty("fatherId",i.id);return[...a,...c]}function G1(n,i){var f;const a=i.search.human.byProperty("activeAction","attacking");let c=null,u=1/0;for(const h of a){if(h.attackTargetId!==n)continue;const g=Se(h.position,((f=i.entities.entities.get(n))==null?void 0:f.position)||{x:0,y:0},i.mapDimensions.width,i.mapDimensions.height);g<u&&(c=h,u=g)}return c}function z1(n,i,o){var c;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id||n.motherId&&n.motherId===i.motherId||n.fatherId&&n.fatherId===i.fatherId||(c=n.partnerIds)!=null&&c.includes(i.id))return!0;if(n.motherId){const u=o.entities.entities.get(n.motherId);if(u&&(u.motherId===i.id||u.fatherId===i.id))return!0}if(n.fatherId){const u=o.entities.entities.get(n.fatherId);if(u&&(u.motherId===i.id||u.fatherId===i.id))return!0}if(i.motherId){const u=o.entities.entities.get(i.motherId);if(u&&(u.motherId===n.id||u.fatherId===n.id))return!0}if(i.fatherId){const u=o.entities.entities.get(i.fatherId);if(u&&(u.motherId===n.id||u.fatherId===n.id))return!0}return!1}function Ip(n,i){var u,f;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id)return!0;const o=n.motherId===i.motherId||n.fatherId===i.fatherId,a=i.motherId===n.motherId||i.fatherId===n.fatherId,c=((u=n.ancestorIds)==null?void 0:u.some(h=>i.ancestorIds.includes(h)))||((f=i.ancestorIds)==null?void 0:f.some(h=>n.ancestorIds.includes(h)));return o||a||c}function $g(n,i){const o=[];if(n.motherId){const a=i.entities.entities.get(n.motherId);a&&o.push(a)}if(n.fatherId){const a=i.entities.entities.get(n.fatherId);a&&o.push(a)}return o}function W1(n,i){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const a=i.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function j1(n,i){if(!n.isAdult&&n.fatherId){const o=i.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?W1(n,i):null}function lc(n,i){var a;const o=new Set;if(n.motherId){const c=i.entities.entities.get(n.motherId);c&&o.add(c)}if(n.fatherId){const c=i.entities.entities.get(n.fatherId);c&&o.add(c)}return(a=n.partnerIds)==null||a.forEach(c=>{const u=i.entities.entities.get(c);u&&o.add(u)}),Jt(i,n).forEach(c=>o.add(c)),Array.from(o)}let zu=0;function uc(){const n=ap[zu];return zu=(zu+1)%ap.length,n}function $1(n,i,o){const a=o.mapDimensions.width,c=o.mapDimensions.height,u=i.radius*2;for(let f=op;f<a/2;f+=50)for(let h=0;h<10;h++){const g=Oc(n,f,a,c);if(!(Se(n,g,a,c)<op)&&!Ho(g,o,u,i.id))return g}return null}function Yg(n,i){const o=new Map;function a(c){const u=Jt(i,c);for(const f of u)o.has(f.id)||(o.set(f.id,f),a(f))}return a(n),Array.from(o.values())}function Dc(n,i){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=i.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const a=xo(Jt(i,o));if(a&&a.id===n.id)return{canSplit:!1};const c=Mc(n.leaderId,i);if(c.length<ip)return{canSplit:!1};const f=Yg(n,i).length+1,h=Math.min(c.length*hS,ip);return{canSplit:f>=h,progress:f/h}}function Vg(n,i){if(!Dc(n,i).canSplit)return;const o=uc(),a=Yg(n,i);n.leaderId=n.id,n.tribeBadge=o;for(const u of a)u.leaderId=n.id,u.tribeBadge=o;it({gameState:i},Le.TribeSplit,n.position)}function Mc(n,i){return i.search.human.byProperty("leaderId",n)}function Uc(n,i,o,a){return o.search.human.byRadius(n,a).filter(u=>u.leaderId!==i&&u.id!==i)}function Y1(n,i,o){const a=o.search.human.byProperty("leaderId",n);let c=0;for(const u of a)u.attackTargetId===i&&c++;return c}function V1(n,i){var u;const o=new Map,a=Array.from(n.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(u=o.get(f.leaderId))==null||u.members.push(f));const c=Array.from(o.values()).map(f=>{const h=n.entities.entities.get(f.leaderId),g=f.members.filter(m=>m.isAdult).length,y=f.members.length-g;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:g,childCount:y,isPlayerTribe:f.leaderId===i,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return c.sort((f,h)=>f.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(f.adultCount+f.childCount)),c}function Cp(n){return n.filter(i=>i.isAdult).reduce((i,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,i+a},0)}function Xg(n){return Array.from(n.entities.entities.values()).filter(i=>i.type==="human")}function Ta(n,i){const o=Mc(n,i);if(o.length===0){const c=i.entities.entities.get(n);return c?c.position:{x:0,y:0}}const a=o.map(c=>c.position);return Rc(a)}function Rp(n,i){const a=[...lc(n,i),n].map(c=>c.position);return Rc(a)}const X1={id:ma,update:(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:c}=a,u=a.deltaTime*(Vt/Xt);if(o.age+=u,o.age>=o.lifespan)return{nextState:Do,data:{...n,enteredAt:c.time,previousState:ma}};const f=Oc(o.position,o.spreadRadius,c.mapDimensions.width,c.mapDimensions.height);return Ho(f,c,15)||Ba(c.entities,f,c.time),{nextState:Or,data:{...n,enteredAt:c.time,previousState:ma}}},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},K1={id:Do,update:n=>({nextState:Do,data:n}),onEnter:(n,i)=>(Bc(n.updateContext.gameState.entities,n.entity.id),{...i,enteredAt:n.updateContext.gameState.time})},Q1=[w1,A1,X1,K1],at="humanIdle",Nr="humanMoving",Eo="humanEating",Fa="humanGathering",Go="humanProcreating",wi="humanAttacking",va="humanPlanting",Z1={id:at,update:(n,i)=>{const{entity:o,updateContext:a}=i;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:wi,data:{...n,enteredAt:a.gameState.time,previousState:at,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=Ec?(o.debuffs=o.debuffs.filter(c=>c.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(c=>c.type!=="slow"),o.activeAction==="moving"?{nextState:Nr,data:{...n,enteredAt:a.gameState.time,previousState:at,target:o.target}}:o.activeAction==="gathering"?{nextState:Fa,data:{...n,enteredAt:a.gameState.time,previousState:at,target:o.target}}:o.activeAction==="eating"?{nextState:Eo,data:{...n,enteredAt:a.gameState.time,previousState:at}}:o.activeAction==="planting"&&o.target?{nextState:va,data:{...n,enteredAt:a.gameState.time,previousState:at,plantingSpot:o.target}}:{nextState:at,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};function Kg(n){let i=Ey;return n.hunger>=Ec&&(i*=wy),n.age>=Ty&&(i*=Iy),n.movementSlowdown&&(i*=n.movementSlowdown.modifier),i}const Wu=7.5;class q1{constructor(){je(this,"id",Nr)}update(i,o){var g;const{entity:a,updateContext:c}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:wi,data:{...i,enteredAt:c.gameState.time,previousState:Nr,attackTargetId:a.attackTargetId,attackStartTime:c.gameState.time}};if(a.activeAction!=="moving")return{nextState:at,data:{...i,enteredAt:c.gameState.time,previousState:Nr}};let u;if(typeof a.target=="object"?u=a.target:typeof a.target=="number"&&(u=(g=o.updateContext.gameState.entities.entities.get(a.target))==null?void 0:g.position),!u&&(a.direction.x!==0||a.direction.y!==0)&&(u={x:a.position.x+a.direction.x*Wu*2,y:a.position.y+a.direction.y*Wu*2}),!u)return{nextState:at,data:{...i,enteredAt:c.gameState.time,previousState:Nr}};const f=Bt(a.position,u,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return a.direction=qt(f),a.acceleration=Kg(a),Se(a.position,u,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<Wu?{nextState:at,data:{...i,enteredAt:c.gameState.time,previousState:Nr}}:{nextState:Nr,data:i}}onExit(i){const{entity:o}=i;o.acceleration=0,o.target=void 0}}const J1=new q1,b1={id:Eo,update:(n,i)=>{const{entity:o,updateContext:a}=i;return o.activeAction!=="eating"?{nextState:at,data:{...n,enteredAt:a.gameState.time,previousState:Eo}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>Uo&&(o.hunger=Math.max(0,o.hunger-Uo),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,it(a,Le.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(pt(a.gameState,Ee.Eating,o.position,Kt,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:at,data:{...n,enteredAt:a.gameState.time,previousState:Eo}}:{nextState:Eo,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};class e_{constructor(){je(this,"id",Fa)}update(i,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...i,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:i}}}const t_=new e_,n_=(n,i)=>(i.procreationEndTime=n.updateContext.gameState.time+(i.duration||2),i),r_=(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:c}=a;if(c.time<(n.procreationEndTime||0))return{nextState:Go,data:n};const u=c.entities.entities.get(n.partnerId);if(u&&u.type==="human"&&!u.isPregnant&&o.hunger<kt&&u.hunger<kt&&!o.procreationCooldown&&!u.procreationCooldown){const f=o.gender==="female"?o:u.gender==="female"?u:void 0,h=o.gender==="male"?o:u.gender==="male"?u:void 0;f&&h&&(f.isPregnant=!0,f.gestationTime=Ry,f.fatherId=h.id,o.procreationCooldown=tp,u.procreationCooldown=tp,it(a,Le.Procreate,f.position))}return o.activeAction="idle",u&&(u.activeAction="idle"),{nextState:at,data:{...n,enteredAt:c.time,previousState:Go}}},i_={id:Go,onEnter:n_,update:r_},o_={id:wi,onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,i)=>{if(i.entity.activeAction!=="attacking"||!i.entity.attackTargetId)return i.entity.activeAction="idle",{nextState:at,data:{...n}};const o=i.updateContext.gameState.entities.entities.get(i.entity.attackTargetId);if(!o||o.type!=="human")return i.entity.activeAction="idle",{nextState:at,data:{...n}};const a=Se(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height),c=Bt(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height);return i.entity.direction=qt(c),a>La?i.entity.acceleration=Kg(i.entity):i.entity.acceleration=0,{nextState:wi,data:n}}},s_={id:va,update:(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:c}=a;if(c.time-n.enteredAt>=Xy){if(o.food.filter(h=>h.type===fr.Berry).length>=wa){for(let h=0;h<wa;h++){const g=o.food.findIndex(y=>y.type===fr.Berry);g>-1&&o.food.splice(g,1)}Ba(c.entities,n.plantingSpot,c.time)}return{nextState:at,data:{...n,enteredAt:c.time,previousState:va}}}return{nextState:va,data:n}},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})},a_=[Z1,J1,b1,t_,i_,o_,s_],Pp=[...Q1,...a_];function l_(n,i,o){const a=cy(n,Pp);if(!a)return fy(n),[n,i];const{nextState:c,data:u}=a.update(i,o);return dy(n,c)?[c,uy(a,c,u,o,Pp)]:[c,u]}function u_(n,i,o){const{gameState:a}=i,c=o*(Vt/Xt);if(n.isAdult=n.age>=wc,n.isCallingToAttack&&n.callToAttackEndTime&&a.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.movementSlowdown&&a.time>n.movementSlowdown.endTime&&(n.movementSlowdown=void 0),n.hitpoints<n.maxHitpoints){const f=1-n.hunger/100*zy,h=Gy*f*c;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(ho/(Vt/Xt)),n.hunger>y1&&(!n.lastHungerEffectTime||a.time-n.lastHungerEffectTime>So*2)&&(pt(a,Ee.Hunger,n.position,So,n.id),n.lastHungerEffectTime=a.time),n.age+=o/Sg,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=c,n.hunger+=o*((ho*Py-ho)/(Vt/Xt)),(!n.lastPregnantEffectTime||a.time-n.lastPregnantEffectTime>So*3)&&(pt(a,Ee.Pregnant,n.position,So,n.id),n.lastPregnantEffectTime=a.time),n.gestationTime<=0&&(L_(n,n.fatherId,i),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=c,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=c,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=c,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=c,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=c,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===Tc&&(n.radius=yn):n.hunger+=o*((ho*ky-ho)/(Vt/Xt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const f=[];if(n.motherId){const h=a.entities.entities.get(n.motherId);h&&f.push(h)}if(n.fatherId){const h=a.entities.entities.get(n.fatherId);h&&f.push(h)}for(const h of f)if(h.age>=wg&&h.hunger>=Dy&&Se(n.position,h.position,a.mapDimensions.width,a.mapDimensions.height)<=My){n.food.pop(),h.hunger=Math.max(0,h.hunger-Uo),n.feedParentCooldownTime=Uy;break}}let u;if(n.hitpoints<=0?u="killed":n.hunger>=Zt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Uo)):u="hunger":n.age>=n.maxAge&&(u="oldAge"),u){if(n.leaderId===n.id){const f=xo(Jt(a,n));f?(f.leaderId=f.id,f.tribeBadge=n.tribeBadge,a.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const g=h;g.leaderId=f.id}})):a.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const g=h;g.leaderId=void 0,g.tribeBadge=void 0}})}if(n.isPlayer){const f=xo(Jt(a,n));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=u)}U_(a.entities,n.position,n.gender,n.age,n.radius,n.id,a.time,n.food,n.hunger),Bc(a.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function c_(n,i){const o=i.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/Ly);const a=Math.floor(Ag*(1-n.decayProgress));n.food.length>a&&n.food.splice(a),n.decayProgress>=1&&n.food.length<=0&&Bc(i.gameState.entities,n.id)}var Lc=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(Lc||{});function d_(n,i){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;i.gameState.time-o>=Lo&&(n.aiBehaviorTree.execute(n,i,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",i.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function f_(n,i){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(i.gameState.time),n.aiType){case Lc.BehaviorTreeBased:default:d_(n,i);break}}function h_(n,i){n.forces.push(vn(n.velocity,-.1));const o=vn(qt(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(a=>{i.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(n.velocity=vn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(a=>i.gameState.time-a.startTime<a.duration),n.velocity=dr(n.velocity,n.forces.reduce(dr,{x:0,y:0})),Fo(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=dr(n.position,vn(n.velocity,i.deltaTime)),n.position.x=(n.position.x%i.gameState.mapDimensions.width+i.gameState.mapDimensions.width)%i.gameState.mapDimensions.width,n.position.y=(n.position.y%i.gameState.mapDimensions.height+i.gameState.mapDimensions.height)%i.gameState.mapDimensions.height,n.forces=[],n.type==="human"?u_(n,i,i.deltaTime):n.type==="humanCorpse"&&c_(n,i),n.type==="human"&&(!n.isPlayer||i.gameState.autopilotControls.isActive)&&f_(n,i),n.stateMachine&&(n.stateMachine=l_(...n.stateMachine,{entity:n,updateContext:i}))}var H=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(H||{});function Ai(n){return Array.isArray(n)?n:[n,""]}class Ke{constructor(i,o,a=0){je(this,"name");je(this,"lastStatus");je(this,"depth");this.children=i,this.name=o,this.depth=a,this.children.forEach(c=>{c.depth=(this.depth??0)+1})}execute(i,o,a){for(const c of this.children){const[u,f]=Ai(c.execute(i,o,a));if(u!==H.SUCCESS)return this.lastStatus=u,this.name&&a.recordNodeExecution(this.name,u,o.gameState.time,this.depth,f),u}return this.lastStatus=H.SUCCESS,this.name&&a.recordNodeExecution(this.name,H.SUCCESS,o.gameState.time,this.depth,""),H.SUCCESS}}class Ii{constructor(i,o,a=0){je(this,"name");je(this,"lastStatus");je(this,"depth");je(this,"runningChildIndex");this.children=i,this.name=o,this.depth=a,this.children.forEach(c=>{c.depth=(this.depth??0)+1})}execute(i,o,a){const c=this.runningChildIndex??0;for(let u=c;u<this.children.length;u++){const f=this.children[u],[h,g]=Ai(f.execute(i,o,a));if(h!==H.FAILURE){if(h===H.SUCCESS)return delete this.runningChildIndex,this.lastStatus=H.SUCCESS,this.name&&a.recordNodeExecution(this.name,H.SUCCESS,o.gameState.time,this.depth,g),H.SUCCESS;if(h===H.RUNNING)return this.runningChildIndex=u,this.lastStatus=H.RUNNING,this.name&&a.recordNodeExecution(this.name,H.RUNNING,o.gameState.time,this.depth,g),H.RUNNING}}return delete this.runningChildIndex,this.lastStatus=H.FAILURE,this.name&&a.recordNodeExecution(this.name,H.FAILURE,o.gameState.time,this.depth,""),H.FAILURE}}class Fe{constructor(i,o,a=0){je(this,"name");je(this,"lastStatus");je(this,"depth");this.action=i,this.name=o,this.depth=a}execute(i,o,a){const[c,u]=Ai(this.action(i,o,a));return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,u),c}}class Pe{constructor(i,o,a=0){je(this,"name");je(this,"lastStatus");je(this,"depth");this.condition=i,this.name=o,this.depth=a}execute(i,o,a){let[c,u]=Ai(this.condition(i,o,a));const f=c?H.SUCCESS:H.FAILURE;return this.lastStatus=f,this.name&&a.recordNodeExecution(this.name,f,o.gameState.time,this.depth,u),f}}class Ci{constructor(i,o,a,c=0){je(this,"name");je(this,"lastStatus");je(this,"depth");je(this,"cooldownKey");this.cooldownDurationHours=i,this.child=o,this.name=a,this.depth=c,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(i,o,a){const c=o.gameState.time,u=a.get(this.cooldownKey);if(this.child.lastStatus===H.RUNNING){const[g,y]=Ai(this.child.execute(i,o,a));if(this.lastStatus=g,this.name){const m=`Continuing running child. ${y}`;a.recordNodeExecution(this.name,this.lastStatus,c,this.depth,m)}return this.lastStatus}if(u!==void 0&&c<u){const y=`Cooldown active, ${(u-c).toFixed(2)}h left`;return this.lastStatus=H.FAILURE,this.name&&a.recordNodeExecution(this.name,this.lastStatus,c,this.depth,y),this.lastStatus}const[f,h]=Ai(this.child.execute(i,o,a));return(f===H.SUCCESS||f===H.RUNNING)&&a.set(this.cooldownKey,c+this.cooldownDurationHours),this.lastStatus=f,this.name&&a.recordNodeExecution(this.name,this.lastStatus,c,this.depth,h),this.lastStatus}}function p_(n){return new Ke([new Pe((i,o)=>{const a=i.hunger>=rp,c=i.food.length>0,u=!i.eatingCooldownTime||o.gameState.time>=i.eatingCooldownTime;return[!!(i.isAdult&&a&&c&&u),`${Math.floor(i.hunger-rp)}, ${i.food.length}, ${i.eatingCooldownTime?Math.floor(i.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new Fe(i=>(i.direction={x:0,y:0},i.target=void 0,i.activeAction="eating",H.RUNNING),"Eat",n+1)],"Eating",n)}function g_(n){return new Ke([new Pe((i,o,a)=>{if(i.isAdult&&i.hitpoints>i.maxHitpoints*kg||i.isAdult&&i.hunger>rS)return!1;const c=G1(i.id,o.gameState);return c?(a.set("fleeThreat",c),!0):!1},"Should Flee",n+1),new Fe((i,o,a)=>{const c=a.get("fleeThreat");if(!c)return H.FAILURE;i.activeAction="moving";const u=Bt(c.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=qt(u),h=dr(i.position,vn(f,Ng));return i.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},i.direction=f,H.RUNNING},"Execute Flee",n+1)],"Flee",n)}const aa="foodSource";function m_(n){const i=new Fe((a,c,u)=>{const f=St(a,c.gameState,"berryBush",void 0,y=>y.food.length>0),h=St(a,c.gameState,"humanCorpse",void 0,y=>y.food.length>0);let g=null;if(f&&h){const y=Se(a.position,f.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height),m=Se(a.position,h.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height);g=y<=m?f:h}else g=f||h;return g?(u.set(aa,g),[H.SUCCESS,`Found food: ${g.type} at ${g.position.x.toFixed(0)},${g.position.y.toFixed(0)}`]):[H.FAILURE,"No food source found"]},"Find Closest Food Source",n+4),o=new Fe((a,c,u)=>{const f=u.get(aa);return!f||f.food.length===0?(u.delete(aa),[H.FAILURE,"Food source is invalid or depleted"]):Se(a.position,f.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<_i?(a.activeAction="gathering",a.direction={x:0,y:0},a.target=f.id,[H.SUCCESS,`Gathering from ${f.type}`]):(a.activeAction="moving",a.target=f.id,a.direction=Pc(a.position,f.position,c.gameState.mapDimensions),[H.RUNNING,`Moving to ${f.type}`])},"Move To Food and Gather",n+3);return new Ke([new Pe((a,c)=>{const u=a.food.length<a.maxFood,f=a.hunger>Zy,h=Jt(c.gameState,a).filter(g=>g.hunger>Ua);return[(a.isAdult&&u&&(f||h.length>0))??!1,`${f?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",n+1),new Ii([new Ke([new Pe((a,c,u)=>u.has(aa),"Has Food Source?",n+2),o],"Continue Gathering Action",n+2),new Ke([new Ci(fS,i,"Find Food Source Cooldown",n+3),o],"Find New Food Source and Gather",n+2)],"Perform or Start Gathering",n+1)],"Gather Food",n)}function v_(n){return new Fe((i,o,a)=>(i.activeAction="idle",i.direction={x:0,y:0},i.target=void 0,a.set("wanderTarget",void 0),H.SUCCESS),"Idle",n)}const kp=n=>n.find(i=>(i.procreationCooldown||0)<=0&&i.hunger<kt&&(i.gender==="female"?!i.isPregnant&&i.age<=Ei:!0));function y_(n){const i=new Pe((u,f,h)=>{const g=Tp(u,f.gameState,_i),y=kp(g);return y?(h.set("procreationPartner",y),!0):!1},"Find Immediate Partner"),o=new Fe((u,f,h)=>{var y;const g=h.get("procreationPartner");return g?(u.activeAction="procreating",u.target=void 0,(y=u.partnerIds)!=null&&y.includes(g.id)||(u.partnerIds=u.partnerIds?[...u.partnerIds,g.id]:[g.id]),H.SUCCESS):H.FAILURE},"Start Procreating"),a=new Pe((u,f,h)=>{const g=Tp(u,f.gameState,nS),y=kp(g);return y?(h.set("procreationPartner",y),!0):!1},"Locate Distant Partner"),c=new Fe((u,f,h)=>{const g=h.get("procreationPartner");if(!g)return H.FAILURE;if(Se(u.position,g.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height)<_i)return H.SUCCESS;u.activeAction="moving",u.target=g.id;const m=Bt(u.position,g.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height);return u.direction=qt(m),H.RUNNING},"Move Towards Partner");return new Ke([new Pe((u,f)=>!u.isPlayer||f.gameState.autopilotControls.behaviors.procreation),new Pe(u=>!(!u.isAdult||u.gender==="female"&&u.isPregnant||u.age<Cy||u.gender==="female"&&u.age>Ei),"Is Fertile (age, not pregnant)",n+1),new Pe(u=>u.hunger<kt,"Is Healthy (hunger)",n+1),new Pe(u=>(u.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new Pe((u,f)=>jg(u.position,f.gameState,"berryBush",tS)>=eS,"Is Environment Viable (food)",n+1),new Ii([new Ke([i,o],"Procreate With Immediate Partner",n+2),new Ci(uS,new Ke([a,c],"Seek Distant Partner Action",n+3),"Seek Distant Partner Cooldown",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const li="attackTarget",kr="homeCenter",ju=150;function S_(n,i,o){let a,c=1/0;for(const u of Object.values(n.entities.entities))if(u.type==="human"&&u.id!==i.id&&u.hitpoints>0&&u.leaderId!==i.leaderId){const f=Se(i.position,u.position,n.mapDimensions.width,n.mapDimensions.height);f<o&&f<c&&(c=f,a=u)}return a}function __(n){return new Ke([new Pe((i,o,a)=>{const{gameState:c}=o;if(i.activeAction==="attacking"&&i.attackTargetId){const f=c.entities.entities.get(i.attackTargetId);if(f&&f.hitpoints>0&&Se(i.position,f.position,c.mapDimensions.width,c.mapDimensions.height)<=ju){if(a.set(li,f),!a.get(kr)){const h=i.leaderId?Ta(i.leaderId,c):lc(i,c).length>0?Rp(i,c):i.position;a.set(kr,h)}return!0}}const u=S_(c,i,ju);if(u){a.set(li,u);const f=i.leaderId?Ta(i.leaderId,c):lc(i,c).length>0?Rp(i,c):i.position;return a.set(kr,f),!0}return a.set(li,void 0),a.set(kr,void 0),!1},"Find Attack Target",n+1),new Fe((i,o,a)=>{const c=a.get(li),u=a.get(kr);if(!c||!u)return H.FAILURE;const{gameState:f}=o;return Se(i.position,u,f.mapDimensions.width,f.mapDimensions.height)>Rg?(i.activeAction="idle",i.attackTargetId=void 0,a.set(li,void 0),a.set(kr,void 0),H.FAILURE):c.hitpoints<=0||Se(i.position,c.position,f.mapDimensions.width,f.mapDimensions.height)>ju?(i.activeAction==="attacking"&&(i.activeAction="idle",i.attackTargetId=void 0),a.set(li,void 0),a.set(kr,void 0),H.SUCCESS):(i.activeAction==="attacking"&&i.attackTargetId===c.id||(i.activeAction="attacking",i.attackTargetId=c.id),H.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const E_=(n,i,o)=>{const a=Jt(i.gameState,n).filter(f=>!f.isAdult);if(a.length===0)return H.FAILURE;let c=null,u=Ua;for(const f of a)f.hunger>=u&&(u=f.hunger,c=f);return c?(o.set("targetChild",c),H.SUCCESS):H.FAILURE},w_=(n,i,o)=>{const a=o.get("targetChild");return a?Se(n.position,a.position,i.gameState.mapDimensions.width,i.gameState.mapDimensions.height)>Ac?(n.activeAction="moving",n.target=a.id,n.direction=Pc(n.position,a.position,i.gameState.mapDimensions),H.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),H.SUCCESS):H.FAILURE};function A_(n){return new Ke([new Pe(i=>(i.isAdult&&i.food.length>0&&(!i.feedChildCooldownTime||i.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new Fe(E_,"Find Hungriest Child",n+1),new Fe(w_,"Move To Child and Feed",n+1)],"Feed Child",n)}function T_(n){return new Ke([new Pe(i=>!i.isAdult&&i.hunger>=Ua,"Is Hungry Child",n+1),new Fe((i,o,a)=>{const c=$g(i,o.gameState);if(c.length===0)return H.FAILURE;const u=St(i,o.gameState,"human",Oy,f=>c.some(h=>h.id===f.id)&&f.food.length>0);return u?(a.set("targetParent",u),H.SUCCESS):H.FAILURE},"Find Parent With Food",n+1),new Fe((i,o,a)=>{const c=a.get("targetParent");if(!c)return H.FAILURE;const u=Se(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.activeAction="idle",u<=Ac?(i.target=void 0,H.SUCCESS):(i.target=c.id,i.activeAction="moving",H.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}const la="plantingSpot";function I_(n){const i=new Fe((a,c,u)=>{const f=u.get(la);return!f||Ho(f,c.gameState,Cg,a.id)?(u.delete(la),[H.FAILURE,"Planting spot is invalid or now occupied"]):Se(a.position,f,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)>_i?(a.activeAction="moving",a.target=f,a.direction=Pc(a.position,f,c.gameState.mapDimensions),[H.RUNNING,"Moving to planting spot"]):(a.activeAction="planting",a.target=f,[H.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",n+3),o=new Fe((a,c,u)=>{const f=x1(a,c.gameState);return f?(u.set(la,f),[H.SUCCESS,`Found new spot at ${f.x.toFixed(0)}, ${f.y.toFixed(0)}`]):[H.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",n+3);return new Ke([new Pe((a,c)=>!a.isPlayer||c.gameState.autopilotControls.behaviors.planting),new Pe(a=>{const c=a.food.filter(f=>f.type===fr.Berry).length>=wa,u=a.hunger<qy;return(a.isAdult&&c&&u)??!1},"Can Plant",n+1),new Pe((a,c)=>{const u=jg(a.position,c.gameState,"berryBush",Qy),f=Jt(c.gameState,a);return!(f.length===0||u>=f.length*2)},"Has Not Enough Nearby Bushes",n+1),new Ii([new Ke([new Pe((a,c,u)=>u.has(la),"Has Planting Spot?",n+2),i],"Continue Planting Action",n+2),new Ci(dS,o,"Find Planting Spot Cooldown",n+2)],"Perform or Start Planting",n+1)],"Plant Bush",n)}const $u="enemiesNearby";function C_(n){const i=new Pe(u=>u.id===u.leaderId,"Is Leader?",n+1),o=new Pe(u=>!u.isCallingToAttack,"Is Not Already Calling?",n+1),a=new Fe((u,f,h)=>{const g=Uc(u.position,u.id,f.gameState,Pg);return g.length>0?(h.set($u,g),H.SUCCESS):H.FAILURE},"Find Nearby Enemies",n+1),c=new Ii([new Ke([new Pe((u,f,h)=>{const g=h.get($u);if(!g||g.length===0)return!1;const y=Mc(u.id,f.gameState),m=Cp(y),S=Cp(g);return m>S*gS},"Is Strong Enough?",n+3),new Fe((u,f)=>(u.isCallingToAttack=!0,u.callToAttackEndTime=f.gameState.time+Aa,pt(f.gameState,Ee.CallToAttack,u.position,Aa),it(f,Le.CallToAttack,u.position),u.activeAction="idle",u.target=void 0,H.SUCCESS),"Issue Call to Attack",n+3)],"Attack",n+2),new Fe((u,f,h)=>{const g=h.get($u);if(!g||g.length===0)return H.FAILURE;const y=g.map(O=>O.position),m=Rc(y),S=Bt(m,u.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height),A=qt(S),R=dr(u.position,vn(A,Ng*2));return u.activeAction="moving",u.target={x:(R.x%f.gameState.mapDimensions.width+f.gameState.mapDimensions.width)%f.gameState.mapDimensions.width,y:(R.y%f.gameState.mapDimensions.height+f.gameState.mapDimensions.height)%f.gameState.mapDimensions.height},u.direction=A,H.SUCCESS},"Retreat",n+2)],"Attack or Retreat",n+2);return new Ke([i,o,a,new Ci(mS,c,"Leader Combat Cooldown",n+1)],"Leader Combat Strategy",n)}const Yu="combatTarget",Vu="homeCenter";function R_(n){const i=new Pe(f=>f.isAdult&&f.leaderId?f.id!==f.leaderId:!1,"Is Tribe Follower?",n+1),o=new Pe(f=>f.hunger<Jy&&f.hitpoints>=f.maxHitpoints*kg,"Is Fit for Combat?",n+1),a=new Pe((f,h)=>{const g=h.gameState.entities.entities.get(f.leaderId);return!!(g!=null&&g.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),c=new Fe((f,h,g)=>{const{gameState:y}=h,m=y.entities.entities.get(f.leaderId);if(!m)return H.FAILURE;const S=Uc(m.position,m.id,y,iS);if(S.length===0)return H.FAILURE;S.sort((A,R)=>{const O=Se(f.position,A.position,y.mapDimensions.width,y.mapDimensions.height),N=Se(f.position,R.position,y.mapDimensions.width,y.mapDimensions.height);return O-N});for(const A of S)if(Y1(m.id,A.id,y)<oS){g.set(Yu,A);const O=Ta(m.id,y);return g.set(Vu,O),H.SUCCESS}return H.FAILURE},"Find Best Target",n+1),u=new Fe((f,h,g)=>{const y=g.get(Yu),m=g.get(Vu);if(!y||!m)return H.FAILURE;const{gameState:S}=h;return Se(f.position,m,S.mapDimensions.width,S.mapDimensions.height)>Rg?(f.activeAction==="attacking"&&f.attackTargetId===y.id&&(f.activeAction="idle",f.attackTargetId=void 0),g.set(Yu,void 0),g.set(Vu,void 0),H.FAILURE):((!f.lastTargetAcquiredEffectTime||h.gameState.time-f.lastTargetAcquiredEffectTime>Kt*5)&&(pt(h.gameState,Ee.TargetAcquired,f.position,Kt,f.id),f.lastTargetAcquiredEffectTime=h.gameState.time),f.activeAction="attacking",f.attackTargetId=y.id,f.target=void 0,H.RUNNING)},"Attack Target",n+1);return new Ke([i,o,a,c,u],"Tribe Member Combat",n)}function P_(n){const i=new Pe((m,S)=>{if(!m.isAdult||m.gender!=="male")return!1;const A=m.partnerIds&&m.partnerIds.length>0,R=Jt(S.gameState,m).length>0;return A||R},"Is Adult Male With Family?",n+1),o=new Pe((m,S)=>{const A=$g(m,S.gameState);if(A.length===0)return!1;for(const R of A)if(Se(m.position,R.position,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<lS)return!0;return!1},"Is Too Close To Parents?",n+1),a=new Pe((m,S,A)=>A.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),c=new Fe((m,S,A)=>{const R=A.get("territoryMoveTarget"),O=A.get("territoryMoveStartTime");if(!R||!O)return[H.FAILURE,"Missing move data"];if(S.gameState.time-O>sS)return A.delete("territoryMoveTarget"),A.delete("territoryMoveStartTime"),[H.FAILURE,"Territory move timed out"];if(Se(m.position,R,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<_i)return A.delete("territoryMoveTarget"),A.delete("territoryMoveStartTime"),[H.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const M=Bt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=qt(M),[H.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),u=new Ke([a,c],"Handle In-Progress Move",n+2),f=new Pe((m,S,A)=>A.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+4),h=new Fe((m,S,A)=>{const R=Oc(m.position,S.gameState.mapDimensions.width/4,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);A.set("territoryMoveTarget",R),A.set("territoryMoveStartTime",S.gameState.time),m.activeAction="moving",m.target=R;const O=Bt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=qt(O),[H.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+4),g=new Ke([f,h],"Start New Territory Move Action",n+3),y=new Ii([u,new Ci(cS,g,"Establish Territory Cooldown",n+2)],"Establish or Continue Move",n+1);return new Ke([i,o,y],"Establish Family Territory",n)}function k_(n){return new Ke([new Fe((i,o,a)=>{const c=j1(i,o.gameState);return c?(a.set("patriarchTarget",c),[H.SUCCESS,`Found patriarch: ${c.id}`]):(a.delete("patriarchTarget"),[H.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new Fe((i,o,a)=>{const c=a.get("patriarchTarget");if(!c)return[H.FAILURE,"Patriarch target missing from blackboard"];const u=Se(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(u>by){i.activeAction="moving",i.target=c.id;const f=Bt(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.direction=qt(f),[H.RUNNING,`Moving to patriarch at ${u.toFixed(0)}`]}return i.activeAction="idle",i.target=void 0,i.direction={x:0,y:0},[H.SUCCESS,`Arrived at patriarch at ${u.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}const Xu="tribeSplitMigrationTarget";function N_(n){const i=new Ke([new Pe((o,a)=>{const{canSplit:c,progress:u}=Dc(o,a.gameState);return c?[!0,`Progress: ${(u??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",n+2),new Fe((o,a,c)=>{const{gameState:u}=a;let f=c.get(Xu);if(!f){if(!o.leaderId)return H.FAILURE;const g=Ta(o.leaderId,u),y=$1(g,o,u);if(y)c.set(Xu,y),o.activeAction="moving",o.target=y,f=y;else return H.FAILURE}return Se(o.position,f,u.mapDimensions.width,u.mapDimensions.height)<_i?(c.delete(Xu),o.activeAction="idle",o.target=void 0,H.SUCCESS):H.RUNNING},"Move to New Territory",n+2),new Fe((o,a)=>(Vg(o,a.gameState),H.SUCCESS),"Perform Tribe Split",n+2)],"Tribe Split Action",n+1);return new Ci(pS,i,"Tribe Split Cooldown",n)}function O_(){return new Ii([g_(1),C_(1),R_(1),__(1),p_(1),m_(1),A_(1),T_(1),I_(1),y_(1),N_(1),P_(1),k_(1),v_(1)],"Human Behavior",0)}class D_{constructor(){je(this,"data",new Map);je(this,"nodeExecutionData",new Map)}set(i,o){this.data.set(i,o)}get(i){return this.data.get(i)}delete(i){this.data.delete(i)}has(i){return this.data.has(i)}recordNodeExecution(i,o,a,c,u){const f=this.nodeExecutionData.get(i)||{lastExecuted:0,status:H.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=f.executionHistory[f.executionHistory.length-1];h&&a-(h==null?void 0:h.time)>Lo&&f.executionHistory.push({time:h.time+Lo,status:H.NOT_EVALUATED}),f.executionHistory.push({time:a,status:o});const g=Fg/Xt*Vt,y=a-g;f.executionHistory=f.executionHistory.filter(S=>S.time>=y);const m={...f,lastExecuted:a,status:o,depth:c,debugInfo:u};this.nodeExecutionData.set(i,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(i){const o=aS,a=[];for(const[c,u]of this.nodeExecutionData.entries())i-u.lastExecuted>o&&a.push(c);for(const c of a)this.nodeExecutionData.delete(c)}}function M_(n){n.gameState.entities.entities.forEach(o=>{h_(o,n)})}function Qg(){return{entities:new Map,nextEntityId:1}}function Fc(n,i,o){const a={id:n.nextEntityId++,type:i,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(a.id,a),a}function Ba(n,i,o){return Fc(n,"berryBush",{position:i,radius:sc,food:Array.from({length:py},()=>({type:fr.Berry})).map(c=>({...c,id:n.nextEntityId++})),maxFood:hy,lifespan:my,age:0,spreadChance:vy,spreadRadius:sc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Ao,{enteredAt:o,previousState:void 0}]})}function Ia(n,i,o,a,c=!1,u=Ay,f=Eg,h,g,y=[],m,S){const A=u>=wc;return Fc(n,"human",{position:i,radius:A?yn:Tc,hunger:f,hitpoints:np,maxHitpoints:np,age:u,gender:a,isPlayer:c,food:[],maxFood:_g,maxAge:Mo,isAdult:A,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:g,ancestorIds:y,stateMachine:[at,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:S,aiType:Lc.BehaviorTreeBased,aiBehaviorTree:O_(),aiBlackboard:new D_})}function U_(n,i,o,a,c,u,f,h,g){return Fc(n,"humanCorpse",{position:i,radius:c,gender:o,age:a,originalHumanId:u,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(Ag*Math.max(kt-g,0)/kt,1)},()=>({type:fr.Meat})),...h].map(m=>({...m,id:n.nextEntityId++})),stateMachine:void 0})}function L_(n,i,o){const a=i?o.gameState.entities.entities.get(i):void 0,c=[...n.ancestorIds||[],n.id],u=a?[...a.ancestorIds||[],a.id]:[],f=[...c,...u],h=[...new Set(f)],g=h.slice(Math.max(h.length-Sy,0)),y=Math.random()<.5?"male":"female",m=dr(n.position,{x:5,y:5}),S=Ia(o.gameState.entities,m,o.gameState.time,y,!1,0,Eg/2,n.id,i,g,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return it(o,Le.Birth,n.position),S}function Bc(n,i){return n.entities.get(i)?(n.entities.delete(i),!0):!1}class F_{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(i,o){let a=this.length++;for(;a>0;){const c=a-1>>1,u=this.values[c];if(o>=u)break;this.ids[a]=this.ids[c],this.values[a]=u,a=c}this.ids[a]=i,this.values[a]=o}pop(){if(this.length===0)return;const i=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],c=this.length>>1;let u=0;for(;u<c;){let f=(u<<1)+1;const h=f+1;let g=this.ids[f],y=this.values[f];const m=this.values[h];if(h<this.length&&m<y&&(f=h,g=this.ids[h],y=m),y>=a)break;this.ids[u]=g,this.values[u]=y,u=f}this.ids[u]=o,this.values[u]=a}return i}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Np=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ku=3;class Hc{static from(i,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!i||i.byteLength===void 0||i.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,c]=new Uint8Array(i,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const u=c>>4;if(u!==Ku)throw new Error(`Got v${u} data when expected v${Ku}.`);const f=Np[c&15];if(!f)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(i,o+2,1),[g]=new Uint32Array(i,o+4,1);return new Hc(g,h,f,void 0,i,o)}constructor(i,o=16,a=Float64Array,c=ArrayBuffer,u,f=0){if(i===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(i)||i<=0)throw new Error(`Unexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let h=i,g=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),g+=h,this._levelBounds.push(g*4);while(h!==1);this.ArrayType=a,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const y=Np.indexOf(this.ArrayType),m=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(y<0)throw new Error(`Unexpected typed array class: ${a}.`);u&&u.byteLength!==void 0&&!u.buffer?(this.data=u,this._boxes=new this.ArrayType(this.data,f+8,g*4),this._indices=new this.IndexArrayType(this.data,f+8+m,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new c(8+m+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+m,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Ku<<4)+y]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=i),this._queue=new F_}add(i,o,a=i,c=o){const u=this._pos>>2,f=this._boxes;return this._indices[u]=u,f[this._pos++]=i,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=c,i<this.minX&&(this.minX=i),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),c>this.maxY&&(this.maxY=c),u}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const i=this._boxes;if(this.numItems<=this.nodeSize){i[this._pos++]=this.minX,i[this._pos++]=this.minY,i[this._pos++]=this.maxX,i[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,c=new Uint32Array(this.numItems),u=65535;for(let f=0,h=0;f<this.numItems;f++){const g=i[h++],y=i[h++],m=i[h++],S=i[h++],A=Math.floor(u*((g+m)/2-this.minX)/o),R=Math.floor(u*((y+S)/2-this.minY)/a);c[f]=H_(A,R)}cc(c,i,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,h=0;f<this._levelBounds.length-1;f++){const g=this._levelBounds[f];for(;h<g;){const y=h;let m=i[h++],S=i[h++],A=i[h++],R=i[h++];for(let O=1;O<this.nodeSize&&h<g;O++)m=Math.min(m,i[h++]),S=Math.min(S,i[h++]),A=Math.max(A,i[h++]),R=Math.max(R,i[h++]);this._indices[this._pos>>2]=y,i[this._pos++]=m,i[this._pos++]=S,i[this._pos++]=A,i[this._pos++]=R}}}search(i,o,a,c,u){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const h=[],g=[];for(;f!==void 0;){const y=Math.min(f+this.nodeSize*4,Dp(f,this._levelBounds));for(let m=f;m<y;m+=4){if(a<this._boxes[m]||c<this._boxes[m+1]||i>this._boxes[m+2]||o>this._boxes[m+3])continue;const S=this._indices[m>>2]|0;f>=this.numItems*4?h.push(S):(u===void 0||u(S))&&g.push(S)}f=h.pop()}return g}neighbors(i,o,a=1/0,c=1/0,u){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const h=this._queue,g=[],y=c*c;e:for(;f!==void 0;){const m=Math.min(f+this.nodeSize*4,Dp(f,this._levelBounds));for(let S=f;S<m;S+=4){const A=this._indices[S>>2]|0,R=Op(i,this._boxes[S],this._boxes[S+2]),O=Op(o,this._boxes[S+1],this._boxes[S+3]),N=R*R+O*O;N>y||(f>=this.numItems*4?h.push(A<<1,N):(u===void 0||u(A))&&h.push((A<<1)+1,N))}for(;h.length&&h.peek()&1;)if(h.peekValue()>y||(g.push(h.pop()>>1),g.length===a))break e;f=h.length?h.pop()>>1:void 0}return h.clear(),g}}function Op(n,i,o){return n<i?i-n:n<=o?0:n-o}function Dp(n,i){let o=0,a=i.length-1;for(;o<a;){const c=o+a>>1;i[c]>n?a=c:o=c+1}return i[o]}function cc(n,i,o,a,c,u){if(Math.floor(a/u)>=Math.floor(c/u))return;const f=n[a+c>>1];let h=a-1,g=c+1;for(;;){do h++;while(n[h]<f);do g--;while(n[g]>f);if(h>=g)break;B_(n,i,o,h,g)}cc(n,i,o,a,g,u),cc(n,i,o,g+1,c,u)}function B_(n,i,o,a,c){const u=n[a];n[a]=n[c],n[c]=u;const f=4*a,h=4*c,g=i[f],y=i[f+1],m=i[f+2],S=i[f+3];i[f]=i[h],i[f+1]=i[h+1],i[f+2]=i[h+2],i[f+3]=i[h+3],i[h]=g,i[h+1]=y,i[h+2]=m,i[h+3]=S;const A=o[a];o[a]=o[c],o[c]=A}function H_(n,i){let o=n^i,a=65535^o,c=65535^(n|i),u=n&(i^65535),f=o|a>>1,h=o>>1^o,g=c>>1^a&u>>1^c,y=o&c>>1^u>>1^u;o=f,a=h,c=g,u=y,f=o&o>>2^a&a>>2,h=o&a>>2^a&(o^a)>>2,g^=o&c>>2^a&u>>2,y^=a&c>>2^(o^a)&u>>2,o=f,a=h,c=g,u=y,f=o&o>>4^a&a>>4,h=o&a>>4^a&(o^a)>>4,g^=o&c>>4^a&u>>4,y^=a&c>>4^(o^a)&u>>4,o=f,a=h,c=g,u=y,g^=o&c>>8^a&u>>8,y^=a&c>>8^(o^a)&u>>8,o=g^g>>1,a=y^y>>1;let m=n^i,S=a|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,(S<<1|m)>>>0}function Qu(n,i){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Hc(n.length),a=new Map;for(const u of n)o.add(u.position.x,u.position.y,u.position.x,u.position.y);return o.finish(),{byRect(u){return o.search(u.left,u.top,u.right,u.bottom).map(h=>n[h])},byRadius(u,f){return o.neighbors(u.x,u.y,void 0,f).map(g=>n[g])},byProperty(u,f){var h;if(!a.has(u)){const g=new Map;for(const y of n){const m=y[u];g.has(m)||g.set(m,[]),g.get(m).push(y)}a.set(u,g)}return((h=a.get(u))==null?void 0:h.get(f))||[]},resetPropertyCache(){a.clear()}}}function xc(n){const i=Array.from(n.entities.entities.values()),o=i.filter(f=>f.type==="human"),a=i.filter(f=>f.type==="berryBush"),c=i.filter(f=>f.type==="humanCorpse");return{...n,search:{human:Qu(o),berryBush:Qu(a),humanCorpse:Qu(c)}}}var lr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(lr||{}),zo=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(zo||{}),yt=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(yt||{});const x_=[{key:lr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:lr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,i)=>i.hunger>_y,isCompleted:!1,minDisplayTime:yp,highlightedUIElements:[zo.HUNGER_BAR]},{key:lr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,i)=>!!St(i,n,"berryBush",Pt*5,a=>a.food.length>0),getTargets:(n,i)=>{const o=[];for(const a of n.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&Se(i.position,a.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:yp},{key:lr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,i)=>i.food.length>0,getTargets:(n,i)=>{const o=St(i,n,"berryBush",Pt,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:lr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,i)=>i.activeAction==="eating",isCompleted:!1,highlightedUIElements:[zo.FOOD_BAR]},{key:lr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,i)=>Jt(n,i).length>0,getTargets:(n,i)=>{const o=St(i,n,"human",Pt,a=>{const c=a;return(c.id!==i.id&&c.gender!==i.gender&&c.isAdult&&i.isAdult&&c.hunger<kt&&i.hunger<kt&&(c.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(c.gender==="female"?!c.isPregnant&&c.age<=Ei:!i.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:lr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,i)=>zg(n,i).some(a=>a.type===Rt.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function Zg(){return{steps:x_.map(n=>({...n,isCompleted:!1}))}}function qg(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:yt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function G_(n){for(let i=0;i<n.tutorial.steps.length;i++){const o=n.tutorial.steps[i];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return i}else return i}return null}function z_(n,i){const o=n.tutorialState;if(!o.isActive){o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=gn(n);if(!a){o.isActive=!1,o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=n.tutorial.steps[o.currentStepIndex];if(!c){o.isActive=!1,o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=1/h1;switch(o.transitionState){case yt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=u*i,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=yt.ACTIVE);break;case yt.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(c.minDisplayTime||0)&&c.condition(n,a)||n.autopilotControls.isActive)&&(c.isCompleted=!0,o.completedSteps.add(c.key),o.transitionState=yt.FADING_OUT);break}case yt.FADING_OUT:if(o.transitionAlpha-=u*i,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=G_(n);h!==null?(o.currentStepIndex=h,o.transitionState=yt.FADING_IN):(o.isActive=!1,o.transitionState=yt.INACTIVE)}break}o.transitionState!==yt.FADING_OUT&&o.transitionState!==yt.INACTIVE?(c.getTargets?o.highlightedEntityIds=new Set(c.getTargets(n,a)):o.highlightedEntityIds.clear(),c.highlightedUIElements?o.activeUIHighlights=new Set(c.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function W_(){const n=Qg(),i=0;for(let m=0;m<yg;m++){const S={x:Math.random()*Mr,y:Math.random()*Ur};Ba(n,S,i)}const o=Mr/2,a=Ur/2,c=Ia(n,{x:o,y:a},i,"male",!0);Ia(n,{x:o+50,y:a},i,"female",!1);const u=[{id:"autopilotButton",action:Xe.ToggleAutopilot,currentWidth:To,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Co},{id:"muteButton",action:Xe.ToggleMute,currentWidth:To,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Co},{id:"pauseButton",action:Xe.TogglePause,currentWidth:To,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Co}],f=Zg(),h=qg(),g={time:i,entities:n,mapDimensions:{width:Mr,height:Ur},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...c.position},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0}},hasPlayerMovedEver:!1,masterVolume:Hg,isMuted:!1,uiButtons:u,tutorial:f,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},y=xc(g);return console.log("Game world initialized:",y),y}function j_(){const n=Qg(),i=0;for(let u=0;u<yg;u++){const f={x:Math.random()*Mr,y:Math.random()*Ur};Ba(n,f,i)}for(let u=0;u<_1;u++){const f={x:Math.random()*Mr,y:Math.random()*Ur},h=Math.random()<.5?"male":"female";Ia(n,f,i,h,!1)}const o=Zg(),a=qg(),c={time:i,entities:n,mapDimensions:{width:Mr,height:Ur},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Mr/2,y:Ur/2},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0}},hasPlayerMovedEver:!1,masterVolume:Hg,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:a,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return xc(c)}const $_="humanProcreation",Y_="human",V_="human",X_=Pt,K_=(n,i)=>{if(n.id===i.id||n.gender===i.gender)return!1;const o=(a,c)=>a.isAdult&&a.hunger<kt&&(a.procreationCooldown||0)<=0?c?!a.isPregnant&&a.age<=Ei:!0:!1;return n.gender==="male"?!o(n,!1)||!o(i,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(i,!1)?!1:n.activeAction==="procreating"&&i.activeAction==="procreating"},Q_=(n,i,o)=>{var g,y;const{gameState:a}=o,c={x:(n.position.x+i.position.x)/2,y:(n.position.y+i.position.y)/2},u=n.gender==="male"?n:i,f=n.gender==="female"?n:i,h=(u.partnerIds||[]).length===0;if(n.stateMachine=[Go,{partnerId:i.id,previousState:(g=n.stateMachine)==null?void 0:g[0]}],i.stateMachine=[Go,{partnerId:n.id,previousState:(y=i.stateMachine)==null?void 0:y[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(i.id)||n.partnerIds.push(i.id),i.partnerIds||(i.partnerIds=[]),i.partnerIds.includes(n.id)||i.partnerIds.push(n.id),h&&u.leaderId&&u.leaderId!==u.id){const m=a.entities.entities.get(u.leaderId);if(m){const S=Ip(u,m),A=Ip(f,m);if(!S&&!A){const R=uc();u.leaderId=u.id,u.tribeBadge=R,f.leaderId=u.id,f.tribeBadge=R}}}else if(!n.leaderId&&!i.leaderId&&u&&f){const m=uc();u.leaderId=u.id,u.tribeBadge=m,f.leaderId=u.id,f.tribeBadge=m}n.activeAction=void 0,pt(a,Ee.Procreation,c,So),pt(a,Ee.Partnered,n.position,Kt,n.id),pt(a,Ee.Partnered,i.position,Kt,i.id),n.lastPartneredEffectTime=a.time,i.lastPartneredEffectTime=a.time,i.activeAction=void 0,it(o,Le.Procreate,c)},Z_={id:$_,sourceType:Y_,targetType:V_,maxDistance:X_,checker:K_,perform:Q_},q_={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Ac,checker:(n,i)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&i.isAdult===!1&&(i.motherId===n.id||i.fatherId===n.id)&&i.hunger>=Ua,perform:(n,i,o)=>{n.food.pop(),i.hunger=Math.max(0,i.hunger-Uo),n.feedChildCooldownTime=Ny,(!i.lastChildFedEffectTime||o.gameState.time-i.lastChildFedEffectTime>2)&&(pt(o.gameState,Ee.ChildFed,i.position,Kt,i.id),i.lastChildFedEffectTime=o.gameState.time),it(o,Le.ChildFed,i.position)}},J_={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:La,checker:(n,i,o)=>{var u;if(((u=n.stateMachine)==null?void 0:u[0])!==wi||n.attackTargetId!==i.id||(n.attackCooldown||0)>0)return!1;const a=n.stateMachine[1];return o.gameState.time-a.attackStartTime>=Tg},perform:(n,i,o)=>{const a=Bt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=C1(qt(a),i.direction);if(Math.abs(c)<Yy*Math.PI/180&&Math.random()<Vy)pt(o.gameState,Ee.AttackDeflected,i.position,Kt,i.id);else{let h=Fy;n.gender==="male"&&(h*=Wy),n.isAdult||(h*=jy),(!i.isAdult||i.age>=wg)&&n.isAdult&&(h*=$y),i.hitpoints-=h,i.movementSlowdown={modifier:Hy,endTime:o.gameState.time+xy},pt(o.gameState,Ee.Hit,i.position,Kt,i.id);const y=Bt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=vn(y,By);i.forces.push(m),i.hitpoints<=0?it(o,Le.HumanDeath,i.position):it(o,Le.Attack,n.position)}n.attackCooldown=Ig;const f=n.stateMachine[1];f.attackStartTime=o.gameState.time,pt(o.gameState,Ee.Attack,n.position,Kt,n.id)}},b_={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:yn*2,checker:(n,i,{gameState:o})=>Se(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+i.radius)/3,perform:(n,i,{gameState:o})=>{const a=Se(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){n.forces.push({x:.1,y:0}),i.forces.push({x:-.1,y:0});return}const u=(n.radius+i.radius-a)*.05,f=qt(T1(n.position,i.position)),h=vn(f,u);n.forces.push(h),i.forces.push(vn(h,-1))}},eE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Pt,checker:(n,i,o)=>{var a;return n.isAdult&&i.food.length>0&&((a=n.stateMachine)==null?void 0:a[0])===Fa&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const a=i.food.pop();a&&n.food.push(a),n.gatheringCooldownTime=o.gameState.time+1,i.timeSinceLastHarvest=o.gameState.time,i.ownerId=n.id,i.claimedUntil=o.gameState.time+yy,pt(o.gameState,Ee.BushClaimed,i.position,Kt),it(o,Le.Gather,n.position)}},tE={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Pt,checker:(n,i,o)=>{var a;return n.isAdult&&i.food.length>0&&((a=n.stateMachine)==null?void 0:a[0])===Fa&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const a=i.food.pop();a&&n.food.push(a),n.gatheringCooldownTime=o.gameState.time+1,it(o,Le.Gather,n.position)}},nE=[eE,tE],rE=[b_,...nE,Z_,q_,J_];function iE(n){const{gameState:i}=n,o=i,a=Array.from(i.entities.entities.values());for(const c of rE)for(const u of a){if(c.sourceType&&u.type!==c.sourceType)continue;const f=o.search[c.targetType].byRadius(u.position,c.maxDistance);for(const h of f){if(u.id===h.id)continue;Se(u.position,h.position,i.mapDimensions.width,i.mapDimensions.height)<=c.maxDistance&&c.checker(u,h,n)&&c.perform(u,h,n)}}}function oE(n){n.visualEffects=n.visualEffects.filter(i=>n.time-i.startTime<=i.duration)}const sE=1/60;function aE(n,i){const o=gn(n);o&&(n.viewportCenter=Cc(n.viewportCenter,o.position,_c*i))}function dc(n,i){if(n.isPaused)return n;for(;i>0;){const o=xc(n),a=Math.min(i,sE);if(o.gameOver)return o;const c=a*(Vt/Xt);o.time+=c,aE(o,a),M_({gameState:o,deltaTime:a}),iE({gameState:o,deltaTime:a}),oE(o),z_(o,a),n=o,i-=a}return n}function Mp(n,i,o){n.save();const{x:a,y:c,width:u,height:f}=i.rect,h=YS;n.fillStyle=o?VS:i.backgroundColor,n.beginPath(),n.moveTo(a+h,c),n.lineTo(a+u-h,c),n.quadraticCurveTo(a+u,c,a+u,c+h),n.lineTo(a+u,c+f-h),n.quadraticCurveTo(a+u,c+f,a+u-h,c+f),n.lineTo(a+h,c+f),n.quadraticCurveTo(a,c+f,a,c+f-h),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),n.fillStyle=i.textColor,i.icon?(n.font=`${f*.55}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(i.icon,a+u/2,c+f/2),i.text&&(n.font=`${f*.18}px "Press Start 2P", Arial`,n.textAlign="right",n.textBaseline="bottom",n.fillText(i.text,a+u-4,c+f-2))):(n.textAlign="center",n.textBaseline="middle",n.fillText(i.text,a+u/2,c+f/2)),n.restore()}function lE(n,i,o,a){n.save(),n.font=`${dp}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="bottom";const u=n.measureText(o).width,f=dp,h=u+fp*2,g=f+fp*2,y=a.x-h/2,m=n.canvas.height,S=i.y<m/2?i.y+i.height-hp:i.y-g+hp;n.fillStyle=XS,n.fillRect(y,S,h,g),n.fillStyle=KS,n.fillText(o,a.x,S+g/2+f/2),n.restore()}function uE(n,i,o){if(n.uiButtons=n.uiButtons.filter(a=>a.action!==Xe.ToggleProcreationBehavior&&a.action!==Xe.TogglePlantingBehavior),n.autopilotControls.isActive){const a=On*2+_p,c=(i-a)/2,u=o-On-20,f=n.autopilotControls.behaviors.procreation,h={id:"toggleProcreationButton",action:Xe.ToggleProcreationBehavior,rect:{x:c,y:u,width:On,height:On},icon:ac[Rt.Procreate],text:"R",backgroundColor:f?Ro:Io,textColor:Co,currentWidth:On,tooltip:`Procreation: ${f?"ON":"OFF"}`};n.uiButtons.push(h);const g=c+On+_p,y=n.autopilotControls.behaviors.planting,m={id:"togglePlantingButton",action:Xe.TogglePlantingBehavior,rect:{x:g,y:u,width:On,height:On},icon:ac[Rt.PlantBush],text:"B",backgroundColor:y?Ro:Io,textColor:Co,currentWidth:On,tooltip:`Planting: ${y?"ON":"OFF"}`};n.uiButtons.push(m)}}function cE(n,i,o){n.save(),n.textAlign="right";let a=o-Ct;const c=i.uiButtons.find(g=>g.action===Xe.ToggleAutopilot);c&&(c.text="AUT[O]",c.backgroundColor=i.autopilotControls.isActive?Ro:Io,c.tooltip=`Toggle Autopilot (${i.autopilotControls.isActive?"ON":"OFF"})`);const u=i.uiButtons.find(g=>g.action===Xe.ToggleMute);u&&(u.text=i.isMuted?"UN[M]UTE":"[M]UTE",u.backgroundColor=i.isMuted?Ro:Io,u.tooltip=`Toggle Sound (${i.isMuted?"Muted":"Enabled"})`);const f=i.uiButtons.find(g=>g.action===Xe.TogglePause);f&&(f.text=i.isPaused?"UN[P]AUSE":"[P]AUSE",f.backgroundColor=i.isPaused?Ro:Io,f.currentWidth=i.isPaused?To*1.4:To*1.1,f.tooltip=i.isPaused?"Resume Game":"Pause Game"),uE(i,o,n.canvas.height),i.uiButtons.filter(g=>g.action===Xe.ToggleAutopilot||g.action===Xe.ToggleMute||g.action===Xe.TogglePause).forEach(g=>{const y=Ct,m=a-g.currentWidth;g.rect={x:m,y,width:g.currentWidth,height:jS},Mp(n,g,i.hoveredButtonId===g.id),a-=g.currentWidth+$S}),i.uiButtons.filter(g=>g.action===Xe.ToggleProcreationBehavior||g.action===Xe.TogglePlantingBehavior).forEach(g=>{Mp(n,g,i.hoveredButtonId===g.id)});const h=i.hoveredButtonId?i.uiButtons.find(g=>g.id===i.hoveredButtonId):void 0;h&&h.tooltip&&i.mousePosition&&lE(n,h.rect,h.tooltip,i.mousePosition),n.restore()}function dE(n){n.save(),n.fillStyle=o1,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=s1,n.font=`${a1}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const fE=25,hE=0,Up=28;function pE(n,i,o,a,c,u,f,h,g){n.save();const y=i.x-f.x+h/2,m=i.y-f.y+g/2;n.strokeStyle=a,n.lineWidth=u,n.setLineDash(c),n.beginPath(),n.arc(y,m,o+Lg,0,2*Math.PI),n.stroke(),n.restore()}function gE(n,i,o,a,c,u){if(i.length===0)return;n.save(),i.forEach(m=>{m.targetEntity&&pE(n,m.targetEntity.position,m.targetEntity.radius,SS,_S,2,a,c,u)}),n.font=`${sp}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const f=o.position.x-a.x+c/2,h=o.position.y-a.y+u/2;let g=0,y={};i.forEach(m=>{const S=ac[m.type];if(m.targetEntity){y[m.targetEntity.id]=(y[m.targetEntity.id]||0)+1;const A=m.targetEntity.position.x-a.x+c/2,R=m.targetEntity.position.y-a.y+u/2,O=`${S}${m.key.toUpperCase()}`,N=R-m.targetEntity.radius-Lg-sp/2-(y[m.targetEntity.id]-1)*Up;n.fillText(O,A,N)}else{n.textAlign="left";const A=`${S}${m.key.toUpperCase()}`,R=f+fE,N=h+hE+g*Up;n.fillText(A,R,N),g++,n.textAlign="center"}}),n.restore()}const oe=(n,i,o,a,c,u,f)=>{u==="transparent"||a<=0||c<=0||(n.fillStyle=u,n.fillRect(Math.floor(i*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(c*f)))},Lp=10,Fp=10,hn=6,Dn=4,ua=2,mE=5,Yt=4,vE=2,ft=4,yE=2,xe=3,ui=2,ur=0,ko=ur+Dn-1,vt=ko,Ve=ko+Yt-1,SE="rgba(0, 0, 0, 0.4)",_E=4,EE=1,Gc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,i,o,a,c,u,f,h="male",g=20,y=[1,0],m=!1,S=0){const A=["dead","stunned"].includes(f),R=A?Fp+4:Lp,O=A?Lp+4:Fp+xe,N=.15,T=Math.min(a*(1-2*N)/R,c*(1-2*N)/O),M=R*T,k=O*T,j=i+(a-M)/2,G=o+(c-k)/2;n.save(),y[0]<0&&!A?(n.translate(j+M,G),n.scale(-1,1)):n.translate(j,G);const F="#D09A5A",x=g>50?"#BDBDBD":"#281808",J="#7F5C4A",pe="#6B4F3A",Be="#E0D8C0",qe="#A0522D",ke=1-Math.max(0,Math.min(100,S))/100*.2,Ne=h==="male"?1.1:.9,ye=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let we=mE*ke*Ne*ye,de=vE*ke*Ne*ye,se=yE*ke*ye;m&&h==="female"&&(we*=1.5);const W=Math.round((R-we)/2),V=Math.round((R-hn)/2),$=W-de,w=W+we,D=1,re=W+(we/2-D/2)-se,ee=W+(we/2+D/2),ge=y[1]<-.2&&Math.abs(y[0])<.7,ae=K=>{n.fillStyle=SE,n.beginPath();const ie=R/2,Te=K;n.ellipse(Math.floor(ie*T),Math.floor(Te*T),Math.max(1,Math.floor(_E*T)),Math.max(1,Math.floor(EE*T)),0,0,2*Math.PI),n.fill()},fe=(K,ie)=>{h==="male"?(oe(n,W,ko+K,we,Yt-ui,ie,T),oe(n,W,ko+Yt-ui+K,we,ui,J,T)):oe(n,W,ko+K,we,Yt,pe,T)},ce=(K,ie)=>{ge?oe(n,V,ur+K,hn,Dn,x,T):(oe(n,V,ur+K,hn,Dn,ie,T),oe(n,V,ur+K,hn,ua,x,T),h==="female"?(oe(n,V-1,ur+ua+K,1,Dn,x,T),oe(n,V+hn,ur+ua+K,1,Dn,x,T)):oe(n,V+1,ur+2+K,hn-2,Dn-2,x,T))};switch(f){case"idle":{const K=u*Math.PI*2,ie=Math.sin(K)*.5,ue=(Math.cos(K*2)+1)*.25;ae(Ve+xe+1),oe(n,re+ie,Ve+ue,se,xe,F,T),oe(n,ee-ie,Ve+ue,se,xe,F,T),fe(ue,F),oe(n,$,vt+ue,de,ft,F,T),oe(n,w,vt+ue,de,ft,F,T),ce(ue,F);break}case"walk":{const K=u*Math.PI*2,ie=Math.sin(K)*2,ue=Math.abs(Math.cos(K))*1;ae(Ve+xe+1),oe(n,re+ie,Ve+ue,se,xe,F,T),oe(n,ee-ie,Ve+ue,se,xe,F,T),fe(ue,F),oe(n,$-ie,vt+ue,de,ft,F,T),oe(n,w+ie,vt+ue,de,ft,F,T),ce(ue,F);break}case"gathering":{const K=u*Math.PI*2,ie=1,Te=(Math.sin(K)+1)/2*2,ue=ie+Math.abs(Math.cos(K))*.5;ae(Ve+xe+1),oe(n,re,Ve+ue,se,xe-ie,F,T),oe(n,ee,Ve+ue,se,xe-ie,F,T),fe(ue,F),oe(n,$+1,vt+ue-Te,de,ft,F,T),oe(n,w-1,vt+ue-Te,de,ft,F,T),ce(ue,F);break}case"eat":{ae(Ve+xe+1),oe(n,re,Ve+1,se,xe-1,F,T),oe(n,ee,Ve+1,se,xe-1,F,T),fe(1,F);const Te=(Math.sin(u*Math.PI*4)+1)/2,ue=V+hn/2,_n=ur+Dn/2,Nt=w+(ue-w)*Te,Ht=vt+1+(_n-(vt+1))*Te;oe(n,$,vt+1,de,ft,F,T),oe(n,Nt,Ht,de,ft,F,T),oe(n,Nt,Ht-1,1,1,qe,T),ce(1,F);break}case"procreate":{const K=(Math.sin(u*Math.PI*8)+1)/4,ie=(Math.sin(u*Math.PI*6)+1)*.5,Te=1.5,ue=Te-ie;ae(Ve+xe+1),oe(n,re,Ve+ue,se,xe-Te,F,T),oe(n,ee,Ve+ue,se,xe-Te,F,T),fe(ue,F),oe(n,$,vt+ue,de,ft,F,T),oe(n,w,vt+ue,de,ft,F,T),ce(ue,F),n.globalAlpha=K,fe(ue,"white"),n.globalAlpha=1;break}case"attacking":{const K=Math.sin(u*Math.PI)*1.5,ie=Math.abs(Math.sin(u*Math.PI));ae(Ve+xe+1),oe(n,re-K,Ve+ie,se,xe,F,T),oe(n,ee+K*.5,Ve+ie,se,xe,F,T),fe(ie,F),oe(n,$,vt+ie-2,de,ft,F,T),oe(n,w,vt+ie-2.5,de,ft,F,T),ce(ie,F);break}case"defending":{ae(Ve+xe+1),oe(n,re,Ve+1,se,xe-1,F,T),oe(n,ee,Ve+1,se,xe-1,F,T),fe(1,F),oe(n,$-1,vt+1-1,de,ft,F,T),oe(n,w+1,vt+1-1,de,ft,F,T),ce(1,F);break}case"stunned":case"dead":{const K=f==="dead",ie=K?Math.min(1,u):0,Te=ie>.5?Be:F,ue=h==="male"?J:pe,_n=ie>.8?"transparent":x,Nt=R/2,Ht=O/2,hr=2;ae(O-1),oe(n,Nt-se-hr,Ht,se,xe,Te,T),oe(n,Nt+hr,Ht,se,xe,Te,T),oe(n,Nt-de-hr,Ht-Yt+1,de,ft,Te,T),oe(n,Nt+hr,Ht-Yt+1,de,ft,Te,T);const En=Nt-we/2,Un=Ht-Yt/2;h==="male"?(ie<.7&&oe(n,En,Un+Yt-ui,we,ui,ue,T),oe(n,En,Un,we,Yt-ui,Te,T)):ie<.7?oe(n,En,Un,we,Yt,ue,T):oe(n,En,Un,we,Yt,Te,T);const Fr=Nt-hn/2,Ln=Ht-Yt/2-Dn+1;if(oe(n,Fr,Ln,hn,Dn,Te,T),_n!=="transparent"&&oe(n,Fr,Ln,hn,ua,_n,T),K&&ie>.6){const Fn="#B0A890";for(let pr=0;pr<3;pr++)oe(n,En+1,Un+pr*1+1,we-2,.5,Fn,T)}break}default:oe(n,0,0,R,O,"magenta",T);break}n.restore()}};function wE(n,i,o,a,c){const u=i.x,f=i.y-o-a/2;n.save(),n.fillStyle=c,n.strokeStyle=c,n.lineWidth=1.5,n.beginPath(),n.rect(u-a/2,f,a,a/2),n.fill(),n.beginPath(),n.moveTo(u-a/2,f),n.lineTo(u-a/4,f-a/3),n.lineTo(u-a/6,f),n.moveTo(u-a/6,f),n.lineTo(u,f-a/2),n.lineTo(u+a/6,f),n.moveTo(u+a/6,f),n.lineTo(u+a/4,f-a/3),n.lineTo(u+a/2,f),n.stroke(),n.restore()}function Wo(n,i,o,a,c,u=!1,f=!1,h=!1,g=!1){a<wc&&(o=o*.75),Gc.render(n,i.x-o/2,i.y-o/2,o,o,0,"idle",c,a,[0,0],!1,0);let y,m;u?(y=US,m=Ic):f?(y=LS,m=Mg):h?(y=FS,m=Dg):g&&(y=BS,m=Og),y&&m&&wE(n,i,o/2,y,m)}function AE(n,i,o,a,c,u){if(n.save(),a.length===0){n.restore();return}const f=a.length*c,h=4;let g;const y=f+(a.length-1)*h;a.length>1&&y>u?g=(u-f)/(a.length-1):g=h,a.length<=1&&(g=0);for(let m=0;m<a.length;m++){const{member:S,isPlayer:A,isHeir:R,isPartner:O,isParent:N}=a[m],T=i+m*(c+g)+c/2,M=o+c/4;Wo(n,{x:T,y:M},c,S.age,S.gender,A,R,O,N)}n.restore()}function TE(n,i,o,a){if(i.length===0)return;n.save();const c=rr,u=" 00",f=" 00";n.font=`${Fu}px "Press Start 2P", Arial`;const h=n.measureText(u).width,g=n.measureText(f).width,y=rr+ra+rr+ir+h+rr/2+ir+g,m=i.length*ia+(i.length-1)*up,S=a-m-rr;n.fillStyle=xS,n.fillRect(c,S,y,m);for(let A=0;A<i.length;A++){const R=i[A],O=S+A*(ia+up),N=O+ia/2;R.isPlayerTribe&&(n.fillStyle=HS,n.fillRect(c,O,y,ia));let T=c+rr;n.font=`${ra}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(R.tribeBadge,T,N-ra/4),T+=ra+rr*1.1,R.adultCount>0&&(Wo(n,{x:T+ir/2,y:N},ir,25,"male"),T+=ir/2,n.font=`${Fu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.adultCount}`,T,N),T+=n.measureText(` ${R.adultCount}`).width+rr/2),R.childCount>0&&(Wo(n,{x:T+ir/2,y:N},ir,1,"female"),T+=ir/2,n.font=`${Fu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.childCount}`,T,N))}n.restore()}function IE(n,i,o,a,c){n.save();const{position:u}=i;n.strokeStyle=a,n.lineWidth=2+Math.sin(c*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(u.x,u.y,o,0,2*Math.PI),n.stroke(),n.restore()}function CE(n,i,o,a,c){if(i.transitionState===yt.INACTIVE)return;const u=o.steps[i.currentStepIndex];if(!u)return;n.save(),n.globalAlpha=i.transitionAlpha;const f=l1,h=u1,g=c1,y=`${xu}px "Press Start 2P", Arial`,m=`${vp}px "Press Start 2P", Arial`,S=f1,A=vp*1.5;n.font=m;const R=u.text.split(" ");let O="";const N=[];for(let G=0;G<R.length;G++){const b=O+R[G]+" ";n.measureText(b).width>f-h*2&&G>0?(N.push(O),O=R[G]+" "):O=b}N.push(O);const T=h*2+xu+h/2+N.length*A,M=(a-f)/2,k=c-T-20;n.fillStyle=d1,n.beginPath(),n.moveTo(M+g,k),n.lineTo(M+f-g,k),n.quadraticCurveTo(M+f,k,M+f,k+g),n.lineTo(M+f,k+T-g),n.quadraticCurveTo(M+f,k+T,M+f-g,k+T),n.lineTo(M+g,k+T),n.quadraticCurveTo(M,k+T,M,k+T-g),n.lineTo(M,k+g),n.quadraticCurveTo(M,k,M+g,k),n.closePath(),n.fill(),n.fillStyle=S,n.textAlign="center",n.textBaseline="top",n.font=y,n.fillText(u.title,M+f/2,k+h),n.font=m;let j=k+h+xu+h/2;for(const G of N)n.fillText(G,M+f/2,j),j+=A;n.restore()}function Bp(n,i,o){n.save();const a=v1,c={x:i.x-a,y:i.y-a,width:i.width+a*2,height:i.height+a*2};n.strokeStyle=Bg,n.lineWidth=m1+Math.sin(o*g1)*1.5,n.setLineDash([8,8]),n.strokeRect(c.x,c.y,c.width,c.height),n.restore()}function RE(n,i){n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${i.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20)}const fc=10,PE=3,Hp=fc*.7;function kE(n,i,o,a,c){const{position:u,food:f,maxFood:h,ownerId:g,claimedUntil:y}=i;if(n.beginPath(),n.arc(u.x,u.y,fc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),g&&y&&y>c&&a){const m=o.entities.entities.get(g);if(m){let S;m.id===a.id?S=Ic:z1(a,m,o)?S=yS:S=Ug,S&&(n.strokeStyle=S,n.lineWidth=1+Math.sin(c*2)*.5,n.beginPath(),n.arc(u.x,u.y,fc+2,0,Math.PI*2),n.stroke())}}if(f.length>0){const m=Math.PI*2/Math.min(f.length,h);for(let S=0;S<f.length;S++){const A=S*m,R=u.x+Hp*Math.cos(A),O=u.y+Hp*Math.sin(A);n.beginPath(),n.arc(R,O,PE,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}function NE(n,i){const{position:o,gender:a,age:c,decayProgress:u,food:f,radius:h}=i;if(n.save(),n.globalAlpha=1-u,Gc.render(n,o.x-h,o.y-h,h*2,h*2,u,"dead",a,c,[0,0],!1,0),n.restore(),f.length>0){n.save(),n.font=`${MS}px Arial`,n.textAlign="center",n.textBaseline="middle";const g=yn*.9,y=Math.PI/_g*3;f.forEach((m,S)=>{const A=S*y,R=o.x+g*Math.cos(A)*Math.atan2(S,S),O=o.y+g*Math.sin(A)*Math.atan2(S,S),N=xg[m.type];n.fillText(N,R,O)}),n.restore()}}function pi(n,i,o,a,c,u,f,h){n.save(),n.fillStyle=f,n.fillRect(i,o,a,c),n.fillStyle=h,n.fillRect(i,o,a*Math.max(0,u),c),n.restore()}function OE(n,i,o,a,c,u){if(n.save(),a.length===0){n.restore();return}const f=a.length*c;let h;f>u||f+(a.length-1)*4>u?h=(u-f)/(a.length-1):h=4,a.length===1&&(h=0);for(let g=0;g<a.length;g++){const y=xg[a[g].type];n.fillText(y,i+g*(c+h),o)}n.restore()}const DE={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",tribeSplitting:"idle"};function ME(n,i){var h;const{radius:o,position:a,activeAction:c="idle"}=i,u=((h=i.stateMachine)==null?void 0:h[0])||"N/A",f=i.isAdult?yn+20:yn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${c}`,a.x,a.y-f),n.fillText(`State: ${u}`,a.x,a.y-f+10),n.fillText(`HP: ${i.hitpoints}`,a.x,a.y-f+20),n.fillText(`Cooldown: ${i.attackCooldown||"N/A"}`,a.x,a.y-f+30),n.restore(),n.beginPath(),n.arc(a.x,a.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function UE(n,i,o){if(!i.aiBehaviorTree||!i.aiBlackboard)return;const a=i.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${qS}px Arial`,n.textAlign="left",n.textBaseline="top";const c=S=>{switch(S){case H.SUCCESS:return bS;case H.FAILURE:return e1;case H.RUNNING:return t1;case H.NOT_EVALUATED:case null:default:return n1}},u=S=>{if(!S.name||!a.has(S.name))return{width:0,height:0};let A=0,R=0;const O=a.get(S.name),N=` ${S.name}`+(O!=null&&O.debugInfo?`: ${O.debugInfo}`:""),T=n.measureText(N).width,M=(S.depth??0)*pp+8+T+mp+po+20;if(A=Math.max(A,M),R+=Hu,S.children)for(const k of S.children){const j=u(k);A=Math.max(A,j.width),R+=j.height}else if(S.child){const k=u(S.child);A=Math.max(A,k.width),R+=k.height}return{width:A,height:R}},f=(S,A,R,O)=>{if(!S.name||!a.has(S.name))return A;let N=A;const T=a.get(S.name),M=R+2+(S.depth??0)*pp;let k=H.NOT_EVALUATED,j=gp,G="";if(T){k=T.status,G=T.debugInfo;const x=i1/Xt*Vt,J=o-T.lastExecuted,pe=Math.max(0,1-J/x);j=R1(gp,r1,pe),J>Lo&&(k=H.NOT_EVALUATED)}const b=c(k);n.fillStyle=b,n.fillText("●",M,N),n.fillStyle=j;const F=` ${S.name}`+(G?`: ${G}`:"");if(n.fillText(F,M+8,N),T&&T.executionHistory.length>0){const{executionHistory:x}=T,J=Fg/Xt*Vt,pe=o,Be=pe-J,qe=R+O-po-mp;let ke=qe;const Ne=N+(Hu-oa)/2,ye=x.filter(D=>D.time<Be);let we=ye.length>0?ye[ye.length-1].status:null,de=Be;const se=x.filter(D=>D.time>=Be&&D.time<=pe),W=po/J;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(qe,Ne,po,oa);for(const D of se){const ee=(D.time-de)*W;ee>0&&(n.fillStyle=c(we),n.fillRect(ke,Ne,ee,oa),ke+=ee),we=D.status,de=D.time}o-de>Lo&&(we=H.NOT_EVALUATED);const $=(pe-de)*W;n.fillStyle=c(we);const w=qe+po-ke;n.fillRect(ke,Ne,Math.min($,w),oa)}if(N+=Hu,S.children)for(const x of S.children)N=f(x,N,R,O);else S.child&&(N=f(S.child,N,R,O));return N},{width:h,height:g}=u(i.aiBehaviorTree);if(g===0){n.restore();return}const y=i.position.x+QS,m=i.position.y+ZS-g/2;n.fillStyle=JS,n.fillRect(y,m,h,g+4),f(i.aiBehaviorTree,m+2,y,h),n.restore()}function LE(n,i,o,a,c){n.save(),n.font=`${lp}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,i.x,i.y-(a?yn:Tc)-lp-c),n.restore()}function FE(n,i,o,a,c){const u=i.x,f=i.y-o-a/2;n.save(),n.fillStyle=c,n.strokeStyle=c,n.lineWidth=1.5,n.beginPath(),n.rect(u-a/2,f,a,a/2),n.fill(),n.beginPath(),n.moveTo(u-a/2,f),n.lineTo(u-a/4,f-a/3),n.lineTo(u-a/6,f),n.moveTo(u-a/6,f),n.lineTo(u,f-a/2),n.lineTo(u+a/6,f),n.moveTo(u+a/6,f),n.lineTo(u+a/4,f-a/3),n.lineTo(u+a/2,f),n.stroke(),n.restore()}function BE(n,i,o){var h;const{position:a,radius:c}=i,u=a.x-Bu/2,f=a.y-c-GS;if(((h=i.stateMachine)==null?void 0:h[0])===wi){const g=i.stateMachine[1],y=o-g.attackStartTime,m=Math.min(y/Tg,1);pi(n,u,f,Bu,cp,m,hi,zS)}else if(i.attackCooldown&&i.attackCooldown>0){const g=1-i.attackCooldown/Ig;pi(n,u,f,Bu,cp,g,hi,WS)}}function HE(n,i,o=!1,a=!1,c=!1,u=!1,f=!1,h=!1,g=!1,y,m){const{position:S,activeAction:A="idle"}=i,R=i.isAdult?yn:yn*.6,O=DE[A]||"idle";Gc.render(n,S.x-R,S.y-R,R*2,R*2,i.animationProgress||0,O,i.gender,i.age,[i.direction.x,i.direction.y],i.isPregnant??!1,i.hunger),h&&(n.save(),n.strokeStyle=Ug,n.lineWidth=2,n.beginPath(),n.arc(S.x,S.y,R+3,0,2*Math.PI),n.stroke(),n.restore());let N,T;f?(N=wS,T=Mg):o?(N=ES,T=Ic):c?(N=AS,T=vS):a?(N=TS,T=Og):u&&(N=IS,T=Dg),N&&T&&FE(n,S,R,N,T),i.tribeBadge&&LE(n,S,i.tribeBadge,i.isAdult??!1,N??0);const M=g&&(m===void 0||i.id===m);M&&i.aiBlackboard&&UE(n,i,y),BE(n,i,y),M&&ME(n,i)}const Jg=15;function xp(n,i,o,a,c=1.5){const u=o-i.startTime,f=Math.min(u/i.duration,1),h=1-f,y=1+Math.sin(f*Math.PI*2)*(c-1),m=Jg*y;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,Math.max(0,m),0,Math.PI*2),n.fillStyle=a,n.fill(),n.restore()}function ci(n,i,o,a,c=2){const u=o-i.startTime,f=Math.min(u/i.duration,1),h=1-f,g=Jg*2*f;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,g,0,Math.PI*2),n.strokeStyle=a,n.lineWidth=c,n.stroke(),n.restore()}function or(n,i,o,a){const c=o-i.startTime,u=Math.min(c/i.duration,1),f=1-u,h=-20*u;n.save(),n.globalAlpha=f,n.font="20px Arial",n.textAlign="center",n.fillText(a,i.position.x,i.position.y+h),n.restore()}function xE(n,i,o){switch(i.type){case Ee.Hunger:xp(n,i,o,"rgba(255, 165, 0, 0.7)",1);break;case Ee.Procreation:or(n,i,o,"❤️");break;case Ee.Pregnant:xp(n,i,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ee.TargetAcquired:ci(n,i,o,"rgba(255, 0, 0, 0.8)",3);break;case Ee.Attack:or(n,i,o,"⚔️");break;case Ee.Partnered:or(n,i,o,"🤝");break;case Ee.BushClaimed:ci(n,i,o,"rgba(0, 255, 0, 0.7)",2);break;case Ee.BushClaimLost:ci(n,i,o,"rgba(128, 128, 128, 0.7)",2);break;case Ee.Eating:or(n,i,o,"🍖");break;case Ee.ChildFed:or(n,i,o,"🍼");break;case Ee.AttackDeflected:or(n,i,o,"🛡️");break;case Ee.AttackResisted:or(n,i,o,"💪");break;case Ee.Hit:or(n,i,o,"💥");break;case Ee.SeizeBuildup:ci(n,i,o,"rgba(255, 215, 0, 0.8)",4);break;case Ee.Seize:ci(n,i,o,"rgba(148, 0, 211, 0.8)",4);break;case Ee.CallToAttack:ci(n,i,o,"rgba(255, 255, 0, 0.8)",4);break}}function vo(n,i,o,a,c,...u){const f={...c.position};for(let h=-o;h<=o;h+=o)for(let g=-i;g<=i;g+=i)c.position.x=f.x+g,c.position.y=f.y+h,a(n,c,...u);c.position=f}function GE(n,i,o){const a=gn(i),c=a?Jt(i,a):[],u=xo(c),{width:f,height:h}=i.mapDimensions;if(Array.from(i.entities.entities.values()).sort((y,m)=>y.position.y-m.position.y||y.id-m.id).forEach(y=>{var m,S;if(y.type==="berryBush")vo(n,f,h,kE,y,i,a,i.time);else if(y.type==="human"){const A=y,R=A.id===(a==null?void 0:a.id),O=c.some(j=>j.id===A.id),N=A.id===(u==null?void 0:u.id),T=a&&(A.id===a.motherId||A.id===a.fatherId),M=a&&(((m=A.partnerIds)==null?void 0:m.includes(a.id))||((S=a.partnerIds)==null?void 0:S.includes(A.id))),k=(a==null?void 0:a.attackTargetId)===A.id;vo(n,f,h,HE,A,R,T,O,M,N,k,o,i.time,i.debugCharacterId)}else y.type==="humanCorpse"&&vo(n,f,h,NE,y)}),i.visualEffects.forEach(y=>{vo(n,f,h,xE,y,i.time)}),i.tutorialState.isActive&&i.tutorialState.highlightedEntityIds.size>0)for(const y of i.tutorialState.highlightedEntityIds){const m=i.entities.entities.get(y);m&&vo(n,f,h,IE,m,p1,Bg,i.time)}}function zE(n,i,o,a,c,u){let f=null,h=null;n.textAlign="left";let g=Ct+ar;const m=i.time/(Vt/Xt)/Sg%1,S=go[di.Time],A=25,R=Ct+A;n.fillText(S,Ct,g+Lt/2+ar/3),pi(n,R,g,nr,Lt,m,hi,DS),g+=Lt+Nn;const O=g+Pr/2,N=g+(Pr-Lt)/2,T=5;Wo(n,{x:Ct*2,y:O},Pr,5,o.gender,!1,!1,!1);const M=Ct+Pr+T,k=nr+A-(Pr+T)*2;pi(n,M,N,k,Lt,Math.floor(o.age)/Mo,hi,OS),Wo(n,{x:M+k+T+Pr/2,y:O},Pr,Mo,o.gender,!1,!1,!1),g+=Lt+Nn*2;const j=[],G=new Set;if(j.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),G.add(o.id),a&&!G.has(a.id)&&(j.push({member:a,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),G.add(a.id)),c.forEach(ye=>{G.has(ye.id)||(j.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),G.add(ye.id))}),u.forEach(ye=>{G.has(ye.id)||(j.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),G.add(ye.id))}),o.motherId&&!G.has(o.motherId)){const ye=i.entities.entities.get(o.motherId);ye&&(j.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),G.add(ye.id))}if(o.fatherId&&!G.has(o.fatherId)){const ye=i.entities.entities.get(o.fatherId);ye&&(j.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),G.add(ye.id))}const b=go[di.Family],F=10,x=Ct+ar+F,J=nr+A-(ar+F),pe=g+na/2;n.font=`${ar}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(b,Ct,pe);const Be=g+na/2;AE(n,x,Be,j,na,J),g+=na+Nn,n.textBaseline="alphabetic";const qe=go[di.Hitpoints];n.fillText(qe,Ct,g+Lt/2+ar/3),pi(n,R,g,nr,Lt,o.hitpoints/o.maxHitpoints,hi,NS),g+=Lt+Nn;const ke=go[di.Hunger];n.fillText(ke,Ct,g+Lt/2+ar/3),pi(n,R,g,nr,Lt,(Zt-o.hunger)/Zt,hi,kS),f={x:Ct,y:g-Nn/2,width:nr+A,height:Lt+Nn},g+=Lt+Nn,n.textBaseline="middle";const Ne=go[di.Food];return n.fillText(Ne,Ct,g+ta/2),OE(n,R,g+ta/2,o.food,ta,nr),h={x:Ct,y:g-Nn/5,width:nr+A,height:ta+Nn},n.textBaseline="alphabetic",{hungerBarRect:f,foodBarRect:h}}function Ca(n,i,o,a,c,u=!1){var f;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-a.x,n.canvas.height/2-a.y),!u&&i.gameOver){n.restore(),RE(n,i);return}if(GE(n,i,o),n.restore(),!u){n.fillStyle=CS,n.font=`${ar}px "Press Start 2P", Arial`,n.shadowColor=RS,n.shadowBlur=PS;const h=gn(i);let g=null,y=null;if(h){const S=Jt(i,h),A=xo(S),R=((f=h.partnerIds)==null?void 0:f.map(N=>i.entities.entities.get(N)).filter(N=>N!==void 0))||[],O=zE(n,i,h,A,R,S);g=O.hungerBarRect,y=O.foodBarRect}const m=V1(i,h==null?void 0:h.leaderId);if(TE(n,m,n.canvas.width,n.canvas.height),cE(n,i,n.canvas.width),n.shadowColor="transparent",n.shadowBlur=0,h&&c.length>0&&gE(n,c,h,a,n.canvas.width,n.canvas.height),i.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:S}=i.tutorialState;S.has(zo.HUNGER_BAR)&&g&&Bp(n,g,i.time),S.has(zo.FOOD_BAR)&&y&&Bp(n,y,i.time)}i.tutorialState.isActive&&CE(n,i.tutorialState,i.tutorial,n.canvas.width,n.canvas.height),i.isPaused&&dE(n)}}const WE=Sn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,jE=Sn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,$E=Sn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,YE=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,VE=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Zu="intro-soundtrack",Gp=()=>{const{setAppState:n}=Ra(),i=me.useRef(null),o=me.useRef(null),a=me.useRef(j_()),c=me.useRef(),u=me.useRef(a.current.viewportCenter),f=me.useRef();me.useEffect(()=>(Nc(Le.SoundTrack1,{loop:!0,trackId:Zu}),()=>{Ap(Zu,2)}),[]),me.useEffect(()=>{const m=i.current;if(!m)return;o.current=m.getContext("2d");const S=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Ca(o.current,a.current,!1,u.current,[],!0))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),me.useEffect(()=>{const m=()=>{const A=Xg(a.current);if(A.length>0){const R=Math.floor(Math.random()*A.length);f.current=A[R].id}};m();const S=setInterval(m,E1);return()=>clearInterval(S)},[]);const[h,g]=vg(m=>{if(!o.current)return;if(c.current===void 0){c.current=m;return}const S=Math.min((m-c.current)/1e3,1);a.current=dc(a.current,S);const A=f.current?a.current.entities.entities.get(f.current):void 0;if(A){const{mapDimensions:R}=a.current,{width:O,height:N}=R;let T={...A.position};const M=T.x-u.current.x;Math.abs(M)>O/2&&(M>0?T.x-=O:T.x+=O);const k=T.y-u.current.y;Math.abs(k)>N/2&&(k>0?T.y-=N:T.y+=N);let j=Cc(u.current,T,_c*S);j={x:(j.x%O+O)%O,y:(j.y%N+N)%N},u.current=j}Ca(o.current,a.current,!1,u.current,[],!0),c.current=m});me.useEffect(()=>(g(),h),[g,h]);const y=()=>{Ap(Zu,2),n("game")};return Ce.jsxs(WE,{children:[Ce.jsx(jE,{ref:i}),Ce.jsxs($E,{children:[Ce.jsx(YE,{children:"Tribe"}),Ce.jsx(VE,{onClick:y,children:"Start Game"})]})]})};function XE(){return console.log("Tribe game initialized with detailed 2D world state."),W_()}const zp=()=>{const[n]=me.useState(()=>XE());return Ce.jsx(KE,{initialState:n})},KE=({initialState:n})=>{const i=me.useRef(null),o=me.useRef(null),a=me.useRef(n),c=me.useRef(),u=me.useRef(new Set),f=me.useRef(!1),h=me.useRef(n.viewportCenter),g=me.useRef([]),{appState:y,setAppState:m}=Ra();me.useEffect(()=>{const O=i.current;if(!O)return;o.current=O.getContext("2d");const N=()=>{O&&o.current&&(O.width=window.innerWidth,O.height=window.innerHeight,Ca(o.current,a.current,f.current,h.current,g.current,!1))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[S,A,R]=vg(O=>{if(!o.current||!c.current){c.current=O;return}const N=Math.min(O-c.current,1e3)/1e3;a.current=dc(a.current,N);const T=gn(a.current);if(T?g.current=zg(a.current,T):g.current=[],T){const{mapDimensions:M}=a.current,{width:k,height:j}=M;let G={...T.position};if(a.current.debugCharacterId){const J=a.current.entities.entities.get(a.current.debugCharacterId);J&&(G={...J.position})}const b=G.x-h.current.x;Math.abs(b)>k/2&&(b>0?G.x-=k:G.x+=k);const F=G.y-h.current.y;Math.abs(F)>j/2&&(F>0?G.y-=j:G.y+=j);let x=Cc(h.current,G,_c*N);x={x:(x.x%k+k)%k,y:(x.y%j+j)%j},h.current=x}else h.current=a.current.viewportCenter;Ca(o.current,a.current,f.current,h.current,g.current,!1),c.current=O,a.current.gameOver&&y!=="gameOver"&&(Nc(Le.GameOver,{masterVolume:a.current.masterVolume,isMuted:a.current.isMuted}),m("gameOver",{generations:a.current.generationCount,cause:a.current.causeOfGameOver||"Unknown"}))});return me.useEffect(()=>(A(),S),[A,S]),me.useEffect(()=>{const O=N=>{if(!R()||a.current.gameOver||!i.current)return;const T=i.current.getBoundingClientRect(),M=N.clientX-T.left,k=N.clientY-T.top,j={gameState:a.current};a.current.uiButtons.forEach(G=>{if(M>=G.rect.x&&M<=G.rect.x+G.rect.width&&k>=G.rect.y&&k<=G.rect.y+G.rect.height){const b=gn(a.current);switch(b&&it(j,Le.ButtonClick,b.position),G.action){case Xe.ToggleAutopilot:a.current.autopilotControls.isActive=!a.current.autopilotControls.isActive;break;case Xe.ToggleMute:a.current.isMuted=!a.current.isMuted,_o(a.current.masterVolume,a.current.isMuted);break;case Xe.TogglePause:a.current.isPaused=!a.current.isPaused;break;case Xe.ToggleProcreationBehavior:a.current.autopilotControls.behaviors.procreation=!a.current.autopilotControls.behaviors.procreation;break;case Xe.TogglePlantingBehavior:a.current.autopilotControls.behaviors.planting=!a.current.autopilotControls.behaviors.planting;break}}})};return window.addEventListener("mousedown",O),()=>{window.removeEventListener("mousedown",O)}},[R]),me.useEffect(()=>{const O=N=>{if(!R()||!i.current)return;const T=i.current.getBoundingClientRect(),M=N.clientX-T.left,k=N.clientY-T.top;a.current.mousePosition={x:M,y:k};let j;for(let G=a.current.uiButtons.length-1;G>=0;G--){const b=a.current.uiButtons[G];if(M>=b.rect.x&&M<=b.rect.x+b.rect.width&&k>=b.rect.y&&k<=b.rect.y+b.rect.height){j=b.id;break}}a.current.hoveredButtonId=j};return window.addEventListener("mousemove",O),()=>{window.removeEventListener("mousemove",O)}},[R]),me.useEffect(()=>{const O=T=>{var G,b,F;if(!R()||a.current.gameOver)return;const M=T.key.toLowerCase();if(M==="m"){a.current.isMuted=!a.current.isMuted,_o(a.current.masterVolume,a.current.isMuted);return}if(M==="="||M==="+"){const x=Math.min(1,a.current.masterVolume+.1);a.current.masterVolume=parseFloat(x.toFixed(1)),_o(a.current.masterVolume,a.current.isMuted);return}if(M==="-"){const x=Math.max(0,a.current.masterVolume-.1);a.current.masterVolume=parseFloat(x.toFixed(1)),_o(a.current.masterVolume,a.current.isMuted);return}if(M==="t"){a.current=dc(a.current,10);return}if(M===" "||M==="p"){T.preventDefault(),a.current.isPaused=!a.current.isPaused;return}if(M==="o"){a.current.autopilotControls.isActive=!a.current.autopilotControls.isActive;return}if(M==="§"||M==="`"){f.current=!f.current,f.current?a.current.debugCharacterId=((G=gn(a.current))==null?void 0:G.id)??((F=(b=Xg(a.current))==null?void 0:b[0])==null?void 0:F.id):a.current.debugCharacterId=void 0;return}if(M==="tab"){T.preventDefault(),f.current=!0;const x=Array.from(a.current.entities.entities.values()).filter(J=>J.type==="human");if(x.length>0){const J=x.sort((ke,Ne)=>ke.isPlayer?-1:ke.id-Ne.id),pe=a.current.debugCharacterId,qe=((pe?J.findIndex(ke=>ke.id===pe):-1)+1)%J.length;a.current.debugCharacterId=J[qe].id}else a.current.debugCharacterId=void 0;return}const k=gn(a.current);if(!k)return;const j={gameState:a.current};if(a.current.autopilotControls.isActive){M==="r"?(a.current.autopilotControls.behaviors.procreation=!a.current.autopilotControls.behaviors.procreation,it(j,Le.ButtonClick,k.position)):M==="b"&&(a.current.autopilotControls.behaviors.planting=!a.current.autopilotControls.behaviors.planting,it(j,Le.ButtonClick,k.position));return}if(u.current.add(M),M==="e"){const x=St(k,a.current,"berryBush",Pt,Be=>Be.food.length>0&&k.food.length<k.maxFood),J=St(k,a.current,"humanCorpse",Pt,Be=>Be.food.length>0&&k.food.length<k.maxFood);let pe=null;x&&J?pe=Se(k.position,x.position,a.current.mapDimensions.width,a.current.mapDimensions.height)<=Se(k.position,J.position,a.current.mapDimensions.width,a.current.mapDimensions.height)?x:J:pe=x||J,pe&&(k.activeAction="gathering",it(j,Le.Gather,k.position))}else if(M==="r")St(k,a.current,"human",Pt,J=>{const pe=J;return pe.id!==k.id&&pe.gender!==k.gender&&pe.isAdult&&k.isAdult&&pe.hunger<kt&&k.hunger<kt&&(pe.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(pe.gender==="female"?!pe.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",it(j,Le.Procreate,k.position));else if(M==="f")k.activeAction="eating",it(j,Le.Eat,k.position);else if(M==="arrowup"||M==="w")k.direction.y=-1,k.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowdown"||M==="s")k.direction.y=1,k.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowleft"||M==="a")k.direction.x=-1,k.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowright"||M==="d")k.direction.x=1,k.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="q"){const x=St(k,a.current,"human",La,J=>J.id!==k.id&&J.leaderId!==k.leaderId);x&&(k.activeAction="attacking",k.attackTargetId=x.id)}else if(M==="b"){if(g.current.find(J=>J.type===Rt.PlantBush)){const J=Wg(k.position,a.current,50,sc);J&&(k.activeAction="planting",k.target=J,a.current.hasPlayerPlantedBush=!0)}}else if(M==="v")g.current.find(J=>J.type===Rt.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=a.current.time+Aa,pt(a.current,Ee.CallToAttack,k.position,Aa),it(j,Le.CallToAttack,k.position));else if(M==="k")g.current.find(J=>J.type===Rt.TribeSplit)&&Vg(k,a.current);else return},N=T=>{if(!R()||a.current.gameOver)return;const M=T.key.toLowerCase();u.current.delete(M);const k=gn(a.current);!k||a.current.autopilotControls.isActive||(M==="arrowup"||M==="w"||M==="arrowdown"||M==="s"?k.direction.y=0:(M==="arrowleft"||M==="a"||M==="arrowright"||M==="d")&&(k.direction.x=0),!u.current.has("arrowup")&&!u.current.has("arrowdown")&&!u.current.has("arrowleft")&&!u.current.has("arrowright")&&!u.current.has("w")&&!u.current.has("a")&&!u.current.has("s")&&!u.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!u.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!u.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!u.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",O),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",O),window.removeEventListener("keyup",N)}},[R,y,m,A,S]),Ce.jsx("canvas",{ref:i,style:{display:"block",background:"#2c5234"}})},QE=Sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,ZE=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,ca=Sn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,qE=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,JE=()=>{const{setAppState:n,gameOverDetails:i}=Ra(),o=()=>{n("intro")};return Ce.jsxs(QE,{children:[Ce.jsx(ZE,{children:"Game Over"}),Ce.jsx(ca,{children:"Your tribe's lineage has ended."}),i&&Ce.jsxs(Ce.Fragment,{children:[Ce.jsxs(ca,{children:["Generations Survived: ",i.generations]}),Ce.jsxs(ca,{children:["Cause of Extinction: ",i.cause]})]}),!i&&Ce.jsx(ca,{children:"Game details are unavailable."}),Ce.jsx(qE,{onClick:o,children:"Return to Menu"})]})},bE=ly`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function ew(n,i){me.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";i(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),me.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const tw=()=>{const{appState:n,setAppState:i}=Ra();ew(n,i);const o=()=>{switch(n){case"intro":return Ce.jsx(Gp,{});case"game":return Ce.jsx(zp,{});case"gameOver":return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(zp,{}),Ce.jsx(JE,{})]});default:return Ce.jsx(Gp,{})}};return Ce.jsxs(Ce.Fragment,{children:[Ce.jsx(bE,{}),o()]})},Wp=document.getElementById("root");Wp?H1().then(()=>{sv.createRoot(Wp).render(Ce.jsx(mn.StrictMode,{children:Ce.jsx(av,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Ce.jsx(tw,{})})}))}):console.error("Failed to find the root element");
