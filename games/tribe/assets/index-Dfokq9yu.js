var P0=Object.defineProperty;var N0=(n,i,o)=>i in n?P0(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var et=(n,i,o)=>N0(n,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))a(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerPolicy&&(c.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?c.credentials="include":d.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(d){if(d.ep)return;d.ep=!0;const c=o(d);fetch(d.href,c)}})();function Ip(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gu={exports:{}},so={},vu={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function O0(){if(Eh)return me;Eh=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function A(w,D,te){this.props=w,this.context=D,this.refs=O,this.updater=te||k}A.prototype.isReactComponent={},A.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function M(){}M.prototype=A.prototype;function N(w,D,te){this.props=w,this.context=D,this.refs=O,this.updater=te||k}var Y=N.prototype=new M;Y.constructor=N,P(Y,A.prototype),Y.isPureReactComponent=!0;var x=Array.isArray,$=Object.prototype.hasOwnProperty,U={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function ee(w,D,te){var K,pe={},ae=null,fe=null;if(D!=null)for(K in D.ref!==void 0&&(fe=D.ref),D.key!==void 0&&(ae=""+D.key),D)$.call(D,K)&&!W.hasOwnProperty(K)&&(pe[K]=D[K]);var de=arguments.length-2;if(de===1)pe.children=te;else if(1<de){for(var Z=Array(de),ie=0;ie<de;ie++)Z[ie]=arguments[ie+2];pe.children=Z}if(w&&w.defaultProps)for(K in de=w.defaultProps,de)pe[K]===void 0&&(pe[K]=de[K]);return{$$typeof:n,type:w,key:ae,ref:fe,props:pe,_owner:U.current}}function Ae(w,D){return{$$typeof:n,type:w.type,key:D,ref:w.ref,props:w.props,_owner:w._owner}}function Ne(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Ze(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return D[te]})}var Le=/\/+/g;function Te(w,D){return typeof w=="object"&&w!==null&&w.key!=null?Ze(""+w.key):D.toString(36)}function ye(w,D,te,K,pe){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(ae){case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case n:case i:fe=!0}}if(fe)return fe=w,pe=pe(fe),w=K===""?"."+Te(fe,0):K,x(pe)?(te="",w!=null&&(te=w.replace(Le,"$&/")+"/"),ye(pe,D,te,"",function(ie){return ie})):pe!=null&&(Ne(pe)&&(pe=Ae(pe,te+(!pe.key||fe&&fe.key===pe.key?"":(""+pe.key).replace(Le,"$&/")+"/")+w)),D.push(pe)),1;if(fe=0,K=K===""?".":K+":",x(w))for(var de=0;de<w.length;de++){ae=w[de];var Z=K+Te(ae,de);fe+=ye(ae,D,te,Z,pe)}else if(Z=T(w),typeof Z=="function")for(w=Z.call(w),de=0;!(ae=w.next()).done;)ae=ae.value,Z=K+Te(ae,de++),fe+=ye(ae,D,te,Z,pe);else if(ae==="object")throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return fe}function ve(w,D,te){if(w==null)return w;var K=[],pe=0;return ye(w,K,"","",function(ae){return D.call(te,ae,pe++)}),K}function ce(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var se={current:null},G={transition:null},V={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:G,ReactCurrentOwner:U};function j(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:ve,forEach:function(w,D,te){ve(w,function(){D.apply(this,arguments)},te)},count:function(w){var D=0;return ve(w,function(){D++}),D},toArray:function(w){return ve(w,function(D){return D})||[]},only:function(w){if(!Ne(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},me.Component=A,me.Fragment=o,me.Profiler=d,me.PureComponent=N,me.StrictMode=a,me.Suspense=m,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,me.act=j,me.cloneElement=function(w,D,te){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var K=P({},w.props),pe=w.key,ae=w.ref,fe=w._owner;if(D!=null){if(D.ref!==void 0&&(ae=D.ref,fe=U.current),D.key!==void 0&&(pe=""+D.key),w.type&&w.type.defaultProps)var de=w.type.defaultProps;for(Z in D)$.call(D,Z)&&!W.hasOwnProperty(Z)&&(K[Z]=D[Z]===void 0&&de!==void 0?de[Z]:D[Z])}var Z=arguments.length-2;if(Z===1)K.children=te;else if(1<Z){de=Array(Z);for(var ie=0;ie<Z;ie++)de[ie]=arguments[ie+2];K.children=de}return{$$typeof:n,type:w.type,key:pe,ref:ae,props:K,_owner:fe}},me.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:c,_context:w},w.Consumer=w},me.createElement=ee,me.createFactory=function(w){var D=ee.bind(null,w);return D.type=w,D},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:h,render:w}},me.isValidElement=Ne,me.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:ce}},me.memo=function(w,D){return{$$typeof:S,type:w,compare:D===void 0?null:D}},me.startTransition=function(w){var D=G.transition;G.transition={};try{w()}finally{G.transition=D}},me.unstable_act=j,me.useCallback=function(w,D){return se.current.useCallback(w,D)},me.useContext=function(w){return se.current.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w){return se.current.useDeferredValue(w)},me.useEffect=function(w,D){return se.current.useEffect(w,D)},me.useId=function(){return se.current.useId()},me.useImperativeHandle=function(w,D,te){return se.current.useImperativeHandle(w,D,te)},me.useInsertionEffect=function(w,D){return se.current.useInsertionEffect(w,D)},me.useLayoutEffect=function(w,D){return se.current.useLayoutEffect(w,D)},me.useMemo=function(w,D){return se.current.useMemo(w,D)},me.useReducer=function(w,D,te){return se.current.useReducer(w,D,te)},me.useRef=function(w){return se.current.useRef(w)},me.useState=function(w){return se.current.useState(w)},me.useSyncExternalStore=function(w,D,te){return se.current.useSyncExternalStore(w,D,te)},me.useTransition=function(){return se.current.useTransition()},me.version="18.3.1",me}var _h;function ic(){return _h||(_h=1,vu.exports=O0()),vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function D0(){if(wh)return so;wh=1;var n=ic(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,S){var g,y={},T=null,k=null;S!==void 0&&(T=""+S),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(k=m.ref);for(g in m)a.call(m,g)&&!c.hasOwnProperty(g)&&(y[g]=m[g]);if(h&&h.defaultProps)for(g in m=h.defaultProps,m)y[g]===void 0&&(y[g]=m[g]);return{$$typeof:i,type:h,key:T,ref:k,props:y,_owner:d.current}}return so.Fragment=o,so.jsx=f,so.jsxs=f,so}var Ah;function M0(){return Ah||(Ah=1,gu.exports=D0()),gu.exports}var Re=M0(),ge=ic();const pn=Ip(ge);var Ws={},yu={exports:{}},It={},Su={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function U0(){return Ih||(Ih=1,function(n){function i(G,V){var j=G.length;G.push(V);e:for(;0<j;){var w=j-1>>>1,D=G[w];if(0<d(D,V))G[w]=V,G[j]=D,j=w;else break e}}function o(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var V=G[0],j=G.pop();if(j!==V){G[0]=j;e:for(var w=0,D=G.length,te=D>>>1;w<te;){var K=2*(w+1)-1,pe=G[K],ae=K+1,fe=G[ae];if(0>d(pe,j))ae<D&&0>d(fe,pe)?(G[w]=fe,G[ae]=j,w=ae):(G[w]=pe,G[K]=j,w=K);else if(ae<D&&0>d(fe,j))G[w]=fe,G[ae]=j,w=ae;else break e}}return V}function d(G,V){var j=G.sortIndex-V.sortIndex;return j!==0?j:G.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var m=[],S=[],g=1,y=null,T=3,k=!1,P=!1,O=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(G){for(var V=o(S);V!==null;){if(V.callback===null)a(S);else if(V.startTime<=G)a(S),V.sortIndex=V.expirationTime,i(m,V);else break;V=o(S)}}function x(G){if(O=!1,Y(G),!P)if(o(m)!==null)P=!0,ce($);else{var V=o(S);V!==null&&se(x,V.startTime-G)}}function $(G,V){P=!1,O&&(O=!1,M(ee),ee=-1),k=!0;var j=T;try{for(Y(V),y=o(m);y!==null&&(!(y.expirationTime>V)||G&&!Ze());){var w=y.callback;if(typeof w=="function"){y.callback=null,T=y.priorityLevel;var D=w(y.expirationTime<=V);V=n.unstable_now(),typeof D=="function"?y.callback=D:y===o(m)&&a(m),Y(V)}else a(m);y=o(m)}if(y!==null)var te=!0;else{var K=o(S);K!==null&&se(x,K.startTime-V),te=!1}return te}finally{y=null,T=j,k=!1}}var U=!1,W=null,ee=-1,Ae=5,Ne=-1;function Ze(){return!(n.unstable_now()-Ne<Ae)}function Le(){if(W!==null){var G=n.unstable_now();Ne=G;var V=!0;try{V=W(!0,G)}finally{V?Te():(U=!1,W=null)}}else U=!1}var Te;if(typeof N=="function")Te=function(){N(Le)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ve=ye.port2;ye.port1.onmessage=Le,Te=function(){ve.postMessage(null)}}else Te=function(){A(Le,0)};function ce(G){W=G,U||(U=!0,Te())}function se(G,V){ee=A(function(){G(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){P||k||(P=!0,ce($))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return o(m)},n.unstable_next=function(G){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var j=T;T=V;try{return G()}finally{T=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var j=T;T=G;try{return V()}finally{T=j}},n.unstable_scheduleCallback=function(G,V,j){var w=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?w+j:w):j=w,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=j+D,G={id:g++,callback:V,priorityLevel:G,startTime:j,expirationTime:D,sortIndex:-1},j>w?(G.sortIndex=j,i(S,G),o(m)===null&&G===o(S)&&(O?(M(ee),ee=-1):O=!0,se(x,j-w))):(G.sortIndex=D,i(m,G),P||k||(P=!0,ce($))),G},n.unstable_shouldYield=Ze,n.unstable_wrapCallback=function(G){var V=T;return function(){var j=T;T=V;try{return G.apply(this,arguments)}finally{T=j}}}}(Eu)),Eu}var Th;function L0(){return Th||(Th=1,Su.exports=U0()),Su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function F0(){if(Ch)return It;Ch=1;var n=ic(),i=L0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,d={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(d[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function T(e){return m.call(y,e)?!0:m.call(g,e)?!1:S.test(e)?y[e]=!0:(g[e]=!0,!1)}function k(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,r,s){if(t===null||typeof t>"u"||k(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,r,s,l,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,N);A[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,N);A[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,N);A[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y(e,t,r,s){var l=A.hasOwnProperty(t)?A[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,r,l,s)&&(r=null),s||l===null?T(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),U=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),G=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,w;function D(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var te=!1;function K(e,t){if(!e||te)return"";te=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var s=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){s=R}e.call(t.prototype)}else{try{throw Error()}catch(R){s=R}e()}}catch(R){if(R&&s&&typeof R.stack=="string"){for(var l=R.stack.split(`
`),u=s.stack.split(`
`),p=l.length-1,v=u.length-1;1<=p&&0<=v&&l[p]!==u[v];)v--;for(;1<=p&&0<=v;p--,v--)if(l[p]!==u[v]){if(p!==1||v!==1)do if(p--,v--,0>v||l[p]!==u[v]){var E=`
`+l[p].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=p&&0<=v);break}}}finally{te=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function pe(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case U:return"Portal";case Ae:return"Profiler";case ee:return"StrictMode";case Te:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ze:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case Le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=Z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){s=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ie(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Z(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Sn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kt(e,t){var r=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ft(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=de(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fr(e,t){t=t.checked,t!=null&&Y(e,"checked",t,!1)}function En(e,t){fr(e,t);var r=de(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lr(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lr(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function On(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lr(e,t,r){(t!=="number"||Sn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dn=Array.isArray;function Mn(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+de(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function hr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(Dn(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:de(r)}}function Nc(e,t){var r=de(t.value),s=de(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,Mc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mm=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(e){Mm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ai[t]=Ai[e]})});function Uc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ai.hasOwnProperty(e)&&Ai[e]?(""+t).trim():t+"px"}function Lc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Uc(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var Um=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(Um[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function Oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Fr=null,xr=null;function Fc(e){if(e=Yi(e)){if(typeof Da!="function")throw Error(o(280));var t=e.stateNode;t&&(t=is(t),Da(e.stateNode,e.type,t))}}function xc(e){Fr?xr?xr.push(e):xr=[e]:Fr=e}function Hc(){if(Fr){var e=Fr,t=xr;if(xr=Fr=null,Fc(e),t)for(e=0;e<t.length;e++)Fc(t[e])}}function Bc(e,t){return e(t)}function Gc(){}var Ma=!1;function zc(e,t,r){if(Ma)return e(t,r);Ma=!0;try{return Bc(e,t,r)}finally{Ma=!1,(Fr!==null||xr!==null)&&(Gc(),Hc())}}function Ii(e,t){var r=e.stateNode;if(r===null)return null;var s=is(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var Ua=!1;if(h)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Ua=!1}function Lm(e,t,r,s,l,u,p,v,E){var R=Array.prototype.slice.call(arguments,3);try{t.apply(r,R)}catch(F){this.onError(F)}}var Ci=!1,Fo=null,xo=!1,La=null,Fm={onError:function(e){Ci=!0,Fo=e}};function xm(e,t,r,s,l,u,p,v,E){Ci=!1,Fo=null,Lm.apply(Fm,arguments)}function Hm(e,t,r,s,l,u,p,v,E){if(xm.apply(this,arguments),Ci){if(Ci){var R=Fo;Ci=!1,Fo=null}else throw Error(o(198));xo||(xo=!0,La=R)}}function pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wc(e){if(pr(e)!==e)throw Error(o(188))}function Bm(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===r)return Wc(l),e;if(u===s)return Wc(l),t;u=u.sibling}throw Error(o(188))}if(r.return!==s.return)r=l,s=u;else{for(var p=!1,v=l.child;v;){if(v===r){p=!0,r=l,s=u;break}if(v===s){p=!0,s=l,r=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===r){p=!0,r=u,s=l;break}if(v===s){p=!0,s=u,r=l;break}v=v.sibling}if(!p)throw Error(o(189))}}if(r.alternate!==s)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function $c(e){return e=Bm(e),e!==null?Yc(e):null}function Yc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yc(e);if(t!==null)return t;e=e.sibling}return null}var Vc=i.unstable_scheduleCallback,Xc=i.unstable_cancelCallback,Gm=i.unstable_shouldYield,zm=i.unstable_requestPaint,je=i.unstable_now,jm=i.unstable_getCurrentPriorityLevel,Fa=i.unstable_ImmediatePriority,Kc=i.unstable_UserBlockingPriority,Ho=i.unstable_NormalPriority,Wm=i.unstable_LowPriority,Qc=i.unstable_IdlePriority,Bo=null,on=null;function $m(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Bo,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Xm,Ym=Math.log,Vm=Math.LN2;function Xm(e){return e>>>=0,e===0?32:31-(Ym(e)/Vm|0)|0}var Go=64,zo=4194304;function Ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,u=e.pingedLanes,p=r&268435455;if(p!==0){var v=p&~l;v!==0?s=Ri(v):(u&=p,u!==0&&(s=Ri(u)))}else p=r&~l,p!==0?s=Ri(p):u!==0&&(s=Ri(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Zt(t),l=1<<r,s|=e[r],t&=~l;return s}function Km(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-Zt(u),v=1<<p,E=l[p];E===-1?((v&r)===0||(v&s)!==0)&&(l[p]=Km(v,t)):E<=t&&(e.expiredLanes|=v),u&=~v}}function xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zc(){var e=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),e}function Ha(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ki(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function Zm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Zt(r),u=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~u}}function Ba(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Zt(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var ke=0;function qc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Jc,Ga,bc,ed,td,za=!1,Wo=[],Un=null,Ln=null,Fn=null,Pi=new Map,Ni=new Map,xn=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Oi(e,t,r,s,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Yi(t),t!==null&&Ga(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Jm(e,t,r,s,l){switch(t){case"focusin":return Un=Oi(Un,e,t,r,s,l),!0;case"dragenter":return Ln=Oi(Ln,e,t,r,s,l),!0;case"mouseover":return Fn=Oi(Fn,e,t,r,s,l),!0;case"pointerover":var u=l.pointerId;return Pi.set(u,Oi(Pi.get(u)||null,e,t,r,s,l)),!0;case"gotpointercapture":return u=l.pointerId,Ni.set(u,Oi(Ni.get(u)||null,e,t,r,s,l)),!0}return!1}function rd(e){var t=mr(e.target);if(t!==null){var r=pr(t);if(r!==null){if(t=r.tag,t===13){if(t=jc(r),t!==null){e.blockedOn=t,td(e.priority,function(){bc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Na=s,r.target.dispatchEvent(s),Na=null}else return t=Yi(r),t!==null&&Ga(t),e.blockedOn=r,!1;t.shift()}return!0}function id(e,t,r){$o(e)&&r.delete(t)}function bm(){za=!1,Un!==null&&$o(Un)&&(Un=null),Ln!==null&&$o(Ln)&&(Ln=null),Fn!==null&&$o(Fn)&&(Fn=null),Pi.forEach(id),Ni.forEach(id)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,za||(za=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bm)))}function Mi(e){function t(l){return Di(l,e)}if(0<Wo.length){Di(Wo[0],e);for(var r=1;r<Wo.length;r++){var s=Wo[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Un!==null&&Di(Un,e),Ln!==null&&Di(Ln,e),Fn!==null&&Di(Fn,e),Pi.forEach(t),Ni.forEach(t),r=0;r<xn.length;r++)s=xn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<xn.length&&(r=xn[0],r.blockedOn===null);)rd(r),r.blockedOn===null&&xn.shift()}var Hr=x.ReactCurrentBatchConfig,Yo=!0;function eg(e,t,r,s){var l=ke,u=Hr.transition;Hr.transition=null;try{ke=1,ja(e,t,r,s)}finally{ke=l,Hr.transition=u}}function tg(e,t,r,s){var l=ke,u=Hr.transition;Hr.transition=null;try{ke=4,ja(e,t,r,s)}finally{ke=l,Hr.transition=u}}function ja(e,t,r,s){if(Yo){var l=Wa(e,t,r,s);if(l===null)sl(e,t,s,Vo,r),nd(e,s);else if(Jm(l,e,t,r,s))s.stopPropagation();else if(nd(e,s),t&4&&-1<qm.indexOf(e)){for(;l!==null;){var u=Yi(l);if(u!==null&&Jc(u),u=Wa(e,t,r,s),u===null&&sl(e,t,s,Vo,r),u===l)break;l=u}l!==null&&s.stopPropagation()}else sl(e,t,s,null,r)}}var Vo=null;function Wa(e,t,r,s){if(Vo=null,e=Oa(s),e=mr(e),e!==null)if(t=pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vo=e,null}function od(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case Fa:return 1;case Kc:return 4;case Ho:case Wm:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var Hn=null,$a=null,Xo=null;function sd(){if(Xo)return Xo;var e,t=$a,r=t.length,s,l="value"in Hn?Hn.value:Hn.textContent,u=l.length;for(e=0;e<r&&t[e]===l[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===l[u-s];s++);return Xo=l.slice(e,1<s?1-s:void 0)}function Ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function ad(){return!1}function Pt(e){function t(r,s,l,u,p){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Qo:ad,this.isPropagationStopped=ad,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Pt(Br),Ui=j({},Br,{view:0,detail:0}),ng=Pt(Ui),Va,Xa,Li,Zo=j({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Va=e.screenX-Li.screenX,Xa=e.screenY-Li.screenY):Xa=Va=0,Li=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),ld=Pt(Zo),rg=j({},Zo,{dataTransfer:0}),ig=Pt(rg),og=j({},Ui,{relatedTarget:0}),Ka=Pt(og),sg=j({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=Pt(sg),lg=j({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=Pt(lg),cg=j({},Br,{data:0}),ud=Pt(cg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function Qa(){return pg}var mg=j({},Ui,{key:function(e){if(e.key){var t=dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gg=Pt(mg),vg=j({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Pt(vg),yg=j({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),Sg=Pt(yg),Eg=j({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),_g=Pt(Eg),wg=j({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=Pt(wg),Ig=[9,13,27,32],Za=h&&"CompositionEvent"in window,Fi=null;h&&"documentMode"in document&&(Fi=document.documentMode);var Tg=h&&"TextEvent"in window&&!Fi,dd=h&&(!Za||Fi&&8<Fi&&11>=Fi),fd=" ",hd=!1;function pd(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function Cg(e,t){switch(e){case"compositionend":return md(t);case"keypress":return t.which!==32?null:(hd=!0,fd);case"textInput":return e=t.data,e===fd&&hd?null:e;default:return null}}function Rg(e,t){if(Gr)return e==="compositionend"||!Za&&pd(e,t)?(e=sd(),Xo=$a=Hn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dd&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function vd(e,t,r,s){xc(s),t=ts(t,"onChange"),0<t.length&&(r=new Ya("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var xi=null,Hi=null;function Pg(e){Ld(e,0)}function qo(e){var t=Yr(e);if(ue(t))return e}function Ng(e,t){if(e==="change")return t}var yd=!1;if(h){var qa;if(h){var Ja="oninput"in document;if(!Ja){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Ja=typeof Sd.oninput=="function"}qa=Ja}else qa=!1;yd=qa&&(!document.documentMode||9<document.documentMode)}function Ed(){xi&&(xi.detachEvent("onpropertychange",_d),Hi=xi=null)}function _d(e){if(e.propertyName==="value"&&qo(Hi)){var t=[];vd(t,Hi,e,Oa(e)),zc(Pg,t)}}function Og(e,t,r){e==="focusin"?(Ed(),xi=t,Hi=r,xi.attachEvent("onpropertychange",_d)):e==="focusout"&&Ed()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(Hi)}function Mg(e,t){if(e==="click")return qo(t)}function Ug(e,t){if(e==="input"||e==="change")return qo(t)}function Lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:Lg;function Bi(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!m.call(t,l)||!qt(e[l],t[l]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,t){var r=wd(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wd(r)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Td(){for(var e=window,t=Sn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sn(e.document)}return t}function ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fg(e){var t=Td(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Id(r.ownerDocument.documentElement,r)){if(s!==null&&ba(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,u=Math.min(s.start,l);s=s.end===void 0?u:Math.min(s.end,l),!e.extend&&u>s&&(l=s,s=u,u=l),l=Ad(r,u);var p=Ad(r,s);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xg=h&&"documentMode"in document&&11>=document.documentMode,zr=null,el=null,Gi=null,tl=!1;function Cd(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tl||zr==null||zr!==Sn(s)||(s=zr,"selectionStart"in s&&ba(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gi&&Bi(Gi,s)||(Gi=s,s=ts(el,"onSelect"),0<s.length&&(t=new Ya("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zr)))}function Jo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jr={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},nl={},Rd={};h&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function bo(e){if(nl[e])return nl[e];if(!jr[e])return e;var t=jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rd)return nl[e]=t[r];return e}var kd=bo("animationend"),Pd=bo("animationiteration"),Nd=bo("animationstart"),Od=bo("transitionend"),Dd=new Map,Md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){Dd.set(e,t),c(t,[e])}for(var rl=0;rl<Md.length;rl++){var il=Md[rl],Hg=il.toLowerCase(),Bg=il[0].toUpperCase()+il.slice(1);Bn(Hg,"on"+Bg)}Bn(kd,"onAnimationEnd"),Bn(Pd,"onAnimationIteration"),Bn(Nd,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Od,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Ud(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Hm(s,t,void 0,e),e.currentTarget=null}function Ld(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],E=v.instance,R=v.currentTarget;if(v=v.listener,E!==u&&l.isPropagationStopped())break e;Ud(l,v,R),u=E}else for(p=0;p<s.length;p++){if(v=s[p],E=v.instance,R=v.currentTarget,v=v.listener,E!==u&&l.isPropagationStopped())break e;Ud(l,v,R),u=E}}}if(xo)throw e=La,xo=!1,La=null,e}function Oe(e,t){var r=t[fl];r===void 0&&(r=t[fl]=new Set);var s=e+"__bubble";r.has(s)||(Fd(t,e,2,!1),r.add(s))}function ol(e,t,r){var s=0;t&&(s|=4),Fd(r,e,s,t)}var es="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[es]){e[es]=!0,a.forEach(function(r){r!=="selectionchange"&&(Gg.has(r)||ol(r,!1,e),ol(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[es]||(t[es]=!0,ol("selectionchange",!1,t))}}function Fd(e,t,r,s){switch(od(t)){case 1:var l=eg;break;case 4:l=tg;break;default:l=ja}r=l.bind(null,t,r,e),l=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function sl(e,t,r,s,l){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(p===4)for(p=s.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===l||E.nodeType===8&&E.parentNode===l))return;p=p.return}for(;v!==null;){if(p=mr(v),p===null)return;if(E=p.tag,E===5||E===6){s=u=p;continue e}v=v.parentNode}}s=s.return}zc(function(){var R=u,F=Oa(r),H=[];e:{var L=Dd.get(e);if(L!==void 0){var X=Ya,q=e;switch(e){case"keypress":if(Ko(r)===0)break e;case"keydown":case"keyup":X=gg;break;case"focusin":q="focus",X=Ka;break;case"focusout":q="blur",X=Ka;break;case"beforeblur":case"afterblur":X=Ka;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Sg;break;case kd:case Pd:case Nd:X=ag;break;case Od:X=_g;break;case"scroll":X=ng;break;case"wheel":X=Ag;break;case"copy":case"cut":case"paste":X=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=cd}var J=(t&4)!==0,We=!J&&e==="scroll",I=J?L!==null?L+"Capture":null:L;J=[];for(var _=R,C;_!==null;){C=_;var B=C.stateNode;if(C.tag===5&&B!==null&&(C=B,I!==null&&(B=Ii(_,I),B!=null&&J.push(Wi(_,B,C)))),We)break;_=_.return}0<J.length&&(L=new X(L,q,null,r,F),H.push({event:L,listeners:J}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",L&&r!==Na&&(q=r.relatedTarget||r.fromElement)&&(mr(q)||q[_n]))break e;if((X||L)&&(L=F.window===F?F:(L=F.ownerDocument)?L.defaultView||L.parentWindow:window,X?(q=r.relatedTarget||r.toElement,X=R,q=q?mr(q):null,q!==null&&(We=pr(q),q!==We||q.tag!==5&&q.tag!==6)&&(q=null)):(X=null,q=R),X!==q)){if(J=ld,B="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(J=cd,B="onPointerLeave",I="onPointerEnter",_="pointer"),We=X==null?L:Yr(X),C=q==null?L:Yr(q),L=new J(B,_+"leave",X,r,F),L.target=We,L.relatedTarget=C,B=null,mr(F)===R&&(J=new J(I,_+"enter",q,r,F),J.target=C,J.relatedTarget=We,B=J),We=B,X&&q)t:{for(J=X,I=q,_=0,C=J;C;C=Wr(C))_++;for(C=0,B=I;B;B=Wr(B))C++;for(;0<_-C;)J=Wr(J),_--;for(;0<C-_;)I=Wr(I),C--;for(;_--;){if(J===I||I!==null&&J===I.alternate)break t;J=Wr(J),I=Wr(I)}J=null}else J=null;X!==null&&xd(H,L,X,J,!1),q!==null&&We!==null&&xd(H,We,q,J,!0)}}e:{if(L=R?Yr(R):window,X=L.nodeName&&L.nodeName.toLowerCase(),X==="select"||X==="input"&&L.type==="file")var b=Ng;else if(gd(L))if(yd)b=Ug;else{b=Dg;var ne=Og}else(X=L.nodeName)&&X.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(b=Mg);if(b&&(b=b(e,R))){vd(H,b,r,F);break e}ne&&ne(e,L,R),e==="focusout"&&(ne=L._wrapperState)&&ne.controlled&&L.type==="number"&&Lr(L,"number",L.value)}switch(ne=R?Yr(R):window,e){case"focusin":(gd(ne)||ne.contentEditable==="true")&&(zr=ne,el=R,Gi=null);break;case"focusout":Gi=el=zr=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Cd(H,r,F);break;case"selectionchange":if(xg)break;case"keydown":case"keyup":Cd(H,r,F)}var re;if(Za)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Gr?pd(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(dd&&r.locale!=="ko"&&(Gr||le!=="onCompositionStart"?le==="onCompositionEnd"&&Gr&&(re=sd()):(Hn=F,$a="value"in Hn?Hn.value:Hn.textContent,Gr=!0)),ne=ts(R,le),0<ne.length&&(le=new ud(le,e,null,r,F),H.push({event:le,listeners:ne}),re?le.data=re:(re=md(r),re!==null&&(le.data=re)))),(re=Tg?Cg(e,r):Rg(e,r))&&(R=ts(R,"onBeforeInput"),0<R.length&&(F=new ud("onBeforeInput","beforeinput",null,r,F),H.push({event:F,listeners:R}),F.data=re))}Ld(H,t)})}function Wi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ts(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=Ii(e,r),u!=null&&s.unshift(Wi(e,u,l)),u=Ii(e,t),u!=null&&s.push(Wi(e,u,l))),e=e.return}return s}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xd(e,t,r,s,l){for(var u=t._reactName,p=[];r!==null&&r!==s;){var v=r,E=v.alternate,R=v.stateNode;if(E!==null&&E===s)break;v.tag===5&&R!==null&&(v=R,l?(E=Ii(r,u),E!=null&&p.unshift(Wi(r,E,v))):l||(E=Ii(r,u),E!=null&&p.push(Wi(r,E,v)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var zg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function Hd(e){return(typeof e=="string"?e:""+e).replace(zg,`
`).replace(jg,"")}function ns(e,t,r){if(t=Hd(t),Hd(e)!==t&&r)throw Error(o(425))}function rs(){}var al=null,ll=null;function ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cl=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,$g=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(e){return Bd.resolve(null).then(e).catch(Yg)}:cl;function Yg(e){setTimeout(function(){throw e})}function dl(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Mi(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Mi(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),sn="__reactFiber$"+$r,$i="__reactProps$"+$r,_n="__reactContainer$"+$r,fl="__reactEvents$"+$r,Vg="__reactListeners$"+$r,Xg="__reactHandles$"+$r;function mr(e){var t=e[sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_n]||r[sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gd(e);e!==null;){if(r=e[sn])return r;e=Gd(e)}return t}e=r,r=e.parentNode}return null}function Yi(e){return e=e[sn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function is(e){return e[$i]||null}var hl=[],Vr=-1;function zn(e){return{current:e}}function De(e){0>Vr||(e.current=hl[Vr],hl[Vr]=null,Vr--)}function Pe(e,t){Vr++,hl[Vr]=e.current,e.current=t}var jn={},st=zn(jn),St=zn(!1),gr=jn;function Xr(e,t){var r=e.type.contextTypes;if(!r)return jn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in r)l[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Et(e){return e=e.childContextTypes,e!=null}function os(){De(St),De(st)}function zd(e,t,r){if(st.current!==jn)throw Error(o(168));Pe(st,t),Pe(St,r)}function jd(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(o(108,fe(e)||"Unknown",l));return j({},r,s)}function ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,gr=st.current,Pe(st,e),Pe(St,St.current),!0}function Wd(e,t,r){var s=e.stateNode;if(!s)throw Error(o(169));r?(e=jd(e,t,gr),s.__reactInternalMemoizedMergedChildContext=e,De(St),De(st),Pe(st,e)):De(St),Pe(St,r)}var wn=null,as=!1,pl=!1;function $d(e){wn===null?wn=[e]:wn.push(e)}function Kg(e){as=!0,$d(e)}function Wn(){if(!pl&&wn!==null){pl=!0;var e=0,t=ke;try{var r=wn;for(ke=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}wn=null,as=!1}catch(l){throw wn!==null&&(wn=wn.slice(e+1)),Vc(Fa,Wn),l}finally{ke=t,pl=!1}}return null}var Kr=[],Qr=0,ls=null,us=0,xt=[],Ht=0,vr=null,An=1,In="";function yr(e,t){Kr[Qr++]=us,Kr[Qr++]=ls,ls=e,us=t}function Yd(e,t,r){xt[Ht++]=An,xt[Ht++]=In,xt[Ht++]=vr,vr=e;var s=An;e=In;var l=32-Zt(s)-1;s&=~(1<<l),r+=1;var u=32-Zt(t)+l;if(30<u){var p=l-l%5;u=(s&(1<<p)-1).toString(32),s>>=p,l-=p,An=1<<32-Zt(t)+l|r<<l|s,In=u+e}else An=1<<u|r<<l|s,In=e}function ml(e){e.return!==null&&(yr(e,1),Yd(e,1,0))}function gl(e){for(;e===ls;)ls=Kr[--Qr],Kr[Qr]=null,us=Kr[--Qr],Kr[Qr]=null;for(;e===vr;)vr=xt[--Ht],xt[Ht]=null,In=xt[--Ht],xt[Ht]=null,An=xt[--Ht],xt[Ht]=null}var Nt=null,Ot=null,Fe=!1,Jt=null;function Vd(e,t){var r=jt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:An,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,Ot=null,!0):!1;default:return!1}}function vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(Fe){var t=Ot;if(t){var r=t;if(!Xd(e,t)){if(vl(e))throw Error(o(418));t=Gn(r.nextSibling);var s=Nt;t&&Xd(e,t)?Vd(s,r):(e.flags=e.flags&-4097|2,Fe=!1,Nt=e)}}else{if(vl(e))throw Error(o(418));e.flags=e.flags&-4097|2,Fe=!1,Nt=e}}}function Kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function cs(e){if(e!==Nt)return!1;if(!Fe)return Kd(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ul(e.type,e.memoizedProps)),t&&(t=Ot)){if(vl(e))throw Qd(),Error(o(418));for(;t;)Vd(e,t),t=Gn(t.nextSibling)}if(Kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ot=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Nt?Gn(e.stateNode.nextSibling):null;return!0}function Qd(){for(var e=Ot;e;)e=Gn(e.nextSibling)}function Zr(){Ot=Nt=null,Fe=!1}function Sl(e){Jt===null?Jt=[e]:Jt.push(e)}var Qg=x.ReactCurrentBatchConfig;function Vi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var s=r.stateNode}if(!s)throw Error(o(147,e));var l=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var v=l.refs;p===null?delete v[u]:v[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zd(e){var t=e._init;return t(e._payload)}function qd(e){function t(I,_){if(e){var C=I.deletions;C===null?(I.deletions=[_],I.flags|=16):C.push(_)}}function r(I,_){if(!e)return null;for(;_!==null;)t(I,_),_=_.sibling;return null}function s(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function l(I,_){return I=qn(I,_),I.index=0,I.sibling=null,I}function u(I,_,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<_?(I.flags|=2,_):C):(I.flags|=2,_)):(I.flags|=1048576,_)}function p(I){return e&&I.alternate===null&&(I.flags|=2),I}function v(I,_,C,B){return _===null||_.tag!==6?(_=cu(C,I.mode,B),_.return=I,_):(_=l(_,C),_.return=I,_)}function E(I,_,C,B){var b=C.type;return b===W?F(I,_,C.props.children,B,C.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ce&&Zd(b)===_.type)?(B=l(_,C.props),B.ref=Vi(I,_,C),B.return=I,B):(B=Ls(C.type,C.key,C.props,null,I.mode,B),B.ref=Vi(I,_,C),B.return=I,B)}function R(I,_,C,B){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=du(C,I.mode,B),_.return=I,_):(_=l(_,C.children||[]),_.return=I,_)}function F(I,_,C,B,b){return _===null||_.tag!==7?(_=Cr(C,I.mode,B,b),_.return=I,_):(_=l(_,C),_.return=I,_)}function H(I,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=cu(""+_,I.mode,C),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $:return C=Ls(_.type,_.key,_.props,null,I.mode,C),C.ref=Vi(I,null,_),C.return=I,C;case U:return _=du(_,I.mode,C),_.return=I,_;case ce:var B=_._init;return H(I,B(_._payload),C)}if(Dn(_)||V(_))return _=Cr(_,I.mode,C,null),_.return=I,_;ds(I,_)}return null}function L(I,_,C,B){var b=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return b!==null?null:v(I,_,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $:return C.key===b?E(I,_,C,B):null;case U:return C.key===b?R(I,_,C,B):null;case ce:return b=C._init,L(I,_,b(C._payload),B)}if(Dn(C)||V(C))return b!==null?null:F(I,_,C,B,null);ds(I,C)}return null}function X(I,_,C,B,b){if(typeof B=="string"&&B!==""||typeof B=="number")return I=I.get(C)||null,v(_,I,""+B,b);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $:return I=I.get(B.key===null?C:B.key)||null,E(_,I,B,b);case U:return I=I.get(B.key===null?C:B.key)||null,R(_,I,B,b);case ce:var ne=B._init;return X(I,_,C,ne(B._payload),b)}if(Dn(B)||V(B))return I=I.get(C)||null,F(_,I,B,b,null);ds(_,B)}return null}function q(I,_,C,B){for(var b=null,ne=null,re=_,le=_=0,be=null;re!==null&&le<C.length;le++){re.index>le?(be=re,re=null):be=re.sibling;var _e=L(I,re,C[le],B);if(_e===null){re===null&&(re=be);break}e&&re&&_e.alternate===null&&t(I,re),_=u(_e,_,le),ne===null?b=_e:ne.sibling=_e,ne=_e,re=be}if(le===C.length)return r(I,re),Fe&&yr(I,le),b;if(re===null){for(;le<C.length;le++)re=H(I,C[le],B),re!==null&&(_=u(re,_,le),ne===null?b=re:ne.sibling=re,ne=re);return Fe&&yr(I,le),b}for(re=s(I,re);le<C.length;le++)be=X(re,I,le,C[le],B),be!==null&&(e&&be.alternate!==null&&re.delete(be.key===null?le:be.key),_=u(be,_,le),ne===null?b=be:ne.sibling=be,ne=be);return e&&re.forEach(function(Jn){return t(I,Jn)}),Fe&&yr(I,le),b}function J(I,_,C,B){var b=V(C);if(typeof b!="function")throw Error(o(150));if(C=b.call(C),C==null)throw Error(o(151));for(var ne=b=null,re=_,le=_=0,be=null,_e=C.next();re!==null&&!_e.done;le++,_e=C.next()){re.index>le?(be=re,re=null):be=re.sibling;var Jn=L(I,re,_e.value,B);if(Jn===null){re===null&&(re=be);break}e&&re&&Jn.alternate===null&&t(I,re),_=u(Jn,_,le),ne===null?b=Jn:ne.sibling=Jn,ne=Jn,re=be}if(_e.done)return r(I,re),Fe&&yr(I,le),b;if(re===null){for(;!_e.done;le++,_e=C.next())_e=H(I,_e.value,B),_e!==null&&(_=u(_e,_,le),ne===null?b=_e:ne.sibling=_e,ne=_e);return Fe&&yr(I,le),b}for(re=s(I,re);!_e.done;le++,_e=C.next())_e=X(re,I,le,_e.value,B),_e!==null&&(e&&_e.alternate!==null&&re.delete(_e.key===null?le:_e.key),_=u(_e,_,le),ne===null?b=_e:ne.sibling=_e,ne=_e);return e&&re.forEach(function(k0){return t(I,k0)}),Fe&&yr(I,le),b}function We(I,_,C,B){if(typeof C=="object"&&C!==null&&C.type===W&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $:e:{for(var b=C.key,ne=_;ne!==null;){if(ne.key===b){if(b=C.type,b===W){if(ne.tag===7){r(I,ne.sibling),_=l(ne,C.props.children),_.return=I,I=_;break e}}else if(ne.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ce&&Zd(b)===ne.type){r(I,ne.sibling),_=l(ne,C.props),_.ref=Vi(I,ne,C),_.return=I,I=_;break e}r(I,ne);break}else t(I,ne);ne=ne.sibling}C.type===W?(_=Cr(C.props.children,I.mode,B,C.key),_.return=I,I=_):(B=Ls(C.type,C.key,C.props,null,I.mode,B),B.ref=Vi(I,_,C),B.return=I,I=B)}return p(I);case U:e:{for(ne=C.key;_!==null;){if(_.key===ne)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){r(I,_.sibling),_=l(_,C.children||[]),_.return=I,I=_;break e}else{r(I,_);break}else t(I,_);_=_.sibling}_=du(C,I.mode,B),_.return=I,I=_}return p(I);case ce:return ne=C._init,We(I,_,ne(C._payload),B)}if(Dn(C))return q(I,_,C,B);if(V(C))return J(I,_,C,B);ds(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(r(I,_.sibling),_=l(_,C),_.return=I,I=_):(r(I,_),_=cu(C,I.mode,B),_.return=I,I=_),p(I)):r(I,_)}return We}var qr=qd(!0),Jd=qd(!1),fs=zn(null),hs=null,Jr=null,El=null;function _l(){El=Jr=hs=null}function wl(e){var t=fs.current;De(fs),e._currentValue=t}function Al(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function br(e,t){hs=e,El=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_t=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(El!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(hs===null)throw Error(o(308));Jr=e,hs.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var Sr=null;function Il(e){Sr===null?Sr=[e]:Sr.push(e)}function bd(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Il(t)):(r.next=l.next,l.next=r),t.interleaved=r,Tn(e,s)}function Tn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Se&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Tn(e,r)}return l=s.interleaved,l===null?(t.next=t,Il(s)):(t.next=l.next,l.next=t),s.interleaved=t,Tn(e,r)}function ps(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ba(e,r)}}function tf(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?l=u=p:u=u.next=p,r=r.next}while(r!==null);u===null?l=u=t:u=u.next=t}else l=u=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ms(e,t,r,s){var l=e.updateQueue;$n=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var E=v,R=E.next;E.next=null,p===null?u=R:p.next=R,p=E;var F=e.alternate;F!==null&&(F=F.updateQueue,v=F.lastBaseUpdate,v!==p&&(v===null?F.firstBaseUpdate=R:v.next=R,F.lastBaseUpdate=E))}if(u!==null){var H=l.baseState;p=0,F=R=E=null,v=u;do{var L=v.lane,X=v.eventTime;if((s&L)===L){F!==null&&(F=F.next={eventTime:X,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var q=e,J=v;switch(L=t,X=r,J.tag){case 1:if(q=J.payload,typeof q=="function"){H=q.call(X,H,L);break e}H=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=J.payload,L=typeof q=="function"?q.call(X,H,L):q,L==null)break e;H=j({},H,L);break e;case 2:$n=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,L=l.effects,L===null?l.effects=[v]:L.push(v))}else X={eventTime:X,lane:L,tag:v.tag,payload:v.payload,callback:v.callback,next:null},F===null?(R=F=X,E=H):F=F.next=X,p|=L;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;L=v,v=L.next,L.next=null,l.lastBaseUpdate=L,l.shared.pending=null}}while(!0);if(F===null&&(E=H),l.baseState=E,l.firstBaseUpdate=R,l.lastBaseUpdate=F,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);wr|=p,e.lanes=p,e.memoizedState=H}}function nf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(o(191,l));l.call(s)}}}var Xi={},an=zn(Xi),Ki=zn(Xi),Qi=zn(Xi);function Er(e){if(e===Xi)throw Error(o(174));return e}function Cl(e,t){switch(Pe(Qi,t),Pe(Ki,e),Pe(an,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ra(t,e)}De(an),Pe(an,t)}function ei(){De(an),De(Ki),De(Qi)}function rf(e){Er(Qi.current);var t=Er(an.current),r=Ra(t,e.type);t!==r&&(Pe(Ki,e),Pe(an,r))}function Rl(e){Ki.current===e&&(De(an),De(Ki))}var He=zn(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function Pl(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var vs=x.ReactCurrentDispatcher,Nl=x.ReactCurrentBatchConfig,_r=0,Be=null,Ke=null,qe=null,ys=!1,Zi=!1,qi=0,Zg=0;function at(){throw Error(o(321))}function Ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function Dl(e,t,r,s,l,u){if(_r=u,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vs.current=e===null||e.memoizedState===null?e0:t0,e=r(s,l),Zi){u=0;do{if(Zi=!1,qi=0,25<=u)throw Error(o(301));u+=1,qe=Ke=null,t.updateQueue=null,vs.current=n0,e=r(s,l)}while(Zi)}if(vs.current=_s,t=Ke!==null&&Ke.next!==null,_r=0,qe=Ke=Be=null,ys=!1,t)throw Error(o(300));return e}function Ml(){var e=qi!==0;return qi=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Be.memoizedState=qe=e:qe=qe.next=e,qe}function Gt(){if(Ke===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=qe===null?Be.memoizedState:qe.next;if(t!==null)qe=t,Ke=e;else{if(e===null)throw Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},qe===null?Be.memoizedState=qe=e:qe=qe.next=e}return qe}function Ji(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=Gt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var s=Ke,l=s.baseQueue,u=r.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}s.baseQueue=l=u,r.pending=null}if(l!==null){u=l.next,s=s.baseState;var v=p=null,E=null,R=u;do{var F=R.lane;if((_r&F)===F)E!==null&&(E=E.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),s=R.hasEagerState?R.eagerState:e(s,R.action);else{var H={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};E===null?(v=E=H,p=s):E=E.next=H,Be.lanes|=F,wr|=F}R=R.next}while(R!==null&&R!==u);E===null?p=s:E.next=v,qt(s,t.memoizedState)||(_t=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=E,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do u=l.lane,Be.lanes|=u,wr|=u,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ll(e){var t=Gt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,u=t.memoizedState;if(l!==null){r.pending=null;var p=l=l.next;do u=e(u,p.action),p=p.next;while(p!==l);qt(u,t.memoizedState)||(_t=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,s]}function of(){}function sf(e,t){var r=Be,s=Gt(),l=t(),u=!qt(s.memoizedState,l);if(u&&(s.memoizedState=l,_t=!0),s=s.queue,Fl(uf.bind(null,r,s,e),[e]),s.getSnapshot!==t||u||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,bi(9,lf.bind(null,r,s,l,t),void 0,null),Je===null)throw Error(o(349));(_r&30)!==0||af(r,t,l)}return l}function af(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lf(e,t,r,s){t.value=r,t.getSnapshot=s,cf(t)&&df(e)}function uf(e,t,r){return r(function(){cf(t)&&df(e)})}function cf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qt(e,r)}catch{return!0}}function df(e){var t=Tn(e,1);t!==null&&nn(t,e,1,-1)}function ff(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t.queue=e,e=e.dispatch=bg.bind(null,Be,e),[t.memoizedState,e]}function bi(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function hf(){return Gt().memoizedState}function Ss(e,t,r,s){var l=ln();Be.flags|=e,l.memoizedState=bi(1|t,r,void 0,s===void 0?null:s)}function Es(e,t,r,s){var l=Gt();s=s===void 0?null:s;var u=void 0;if(Ke!==null){var p=Ke.memoizedState;if(u=p.destroy,s!==null&&Ol(s,p.deps)){l.memoizedState=bi(t,r,u,s);return}}Be.flags|=e,l.memoizedState=bi(1|t,r,u,s)}function pf(e,t){return Ss(8390656,8,e,t)}function Fl(e,t){return Es(2048,8,e,t)}function mf(e,t){return Es(4,2,e,t)}function gf(e,t){return Es(4,4,e,t)}function vf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yf(e,t,r){return r=r!=null?r.concat([e]):null,Es(4,4,vf.bind(null,t,e),r)}function xl(){}function Sf(e,t){var r=Gt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ol(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Ef(e,t){var r=Gt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ol(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function _f(e,t,r){return(_r&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r):(qt(r,t)||(r=Zc(),Be.lanes|=r,wr|=r,e.baseState=!0),t)}function qg(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var s=Nl.transition;Nl.transition={};try{e(!1),t()}finally{ke=r,Nl.transition=s}}function wf(){return Gt().memoizedState}function Jg(e,t,r){var s=Qn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Af(e))If(t,r);else if(r=bd(e,t,r,s),r!==null){var l=pt();nn(r,e,s,l),Tf(r,t,s)}}function bg(e,t,r){var s=Qn(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Af(e))If(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,r);if(l.hasEagerState=!0,l.eagerState=v,qt(v,p)){var E=t.interleaved;E===null?(l.next=l,Il(t)):(l.next=E.next,E.next=l),t.interleaved=l;return}}catch{}finally{}r=bd(e,t,l,s),r!==null&&(l=pt(),nn(r,e,s,l),Tf(r,t,s))}}function Af(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function If(e,t){Zi=ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Tf(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ba(e,r)}}var _s={readContext:Bt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},e0={readContext:Bt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:pf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ss(4194308,4,vf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ln();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Jg.bind(null,Be,e),[s.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:ff,useDebugValue:xl,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=ff(!1),t=e[0];return e=qg.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Be,l=ln();if(Fe){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),Je===null)throw Error(o(349));(_r&30)!==0||af(s,t,r)}l.memoizedState=r;var u={value:r,getSnapshot:t};return l.queue=u,pf(uf.bind(null,s,u,e),[e]),s.flags|=2048,bi(9,lf.bind(null,s,u,r,t),void 0,null),r},useId:function(){var e=ln(),t=Je.identifierPrefix;if(Fe){var r=In,s=An;r=(s&~(1<<32-Zt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=qi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Zg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t0={readContext:Bt,useCallback:Sf,useContext:Bt,useEffect:Fl,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:Ef,useReducer:Ul,useRef:hf,useState:function(){return Ul(Ji)},useDebugValue:xl,useDeferredValue:function(e){var t=Gt();return _f(t,Ke.memoizedState,e)},useTransition:function(){var e=Ul(Ji)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:sf,useId:wf,unstable_isNewReconciler:!1},n0={readContext:Bt,useCallback:Sf,useContext:Bt,useEffect:Fl,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:Ef,useReducer:Ll,useRef:hf,useState:function(){return Ll(Ji)},useDebugValue:xl,useDeferredValue:function(e){var t=Gt();return Ke===null?t.memoizedState=e:_f(t,Ke.memoizedState,e)},useTransition:function(){var e=Ll(Ji)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:sf,useId:wf,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:j({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ws={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=pt(),l=Qn(e),u=Cn(s,l);u.payload=t,r!=null&&(u.callback=r),t=Yn(e,u,l),t!==null&&(nn(t,e,l,s),ps(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=pt(),l=Qn(e),u=Cn(s,l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Yn(e,u,l),t!==null&&(nn(t,e,l,s),ps(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pt(),s=Qn(e),l=Cn(r,s);l.tag=2,t!=null&&(l.callback=t),t=Yn(e,l,s),t!==null&&(nn(t,e,s,r),ps(t,e,s))}};function Cf(e,t,r,s,l,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!Bi(r,s)||!Bi(l,u):!0}function Rf(e,t,r){var s=!1,l=jn,u=t.contextType;return typeof u=="object"&&u!==null?u=Bt(u):(l=Et(t)?gr:st.current,s=t.contextTypes,u=(s=s!=null)?Xr(e,l):jn),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ws,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function kf(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function Bl(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Tl(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=Bt(u):(u=Et(t)?gr:st.current,l.context=Xr(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Hl(e,t,u,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ws.enqueueReplaceState(l,l.state,null),ms(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",s=t;do r+=pe(s),s=s.return;while(s);var l=r}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function Gl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function Pf(e,t,r){r=Cn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ps||(Ps=!0,nu=s),zl(e,t)},r}function Nf(e,t,r){r=Cn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){zl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){zl(e,t),typeof s!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Of(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new r0;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=v0.bind(null,e,t,r),t.then(e,e))}function Df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mf(e,t,r,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cn(-1,1),t.tag=2,Yn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var i0=x.ReactCurrentOwner,_t=!1;function ht(e,t,r,s){t.child=e===null?Jd(t,null,r,s):qr(t,e.child,r,s)}function Uf(e,t,r,s,l){r=r.render;var u=t.ref;return br(t,l),s=Dl(e,t,r,s,u,l),r=Ml(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Rn(e,t,l)):(Fe&&r&&ml(t),t.flags|=1,ht(e,t,s,l),t.child)}function Lf(e,t,r,s,l){if(e===null){var u=r.type;return typeof u=="function"&&!uu(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,Ff(e,t,u,s,l)):(e=Ls(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&l)===0){var p=u.memoizedProps;if(r=r.compare,r=r!==null?r:Bi,r(p,s)&&e.ref===t.ref)return Rn(e,t,l)}return t.flags|=1,e=qn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,r,s,l){if(e!==null){var u=e.memoizedProps;if(Bi(u,s)&&e.ref===t.ref)if(_t=!1,t.pendingProps=s=u,(e.lanes&l)!==0)(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,Rn(e,t,l)}return jl(e,t,r,s,l)}function xf(e,t,r){var s=t.pendingProps,l=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ri,Dt),Dt|=r;else{if((r&1073741824)===0)return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(ri,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:r,Pe(ri,Dt),Dt|=s}else u!==null?(s=u.baseLanes|r,t.memoizedState=null):s=r,Pe(ri,Dt),Dt|=s;return ht(e,t,l,r),t.child}function Hf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jl(e,t,r,s,l){var u=Et(r)?gr:st.current;return u=Xr(t,u),br(t,l),r=Dl(e,t,r,s,u,l),s=Ml(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Rn(e,t,l)):(Fe&&s&&ml(t),t.flags|=1,ht(e,t,r,l),t.child)}function Bf(e,t,r,s,l){if(Et(r)){var u=!0;ss(t)}else u=!1;if(br(t,l),t.stateNode===null)Is(e,t),Rf(t,r,s),Bl(t,r,s,l),s=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var E=p.context,R=r.contextType;typeof R=="object"&&R!==null?R=Bt(R):(R=Et(r)?gr:st.current,R=Xr(t,R));var F=r.getDerivedStateFromProps,H=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function";H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==s||E!==R)&&kf(t,p,s,R),$n=!1;var L=t.memoizedState;p.state=L,ms(t,s,p,l),E=t.memoizedState,v!==s||L!==E||St.current||$n?(typeof F=="function"&&(Hl(t,r,F,s),E=t.memoizedState),(v=$n||Cf(t,r,v,s,L,E,R))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=E),p.props=s,p.state=E,p.context=R,s=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,ef(e,t),v=t.memoizedProps,R=t.type===t.elementType?v:bt(t.type,v),p.props=R,H=t.pendingProps,L=p.context,E=r.contextType,typeof E=="object"&&E!==null?E=Bt(E):(E=Et(r)?gr:st.current,E=Xr(t,E));var X=r.getDerivedStateFromProps;(F=typeof X=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==H||L!==E)&&kf(t,p,s,E),$n=!1,L=t.memoizedState,p.state=L,ms(t,s,p,l);var q=t.memoizedState;v!==H||L!==q||St.current||$n?(typeof X=="function"&&(Hl(t,r,X,s),q=t.memoizedState),(R=$n||Cf(t,r,R,s,L,q,E)||!1)?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,q,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,q,E)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=q),p.props=s,p.state=q,p.context=E,s=R):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return Wl(e,t,r,s,u,l)}function Wl(e,t,r,s,l,u){Hf(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return l&&Wd(t,r,!1),Rn(e,t,u);s=t.stateNode,i0.current=t;var v=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=qr(t,e.child,null,u),t.child=qr(t,null,v,u)):ht(e,t,v,u),t.memoizedState=s.state,l&&Wd(t,r,!0),t.child}function Gf(e){var t=e.stateNode;t.pendingContext?zd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zd(e,t.context,!1),Cl(e,t.containerInfo)}function zf(e,t,r,s,l){return Zr(),Sl(l),t.flags|=256,ht(e,t,r,s),t.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jf(e,t,r){var s=t.pendingProps,l=He.current,u=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Pe(He,l&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=s.children,e=s.fallback,u?(s=t.mode,u=t.child,p={mode:"hidden",children:p},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=p):u=Fs(p,s,0,null),e=Cr(e,s,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Yl(r),t.memoizedState=$l,e):Vl(t,p));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return o0(e,t,p,s,v,l,r);if(u){u=s.fallback,p=t.mode,l=e.child,v=l.sibling;var E={mode:"hidden",children:s.children};return(p&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=E,t.deletions=null):(s=qn(l,E),s.subtreeFlags=l.subtreeFlags&14680064),v!==null?u=qn(v,u):(u=Cr(u,p,r,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,p=e.child.memoizedState,p=p===null?Yl(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~r,t.memoizedState=$l,s}return u=e.child,e=u.sibling,s=qn(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Vl(e,t){return t=Fs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,s){return s!==null&&Sl(s),qr(t,e.child,null,r),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o0(e,t,r,s,l,u,p){if(r)return t.flags&256?(t.flags&=-257,s=Gl(Error(o(422))),As(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,l=t.mode,s=Fs({mode:"visible",children:s.children},l,0,null),u=Cr(u,l,p,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&qr(t,e.child,null,p),t.child.memoizedState=Yl(p),t.memoizedState=$l,u);if((t.mode&1)===0)return As(e,t,p,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var v=s.dgst;return s=v,u=Error(o(419)),s=Gl(u,s,void 0),As(e,t,p,s)}if(v=(p&e.childLanes)!==0,_t||v){if(s=Je,s!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|p))!==0?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Tn(e,l),nn(s,e,l,-1))}return lu(),s=Gl(Error(o(421))),As(e,t,p,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=y0.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,Ot=Gn(l.nextSibling),Nt=t,Fe=!0,Jt=null,e!==null&&(xt[Ht++]=An,xt[Ht++]=In,xt[Ht++]=vr,An=e.id,In=e.overflow,vr=t),t=Vl(t,s.children),t.flags|=4096,t)}function Wf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Al(e.return,t,r)}function Xl(e,t,r,s,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=r,u.tailMode=l)}function $f(e,t,r){var s=t.pendingProps,l=s.revealOrder,u=s.tail;if(ht(e,t,s.children,r),s=He.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wf(e,r,t);else if(e.tag===19)Wf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Pe(He,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&gs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Xl(t,!1,l,r,u);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&gs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Xl(t,!0,r,null,u);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function s0(e,t,r){switch(t.tag){case 3:Gf(t),Zr();break;case 5:rf(t);break;case 1:Et(t.type)&&ss(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Pe(fs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Pe(He,He.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?jf(e,t,r):(Pe(He,He.current&1),e=Rn(e,t,r),e!==null?e.sibling:null);Pe(He,He.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return $f(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Pe(He,He.current),s)break;return null;case 22:case 23:return t.lanes=0,xf(e,t,r)}return Rn(e,t,r)}var Yf,Kl,Vf,Xf;Yf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Kl=function(){},Vf=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Er(an.current);var u=null;switch(r){case"input":l=kt(e,l),s=kt(e,s),u=[];break;case"select":l=j({},l,{value:void 0}),s=j({},s,{value:void 0}),u=[];break;case"textarea":l=hr(e,l),s=hr(e,s),u=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=rs)}ka(r,s);var p;r=null;for(R in l)if(!s.hasOwnProperty(R)&&l.hasOwnProperty(R)&&l[R]!=null)if(R==="style"){var v=l[R];for(p in v)v.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(d.hasOwnProperty(R)?u||(u=[]):(u=u||[]).push(R,null));for(R in s){var E=s[R];if(v=l!=null?l[R]:void 0,s.hasOwnProperty(R)&&E!==v&&(E!=null||v!=null))if(R==="style")if(v){for(p in v)!v.hasOwnProperty(p)||E&&E.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in E)E.hasOwnProperty(p)&&v[p]!==E[p]&&(r||(r={}),r[p]=E[p])}else r||(u||(u=[]),u.push(R,r)),r=E;else R==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(u=u||[]).push(R,E)):R==="children"?typeof E!="string"&&typeof E!="number"||(u=u||[]).push(R,""+E):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(d.hasOwnProperty(R)?(E!=null&&R==="onScroll"&&Oe("scroll",e),u||v===E||(u=[])):(u=u||[]).push(R,E))}r&&(u=u||[]).push("style",r);var R=u;(t.updateQueue=R)&&(t.flags|=4)}},Xf=function(e,t,r,s){r!==s&&(t.flags|=4)};function eo(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function a0(e,t,r){var s=t.pendingProps;switch(gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Et(t.type)&&os(),lt(t),null;case 3:return s=t.stateNode,ei(),De(St),De(st),Pl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jt!==null&&(ou(Jt),Jt=null))),Kl(e,t),lt(t),null;case 5:Rl(t);var l=Er(Qi.current);if(r=t.type,e!==null&&t.stateNode!=null)Vf(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return lt(t),null}if(e=Er(an.current),cs(t)){s=t.stateNode,r=t.type;var u=t.memoizedProps;switch(s[sn]=t,s[$i]=u,e=(t.mode&1)!==0,r){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<zi.length;l++)Oe(zi[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Ft(s,u),Oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Oe("invalid",s);break;case"textarea":Pc(s,u),Oe("invalid",s)}ka(r,u),l=null;for(var p in u)if(u.hasOwnProperty(p)){var v=u[p];p==="children"?typeof v=="string"?s.textContent!==v&&(u.suppressHydrationWarning!==!0&&ns(s.textContent,v,e),l=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(u.suppressHydrationWarning!==!0&&ns(s.textContent,v,e),l=["children",""+v]):d.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&Oe("scroll",s)}switch(r){case"input":Ie(s),On(s,u,!0);break;case"textarea":Ie(s),Oc(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=rs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(r,{is:s.is}):(e=p.createElement(r),r==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,r),e[sn]=t,e[$i]=s,Yf(e,t,!1,!1),t.stateNode=e;e:{switch(p=Pa(r,s),r){case"dialog":Oe("cancel",e),Oe("close",e),l=s;break;case"iframe":case"object":case"embed":Oe("load",e),l=s;break;case"video":case"audio":for(l=0;l<zi.length;l++)Oe(zi[l],e);l=s;break;case"source":Oe("error",e),l=s;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),l=s;break;case"details":Oe("toggle",e),l=s;break;case"input":Ft(e,s),l=kt(e,s),Oe("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=j({},s,{value:void 0}),Oe("invalid",e);break;case"textarea":Pc(e,s),l=hr(e,s),Oe("invalid",e);break;default:l=s}ka(r,l),v=l;for(u in v)if(v.hasOwnProperty(u)){var E=v[u];u==="style"?Lc(e,E):u==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Mc(e,E)):u==="children"?typeof E=="string"?(r!=="textarea"||E!=="")&&wi(e,E):typeof E=="number"&&wi(e,""+E):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?E!=null&&u==="onScroll"&&Oe("scroll",e):E!=null&&Y(e,u,E,p))}switch(r){case"input":Ie(e),On(e,s,!1);break;case"textarea":Ie(e),Oc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+de(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Mn(e,!!s.multiple,u,!1):s.defaultValue!=null&&Mn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=rs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(r=Er(Qi.current),Er(an.current),cs(t)){if(s=t.stateNode,r=t.memoizedProps,s[sn]=t,(u=s.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:ns(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ns(s.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[sn]=t,t.stateNode=s}return lt(t),null;case 13:if(De(He),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Ot!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Qd(),Zr(),t.flags|=98560,u=!1;else if(u=cs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[sn]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),u=!1}else Jt!==null&&(ou(Jt),Jt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(He.current&1)!==0?Qe===0&&(Qe=3):lu())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return ei(),Kl(e,t),e===null&&ji(t.stateNode.containerInfo),lt(t),null;case 10:return wl(t.type._context),lt(t),null;case 17:return Et(t.type)&&os(),lt(t),null;case 19:if(De(He),u=t.memoizedState,u===null)return lt(t),null;if(s=(t.flags&128)!==0,p=u.rendering,p===null)if(s)eo(u,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=gs(e),p!==null){for(t.flags|=128,eo(u,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)u=r,e=s,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(He,He.current&1|2),t.child}e=e.sibling}u.tail!==null&&je()>ii&&(t.flags|=128,s=!0,eo(u,!1),t.lanes=4194304)}else{if(!s)if(e=gs(p),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Fe)return lt(t),null}else 2*je()-u.renderingStartTime>ii&&r!==1073741824&&(t.flags|=128,s=!0,eo(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(r=u.last,r!==null?r.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=je(),t.sibling=null,r=He.current,Pe(He,s?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return au(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function l0(e,t){switch(gl(t),t.tag){case 1:return Et(t.type)&&os(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),De(St),De(st),Pl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(De(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(He),null;case 4:return ei(),null;case 10:return wl(t.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Ts=!1,ut=!1,u0=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ni(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ge(e,t,s)}else r.current=null}function Ql(e,t,r){try{r()}catch(s){Ge(e,t,s)}}var Kf=!1;function c0(e,t){if(al=Yo,e=Td(),ba(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var p=0,v=-1,E=-1,R=0,F=0,H=e,L=null;t:for(;;){for(var X;H!==r||l!==0&&H.nodeType!==3||(v=p+l),H!==u||s!==0&&H.nodeType!==3||(E=p+s),H.nodeType===3&&(p+=H.nodeValue.length),(X=H.firstChild)!==null;)L=H,H=X;for(;;){if(H===e)break t;if(L===r&&++R===l&&(v=p),L===u&&++F===s&&(E=p),(X=H.nextSibling)!==null)break;H=L,L=H.parentNode}H=X}r=v===-1||E===-1?null:{start:v,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(ll={focusedElem:e,selectionRange:r},Yo=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var J=q.memoizedProps,We=q.memoizedState,I=t.stateNode,_=I.getSnapshotBeforeUpdate(t.elementType===t.type?J:bt(t.type,J),We);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){Ge(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return q=Kf,Kf=!1,q}function to(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Ql(t,r,u)}l=l.next}while(l!==s)}}function Cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Zl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qf(e){var t=e.alternate;t!==null&&(e.alternate=null,Qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[$i],delete t[fl],delete t[Vg],delete t[Xg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ql(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rs));else if(s!==4&&(e=e.child,e!==null))for(ql(e,t,r),e=e.sibling;e!==null;)ql(e,t,r),e=e.sibling}function Jl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Jl(e,t,r),e=e.sibling;e!==null;)Jl(e,t,r),e=e.sibling}var nt=null,en=!1;function Vn(e,t,r){for(r=r.child;r!==null;)Jf(e,t,r),r=r.sibling}function Jf(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Bo,r)}catch{}switch(r.tag){case 5:ut||ni(r,t);case 6:var s=nt,l=en;nt=null,Vn(e,t,r),nt=s,en=l,nt!==null&&(en?(e=nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(en?(e=nt,r=r.stateNode,e.nodeType===8?dl(e.parentNode,r):e.nodeType===1&&dl(e,r),Mi(e)):dl(nt,r.stateNode));break;case 4:s=nt,l=en,nt=r.stateNode.containerInfo,en=!0,Vn(e,t,r),nt=s,en=l;break;case 0:case 11:case 14:case 15:if(!ut&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var u=l,p=u.destroy;u=u.tag,p!==void 0&&((u&2)!==0||(u&4)!==0)&&Ql(r,t,p),l=l.next}while(l!==s)}Vn(e,t,r);break;case 1:if(!ut&&(ni(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(v){Ge(r,t,v)}Vn(e,t,r);break;case 21:Vn(e,t,r);break;case 22:r.mode&1?(ut=(s=ut)||r.memoizedState!==null,Vn(e,t,r),ut=s):Vn(e,t,r);break;default:Vn(e,t,r)}}function bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new u0),t.forEach(function(s){var l=S0.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function tn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:nt=v.stateNode,en=!1;break e;case 3:nt=v.stateNode.containerInfo,en=!0;break e;case 4:nt=v.stateNode.containerInfo,en=!0;break e}v=v.return}if(nt===null)throw Error(o(160));Jf(u,p,l),nt=null,en=!1;var E=l.alternate;E!==null&&(E.return=null),l.return=null}catch(R){Ge(l,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eh(t,e),t=t.sibling}function eh(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),un(e),s&4){try{to(3,e,e.return),Cs(3,e)}catch(J){Ge(e,e.return,J)}try{to(5,e,e.return)}catch(J){Ge(e,e.return,J)}}break;case 1:tn(t,e),un(e),s&512&&r!==null&&ni(r,r.return);break;case 5:if(tn(t,e),un(e),s&512&&r!==null&&ni(r,r.return),e.flags&32){var l=e.stateNode;try{wi(l,"")}catch(J){Ge(e,e.return,J)}}if(s&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,p=r!==null?r.memoizedProps:u,v=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{v==="input"&&u.type==="radio"&&u.name!=null&&fr(l,u),Pa(v,p);var R=Pa(v,u);for(p=0;p<E.length;p+=2){var F=E[p],H=E[p+1];F==="style"?Lc(l,H):F==="dangerouslySetInnerHTML"?Mc(l,H):F==="children"?wi(l,H):Y(l,F,H,R)}switch(v){case"input":En(l,u);break;case"textarea":Nc(l,u);break;case"select":var L=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var X=u.value;X!=null?Mn(l,!!u.multiple,X,!1):L!==!!u.multiple&&(u.defaultValue!=null?Mn(l,!!u.multiple,u.defaultValue,!0):Mn(l,!!u.multiple,u.multiple?[]:"",!1))}l[$i]=u}catch(J){Ge(e,e.return,J)}}break;case 6:if(tn(t,e),un(e),s&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(J){Ge(e,e.return,J)}}break;case 3:if(tn(t,e),un(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(J){Ge(e,e.return,J)}break;case 4:tn(t,e),un(e);break;case 13:tn(t,e),un(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(tu=je())),s&4&&bf(e);break;case 22:if(F=r!==null&&r.memoizedState!==null,e.mode&1?(ut=(R=ut)||F,tn(t,e),ut=R):tn(t,e),un(e),s&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!F&&(e.mode&1)!==0)for(Q=e,F=e.child;F!==null;){for(H=Q=F;Q!==null;){switch(L=Q,X=L.child,L.tag){case 0:case 11:case 14:case 15:to(4,L,L.return);break;case 1:ni(L,L.return);var q=L.stateNode;if(typeof q.componentWillUnmount=="function"){s=L,r=L.return;try{t=s,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(J){Ge(s,r,J)}}break;case 5:ni(L,L.return);break;case 22:if(L.memoizedState!==null){rh(H);continue}}X!==null?(X.return=L,Q=X):rh(H)}F=F.sibling}e:for(F=null,H=e;;){if(H.tag===5){if(F===null){F=H;try{l=H.stateNode,R?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(v=H.stateNode,E=H.memoizedProps.style,p=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=Uc("display",p))}catch(J){Ge(e,e.return,J)}}}else if(H.tag===6){if(F===null)try{H.stateNode.nodeValue=R?"":H.memoizedProps}catch(J){Ge(e,e.return,J)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;F===H&&(F=null),H=H.return}F===H&&(F=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:tn(t,e),un(e),s&4&&bf(e);break;case 21:break;default:tn(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zf(r)){var s=r;break e}r=r.return}throw Error(o(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(wi(l,""),s.flags&=-33);var u=qf(e);Jl(e,u,l);break;case 3:case 4:var p=s.stateNode.containerInfo,v=qf(e);ql(e,v,p);break;default:throw Error(o(161))}}catch(E){Ge(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d0(e,t,r){Q=e,th(e)}function th(e,t,r){for(var s=(e.mode&1)!==0;Q!==null;){var l=Q,u=l.child;if(l.tag===22&&s){var p=l.memoizedState!==null||Ts;if(!p){var v=l.alternate,E=v!==null&&v.memoizedState!==null||ut;v=Ts;var R=ut;if(Ts=p,(ut=E)&&!R)for(Q=l;Q!==null;)p=Q,E=p.child,p.tag===22&&p.memoizedState!==null?ih(l):E!==null?(E.return=p,Q=E):ih(l);for(;u!==null;)Q=u,th(u),u=u.sibling;Q=l,Ts=v,ut=R}nh(e)}else(l.subtreeFlags&8772)!==0&&u!==null?(u.return=l,Q=u):nh(e)}}function nh(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ut||Cs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ut)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&nf(t,u,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nf(t,p,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&r.focus();break;case"img":E.src&&(r.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var H=F.dehydrated;H!==null&&Mi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ut||t.flags&512&&Zl(t)}catch(L){Ge(t,t.return,L)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function rh(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function ih(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cs(4,t)}catch(E){Ge(t,r,E)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(E){Ge(t,l,E)}}var u=t.return;try{Zl(t)}catch(E){Ge(t,u,E)}break;case 5:var p=t.return;try{Zl(t)}catch(E){Ge(t,p,E)}}}catch(E){Ge(t,t.return,E)}if(t===e){Q=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Q=v;break}Q=t.return}}var f0=Math.ceil,Rs=x.ReactCurrentDispatcher,bl=x.ReactCurrentOwner,zt=x.ReactCurrentBatchConfig,Se=0,Je=null,Ve=null,rt=0,Dt=0,ri=zn(0),Qe=0,no=null,wr=0,ks=0,eu=0,ro=null,wt=null,tu=0,ii=1/0,kn=null,Ps=!1,nu=null,Xn=null,Ns=!1,Kn=null,Os=0,io=0,ru=null,Ds=-1,Ms=0;function pt(){return(Se&6)!==0?je():Ds!==-1?Ds:Ds=je()}function Qn(e){return(e.mode&1)===0?1:(Se&2)!==0&&rt!==0?rt&-rt:Qg.transition!==null?(Ms===0&&(Ms=Zc()),Ms):(e=ke,e!==0||(e=window.event,e=e===void 0?16:od(e.type)),e)}function nn(e,t,r,s){if(50<io)throw io=0,ru=null,Error(o(185));ki(e,r,s),((Se&2)===0||e!==Je)&&(e===Je&&((Se&2)===0&&(ks|=r),Qe===4&&Zn(e,rt)),At(e,s),r===1&&Se===0&&(t.mode&1)===0&&(ii=je()+500,as&&Wn()))}function At(e,t){var r=e.callbackNode;Qm(e,t);var s=jo(e,e===Je?rt:0);if(s===0)r!==null&&Xc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Xc(r),t===1)e.tag===0?Kg(sh.bind(null,e)):$d(sh.bind(null,e)),$g(function(){(Se&6)===0&&Wn()}),r=null;else{switch(qc(s)){case 1:r=Fa;break;case 4:r=Kc;break;case 16:r=Ho;break;case 536870912:r=Qc;break;default:r=Ho}r=ph(r,oh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oh(e,t){if(Ds=-1,Ms=0,(Se&6)!==0)throw Error(o(327));var r=e.callbackNode;if(oi()&&e.callbackNode!==r)return null;var s=jo(e,e===Je?rt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Us(e,s);else{t=s;var l=Se;Se|=2;var u=lh();(Je!==e||rt!==t)&&(kn=null,ii=je()+500,Ir(e,t));do try{m0();break}catch(v){ah(e,v)}while(!0);_l(),Rs.current=u,Se=l,Ve!==null?t=0:(Je=null,rt=0,t=Qe)}if(t!==0){if(t===2&&(l=xa(e),l!==0&&(s=l,t=iu(e,l))),t===1)throw r=no,Ir(e,0),Zn(e,s),At(e,je()),r;if(t===6)Zn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!h0(l)&&(t=Us(e,s),t===2&&(u=xa(e),u!==0&&(s=u,t=iu(e,u))),t===1))throw r=no,Ir(e,0),Zn(e,s),At(e,je()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Tr(e,wt,kn);break;case 3:if(Zn(e,s),(s&130023424)===s&&(t=tu+500-je(),10<t)){if(jo(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){pt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=cl(Tr.bind(null,e,wt,kn),t);break}Tr(e,wt,kn);break;case 4:if(Zn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var p=31-Zt(s);u=1<<p,p=t[p],p>l&&(l=p),s&=~u}if(s=l,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*f0(s/1960))-s,10<s){e.timeoutHandle=cl(Tr.bind(null,e,wt,kn),s);break}Tr(e,wt,kn);break;case 5:Tr(e,wt,kn);break;default:throw Error(o(329))}}}return At(e,je()),e.callbackNode===r?oh.bind(null,e):null}function iu(e,t){var r=ro;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=Us(e,t),e!==2&&(t=wt,wt=r,t!==null&&ou(t)),e}function ou(e){wt===null?wt=e:wt.push.apply(wt,e)}function h0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],u=l.getSnapshot;l=l.value;try{if(!qt(u(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~eu,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),s=1<<r;e[r]=-1,t&=~s}}function sh(e){if((Se&6)!==0)throw Error(o(327));oi();var t=jo(e,0);if((t&1)===0)return At(e,je()),null;var r=Us(e,t);if(e.tag!==0&&r===2){var s=xa(e);s!==0&&(t=s,r=iu(e,s))}if(r===1)throw r=no,Ir(e,0),Zn(e,t),At(e,je()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,wt,kn),At(e,je()),null}function su(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(ii=je()+500,as&&Wn())}}function Ar(e){Kn!==null&&Kn.tag===0&&(Se&6)===0&&oi();var t=Se;Se|=1;var r=zt.transition,s=ke;try{if(zt.transition=null,ke=1,e)return e()}finally{ke=s,zt.transition=r,Se=t,(Se&6)===0&&Wn()}}function au(){Dt=ri.current,De(ri)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wg(r)),Ve!==null)for(r=Ve.return;r!==null;){var s=r;switch(gl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&os();break;case 3:ei(),De(St),De(st),Pl();break;case 5:Rl(s);break;case 4:ei();break;case 13:De(He);break;case 19:De(He);break;case 10:wl(s.type._context);break;case 22:case 23:au()}r=r.return}if(Je=e,Ve=e=qn(e.current,null),rt=Dt=t,Qe=0,no=null,eu=ks=wr=0,wt=ro=null,Sr!==null){for(t=0;t<Sr.length;t++)if(r=Sr[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,u=r.pending;if(u!==null){var p=u.next;u.next=l,s.next=p}r.pending=s}Sr=null}return e}function ah(e,t){do{var r=Ve;try{if(_l(),vs.current=_s,ys){for(var s=Be.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ys=!1}if(_r=0,qe=Ke=Be=null,Zi=!1,qi=0,bl.current=null,r===null||r.return===null){Qe=1,no=t,Ve=null;break}e:{var u=e,p=r.return,v=r,E=t;if(t=rt,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var R=E,F=v,H=F.tag;if((F.mode&1)===0&&(H===0||H===11||H===15)){var L=F.alternate;L?(F.updateQueue=L.updateQueue,F.memoizedState=L.memoizedState,F.lanes=L.lanes):(F.updateQueue=null,F.memoizedState=null)}var X=Df(p);if(X!==null){X.flags&=-257,Mf(X,p,v,u,t),X.mode&1&&Of(u,R,t),t=X,E=R;var q=t.updateQueue;if(q===null){var J=new Set;J.add(E),t.updateQueue=J}else q.add(E);break e}else{if((t&1)===0){Of(u,R,t),lu();break e}E=Error(o(426))}}else if(Fe&&v.mode&1){var We=Df(p);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),Mf(We,p,v,u,t),Sl(ti(E,v));break e}}u=E=ti(E,v),Qe!==4&&(Qe=2),ro===null?ro=[u]:ro.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var I=Pf(u,E,t);tf(u,I);break e;case 1:v=E;var _=u.type,C=u.stateNode;if((u.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Xn===null||!Xn.has(C)))){u.flags|=65536,t&=-t,u.lanes|=t;var B=Nf(u,v,t);tf(u,B);break e}}u=u.return}while(u!==null)}ch(r)}catch(b){t=b,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(!0)}function lh(){var e=Rs.current;return Rs.current=_s,e===null?_s:e}function lu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||(wr&268435455)===0&&(ks&268435455)===0||Zn(Je,rt)}function Us(e,t){var r=Se;Se|=2;var s=lh();(Je!==e||rt!==t)&&(kn=null,Ir(e,t));do try{p0();break}catch(l){ah(e,l)}while(!0);if(_l(),Se=r,Rs.current=s,Ve!==null)throw Error(o(261));return Je=null,rt=0,Qe}function p0(){for(;Ve!==null;)uh(Ve)}function m0(){for(;Ve!==null&&!Gm();)uh(Ve)}function uh(e){var t=hh(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?ch(e):Ve=t,bl.current=null}function ch(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=a0(r,t,Dt),r!==null){Ve=r;return}}else{if(r=l0(r,t),r!==null){r.flags&=32767,Ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ve=null;return}}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Qe===0&&(Qe=5)}function Tr(e,t,r){var s=ke,l=zt.transition;try{zt.transition=null,ke=1,g0(e,t,r,s)}finally{zt.transition=l,ke=s}return null}function g0(e,t,r,s){do oi();while(Kn!==null);if((Se&6)!==0)throw Error(o(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(Zm(e,u),e===Je&&(Ve=Je=null,rt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ns||(Ns=!0,ph(Ho,function(){return oi(),null})),u=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||u){u=zt.transition,zt.transition=null;var p=ke;ke=1;var v=Se;Se|=4,bl.current=null,c0(e,r),eh(r,e),Fg(ll),Yo=!!al,ll=al=null,e.current=r,d0(r),zm(),Se=v,ke=p,zt.transition=u}else e.current=r;if(Ns&&(Ns=!1,Kn=e,Os=l),u=e.pendingLanes,u===0&&(Xn=null),$m(r.stateNode),At(e,je()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ps)throw Ps=!1,e=nu,nu=null,e;return(Os&1)!==0&&e.tag!==0&&oi(),u=e.pendingLanes,(u&1)!==0?e===ru?io++:(io=0,ru=e):io=0,Wn(),null}function oi(){if(Kn!==null){var e=qc(Os),t=zt.transition,r=ke;try{if(zt.transition=null,ke=16>e?16:e,Kn===null)var s=!1;else{if(e=Kn,Kn=null,Os=0,(Se&6)!==0)throw Error(o(331));var l=Se;for(Se|=4,Q=e.current;Q!==null;){var u=Q,p=u.child;if((Q.flags&16)!==0){var v=u.deletions;if(v!==null){for(var E=0;E<v.length;E++){var R=v[E];for(Q=R;Q!==null;){var F=Q;switch(F.tag){case 0:case 11:case 15:to(8,F,u)}var H=F.child;if(H!==null)H.return=F,Q=H;else for(;Q!==null;){F=Q;var L=F.sibling,X=F.return;if(Qf(F),F===R){Q=null;break}if(L!==null){L.return=X,Q=L;break}Q=X}}}var q=u.alternate;if(q!==null){var J=q.child;if(J!==null){q.child=null;do{var We=J.sibling;J.sibling=null,J=We}while(J!==null)}}Q=u}}if((u.subtreeFlags&2064)!==0&&p!==null)p.return=u,Q=p;else e:for(;Q!==null;){if(u=Q,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:to(9,u,u.return)}var I=u.sibling;if(I!==null){I.return=u.return,Q=I;break e}Q=u.return}}var _=e.current;for(Q=_;Q!==null;){p=Q;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,Q=C;else e:for(p=_;Q!==null;){if(v=Q,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Cs(9,v)}}catch(b){Ge(v,v.return,b)}if(v===p){Q=null;break e}var B=v.sibling;if(B!==null){B.return=v.return,Q=B;break e}Q=v.return}}if(Se=l,Wn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Bo,e)}catch{}s=!0}return s}finally{ke=r,zt.transition=t}}return!1}function dh(e,t,r){t=ti(r,t),t=Pf(e,t,1),e=Yn(e,t,1),t=pt(),e!==null&&(ki(e,1,t),At(e,t))}function Ge(e,t,r){if(e.tag===3)dh(e,e,r);else for(;t!==null;){if(t.tag===3){dh(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))){e=ti(r,e),e=Nf(t,e,1),t=Yn(t,e,1),e=pt(),t!==null&&(ki(t,1,e),At(t,e));break}}t=t.return}}function v0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(rt&r)===r&&(Qe===4||Qe===3&&(rt&130023424)===rt&&500>je()-tu?Ir(e,0):eu|=r),At(e,t)}function fh(e,t){t===0&&((e.mode&1)===0?t=1:(t=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var r=pt();e=Tn(e,t),e!==null&&(ki(e,t,r),At(e,r))}function y0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fh(e,r)}function S0(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),fh(e,r)}var hh;hh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)_t=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return _t=!1,s0(e,t,r);_t=(e.flags&131072)!==0}else _t=!1,Fe&&(t.flags&1048576)!==0&&Yd(t,us,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var l=Xr(t,st.current);br(t,r),l=Dl(null,t,s,e,l,r);var u=Ml();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(s)?(u=!0,ss(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Tl(t),l.updater=ws,t.stateNode=l,l._reactInternals=t,Bl(t,s,e,r),t=Wl(null,t,s,!0,u,r)):(t.tag=0,Fe&&u&&ml(t),ht(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=_0(s),e=bt(s,e),l){case 0:t=jl(null,t,s,e,r);break e;case 1:t=Bf(null,t,s,e,r);break e;case 11:t=Uf(null,t,s,e,r);break e;case 14:t=Lf(null,t,s,bt(s.type,e),r);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bt(s,l),jl(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bt(s,l),Bf(e,t,s,l,r);case 3:e:{if(Gf(t),e===null)throw Error(o(387));s=t.pendingProps,u=t.memoizedState,l=u.element,ef(e,t),ms(t,s,null,r);var p=t.memoizedState;if(s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=ti(Error(o(423)),t),t=zf(e,t,s,r,l);break e}else if(s!==l){l=ti(Error(o(424)),t),t=zf(e,t,s,r,l);break e}else for(Ot=Gn(t.stateNode.containerInfo.firstChild),Nt=t,Fe=!0,Jt=null,r=Jd(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),s===l){t=Rn(e,t,r);break e}ht(e,t,s,r)}t=t.child}return t;case 5:return rf(t),e===null&&yl(t),s=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,p=l.children,ul(s,l)?p=null:u!==null&&ul(s,u)&&(t.flags|=32),Hf(e,t),ht(e,t,p,r),t.child;case 6:return e===null&&yl(t),null;case 13:return jf(e,t,r);case 4:return Cl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=qr(t,null,s,r):ht(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bt(s,l),Uf(e,t,s,l,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,u=t.memoizedProps,p=l.value,Pe(fs,s._currentValue),s._currentValue=p,u!==null)if(qt(u.value,p)){if(u.children===l.children&&!St.current){t=Rn(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var v=u.dependencies;if(v!==null){p=u.child;for(var E=v.firstContext;E!==null;){if(E.context===s){if(u.tag===1){E=Cn(-1,r&-r),E.tag=2;var R=u.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?E.next=E:(E.next=F.next,F.next=E),R.pending=E}}u.lanes|=r,E=u.alternate,E!==null&&(E.lanes|=r),Al(u.return,r,t),v.lanes|=r;break}E=E.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(o(341));p.lanes|=r,v=p.alternate,v!==null&&(v.lanes|=r),Al(p,r,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}ht(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,br(t,r),l=Bt(l),s=s(l),t.flags|=1,ht(e,t,s,r),t.child;case 14:return s=t.type,l=bt(s,t.pendingProps),l=bt(s.type,l),Lf(e,t,s,l,r);case 15:return Ff(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:bt(s,l),Is(e,t),t.tag=1,Et(s)?(e=!0,ss(t)):e=!1,br(t,r),Rf(t,s,l),Bl(t,s,l,r),Wl(null,t,s,!0,e,r);case 19:return $f(e,t,r);case 22:return xf(e,t,r)}throw Error(o(156,t.tag))};function ph(e,t){return Vc(e,t)}function E0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,r,s){return new E0(e,t,r,s)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _0(e){if(typeof e=="function")return uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===ve)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=jt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ls(e,t,r,s,l,u){var p=2;if(s=e,typeof e=="function")uu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case W:return Cr(r.children,l,u,t);case ee:p=8,l|=8;break;case Ae:return e=jt(12,r,t,l|2),e.elementType=Ae,e.lanes=u,e;case Te:return e=jt(13,r,t,l),e.elementType=Te,e.lanes=u,e;case ye:return e=jt(19,r,t,l),e.elementType=ye,e.lanes=u,e;case se:return Fs(r,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:p=10;break e;case Ze:p=9;break e;case Le:p=11;break e;case ve:p=14;break e;case ce:p=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=jt(p,r,t,l),t.elementType=e,t.type=s,t.lanes=u,t}function Cr(e,t,r,s){return e=jt(7,e,s,t),e.lanes=r,e}function Fs(e,t,r,s){return e=jt(22,e,s,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function cu(e,t,r){return e=jt(6,e,null,t),e.lanes=r,e}function du(e,t,r){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w0(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function fu(e,t,r,s,l,u,p,v,E){return e=new w0(e,t,r,v,E),t===1?(t=1,u===!0&&(t|=8)):t=0,u=jt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(u),e}function A0(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function mh(e){if(!e)return jn;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(Et(r))return jd(e,r,t)}return t}function gh(e,t,r,s,l,u,p,v,E){return e=fu(r,s,!0,e,l,u,p,v,E),e.context=mh(null),r=e.current,s=pt(),l=Qn(r),u=Cn(s,l),u.callback=t??null,Yn(r,u,l),e.current.lanes=l,ki(e,l,s),At(e,s),e}function xs(e,t,r,s){var l=t.current,u=pt(),p=Qn(l);return r=mh(r),t.context===null?t.context=r:t.pendingContext=r,t=Cn(u,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Yn(l,t,p),e!==null&&(nn(e,l,p,u),ps(e,l,p)),p}function Hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hu(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function I0(){return null}var yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}Bs.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));xs(e,t,null,null)},Bs.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){xs(null,e,null,null)}),t[_n]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=ed();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xn.length&&t!==0&&t<xn[r].priority;r++);xn.splice(r,0,e),r===0&&rd(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function T0(e,t,r,s,l){if(l){if(typeof s=="function"){var u=s;s=function(){var R=Hs(p);u.call(R)}}var p=gh(t,s,e,0,null,!1,!1,"",Sh);return e._reactRootContainer=p,e[_n]=p.current,ji(e.nodeType===8?e.parentNode:e),Ar(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var v=s;s=function(){var R=Hs(E);v.call(R)}}var E=fu(e,0,!1,null,null,!1,!1,"",Sh);return e._reactRootContainer=E,e[_n]=E.current,ji(e.nodeType===8?e.parentNode:e),Ar(function(){xs(t,E,r,s)}),E}function zs(e,t,r,s,l){var u=r._reactRootContainer;if(u){var p=u;if(typeof l=="function"){var v=l;l=function(){var E=Hs(p);v.call(E)}}xs(t,p,e,l)}else p=T0(r,t,e,l,s);return Hs(p)}Jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ri(t.pendingLanes);r!==0&&(Ba(t,r|1),At(t,je()),(Se&6)===0&&(ii=je()+500,Wn()))}break;case 13:Ar(function(){var s=Tn(e,1);if(s!==null){var l=pt();nn(s,e,1,l)}}),hu(e,1)}},Ga=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var r=pt();nn(t,e,134217728,r)}hu(e,134217728)}},bc=function(e){if(e.tag===13){var t=Qn(e),r=Tn(e,t);if(r!==null){var s=pt();nn(r,e,t,s)}hu(e,t)}},ed=function(){return ke},td=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}},Da=function(e,t,r){switch(t){case"input":if(En(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=is(s);if(!l)throw Error(o(90));ue(s),En(s,l)}}}break;case"textarea":Nc(e,r);break;case"select":t=r.value,t!=null&&Mn(e,!!r.multiple,t,!1)}},Bc=su,Gc=Ar;var C0={usingClientEntryPoint:!1,Events:[Yi,Yr,is,xc,Hc,su]},oo={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$c(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||I0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Bo=js.inject(R0),on=js}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0,It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(t))throw Error(o(200));return A0(e,t,null,r)},It.createRoot=function(e,t){if(!mu(e))throw Error(o(299));var r=!1,s="",l=yh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=fu(e,1,!1,null,null,r,!1,s,l),e[_n]=t.current,ji(e.nodeType===8?e.parentNode:e),new pu(t)},It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=$c(t),e=e===null?null:e.stateNode,e},It.flushSync=function(e){return Ar(e)},It.hydrate=function(e,t,r){if(!Gs(t))throw Error(o(200));return zs(null,e,t,!0,r)},It.hydrateRoot=function(e,t,r){if(!mu(e))throw Error(o(405));var s=r!=null&&r.hydratedSources||null,l=!1,u="",p=yh;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=gh(t,null,e,1,r??null,l,!1,u,p),e[_n]=t.current,ji(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Bs(t)},It.render=function(e,t,r){if(!Gs(t))throw Error(o(200));return zs(null,e,t,!1,r)},It.unmountComponentAtNode=function(e){if(!Gs(e))throw Error(o(40));return e._reactRootContainer?(Ar(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1},It.unstable_batchedUpdates=su,It.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Gs(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return zs(e,t,r,!1,s)},It.version="18.3.1-next-f1338f8080-20240426",It}var Rh;function x0(){if(Rh)return yu.exports;Rh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),yu.exports=F0(),yu.exports}var kh;function H0(){if(kh)return Ws;kh=1;var n=x0();return Ws.createRoot=n.createRoot,Ws.hydrateRoot=n.hydrateRoot,Ws}var B0=H0();const G0=Ip(B0),Tp=ge.createContext(void 0),z0=({initialAppState:n,children:i})=>{const[o,a]=ge.useState(n),[d,c]=ge.useState(void 0),f=(h,m)=>{a(h),h==="gameOver"&&m?c(m):h!=="gameOver"&&c(void 0)};return Re.jsx(Tp.Provider,{value:{appState:o,setAppState:f,gameOverDetails:d},children:i})},ma=()=>{const n=ge.useContext(Tp);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var dt=function(){return dt=Object.assign||function(i){for(var o,a=1,d=arguments.length;a<d;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},dt.apply(this,arguments)};function wo(n,i,o){if(o||arguments.length===2)for(var a=0,d=i.length,c;a<d;a++)(c||!(a in i))&&(c||(c=Array.prototype.slice.call(i,0,a)),c[a]=i[a]);return n.concat(c||Array.prototype.slice.call(i))}var Me="-ms-",vo="-moz-",Ce="-webkit-",Cp="comm",ga="rule",oc="decl",j0="@import",Rp="@keyframes",W0="@layer",kp=Math.abs,sc=String.fromCharCode,zu=Object.assign;function $0(n,i){return tt(n,0)^45?(((i<<2^tt(n,0))<<2^tt(n,1))<<2^tt(n,2))<<2^tt(n,3):0}function Pp(n){return n.trim()}function Nn(n,i){return(n=i.exec(n))?n[0]:n}function he(n,i,o){return n.replace(i,o)}function bs(n,i,o){return n.indexOf(i,o)}function tt(n,i){return n.charCodeAt(i)|0}function pi(n,i,o){return n.slice(i,o)}function fn(n){return n.length}function Np(n){return n.length}function po(n,i){return i.push(n),n}function Y0(n,i){return n.map(i).join("")}function Ph(n,i){return n.filter(function(o){return!Nn(o,i)})}var va=1,mi=1,Op=0,Xt=0,Xe=0,_i="";function ya(n,i,o,a,d,c,f,h){return{value:n,root:i,parent:o,type:a,props:d,children:c,line:va,column:mi,length:f,return:"",siblings:h}}function ir(n,i){return zu(ya("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},i)}function si(n){for(;n.root;)n=ir(n.root,{children:[n]});po(n,n.siblings)}function V0(){return Xe}function X0(){return Xe=Xt>0?tt(_i,--Xt):0,mi--,Xe===10&&(mi=1,va--),Xe}function rn(){return Xe=Xt<Op?tt(_i,Xt++):0,mi++,Xe===10&&(mi=1,va++),Xe}function Ur(){return tt(_i,Xt)}function ea(){return Xt}function Sa(n,i){return pi(_i,n,i)}function ju(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K0(n){return va=mi=1,Op=fn(_i=n),Xt=0,[]}function Q0(n){return _i="",n}function _u(n){return Pp(Sa(Xt-1,Wu(n===91?n+2:n===40?n+1:n)))}function Z0(n){for(;(Xe=Ur())&&Xe<33;)rn();return ju(n)>2||ju(Xe)>3?"":" "}function q0(n,i){for(;--i&&rn()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return Sa(n,ea()+(i<6&&Ur()==32&&rn()==32))}function Wu(n){for(;rn();)switch(Xe){case n:return Xt;case 34:case 39:n!==34&&n!==39&&Wu(Xe);break;case 40:n===41&&Wu(n);break;case 92:rn();break}return Xt}function J0(n,i){for(;rn()&&n+Xe!==57;)if(n+Xe===84&&Ur()===47)break;return"/*"+Sa(i,Xt-1)+"*"+sc(n===47?n:rn())}function b0(n){for(;!ju(Ur());)rn();return Sa(n,Xt)}function ev(n){return Q0(ta("",null,null,null,[""],n=K0(n),0,[0],n))}function ta(n,i,o,a,d,c,f,h,m){for(var S=0,g=0,y=f,T=0,k=0,P=0,O=1,A=1,M=1,N=0,Y="",x=d,$=c,U=a,W=Y;A;)switch(P=N,N=rn()){case 40:if(P!=108&&tt(W,y-1)==58){bs(W+=he(_u(N),"&","&\f"),"&\f",kp(S?h[S-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:W+=_u(N);break;case 9:case 10:case 13:case 32:W+=Z0(P);break;case 92:W+=q0(ea()-1,7);continue;case 47:switch(Ur()){case 42:case 47:po(tv(J0(rn(),ea()),i,o,m),m);break;default:W+="/"}break;case 123*O:h[S++]=fn(W)*M;case 125*O:case 59:case 0:switch(N){case 0:case 125:A=0;case 59+g:M==-1&&(W=he(W,/\f/g,"")),k>0&&fn(W)-y&&po(k>32?Oh(W+";",a,o,y-1,m):Oh(he(W," ","")+";",a,o,y-2,m),m);break;case 59:W+=";";default:if(po(U=Nh(W,i,o,S,g,d,h,Y,x=[],$=[],y,c),c),N===123)if(g===0)ta(W,i,U,U,x,c,y,h,$);else switch(T===99&&tt(W,3)===110?100:T){case 100:case 108:case 109:case 115:ta(n,U,U,a&&po(Nh(n,U,U,0,0,d,h,Y,d,x=[],y,$),$),d,$,y,h,a?x:$);break;default:ta(W,U,U,U,[""],$,0,h,$)}}S=g=k=0,O=M=1,Y=W="",y=f;break;case 58:y=1+fn(W),k=P;default:if(O<1){if(N==123)--O;else if(N==125&&O++==0&&X0()==125)continue}switch(W+=sc(N),N*O){case 38:M=g>0?1:(W+="\f",-1);break;case 44:h[S++]=(fn(W)-1)*M,M=1;break;case 64:Ur()===45&&(W+=_u(rn())),T=Ur(),g=y=fn(Y=W+=b0(ea())),N++;break;case 45:P===45&&fn(W)==2&&(O=0)}}return c}function Nh(n,i,o,a,d,c,f,h,m,S,g,y){for(var T=d-1,k=d===0?c:[""],P=Np(k),O=0,A=0,M=0;O<a;++O)for(var N=0,Y=pi(n,T+1,T=kp(A=f[O])),x=n;N<P;++N)(x=Pp(A>0?k[N]+" "+Y:he(Y,/&\f/g,k[N])))&&(m[M++]=x);return ya(n,i,o,d===0?ga:h,m,S,g,y)}function tv(n,i,o,a){return ya(n,i,o,Cp,sc(V0()),pi(n,2,-2),0,a)}function Oh(n,i,o,a,d){return ya(n,i,o,oc,pi(n,0,a),pi(n,a+1,-1),a,d)}function Dp(n,i,o){switch($0(n,i)){case 5103:return Ce+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+n+n;case 4789:return vo+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+n+vo+n+Me+n+n;case 5936:switch(tt(n,i+11)){case 114:return Ce+n+Me+he(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ce+n+Me+he(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ce+n+Me+he(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ce+n+Me+n+n;case 6165:return Ce+n+Me+"flex-"+n+n;case 5187:return Ce+n+he(n,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+Me+"flex-$1$2")+n;case 5443:return Ce+n+Me+"flex-item-"+he(n,/flex-|-self/g,"")+(Nn(n,/flex-|baseline/)?"":Me+"grid-row-"+he(n,/flex-|-self/g,""))+n;case 4675:return Ce+n+Me+"flex-line-pack"+he(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ce+n+Me+he(n,"shrink","negative")+n;case 5292:return Ce+n+Me+he(n,"basis","preferred-size")+n;case 6060:return Ce+"box-"+he(n,"-grow","")+Ce+n+Me+he(n,"grow","positive")+n;case 4554:return Ce+he(n,/([^-])(transform)/g,"$1"+Ce+"$2")+n;case 6187:return he(he(he(n,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),n,"")+n;case 5495:case 3959:return he(n,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return he(he(n,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+Me+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+n+n;case 4200:if(!Nn(n,/flex-|baseline/))return Me+"grid-column-align"+pi(n,i)+n;break;case 2592:case 3360:return Me+he(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(a,d){return i=d,Nn(a.props,/grid-\w+-end/)})?~bs(n+(o=o[i].value),"span",0)?n:Me+he(n,"-start","")+n+Me+"grid-row-span:"+(~bs(o,"span",0)?Nn(o,/\d+/):+Nn(o,/\d+/)-+Nn(n,/\d+/))+";":Me+he(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(a){return Nn(a.props,/grid-\w+-start/)})?n:Me+he(he(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return he(n,/(.+)-inline(.+)/,Ce+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fn(n)-1-i>6)switch(tt(n,i+1)){case 109:if(tt(n,i+4)!==45)break;case 102:return he(n,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+vo+(tt(n,i+3)==108?"$3":"$2-$3"))+n;case 115:return~bs(n,"stretch",0)?Dp(he(n,"stretch","fill-available"),i,o)+n:n}break;case 5152:case 5920:return he(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,d,c,f,h,m,S){return Me+d+":"+c+S+(f?Me+d+"-span:"+(h?m:+m-+c)+S:"")+n});case 4949:if(tt(n,i+6)===121)return he(n,":",":"+Ce)+n;break;case 6444:switch(tt(n,tt(n,14)===45?18:11)){case 120:return he(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ce+(tt(n,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+Me+"$2box$3")+n;case 100:return he(n,":",":"+Me)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return he(n,"scroll-","scroll-snap-")+n}return n}function aa(n,i){for(var o="",a=0;a<n.length;a++)o+=i(n[a],a,n,i)||"";return o}function nv(n,i,o,a){switch(n.type){case W0:if(n.children.length)break;case j0:case oc:return n.return=n.return||n.value;case Cp:return"";case Rp:return n.return=n.value+"{"+aa(n.children,a)+"}";case ga:if(!fn(n.value=n.props.join(",")))return""}return fn(o=aa(n.children,a))?n.return=n.value+"{"+o+"}":""}function rv(n){var i=Np(n);return function(o,a,d,c){for(var f="",h=0;h<i;h++)f+=n[h](o,a,d,c)||"";return f}}function iv(n){return function(i){i.root||(i=i.return)&&n(i)}}function ov(n,i,o,a){if(n.length>-1&&!n.return)switch(n.type){case oc:n.return=Dp(n.value,n.length,o);return;case Rp:return aa([ir(n,{value:he(n.value,"@","@"+Ce)})],a);case ga:if(n.length)return Y0(o=n.props,function(d){switch(Nn(d,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":si(ir(n,{props:[he(d,/:(read-\w+)/,":"+vo+"$1")]})),si(ir(n,{props:[d]})),zu(n,{props:Ph(o,a)});break;case"::placeholder":si(ir(n,{props:[he(d,/:(plac\w+)/,":"+Ce+"input-$1")]})),si(ir(n,{props:[he(d,/:(plac\w+)/,":"+vo+"$1")]})),si(ir(n,{props:[he(d,/:(plac\w+)/,Me+"input-$1")]})),si(ir(n,{props:[d]})),zu(n,{props:Ph(o,a)});break}return""})}}var sv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ut={},gi=typeof process<"u"&&Ut!==void 0&&(Ut.REACT_APP_SC_ATTR||Ut.SC_ATTR)||"data-styled",Mp="active",Up="data-styled-version",Ea="6.1.13",ac=`/*!sc*/
`,la=typeof window<"u"&&"HTMLElement"in window,av=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ut!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==""?Ut.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ut.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ut!==void 0&&Ut.SC_DISABLE_SPEEDY!==void 0&&Ut.SC_DISABLE_SPEEDY!==""&&Ut.SC_DISABLE_SPEEDY!=="false"&&Ut.SC_DISABLE_SPEEDY),lv={},_a=Object.freeze([]),vi=Object.freeze({});function Lp(n,i,o){return o===void 0&&(o=vi),n.theme!==o.theme&&n.theme||i||o.theme}var Fp=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,cv=/(^-|-$)/g;function Dh(n){return n.replace(uv,"-").replace(cv,"")}var dv=/(a)(d)/gi,$s=52,Mh=function(n){return String.fromCharCode(n+(n>25?39:97))};function $u(n){var i,o="";for(i=Math.abs(n);i>$s;i=i/$s|0)o=Mh(i%$s)+o;return(Mh(i%$s)+o).replace(dv,"$1-$2")}var wu,xp=5381,di=function(n,i){for(var o=i.length;o;)n=33*n^i.charCodeAt(--o);return n},Hp=function(n){return di(xp,n)};function Bp(n){return $u(Hp(n)>>>0)}function fv(n){return n.displayName||n.name||"Component"}function Au(n){return typeof n=="string"&&!0}var Gp=typeof Symbol=="function"&&Symbol.for,zp=Gp?Symbol.for("react.memo"):60115,hv=Gp?Symbol.for("react.forward_ref"):60112,pv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gv=((wu={})[hv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wu[zp]=jp,wu);function Uh(n){return("type"in(i=n)&&i.type.$$typeof)===zp?jp:"$$typeof"in n?gv[n.$$typeof]:pv;var i}var vv=Object.defineProperty,yv=Object.getOwnPropertyNames,Lh=Object.getOwnPropertySymbols,Sv=Object.getOwnPropertyDescriptor,Ev=Object.getPrototypeOf,Fh=Object.prototype;function Wp(n,i,o){if(typeof i!="string"){if(Fh){var a=Ev(i);a&&a!==Fh&&Wp(n,a,o)}var d=yv(i);Lh&&(d=d.concat(Lh(i)));for(var c=Uh(n),f=Uh(i),h=0;h<d.length;++h){var m=d[h];if(!(m in mv||o&&o[m]||f&&m in f||c&&m in c)){var S=Sv(i,m);try{vv(n,m,S)}catch{}}}}return n}function yi(n){return typeof n=="function"}function lc(n){return typeof n=="object"&&"styledComponentId"in n}function Or(n,i){return n&&i?"".concat(n," ").concat(i):n||i||""}function Yu(n,i){if(n.length===0)return"";for(var o=n[0],a=1;a<n.length;a++)o+=n[a];return o}function Ao(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Vu(n,i,o){if(o===void 0&&(o=!1),!o&&!Ao(n)&&!Array.isArray(n))return i;if(Array.isArray(i))for(var a=0;a<i.length;a++)n[a]=Vu(n[a],i[a]);else if(Ao(i))for(var a in i)n[a]=Vu(n[a],i[a]);return n}function uc(n,i){Object.defineProperty(n,"toString",{value:i})}function Uo(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var _v=function(){function n(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return n.prototype.indexOfGroup=function(i){for(var o=0,a=0;a<i;a++)o+=this.groupSizes[a];return o},n.prototype.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var a=this.groupSizes,d=a.length,c=d;i>=c;)if((c<<=1)<0)throw Uo(16,"".concat(i));this.groupSizes=new Uint32Array(c),this.groupSizes.set(a),this.length=c;for(var f=d;f<c;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(i+1),m=(f=0,o.length);f<m;f++)this.tag.insertRule(h,o[f])&&(this.groupSizes[i]++,h++)},n.prototype.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],a=this.indexOfGroup(i),d=a+o;this.groupSizes[i]=0;for(var c=a;c<d;c++)this.tag.deleteRule(a)}},n.prototype.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var a=this.groupSizes[i],d=this.indexOfGroup(i),c=d+a,f=d;f<c;f++)o+="".concat(this.tag.getRule(f)).concat(ac);return o},n}(),na=new Map,ua=new Map,ra=1,Ys=function(n){if(na.has(n))return na.get(n);for(;ua.has(ra);)ra++;var i=ra++;return na.set(n,i),ua.set(i,n),i},wv=function(n,i){ra=i+1,na.set(n,i),ua.set(i,n)},Av="style[".concat(gi,"][").concat(Up,'="').concat(Ea,'"]'),Iv=new RegExp("^".concat(gi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Tv=function(n,i,o){for(var a,d=o.split(","),c=0,f=d.length;c<f;c++)(a=d[c])&&n.registerName(i,a)},Cv=function(n,i){for(var o,a=((o=i.textContent)!==null&&o!==void 0?o:"").split(ac),d=[],c=0,f=a.length;c<f;c++){var h=a[c].trim();if(h){var m=h.match(Iv);if(m){var S=0|parseInt(m[1],10),g=m[2];S!==0&&(wv(g,S),Tv(n,g,m[3]),n.getTag().insertRules(S,d)),d.length=0}else d.push(h)}}},xh=function(n){for(var i=document.querySelectorAll(Av),o=0,a=i.length;o<a;o++){var d=i[o];d&&d.getAttribute(gi)!==Mp&&(Cv(n,d),d.parentNode&&d.parentNode.removeChild(d))}};function Rv(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var $p=function(n){var i=document.head,o=n||i,a=document.createElement("style"),d=function(h){var m=Array.from(h.querySelectorAll("style[".concat(gi,"]")));return m[m.length-1]}(o),c=d!==void 0?d.nextSibling:null;a.setAttribute(gi,Mp),a.setAttribute(Up,Ea);var f=Rv();return f&&a.setAttribute("nonce",f),o.insertBefore(a,c),a},kv=function(){function n(i){this.element=$p(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,d=0,c=a.length;d<c;d++){var f=a[d];if(f.ownerNode===o)return f}throw Uo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},n.prototype.getRule=function(i){var o=this.sheet.cssRules[i];return o&&o.cssText?o.cssText:""},n}(),Pv=function(){function n(i){this.element=$p(i),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(i,o){if(i<=this.length&&i>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[i]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},n.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},n}(),Nv=function(){function n(i){this.rules=[],this.length=0}return n.prototype.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},n.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},n.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},n}(),Hh=la,Ov={isServer:!la,useCSSOMInjection:!av},ca=function(){function n(i,o,a){i===void 0&&(i=vi),o===void 0&&(o={});var d=this;this.options=dt(dt({},Ov),i),this.gs=o,this.names=new Map(a),this.server=!!i.isServer,!this.server&&la&&Hh&&(Hh=!1,xh(this)),uc(this,function(){return function(c){for(var f=c.getTag(),h=f.length,m="",S=function(y){var T=function(M){return ua.get(M)}(y);if(T===void 0)return"continue";var k=c.names.get(T),P=f.getGroup(y);if(k===void 0||!k.size||P.length===0)return"continue";var O="".concat(gi,".g").concat(y,'[id="').concat(T,'"]'),A="";k!==void 0&&k.forEach(function(M){M.length>0&&(A+="".concat(M,","))}),m+="".concat(P).concat(O,'{content:"').concat(A,'"}').concat(ac)},g=0;g<h;g++)S(g);return m}(d)})}return n.registerId=function(i){return Ys(i)},n.prototype.rehydrate=function(){!this.server&&la&&xh(this)},n.prototype.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new n(dt(dt({},this.options),i),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(i=function(o){var a=o.useCSSOMInjection,d=o.target;return o.isServer?new Nv(d):a?new kv(d):new Pv(d)}(this.options),new _v(i)));var i},n.prototype.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},n.prototype.registerName=function(i,o){if(Ys(i),this.names.has(i))this.names.get(i).add(o);else{var a=new Set;a.add(o),this.names.set(i,a)}},n.prototype.insertRules=function(i,o,a){this.registerName(i,o),this.getTag().insertRules(Ys(i),a)},n.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},n.prototype.clearRules=function(i){this.getTag().clearGroup(Ys(i)),this.clearNames(i)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Dv=/&/g,Mv=/^\s*\/\/.*$/gm;function Yp(n,i){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(i," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(i," ")),o.props=o.props.map(function(a){return"".concat(i," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Yp(o.children,i)),o})}function Uv(n){var i,o,a,d=vi,c=d.options,f=c===void 0?vi:c,h=d.plugins,m=h===void 0?_a:h,S=function(T,k,P){return P.startsWith(o)&&P.endsWith(o)&&P.replaceAll(o,"").length>0?".".concat(i):T},g=m.slice();g.push(function(T){T.type===ga&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(Dv,o).replace(a,S))}),f.prefix&&g.push(ov),g.push(nv);var y=function(T,k,P,O){k===void 0&&(k=""),P===void 0&&(P=""),O===void 0&&(O="&"),i=O,o=k,a=new RegExp("\\".concat(o,"\\b"),"g");var A=T.replace(Mv,""),M=ev(P||k?"".concat(P," ").concat(k," { ").concat(A," }"):A);f.namespace&&(M=Yp(M,f.namespace));var N=[];return aa(M,rv(g.concat(iv(function(Y){return N.push(Y)})))),N};return y.hash=m.length?m.reduce(function(T,k){return k.name||Uo(15),di(T,k.name)},xp).toString():"",y}var Lv=new ca,Xu=Uv(),Vp=pn.createContext({shouldForwardProp:void 0,styleSheet:Lv,stylis:Xu});Vp.Consumer;pn.createContext(void 0);function Ku(){return ge.useContext(Vp)}var Fv=function(){function n(i,o){var a=this;this.inject=function(d,c){c===void 0&&(c=Xu);var f=a.name+c.hash;d.hasNameForId(a.id,f)||d.insertRules(a.id,f,c(a.rules,f,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=o,uc(this,function(){throw Uo(12,String(a.name))})}return n.prototype.getName=function(i){return i===void 0&&(i=Xu),this.name+i.hash},n}(),xv=function(n){return n>="A"&&n<="Z"};function Bh(n){for(var i="",o=0;o<n.length;o++){var a=n[o];if(o===1&&a==="-"&&n[0]==="-")return n;xv(a)?i+="-"+a.toLowerCase():i+=a}return i.startsWith("ms-")?"-"+i:i}var Xp=function(n){return n==null||n===!1||n===""},Kp=function(n){var i,o,a=[];for(var d in n){var c=n[d];n.hasOwnProperty(d)&&!Xp(c)&&(Array.isArray(c)&&c.isCss||yi(c)?a.push("".concat(Bh(d),":"),c,";"):Ao(c)?a.push.apply(a,wo(wo(["".concat(d," {")],Kp(c),!1),["}"],!1)):a.push("".concat(Bh(d),": ").concat((i=d,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||i in sv||i.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function lr(n,i,o,a){if(Xp(n))return[];if(lc(n))return[".".concat(n.styledComponentId)];if(yi(n)){if(!yi(c=n)||c.prototype&&c.prototype.isReactComponent||!i)return[n];var d=n(i);return lr(d,i,o,a)}var c;return n instanceof Fv?o?(n.inject(o,a),[n.getName(a)]):[n]:Ao(n)?Kp(n):Array.isArray(n)?Array.prototype.concat.apply(_a,n.map(function(f){return lr(f,i,o,a)})):[n.toString()]}function Qp(n){for(var i=0;i<n.length;i+=1){var o=n[i];if(yi(o)&&!lc(o))return!1}return!0}var Hv=Hp(Ea),Bv=function(){function n(i,o,a){this.rules=i,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Qp(i),this.componentId=o,this.baseHash=di(Hv,o),this.baseStyle=a,ca.registerId(o)}return n.prototype.generateAndInjectStyles=function(i,o,a){var d=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))d=Or(d,this.staticRulesId);else{var c=Yu(lr(this.rules,i,o,a)),f=$u(di(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var h=a(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,h)}d=Or(d,f),this.staticRulesId=f}else{for(var m=di(this.baseHash,a.hash),S="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")S+=y;else if(y){var T=Yu(lr(y,i,o,a));m=di(m,T+g),S+=T}}if(S){var k=$u(m>>>0);o.hasNameForId(this.componentId,k)||o.insertRules(this.componentId,k,a(S,".".concat(k),void 0,this.componentId)),d=Or(d,k)}}return d},n}(),cc=pn.createContext(void 0);cc.Consumer;var Iu={};function Gv(n,i,o){var a=lc(n),d=n,c=!Au(n),f=i.attrs,h=f===void 0?_a:f,m=i.componentId,S=m===void 0?function(x,$){var U=typeof x!="string"?"sc":Dh(x);Iu[U]=(Iu[U]||0)+1;var W="".concat(U,"-").concat(Bp(Ea+U+Iu[U]));return $?"".concat($,"-").concat(W):W}(i.displayName,i.parentComponentId):m,g=i.displayName,y=g===void 0?function(x){return Au(x)?"styled.".concat(x):"Styled(".concat(fv(x),")")}(n):g,T=i.displayName&&i.componentId?"".concat(Dh(i.displayName),"-").concat(i.componentId):i.componentId||S,k=a&&d.attrs?d.attrs.concat(h).filter(Boolean):h,P=i.shouldForwardProp;if(a&&d.shouldForwardProp){var O=d.shouldForwardProp;if(i.shouldForwardProp){var A=i.shouldForwardProp;P=function(x,$){return O(x,$)&&A(x,$)}}else P=O}var M=new Bv(o,T,a?d.componentStyle:void 0);function N(x,$){return function(U,W,ee){var Ae=U.attrs,Ne=U.componentStyle,Ze=U.defaultProps,Le=U.foldedComponentIds,Te=U.styledComponentId,ye=U.target,ve=pn.useContext(cc),ce=Ku(),se=U.shouldForwardProp||ce.shouldForwardProp,G=Lp(W,ve,Ze)||vi,V=function(pe,ae,fe){for(var de,Z=dt(dt({},ae),{className:void 0,theme:fe}),ie=0;ie<pe.length;ie+=1){var Ie=yi(de=pe[ie])?de(Z):de;for(var ue in Ie)Z[ue]=ue==="className"?Or(Z[ue],Ie[ue]):ue==="style"?dt(dt({},Z[ue]),Ie[ue]):Ie[ue]}return ae.className&&(Z.className=Or(Z.className,ae.className)),Z}(Ae,W,G),j=V.as||ye,w={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===G||(D==="forwardedAs"?w.as=V.forwardedAs:se&&!se(D,j)||(w[D]=V[D]));var te=function(pe,ae){var fe=Ku(),de=pe.generateAndInjectStyles(ae,fe.styleSheet,fe.stylis);return de}(Ne,V),K=Or(Le,Te);return te&&(K+=" "+te),V.className&&(K+=" "+V.className),w[Au(j)&&!Fp.has(j)?"class":"className"]=K,w.ref=ee,ge.createElement(j,w)}(Y,x,$)}N.displayName=y;var Y=pn.forwardRef(N);return Y.attrs=k,Y.componentStyle=M,Y.displayName=y,Y.shouldForwardProp=P,Y.foldedComponentIds=a?Or(d.foldedComponentIds,d.styledComponentId):"",Y.styledComponentId=T,Y.target=a?d.target:n,Object.defineProperty(Y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=a?function($){for(var U=[],W=1;W<arguments.length;W++)U[W-1]=arguments[W];for(var ee=0,Ae=U;ee<Ae.length;ee++)Vu($,Ae[ee],!0);return $}({},d.defaultProps,x):x}}),uc(Y,function(){return".".concat(Y.styledComponentId)}),c&&Wp(Y,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Y}function Gh(n,i){for(var o=[n[0]],a=0,d=i.length;a<d;a+=1)o.push(i[a],n[a+1]);return o}var zh=function(n){return Object.assign(n,{isCss:!0})};function Zp(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(yi(n)||Ao(n))return zh(lr(Gh(_a,wo([n],i,!0))));var a=n;return i.length===0&&a.length===1&&typeof a[0]=="string"?lr(a):zh(lr(Gh(a,i)))}function Qu(n,i,o){if(o===void 0&&(o=vi),!i)throw Uo(1,i);var a=function(d){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return n(i,o,Zp.apply(void 0,wo([d],c,!1)))};return a.attrs=function(d){return Qu(n,i,dt(dt({},o),{attrs:Array.prototype.concat(o.attrs,d).filter(Boolean)}))},a.withConfig=function(d){return Qu(n,i,dt(dt({},o),d))},a}var qp=function(n){return Qu(Gv,n)},yn=qp;Fp.forEach(function(n){yn[n]=qp(n)});var zv=function(){function n(i,o){this.rules=i,this.componentId=o,this.isStatic=Qp(i),ca.registerId(this.componentId+1)}return n.prototype.createStyles=function(i,o,a,d){var c=d(Yu(lr(this.rules,o,a,d)),""),f=this.componentId+i;a.insertRules(f,f,c)},n.prototype.removeStyles=function(i,o){o.clearRules(this.componentId+i)},n.prototype.renderStyles=function(i,o,a,d){i>2&&ca.registerId(this.componentId+i),this.removeStyles(i,a),this.createStyles(i,o,a,d)},n}();function jv(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=Zp.apply(void 0,wo([n],i,!1)),d="sc-global-".concat(Bp(JSON.stringify(a))),c=new zv(a,d),f=function(m){var S=Ku(),g=pn.useContext(cc),y=pn.useRef(S.styleSheet.allocateGSInstance(d)).current;return S.styleSheet.server&&h(y,m,S.styleSheet,g,S.stylis),pn.useLayoutEffect(function(){if(!S.styleSheet.server)return h(y,m,S.styleSheet,g,S.stylis),function(){return c.removeStyles(y,S.styleSheet)}},[y,m,S.styleSheet,g,S.stylis]),null};function h(m,S,g,y,T){if(c.isStatic)c.renderStyles(m,lv,g,T);else{var k=dt(dt({},S),{theme:Lp(S,y,f.defaultProps)});c.renderStyles(m,k,g,T)}}return pn.memo(f)}function Jp(n,i){var o=ge.useRef(null),a=ge.useRef(!1),d=ge.useRef(n);d.current=n;var c=ge.useCallback(function(h){a.current&&(d.current(h),o.current=requestAnimationFrame(c))},[]),f=ge.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(c))},function(){return a.current}]},[]);return ge.useEffect(function(){return f[0]},[]),f}function Wv(n,i,o,a,d){var f;(f=n.onExit)==null||f.call(n,a,i);const c=d.find(({id:h})=>h===i);return c!=null&&c.onEnter?c.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function $v(n,i){return i.find(({id:o})=>o===n)}function Yv(n,i){return n!==i}function Vv(n){console.warn(`No handler found for state: ${n}`)}const yo="bushGrowing",Nr="bushFull",ia="bushSpreading",Io="bushDying",$t=24,Yt=10,Dr=3e3,Mr=3e3,dc=2,Xv=5,Kv=3,Qv=12,Zv=940,qv=.7,Zu=20,jh=90,bp=45,Jv=240,em=10,To=80,bv=3,ao=5,Kt=150,fc=Kt*.8,ey=Kt*.2,Rt=Kt*.95,Co=30,tm=10,ty=10,ny=.5,Ct=30,Ro=Ct*.75,nm=50,ry=20,iy=To*.8,oy=.7,sy=16,Si=40,hc=16,ay=72/3,Wh=24,ly=1.25,uy=1.5,pc=Kt*.6,mc=50,cy=1,dy=350,rm=To*.65,fy=80,hy=50,py=1,my=128,im=10,$h=100,gy=20,wa=Ct,om=.5,sm=5,vy=5,yy=.1,Sy=.5,Ey=1.5,_y=.25,wy=2,Ay=45,Iy=.05,da=5,Ty=.5,Cy=100,Ry=300,ky=30,ko=.5,Yh=Kt*.6,Py=Kt*.5,Ny=Kt*.7,Oy=Kt*.8,Dy=100,My=2,Uy=400,Ly=1e3,Fy=Kt*.85,xy=100,Hy=3,By=96,Gy=24,zy=600,am=600,jy=1.2,Wy=10,fa=10,lm=250,um=.3,cm=200,vn=30,gc=vn*.6,vc="#4CAF50",dm="#FF5722",fm="#9C27B0",$y="#2196F3",hm="#FFC107",Yy="#FFD700",pm="#DC143C",Vy="#FFFFFF",Xy=[5,5],mm=5,Vh=20,Ky=20,Qy=16,Zy=10,qy=16,Jy=16,Xh=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],Kh=8,by="#FFFFFF",bn=18,Tt=15,eS="rgba(0, 0, 0, 0.7)",tS=4,er=150,Mt=15,cn=10,fi="#555",nS="#f44336",rS="#4CAF50",iS="#2196F3",oS="#FFC107",lo=16,sS=9,Rr=32,Vs=28,aS=10,lS=8,uS=8,cS=8,Xs=28,Ks=40,dS="rgba(255, 215, 0, 0.7)",fS="rgba(0, 0, 0, 0.3)",tr=10,Qh=8,Tu=11,nr=20,Cu=40,Zh=5,hS=10,pS="#FFA500",mS="#808080",So=120,gS=30,vS=20,Ru="#2d3748",yS="#ffffff",ku="#4a5568",SS=60,ES=-50,_S=10,Pu=12,qh=10,wS="rgba(0, 0, 0, 0.5)",AS="#4CAF50",IS="#F44336",TS="#FFC107",CS="rgba(255, 255, 255, 0.2)",Jh="#FFFFFF",RS="#FF6B6B",kS=5,gm=30,uo=50,Qs=8,bh=10,PS="rgba(0, 0, 0, 0.5)",NS="#FFFFFF",OS=33,DS=400,MS=20,US=10,LS="rgba(0, 0, 0, 0.7)",FS="#FFFFFF",Nu=20,ep=16,xS=.5,tp=5,vm="#FFD700",HS=40,BS=4,GS=3,zS=5,Vt=1,mo=3,jS=70,np=600,WS=1.5,ym=.1,$S=15,YS=5e3;function ft(n,i,o,a,d){const c={id:n.nextVisualEffectId,type:i,position:o,startTime:n.time,duration:a,entityId:d};return n.visualEffects.push(c),n.nextVisualEffectId++,c.id}var Ee=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n))(Ee||{}),cr=(n=>(n.Berry="berry",n.Meat="meat",n))(cr||{});const Sm={berry:"🍓",meat:"🥩"},VS={id:yo,update:(n,i)=>{const{entity:o,updateContext:a}=i,d=a.deltaTime*($t/Yt);return o.age+=d,o.age>=o.lifespan?{nextState:Io,data:{...n,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(ft(a.gameState,Ee.BushClaimLost,o.position,Vt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=d,o.timeSinceLastBerryRegen>=Qv&&o.food.length<o.maxFood&&(o.food.push({type:cr.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Nr,data:{...n,enteredAt:a.gameState.time,previousState:yo}}:{nextState:yo,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},XS={id:Nr,update:(n,i)=>{const{entity:o,updateContext:a}=i,d=a.deltaTime*($t/Yt);return o.age+=d,o.age>=o.lifespan?{nextState:Io,data:{...n,enteredAt:a.gameState.time,previousState:Nr}}:o.food.length<o.maxFood?{nextState:yo,data:{...n,enteredAt:a.gameState.time,previousState:Nr}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(ft(a.gameState,Ee.BushClaimLost,o.position,Vt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=d,o.timeSinceLastSpreadAttempt>=jh&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=jh&&Math.random()<o.spreadChance)?{nextState:ia,data:{...n,enteredAt:a.gameState.time,previousState:Nr}}:{nextState:Nr,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})};function ur(n,i){return{x:n.x+i.x,y:n.y+i.y}}function KS(n,i){return{x:n.x-i.x,y:n.y-i.y}}function mn(n,i){return{x:n.x*i,y:n.y*i}}function Po(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function Qt(n){const i=Po(n);return i===0?{x:0,y:0}:mn(n,1/i)}function yc(n,i,o){return{x:n.x+(i.x-n.x)*o,y:n.y+(i.y-n.y)*o}}function Sc(n){if(n.length===0)return{x:0,y:0};const i=n.reduce((o,a)=>({x:o.x+a.x,y:o.y+a.y}),{x:0,y:0});return{x:i.x/n.length,y:i.y/n.length}}function Lt(n,i,o,a){let d=i.x-n.x,c=i.y-n.y;return Math.abs(d)>o/2&&(d=d-Math.sign(d)*o),Math.abs(c)>a/2&&(c=c-Math.sign(c)*a),{x:d,y:c}}function Em(n,i,o){const a=Lt(n,i,o.width,o.height);return Qt(a)}function we(n,i,o,a){const d=Lt(n,i,o,a);return Po(d)}function QS(n,i){return n.x*i.x+n.y*i.y}function ZS(n,i){const o=QS(n,i),a=Po(n),d=Po(i);if(a===0||d===0)return 0;const c=Math.max(-1,Math.min(1,o/(a*d)));return Math.acos(c)}function qS(n,i,o){const a=Math.max(0,Math.min(1,o)),d={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},c={r:parseInt(i.substring(1,3),16),g:parseInt(i.substring(3,5),16),b:parseInt(i.substring(5,7),16)},f=Math.round(d.r+(c.r-d.r)*a),h=Math.round(d.g+(c.g-d.g)*a),m=Math.round(d.b+(c.b-d.b)*a),S=g=>("00"+g.toString(16)).slice(-2);return`#${S(f)}${S(h)}${S(m)}`}var hn=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n))(hn||{});const JS={GatherFood:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",PlantBush:"🌱",CallToAttack:"📢"};var ci=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(ci||{});const co={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var gn=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n))(gn||{});function _m(n,i){const o=[],a=n;if(i.food.length>0&&i.hunger>fc&&o.push({type:hn.Eat,action:"eating",key:"f"}),i.food.length<i.maxFood){const f=yt(i,n,"berryBush",Ct,S=>S.food.length>0),h=yt(i,n,"humanCorpse",Ct,S=>S.food.length>0);let m=null;f&&h?m=we(i.position,f.position,n.mapDimensions.width,n.mapDimensions.height)<=we(i.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?f:h:m=f||h,m&&o.push({type:hn.GatherFood,action:"gathering",key:"e",targetEntity:m})}const d=yt(i,n,"human",Ct,f=>{const h=f;return(h.id!==i.id&&h.gender!==i.gender&&h.isAdult&&i.isAdult&&h.hunger<Rt&&i.hunger<Rt&&(h.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=Si:!i.isPregnant&&i.age<=Si))??!1});d&&o.push({type:hn.Procreate,action:"procreating",key:"r",targetEntity:d});const c=yt(i,n,"human",wa,f=>f.id!==i.id);return c&&o.push({type:hn.Attack,action:"attacking",key:"q",targetEntity:c}),i.food.filter(f=>f.type===cr.Berry).length>=da&&o.push({type:hn.PlantBush,action:"planting",key:"b"}),i.leaderId===i.id&&!i.isCallingToAttack&&Ec(i.position,i.id,a,lm).length>0&&o.push({type:hn.CallToAttack,action:"callingToAttack",key:"v"}),o}function wm(n,i,o,a){const d=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*i,f={x:Math.cos(d)*c,y:Math.sin(d)*c},h=ur(n,f);return{x:(h.x%o+o)%o,y:(h.y%a+a)%a}}function qu(n,i,o){const a=i,d={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},c=[...a.search.human.byRect(d),...a.search.berryBush.byRect(d),...a.search.humanCorpse.byRect(d)];for(const f of c)if(we(n,f.position,i.mapDimensions.width,i.mapDimensions.height)<o+f.radius)return!0;return!1}function Am(n,i,o,a){const d=i.mapDimensions.width,c=i.mapDimensions.height;if(!qu(n,i,a))return n;const f=a;for(let h=f;h<=o;h+=f){const m=Math.ceil(2*Math.PI*h/f);for(let S=0;S<m;S++){const g=S/m*2*Math.PI,y={x:Math.cos(g)*h,y:Math.sin(g)*h},T=ur(n,y),k={x:(T.x%d+d)%d,y:(T.y%c+c)%c};if(!qu(k,i,a))return k}}return null}function bS(n,i){const o=yt(n,i,"berryBush",void 0,d=>d.ownerId===n.id);return o?Am(o.position,i,Cy,ky):null}function yt(n,i,o,a,d){const c=i,f=a!==void 0?a:Math.max(i.mapDimensions.width,i.mapDimensions.height),h=c.search[o].byRadius(n.position,f);let m=null,S=f;for(const g of h){if(g.id===n.id||d&&!d(g))continue;const y=we(n.position,g.position,i.mapDimensions.width,i.mapDimensions.height);y<S&&(S=y,m=g)}return m}function Im(n,i,o,a){return i.search[o].byRadius(n,a).length}function rp(n,i,o){return i.search.human.byRadius(n.position,o).filter(c=>{if(c.id===n.id||c.gender===n.gender||!c.isAdult||c.hunger>=Rt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const f=c.id===n.motherId||c.id===n.fatherId,h=n.id===c.motherId||n.id===c.fatherId;return!f&&!h})}function Ju(n){if(n.length===0)return;const i=n.filter(d=>d.gender==="male"),o=n.filter(d=>d.gender==="female"),a=(d,c)=>d.age!==c.age?c.age-d.age:d.id-c.id;if(i.sort(a),i.length>0)return i[0];if(o.sort(a),o.length>0)return o[0]}function ar(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function dr(n,i){const o=n,a=o.search.human.byProperty("motherId",i.id),d=o.search.human.byProperty("fatherId",i.id);return[...a,...d]}function e1(n,i){var f;const a=i.search.human.byProperty("activeAction","attacking");let d=null,c=1/0;for(const h of a){if(h.attackTargetId!==n)continue;const m=we(h.position,((f=i.entities.entities.get(n))==null?void 0:f.position)||{x:0,y:0},i.mapDimensions.width,i.mapDimensions.height);m<c&&(d=h,c=m)}return d}function t1(n,i,o){var d;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id||n.motherId&&n.motherId===i.motherId||n.fatherId&&n.fatherId===i.fatherId||(d=n.partnerIds)!=null&&d.includes(i.id))return!0;if(n.motherId){const c=o.entities.entities.get(n.motherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(n.fatherId){const c=o.entities.entities.get(n.fatherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(i.motherId){const c=o.entities.entities.get(i.motherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}if(i.fatherId){const c=o.entities.entities.get(i.fatherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}return!1}function ip(n,i){var c,f;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id)return!0;const o=n.motherId===i.motherId||n.fatherId===i.fatherId,a=i.motherId===n.motherId||i.fatherId===n.fatherId,d=((c=n.ancestorIds)==null?void 0:c.some(h=>i.ancestorIds.includes(h)))||((f=i.ancestorIds)==null?void 0:f.some(h=>n.ancestorIds.includes(h)));return o||a||d}function Tm(n,i){const o=[];if(n.motherId){const a=i.entities.entities.get(n.motherId);a&&o.push(a)}if(n.fatherId){const a=i.entities.entities.get(n.fatherId);a&&o.push(a)}return o}function n1(n,i){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const a=i.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function r1(n,i){if(!n.isAdult&&n.fatherId){const o=i.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?n1(n,i):null}function bu(n,i){var a;const o=new Set;if(n.motherId){const d=i.entities.entities.get(n.motherId);d&&o.add(d)}if(n.fatherId){const d=i.entities.entities.get(n.fatherId);d&&o.add(d)}return(a=n.partnerIds)==null||a.forEach(d=>{const c=i.entities.entities.get(d);c&&o.add(c)}),dr(i,n).forEach(d=>o.add(d)),Array.from(o)}let Ou=0;function op(){const n=Xh[Ou];return Ou=(Ou+1)%Xh.length,n}function Cm(n,i){return i.search.human.byProperty("leaderId",n)}function Ec(n,i,o,a){return o.search.human.byRadius(n,a).filter(c=>c.leaderId!==i&&c.id!==i)}function i1(n,i,o){const a=o.search.human.byProperty("leaderId",n);let d=0;for(const c of a)c.attackTargetId===i&&d++;return d}function o1(n,i){var c;const o=new Map,a=Array.from(n.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(c=o.get(f.leaderId))==null||c.members.push(f));const d=Array.from(o.values()).map(f=>{const h=n.entities.entities.get(f.leaderId),m=f.members.filter(g=>g.isAdult).length,S=f.members.length-m;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:m,childCount:S,isPlayerTribe:f.leaderId===i,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return d.sort((f,h)=>f.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(f.adultCount+f.childCount)),d}function sp(n){return n.filter(i=>i.isAdult).reduce((i,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,i+a},0)}function s1(n){return Array.from(n.entities.entities.values()).filter(i=>i.type==="human")}function ec(n,i){const o=Cm(n,i);if(o.length===0){const d=i.entities.entities.get(n);return d?d.position:{x:0,y:0}}const a=o.map(d=>d.position);return Sc(a)}function ap(n,i){const a=[...bu(n,i),n].map(d=>d.position);return Sc(a)}const a1={id:ia,update:(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:d}=a,c=a.deltaTime*($t/Yt);if(o.age+=c,o.age>=o.lifespan)return{nextState:Io,data:{...n,enteredAt:d.time,previousState:ia}};const f=wm(o.position,o.spreadRadius,d.mapDimensions.width,d.mapDimensions.height);return qu(f,d,15)||Ca(d.entities,f,d.time),{nextState:Nr,data:{...n,enteredAt:d.time,previousState:ia}}},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},l1={id:Io,update:n=>({nextState:Io,data:n}),onEnter:(n,i)=>(Tc(n.updateContext.gameState.entities,n.entity.id),{...i,enteredAt:n.updateContext.gameState.time})},u1=[VS,XS,a1,l1],it="humanIdle",Pr="humanMoving",go="humanEating",Aa="humanGathering",No="humanProcreating",Ei="humanAttacking",oa="humanPlanting",c1={id:it,update:(n,i)=>{const{entity:o,updateContext:a}=i;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ei,data:{...n,enteredAt:a.gameState.time,previousState:it,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=fc?(o.debuffs=o.debuffs.filter(d=>d.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(d=>d.type!=="slow"),o.activeAction==="moving"?{nextState:Pr,data:{...n,enteredAt:a.gameState.time,previousState:it,target:o.target}}:o.activeAction==="gathering"?{nextState:Aa,data:{...n,enteredAt:a.gameState.time,previousState:it,target:o.target}}:o.activeAction==="eating"?{nextState:go,data:{...n,enteredAt:a.gameState.time,previousState:it}}:o.activeAction==="planting"&&o.target?{nextState:oa,data:{...n,enteredAt:a.gameState.time,previousState:it,plantingSpot:o.target}}:{nextState:it,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};function Rm(n){let i=ty;return n.hunger>=fc&&(i*=ny),n.age>=iy&&(i*=oy),i}const Du=7.5;class d1{constructor(){et(this,"id",Pr)}update(i,o){var m;const{entity:a,updateContext:d}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:Ei,data:{...i,enteredAt:d.gameState.time,previousState:Pr,attackTargetId:a.attackTargetId,attackStartTime:d.gameState.time}};if(a.activeAction!=="moving")return{nextState:it,data:{...i,enteredAt:d.gameState.time,previousState:Pr}};let c;if(typeof a.target=="object"?c=a.target:typeof a.target=="number"&&(c=(m=o.updateContext.gameState.entities.entities.get(a.target))==null?void 0:m.position),!c&&(a.direction.x!==0||a.direction.y!==0)&&(c={x:a.position.x+a.direction.x*Du*2,y:a.position.y+a.direction.y*Du*2}),!c)return{nextState:it,data:{...i,enteredAt:d.gameState.time,previousState:Pr}};const f=Lt(a.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return a.direction=Qt(f),a.acceleration=Rm(a),we(a.position,c,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<Du?{nextState:it,data:{...i,enteredAt:d.gameState.time,previousState:Pr}}:{nextState:Pr,data:i}}onExit(i){const{entity:o}=i;o.acceleration=0,o.target=void 0}}const f1=new d1,Mu=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,h1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,p1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,m1=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,g1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,v1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,y1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,S1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,E1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,_1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var ze=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.GameOver=9]="GameOver",n[n.ButtonClick=10]="ButtonClick",n[n.SoundTrack1=11]="SoundTrack1",n))(ze||{});const w1=new Map([[0,Mu],[1,h1],[2,p1],[3,m1],[4,g1],[5,v1],[6,y1],[9,S1],[10,E1],[7,Mu],[8,Mu],[11,_1]]);let fo,Oo;function A1(){if(!(typeof window>"u"))return Oo}function _c(){if(!(typeof window>"u"))return!fo&&typeof window.AudioContext=="function"&&(fo=new window.AudioContext,Oo=fo.createGain(),Oo.connect(fo.destination),sa(.1,!1)),fo}function sa(n,i){Oo&&(Oo.gain.value=i?0:n/10)}const km=new Map;let Zs=!1,lp=!1;async function I1(){if(lp||Zs)return;const n=_c();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),Zs=!0,console.log("Starting sound loading...");const i=[];w1.forEach((o,a)=>{const d=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>n.decodeAudioData(c)).then(c=>{km.set(a,c)}).catch(c=>{console.error(`Error loading sound ${ze[a]} from ${o}:`,c)});i.push(d)});try{await Promise.all(i),lp=!0,Zs=!1,console.log("All sounds loaded successfully.")}catch(o){Zs=!1,console.error("An error occurred while loading sounds:",o)}}const Eo=new Map;function wc(n,i){const o=_c(),a=A1();if(!o||!a||a.gain.value===0&&(i==null?void 0:i.trackId)===void 0)return;o.state==="suspended"&&o.resume();const d=km.get(n);if(!d){console.warn(`Sound buffer not found for type: ${ze[n]}`);return}if(i!=null&&i.trackId&&Eo.has(i.trackId))return;const c=o.createBufferSource();c.buffer=d,c.loop=(i==null?void 0:i.loop)??!1;const f=o.createGain(),h=o.createStereoPanner();let m=f;if(i!=null&&i.position&&(i!=null&&i.listenerPosition)&&(i!=null&&i.worldDimensions)){const S=Lt(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height),g=we(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height);if(g>np)return;const y=1-Math.pow(g/np,WS);f.gain.value=Math.max(0,y);const T=Math.sin(S.x/g*(Math.PI/2));h.pan.value=isNaN(T)?0:T,f.connect(h),m=h}else{const S=n===ze.GameOver?.4:n===ze.SoundTrack1?1:.2;f.gain.value=S}c.connect(m),m.connect(a),c.start(0),i!=null&&i.trackId&&(Eo.set(i.trackId,{sourceNode:c,gainNode:f}),c.onended=()=>{Eo.delete(i.trackId)})}function up(n,i=1){const o=Eo.get(n),a=_c();if(o&&a){const{sourceNode:d,gainNode:c}=o,f=a.currentTime;c.gain.setValueAtTime(c.gain.value,f),c.gain.linearRampToValueAtTime(0,f+i),d.stop(f+i),d.onended=null,Eo.delete(n)}}function vt(n,i,o){const a=ar(n.gameState);a&&wc(i,{position:o,listenerPosition:a.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}const T1={id:go,update:(n,i)=>{const{entity:o,updateContext:a}=i;return o.activeAction!=="eating"?{nextState:it,data:{...n,enteredAt:a.gameState.time,previousState:go}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>Co&&(o.hunger=Math.max(0,o.hunger-Co),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,vt(a,ze.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(ft(a.gameState,Ee.Eating,o.position,Vt,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:it,data:{...n,enteredAt:a.gameState.time,previousState:go}}:{nextState:go,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};class C1{constructor(){et(this,"id",Aa)}update(i,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...i,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:i}}}const R1=new C1,k1=(n,i)=>(i.procreationEndTime=n.updateContext.gameState.time+(i.duration||2),i),P1=(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:d}=a;if(d.time<(n.procreationEndTime||0))return{nextState:No,data:n};const c=d.entities.entities.get(n.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<Rt&&c.hunger<Rt&&!o.procreationCooldown&&!c.procreationCooldown){const f=o.gender==="female"?o:c.gender==="female"?c:void 0,h=o.gender==="male"?o:c.gender==="male"?c:void 0;f&&h&&(f.isPregnant=!0,f.gestationTime=ay,f.fatherId=h.id,o.procreationCooldown=Wh,c.procreationCooldown=Wh,vt(a,ze.Procreate,f.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:it,data:{...n,enteredAt:d.time,previousState:No}}},N1={id:No,onEnter:k1,update:P1},O1={id:Ei,onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,i)=>{if(i.entity.activeAction!=="attacking"||!i.entity.attackTargetId)return i.entity.activeAction="idle",{nextState:it,data:{...n}};const o=i.updateContext.gameState.entities.entities.get(i.entity.attackTargetId);if(!o||o.type!=="human")return i.entity.activeAction="idle",{nextState:it,data:{...n}};const a=we(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height),d=Lt(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height);return i.entity.direction=Qt(d),a>wa?i.entity.acceleration=Rm(i.entity):i.entity.acceleration=0,{nextState:Ei,data:n}}},D1={id:oa,update:(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:d}=a;if(d.time-n.enteredAt>=Ty){if(o.food.filter(h=>h.type===cr.Berry).length>=da){for(let h=0;h<da;h++){const m=o.food.findIndex(S=>S.type===cr.Berry);m>-1&&o.food.splice(m,1)}Ca(d.entities,n.plantingSpot,d.time)}return{nextState:it,data:{...n,enteredAt:d.time,previousState:oa}}}return{nextState:oa,data:n}},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})},M1=[c1,f1,T1,R1,N1,O1,D1],cp=[...u1,...M1];function U1(n,i,o){const a=$v(n,cp);if(!a)return Vv(n),[n,i];const{nextState:d,data:c}=a.update(i,o);return Yv(n,d)?[d,Wv(a,d,c,o,cp)]:[d,c]}function L1(n,i,o){const{gameState:a}=i,d=o*($t/Yt);if(n.isAdult=n.age>=hc,n.isCallingToAttack&&n.callToAttackEndTime&&a.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.hitpoints<n.maxHitpoints){const f=1-n.hunger/100*Sy,h=yy*f*d;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(ao/($t/Yt)),n.hunger>jS&&(!n.lastHungerEffectTime||a.time-n.lastHungerEffectTime>mo*2)&&(ft(a,Ee.Hunger,n.position,mo,n.id),n.lastHungerEffectTime=a.time),n.age+=o/em,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=d,n.hunger+=o*((ao*ly-ao)/($t/Yt)),(!n.lastPregnantEffectTime||a.time-n.lastPregnantEffectTime>mo*3)&&(ft(a,Ee.Pregnant,n.position,mo,n.id),n.lastPregnantEffectTime=a.time),n.gestationTime<=0&&(sE(n,n.fatherId,i),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=d,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=d,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=d,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=d,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=d,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.leaderCallToAttackCooldown&&(n.leaderCallToAttackCooldown-=d,n.leaderCallToAttackCooldown<0&&(n.leaderCallToAttackCooldown=0)),n.isAdult?n.radius===gc&&(n.radius=vn):n.hunger+=o*((ao*uy-ao)/($t/Yt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const f=[];if(n.motherId){const h=a.entities.entities.get(n.motherId);h&&f.push(h)}if(n.fatherId){const h=a.entities.entities.get(n.fatherId);h&&f.push(h)}for(const h of f)if(h.age>=rm&&h.hunger>=fy&&we(n.position,h.position,a.mapDimensions.width,a.mapDimensions.height)<=hy){n.food.pop(),h.hunger=Math.max(0,h.hunger-Co),n.feedParentCooldownTime=py;break}}let c;if(n.hitpoints<=0?c="killed":n.hunger>=Kt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Co)):c="hunger":n.age>=n.maxAge&&(c="oldAge"),c){if(n.leaderId===n.id){const f=Ju(dr(a,n));f?(f.leaderId=f.id,f.tribeBadge=n.tribeBadge,a.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const m=h;m.leaderId=f.id}})):a.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const m=h;m.leaderId=void 0,m.tribeBadge=void 0}})}if(n.isPlayer){const f=Ju(dr(a,n));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=c)}oE(a.entities,n.position,n.gender,n.age,n.radius,n.id,a.time,n.food,n.hunger),Tc(a.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function F1(n,i){const o=i.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/my);const a=Math.floor(im*(1-n.decayProgress));n.food.length>a&&n.food.splice(a),n.decayProgress>=1&&n.food.length<=0&&Tc(i.gameState.entities,n.id)}var Ac=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(Ac||{});function x1(n,i){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;i.gameState.time-o>=ko&&(n.aiBehaviorTree.execute(n,i,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",i.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function H1(n,i){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(i.gameState.time),n.aiType){case Ac.BehaviorTreeBased:default:x1(n,i);break}}function B1(n,i){n.forces.push(mn(n.velocity,-.1));const o=mn(Qt(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(a=>{i.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(n.velocity=mn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(a=>i.gameState.time-a.startTime<a.duration),n.velocity=ur(n.velocity,n.forces.reduce(ur,{x:0,y:0})),Po(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=ur(n.position,mn(n.velocity,i.deltaTime)),n.position.x=(n.position.x%i.gameState.mapDimensions.width+i.gameState.mapDimensions.width)%i.gameState.mapDimensions.width,n.position.y=(n.position.y%i.gameState.mapDimensions.height+i.gameState.mapDimensions.height)%i.gameState.mapDimensions.height,n.forces=[],n.type==="human"?L1(n,i,i.deltaTime):n.type==="humanCorpse"&&F1(n,i),n.type==="human"&&(!n.isPlayer||i.gameState.isPlayerOnAutopilot)&&H1(n,i),n.stateMachine&&(n.stateMachine=U1(...n.stateMachine,{entity:n,updateContext:i}))}var z=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(z||{});function Ia(n){return Array.isArray(n)?n:[n,""]}class ot{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");this.children=i,this.name=o,this.depth=a,this.children.forEach(d=>{d.depth=(this.depth??0)+1})}execute(i,o,a){for(const d of this.children){const[c,f]=Ia(d.execute(i,o,a));if(c!==z.SUCCESS)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,f),c}return this.lastStatus=z.SUCCESS,this.name&&a.recordNodeExecution(this.name,z.SUCCESS,o.gameState.time,this.depth,""),z.SUCCESS}}class Ta{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");et(this,"runningChildIndex");this.children=i,this.name=o,this.depth=a,this.children.forEach(d=>{d.depth=(this.depth??0)+1})}execute(i,o,a){const d=this.runningChildIndex??0;for(let c=d;c<this.children.length;c++){const f=this.children[c],[h,m]=Ia(f.execute(i,o,a));if(h!==z.FAILURE){if(h===z.SUCCESS)return delete this.runningChildIndex,this.lastStatus=z.SUCCESS,this.name&&a.recordNodeExecution(this.name,z.SUCCESS,o.gameState.time,this.depth,m),z.SUCCESS;if(h===z.RUNNING)return this.runningChildIndex=c,this.lastStatus=z.RUNNING,this.name&&a.recordNodeExecution(this.name,z.RUNNING,o.gameState.time,this.depth,m),z.RUNNING}}return delete this.runningChildIndex,this.lastStatus=z.FAILURE,this.name&&a.recordNodeExecution(this.name,z.FAILURE,o.gameState.time,this.depth,""),z.FAILURE}}class Ye{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");this.action=i,this.name=o,this.depth=a}execute(i,o,a){const[d,c]=Ia(this.action(i,o,a));return this.lastStatus=d,this.name&&a.recordNodeExecution(this.name,d,o.gameState.time,this.depth,c),d}}class Ue{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");this.condition=i,this.name=o,this.depth=a}execute(i,o,a){let[d,c]=Ia(this.condition(i,o,a));const f=d?z.SUCCESS:z.FAILURE;return this.lastStatus=f,this.name&&a.recordNodeExecution(this.name,f,o.gameState.time,this.depth,c),f}}function G1(n){return new ot([new Ue((i,o)=>{const a=i.hunger>=Yh,d=i.food.length>0,c=!i.eatingCooldownTime||o.gameState.time>=i.eatingCooldownTime;return[!!(i.isAdult&&a&&d&&c),`${Math.floor(i.hunger-Yh)}, ${i.food.length}, ${i.eatingCooldownTime?Math.floor(i.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new Ye(i=>(i.direction={x:0,y:0},i.target=void 0,i.activeAction="eating",z.RUNNING),"Eat",n+1)],"Eating",n)}function z1(n){return new ot([new Ue((i,o,a)=>{if(i.isAdult&&i.hitpoints>i.maxHitpoints*um||i.isAdult&&i.hunger>Fy)return!1;const d=e1(i.id,o.gameState);return d?(a.set("fleeThreat",d),!0):!1},"Should Flee",n+1),new Ye((i,o,a)=>{const d=a.get("fleeThreat");if(!d)return z.FAILURE;i.activeAction="moving";const c=Lt(d.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=Qt(c),h=ur(i.position,mn(f,cm));return i.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},i.direction=f,z.RUNNING},"Execute Flee",n+1)],"Flee",n)}function j1(n){return new ot([new Ue((i,o,a)=>{const d=i.food.length<i.maxFood;if(!i.isAdult||!d||i.hunger<Py)return!1;const c=yt(i,o.gameState,"berryBush",void 0,m=>m.food.length>0),f=yt(i,o.gameState,"humanCorpse",void 0,m=>m.food.length>0);let h=null;if(c&&f){const m=we(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),S=we(i.position,f.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);h=m<=S?c:f}else h=c||f;return h?(a.set("foodSource",h),!0):!1},"Should Gather Food",n+1),new Ye((i,o,a)=>{const d=a.get("foodSource");return d?we(i.position,d.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Ro?(i.activeAction="gathering",i.direction={x:0,y:0},i.target=void 0,z.SUCCESS):(i.activeAction="moving",i.target=d.id,z.RUNNING):z.FAILURE},"Move To Food and Gather",n+1)],"Gather Food",n)}function W1(n){return new Ye((i,o,a)=>(i.activeAction="idle",i.direction={x:0,y:0},i.target=void 0,a.set("wanderTarget",void 0),z.SUCCESS),"Idle",n)}const dp=n=>n.find(i=>(i.procreationCooldown||0)<=0&&i.hunger<Rt&&(i.gender==="female"?!i.isPregnant&&i.age<=Si:!0));function $1(n){const i=new Ue((c,f,h)=>{const m=rp(c,f.gameState,Ro),S=dp(m);return S?(h.set("procreationPartner",S),!0):!1},"Find Immediate Partner",n+2),o=new Ye((c,f,h)=>{var S;const m=h.get("procreationPartner");return m?(c.activeAction="procreating",c.target=void 0,(S=c.partnerIds)!=null&&S.includes(m.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,m.id]:[m.id]),z.SUCCESS):z.FAILURE},"Start Procreating",n+2),a=new Ue((c,f,h)=>{const m=rp(c,f.gameState,Ly),S=dp(m);return S?(h.set("procreationPartner",S),!0):!1},"Locate Distant Partner",n+2),d=new Ye((c,f,h)=>{const m=h.get("procreationPartner");if(!m)return z.FAILURE;if(we(c.position,m.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height)<Ro)return z.SUCCESS;c.activeAction="moving",c.target=m.id;const g=Lt(c.position,m.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height);return c.direction=Qt(g),z.RUNNING},"Move Towards Partner",n+2);return new ot([new Ue(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<sy||c.gender==="female"&&c.age>Si),"Is Fertile (age, not pregnant)",n+1),new Ue(c=>c.hunger<Rt,"Is Healthy (hunger)",n+1),new Ue(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new Ue((c,f)=>Im(c.position,f.gameState,"berryBush",Uy)>=My,"Is Environment Viable (food)",n+1),new Ta([new ot([i,o],"Procreate With Immediate Partner",n+2),new ot([a,d],"Seek Distant Partner",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const ai="attackTarget",kr="homeCenter",Uu=150;function Y1(n,i,o){let a,d=1/0;for(const c of Object.values(n.entities.entities))if(c.type==="human"&&c.id!==i.id&&c.hitpoints>0&&c.leaderId!==i.leaderId){const f=we(i.position,c.position,n.mapDimensions.width,n.mapDimensions.height);f<o&&f<d&&(d=f,a=c)}return a}function V1(n){return new ot([new Ue((i,o,a)=>{const{gameState:d}=o;if(i.activeAction==="attacking"&&i.attackTargetId){const f=d.entities.entities.get(i.attackTargetId);if(f&&f.hitpoints>0&&we(i.position,f.position,d.mapDimensions.width,d.mapDimensions.height)<=Uu){if(a.set(ai,f),!a.get(kr)){const h=i.leaderId?ec(i.leaderId,d):bu(i,d).length>0?ap(i,d):i.position;a.set(kr,h)}return!0}}const c=Y1(d,i,Uu);if(c){a.set(ai,c);const f=i.leaderId?ec(i.leaderId,d):bu(i,d).length>0?ap(i,d):i.position;return a.set(kr,f),!0}return a.set(ai,void 0),a.set(kr,void 0),!1},"Find Attack Target",n+1),new Ye((i,o,a)=>{const d=a.get(ai),c=a.get(kr);if(!d||!c)return z.FAILURE;const{gameState:f}=o;return we(i.position,c,f.mapDimensions.width,f.mapDimensions.height)>am?(i.activeAction="idle",i.attackTargetId=void 0,a.set(ai,void 0),a.set(kr,void 0),z.FAILURE):d.hitpoints<=0||we(i.position,d.position,f.mapDimensions.width,f.mapDimensions.height)>Uu?(i.activeAction==="attacking"&&(i.activeAction="idle",i.attackTargetId=void 0),a.set(ai,void 0),a.set(kr,void 0),z.SUCCESS):(i.activeAction==="attacking"&&i.attackTargetId===d.id||(i.activeAction="attacking",i.attackTargetId=d.id),z.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const X1=(n,i,o)=>{const a=dr(i.gameState,n).filter(f=>!f.isAdult);if(a.length===0)return z.FAILURE;let d=null,c=pc;for(const f of a)f.hunger>=c&&(c=f.hunger,d=f);return d?(o.set("targetChild",d),z.SUCCESS):z.FAILURE},K1=(n,i,o)=>{const a=o.get("targetChild");return a?we(n.position,a.position,i.gameState.mapDimensions.width,i.gameState.mapDimensions.height)>mc?(n.activeAction="moving",n.target=a.id,n.direction=Em(n.position,a.position,i.gameState.mapDimensions),z.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),z.SUCCESS):z.FAILURE};function Q1(n){return new ot([new Ue(i=>(i.isAdult&&i.food.length>0&&(!i.feedChildCooldownTime||i.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new Ye(X1,"Find Hungriest Child",n+1),new Ye(K1,"Move To Child and Feed",n+1)],"Feed Child",n)}function Z1(n){return new ot([new Ue(i=>!i.isAdult&&i.hunger>=pc,"Is Hungry Child",n+1),new Ye((i,o,a)=>{const d=Tm(i,o.gameState);if(d.length===0)return z.FAILURE;const c=yt(i,o.gameState,"human",dy,f=>d.some(h=>h.id===f.id)&&f.food.length>0);return c?(a.set("targetParent",c),z.SUCCESS):z.FAILURE},"Find Parent With Food",n+1),new Ye((i,o,a)=>{const d=a.get("targetParent");if(!d)return z.FAILURE;const c=we(i.position,d.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.activeAction="idle",c<=mc?(i.target=void 0,z.SUCCESS):(i.target=d.id,i.activeAction="moving",z.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}function q1(n){return new ot([new Ue(i=>{const o=i.food.filter(d=>d.type===cr.Berry).length>=da,a=i.hunger<Ny;return(i.isAdult&&o&&a)??!1},"Can Plant",n+1),new Ue((i,o)=>{const a=Im(i.position,o.gameState,"berryBush",Ry),d=dr(o.gameState,i);return!(d.length===0||a>=d.length*2)},"Has Not Enough Nearby Bushes",n+1),new Ye((i,o,a)=>{const d="plantingSpot";let c=a.get(d);if(c&&i.activeAction!=="planting"&&(i.activeAction!=="moving"||i.target!==c))return a.set(d,void 0),z.FAILURE;if(!c){const h=bS(i,o.gameState);if(h)a.set(d,h),c=h;else return z.FAILURE}return we(i.position,c,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Ro?(i.activeAction="moving",i.target=c,i.direction=Em(i.position,c,o.gameState.mapDimensions),z.RUNNING):(i.activeAction="planting",i.target=c,z.RUNNING)},"Find, Move, and Plant",n+1)],"Plant Bush",n)}const Lu="enemiesNearby";function J1(n){const i=new Ue(f=>f.id===f.leaderId,"Is Leader?",n+1),o=new Ue(f=>!f.isCallingToAttack,"Is Not Already Calling?",n+1),a=new Ue(f=>(f.leaderCallToAttackCooldown??0)<=0,"Is Cooldown Ready?",n+1),d=new Ye((f,h,m)=>{const S=Ec(f.position,f.id,h.gameState,lm);return S.length>0?(m.set(Lu,S),z.SUCCESS):z.FAILURE},"Find Nearby Enemies",n+1),c=new Ta([new ot([new Ue((f,h,m)=>{const S=m.get(Lu);if(!S||S.length===0)return!1;const g=Cm(f.id,h.gameState),y=sp(g),T=sp(S);return y>T*jy},"Is Strong Enough?",n+2),new Ye((f,h)=>(f.isCallingToAttack=!0,f.callToAttackEndTime=h.gameState.time+fa,f.leaderCallToAttackCooldown=Wy,ft(h.gameState,Ee.CallToAttack,f.position,fa),vt(h,ze.CallToAttack,f.position),f.activeAction="idle",f.target=void 0,z.SUCCESS),"Issue Call to Attack",n+2)],"Attack",n+1),new Ye((f,h,m)=>{const S=m.get(Lu);if(!S||S.length===0)return z.FAILURE;const g=S.map(O=>O.position),y=Sc(g),T=Lt(y,f.position,h.gameState.mapDimensions.width,h.gameState.mapDimensions.height),k=Qt(T),P=ur(f.position,mn(k,cm*2));return f.activeAction="moving",f.target={x:(P.x%h.gameState.mapDimensions.width+h.gameState.mapDimensions.width)%h.gameState.mapDimensions.width,y:(P.y%h.gameState.mapDimensions.height+h.gameState.mapDimensions.height)%h.gameState.mapDimensions.height},f.direction=k,z.SUCCESS},"Retreat",n+1)],"Attack or Retreat",n+1);return new ot([i,o,a,d,c],"Leader Combat Strategy",n)}const Fu="combatTarget",xu="homeCenter";function b1(n){const i=new Ue(f=>f.isAdult&&f.leaderId?f.id!==f.leaderId:!1,"Is Tribe Follower?",n+1),o=new Ue(f=>f.hunger<Oy&&f.hitpoints>=f.maxHitpoints*um,"Is Fit for Combat?",n+1),a=new Ue((f,h)=>{const m=h.gameState.entities.entities.get(f.leaderId);return!!(m!=null&&m.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),d=new Ye((f,h,m)=>{const{gameState:S}=h,g=S.entities.entities.get(f.leaderId);if(!g)return z.FAILURE;const y=Ec(g.position,g.id,S,xy);if(y.length===0)return z.FAILURE;y.sort((T,k)=>{const P=we(f.position,T.position,S.mapDimensions.width,S.mapDimensions.height),O=we(f.position,k.position,S.mapDimensions.width,S.mapDimensions.height);return P-O});for(const T of y)if(i1(g.id,T.id,S)<Hy){m.set(Fu,T);const P=ec(g.id,S);return m.set(xu,P),z.SUCCESS}return z.FAILURE},"Find Best Target",n+1),c=new Ye((f,h,m)=>{const S=m.get(Fu),g=m.get(xu);if(!S||!g)return z.FAILURE;const{gameState:y}=h;return we(f.position,g,y.mapDimensions.width,y.mapDimensions.height)>am?(f.activeAction==="attacking"&&f.attackTargetId===S.id&&(f.activeAction="idle",f.attackTargetId=void 0),m.set(Fu,void 0),m.set(xu,void 0),z.FAILURE):((!f.lastTargetAcquiredEffectTime||h.gameState.time-f.lastTargetAcquiredEffectTime>Vt*5)&&(ft(h.gameState,Ee.TargetAcquired,f.position,Vt,f.id),f.lastTargetAcquiredEffectTime=h.gameState.time),f.activeAction="attacking",f.attackTargetId=S.id,f.target=void 0,z.RUNNING)},"Attack Target",n+1);return new ot([i,o,a,d,c],"Tribe Member Combat",n)}function eE(n){const i=new Ue((g,y)=>{if(!g.isAdult||g.gender!=="male")return!1;const T=g.partnerIds&&g.partnerIds.length>0,k=dr(y.gameState,g).length>0;return T||k},"Is Adult Male With Family?",n+1),o=new Ue((g,y)=>{const T=Tm(g,y.gameState);if(T.length===0)return!1;for(const k of T)if(we(g.position,k.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<zy)return!0;return!1},"Is Too Close To Parents?",n+1),a=new Ue((g,y,T)=>T.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),d=new Ye((g,y,T)=>{const k=T.get("territoryMoveTarget"),P=T.get("territoryMoveStartTime");if(!k||!P)return[z.FAILURE,"Missing move data"];if(y.gameState.time-P>By)return T.delete("territoryMoveTarget"),T.delete("territoryMoveStartTime"),[z.FAILURE,"Territory move timed out"];if(we(g.position,k,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<Ro)return T.delete("territoryMoveTarget"),T.delete("territoryMoveStartTime"),[z.SUCCESS,"Arrived at new territory"];g.activeAction="moving",g.target=k;const M=Lt(g.position,g.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return g.direction=Qt(M),[z.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),c=new ot([a,d],"Handle In-Progress Move",n+2),f=new Ue((g,y,T)=>T.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+3),h=new Ye((g,y,T)=>{const k=wm(g.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);T.set("territoryMoveTarget",k),T.set("territoryMoveStartTime",y.gameState.time),g.activeAction="moving",g.target=k;const P=Lt(g.position,g.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return g.direction=Qt(P),[z.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+3),m=new ot([f,h],"Start New Territory Move Sequence",n+2),S=new Ta([c,m],"Establish or Continue Move",n+1);return new ot([i,o,S],"Establish Family Territory",n)}function tE(n){return new ot([new Ye((i,o,a)=>{const d=r1(i,o.gameState);return d?(a.set("patriarchTarget",d),[z.SUCCESS,`Found patriarch: ${d.id}`]):(a.delete("patriarchTarget"),[z.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new Ye((i,o,a)=>{const d=a.get("patriarchTarget");if(!d)return[z.FAILURE,"Patriarch target missing from blackboard"];const c=we(i.position,d.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(c>Dy){i.activeAction="moving",i.target=d.id;const f=Lt(i.position,d.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.direction=Qt(f),[z.RUNNING,`Moving to patriarch at ${c.toFixed(0)}`]}return i.activeAction="idle",i.target=void 0,i.direction={x:0,y:0},[z.SUCCESS,`Arrived at patriarch at ${c.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}function nE(){return new Ta([z1(1),J1(1),b1(1),V1(1),G1(1),j1(1),Q1(1),Z1(1),q1(1),$1(1),eE(1),tE(1),W1(1)],"Human Behavior",0)}class rE{constructor(){et(this,"data",new Map);et(this,"nodeExecutionData",new Map)}set(i,o){this.data.set(i,o)}get(i){return this.data.get(i)}delete(i){this.data.delete(i)}has(i){return this.data.has(i)}recordNodeExecution(i,o,a,d,c){const f=this.nodeExecutionData.get(i)||{lastExecuted:0,status:z.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=f.executionHistory[f.executionHistory.length-1];h&&a-(h==null?void 0:h.time)>ko&&f.executionHistory.push({time:h.time+ko,status:z.NOT_EVALUATED}),f.executionHistory.push({time:a,status:o});const m=gm/Yt*$t,S=a-m;f.executionHistory=f.executionHistory.filter(y=>y.time>=S);const g={...f,lastExecuted:a,status:o,depth:d,debugInfo:c};this.nodeExecutionData.set(i,g)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(i){const o=Gy,a=[];for(const[d,c]of this.nodeExecutionData.entries())i-c.lastExecuted>o&&a.push(d);for(const d of a)this.nodeExecutionData.delete(d)}}function iE(n){n.gameState.entities.entities.forEach(o=>{B1(o,n)})}function Pm(){return{entities:new Map,nextEntityId:1}}function Ic(n,i,o){const a={id:n.nextEntityId++,type:i,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(a.id,a),a}function Ca(n,i,o){return Ic(n,"berryBush",{position:i,radius:Zu,food:Array.from({length:Kv},()=>({type:cr.Berry})).map(d=>({...d,id:n.nextEntityId++})),maxFood:Xv,lifespan:Zv,age:0,spreadChance:qv,spreadRadius:Zu,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[yo,{enteredAt:o,previousState:void 0}]})}function ha(n,i,o,a,d=!1,c=ry,f=nm,h,m,S=[],g,y){const T=c>=hc;return Ic(n,"human",{position:i,radius:T?vn:gc,hunger:f,hitpoints:$h,maxHitpoints:$h,age:c,gender:a,isPlayer:d,food:[],maxFood:tm,maxAge:To,isAdult:T,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:m,ancestorIds:S,stateMachine:[it,{enteredAt:o,previousState:void 0}],leaderId:g,tribeBadge:y,aiType:Ac.BehaviorTreeBased,aiBehaviorTree:nE(),aiBlackboard:new rE})}function oE(n,i,o,a,d,c,f,h,m){return Ic(n,"humanCorpse",{position:i,radius:d,gender:o,age:a,originalHumanId:c,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(im*Math.max(Rt-m,0)/Rt,1)},()=>({type:cr.Meat})),...h].map(g=>({...g,id:n.nextEntityId++})),stateMachine:void 0})}function sE(n,i,o){const a=i?o.gameState.entities.entities.get(i):void 0,d=[...n.ancestorIds||[],n.id],c=a?[...a.ancestorIds||[],a.id]:[],f=[...d,...c],h=[...new Set(f)],m=h.slice(Math.max(h.length-bv,0)),S=Math.random()<.5?"male":"female",g=ur(n.position,{x:5,y:5}),y=ha(o.gameState.entities,g,o.gameState.time,S,!1,0,nm/2,n.id,i,m,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return vt(o,ze.Birth,n.position),y}function Tc(n,i){return n.entities.get(i)?(n.entities.delete(i),!0):!1}class aE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(i,o){let a=this.length++;for(;a>0;){const d=a-1>>1,c=this.values[d];if(o>=c)break;this.ids[a]=this.ids[d],this.values[a]=c,a=d}this.ids[a]=i,this.values[a]=o}pop(){if(this.length===0)return;const i=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],d=this.length>>1;let c=0;for(;c<d;){let f=(c<<1)+1;const h=f+1;let m=this.ids[f],S=this.values[f];const g=this.values[h];if(h<this.length&&g<S&&(f=h,m=this.ids[h],S=g),S>=a)break;this.ids[c]=m,this.values[c]=S,c=f}this.ids[c]=o,this.values[c]=a}return i}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const fp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Hu=3;class Cc{static from(i,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!i||i.byteLength===void 0||i.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,d]=new Uint8Array(i,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=d>>4;if(c!==Hu)throw new Error(`Got v${c} data when expected v${Hu}.`);const f=fp[d&15];if(!f)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(i,o+2,1),[m]=new Uint32Array(i,o+4,1);return new Cc(m,h,f,void 0,i,o)}constructor(i,o=16,a=Float64Array,d=ArrayBuffer,c,f=0){if(i===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(i)||i<=0)throw new Error(`Unexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let h=i,m=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),m+=h,this._levelBounds.push(m*4);while(h!==1);this.ArrayType=a,this.IndexArrayType=m<16384?Uint16Array:Uint32Array;const S=fp.indexOf(this.ArrayType),g=m*4*this.ArrayType.BYTES_PER_ELEMENT;if(S<0)throw new Error(`Unexpected typed array class: ${a}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,f+8,m*4),this._indices=new this.IndexArrayType(this.data,f+8+g,m),this._pos=m*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new d(8+g+m*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,m*4),this._indices=new this.IndexArrayType(this.data,8+g,m),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Hu<<4)+S]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=i),this._queue=new aE}add(i,o,a=i,d=o){const c=this._pos>>2,f=this._boxes;return this._indices[c]=c,f[this._pos++]=i,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=d,i<this.minX&&(this.minX=i),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),d>this.maxY&&(this.maxY=d),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const i=this._boxes;if(this.numItems<=this.nodeSize){i[this._pos++]=this.minX,i[this._pos++]=this.minY,i[this._pos++]=this.maxX,i[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,d=new Uint32Array(this.numItems),c=65535;for(let f=0,h=0;f<this.numItems;f++){const m=i[h++],S=i[h++],g=i[h++],y=i[h++],T=Math.floor(c*((m+g)/2-this.minX)/o),k=Math.floor(c*((S+y)/2-this.minY)/a);d[f]=uE(T,k)}tc(d,i,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,h=0;f<this._levelBounds.length-1;f++){const m=this._levelBounds[f];for(;h<m;){const S=h;let g=i[h++],y=i[h++],T=i[h++],k=i[h++];for(let P=1;P<this.nodeSize&&h<m;P++)g=Math.min(g,i[h++]),y=Math.min(y,i[h++]),T=Math.max(T,i[h++]),k=Math.max(k,i[h++]);this._indices[this._pos>>2]=S,i[this._pos++]=g,i[this._pos++]=y,i[this._pos++]=T,i[this._pos++]=k}}}search(i,o,a,d,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const h=[],m=[];for(;f!==void 0;){const S=Math.min(f+this.nodeSize*4,pp(f,this._levelBounds));for(let g=f;g<S;g+=4){if(a<this._boxes[g]||d<this._boxes[g+1]||i>this._boxes[g+2]||o>this._boxes[g+3])continue;const y=this._indices[g>>2]|0;f>=this.numItems*4?h.push(y):(c===void 0||c(y))&&m.push(y)}f=h.pop()}return m}neighbors(i,o,a=1/0,d=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const h=this._queue,m=[],S=d*d;e:for(;f!==void 0;){const g=Math.min(f+this.nodeSize*4,pp(f,this._levelBounds));for(let y=f;y<g;y+=4){const T=this._indices[y>>2]|0,k=hp(i,this._boxes[y],this._boxes[y+2]),P=hp(o,this._boxes[y+1],this._boxes[y+3]),O=k*k+P*P;O>S||(f>=this.numItems*4?h.push(T<<1,O):(c===void 0||c(T))&&h.push((T<<1)+1,O))}for(;h.length&&h.peek()&1;)if(h.peekValue()>S||(m.push(h.pop()>>1),m.length===a))break e;f=h.length?h.pop()>>1:void 0}return h.clear(),m}}function hp(n,i,o){return n<i?i-n:n<=o?0:n-o}function pp(n,i){let o=0,a=i.length-1;for(;o<a;){const d=o+a>>1;i[d]>n?a=d:o=d+1}return i[o]}function tc(n,i,o,a,d,c){if(Math.floor(a/c)>=Math.floor(d/c))return;const f=n[a+d>>1];let h=a-1,m=d+1;for(;;){do h++;while(n[h]<f);do m--;while(n[m]>f);if(h>=m)break;lE(n,i,o,h,m)}tc(n,i,o,a,m,c),tc(n,i,o,m+1,d,c)}function lE(n,i,o,a,d){const c=n[a];n[a]=n[d],n[d]=c;const f=4*a,h=4*d,m=i[f],S=i[f+1],g=i[f+2],y=i[f+3];i[f]=i[h],i[f+1]=i[h+1],i[f+2]=i[h+2],i[f+3]=i[h+3],i[h]=m,i[h+1]=S,i[h+2]=g,i[h+3]=y;const T=o[a];o[a]=o[d],o[d]=T}function uE(n,i){let o=n^i,a=65535^o,d=65535^(n|i),c=n&(i^65535),f=o|a>>1,h=o>>1^o,m=d>>1^a&c>>1^d,S=o&d>>1^c>>1^c;o=f,a=h,d=m,c=S,f=o&o>>2^a&a>>2,h=o&a>>2^a&(o^a)>>2,m^=o&d>>2^a&c>>2,S^=a&d>>2^(o^a)&c>>2,o=f,a=h,d=m,c=S,f=o&o>>4^a&a>>4,h=o&a>>4^a&(o^a)>>4,m^=o&d>>4^a&c>>4,S^=a&d>>4^(o^a)&c>>4,o=f,a=h,d=m,c=S,m^=o&d>>8^a&c>>8,S^=a&d>>8^(o^a)&c>>8,o=m^m>>1,a=S^S>>1;let g=n^i,y=a|65535^(g|o);return g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|g)>>>0}function Bu(n,i){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Cc(n.length),a=new Map;for(const c of n)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(h=>n[h])},byRadius(c,f){return o.neighbors(c.x,c.y,void 0,f).map(m=>n[m])},byProperty(c,f){var h;if(!a.has(c)){const m=new Map;for(const S of n){const g=S[c];m.has(g)||m.set(g,[]),m.get(g).push(S)}a.set(c,m)}return((h=a.get(c))==null?void 0:h.get(f))||[]},resetPropertyCache(){a.clear()}}}function Rc(n){const i=Array.from(n.entities.entities.values()),o=i.filter(f=>f.type==="human"),a=i.filter(f=>f.type==="berryBush"),d=i.filter(f=>f.type==="humanCorpse");return{...n,search:{human:Bu(o),berryBush:Bu(a),humanCorpse:Bu(d)}}}var or=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(or||{}),Do=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(Do||{}),gt=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(gt||{});const cE=[{key:or.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:or.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,i)=>i.hunger>ey,isCompleted:!1,minDisplayTime:tp,highlightedUIElements:[Do.HUNGER_BAR]},{key:or.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,i)=>!!yt(i,n,"berryBush",Ct*5,a=>a.food.length>0),getTargets:(n,i)=>{const o=[];for(const a of n.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&we(i.position,a.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:tp},{key:or.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,i)=>i.food.length>0,getTargets:(n,i)=>{const o=yt(i,n,"berryBush",Ct,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:or.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,i)=>i.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Do.FOOD_BAR]},{key:or.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,i)=>dr(n,i).length>0,getTargets:(n,i)=>{const o=yt(i,n,"human",Ct,a=>{const d=a;return(d.id!==i.id&&d.gender!==i.gender&&d.isAdult&&i.isAdult&&d.hunger<Rt&&i.hunger<Rt&&(d.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(d.gender==="female"?!d.isPregnant&&d.age<=Si:!i.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:or.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,i)=>_m(n,i).some(a=>a.type===hn.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function Nm(){return{steps:cE.map(n=>({...n,isCompleted:!1}))}}function Om(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:gt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function dE(n){for(let i=0;i<n.tutorial.steps.length;i++){const o=n.tutorial.steps[i];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return i}else return i}return null}function fE(n,i){const o=n.tutorialState;if(!o.isActive){o.transitionState=gt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=ar(n);if(!a){o.isActive=!1,o.transitionState=gt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const d=n.tutorial.steps[o.currentStepIndex];if(!d){o.isActive=!1,o.transitionState=gt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/xS;switch(o.transitionState){case gt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=c*i,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=gt.ACTIVE);break;case gt.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(d.minDisplayTime||0)&&d.condition(n,a)||n.isPlayerOnAutopilot)&&(d.isCompleted=!0,o.completedSteps.add(d.key),o.transitionState=gt.FADING_OUT);break}case gt.FADING_OUT:if(o.transitionAlpha-=c*i,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=dE(n);h!==null?(o.currentStepIndex=h,o.transitionState=gt.FADING_IN):(o.isActive=!1,o.transitionState=gt.INACTIVE)}break}o.transitionState!==gt.FADING_OUT&&o.transitionState!==gt.INACTIVE?(d.getTargets?o.highlightedEntityIds=new Set(d.getTargets(n,a)):o.highlightedEntityIds.clear(),d.highlightedUIElements?o.activeUIHighlights=new Set(d.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function hE(){const n=Pm(),i=0;for(let g=0;g<bp;g++){const y={x:Math.random()*Dr,y:Math.random()*Mr};Ca(n,y,i)}const o=Dr/2,a=Mr/2,d=ha(n,{x:o,y:a},i,"male",!0);ha(n,{x:o+50,y:a},i,"female",!1);const c=[{id:"autopilotButton",action:gn.ToggleAutopilot,currentWidth:So,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:gn.ToggleMute,currentWidth:So,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:gn.TogglePause,currentWidth:So,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=Nm(),h=Om(),m={time:i,entities:n,mapDimensions:{width:Dr,height:Mr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...d.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:ym,isMuted:!1,uiButtons:c,tutorial:f,tutorialState:h},S=Rc(m);return console.log("Game world initialized:",S),S}function pE(){const n=Pm(),i=0;for(let c=0;c<bp;c++){const f={x:Math.random()*Dr,y:Math.random()*Mr};Ca(n,f,i)}for(let c=0;c<$S;c++){const f={x:Math.random()*Dr,y:Math.random()*Mr},h=Math.random()<.5?"male":"female";ha(n,f,i,h,!1)}const o=Nm(),a=Om(),d={time:i,entities:n,mapDimensions:{width:Dr,height:Mr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Dr/2,y:Mr/2},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:ym,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:a};return Rc(d)}const mE="humanProcreation",gE="human",vE="human",yE=Ct,SE=(n,i)=>{if(n.id===i.id||n.gender===i.gender)return!1;const o=(a,d)=>a.isAdult&&a.hunger<Rt&&(a.procreationCooldown||0)<=0?d?!a.isPregnant&&a.age<=Si:!0:!1;return n.gender==="male"?!o(n,!1)||!o(i,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(i,!1)?!1:n.activeAction==="procreating"&&i.activeAction==="procreating"},EE=(n,i,o)=>{var m,S;const{gameState:a}=o,d={x:(n.position.x+i.position.x)/2,y:(n.position.y+i.position.y)/2},c=n.gender==="male"?n:i,f=n.gender==="female"?n:i,h=(c.partnerIds||[]).length===0;if(n.stateMachine=[No,{partnerId:i.id,previousState:(m=n.stateMachine)==null?void 0:m[0]}],i.stateMachine=[No,{partnerId:n.id,previousState:(S=i.stateMachine)==null?void 0:S[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(i.id)||n.partnerIds.push(i.id),i.partnerIds||(i.partnerIds=[]),i.partnerIds.includes(n.id)||i.partnerIds.push(n.id),h&&c.leaderId&&c.leaderId!==c.id){const g=a.entities.entities.get(c.leaderId);if(g){const y=ip(c,g),T=ip(f,g);if(!y&&!T){const k=op();c.leaderId=c.id,c.tribeBadge=k,f.leaderId=c.id,f.tribeBadge=k}}}else if(!n.leaderId&&!i.leaderId&&c&&f){const g=op();c.leaderId=c.id,c.tribeBadge=g,f.leaderId=c.id,f.tribeBadge=g}n.activeAction=void 0,ft(a,Ee.Procreation,d,mo),ft(a,Ee.Partnered,n.position,Vt,n.id),ft(a,Ee.Partnered,i.position,Vt,i.id),n.lastPartneredEffectTime=a.time,i.lastPartneredEffectTime=a.time,i.activeAction=void 0,vt(o,ze.Procreate,d)},_E={id:mE,sourceType:gE,targetType:vE,maxDistance:yE,checker:SE,perform:EE},wE={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:mc,checker:(n,i)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&i.isAdult===!1&&(i.motherId===n.id||i.fatherId===n.id)&&i.hunger>=pc,perform:(n,i,o)=>{n.food.pop(),i.hunger=Math.max(0,i.hunger-Co),n.feedChildCooldownTime=cy,(!i.lastChildFedEffectTime||o.gameState.time-i.lastChildFedEffectTime>2)&&(ft(o.gameState,Ee.ChildFed,i.position,Vt,i.id),i.lastChildFedEffectTime=o.gameState.time),vt(o,ze.ChildFed,i.position)}},AE={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:wa,checker:(n,i,o)=>{var c;if(((c=n.stateMachine)==null?void 0:c[0])!==Ei||n.attackTargetId!==i.id||(n.attackCooldown||0)>0)return!1;const a=n.stateMachine[1];return o.gameState.time-a.attackStartTime>=om},perform:(n,i,o)=>{const a=Lt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=ZS(Qt(a),i.direction);if(Math.abs(d)<Ay*Math.PI/180&&Math.random()<Iy)ft(o.gameState,Ee.AttackDeflected,i.position,Vt,i.id);else{let h=gy;n.gender==="male"&&(h*=Ey),n.isAdult||(h*=_y),(!i.isAdult||i.age>=rm)&&n.isAdult&&(h*=wy),i.hitpoints-=h,ft(o.gameState,Ee.Hit,i.position,Vt,i.id);const S=Lt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),g=mn(S,vy);i.forces.push(g),i.hitpoints<=0?vt(o,ze.HumanDeath,i.position):vt(o,ze.Attack,n.position)}n.attackCooldown=sm;const f=n.stateMachine[1];f.attackStartTime=o.gameState.time,ft(o.gameState,Ee.Attack,n.position,Vt,n.id)}},IE={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:vn*2,checker:(n,i,{gameState:o})=>we(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+i.radius)/3,perform:(n,i,{gameState:o})=>{const a=we(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){n.forces.push({x:.1,y:0}),i.forces.push({x:-.1,y:0});return}const c=(n.radius+i.radius-a)*.05,f=Qt(KS(n.position,i.position)),h=mn(f,c);n.forces.push(h),i.forces.push(mn(h,-1))}},TE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Ct,checker:(n,i,o)=>{var a;return n.isAdult&&i.food.length>0&&((a=n.stateMachine)==null?void 0:a[0])===Aa&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const a=i.food.pop();a&&n.food.push(a),n.gatheringCooldownTime=o.gameState.time+1,i.timeSinceLastHarvest=o.gameState.time,i.ownerId=n.id,i.claimedUntil=o.gameState.time+Jv,ft(o.gameState,Ee.BushClaimed,i.position,Vt),vt(o,ze.Gather,n.position)}},CE={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Ct,checker:(n,i,o)=>{var a;return n.isAdult&&i.food.length>0&&((a=n.stateMachine)==null?void 0:a[0])===Aa&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const a=i.food.pop();a&&n.food.push(a),n.gatheringCooldownTime=o.gameState.time+1,vt(o,ze.Gather,n.position)}},RE=[TE,CE],kE=[IE,...RE,_E,wE,AE];function PE(n){const{gameState:i}=n,o=i,a=Array.from(i.entities.entities.values());for(const d of kE)for(const c of a){if(d.sourceType&&c.type!==d.sourceType)continue;const f=o.search[d.targetType].byRadius(c.position,d.maxDistance);for(const h of f){if(c.id===h.id)continue;we(c.position,h.position,i.mapDimensions.width,i.mapDimensions.height)<=d.maxDistance&&d.checker(c,h,n)&&d.perform(c,h,n)}}}function NE(n){n.visualEffects=n.visualEffects.filter(i=>n.time-i.startTime<=i.duration)}const OE=1/60;function DE(n,i){const o=ar(n);o&&(n.viewportCenter=yc(n.viewportCenter,o.position,dc*i))}function nc(n,i){if(n.isPaused)return n;for(;i>0;){const o=Rc(n),a=Math.min(i,OE);if(o.gameOver)return o;const d=a*($t/Yt);o.time+=d,DE(o,a),iE({gameState:o,deltaTime:a}),PE({gameState:o,deltaTime:a}),NE(o),fE(o,a),n=o,i-=a}return n}const rc=10,ME=3,mp=rc*.7;function UE(n,i,o,a,d){const{position:c,food:f,maxFood:h,ownerId:m,claimedUntil:S}=i;if(n.beginPath(),n.arc(c.x,c.y,rc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),m&&S&&S>d&&a){const g=o.entities.entities.get(m);if(g){let y;g.id===a.id?y=vc:t1(a,g,o)?y=Yy:y=pm,y&&(n.strokeStyle=y,n.lineWidth=1+Math.sin(d*2)*.5,n.beginPath(),n.arc(c.x,c.y,rc+2,0,Math.PI*2),n.stroke())}}if(f.length>0){const g=Math.PI*2/Math.min(f.length,h);for(let y=0;y<f.length;y++){const T=y*g,k=c.x+mp*Math.cos(T),P=c.y+mp*Math.sin(T);n.beginPath(),n.arc(k,P,ME,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}const oe=(n,i,o,a,d,c,f)=>{c==="transparent"||a<=0||d<=0||(n.fillStyle=c,n.fillRect(Math.floor(i*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(d*f)))},gp=10,vp=10,dn=6,Pn=4,qs=2,LE=5,Wt=4,FE=2,ct=4,xE=2,xe=3,li=2,sr=0,_o=sr+Pn-1,mt=_o,$e=_o+Wt-1,HE="rgba(0, 0, 0, 0.4)",BE=4,GE=1,kc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,i,o,a,d,c,f,h="male",m=20,S=[1,0],g=!1,y=0){const T=["dead","stunned"].includes(f),k=T?vp+4:gp,P=T?gp+4:vp+xe,O=.15,A=Math.min(a*(1-2*O)/k,d*(1-2*O)/P),M=k*A,N=P*A,Y=i+(a-M)/2,x=o+(d-N)/2;n.save(),S[0]<0&&!T?(n.translate(Y+M,x),n.scale(-1,1)):n.translate(Y,x);const U="#D09A5A",W=m>50?"#BDBDBD":"#281808",ee="#7F5C4A",Ae="#6B4F3A",Ne="#E0D8C0",Ze="#A0522D",Le=1-Math.max(0,Math.min(100,y))/100*.2,Te=h==="male"?1.1:.9,ye=.8+(Math.max(1,Math.min(m,60))-1)/59*.2;let ve=LE*Le*Te*ye,ce=FE*Le*Te*ye,se=xE*Le*ye;g&&h==="female"&&(ve*=1.5);const G=Math.round((k-ve)/2),V=Math.round((k-dn)/2),j=G-ce,w=G+ve,D=1,te=G+(ve/2-D/2)-se,K=G+(ve/2+D/2),pe=S[1]<-.2&&Math.abs(S[0])<.7,ae=Z=>{n.fillStyle=HE,n.beginPath();const ie=k/2,Ie=Z;n.ellipse(Math.floor(ie*A),Math.floor(Ie*A),Math.max(1,Math.floor(BE*A)),Math.max(1,Math.floor(GE*A)),0,0,2*Math.PI),n.fill()},fe=(Z,ie)=>{h==="male"?(oe(n,G,_o+Z,ve,Wt-li,ie,A),oe(n,G,_o+Wt-li+Z,ve,li,ee,A)):oe(n,G,_o+Z,ve,Wt,Ae,A)},de=(Z,ie)=>{pe?oe(n,V,sr+Z,dn,Pn,W,A):(oe(n,V,sr+Z,dn,Pn,ie,A),oe(n,V,sr+Z,dn,qs,W,A),h==="female"?(oe(n,V-1,sr+qs+Z,1,Pn,W,A),oe(n,V+dn,sr+qs+Z,1,Pn,W,A)):oe(n,V+1,sr+2+Z,dn-2,Pn-2,W,A))};switch(f){case"idle":{const Z=c*Math.PI*2,ie=Math.sin(Z)*.5,ue=(Math.cos(Z*2)+1)*.25;ae($e+xe+1),oe(n,te+ie,$e+ue,se,xe,U,A),oe(n,K-ie,$e+ue,se,xe,U,A),fe(ue,U),oe(n,j,mt+ue,ce,ct,U,A),oe(n,w,mt+ue,ce,ct,U,A),de(ue,U);break}case"walk":{const Z=c*Math.PI*2,ie=Math.sin(Z)*2,ue=Math.abs(Math.cos(Z))*1;ae($e+xe+1),oe(n,te+ie,$e+ue,se,xe,U,A),oe(n,K-ie,$e+ue,se,xe,U,A),fe(ue,U),oe(n,j-ie,mt+ue,ce,ct,U,A),oe(n,w+ie,mt+ue,ce,ct,U,A),de(ue,U);break}case"gathering":{const Z=c*Math.PI*2,ie=1,Ie=(Math.sin(Z)+1)/2*2,ue=ie+Math.abs(Math.cos(Z))*.5;ae($e+xe+1),oe(n,te,$e+ue,se,xe-ie,U,A),oe(n,K,$e+ue,se,xe-ie,U,A),fe(ue,U),oe(n,j+1,mt+ue-Ie,ce,ct,U,A),oe(n,w-1,mt+ue-Ie,ce,ct,U,A),de(ue,U);break}case"eat":{ae($e+xe+1),oe(n,te,$e+1,se,xe-1,U,A),oe(n,K,$e+1,se,xe-1,U,A),fe(1,U);const Ie=(Math.sin(c*Math.PI*4)+1)/2,ue=V+dn/2,Sn=sr+Pn/2,kt=w+(ue-w)*Ie,Ft=mt+1+(Sn-(mt+1))*Ie;oe(n,j,mt+1,ce,ct,U,A),oe(n,kt,Ft,ce,ct,U,A),oe(n,kt,Ft-1,1,1,Ze,A),de(1,U);break}case"procreate":{const Z=(Math.sin(c*Math.PI*8)+1)/4,ie=(Math.sin(c*Math.PI*6)+1)*.5,Ie=1.5,ue=Ie-ie;ae($e+xe+1),oe(n,te,$e+ue,se,xe-Ie,U,A),oe(n,K,$e+ue,se,xe-Ie,U,A),fe(ue,U),oe(n,j,mt+ue,ce,ct,U,A),oe(n,w,mt+ue,ce,ct,U,A),de(ue,U),n.globalAlpha=Z,fe(ue,"white"),n.globalAlpha=1;break}case"attacking":{const Z=Math.sin(c*Math.PI)*1.5,ie=Math.abs(Math.sin(c*Math.PI));ae($e+xe+1),oe(n,te-Z,$e+ie,se,xe,U,A),oe(n,K+Z*.5,$e+ie,se,xe,U,A),fe(ie,U),oe(n,j,mt+ie-2,ce,ct,U,A),oe(n,w,mt+ie-2.5,ce,ct,U,A),de(ie,U);break}case"defending":{ae($e+xe+1),oe(n,te,$e+1,se,xe-1,U,A),oe(n,K,$e+1,se,xe-1,U,A),fe(1,U),oe(n,j-1,mt+1-1,ce,ct,U,A),oe(n,w+1,mt+1-1,ce,ct,U,A),de(1,U);break}case"stunned":case"dead":{const Z=f==="dead",ie=Z?Math.min(1,c):0,Ie=ie>.5?Ne:U,ue=h==="male"?ee:Ae,Sn=ie>.8?"transparent":W,kt=k/2,Ft=P/2,fr=2;ae(P-1),oe(n,kt-se-fr,Ft,se,xe,Ie,A),oe(n,kt+fr,Ft,se,xe,Ie,A),oe(n,kt-ce-fr,Ft-Wt+1,ce,ct,Ie,A),oe(n,kt+fr,Ft-Wt+1,ce,ct,Ie,A);const En=kt-ve/2,On=Ft-Wt/2;h==="male"?(ie<.7&&oe(n,En,On+Wt-li,ve,li,ue,A),oe(n,En,On,ve,Wt-li,Ie,A)):ie<.7?oe(n,En,On,ve,Wt,ue,A):oe(n,En,On,ve,Wt,Ie,A);const Lr=kt-dn/2,Dn=Ft-Wt/2-Pn+1;if(oe(n,Lr,Dn,dn,Pn,Ie,A),Sn!=="transparent"&&oe(n,Lr,Dn,dn,qs,Sn,A),Z&&ie>.6){const Mn="#B0A890";for(let hr=0;hr<3;hr++)oe(n,En+1,On+hr*1+1,ve-2,.5,Mn,A)}break}default:oe(n,0,0,k,P,"magenta",A);break}n.restore()}};function zE(n,i){const{position:o,gender:a,age:d,decayProgress:c,food:f,radius:h}=i;if(n.save(),n.globalAlpha=1-c,kc.render(n,o.x-h,o.y-h,h*2,h*2,c,"dead",a,d,[0,0],!1,0),n.restore(),f.length>0){n.save(),n.font=`${sS}px Arial`,n.textAlign="center",n.textBaseline="middle";const m=vn*.9,S=Math.PI/tm*3;f.forEach((g,y)=>{const T=y*S,k=o.x+m*Math.cos(T)*Math.atan2(y,y),P=o.y+m*Math.sin(T)*Math.atan2(y,y),O=Sm[g.type];n.fillText(O,k,P)}),n.restore()}}const jE=25,WE=0,yp=28;function $E(n,i,o,a,d,c,f,h,m){n.save();const S=i.x-f.x+h/2,g=i.y-f.y+m/2;n.strokeStyle=a,n.lineWidth=c,n.setLineDash(d),n.beginPath(),n.arc(S,g,o+mm,0,2*Math.PI),n.stroke(),n.restore()}function YE(n,i,o,a,d,c){if(i.length===0)return;n.save(),i.forEach(g=>{g.targetEntity&&$E(n,g.targetEntity.position,g.targetEntity.radius,Vy,Xy,2,a,d,c)}),n.font=`${Vh}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const f=o.position.x-a.x+d/2,h=o.position.y-a.y+c/2;let m=0,S={};i.forEach(g=>{const y=JS[g.type];if(g.targetEntity){S[g.targetEntity.id]=(S[g.targetEntity.id]||0)+1;const T=g.targetEntity.position.x-a.x+d/2,k=g.targetEntity.position.y-a.y+c/2,P=`${y}${g.key.toUpperCase()}`,O=k-g.targetEntity.radius-mm-Vh/2-(S[g.targetEntity.id]-1)*yp;n.fillText(P,T,O)}else{n.textAlign="left";const T=`${y}${g.key.toUpperCase()}`,k=f+jE,O=h+WE+m*yp;n.fillText(T,k,O),m++,n.textAlign="center"}}),n.restore()}function VE(n,i){n.save(),n.fillStyle=i.backgroundColor,n.fillRect(i.rect.x,i.rect.y,i.rect.width,i.rect.height),n.fillStyle=i.textColor,n.textAlign="center",n.textBaseline="middle",n.fillText(i.text,i.rect.x+i.rect.width/2,i.rect.y+i.rect.height/2),n.restore()}function hi(n,i,o,a,d,c,f,h){n.save(),n.fillStyle=f,n.fillRect(i,o,a,d),n.fillStyle=h,n.fillRect(i,o,a*Math.max(0,c),d),n.restore()}function XE(n,i,o,a,d,c){if(n.save(),a.length===0){n.restore();return}const f=a.length*d;let h;f>c||f+(a.length-1)*4>c?h=(c-f)/(a.length-1):h=4,a.length===1&&(h=0);for(let m=0;m<a.length;m++){const S=Sm[a[m].type];n.fillText(S,i+m*(d+h),o)}n.restore()}function KE(n,i,o,a,d){const c=i.x,f=i.y-o-a/2;n.save(),n.fillStyle=d,n.strokeStyle=d,n.lineWidth=1.5,n.beginPath(),n.rect(c-a/2,f,a,a/2),n.fill(),n.beginPath(),n.moveTo(c-a/2,f),n.lineTo(c-a/4,f-a/3),n.lineTo(c-a/6,f),n.moveTo(c-a/6,f),n.lineTo(c,f-a/2),n.lineTo(c+a/6,f),n.moveTo(c+a/6,f),n.lineTo(c+a/4,f-a/3),n.lineTo(c+a/2,f),n.stroke(),n.restore()}function Mo(n,i,o,a,d,c=!1,f=!1,h=!1,m=!1){a<hc&&(o=o*.75),kc.render(n,i.x-o/2,i.y-o/2,o,o,0,"idle",d,a,[0,0],!1,0);let S,g;c?(S=aS,g=vc):f?(S=lS,g=hm):h?(S=uS,g=fm):m&&(S=cS,g=dm),S&&g&&KE(n,i,o/2,S,g)}function QE(n,i,o,a,d,c){if(n.save(),a.length===0){n.restore();return}const f=a.length*d,h=4;let m;const S=f+(a.length-1)*h;a.length>1&&S>c?m=(c-f)/(a.length-1):m=h,a.length<=1&&(m=0);for(let g=0;g<a.length;g++){const{member:y,isPlayer:T,isHeir:k,isPartner:P,isParent:O}=a[g],A=i+g*(d+m)+d/2,M=o+d/4;Mo(n,{x:A,y:M},d,y.age,y.gender,T,k,P,O)}n.restore()}function ZE(n,i,o,a){if(i.length===0)return;n.save();const d=tr,c=" 00",f=" 00";n.font=`${Tu}px "Press Start 2P", Arial`;const h=n.measureText(c).width,m=n.measureText(f).width,S=tr+Xs+tr+nr+h+tr/2+nr+m,g=i.length*Ks+(i.length-1)*Qh,y=a-g-tr;n.fillStyle=fS,n.fillRect(d,y,S,g);for(let T=0;T<i.length;T++){const k=i[T],P=y+T*(Ks+Qh),O=P+Ks/2;k.isPlayerTribe&&(n.fillStyle=dS,n.fillRect(d,P,S,Ks));let A=d+tr;n.font=`${Xs}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(k.tribeBadge,A,O-Xs/4),A+=Xs+tr*1.1,k.adultCount>0&&(Mo(n,{x:A+nr/2,y:O},nr,25,"male"),A+=nr/2,n.font=`${Tu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${k.adultCount}`,A,O),A+=n.measureText(` ${k.adultCount}`).width+tr/2),k.childCount>0&&(Mo(n,{x:A+nr/2,y:O},nr,1,"female"),A+=nr/2,n.font=`${Tu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${k.childCount}`,A,O))}n.restore()}function qE(n,i,o,a,d){n.save();const{position:c}=i;n.strokeStyle=a,n.lineWidth=2+Math.sin(d*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(c.x,c.y,o,0,2*Math.PI),n.stroke(),n.restore()}function JE(n,i,o,a,d){if(i.transitionState===gt.INACTIVE)return;const c=o.steps[i.currentStepIndex];if(!c)return;n.save(),n.globalAlpha=i.transitionAlpha;const f=DS,h=MS,m=US,S=`${Nu}px "Press Start 2P", Arial`,g=`${ep}px "Press Start 2P", Arial`,y=FS,T=ep*1.5;n.font=g;const k=c.text.split(" ");let P="";const O=[];for(let x=0;x<k.length;x++){const $=P+k[x]+" ";n.measureText($).width>f-h*2&&x>0?(O.push(P),P=k[x]+" "):P=$}O.push(P);const A=h*2+Nu+h/2+O.length*T,M=(a-f)/2,N=d-A-20;n.fillStyle=LS,n.beginPath(),n.moveTo(M+m,N),n.lineTo(M+f-m,N),n.quadraticCurveTo(M+f,N,M+f,N+m),n.lineTo(M+f,N+A-m),n.quadraticCurveTo(M+f,N+A,M+f-m,N+A),n.lineTo(M+m,N+A),n.quadraticCurveTo(M,N+A,M,N+A-m),n.lineTo(M,N+m),n.quadraticCurveTo(M,N,M+m,N),n.closePath(),n.fill(),n.fillStyle=y,n.textAlign="center",n.textBaseline="top",n.font=S,n.fillText(c.title,M+f/2,N+h),n.font=g;let Y=N+h+Nu+h/2;for(const x of O)n.fillText(x,M+f/2,Y),Y+=T;n.restore()}function Sp(n,i,o){n.save();const a=zS,d={x:i.x-a,y:i.y-a,width:i.width+a*2,height:i.height+a*2};n.strokeStyle=vm,n.lineWidth=GS+Math.sin(o*BS)*1.5,n.setLineDash([8,8]),n.strokeRect(d.x,d.y,d.width,d.height),n.restore()}function bE(n){n.save(),n.fillStyle=PS,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=NS,n.font=`${OS}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const e_={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle"};function t_(n,i){var h;const{radius:o,position:a,activeAction:d="idle"}=i,c=((h=i.stateMachine)==null?void 0:h[0])||"N/A",f=i.isAdult?vn+20:vn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${d}`,a.x,a.y-f),n.fillText(`State: ${c}`,a.x,a.y-f+10),n.fillText(`HP: ${i.hitpoints}`,a.x,a.y-f+20),n.fillText(`Cooldown: ${i.attackCooldown||"N/A"}`,a.x,a.y-f+30),n.restore(),n.beginPath(),n.arc(a.x,a.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function n_(n,i,o){if(!i.aiBehaviorTree||!i.aiBlackboard)return;const a=i.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${_S}px Arial`,n.textAlign="left",n.textBaseline="top";const d=y=>{switch(y){case z.SUCCESS:return AS;case z.FAILURE:return IS;case z.RUNNING:return TS;case z.NOT_EVALUATED:case null:default:return CS}},c=y=>{if(!y.name||!a.has(y.name))return{width:0,height:0};let T=0,k=0;const P=a.get(y.name),O=` ${y.name}`+(P!=null&&P.debugInfo?`: ${P.debugInfo}`:""),A=n.measureText(O).width,M=(y.depth??0)*qh+8+A+bh+uo+20;if(T=Math.max(T,M),k+=Pu,y.children)for(const N of y.children){const Y=c(N);T=Math.max(T,Y.width),k+=Y.height}else if(y.child){const N=c(y.child);T=Math.max(T,N.width),k+=N.height}return{width:T,height:k}},f=(y,T,k,P)=>{if(!y.name||!a.has(y.name))return T;let O=T;const A=a.get(y.name),M=k+2+(y.depth??0)*qh;let N=z.NOT_EVALUATED,Y=Jh,x="";if(A){N=A.status,x=A.debugInfo;const W=kS/Yt*$t,ee=o-A.lastExecuted,Ae=Math.max(0,1-ee/W);Y=qS(Jh,RS,Ae),ee>ko&&(N=z.NOT_EVALUATED)}const $=d(N);n.fillStyle=$,n.fillText("●",M,O),n.fillStyle=Y;const U=` ${y.name}`+(x?`: ${x}`:"");if(n.fillText(U,M+8,O),A&&A.executionHistory.length>0){const{executionHistory:W}=A,ee=gm/Yt*$t,Ae=o,Ne=Ae-ee,Ze=k+P-uo-bh;let Le=Ze;const Te=O+(Pu-Qs)/2,ye=W.filter(D=>D.time<Ne);let ve=ye.length>0?ye[ye.length-1].status:null,ce=Ne;const se=W.filter(D=>D.time>=Ne&&D.time<=Ae),G=uo/ee;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Ze,Te,uo,Qs);for(const D of se){const K=(D.time-ce)*G;K>0&&(n.fillStyle=d(ve),n.fillRect(Le,Te,K,Qs),Le+=K),ve=D.status,ce=D.time}o-ce>ko&&(ve=z.NOT_EVALUATED);const j=(Ae-ce)*G;n.fillStyle=d(ve);const w=Ze+uo-Le;n.fillRect(Le,Te,Math.min(j,w),Qs)}if(O+=Pu,y.children)for(const W of y.children)O=f(W,O,k,P);else y.child&&(O=f(y.child,O,k,P));return O},{width:h,height:m}=c(i.aiBehaviorTree);if(m===0){n.restore();return}const S=i.position.x+SS,g=i.position.y+ES-m/2;n.fillStyle=wS,n.fillRect(S,g,h,m+4),f(i.aiBehaviorTree,g+2,S,h),n.restore()}function r_(n,i,o,a,d){n.save(),n.font=`${Kh}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,i.x,i.y-(a?vn:gc)-Kh-d),n.restore()}function i_(n,i,o,a,d){const c=i.x,f=i.y-o-a/2;n.save(),n.fillStyle=d,n.strokeStyle=d,n.lineWidth=1.5,n.beginPath(),n.rect(c-a/2,f,a,a/2),n.fill(),n.beginPath(),n.moveTo(c-a/2,f),n.lineTo(c-a/4,f-a/3),n.lineTo(c-a/6,f),n.moveTo(c-a/6,f),n.lineTo(c,f-a/2),n.lineTo(c+a/6,f),n.moveTo(c+a/6,f),n.lineTo(c+a/4,f-a/3),n.lineTo(c+a/2,f),n.stroke(),n.restore()}function o_(n,i,o){var h;const{position:a,radius:d}=i,c=a.x-Cu/2,f=a.y-d-hS;if(((h=i.stateMachine)==null?void 0:h[0])===Ei){const m=i.stateMachine[1],S=o-m.attackStartTime,g=Math.min(S/om,1);hi(n,c,f,Cu,Zh,g,fi,pS)}else if(i.attackCooldown&&i.attackCooldown>0){const m=1-i.attackCooldown/sm;hi(n,c,f,Cu,Zh,m,fi,mS)}}function s_(n,i,o=!1,a=!1,d=!1,c=!1,f=!1,h=!1,m=!1,S,g){const{position:y,activeAction:T="idle"}=i,k=i.isAdult?vn:vn*.6,P=e_[T]||"idle";kc.render(n,y.x-k,y.y-k,k*2,k*2,i.animationProgress||0,P,i.gender,i.age,[i.direction.x,i.direction.y],i.isPregnant??!1,i.hunger),h&&(n.save(),n.strokeStyle=pm,n.lineWidth=2,n.beginPath(),n.arc(y.x,y.y,k+3,0,2*Math.PI),n.stroke(),n.restore());let O,A;f?(O=Qy,A=hm):o?(O=Ky,A=vc):d?(O=Zy,A=$y):a?(O=qy,A=dm):c&&(O=Jy,A=fm),O&&A&&i_(n,y,k,O,A),i.tribeBadge&&r_(n,y,i.tribeBadge,i.isAdult??!1,O??0);const M=m&&(g===void 0||i.id===g);M&&i.aiBlackboard&&n_(n,i,S),o_(n,i,S),M&&t_(n,i)}const Dm=15;function Ep(n,i,o,a,d=1.5){const c=o-i.startTime,f=Math.min(c/i.duration,1),h=1-f,S=1+Math.sin(f*Math.PI*2)*(d-1),g=Dm*S;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,Math.max(0,g),0,Math.PI*2),n.fillStyle=a,n.fill(),n.restore()}function ui(n,i,o,a,d=2){const c=o-i.startTime,f=Math.min(c/i.duration,1),h=1-f,m=Dm*2*f;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,m,0,Math.PI*2),n.strokeStyle=a,n.lineWidth=d,n.stroke(),n.restore()}function rr(n,i,o,a){const d=o-i.startTime,c=Math.min(d/i.duration,1),f=1-c,h=-20*c;n.save(),n.globalAlpha=f,n.font="20px Arial",n.textAlign="center",n.fillText(a,i.position.x,i.position.y+h),n.restore()}function a_(n,i,o){switch(i.type){case Ee.Hunger:Ep(n,i,o,"rgba(255, 165, 0, 0.7)",1);break;case Ee.Procreation:rr(n,i,o,"❤️");break;case Ee.Pregnant:Ep(n,i,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ee.TargetAcquired:ui(n,i,o,"rgba(255, 0, 0, 0.8)",3);break;case Ee.Attack:rr(n,i,o,"⚔️");break;case Ee.Partnered:rr(n,i,o,"🤝");break;case Ee.BushClaimed:ui(n,i,o,"rgba(0, 255, 0, 0.7)",2);break;case Ee.BushClaimLost:ui(n,i,o,"rgba(128, 128, 128, 0.7)",2);break;case Ee.Eating:rr(n,i,o,"🍖");break;case Ee.ChildFed:rr(n,i,o,"🍼");break;case Ee.AttackDeflected:rr(n,i,o,"🛡️");break;case Ee.AttackResisted:rr(n,i,o,"💪");break;case Ee.Hit:rr(n,i,o,"💥");break;case Ee.SeizeBuildup:ui(n,i,o,"rgba(255, 215, 0, 0.8)",4);break;case Ee.Seize:ui(n,i,o,"rgba(148, 0, 211, 0.8)",4);break;case Ee.CallToAttack:ui(n,i,o,"rgba(255, 255, 0, 0.8)",4);break}}function ho(n,i,o,a,d,...c){const f={...d.position};for(let h=-o;h<=o;h+=o)for(let m=-i;m<=i;m+=i)d.position.x=f.x+m,d.position.y=f.y+h,a(n,d,...c);d.position=f}function pa(n,i,o,a,d,c=!1){var k;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-a.x,n.canvas.height/2-a.y),!c&&i.gameOver){n.restore(),n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${i.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20);return}const f=ar(i),h=f?dr(i,f):[],m=Ju(h),S=((k=f==null?void 0:f.partnerIds)==null?void 0:k.map(P=>i.entities.entities.get(P)).filter(P=>P!==void 0))||[],{width:g,height:y}=i.mapDimensions;if(Array.from(i.entities.entities.values()).sort((P,O)=>P.position.y-O.position.y||P.id-O.id).forEach(P=>{var O,A;if(P.type==="berryBush")ho(n,g,y,UE,P,i,f,i.time);else if(P.type==="human"){const M=P,N=M.id===(f==null?void 0:f.id),Y=h.some(ee=>ee.id===M.id),x=M.id===(m==null?void 0:m.id),$=f&&(M.id===f.motherId||M.id===f.fatherId),U=f&&(((O=M.partnerIds)==null?void 0:O.includes(f.id))||((A=f.partnerIds)==null?void 0:A.includes(M.id))),W=(f==null?void 0:f.attackTargetId)===M.id;ho(n,g,y,s_,M,N,$,Y,U,x,W,o,i.time,i.debugCharacterId)}else P.type==="humanCorpse"&&ho(n,g,y,zE,P)}),i.visualEffects.forEach(P=>{ho(n,g,y,a_,P,i.time)}),i.tutorialState.isActive&&i.tutorialState.highlightedEntityIds.size>0)for(const P of i.tutorialState.highlightedEntityIds){const O=i.entities.entities.get(P);O&&ho(n,g,y,qE,O,HS,vm,i.time)}if(n.restore(),!c){let P=null,O=null;n.fillStyle=by,n.font=`${bn}px "Press Start 2P", Arial`,n.shadowColor=eS,n.shadowBlur=tS;let A=Tt+bn;const N=i.time/($t/Yt)/em%1,Y=co[ci.Time],x=25,$=Tt+x;if(n.fillText(Y,Tt,A+Mt/2+bn/3),hi(n,$,A,er,Mt,N,fi,oS),A+=Mt+cn,f){const ee=A+Rr/2,Ae=A+(Rr-Mt)/2,Ne=5;Mo(n,{x:Tt*2,y:ee},Rr,5,f.gender,!1,!1,!1);const Ze=Tt+Rr+Ne,Le=er+x-(Rr+Ne)*2;hi(n,Ze,Ae,Le,Mt,Math.floor(f.age)/To,fi,iS),Mo(n,{x:Ze+Le+Ne+Rr/2,y:ee},Rr,To,f.gender,!1,!1,!1),A+=Mt+cn*2;const Te=[],ye=new Set;if(Te.push({member:f,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(f.id),m&&!ye.has(m.id)&&(Te.push({member:m,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),ye.add(m.id)),S.forEach(K=>{ye.has(K.id)||(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),ye.add(K.id))}),h.forEach(K=>{ye.has(K.id)||(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(K.id))}),f.motherId&&!ye.has(f.motherId)){const K=i.entities.entities.get(f.motherId);K&&(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(K.id))}if(f.fatherId&&!ye.has(f.fatherId)){const K=i.entities.entities.get(f.fatherId);K&&(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(K.id))}const ve=co[ci.Family],ce=10,se=Tt+bn+ce,G=er+x-(bn+ce),V=A+Vs/2;n.font=`${bn}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(ve,Tt,V);const j=A+Vs/2;QE(n,se,j,Te,Vs,G),A+=Vs+cn,n.textBaseline="alphabetic";const w=co[ci.Hitpoints];n.fillText(w,Tt,A+Mt/2+bn/3),hi(n,$,A,er,Mt,f.hitpoints/f.maxHitpoints,fi,rS),A+=Mt+cn;const D=co[ci.Hunger];n.fillText(D,Tt,A+Mt/2+bn/3),hi(n,$,A,er,Mt,(Kt-f.hunger)/Kt,fi,nS),P={x:Tt,y:A-cn/2,width:er+x,height:Mt+cn},A+=Mt+cn,n.textBaseline="middle";const te=co[ci.Food];n.fillText(te,Tt,A+lo/2),XE(n,$,A+lo/2,f.food,lo,er),O={x:Tt,y:A-cn/5,width:er+x,height:lo+cn},n.textBaseline="alphabetic",A+=lo+cn*2}let U=n.canvas.width-Tt;i.uiButtons.forEach(ee=>{const Ae=Tt,Ne=U-ee.currentWidth;switch(ee.rect={x:Ne,y:Ae,width:ee.currentWidth,height:gS},ee.textColor=yS,ee.action){case gn.ToggleAutopilot:ee.text="AUT[O]",ee.backgroundColor=i.isPlayerOnAutopilot?ku:Ru;break;case gn.ToggleMute:ee.text=i.isMuted?"UN[M]UTE":"[M]UTE",ee.backgroundColor=i.isMuted?ku:Ru;break;case gn.TogglePause:ee.text=i.isPaused?"UN[P]AUSE":"[P]AUSE",ee.backgroundColor=i.isPaused?ku:Ru,i.isPaused?ee.currentWidth=So*1.4:ee.currentWidth=So*1.1;break}VE(n,ee),U-=ee.currentWidth+vS});const W=o1(i,f==null?void 0:f.leaderId);if(ZE(n,W,n.canvas.width,n.canvas.height),n.shadowColor="transparent",n.shadowBlur=0,f&&d.length>0&&YE(n,d,f,a,n.canvas.width,n.canvas.height),i.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:ee}=i.tutorialState;ee.has(Do.HUNGER_BAR)&&P&&Sp(n,P,i.time),ee.has(Do.FOOD_BAR)&&O&&Sp(n,O,i.time)}i.tutorialState.isActive&&JE(n,i.tutorialState,i.tutorial,n.canvas.width,n.canvas.height),i.isPaused&&bE(n)}}const l_=yn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,u_=yn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,c_=yn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,d_=yn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,f_=yn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Gu="intro-soundtrack",_p=()=>{const{setAppState:n}=ma(),i=ge.useRef(null),o=ge.useRef(null),a=ge.useRef(pE()),d=ge.useRef(),c=ge.useRef(a.current.viewportCenter),f=ge.useRef();ge.useEffect(()=>(wc(ze.SoundTrack1,{loop:!0,trackId:Gu}),()=>{up(Gu,2)}),[]),ge.useEffect(()=>{const g=i.current;if(!g)return;o.current=g.getContext("2d");const y=()=>{g&&o.current&&(g.width=window.innerWidth,g.height=window.innerHeight,pa(o.current,a.current,!1,c.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),ge.useEffect(()=>{const g=()=>{const T=s1(a.current);if(T.length>0){const k=Math.floor(Math.random()*T.length);f.current=T[k].id}};g();const y=setInterval(g,YS);return()=>clearInterval(y)},[]);const[h,m]=Jp(g=>{if(!o.current)return;if(d.current===void 0){d.current=g;return}const y=Math.min((g-d.current)/1e3,1);a.current=nc(a.current,y);const T=f.current?a.current.entities.entities.get(f.current):void 0;if(T){const{mapDimensions:k}=a.current,{width:P,height:O}=k;let A={...T.position};const M=A.x-c.current.x;Math.abs(M)>P/2&&(M>0?A.x-=P:A.x+=P);const N=A.y-c.current.y;Math.abs(N)>O/2&&(N>0?A.y-=O:A.y+=O);let Y=yc(c.current,A,dc*y);Y={x:(Y.x%P+P)%P,y:(Y.y%O+O)%O},c.current=Y}pa(o.current,a.current,!1,c.current,[],!0),d.current=g});ge.useEffect(()=>(m(),h),[m,h]);const S=()=>{up(Gu,2),n("game")};return Re.jsxs(l_,{children:[Re.jsx(u_,{ref:i}),Re.jsxs(c_,{children:[Re.jsx(d_,{children:"Tribe"}),Re.jsx(f_,{onClick:S,children:"Start Game"})]})]})};function h_(){return console.log("Tribe game initialized with detailed 2D world state."),hE()}const wp=()=>{const[n]=ge.useState(()=>h_());return Re.jsx(p_,{initialState:n})},p_=({initialState:n})=>{const i=ge.useRef(null),o=ge.useRef(null),a=ge.useRef(n),d=ge.useRef(),c=ge.useRef(new Set),f=ge.useRef(!1),h=ge.useRef(n.viewportCenter),m=ge.useRef([]),{appState:S,setAppState:g}=ma();ge.useEffect(()=>{const P=i.current;if(!P)return;o.current=P.getContext("2d");const O=()=>{P&&o.current&&(P.width=window.innerWidth,P.height=window.innerHeight,pa(o.current,a.current,f.current,h.current,m.current,!1))};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[y,T,k]=Jp(P=>{if(!o.current||!d.current){d.current=P;return}const O=Math.min(P-d.current,1e3)/1e3;a.current=nc(a.current,O);const A=ar(a.current);if(A?m.current=_m(a.current,A):m.current=[],A){const{mapDimensions:M}=a.current,{width:N,height:Y}=M;let x={...A.position};if(a.current.debugCharacterId){const ee=a.current.entities.entities.get(a.current.debugCharacterId);ee&&(x={...ee.position})}const $=x.x-h.current.x;Math.abs($)>N/2&&($>0?x.x-=N:x.x+=N);const U=x.y-h.current.y;Math.abs(U)>Y/2&&(U>0?x.y-=Y:x.y+=Y);let W=yc(h.current,x,dc*O);W={x:(W.x%N+N)%N,y:(W.y%Y+Y)%Y},h.current=W}else h.current=a.current.viewportCenter;pa(o.current,a.current,f.current,h.current,m.current,!1),d.current=P,a.current.gameOver&&S!=="gameOver"&&(wc(ze.GameOver,{masterVolume:a.current.masterVolume,isMuted:a.current.isMuted}),g("gameOver",{generations:a.current.generationCount,cause:a.current.causeOfGameOver||"Unknown"}))});return ge.useEffect(()=>(T(),y),[T,y]),ge.useEffect(()=>{const P=O=>{if(!k()||a.current.gameOver||!i.current)return;const A=i.current.getBoundingClientRect(),M=O.clientX-A.left,N=O.clientY-A.top,Y={gameState:a.current};a.current.uiButtons.forEach(x=>{if(M>=x.rect.x&&M<=x.rect.x+x.rect.width&&N>=x.rect.y&&N<=x.rect.y+x.rect.height){const $=ar(a.current);switch($&&vt(Y,ze.ButtonClick,$.position),x.action){case gn.ToggleAutopilot:a.current.isPlayerOnAutopilot=!a.current.isPlayerOnAutopilot;break;case gn.ToggleMute:a.current.isMuted=!a.current.isMuted;break;case gn.TogglePause:a.current.isPaused=!a.current.isPaused;break}}})};return window.addEventListener("mousedown",P),()=>{window.removeEventListener("mousedown",P)}},[k]),ge.useEffect(()=>{const P=A=>{if(!k()||a.current.gameOver)return;const M=A.key.toLowerCase();if(M==="m"){a.current.isMuted=!a.current.isMuted,sa(a.current.masterVolume,a.current.isMuted);return}if(M==="="||M==="+"){const x=Math.min(1,a.current.masterVolume+.1);a.current.masterVolume=parseFloat(x.toFixed(1)),sa(a.current.masterVolume,a.current.isMuted);return}if(M==="-"){const x=Math.max(0,a.current.masterVolume-.1);a.current.masterVolume=parseFloat(x.toFixed(1)),sa(a.current.masterVolume,a.current.isMuted);return}if(M==="t"){a.current=nc(a.current,10);return}if(M===" "||M==="p"){A.preventDefault(),a.current.isPaused=!a.current.isPaused;return}if(M==="o"){a.current.isPlayerOnAutopilot=!a.current.isPlayerOnAutopilot;return}if(M==="§"||M==="`"){f.current=!f.current,f.current||(a.current.debugCharacterId=void 0);return}if(M==="tab"){A.preventDefault(),f.current=!0;const x=Array.from(a.current.entities.entities.values()).filter($=>$.type==="human");if(x.length>0){const $=x.sort((Ae,Ne)=>Ae.isPlayer?-1:Ae.id-Ne.id),U=a.current.debugCharacterId,ee=((U?$.findIndex(Ae=>Ae.id===U):-1)+1)%$.length;a.current.debugCharacterId=$[ee].id}else a.current.debugCharacterId=void 0;return}if(a.current.isPlayerOnAutopilot)return;c.current.add(M);const N=ar(a.current);if(!N)return;const Y={gameState:a.current};if(M==="e"){const x=yt(N,a.current,"berryBush",Ct,W=>W.food.length>0&&N.food.length<N.maxFood),$=yt(N,a.current,"humanCorpse",Ct,W=>W.food.length>0&&N.food.length<N.maxFood);let U=null;x&&$?U=we(N.position,x.position,a.current.mapDimensions.width,a.current.mapDimensions.height)<=we(N.position,$.position,a.current.mapDimensions.width,a.current.mapDimensions.height)?x:$:U=x||$,U&&(N.activeAction="gathering",vt(Y,ze.Gather,N.position))}else if(M==="r")yt(N,a.current,"human",Ct,$=>{const U=$;return U.id!==N.id&&U.gender!==N.gender&&U.isAdult&&N.isAdult&&U.hunger<Rt&&N.hunger<Rt&&(U.procreationCooldown||0)<=0&&(N.procreationCooldown||0)<=0&&(U.gender==="female"?!U.isPregnant:!N.isPregnant)||!1})&&(N.activeAction="procreating",vt(Y,ze.Procreate,N.position));else if(M==="f")N.activeAction="eating",vt(Y,ze.Eat,N.position);else if(M==="arrowup"||M==="w")N.direction.y=-1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowdown"||M==="s")N.direction.y=1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowleft"||M==="a")N.direction.x=-1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowright"||M==="d")N.direction.x=1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="q"){const x=yt(N,a.current,"human",wa,$=>$.id!==N.id);x&&(N.activeAction="attacking",N.attackTargetId=x.id)}else if(M==="b"){if(m.current.find($=>$.type===hn.PlantBush)){const $=Am(N.position,a.current,50,Zu);$&&(N.activeAction="planting",N.target=$,a.current.hasPlayerPlantedBush=!0)}}else if(M==="v")m.current.find($=>$.type===hn.CallToAttack)&&(N.isCallingToAttack=!0,N.callToAttackEndTime=a.current.time+fa,ft(a.current,Ee.CallToAttack,N.position,fa),vt(Y,ze.CallToAttack,N.position));else return},O=A=>{if(!k()||a.current.gameOver)return;const M=A.key.toLowerCase();c.current.delete(M);const N=ar(a.current);!N||a.current.isPlayerOnAutopilot||(M==="arrowup"||M==="w"||M==="arrowdown"||M==="s"?N.direction.y=0:(M==="arrowleft"||M==="a"||M==="arrowright"||M==="d")&&(N.direction.x=0),!c.current.has("arrowup")&&!c.current.has("arrowdown")&&!c.current.has("arrowleft")&&!c.current.has("arrowright")&&!c.current.has("w")&&!c.current.has("a")&&!c.current.has("s")&&!c.current.has("d")&&N&&N.activeAction==="moving"&&(N.activeAction="idle"),!c.current.has("e")&&N.activeAction==="gathering"&&(N.activeAction="idle"),!c.current.has("f")&&N.activeAction==="eating"&&(N.activeAction="idle"),!c.current.has("r")&&N.activeAction==="procreating"&&(N.activeAction="idle"))};return window.addEventListener("keydown",P),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",P),window.removeEventListener("keyup",O)}},[k,S,g,T,y]),Re.jsx("canvas",{ref:i,style:{display:"block",background:"#2c5234"}})},m_=yn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,g_=yn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Js=yn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,v_=yn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,y_=()=>{const{setAppState:n,gameOverDetails:i}=ma(),o=()=>{n("intro")};return Re.jsxs(m_,{children:[Re.jsx(g_,{children:"Game Over"}),Re.jsx(Js,{children:"Your tribe's lineage has ended."}),i&&Re.jsxs(Re.Fragment,{children:[Re.jsxs(Js,{children:["Generations Survived: ",i.generations]}),Re.jsxs(Js,{children:["Cause of Extinction: ",i.cause]})]}),!i&&Re.jsx(Js,{children:"Game details are unavailable."}),Re.jsx(v_,{onClick:o,children:"Return to Menu"})]})},S_=jv`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function E_(n,i){ge.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";i(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),ge.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const __=()=>{const{appState:n,setAppState:i}=ma();E_(n,i);const o=()=>{switch(n){case"intro":return Re.jsx(_p,{});case"game":return Re.jsx(wp,{});case"gameOver":return Re.jsxs(Re.Fragment,{children:[Re.jsx(wp,{}),Re.jsx(y_,{})]});default:return Re.jsx(_p,{})}};return Re.jsxs(Re.Fragment,{children:[Re.jsx(S_,{}),o()]})},Ap=document.getElementById("root");Ap?I1().then(()=>{G0.createRoot(Ap).render(Re.jsx(pn.StrictMode,{children:Re.jsx(z0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Re.jsx(__,{})})}))}):console.error("Failed to find the root element");
