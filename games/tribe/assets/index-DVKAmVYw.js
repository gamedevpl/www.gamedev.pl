var sv=Object.defineProperty;var av=(n,i,o)=>i in n?sv(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var Ee=(n,i,o)=>av(n,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function qp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mu={exports:{}},ho={},Lu={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function lv(){if(Hh)return ve;Hh=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function A(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function T(w,U,re){this.props=w,this.context=U,this.refs=N,this.updater=re||R}T.prototype.isReactComponent={},T.prototype.setState=function(w,U){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,U,"setState")},T.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=T.prototype;function k(w,U,re){this.props=w,this.context=U,this.refs=N,this.updater=re||R}var $=k.prototype=new D;$.constructor=k,O($,T.prototype),$.isPureReactComponent=!0;var G=Array.isArray,b=Object.prototype.hasOwnProperty,B={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function J(w,U,re){var ee,ge={},ae=null,fe=null;if(U!=null)for(ee in U.ref!==void 0&&(fe=U.ref),U.key!==void 0&&(ae=""+U.key),U)b.call(U,ee)&&!x.hasOwnProperty(ee)&&(ge[ee]=U[ee]);var ce=arguments.length-2;if(ce===1)ge.children=re;else if(1<ce){for(var X=Array(ce),ie=0;ie<ce;ie++)X[ie]=arguments[ie+2];ge.children=X}if(w&&w.defaultProps)for(ee in ce=w.defaultProps,ce)ge[ee]===void 0&&(ge[ee]=ce[ee]);return{$$typeof:n,type:w,key:ae,ref:fe,props:ge,_owner:B.current}}function pe(w,U){return{$$typeof:n,type:w.type,key:U,ref:w.ref,props:w.props,_owner:w._owner}}function Ge(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Je(w){var U={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(re){return U[re]})}var Ue=/\/+/g;function Me(w,U){return typeof w=="object"&&w!==null&&w.key!=null?Je(""+w.key):U.toString(36)}function Se(w,U,re,ee,ge){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(ae){case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case n:case i:fe=!0}}if(fe)return fe=w,ge=ge(fe),w=ee===""?"."+Me(fe,0):ee,G(ge)?(re="",w!=null&&(re=w.replace(Ue,"$&/")+"/"),Se(ge,U,re,"",function(ie){return ie})):ge!=null&&(Ge(ge)&&(ge=pe(ge,re+(!ge.key||fe&&fe.key===ge.key?"":(""+ge.key).replace(Ue,"$&/")+"/")+w)),U.push(ge)),1;if(fe=0,ee=ee===""?".":ee+":",G(w))for(var ce=0;ce<w.length;ce++){ae=w[ce];var X=ee+Me(ae,ce);fe+=Se(ae,U,re,X,ge)}else if(X=A(w),typeof X=="function")for(w=X.call(w),ce=0;!(ae=w.next()).done;)ae=ae.value,X=ee+Me(ae,ce++),fe+=Se(ae,U,re,X,ge);else if(ae==="object")throw U=String(w),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return fe}function Ie(w,U,re){if(w==null)return w;var ee=[],ge=0;return Se(w,ee,"","",function(ae){return U.call(re,ae,ge++)}),ee}function de(w){if(w._status===-1){var U=w._result;U=U(),U.then(function(re){(w._status===0||w._status===-1)&&(w._status=1,w._result=re)},function(re){(w._status===0||w._status===-1)&&(w._status=2,w._result=re)}),w._status===-1&&(w._status=0,w._result=U)}if(w._status===1)return w._result.default;throw w._result}var se={current:null},j={transition:null},V={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:j,ReactCurrentOwner:B};function W(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Ie,forEach:function(w,U,re){Ie(w,function(){U.apply(this,arguments)},re)},count:function(w){var U=0;return Ie(w,function(){U++}),U},toArray:function(w){return Ie(w,function(U){return U})||[]},only:function(w){if(!Ge(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ve.Component=T,ve.Fragment=o,ve.Profiler=l,ve.PureComponent=k,ve.StrictMode=s,ve.Suspense=p,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ve.act=W,ve.cloneElement=function(w,U,re){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var ee=O({},w.props),ge=w.key,ae=w.ref,fe=w._owner;if(U!=null){if(U.ref!==void 0&&(ae=U.ref,fe=B.current),U.key!==void 0&&(ge=""+U.key),w.type&&w.type.defaultProps)var ce=w.type.defaultProps;for(X in U)b.call(U,X)&&!x.hasOwnProperty(X)&&(ee[X]=U[X]===void 0&&ce!==void 0?ce[X]:U[X])}var X=arguments.length-2;if(X===1)ee.children=re;else if(1<X){ce=Array(X);for(var ie=0;ie<X;ie++)ce[ie]=arguments[ie+2];ee.children=ce}return{$$typeof:n,type:w.type,key:ge,ref:ae,props:ee,_owner:fe}},ve.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:c,_context:w},w.Consumer=w},ve.createElement=J,ve.createFactory=function(w){var U=J.bind(null,w);return U.type=w,U},ve.createRef=function(){return{current:null}},ve.forwardRef=function(w){return{$$typeof:h,render:w}},ve.isValidElement=Ge,ve.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:de}},ve.memo=function(w,U){return{$$typeof:v,type:w,compare:U===void 0?null:U}},ve.startTransition=function(w){var U=j.transition;j.transition={};try{w()}finally{j.transition=U}},ve.unstable_act=W,ve.useCallback=function(w,U){return se.current.useCallback(w,U)},ve.useContext=function(w){return se.current.useContext(w)},ve.useDebugValue=function(){},ve.useDeferredValue=function(w){return se.current.useDeferredValue(w)},ve.useEffect=function(w,U){return se.current.useEffect(w,U)},ve.useId=function(){return se.current.useId()},ve.useImperativeHandle=function(w,U,re){return se.current.useImperativeHandle(w,U,re)},ve.useInsertionEffect=function(w,U){return se.current.useInsertionEffect(w,U)},ve.useLayoutEffect=function(w,U){return se.current.useLayoutEffect(w,U)},ve.useMemo=function(w,U){return se.current.useMemo(w,U)},ve.useReducer=function(w,U,re){return se.current.useReducer(w,U,re)},ve.useRef=function(w){return se.current.useRef(w)},ve.useState=function(w){return se.current.useState(w)},ve.useSyncExternalStore=function(w,U,re){return se.current.useSyncExternalStore(w,U,re)},ve.useTransition=function(){return se.current.useTransition()},ve.version="18.3.1",ve}var xh;function Sc(){return xh||(xh=1,Lu.exports=lv()),Lu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function uv(){if(Gh)return ho;Gh=1;var n=Sc(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,v){var m,S={},A=null,R=null;v!==void 0&&(A=""+v),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(R=p.ref);for(m in p)s.call(p,m)&&!c.hasOwnProperty(m)&&(S[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)S[m]===void 0&&(S[m]=p[m]);return{$$typeof:i,type:h,key:A,ref:R,props:S,_owner:l.current}}return ho.Fragment=o,ho.jsx=d,ho.jsxs=d,ho}var zh;function cv(){return zh||(zh=1,Mu.exports=uv()),Mu.exports}var Pe=cv(),me=Sc();const mn=qp(me);var Zs={},Fu={exports:{}},Rt={},Bu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function dv(){return $h||($h=1,function(n){function i(j,V){var W=j.length;j.push(V);e:for(;0<W;){var w=W-1>>>1,U=j[w];if(0<l(U,V))j[w]=V,j[W]=U,W=w;else break e}}function o(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var V=j[0],W=j.pop();if(W!==V){j[0]=W;e:for(var w=0,U=j.length,re=U>>>1;w<re;){var ee=2*(w+1)-1,ge=j[ee],ae=ee+1,fe=j[ae];if(0>l(ge,W))ae<U&&0>l(fe,ge)?(j[w]=fe,j[ae]=W,w=ae):(j[w]=ge,j[ee]=W,w=ee);else if(ae<U&&0>l(fe,W))j[w]=fe,j[ae]=W,w=ae;else break e}}return V}function l(j,V){var W=j.sortIndex-V.sortIndex;return W!==0?W:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],v=[],m=1,S=null,A=3,R=!1,O=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(j){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=j)s(v),V.sortIndex=V.expirationTime,i(p,V);else break;V=o(v)}}function G(j){if(N=!1,$(j),!O)if(o(p)!==null)O=!0,de(b);else{var V=o(v);V!==null&&se(G,V.startTime-j)}}function b(j,V){O=!1,N&&(N=!1,D(J),J=-1),R=!0;var W=A;try{for($(V),S=o(p);S!==null&&(!(S.expirationTime>V)||j&&!Je());){var w=S.callback;if(typeof w=="function"){S.callback=null,A=S.priorityLevel;var U=w(S.expirationTime<=V);V=n.unstable_now(),typeof U=="function"?S.callback=U:S===o(p)&&s(p),$(V)}else s(p);S=o(p)}if(S!==null)var re=!0;else{var ee=o(v);ee!==null&&se(G,ee.startTime-V),re=!1}return re}finally{S=null,A=W,R=!1}}var B=!1,x=null,J=-1,pe=5,Ge=-1;function Je(){return!(n.unstable_now()-Ge<pe)}function Ue(){if(x!==null){var j=n.unstable_now();Ge=j;var V=!0;try{V=x(!0,j)}finally{V?Me():(B=!1,x=null)}}else B=!1}var Me;if(typeof k=="function")Me=function(){k(Ue)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=Ue,Me=function(){Ie.postMessage(null)}}else Me=function(){T(Ue,0)};function de(j){x=j,B||(B=!0,Me())}function se(j,V){J=T(function(){j(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,de(b))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return o(p)},n.unstable_next=function(j){switch(A){case 1:case 2:case 3:var V=3;break;default:V=A}var W=A;A=V;try{return j()}finally{A=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=A;A=j;try{return V()}finally{A=W}},n.unstable_scheduleCallback=function(j,V,W){var w=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?w+W:w):W=w,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=W+U,j={id:m++,callback:V,priorityLevel:j,startTime:W,expirationTime:U,sortIndex:-1},W>w?(j.sortIndex=W,i(v,j),o(p)===null&&j===o(v)&&(N?(D(J),J=-1):N=!0,se(G,W-w))):(j.sortIndex=U,i(p,j),O||R||(O=!0,de(b))),j},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function(j){var V=A;return function(){var W=A;A=V;try{return j.apply(this,arguments)}finally{A=W}}}}(Hu)),Hu}var jh;function fv(){return jh||(jh=1,Bu.exports=dv()),Bu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function hv(){if(Wh)return Rt;Wh=1;var n=Sc(),i=fv();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},S={};function A(e){return p.call(S,e)?!0:p.call(m,e)?!1:v.test(e)?S[e]=!0:(m[e]=!0,!1)}function R(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,a){if(t===null||typeof t>"u"||R(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,a,u,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,k);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,k);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,k);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,r,a){var u=T.hasOwnProperty(t)?T[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,u,a)&&(r=null),a||u===null?A(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,a=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),B=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),j=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,w;function U(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var re=!1;function ee(e,t){if(!e||re)return"";re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),f=a.stack.split(`
`),g=u.length-1,y=f.length-1;1<=g&&0<=y&&u[g]!==f[y];)y--;for(;1<=g&&0<=y;g--,y--)if(u[g]!==f[y]){if(g!==1||y!==1)do if(g--,y--,0>y||u[g]!==f[y]){var _=`
`+u[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=y);break}}}finally{re=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function ge(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case B:return"Portal";case pe:return"Profiler";case J:return"StrictMode";case Me:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case Ge:return(e._context.displayName||"Context")+".Provider";case Ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=X(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Re(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function _n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var r=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ht(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=ce(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hr(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function En(e,t){hr(e,t);var r=ce(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Br(e,t.type,r):t.hasOwnProperty("defaultValue")&&Br(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mn(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Br(e,t,r){(t!=="number"||_n(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function Fn(e,t,r,a){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ce(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function pr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(Ln(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ce(r)}}function Xc(e,t){var r=ce(t.value),a=ce(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ki(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cm=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(e){cm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pi[t]=Pi[e]})});function Jc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pi.hasOwnProperty(e)&&Pi[e]?(""+t).trim():t+"px"}function bc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,u=Jc(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,u):e[r]=u}}var dm=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(e,t){if(t){if(dm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function Qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Za=null,Hr=null,xr=null;function ed(e){if(e=qi(e)){if(typeof Za!="function")throw Error(o(280));var t=e.stateNode;t&&(t=ds(t),Za(e.stateNode,e.type,t))}}function td(e){Hr?xr?xr.push(e):xr=[e]:Hr=e}function nd(){if(Hr){var e=Hr,t=xr;if(xr=Hr=null,ed(e),t)for(e=0;e<t.length;e++)ed(t[e])}}function rd(e,t){return e(t)}function id(){}var qa=!1;function od(e,t,r){if(qa)return e(t,r);qa=!0;try{return rd(e,t,r)}finally{qa=!1,(Hr!==null||xr!==null)&&(id(),nd())}}function Ni(e,t){var r=e.stateNode;if(r===null)return null;var a=ds(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var Ja=!1;if(h)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Ja=!1}function fm(e,t,r,a,u,f,g,y,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(F){this.onError(F)}}var Di=!1,jo=null,Wo=!1,ba=null,hm={onError:function(e){Di=!0,jo=e}};function pm(e,t,r,a,u,f,g,y,_){Di=!1,jo=null,fm.apply(hm,arguments)}function gm(e,t,r,a,u,f,g,y,_){if(pm.apply(this,arguments),Di){if(Di){var P=jo;Di=!1,jo=null}else throw Error(o(198));Wo||(Wo=!0,ba=P)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ad(e){if(gr(e)!==e)throw Error(o(188))}function mm(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,a=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){r=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return ad(u),e;if(f===a)return ad(u),t;f=f.sibling}throw Error(o(188))}if(r.return!==a.return)r=u,a=f;else{for(var g=!1,y=u.child;y;){if(y===r){g=!0,r=u,a=f;break}if(y===a){g=!0,a=u,r=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===r){g=!0,r=f,a=u;break}if(y===a){g=!0,a=f,r=u;break}y=y.sibling}if(!g)throw Error(o(189))}}if(r.alternate!==a)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function ld(e){return e=mm(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var cd=i.unstable_scheduleCallback,dd=i.unstable_cancelCallback,vm=i.unstable_shouldYield,ym=i.unstable_requestPaint,Ke=i.unstable_now,Sm=i.unstable_getCurrentPriorityLevel,el=i.unstable_ImmediatePriority,fd=i.unstable_UserBlockingPriority,Yo=i.unstable_NormalPriority,_m=i.unstable_LowPriority,hd=i.unstable_IdlePriority,Vo=null,ln=null;function Em(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Tm,wm=Math.log,Am=Math.LN2;function Tm(e){return e>>>=0,e===0?32:31-(wm(e)/Am|0)|0}var Ko=64,Xo=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qo(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,g=r&268435455;if(g!==0){var y=g&~u;y!==0?a=Ui(y):(f&=g,f!==0&&(a=Ui(f)))}else g=r&~u,g!==0?a=Ui(g):f!==0&&(a=Ui(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-bt(t),u=1<<r,a|=e[r],t&=~u;return a}function Im(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-bt(f),y=1<<g,_=u[g];_===-1?((y&r)===0||(y&a)!==0)&&(u[g]=Im(y,t)):_<=t&&(e.expiredLanes|=y),f&=~y}}function tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=Ko;return Ko<<=1,(Ko&4194240)===0&&(Ko=64),e}function nl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=r}function Rm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-bt(r),f=1<<u;t[u]=0,a[u]=-1,e[u]=-1,r&=~f}}function rl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-bt(r),u=1<<a;u&t|e[a]&t&&(e[a]|=t),r&=~u}}var Ne=0;function gd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var md,il,vd,yd,Sd,ol=!1,Zo=[],Bn=null,Hn=null,xn=null,Li=new Map,Fi=new Map,Gn=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function Bi(e,t,r,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},t!==null&&(t=qi(t),t!==null&&il(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Pm(e,t,r,a,u){switch(t){case"focusin":return Bn=Bi(Bn,e,t,r,a,u),!0;case"dragenter":return Hn=Bi(Hn,e,t,r,a,u),!0;case"mouseover":return xn=Bi(xn,e,t,r,a,u),!0;case"pointerover":var f=u.pointerId;return Li.set(f,Bi(Li.get(f)||null,e,t,r,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Fi.set(f,Bi(Fi.get(f)||null,e,t,r,a,u)),!0}return!1}function Ed(e){var t=mr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=sd(r),t!==null){e.blockedOn=t,Sd(e.priority,function(){vd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Xa=a,r.target.dispatchEvent(a),Xa=null}else return t=qi(r),t!==null&&il(t),e.blockedOn=r,!1;t.shift()}return!0}function wd(e,t,r){qo(e)&&r.delete(t)}function Nm(){ol=!1,Bn!==null&&qo(Bn)&&(Bn=null),Hn!==null&&qo(Hn)&&(Hn=null),xn!==null&&qo(xn)&&(xn=null),Li.forEach(wd),Fi.forEach(wd)}function Hi(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nm)))}function xi(e){function t(u){return Hi(u,e)}if(0<Zo.length){Hi(Zo[0],e);for(var r=1;r<Zo.length;r++){var a=Zo[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Bn!==null&&Hi(Bn,e),Hn!==null&&Hi(Hn,e),xn!==null&&Hi(xn,e),Li.forEach(t),Fi.forEach(t),r=0;r<Gn.length;r++)a=Gn[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)Ed(r),r.blockedOn===null&&Gn.shift()}var Gr=G.ReactCurrentBatchConfig,Jo=!0;function Om(e,t,r,a){var u=Ne,f=Gr.transition;Gr.transition=null;try{Ne=1,sl(e,t,r,a)}finally{Ne=u,Gr.transition=f}}function Dm(e,t,r,a){var u=Ne,f=Gr.transition;Gr.transition=null;try{Ne=4,sl(e,t,r,a)}finally{Ne=u,Gr.transition=f}}function sl(e,t,r,a){if(Jo){var u=al(e,t,r,a);if(u===null)Tl(e,t,a,bo,r),_d(e,a);else if(Pm(u,e,t,r,a))a.stopPropagation();else if(_d(e,a),t&4&&-1<km.indexOf(e)){for(;u!==null;){var f=qi(u);if(f!==null&&md(f),f=al(e,t,r,a),f===null&&Tl(e,t,a,bo,r),f===u)break;u=f}u!==null&&a.stopPropagation()}else Tl(e,t,a,null,r)}}var bo=null;function al(e,t,r,a){if(bo=null,e=Qa(a),e=mr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function Ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sm()){case el:return 1;case fd:return 4;case Yo:case _m:return 16;case hd:return 536870912;default:return 16}default:return 16}}var zn=null,ll=null,es=null;function Td(){if(es)return es;var e,t=ll,r=t.length,a,u="value"in zn?zn.value:zn.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var g=r-e;for(a=1;a<=g&&t[r-a]===u[f-a];a++);return es=u.slice(e,1<a?1-a:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function Id(){return!1}function Ot(e){function t(r,a,u,f,g){this._reactName=r,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ns:Id,this.isPropagationStopped=Id,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Ot(zr),Gi=W({},zr,{view:0,detail:0}),Um=Ot(Gi),cl,dl,zi,rs=W({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(cl=e.screenX-zi.screenX,dl=e.screenY-zi.screenY):dl=cl=0,zi=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),Cd=Ot(rs),Mm=W({},rs,{dataTransfer:0}),Lm=Ot(Mm),Fm=W({},Gi,{relatedTarget:0}),fl=Ot(Fm),Bm=W({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=Ot(Bm),xm=W({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=Ot(xm),zm=W({},zr,{data:0}),Rd=Ot(zm),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ym(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wm[e])?!!t[e]:!1}function hl(){return Ym}var Vm=W({},Gi,{key:function(e){if(e.key){var t=$m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Km=Ot(Vm),Xm=W({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=Ot(Xm),Qm=W({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),Zm=Ot(Qm),qm=W({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=Ot(qm),bm=W({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e0=Ot(bm),t0=[9,13,27,32],pl=h&&"CompositionEvent"in window,$i=null;h&&"documentMode"in document&&($i=document.documentMode);var n0=h&&"TextEvent"in window&&!$i,Pd=h&&(!pl||$i&&8<$i&&11>=$i),Nd=" ",Od=!1;function Dd(e,t){switch(e){case"keyup":return t0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function r0(e,t){switch(e){case"compositionend":return Ud(t);case"keypress":return t.which!==32?null:(Od=!0,Nd);case"textInput":return e=t.data,e===Nd&&Od?null:e;default:return null}}function i0(e,t){if($r)return e==="compositionend"||!pl&&Dd(e,t)?(e=Td(),es=ll=zn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var o0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o0[e.type]:t==="textarea"}function Ld(e,t,r,a){td(a),t=ls(t,"onChange"),0<t.length&&(r=new ul("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var ji=null,Wi=null;function s0(e){bd(e,0)}function is(e){var t=Kr(e);if(ue(t))return e}function a0(e,t){if(e==="change")return t}var Fd=!1;if(h){var gl;if(h){var ml="oninput"in document;if(!ml){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),ml=typeof Bd.oninput=="function"}gl=ml}else gl=!1;Fd=gl&&(!document.documentMode||9<document.documentMode)}function Hd(){ji&&(ji.detachEvent("onpropertychange",xd),Wi=ji=null)}function xd(e){if(e.propertyName==="value"&&is(Wi)){var t=[];Ld(t,Wi,e,Qa(e)),od(s0,t)}}function l0(e,t,r){e==="focusin"?(Hd(),ji=t,Wi=r,ji.attachEvent("onpropertychange",xd)):e==="focusout"&&Hd()}function u0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return is(Wi)}function c0(e,t){if(e==="click")return is(t)}function d0(e,t){if(e==="input"||e==="change")return is(t)}function f0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:f0;function Yi(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var u=r[a];if(!p.call(t,u)||!en(e[u],t[u]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zd(e,t){var r=Gd(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gd(r)}}function $d(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$d(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jd(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_n(e.document)}return t}function vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h0(e){var t=jd(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$d(r.ownerDocument.documentElement,r)){if(a!==null&&vl(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=zd(r,f);var g=zd(r,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p0=h&&"documentMode"in document&&11>=document.documentMode,jr=null,yl=null,Vi=null,Sl=!1;function Wd(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sl||jr==null||jr!==_n(a)||(a=jr,"selectionStart"in a&&vl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Vi&&Yi(Vi,a)||(Vi=a,a=ls(yl,"onSelect"),0<a.length&&(t=new ul("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=jr)))}function os(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},_l={},Yd={};h&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function ss(e){if(_l[e])return _l[e];if(!Wr[e])return e;var t=Wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yd)return _l[e]=t[r];return e}var Vd=ss("animationend"),Kd=ss("animationiteration"),Xd=ss("animationstart"),Qd=ss("transitionend"),Zd=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){Zd.set(e,t),c(t,[e])}for(var El=0;El<qd.length;El++){var wl=qd[El],g0=wl.toLowerCase(),m0=wl[0].toUpperCase()+wl.slice(1);$n(g0,"on"+m0)}$n(Vd,"onAnimationEnd"),$n(Kd,"onAnimationIteration"),$n(Xd,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Qd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function Jd(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,gm(a,t,void 0,e),e.currentTarget=null}function bd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],u=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var y=a[g],_=y.instance,P=y.currentTarget;if(y=y.listener,_!==f&&u.isPropagationStopped())break e;Jd(u,y,P),f=_}else for(g=0;g<a.length;g++){if(y=a[g],_=y.instance,P=y.currentTarget,y=y.listener,_!==f&&u.isPropagationStopped())break e;Jd(u,y,P),f=_}}}if(Wo)throw e=ba,Wo=!1,ba=null,e}function Fe(e,t){var r=t[Nl];r===void 0&&(r=t[Nl]=new Set);var a=e+"__bubble";r.has(a)||(ef(t,e,2,!1),r.add(a))}function Al(e,t,r){var a=0;t&&(a|=4),ef(r,e,a,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function Xi(e){if(!e[as]){e[as]=!0,s.forEach(function(r){r!=="selectionchange"&&(v0.has(r)||Al(r,!1,e),Al(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Al("selectionchange",!1,t))}}function ef(e,t,r,a){switch(Ad(t)){case 1:var u=Om;break;case 4:u=Dm;break;default:u=sl}r=u.bind(null,t,r,e),u=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Tl(e,t,r,a,u){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===u||_.nodeType===8&&_.parentNode===u))return;g=g.return}for(;y!==null;){if(g=mr(y),g===null)return;if(_=g.tag,_===5||_===6){a=f=g;continue e}y=y.parentNode}}a=a.return}od(function(){var P=f,F=Qa(r),H=[];e:{var L=Zd.get(e);if(L!==void 0){var Y=ul,Q=e;switch(e){case"keypress":if(ts(r)===0)break e;case"keydown":case"keyup":Y=Km;break;case"focusin":Q="focus",Y=fl;break;case"focusout":Q="blur",Y=fl;break;case"beforeblur":case"afterblur":Y=fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zm;break;case Vd:case Kd:case Xd:Y=Hm;break;case Qd:Y=Jm;break;case"scroll":Y=Um;break;case"wheel":Y=e0;break;case"copy":case"cut":case"paste":Y=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=kd}var Z=(t&4)!==0,Xe=!Z&&e==="scroll",I=Z?L!==null?L+"Capture":null:L;Z=[];for(var E=P,C;E!==null;){C=E;var z=C.stateNode;if(C.tag===5&&z!==null&&(C=z,I!==null&&(z=Ni(E,I),z!=null&&Z.push(Qi(E,z,C)))),Xe)break;E=E.return}0<Z.length&&(L=new Y(L,Q,null,r,F),H.push({event:L,listeners:Z}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",L&&r!==Xa&&(Q=r.relatedTarget||r.fromElement)&&(mr(Q)||Q[wn]))break e;if((Y||L)&&(L=F.window===F?F:(L=F.ownerDocument)?L.defaultView||L.parentWindow:window,Y?(Q=r.relatedTarget||r.toElement,Y=P,Q=Q?mr(Q):null,Q!==null&&(Xe=gr(Q),Q!==Xe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(Z=Cd,z="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(Z=kd,z="onPointerLeave",I="onPointerEnter",E="pointer"),Xe=Y==null?L:Kr(Y),C=Q==null?L:Kr(Q),L=new Z(z,E+"leave",Y,r,F),L.target=Xe,L.relatedTarget=C,z=null,mr(F)===P&&(Z=new Z(I,E+"enter",Q,r,F),Z.target=C,Z.relatedTarget=Xe,z=Z),Xe=z,Y&&Q)t:{for(Z=Y,I=Q,E=0,C=Z;C;C=Yr(C))E++;for(C=0,z=I;z;z=Yr(z))C++;for(;0<E-C;)Z=Yr(Z),E--;for(;0<C-E;)I=Yr(I),C--;for(;E--;){if(Z===I||I!==null&&Z===I.alternate)break t;Z=Yr(Z),I=Yr(I)}Z=null}else Z=null;Y!==null&&tf(H,L,Y,Z,!1),Q!==null&&Xe!==null&&tf(H,Xe,Q,Z,!0)}}e:{if(L=P?Kr(P):window,Y=L.nodeName&&L.nodeName.toLowerCase(),Y==="select"||Y==="input"&&L.type==="file")var q=a0;else if(Md(L))if(Fd)q=d0;else{q=u0;var te=l0}else(Y=L.nodeName)&&Y.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(q=c0);if(q&&(q=q(e,P))){Ld(H,q,r,F);break e}te&&te(e,L,P),e==="focusout"&&(te=L._wrapperState)&&te.controlled&&L.type==="number"&&Br(L,"number",L.value)}switch(te=P?Kr(P):window,e){case"focusin":(Md(te)||te.contentEditable==="true")&&(jr=te,yl=P,Vi=null);break;case"focusout":Vi=yl=jr=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,Wd(H,r,F);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":Wd(H,r,F)}var ne;if(pl)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else $r?Dd(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Pd&&r.locale!=="ko"&&($r||le!=="onCompositionStart"?le==="onCompositionEnd"&&$r&&(ne=Td()):(zn=F,ll="value"in zn?zn.value:zn.textContent,$r=!0)),te=ls(P,le),0<te.length&&(le=new Rd(le,e,null,r,F),H.push({event:le,listeners:te}),ne?le.data=ne:(ne=Ud(r),ne!==null&&(le.data=ne)))),(ne=n0?r0(e,r):i0(e,r))&&(P=ls(P,"onBeforeInput"),0<P.length&&(F=new Rd("onBeforeInput","beforeinput",null,r,F),H.push({event:F,listeners:P}),F.data=ne))}bd(H,t)})}function Qi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ls(e,t){for(var r=t+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Ni(e,r),f!=null&&a.unshift(Qi(e,f,u)),f=Ni(e,t),f!=null&&a.push(Qi(e,f,u))),e=e.return}return a}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tf(e,t,r,a,u){for(var f=t._reactName,g=[];r!==null&&r!==a;){var y=r,_=y.alternate,P=y.stateNode;if(_!==null&&_===a)break;y.tag===5&&P!==null&&(y=P,u?(_=Ni(r,f),_!=null&&g.unshift(Qi(r,_,y))):u||(_=Ni(r,f),_!=null&&g.push(Qi(r,_,y)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var y0=/\r\n?/g,S0=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(y0,`
`).replace(S0,"")}function us(e,t,r){if(t=nf(t),nf(e)!==t&&r)throw Error(o(425))}function cs(){}var Il=null,Cl=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,E0=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(w0)}:kl;function w0(e){setTimeout(function(){throw e})}function Pl(e,t){var r=t,a=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(a===0){e.removeChild(u),xi(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=u}while(r);xi(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),un="__reactFiber$"+Vr,Zi="__reactProps$"+Vr,wn="__reactContainer$"+Vr,Nl="__reactEvents$"+Vr,A0="__reactListeners$"+Vr,T0="__reactHandles$"+Vr;function mr(e){var t=e[un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=of(e);e!==null;){if(r=e[un])return r;e=of(e)}return t}e=r,r=e.parentNode}return null}function qi(e){return e=e[un]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ds(e){return e[Zi]||null}var Ol=[],Xr=-1;function Wn(e){return{current:e}}function Be(e){0>Xr||(e.current=Ol[Xr],Ol[Xr]=null,Xr--)}function Le(e,t){Xr++,Ol[Xr]=e.current,e.current=t}var Yn={},dt=Wn(Yn),wt=Wn(!1),vr=Yn;function Qr(e,t){var r=e.type.contextTypes;if(!r)return Yn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function At(e){return e=e.childContextTypes,e!=null}function fs(){Be(wt),Be(dt)}function sf(e,t,r){if(dt.current!==Yn)throw Error(o(168));Le(dt,t),Le(wt,r)}function af(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(o(108,fe(e)||"Unknown",u));return W({},r,a)}function hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,vr=dt.current,Le(dt,e),Le(wt,wt.current),!0}function lf(e,t,r){var a=e.stateNode;if(!a)throw Error(o(169));r?(e=af(e,t,vr),a.__reactInternalMemoizedMergedChildContext=e,Be(wt),Be(dt),Le(dt,e)):Be(wt),Le(wt,r)}var An=null,ps=!1,Dl=!1;function uf(e){An===null?An=[e]:An.push(e)}function I0(e){ps=!0,uf(e)}function Vn(){if(!Dl&&An!==null){Dl=!0;var e=0,t=Ne;try{var r=An;for(Ne=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}An=null,ps=!1}catch(u){throw An!==null&&(An=An.slice(e+1)),cd(el,Vn),u}finally{Ne=t,Dl=!1}}return null}var Zr=[],qr=0,gs=null,ms=0,xt=[],Gt=0,yr=null,Tn=1,In="";function Sr(e,t){Zr[qr++]=ms,Zr[qr++]=gs,gs=e,ms=t}function cf(e,t,r){xt[Gt++]=Tn,xt[Gt++]=In,xt[Gt++]=yr,yr=e;var a=Tn;e=In;var u=32-bt(a)-1;a&=~(1<<u),r+=1;var f=32-bt(t)+u;if(30<f){var g=u-u%5;f=(a&(1<<g)-1).toString(32),a>>=g,u-=g,Tn=1<<32-bt(t)+u|r<<u|a,In=f+e}else Tn=1<<f|r<<u|a,In=e}function Ul(e){e.return!==null&&(Sr(e,1),cf(e,1,0))}function Ml(e){for(;e===gs;)gs=Zr[--qr],Zr[qr]=null,ms=Zr[--qr],Zr[qr]=null;for(;e===yr;)yr=xt[--Gt],xt[Gt]=null,In=xt[--Gt],xt[Gt]=null,Tn=xt[--Gt],xt[Gt]=null}var Dt=null,Ut=null,ze=!1,tn=null;function df(e,t){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ff(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Ut=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:Tn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Ut=null,!0):!1;default:return!1}}function Ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(ze){var t=Ut;if(t){var r=t;if(!ff(e,t)){if(Ll(e))throw Error(o(418));t=jn(r.nextSibling);var a=Dt;t&&ff(e,t)?df(a,r):(e.flags=e.flags&-4097|2,ze=!1,Dt=e)}}else{if(Ll(e))throw Error(o(418));e.flags=e.flags&-4097|2,ze=!1,Dt=e}}}function hf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function vs(e){if(e!==Dt)return!1;if(!ze)return hf(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=Ut)){if(Ll(e))throw pf(),Error(o(418));for(;t;)df(e,t),t=jn(t.nextSibling)}if(hf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ut=jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Dt?jn(e.stateNode.nextSibling):null;return!0}function pf(){for(var e=Ut;e;)e=jn(e.nextSibling)}function Jr(){Ut=Dt=null,ze=!1}function Bl(e){tn===null?tn=[e]:tn.push(e)}var C0=G.ReactCurrentBatchConfig;function Ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var a=r.stateNode}if(!a)throw Error(o(147,e));var u=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var y=u.refs;g===null?delete y[f]:y[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gf(e){var t=e._init;return t(e._payload)}function mf(e){function t(I,E){if(e){var C=I.deletions;C===null?(I.deletions=[E],I.flags|=16):C.push(E)}}function r(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function a(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function u(I,E){return I=er(I,E),I.index=0,I.sibling=null,I}function f(I,E,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<E?(I.flags|=2,E):C):(I.flags|=2,E)):(I.flags|=1048576,E)}function g(I){return e&&I.alternate===null&&(I.flags|=2),I}function y(I,E,C,z){return E===null||E.tag!==6?(E=ku(C,I.mode,z),E.return=I,E):(E=u(E,C),E.return=I,E)}function _(I,E,C,z){var q=C.type;return q===x?F(I,E,C.props.children,z,C.key):E!==null&&(E.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===de&&gf(q)===E.type)?(z=u(E,C.props),z.ref=Ji(I,E,C),z.return=I,z):(z=$s(C.type,C.key,C.props,null,I.mode,z),z.ref=Ji(I,E,C),z.return=I,z)}function P(I,E,C,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Pu(C,I.mode,z),E.return=I,E):(E=u(E,C.children||[]),E.return=I,E)}function F(I,E,C,z,q){return E===null||E.tag!==7?(E=Rr(C,I.mode,z,q),E.return=I,E):(E=u(E,C),E.return=I,E)}function H(I,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ku(""+E,I.mode,C),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return C=$s(E.type,E.key,E.props,null,I.mode,C),C.ref=Ji(I,null,E),C.return=I,C;case B:return E=Pu(E,I.mode,C),E.return=I,E;case de:var z=E._init;return H(I,z(E._payload),C)}if(Ln(E)||V(E))return E=Rr(E,I.mode,C,null),E.return=I,E;ys(I,E)}return null}function L(I,E,C,z){var q=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return q!==null?null:y(I,E,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return C.key===q?_(I,E,C,z):null;case B:return C.key===q?P(I,E,C,z):null;case de:return q=C._init,L(I,E,q(C._payload),z)}if(Ln(C)||V(C))return q!==null?null:F(I,E,C,z,null);ys(I,C)}return null}function Y(I,E,C,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(C)||null,y(E,I,""+z,q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return I=I.get(z.key===null?C:z.key)||null,_(E,I,z,q);case B:return I=I.get(z.key===null?C:z.key)||null,P(E,I,z,q);case de:var te=z._init;return Y(I,E,C,te(z._payload),q)}if(Ln(z)||V(z))return I=I.get(C)||null,F(E,I,z,q,null);ys(E,z)}return null}function Q(I,E,C,z){for(var q=null,te=null,ne=E,le=E=0,rt=null;ne!==null&&le<C.length;le++){ne.index>le?(rt=ne,ne=null):rt=ne.sibling;var Ce=L(I,ne,C[le],z);if(Ce===null){ne===null&&(ne=rt);break}e&&ne&&Ce.alternate===null&&t(I,ne),E=f(Ce,E,le),te===null?q=Ce:te.sibling=Ce,te=Ce,ne=rt}if(le===C.length)return r(I,ne),ze&&Sr(I,le),q;if(ne===null){for(;le<C.length;le++)ne=H(I,C[le],z),ne!==null&&(E=f(ne,E,le),te===null?q=ne:te.sibling=ne,te=ne);return ze&&Sr(I,le),q}for(ne=a(I,ne);le<C.length;le++)rt=Y(ne,I,le,C[le],z),rt!==null&&(e&&rt.alternate!==null&&ne.delete(rt.key===null?le:rt.key),E=f(rt,E,le),te===null?q=rt:te.sibling=rt,te=rt);return e&&ne.forEach(function(tr){return t(I,tr)}),ze&&Sr(I,le),q}function Z(I,E,C,z){var q=V(C);if(typeof q!="function")throw Error(o(150));if(C=q.call(C),C==null)throw Error(o(151));for(var te=q=null,ne=E,le=E=0,rt=null,Ce=C.next();ne!==null&&!Ce.done;le++,Ce=C.next()){ne.index>le?(rt=ne,ne=null):rt=ne.sibling;var tr=L(I,ne,Ce.value,z);if(tr===null){ne===null&&(ne=rt);break}e&&ne&&tr.alternate===null&&t(I,ne),E=f(tr,E,le),te===null?q=tr:te.sibling=tr,te=tr,ne=rt}if(Ce.done)return r(I,ne),ze&&Sr(I,le),q;if(ne===null){for(;!Ce.done;le++,Ce=C.next())Ce=H(I,Ce.value,z),Ce!==null&&(E=f(Ce,E,le),te===null?q=Ce:te.sibling=Ce,te=Ce);return ze&&Sr(I,le),q}for(ne=a(I,ne);!Ce.done;le++,Ce=C.next())Ce=Y(ne,I,le,Ce.value,z),Ce!==null&&(e&&Ce.alternate!==null&&ne.delete(Ce.key===null?le:Ce.key),E=f(Ce,E,le),te===null?q=Ce:te.sibling=Ce,te=Ce);return e&&ne.forEach(function(ov){return t(I,ov)}),ze&&Sr(I,le),q}function Xe(I,E,C,z){if(typeof C=="object"&&C!==null&&C.type===x&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case b:e:{for(var q=C.key,te=E;te!==null;){if(te.key===q){if(q=C.type,q===x){if(te.tag===7){r(I,te.sibling),E=u(te,C.props.children),E.return=I,I=E;break e}}else if(te.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===de&&gf(q)===te.type){r(I,te.sibling),E=u(te,C.props),E.ref=Ji(I,te,C),E.return=I,I=E;break e}r(I,te);break}else t(I,te);te=te.sibling}C.type===x?(E=Rr(C.props.children,I.mode,z,C.key),E.return=I,I=E):(z=$s(C.type,C.key,C.props,null,I.mode,z),z.ref=Ji(I,E,C),z.return=I,I=z)}return g(I);case B:e:{for(te=C.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){r(I,E.sibling),E=u(E,C.children||[]),E.return=I,I=E;break e}else{r(I,E);break}else t(I,E);E=E.sibling}E=Pu(C,I.mode,z),E.return=I,I=E}return g(I);case de:return te=C._init,Xe(I,E,te(C._payload),z)}if(Ln(C))return Q(I,E,C,z);if(V(C))return Z(I,E,C,z);ys(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(r(I,E.sibling),E=u(E,C),E.return=I,I=E):(r(I,E),E=ku(C,I.mode,z),E.return=I,I=E),g(I)):r(I,E)}return Xe}var br=mf(!0),vf=mf(!1),Ss=Wn(null),_s=null,ei=null,Hl=null;function xl(){Hl=ei=_s=null}function Gl(e){var t=Ss.current;Be(Ss),e._currentValue=t}function zl(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function ti(e,t){_s=e,Hl=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Tt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(_s===null)throw Error(o(308));ei=e,_s.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var _r=null;function $l(e){_r===null?_r=[e]:_r.push(e)}function yf(e,t,r,a){var u=t.interleaved;return u===null?(r.next=r,$l(t)):(r.next=u.next,u.next=r),t.interleaved=r,Cn(e,a)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kn=!1;function jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ae&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Cn(e,r)}return u=a.interleaved,u===null?(t.next=t,$l(a)):(t.next=u.next,u.next=t),a.interleaved=t,Cn(e,r)}function Es(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,rl(e,r)}}function _f(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ws(e,t,r,a){var u=e.updateQueue;Kn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,P=_.next;_.next=null,g===null?f=P:g.next=P,g=_;var F=e.alternate;F!==null&&(F=F.updateQueue,y=F.lastBaseUpdate,y!==g&&(y===null?F.firstBaseUpdate=P:y.next=P,F.lastBaseUpdate=_))}if(f!==null){var H=u.baseState;g=0,F=P=_=null,y=f;do{var L=y.lane,Y=y.eventTime;if((a&L)===L){F!==null&&(F=F.next={eventTime:Y,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Q=e,Z=y;switch(L=t,Y=r,Z.tag){case 1:if(Q=Z.payload,typeof Q=="function"){H=Q.call(Y,H,L);break e}H=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Z.payload,L=typeof Q=="function"?Q.call(Y,H,L):Q,L==null)break e;H=W({},H,L);break e;case 2:Kn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,L=u.effects,L===null?u.effects=[y]:L.push(y))}else Y={eventTime:Y,lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},F===null?(P=F=Y,_=H):F=F.next=Y,g|=L;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;L=y,y=L.next,L.next=null,u.lastBaseUpdate=L,u.shared.pending=null}}while(!0);if(F===null&&(_=H),u.baseState=_,u.firstBaseUpdate=P,u.lastBaseUpdate=F,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);Ar|=g,e.lanes=g,e.memoizedState=H}}function Ef(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=r,typeof u!="function")throw Error(o(191,u));u.call(a)}}}var bi={},cn=Wn(bi),eo=Wn(bi),to=Wn(bi);function Er(e){if(e===bi)throw Error(o(174));return e}function Wl(e,t){switch(Le(to,t),Le(eo,e),Le(cn,bi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ya(t,e)}Be(cn),Le(cn,t)}function ni(){Be(cn),Be(eo),Be(to)}function wf(e){Er(to.current);var t=Er(cn.current),r=Ya(t,e.type);t!==r&&(Le(eo,e),Le(cn,r))}function Yl(e){eo.current===e&&(Be(cn),Be(eo))}var je=Wn(0);function As(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vl=[];function Kl(){for(var e=0;e<Vl.length;e++)Vl[e]._workInProgressVersionPrimary=null;Vl.length=0}var Ts=G.ReactCurrentDispatcher,Xl=G.ReactCurrentBatchConfig,wr=0,We=null,be=null,tt=null,Is=!1,no=!1,ro=0,R0=0;function ft(){throw Error(o(321))}function Ql(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function Zl(e,t,r,a,u,f){if(wr=f,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?O0:D0,e=r(a,u),no){f=0;do{if(no=!1,ro=0,25<=f)throw Error(o(301));f+=1,tt=be=null,t.updateQueue=null,Ts.current=U0,e=r(a,u)}while(no)}if(Ts.current=ks,t=be!==null&&be.next!==null,wr=0,tt=be=We=null,Is=!1,t)throw Error(o(300));return e}function ql(){var e=ro!==0;return ro=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?We.memoizedState=tt=e:tt=tt.next=e,tt}function $t(){if(be===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=tt===null?We.memoizedState:tt.next;if(t!==null)tt=t,be=e;else{if(e===null)throw Error(o(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tt===null?We.memoizedState=tt=e:tt=tt.next=e}return tt}function io(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=$t(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var a=be,u=a.baseQueue,f=r.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}a.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,a=a.baseState;var y=g=null,_=null,P=f;do{var F=P.lane;if((wr&F)===F)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var H={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(y=_=H,g=a):_=_.next=H,We.lanes|=F,Ar|=F}P=P.next}while(P!==null&&P!==f);_===null?g=a:_.next=y,en(a,t.memoizedState)||(Tt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=_,r.lastRenderedState=a}if(e=r.interleaved,e!==null){u=e;do f=u.lane,We.lanes|=f,Ar|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bl(e){var t=$t(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var a=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);en(f,t.memoizedState)||(Tt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,a]}function Af(){}function Tf(e,t){var r=We,a=$t(),u=t(),f=!en(a.memoizedState,u);if(f&&(a.memoizedState=u,Tt=!0),a=a.queue,eu(Rf.bind(null,r,a,e),[e]),a.getSnapshot!==t||f||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,oo(9,Cf.bind(null,r,a,u,t),void 0,null),nt===null)throw Error(o(349));(wr&30)!==0||If(r,t,u)}return u}function If(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cf(e,t,r,a){t.value=r,t.getSnapshot=a,kf(t)&&Pf(e)}function Rf(e,t,r){return r(function(){kf(t)&&Pf(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function Pf(e){var t=Cn(e,1);t!==null&&sn(t,e,1,-1)}function Nf(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:e},t.queue=e,e=e.dispatch=N0.bind(null,We,e),[t.memoizedState,e]}function oo(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function Of(){return $t().memoizedState}function Cs(e,t,r,a){var u=dn();We.flags|=e,u.memoizedState=oo(1|t,r,void 0,a===void 0?null:a)}function Rs(e,t,r,a){var u=$t();a=a===void 0?null:a;var f=void 0;if(be!==null){var g=be.memoizedState;if(f=g.destroy,a!==null&&Ql(a,g.deps)){u.memoizedState=oo(t,r,f,a);return}}We.flags|=e,u.memoizedState=oo(1|t,r,f,a)}function Df(e,t){return Cs(8390656,8,e,t)}function eu(e,t){return Rs(2048,8,e,t)}function Uf(e,t){return Rs(4,2,e,t)}function Mf(e,t){return Rs(4,4,e,t)}function Lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ff(e,t,r){return r=r!=null?r.concat([e]):null,Rs(4,4,Lf.bind(null,t,e),r)}function tu(){}function Bf(e,t){var r=$t();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ql(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Hf(e,t){var r=$t();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ql(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function xf(e,t,r){return(wr&21)===0?(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=r):(en(r,t)||(r=pd(),We.lanes|=r,Ar|=r,e.baseState=!0),t)}function k0(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var a=Xl.transition;Xl.transition={};try{e(!1),t()}finally{Ne=r,Xl.transition=a}}function Gf(){return $t().memoizedState}function P0(e,t,r){var a=Jn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},zf(e))$f(t,r);else if(r=yf(e,t,r,a),r!==null){var u=St();sn(r,e,a,u),jf(r,t,a)}}function N0(e,t,r){var a=Jn(e),u={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(zf(e))$f(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,y=f(g,r);if(u.hasEagerState=!0,u.eagerState=y,en(y,g)){var _=t.interleaved;_===null?(u.next=u,$l(t)):(u.next=_.next,_.next=u),t.interleaved=u;return}}catch{}finally{}r=yf(e,t,u,a),r!==null&&(u=St(),sn(r,e,a,u),jf(r,t,a))}}function zf(e){var t=e.alternate;return e===We||t!==null&&t===We}function $f(e,t){no=Is=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jf(e,t,r){if((r&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,rl(e,r)}}var ks={readContext:zt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},O0={readContext:zt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Df,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cs(4194308,4,Lf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var r=dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=dn();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=P0.bind(null,We,e),[a.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Nf,useDebugValue:tu,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Nf(!1),t=e[0];return e=k0.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=We,u=dn();if(ze){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),nt===null)throw Error(o(349));(wr&30)!==0||If(a,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Df(Rf.bind(null,a,f,e),[e]),a.flags|=2048,oo(9,Cf.bind(null,a,f,r,t),void 0,null),r},useId:function(){var e=dn(),t=nt.identifierPrefix;if(ze){var r=In,a=Tn;r=(a&~(1<<32-bt(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=ro++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=R0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D0={readContext:zt,useCallback:Bf,useContext:zt,useEffect:eu,useImperativeHandle:Ff,useInsertionEffect:Uf,useLayoutEffect:Mf,useMemo:Hf,useReducer:Jl,useRef:Of,useState:function(){return Jl(io)},useDebugValue:tu,useDeferredValue:function(e){var t=$t();return xf(t,be.memoizedState,e)},useTransition:function(){var e=Jl(io)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:Tf,useId:Gf,unstable_isNewReconciler:!1},U0={readContext:zt,useCallback:Bf,useContext:zt,useEffect:eu,useImperativeHandle:Ff,useInsertionEffect:Uf,useLayoutEffect:Mf,useMemo:Hf,useReducer:bl,useRef:Of,useState:function(){return bl(io)},useDebugValue:tu,useDeferredValue:function(e){var t=$t();return be===null?t.memoizedState=e:xf(t,be.memoizedState,e)},useTransition:function(){var e=bl(io)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:Tf,useId:Gf,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nu(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:W({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ps={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=St(),u=Jn(e),f=Rn(a,u);f.payload=t,r!=null&&(f.callback=r),t=Xn(e,f,u),t!==null&&(sn(t,e,u,a),Es(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=St(),u=Jn(e),f=Rn(a,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Xn(e,f,u),t!==null&&(sn(t,e,u,a),Es(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=St(),a=Jn(e),u=Rn(r,a);u.tag=2,t!=null&&(u.callback=t),t=Xn(e,u,a),t!==null&&(sn(t,e,a,r),Es(t,e,a))}};function Wf(e,t,r,a,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!Yi(r,a)||!Yi(u,f):!0}function Yf(e,t,r){var a=!1,u=Yn,f=t.contextType;return typeof f=="object"&&f!==null?f=zt(f):(u=At(t)?vr:dt.current,a=t.contextTypes,f=(a=a!=null)?Qr(e,u):Yn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Vf(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function ru(e,t,r,a){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},jl(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=zt(f):(f=At(t)?vr:dt.current,u.context=Qr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(nu(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Ps.enqueueReplaceState(u,u.state,null),ws(e,r,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ri(e,t){try{var r="",a=t;do r+=ge(a),a=a.return;while(a);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ou(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M0=typeof WeakMap=="function"?WeakMap:Map;function Kf(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Fs||(Fs=!0,_u=a),ou(e,t)},r}function Xf(e,t,r){r=Rn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;r.payload=function(){return a(u)},r.callback=function(){ou(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){ou(e,t),typeof a!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function Qf(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new M0;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(r)||(u.add(r),e=X0.bind(null,e,t,r),t.then(e,e))}function Zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qf(e,t,r,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var L0=G.ReactCurrentOwner,Tt=!1;function yt(e,t,r,a){t.child=e===null?vf(t,null,r,a):br(t,e.child,r,a)}function Jf(e,t,r,a,u){r=r.render;var f=t.ref;return ti(t,u),a=Zl(e,t,r,a,f,u),r=ql(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,kn(e,t,u)):(ze&&r&&Ul(t),t.flags|=1,yt(e,t,a,u),t.child)}function bf(e,t,r,a,u){if(e===null){var f=r.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,eh(e,t,f,a,u)):(e=$s(r.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&u)===0){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yi,r(g,a)&&e.ref===t.ref)return kn(e,t,u)}return t.flags|=1,e=er(f,a),e.ref=t.ref,e.return=t,t.child=e}function eh(e,t,r,a,u){if(e!==null){var f=e.memoizedProps;if(Yi(f,a)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=a=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Tt=!0);else return t.lanes=e.lanes,kn(e,t,u)}return su(e,t,r,a,u)}function th(e,t,r){var a=t.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(oi,Mt),Mt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(oi,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:r,Le(oi,Mt),Mt|=a}else f!==null?(a=f.baseLanes|r,t.memoizedState=null):a=r,Le(oi,Mt),Mt|=a;return yt(e,t,u,r),t.child}function nh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function su(e,t,r,a,u){var f=At(r)?vr:dt.current;return f=Qr(t,f),ti(t,u),r=Zl(e,t,r,a,f,u),a=ql(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,kn(e,t,u)):(ze&&a&&Ul(t),t.flags|=1,yt(e,t,r,u),t.child)}function rh(e,t,r,a,u){if(At(r)){var f=!0;hs(t)}else f=!1;if(ti(t,u),t.stateNode===null)Os(e,t),Yf(t,r,a),ru(t,r,a,u),a=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var _=g.context,P=r.contextType;typeof P=="object"&&P!==null?P=zt(P):(P=At(r)?vr:dt.current,P=Qr(t,P));var F=r.getDerivedStateFromProps,H=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||_!==P)&&Vf(t,g,a,P),Kn=!1;var L=t.memoizedState;g.state=L,ws(t,a,g,u),_=t.memoizedState,y!==a||L!==_||wt.current||Kn?(typeof F=="function"&&(nu(t,r,F,a),_=t.memoizedState),(y=Kn||Wf(t,r,y,a,L,_,P))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),g.props=a,g.state=_,g.context=P,a=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,Sf(e,t),y=t.memoizedProps,P=t.type===t.elementType?y:nn(t.type,y),g.props=P,H=t.pendingProps,L=g.context,_=r.contextType,typeof _=="object"&&_!==null?_=zt(_):(_=At(r)?vr:dt.current,_=Qr(t,_));var Y=r.getDerivedStateFromProps;(F=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==H||L!==_)&&Vf(t,g,a,_),Kn=!1,L=t.memoizedState,g.state=L,ws(t,a,g,u);var Q=t.memoizedState;y!==H||L!==Q||wt.current||Kn?(typeof Y=="function"&&(nu(t,r,Y,a),Q=t.memoizedState),(P=Kn||Wf(t,r,P,a,L,Q,_)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Q,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Q,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),g.props=a,g.state=Q,g.context=_,a=P):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return au(e,t,r,a,f,u)}function au(e,t,r,a,u,f){nh(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return u&&lf(t,r,!1),kn(e,t,f);a=t.stateNode,L0.current=t;var y=g&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=br(t,e.child,null,f),t.child=br(t,null,y,f)):yt(e,t,y,f),t.memoizedState=a.state,u&&lf(t,r,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sf(e,t.context,!1),Wl(e,t.containerInfo)}function oh(e,t,r,a,u){return Jr(),Bl(u),t.flags|=256,yt(e,t,r,a),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function sh(e,t,r){var a=t.pendingProps,u=je.current,f=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Le(je,u&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=js(g,a,0,null),e=Rr(e,a,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=uu(r),t.memoizedState=lu,e):cu(t,g));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return F0(e,t,g,a,y,u,r);if(f){f=a.fallback,g=t.mode,u=e.child,y=u.sibling;var _={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=_,t.deletions=null):(a=er(u,_),a.subtreeFlags=u.subtreeFlags&14680064),y!==null?f=er(y,f):(f=Rr(f,g,r,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?uu(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~r,t.memoizedState=lu,a}return f=e.child,e=f.sibling,a=er(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function cu(e,t){return t=js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,r,a){return a!==null&&Bl(a),br(t,e.child,null,r),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F0(e,t,r,a,u,f,g){if(r)return t.flags&256?(t.flags&=-257,a=iu(Error(o(422))),Ns(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,u=t.mode,a=js({mode:"visible",children:a.children},u,0,null),f=Rr(f,u,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&br(t,e.child,null,g),t.child.memoizedState=uu(g),t.memoizedState=lu,f);if((t.mode&1)===0)return Ns(e,t,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var y=a.dgst;return a=y,f=Error(o(419)),a=iu(f,a,void 0),Ns(e,t,g,a)}if(y=(g&e.childLanes)!==0,Tt||y){if(a=nt,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|g))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Cn(e,u),sn(a,e,u,-1))}return Cu(),a=iu(Error(o(421))),Ns(e,t,g,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Q0.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,Ut=jn(u.nextSibling),Dt=t,ze=!0,tn=null,e!==null&&(xt[Gt++]=Tn,xt[Gt++]=In,xt[Gt++]=yr,Tn=e.id,In=e.overflow,yr=t),t=cu(t,a.children),t.flags|=4096,t)}function ah(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),zl(e.return,t,r)}function du(e,t,r,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=r,f.tailMode=u)}function lh(e,t,r){var a=t.pendingProps,u=a.revealOrder,f=a.tail;if(yt(e,t,a.children,r),a=je.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ah(e,r,t);else if(e.tag===19)ah(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(je,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&As(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),du(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&As(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}du(t,!0,r,null,f);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B0(e,t,r){switch(t.tag){case 3:ih(t),Jr();break;case 5:wf(t);break;case 1:At(t.type)&&hs(t);break;case 4:Wl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;Le(Ss,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(je,je.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?sh(e,t,r):(Le(je,je.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Le(je,je.current&1);break;case 19:if(a=(r&t.childLanes)!==0,(e.flags&128)!==0){if(a)return lh(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Le(je,je.current),a)break;return null;case 22:case 23:return t.lanes=0,th(e,t,r)}return kn(e,t,r)}var uh,fu,ch,dh;uh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},fu=function(){},ch=function(e,t,r,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,Er(cn.current);var f=null;switch(r){case"input":u=Nt(e,u),a=Nt(e,a),f=[];break;case"select":u=W({},u,{value:void 0}),a=W({},a,{value:void 0}),f=[];break;case"textarea":u=pr(e,u),a=pr(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=cs)}Va(r,a);var g;r=null;for(P in u)if(!a.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var y=u[P];for(g in y)y.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in a){var _=a[P];if(y=u!=null?u[P]:void 0,a.hasOwnProperty(P)&&_!==y&&(_!=null||y!=null))if(P==="style")if(y){for(g in y)!y.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in _)_.hasOwnProperty(g)&&y[g]!==_[g]&&(r||(r={}),r[g]=_[g])}else r||(f||(f=[]),f.push(P,r)),r=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(f=f||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(f=f||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&Fe("scroll",e),f||y===_||(f=[])):(f=f||[]).push(P,_))}r&&(f=f||[]).push("style",r);var P=f;(t.updateQueue=P)&&(t.flags|=4)}},dh=function(e,t,r,a){r!==a&&(t.flags|=4)};function so(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function H0(e,t,r){var a=t.pendingProps;switch(Ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return At(t.type)&&fs(),ht(t),null;case 3:return a=t.stateNode,ni(),Be(wt),Be(dt),Kl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tn!==null&&(Au(tn),tn=null))),fu(e,t),ht(t),null;case 5:Yl(t);var u=Er(to.current);if(r=t.type,e!==null&&t.stateNode!=null)ch(e,t,r,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ht(t),null}if(e=Er(cn.current),vs(t)){a=t.stateNode,r=t.type;var f=t.memoizedProps;switch(a[un]=t,a[Zi]=f,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(u=0;u<Ki.length;u++)Fe(Ki[u],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Ht(a,f),Fe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Fe("invalid",a);break;case"textarea":Kc(a,f),Fe("invalid",a)}Va(r,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var y=f[g];g==="children"?typeof y=="string"?a.textContent!==y&&(f.suppressHydrationWarning!==!0&&us(a.textContent,y,e),u=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&us(a.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&Fe("scroll",a)}switch(r){case"input":Re(a),Mn(a,f,!0);break;case"textarea":Re(a),Qc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=cs)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(r,{is:a.is}):(e=g.createElement(r),r==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,r),e[un]=t,e[Zi]=a,uh(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ka(r,a),r){case"dialog":Fe("cancel",e),Fe("close",e),u=a;break;case"iframe":case"object":case"embed":Fe("load",e),u=a;break;case"video":case"audio":for(u=0;u<Ki.length;u++)Fe(Ki[u],e);u=a;break;case"source":Fe("error",e),u=a;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),u=a;break;case"details":Fe("toggle",e),u=a;break;case"input":Ht(e,a),u=Nt(e,a),Fe("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=W({},a,{value:void 0}),Fe("invalid",e);break;case"textarea":Kc(e,a),u=pr(e,a),Fe("invalid",e);break;default:u=a}Va(r,u),y=u;for(f in y)if(y.hasOwnProperty(f)){var _=y[f];f==="style"?bc(e,_):f==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&qc(e,_)):f==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&ki(e,_):typeof _=="number"&&ki(e,""+_):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?_!=null&&f==="onScroll"&&Fe("scroll",e):_!=null&&$(e,f,_,g))}switch(r){case"input":Re(e),Mn(e,a,!1);break;case"textarea":Re(e),Qc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ce(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Fn(e,!!a.multiple,f,!1):a.defaultValue!=null&&Fn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=cs)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)dh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(r=Er(to.current),Er(cn.current),vs(t)){if(a=t.stateNode,r=t.memoizedProps,a[un]=t,(f=a.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:us(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(a.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[un]=t,t.stateNode=a}return ht(t),null;case 13:if(Be(je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)pf(),Jr(),t.flags|=98560,f=!1;else if(f=vs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[un]=t}else Jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),f=!1}else tn!==null&&(Au(tn),tn=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(je.current&1)!==0?et===0&&(et=3):Cu())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return ni(),fu(e,t),e===null&&Xi(t.stateNode.containerInfo),ht(t),null;case 10:return Gl(t.type._context),ht(t),null;case 17:return At(t.type)&&fs(),ht(t),null;case 19:if(Be(je),f=t.memoizedState,f===null)return ht(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)so(f,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=As(e),g!==null){for(t.flags|=128,so(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)f=r,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(je,je.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ke()>si&&(t.flags|=128,a=!0,so(f,!1),t.lanes=4194304)}else{if(!a)if(e=As(g),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),so(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ze)return ht(t),null}else 2*Ke()-f.renderingStartTime>si&&r!==1073741824&&(t.flags|=128,a=!0,so(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(r=f.last,r!==null?r.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ke(),t.sibling=null,r=je.current,Le(je,a?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return Iu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Mt&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function x0(e,t){switch(Ml(t),t.tag){case 1:return At(t.type)&&fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ni(),Be(wt),Be(dt),Kl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Yl(t),null;case 13:if(Be(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(je),null;case 4:return ni(),null;case 10:return Gl(t.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var Ds=!1,pt=!1,G0=typeof WeakSet=="function"?WeakSet:Set,K=null;function ii(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ye(e,t,a)}else r.current=null}function hu(e,t,r){try{r()}catch(a){Ye(e,t,a)}}var fh=!1;function z0(e,t){if(Il=Jo,e=jd(),vl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,y=-1,_=-1,P=0,F=0,H=e,L=null;t:for(;;){for(var Y;H!==r||u!==0&&H.nodeType!==3||(y=g+u),H!==f||a!==0&&H.nodeType!==3||(_=g+a),H.nodeType===3&&(g+=H.nodeValue.length),(Y=H.firstChild)!==null;)L=H,H=Y;for(;;){if(H===e)break t;if(L===r&&++P===u&&(y=g),L===f&&++F===a&&(_=g),(Y=H.nextSibling)!==null)break;H=L,L=H.parentNode}H=Y}r=y===-1||_===-1?null:{start:y,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cl={focusedElem:e,selectionRange:r},Jo=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Z=Q.memoizedProps,Xe=Q.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?Z:nn(t.type,Z),Xe);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(z){Ye(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return Q=fh,fh=!1,Q}function ao(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&hu(t,r,f)}u=u.next}while(u!==a)}}function Us(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function pu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hh(e){var t=e.alternate;t!==null&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Zi],delete t[Nl],delete t[A0],delete t[T0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ph(e){return e.tag===5||e.tag===3||e.tag===4}function gh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cs));else if(a!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}function mu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(mu(e,t,r),e=e.sibling;e!==null;)mu(e,t,r),e=e.sibling}var st=null,rn=!1;function Qn(e,t,r){for(r=r.child;r!==null;)mh(e,t,r),r=r.sibling}function mh(e,t,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Vo,r)}catch{}switch(r.tag){case 5:pt||ii(r,t);case 6:var a=st,u=rn;st=null,Qn(e,t,r),st=a,rn=u,st!==null&&(rn?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(rn?(e=st,r=r.stateNode,e.nodeType===8?Pl(e.parentNode,r):e.nodeType===1&&Pl(e,r),xi(e)):Pl(st,r.stateNode));break;case 4:a=st,u=rn,st=r.stateNode.containerInfo,rn=!0,Qn(e,t,r),st=a,rn=u;break;case 0:case 11:case 14:case 15:if(!pt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&hu(r,t,g),u=u.next}while(u!==a)}Qn(e,t,r);break;case 1:if(!pt&&(ii(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(y){Ye(r,t,y)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(pt=(a=pt)||r.memoizedState!==null,Qn(e,t,r),pt=a):Qn(e,t,r);break;default:Qn(e,t,r)}}function vh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new G0),t.forEach(function(a){var u=Z0.bind(null,e,a);r.has(a)||(r.add(a),a.then(u,u))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];try{var f=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:st=y.stateNode,rn=!1;break e;case 3:st=y.stateNode.containerInfo,rn=!0;break e;case 4:st=y.stateNode.containerInfo,rn=!0;break e}y=y.return}if(st===null)throw Error(o(160));mh(f,g,u),st=null,rn=!1;var _=u.alternate;_!==null&&(_.return=null),u.return=null}catch(P){Ye(u,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yh(t,e),t=t.sibling}function yh(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),fn(e),a&4){try{ao(3,e,e.return),Us(3,e)}catch(Z){Ye(e,e.return,Z)}try{ao(5,e,e.return)}catch(Z){Ye(e,e.return,Z)}}break;case 1:on(t,e),fn(e),a&512&&r!==null&&ii(r,r.return);break;case 5:if(on(t,e),fn(e),a&512&&r!==null&&ii(r,r.return),e.flags&32){var u=e.stateNode;try{ki(u,"")}catch(Z){Ye(e,e.return,Z)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,g=r!==null?r.memoizedProps:f,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&hr(u,f),Ka(y,g);var P=Ka(y,f);for(g=0;g<_.length;g+=2){var F=_[g],H=_[g+1];F==="style"?bc(u,H):F==="dangerouslySetInnerHTML"?qc(u,H):F==="children"?ki(u,H):$(u,F,H,P)}switch(y){case"input":En(u,f);break;case"textarea":Xc(u,f);break;case"select":var L=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Fn(u,!!f.multiple,Y,!1):L!==!!f.multiple&&(f.defaultValue!=null?Fn(u,!!f.multiple,f.defaultValue,!0):Fn(u,!!f.multiple,f.multiple?[]:"",!1))}u[Zi]=f}catch(Z){Ye(e,e.return,Z)}}break;case 6:if(on(t,e),fn(e),a&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(Z){Ye(e,e.return,Z)}}break;case 3:if(on(t,e),fn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(Z){Ye(e,e.return,Z)}break;case 4:on(t,e),fn(e);break;case 13:on(t,e),fn(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Su=Ke())),a&4&&vh(e);break;case 22:if(F=r!==null&&r.memoizedState!==null,e.mode&1?(pt=(P=pt)||F,on(t,e),pt=P):on(t,e),fn(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!F&&(e.mode&1)!==0)for(K=e,F=e.child;F!==null;){for(H=K=F;K!==null;){switch(L=K,Y=L.child,L.tag){case 0:case 11:case 14:case 15:ao(4,L,L.return);break;case 1:ii(L,L.return);var Q=L.stateNode;if(typeof Q.componentWillUnmount=="function"){a=L,r=L.return;try{t=a,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(Z){Ye(a,r,Z)}}break;case 5:ii(L,L.return);break;case 22:if(L.memoizedState!==null){Eh(H);continue}}Y!==null?(Y.return=L,K=Y):Eh(H)}F=F.sibling}e:for(F=null,H=e;;){if(H.tag===5){if(F===null){F=H;try{u=H.stateNode,P?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=H.stateNode,_=H.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=Jc("display",g))}catch(Z){Ye(e,e.return,Z)}}}else if(H.tag===6){if(F===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(Z){Ye(e,e.return,Z)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;F===H&&(F=null),H=H.return}F===H&&(F=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:on(t,e),fn(e),a&4&&vh(e);break;case 21:break;default:on(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ph(r)){var a=r;break e}r=r.return}throw Error(o(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(ki(u,""),a.flags&=-33);var f=gh(e);mu(e,f,u);break;case 3:case 4:var g=a.stateNode.containerInfo,y=gh(e);gu(e,y,g);break;default:throw Error(o(161))}}catch(_){Ye(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $0(e,t,r){K=e,Sh(e)}function Sh(e,t,r){for(var a=(e.mode&1)!==0;K!==null;){var u=K,f=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||Ds;if(!g){var y=u.alternate,_=y!==null&&y.memoizedState!==null||pt;y=Ds;var P=pt;if(Ds=g,(pt=_)&&!P)for(K=u;K!==null;)g=K,_=g.child,g.tag===22&&g.memoizedState!==null?wh(u):_!==null?(_.return=g,K=_):wh(u);for(;f!==null;)K=f,Sh(f),f=f.sibling;K=u,Ds=y,pt=P}_h(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,K=f):_h(e)}}function _h(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||Us(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!pt)if(r===null)a.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:nn(t.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Ef(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ef(t,g,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var H=F.dehydrated;H!==null&&xi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}pt||t.flags&512&&pu(t)}catch(L){Ye(t,t.return,L)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Eh(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function wh(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Us(4,t)}catch(_){Ye(t,r,_)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(_){Ye(t,u,_)}}var f=t.return;try{pu(t)}catch(_){Ye(t,f,_)}break;case 5:var g=t.return;try{pu(t)}catch(_){Ye(t,g,_)}}}catch(_){Ye(t,t.return,_)}if(t===e){K=null;break}var y=t.sibling;if(y!==null){y.return=t.return,K=y;break}K=t.return}}var j0=Math.ceil,Ms=G.ReactCurrentDispatcher,vu=G.ReactCurrentOwner,jt=G.ReactCurrentBatchConfig,Ae=0,nt=null,Ze=null,at=0,Mt=0,oi=Wn(0),et=0,lo=null,Ar=0,Ls=0,yu=0,uo=null,It=null,Su=0,si=1/0,Pn=null,Fs=!1,_u=null,Zn=null,Bs=!1,qn=null,Hs=0,co=0,Eu=null,xs=-1,Gs=0;function St(){return(Ae&6)!==0?Ke():xs!==-1?xs:xs=Ke()}function Jn(e){return(e.mode&1)===0?1:(Ae&2)!==0&&at!==0?at&-at:C0.transition!==null?(Gs===0&&(Gs=pd()),Gs):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Ad(e.type)),e)}function sn(e,t,r,a){if(50<co)throw co=0,Eu=null,Error(o(185));Mi(e,r,a),((Ae&2)===0||e!==nt)&&(e===nt&&((Ae&2)===0&&(Ls|=r),et===4&&bn(e,at)),Ct(e,a),r===1&&Ae===0&&(t.mode&1)===0&&(si=Ke()+500,ps&&Vn()))}function Ct(e,t){var r=e.callbackNode;Cm(e,t);var a=Qo(e,e===nt?at:0);if(a===0)r!==null&&dd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&dd(r),t===1)e.tag===0?I0(Th.bind(null,e)):uf(Th.bind(null,e)),E0(function(){(Ae&6)===0&&Vn()}),r=null;else{switch(gd(a)){case 1:r=el;break;case 4:r=fd;break;case 16:r=Yo;break;case 536870912:r=hd;break;default:r=Yo}r=Dh(r,Ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ah(e,t){if(xs=-1,Gs=0,(Ae&6)!==0)throw Error(o(327));var r=e.callbackNode;if(ai()&&e.callbackNode!==r)return null;var a=Qo(e,e===nt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=zs(e,a);else{t=a;var u=Ae;Ae|=2;var f=Ch();(nt!==e||at!==t)&&(Pn=null,si=Ke()+500,Ir(e,t));do try{V0();break}catch(y){Ih(e,y)}while(!0);xl(),Ms.current=f,Ae=u,Ze!==null?t=0:(nt=null,at=0,t=et)}if(t!==0){if(t===2&&(u=tl(e),u!==0&&(a=u,t=wu(e,u))),t===1)throw r=lo,Ir(e,0),bn(e,a),Ct(e,Ke()),r;if(t===6)bn(e,a);else{if(u=e.current.alternate,(a&30)===0&&!W0(u)&&(t=zs(e,a),t===2&&(f=tl(e),f!==0&&(a=f,t=wu(e,f))),t===1))throw r=lo,Ir(e,0),bn(e,a),Ct(e,Ke()),r;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Cr(e,It,Pn);break;case 3:if(bn(e,a),(a&130023424)===a&&(t=Su+500-Ke(),10<t)){if(Qo(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){St(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=kl(Cr.bind(null,e,It,Pn),t);break}Cr(e,It,Pn);break;case 4:if(bn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var g=31-bt(a);f=1<<g,g=t[g],g>u&&(u=g),a&=~f}if(a=u,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*j0(a/1960))-a,10<a){e.timeoutHandle=kl(Cr.bind(null,e,It,Pn),a);break}Cr(e,It,Pn);break;case 5:Cr(e,It,Pn);break;default:throw Error(o(329))}}}return Ct(e,Ke()),e.callbackNode===r?Ah.bind(null,e):null}function wu(e,t){var r=uo;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=zs(e,t),e!==2&&(t=It,It=r,t!==null&&Au(t)),e}function Au(e){It===null?It=e:It.push.apply(It,e)}function W0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var u=r[a],f=u.getSnapshot;u=u.value;try{if(!en(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~yu,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bt(t),a=1<<r;e[r]=-1,t&=~a}}function Th(e){if((Ae&6)!==0)throw Error(o(327));ai();var t=Qo(e,0);if((t&1)===0)return Ct(e,Ke()),null;var r=zs(e,t);if(e.tag!==0&&r===2){var a=tl(e);a!==0&&(t=a,r=wu(e,a))}if(r===1)throw r=lo,Ir(e,0),bn(e,t),Ct(e,Ke()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,It,Pn),Ct(e,Ke()),null}function Tu(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(si=Ke()+500,ps&&Vn())}}function Tr(e){qn!==null&&qn.tag===0&&(Ae&6)===0&&ai();var t=Ae;Ae|=1;var r=jt.transition,a=Ne;try{if(jt.transition=null,Ne=1,e)return e()}finally{Ne=a,jt.transition=r,Ae=t,(Ae&6)===0&&Vn()}}function Iu(){Mt=oi.current,Be(oi)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_0(r)),Ze!==null)for(r=Ze.return;r!==null;){var a=r;switch(Ml(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&fs();break;case 3:ni(),Be(wt),Be(dt),Kl();break;case 5:Yl(a);break;case 4:ni();break;case 13:Be(je);break;case 19:Be(je);break;case 10:Gl(a.type._context);break;case 22:case 23:Iu()}r=r.return}if(nt=e,Ze=e=er(e.current,null),at=Mt=t,et=0,lo=null,yu=Ls=Ar=0,It=uo=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],a=r.interleaved,a!==null){r.interleaved=null;var u=a.next,f=r.pending;if(f!==null){var g=f.next;f.next=u,a.next=g}r.pending=a}_r=null}return e}function Ih(e,t){do{var r=Ze;try{if(xl(),Ts.current=ks,Is){for(var a=We.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Is=!1}if(wr=0,tt=be=We=null,no=!1,ro=0,vu.current=null,r===null||r.return===null){et=1,lo=t,Ze=null;break}e:{var f=e,g=r.return,y=r,_=t;if(t=at,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,F=y,H=F.tag;if((F.mode&1)===0&&(H===0||H===11||H===15)){var L=F.alternate;L?(F.updateQueue=L.updateQueue,F.memoizedState=L.memoizedState,F.lanes=L.lanes):(F.updateQueue=null,F.memoizedState=null)}var Y=Zf(g);if(Y!==null){Y.flags&=-257,qf(Y,g,y,f,t),Y.mode&1&&Qf(f,P,t),t=Y,_=P;var Q=t.updateQueue;if(Q===null){var Z=new Set;Z.add(_),t.updateQueue=Z}else Q.add(_);break e}else{if((t&1)===0){Qf(f,P,t),Cu();break e}_=Error(o(426))}}else if(ze&&y.mode&1){var Xe=Zf(g);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),qf(Xe,g,y,f,t),Bl(ri(_,y));break e}}f=_=ri(_,y),et!==4&&(et=2),uo===null?uo=[f]:uo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=Kf(f,_,t);_f(f,I);break e;case 1:y=_;var E=f.type,C=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zn===null||!Zn.has(C)))){f.flags|=65536,t&=-t,f.lanes|=t;var z=Xf(f,y,t);_f(f,z);break e}}f=f.return}while(f!==null)}kh(r)}catch(q){t=q,Ze===r&&r!==null&&(Ze=r=r.return);continue}break}while(!0)}function Ch(){var e=Ms.current;return Ms.current=ks,e===null?ks:e}function Cu(){(et===0||et===3||et===2)&&(et=4),nt===null||(Ar&268435455)===0&&(Ls&268435455)===0||bn(nt,at)}function zs(e,t){var r=Ae;Ae|=2;var a=Ch();(nt!==e||at!==t)&&(Pn=null,Ir(e,t));do try{Y0();break}catch(u){Ih(e,u)}while(!0);if(xl(),Ae=r,Ms.current=a,Ze!==null)throw Error(o(261));return nt=null,at=0,et}function Y0(){for(;Ze!==null;)Rh(Ze)}function V0(){for(;Ze!==null&&!vm();)Rh(Ze)}function Rh(e){var t=Oh(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?kh(e):Ze=t,vu.current=null}function kh(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=H0(r,t,Mt),r!==null){Ze=r;return}}else{if(r=x0(r,t),r!==null){r.flags&=32767,Ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ze=null;return}}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);et===0&&(et=5)}function Cr(e,t,r){var a=Ne,u=jt.transition;try{jt.transition=null,Ne=1,K0(e,t,r,a)}finally{jt.transition=u,Ne=a}return null}function K0(e,t,r,a){do ai();while(qn!==null);if((Ae&6)!==0)throw Error(o(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Rm(e,f),e===nt&&(Ze=nt=null,at=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Bs||(Bs=!0,Dh(Yo,function(){return ai(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=jt.transition,jt.transition=null;var g=Ne;Ne=1;var y=Ae;Ae|=4,vu.current=null,z0(e,r),yh(r,e),h0(Cl),Jo=!!Il,Cl=Il=null,e.current=r,$0(r),ym(),Ae=y,Ne=g,jt.transition=f}else e.current=r;if(Bs&&(Bs=!1,qn=e,Hs=u),f=e.pendingLanes,f===0&&(Zn=null),Em(r.stateNode),Ct(e,Ke()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],a(u.value,{componentStack:u.stack,digest:u.digest});if(Fs)throw Fs=!1,e=_u,_u=null,e;return(Hs&1)!==0&&e.tag!==0&&ai(),f=e.pendingLanes,(f&1)!==0?e===Eu?co++:(co=0,Eu=e):co=0,Vn(),null}function ai(){if(qn!==null){var e=gd(Hs),t=jt.transition,r=Ne;try{if(jt.transition=null,Ne=16>e?16:e,qn===null)var a=!1;else{if(e=qn,qn=null,Hs=0,(Ae&6)!==0)throw Error(o(331));var u=Ae;for(Ae|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var y=f.deletions;if(y!==null){for(var _=0;_<y.length;_++){var P=y[_];for(K=P;K!==null;){var F=K;switch(F.tag){case 0:case 11:case 15:ao(8,F,f)}var H=F.child;if(H!==null)H.return=F,K=H;else for(;K!==null;){F=K;var L=F.sibling,Y=F.return;if(hh(F),F===P){K=null;break}if(L!==null){L.return=Y,K=L;break}K=Y}}}var Q=f.alternate;if(Q!==null){var Z=Q.child;if(Z!==null){Q.child=null;do{var Xe=Z.sibling;Z.sibling=null,Z=Xe}while(Z!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ao(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,K=I;break e}K=f.return}}var E=e.current;for(K=E;K!==null;){g=K;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,K=C;else e:for(g=E;K!==null;){if(y=K,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Us(9,y)}}catch(q){Ye(y,y.return,q)}if(y===g){K=null;break e}var z=y.sibling;if(z!==null){z.return=y.return,K=z;break e}K=y.return}}if(Ae=u,Vn(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Vo,e)}catch{}a=!0}return a}finally{Ne=r,jt.transition=t}}return!1}function Ph(e,t,r){t=ri(r,t),t=Kf(e,t,1),e=Xn(e,t,1),t=St(),e!==null&&(Mi(e,1,t),Ct(e,t))}function Ye(e,t,r){if(e.tag===3)Ph(e,e,r);else for(;t!==null;){if(t.tag===3){Ph(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zn===null||!Zn.has(a))){e=ri(r,e),e=Xf(t,e,1),t=Xn(t,e,1),e=St(),t!==null&&(Mi(t,1,e),Ct(t,e));break}}t=t.return}}function X0(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&r,nt===e&&(at&r)===r&&(et===4||et===3&&(at&130023424)===at&&500>Ke()-Su?Ir(e,0):yu|=r),Ct(e,t)}function Nh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Xo,Xo<<=1,(Xo&130023424)===0&&(Xo=4194304)));var r=St();e=Cn(e,t),e!==null&&(Mi(e,t,r),Ct(e,r))}function Q0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nh(e,r)}function Z0(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),Nh(e,r)}var Oh;Oh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)Tt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Tt=!1,B0(e,t,r);Tt=(e.flags&131072)!==0}else Tt=!1,ze&&(t.flags&1048576)!==0&&cf(t,ms,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Os(e,t),e=t.pendingProps;var u=Qr(t,dt.current);ti(t,r),u=Zl(null,t,a,e,u,r);var f=ql();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(a)?(f=!0,hs(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,jl(t),u.updater=Ps,t.stateNode=u,u._reactInternals=t,ru(t,a,e,r),t=au(null,t,a,!0,f,r)):(t.tag=0,ze&&f&&Ul(t),yt(null,t,u,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=J0(a),e=nn(a,e),u){case 0:t=su(null,t,a,e,r);break e;case 1:t=rh(null,t,a,e,r);break e;case 11:t=Jf(null,t,a,e,r);break e;case 14:t=bf(null,t,a,nn(a.type,e),r);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),su(e,t,a,u,r);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),rh(e,t,a,u,r);case 3:e:{if(ih(t),e===null)throw Error(o(387));a=t.pendingProps,f=t.memoizedState,u=f.element,Sf(e,t),ws(t,a,null,r);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=ri(Error(o(423)),t),t=oh(e,t,a,r,u);break e}else if(a!==u){u=ri(Error(o(424)),t),t=oh(e,t,a,r,u);break e}else for(Ut=jn(t.stateNode.containerInfo.firstChild),Dt=t,ze=!0,tn=null,r=vf(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),a===u){t=kn(e,t,r);break e}yt(e,t,a,r)}t=t.child}return t;case 5:return wf(t),e===null&&Fl(t),a=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,g=u.children,Rl(a,u)?g=null:f!==null&&Rl(a,f)&&(t.flags|=32),nh(e,t),yt(e,t,g,r),t.child;case 6:return e===null&&Fl(t),null;case 13:return sh(e,t,r);case 4:return Wl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=br(t,null,a,r):yt(e,t,a,r),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),Jf(e,t,a,u,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,f=t.memoizedProps,g=u.value,Le(Ss,a._currentValue),a._currentValue=g,f!==null)if(en(f.value,g)){if(f.children===u.children&&!wt.current){t=kn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var y=f.dependencies;if(y!==null){g=f.child;for(var _=y.firstContext;_!==null;){if(_.context===a){if(f.tag===1){_=Rn(-1,r&-r),_.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?_.next=_:(_.next=F.next,F.next=_),P.pending=_}}f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),zl(f.return,r,t),y.lanes|=r;break}_=_.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=r,y=g.alternate,y!==null&&(y.lanes|=r),zl(g,r,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}yt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,ti(t,r),u=zt(u),a=a(u),t.flags|=1,yt(e,t,a,r),t.child;case 14:return a=t.type,u=nn(a,t.pendingProps),u=nn(a.type,u),bf(e,t,a,u,r);case 15:return eh(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),Os(e,t),t.tag=1,At(a)?(e=!0,hs(t)):e=!1,ti(t,r),Yf(t,a,u),ru(t,a,u,r),au(null,t,a,!0,e,r);case 19:return lh(e,t,r);case 22:return th(e,t,r)}throw Error(o(156,t.tag))};function Dh(e,t){return cd(e,t)}function q0(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,r,a){return new q0(e,t,r,a)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function J0(e){if(typeof e=="function")return Ru(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ue)return 11;if(e===Ie)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $s(e,t,r,a,u,f){var g=2;if(a=e,typeof e=="function")Ru(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case x:return Rr(r.children,u,f,t);case J:g=8,u|=8;break;case pe:return e=Wt(12,r,t,u|2),e.elementType=pe,e.lanes=f,e;case Me:return e=Wt(13,r,t,u),e.elementType=Me,e.lanes=f,e;case Se:return e=Wt(19,r,t,u),e.elementType=Se,e.lanes=f,e;case se:return js(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ge:g=10;break e;case Je:g=9;break e;case Ue:g=11;break e;case Ie:g=14;break e;case de:g=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Wt(g,r,t,u),t.elementType=e,t.type=a,t.lanes=f,t}function Rr(e,t,r,a){return e=Wt(7,e,a,t),e.lanes=r,e}function js(e,t,r,a){return e=Wt(22,e,a,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,t,r){return e=Wt(6,e,null,t),e.lanes=r,e}function Pu(e,t,r){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b0(e,t,r,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Nu(e,t,r,a,u,f,g,y,_){return e=new b0(e,t,r,y,_),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Wt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jl(f),e}function ev(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Uh(e){if(!e)return Yn;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(At(r))return af(e,r,t)}return t}function Mh(e,t,r,a,u,f,g,y,_){return e=Nu(r,a,!0,e,u,f,g,y,_),e.context=Uh(null),r=e.current,a=St(),u=Jn(r),f=Rn(a,u),f.callback=t??null,Xn(r,f,u),e.current.lanes=u,Mi(e,u,a),Ct(e,a),e}function Ws(e,t,r,a){var u=t.current,f=St(),g=Jn(u);return r=Uh(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Xn(u,t,g),e!==null&&(sn(e,u,g,f),Es(e,u,g)),g}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ou(e,t){Lh(e,t),(e=e.alternate)&&Lh(e,t)}function tv(){return null}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Du(e){this._internalRoot=e}Vs.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Ws(e,t,null,null)},Vs.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){Ws(null,e,null,null)}),t[wn]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gn.length&&t!==0&&t<Gn[r].priority;r++);Gn.splice(r,0,e),r===0&&Ed(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function nv(e,t,r,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var P=Ys(g);f.call(P)}}var g=Mh(t,a,e,0,null,!1,!1,"",Bh);return e._reactRootContainer=g,e[wn]=g.current,Xi(e.nodeType===8?e.parentNode:e),Tr(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var y=a;a=function(){var P=Ys(_);y.call(P)}}var _=Nu(e,0,!1,null,null,!1,!1,"",Bh);return e._reactRootContainer=_,e[wn]=_.current,Xi(e.nodeType===8?e.parentNode:e),Tr(function(){Ws(t,_,r,a)}),_}function Xs(e,t,r,a,u){var f=r._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var y=u;u=function(){var _=Ys(g);y.call(_)}}Ws(t,g,e,u)}else g=nv(r,t,e,u,a);return Ys(g)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ui(t.pendingLanes);r!==0&&(rl(t,r|1),Ct(t,Ke()),(Ae&6)===0&&(si=Ke()+500,Vn()))}break;case 13:Tr(function(){var a=Cn(e,1);if(a!==null){var u=St();sn(a,e,1,u)}}),Ou(e,1)}},il=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=St();sn(t,e,134217728,r)}Ou(e,134217728)}},vd=function(e){if(e.tag===13){var t=Jn(e),r=Cn(e,t);if(r!==null){var a=St();sn(r,e,t,a)}Ou(e,t)}},yd=function(){return Ne},Sd=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}},Za=function(e,t,r){switch(t){case"input":if(En(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var u=ds(a);if(!u)throw Error(o(90));ue(a),En(a,u)}}}break;case"textarea":Xc(e,r);break;case"select":t=r.value,t!=null&&Fn(e,!!r.multiple,t,!1)}},rd=Tu,id=Tr;var rv={usingClientEntryPoint:!1,Events:[qi,Kr,ds,td,nd,Tu]},fo={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iv={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Vo=Qs.inject(iv),ln=Qs}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv,Rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(o(200));return ev(e,t,null,r)},Rt.createRoot=function(e,t){if(!Uu(e))throw Error(o(299));var r=!1,a="",u=Fh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Nu(e,1,!1,null,null,r,!1,a,u),e[wn]=t.current,Xi(e.nodeType===8?e.parentNode:e),new Du(t)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return Tr(e)},Rt.hydrate=function(e,t,r){if(!Ks(t))throw Error(o(200));return Xs(null,e,t,!0,r)},Rt.hydrateRoot=function(e,t,r){if(!Uu(e))throw Error(o(405));var a=r!=null&&r.hydratedSources||null,u=!1,f="",g=Fh;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=Mh(t,null,e,1,r??null,u,!1,f,g),e[wn]=t.current,Xi(e),a)for(e=0;e<a.length;e++)r=a[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Vs(t)},Rt.render=function(e,t,r){if(!Ks(t))throw Error(o(200));return Xs(null,e,t,!1,r)},Rt.unmountComponentAtNode=function(e){if(!Ks(e))throw Error(o(40));return e._reactRootContainer?(Tr(function(){Xs(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Rt.unstable_batchedUpdates=Tu,Rt.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Ks(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Xs(e,t,r,!1,a)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var Yh;function pv(){if(Yh)return Fu.exports;Yh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Fu.exports=hv(),Fu.exports}var Vh;function gv(){if(Vh)return Zs;Vh=1;var n=pv();return Zs.createRoot=n.createRoot,Zs.hydrateRoot=n.hydrateRoot,Zs}var mv=gv();const vv=qp(mv),Jp=me.createContext(void 0),yv=({initialAppState:n,children:i})=>{const[o,s]=me.useState(n),[l,c]=me.useState(void 0),d=(h,p)=>{s(h),h==="gameOver"&&p?c(p):h!=="gameOver"&&c(void 0)};return Pe.jsx(Jp.Provider,{value:{appState:o,setAppState:d,gameOverDetails:l},children:i})},Ma=()=>{const n=me.useContext(Jp);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var mt=function(){return mt=Object.assign||function(i){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},mt.apply(this,arguments)};function ko(n,i,o){if(o||arguments.length===2)for(var s=0,l=i.length,c;s<l;s++)(c||!(s in i))&&(c||(c=Array.prototype.slice.call(i,0,s)),c[s]=i[s]);return n.concat(c||Array.prototype.slice.call(i))}var He="-ms-",Ao="-moz-",ke="-webkit-",bp="comm",La="rule",_c="decl",Sv="@import",eg="@keyframes",_v="@layer",tg=Math.abs,Ec=String.fromCharCode,ic=Object.assign;function Ev(n,i){return it(n,0)^45?(((i<<2^it(n,0))<<2^it(n,1))<<2^it(n,2))<<2^it(n,3):0}function ng(n){return n.trim()}function Dn(n,i){return(n=i.exec(n))?n[0]:n}function he(n,i,o){return n.replace(i,o)}function pa(n,i,o){return n.indexOf(i,o)}function it(n,i){return n.charCodeAt(i)|0}function vi(n,i,o){return n.slice(i,o)}function pn(n){return n.length}function rg(n){return n.length}function So(n,i){return i.push(n),n}function wv(n,i){return n.map(i).join("")}function Kh(n,i){return n.filter(function(o){return!Dn(o,i)})}var Fa=1,yi=1,ig=0,Qt=0,qe=0,Ii="";function Ba(n,i,o,s,l,c,d,h){return{value:n,root:i,parent:o,type:s,props:l,children:c,line:Fa,column:yi,length:d,return:"",siblings:h}}function sr(n,i){return ic(Ba("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},i)}function li(n){for(;n.root;)n=sr(n.root,{children:[n]});So(n,n.siblings)}function Av(){return qe}function Tv(){return qe=Qt>0?it(Ii,--Qt):0,yi--,qe===10&&(yi=1,Fa--),qe}function an(){return qe=Qt<ig?it(Ii,Qt++):0,yi++,qe===10&&(yi=1,Fa++),qe}function Fr(){return it(Ii,Qt)}function ga(){return Qt}function Ha(n,i){return vi(Ii,n,i)}function oc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Iv(n){return Fa=yi=1,ig=pn(Ii=n),Qt=0,[]}function Cv(n){return Ii="",n}function xu(n){return ng(Ha(Qt-1,sc(n===91?n+2:n===40?n+1:n)))}function Rv(n){for(;(qe=Fr())&&qe<33;)an();return oc(n)>2||oc(qe)>3?"":" "}function kv(n,i){for(;--i&&an()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return Ha(n,ga()+(i<6&&Fr()==32&&an()==32))}function sc(n){for(;an();)switch(qe){case n:return Qt;case 34:case 39:n!==34&&n!==39&&sc(qe);break;case 40:n===41&&sc(n);break;case 92:an();break}return Qt}function Pv(n,i){for(;an()&&n+qe!==57;)if(n+qe===84&&Fr()===47)break;return"/*"+Ha(i,Qt-1)+"*"+Ec(n===47?n:an())}function Nv(n){for(;!oc(Fr());)an();return Ha(n,Qt)}function Ov(n){return Cv(ma("",null,null,null,[""],n=Iv(n),0,[0],n))}function ma(n,i,o,s,l,c,d,h,p){for(var v=0,m=0,S=d,A=0,R=0,O=0,N=1,T=1,D=1,k=0,$="",G=l,b=c,B=s,x=$;T;)switch(O=k,k=an()){case 40:if(O!=108&&it(x,S-1)==58){pa(x+=he(xu(k),"&","&\f"),"&\f",tg(v?h[v-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:x+=xu(k);break;case 9:case 10:case 13:case 32:x+=Rv(O);break;case 92:x+=kv(ga()-1,7);continue;case 47:switch(Fr()){case 42:case 47:So(Dv(Pv(an(),ga()),i,o,p),p);break;default:x+="/"}break;case 123*N:h[v++]=pn(x)*D;case 125*N:case 59:case 0:switch(k){case 0:case 125:T=0;case 59+m:D==-1&&(x=he(x,/\f/g,"")),R>0&&pn(x)-S&&So(R>32?Qh(x+";",s,o,S-1,p):Qh(he(x," ","")+";",s,o,S-2,p),p);break;case 59:x+=";";default:if(So(B=Xh(x,i,o,v,m,l,h,$,G=[],b=[],S,c),c),k===123)if(m===0)ma(x,i,B,B,G,c,S,h,b);else switch(A===99&&it(x,3)===110?100:A){case 100:case 108:case 109:case 115:ma(n,B,B,s&&So(Xh(n,B,B,0,0,l,h,$,l,G=[],S,b),b),l,b,S,h,s?G:b);break;default:ma(x,B,B,B,[""],b,0,h,b)}}v=m=R=0,N=D=1,$=x="",S=d;break;case 58:S=1+pn(x),R=O;default:if(N<1){if(k==123)--N;else if(k==125&&N++==0&&Tv()==125)continue}switch(x+=Ec(k),k*N){case 38:D=m>0?1:(x+="\f",-1);break;case 44:h[v++]=(pn(x)-1)*D,D=1;break;case 64:Fr()===45&&(x+=xu(an())),A=Fr(),m=S=pn($=x+=Nv(ga())),k++;break;case 45:O===45&&pn(x)==2&&(N=0)}}return c}function Xh(n,i,o,s,l,c,d,h,p,v,m,S){for(var A=l-1,R=l===0?c:[""],O=rg(R),N=0,T=0,D=0;N<s;++N)for(var k=0,$=vi(n,A+1,A=tg(T=d[N])),G=n;k<O;++k)(G=ng(T>0?R[k]+" "+$:he($,/&\f/g,R[k])))&&(p[D++]=G);return Ba(n,i,o,l===0?La:h,p,v,m,S)}function Dv(n,i,o,s){return Ba(n,i,o,bp,Ec(Av()),vi(n,2,-2),0,s)}function Qh(n,i,o,s,l){return Ba(n,i,o,_c,vi(n,0,s),vi(n,s+1,-1),s,l)}function og(n,i,o){switch(Ev(n,i)){case 5103:return ke+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+n+n;case 4789:return Ao+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+n+Ao+n+He+n+n;case 5936:switch(it(n,i+11)){case 114:return ke+n+He+he(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ke+n+He+he(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ke+n+He+he(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return ke+n+He+n+n;case 6165:return ke+n+He+"flex-"+n+n;case 5187:return ke+n+he(n,/(\w+).+(:[^]+)/,ke+"box-$1$2"+He+"flex-$1$2")+n;case 5443:return ke+n+He+"flex-item-"+he(n,/flex-|-self/g,"")+(Dn(n,/flex-|baseline/)?"":He+"grid-row-"+he(n,/flex-|-self/g,""))+n;case 4675:return ke+n+He+"flex-line-pack"+he(n,/align-content|flex-|-self/g,"")+n;case 5548:return ke+n+He+he(n,"shrink","negative")+n;case 5292:return ke+n+He+he(n,"basis","preferred-size")+n;case 6060:return ke+"box-"+he(n,"-grow","")+ke+n+He+he(n,"grow","positive")+n;case 4554:return ke+he(n,/([^-])(transform)/g,"$1"+ke+"$2")+n;case 6187:return he(he(he(n,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),n,"")+n;case 5495:case 3959:return he(n,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return he(he(n,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+He+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+n+n;case 4200:if(!Dn(n,/flex-|baseline/))return He+"grid-column-align"+vi(n,i)+n;break;case 2592:case 3360:return He+he(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(s,l){return i=l,Dn(s.props,/grid-\w+-end/)})?~pa(n+(o=o[i].value),"span",0)?n:He+he(n,"-start","")+n+He+"grid-row-span:"+(~pa(o,"span",0)?Dn(o,/\d+/):+Dn(o,/\d+/)-+Dn(n,/\d+/))+";":He+he(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(s){return Dn(s.props,/grid-\w+-start/)})?n:He+he(he(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return he(n,/(.+)-inline(.+)/,ke+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pn(n)-1-i>6)switch(it(n,i+1)){case 109:if(it(n,i+4)!==45)break;case 102:return he(n,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Ao+(it(n,i+3)==108?"$3":"$2-$3"))+n;case 115:return~pa(n,"stretch",0)?og(he(n,"stretch","fill-available"),i,o)+n:n}break;case 5152:case 5920:return he(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,d,h,p,v){return He+l+":"+c+v+(d?He+l+"-span:"+(h?p:+p-+c)+v:"")+n});case 4949:if(it(n,i+6)===121)return he(n,":",":"+ke)+n;break;case 6444:switch(it(n,it(n,14)===45?18:11)){case 120:return he(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ke+(it(n,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+He+"$2box$3")+n;case 100:return he(n,":",":"+He)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return he(n,"scroll-","scroll-snap-")+n}return n}function Ta(n,i){for(var o="",s=0;s<n.length;s++)o+=i(n[s],s,n,i)||"";return o}function Uv(n,i,o,s){switch(n.type){case _v:if(n.children.length)break;case Sv:case _c:return n.return=n.return||n.value;case bp:return"";case eg:return n.return=n.value+"{"+Ta(n.children,s)+"}";case La:if(!pn(n.value=n.props.join(",")))return""}return pn(o=Ta(n.children,s))?n.return=n.value+"{"+o+"}":""}function Mv(n){var i=rg(n);return function(o,s,l,c){for(var d="",h=0;h<i;h++)d+=n[h](o,s,l,c)||"";return d}}function Lv(n){return function(i){i.root||(i=i.return)&&n(i)}}function Fv(n,i,o,s){if(n.length>-1&&!n.return)switch(n.type){case _c:n.return=og(n.value,n.length,o);return;case eg:return Ta([sr(n,{value:he(n.value,"@","@"+ke)})],s);case La:if(n.length)return wv(o=n.props,function(l){switch(Dn(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":li(sr(n,{props:[he(l,/:(read-\w+)/,":"+Ao+"$1")]})),li(sr(n,{props:[l]})),ic(n,{props:Kh(o,s)});break;case"::placeholder":li(sr(n,{props:[he(l,/:(plac\w+)/,":"+ke+"input-$1")]})),li(sr(n,{props:[he(l,/:(plac\w+)/,":"+Ao+"$1")]})),li(sr(n,{props:[he(l,/:(plac\w+)/,He+"input-$1")]})),li(sr(n,{props:[l]})),ic(n,{props:Kh(o,s)});break}return""})}}var Bv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ft={},Si=typeof process<"u"&&Ft!==void 0&&(Ft.REACT_APP_SC_ATTR||Ft.SC_ATTR)||"data-styled",sg="active",ag="data-styled-version",xa="6.1.13",wc=`/*!sc*/
`,Ia=typeof window<"u"&&"HTMLElement"in window,Hv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ft!==void 0&&Ft.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ft.REACT_APP_SC_DISABLE_SPEEDY!==""?Ft.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ft.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ft!==void 0&&Ft.SC_DISABLE_SPEEDY!==void 0&&Ft.SC_DISABLE_SPEEDY!==""&&Ft.SC_DISABLE_SPEEDY!=="false"&&Ft.SC_DISABLE_SPEEDY),xv={},Ga=Object.freeze([]),_i=Object.freeze({});function lg(n,i,o){return o===void 0&&(o=_i),n.theme!==o.theme&&n.theme||i||o.theme}var ug=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Gv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zv=/(^-|-$)/g;function Zh(n){return n.replace(Gv,"-").replace(zv,"")}var $v=/(a)(d)/gi,qs=52,qh=function(n){return String.fromCharCode(n+(n>25?39:97))};function ac(n){var i,o="";for(i=Math.abs(n);i>qs;i=i/qs|0)o=qh(i%qs)+o;return(qh(i%qs)+o).replace($v,"$1-$2")}var Gu,cg=5381,pi=function(n,i){for(var o=i.length;o;)n=33*n^i.charCodeAt(--o);return n},dg=function(n){return pi(cg,n)};function fg(n){return ac(dg(n)>>>0)}function jv(n){return n.displayName||n.name||"Component"}function zu(n){return typeof n=="string"&&!0}var hg=typeof Symbol=="function"&&Symbol.for,pg=hg?Symbol.for("react.memo"):60115,Wv=hg?Symbol.for("react.forward_ref"):60112,Yv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Vv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Kv=((Gu={})[Wv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gu[pg]=gg,Gu);function Jh(n){return("type"in(i=n)&&i.type.$$typeof)===pg?gg:"$$typeof"in n?Kv[n.$$typeof]:Yv;var i}var Xv=Object.defineProperty,Qv=Object.getOwnPropertyNames,bh=Object.getOwnPropertySymbols,Zv=Object.getOwnPropertyDescriptor,qv=Object.getPrototypeOf,ep=Object.prototype;function mg(n,i,o){if(typeof i!="string"){if(ep){var s=qv(i);s&&s!==ep&&mg(n,s,o)}var l=Qv(i);bh&&(l=l.concat(bh(i)));for(var c=Jh(n),d=Jh(i),h=0;h<l.length;++h){var p=l[h];if(!(p in Vv||o&&o[p]||d&&p in d||c&&p in c)){var v=Zv(i,p);try{Xv(n,p,v)}catch{}}}}return n}function Ei(n){return typeof n=="function"}function Ac(n){return typeof n=="object"&&"styledComponentId"in n}function Ur(n,i){return n&&i?"".concat(n," ").concat(i):n||i||""}function lc(n,i){if(n.length===0)return"";for(var o=n[0],s=1;s<n.length;s++)o+=n[s];return o}function Po(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function uc(n,i,o){if(o===void 0&&(o=!1),!o&&!Po(n)&&!Array.isArray(n))return i;if(Array.isArray(i))for(var s=0;s<i.length;s++)n[s]=uc(n[s],i[s]);else if(Po(i))for(var s in i)n[s]=uc(n[s],i[s]);return n}function Tc(n,i){Object.defineProperty(n,"toString",{value:i})}function zo(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var Jv=function(){function n(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return n.prototype.indexOfGroup=function(i){for(var o=0,s=0;s<i;s++)o+=this.groupSizes[s];return o},n.prototype.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;i>=c;)if((c<<=1)<0)throw zo(16,"".concat(i));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var d=l;d<c;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(i+1),p=(d=0,o.length);d<p;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[i]++,h++)},n.prototype.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],s=this.indexOfGroup(i),l=s+o;this.groupSizes[i]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var s=this.groupSizes[i],l=this.indexOfGroup(i),c=l+s,d=l;d<c;d++)o+="".concat(this.tag.getRule(d)).concat(wc);return o},n}(),va=new Map,Ca=new Map,ya=1,Js=function(n){if(va.has(n))return va.get(n);for(;Ca.has(ya);)ya++;var i=ya++;return va.set(n,i),Ca.set(i,n),i},bv=function(n,i){ya=i+1,va.set(n,i),Ca.set(i,n)},ey="style[".concat(Si,"][").concat(ag,'="').concat(xa,'"]'),ty=new RegExp("^".concat(Si,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ny=function(n,i,o){for(var s,l=o.split(","),c=0,d=l.length;c<d;c++)(s=l[c])&&n.registerName(i,s)},ry=function(n,i){for(var o,s=((o=i.textContent)!==null&&o!==void 0?o:"").split(wc),l=[],c=0,d=s.length;c<d;c++){var h=s[c].trim();if(h){var p=h.match(ty);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(bv(m,v),ny(n,m,p[3]),n.getTag().insertRules(v,l)),l.length=0}else l.push(h)}}},tp=function(n){for(var i=document.querySelectorAll(ey),o=0,s=i.length;o<s;o++){var l=i[o];l&&l.getAttribute(Si)!==sg&&(ry(n,l),l.parentNode&&l.parentNode.removeChild(l))}};function iy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var vg=function(n){var i=document.head,o=n||i,s=document.createElement("style"),l=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Si,"]")));return p[p.length-1]}(o),c=l!==void 0?l.nextSibling:null;s.setAttribute(Si,sg),s.setAttribute(ag,xa);var d=iy();return d&&s.setAttribute("nonce",d),o.insertBefore(s,c),s},oy=function(){function n(i){this.element=vg(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var d=s[l];if(d.ownerNode===o)return d}throw zo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},n.prototype.getRule=function(i){var o=this.sheet.cssRules[i];return o&&o.cssText?o.cssText:""},n}(),sy=function(){function n(i){this.element=vg(i),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(i,o){if(i<=this.length&&i>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[i]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},n.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},n}(),ay=function(){function n(i){this.rules=[],this.length=0}return n.prototype.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},n.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},n.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},n}(),np=Ia,ly={isServer:!Ia,useCSSOMInjection:!Hv},Ra=function(){function n(i,o,s){i===void 0&&(i=_i),o===void 0&&(o={});var l=this;this.options=mt(mt({},ly),i),this.gs=o,this.names=new Map(s),this.server=!!i.isServer,!this.server&&Ia&&np&&(np=!1,tp(this)),Tc(this,function(){return function(c){for(var d=c.getTag(),h=d.length,p="",v=function(S){var A=function(D){return Ca.get(D)}(S);if(A===void 0)return"continue";var R=c.names.get(A),O=d.getGroup(S);if(R===void 0||!R.size||O.length===0)return"continue";var N="".concat(Si,".g").concat(S,'[id="').concat(A,'"]'),T="";R!==void 0&&R.forEach(function(D){D.length>0&&(T+="".concat(D,","))}),p+="".concat(O).concat(N,'{content:"').concat(T,'"}').concat(wc)},m=0;m<h;m++)v(m);return p}(l)})}return n.registerId=function(i){return Js(i)},n.prototype.rehydrate=function(){!this.server&&Ia&&tp(this)},n.prototype.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new n(mt(mt({},this.options),i),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(i=function(o){var s=o.useCSSOMInjection,l=o.target;return o.isServer?new ay(l):s?new oy(l):new sy(l)}(this.options),new Jv(i)));var i},n.prototype.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},n.prototype.registerName=function(i,o){if(Js(i),this.names.has(i))this.names.get(i).add(o);else{var s=new Set;s.add(o),this.names.set(i,s)}},n.prototype.insertRules=function(i,o,s){this.registerName(i,o),this.getTag().insertRules(Js(i),s)},n.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},n.prototype.clearRules=function(i){this.getTag().clearGroup(Js(i)),this.clearNames(i)},n.prototype.clearTag=function(){this.tag=void 0},n}(),uy=/&/g,cy=/^\s*\/\/.*$/gm;function yg(n,i){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(i," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(i," ")),o.props=o.props.map(function(s){return"".concat(i," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=yg(o.children,i)),o})}function dy(n){var i,o,s,l=_i,c=l.options,d=c===void 0?_i:c,h=l.plugins,p=h===void 0?Ga:h,v=function(A,R,O){return O.startsWith(o)&&O.endsWith(o)&&O.replaceAll(o,"").length>0?".".concat(i):A},m=p.slice();m.push(function(A){A.type===La&&A.value.includes("&")&&(A.props[0]=A.props[0].replace(uy,o).replace(s,v))}),d.prefix&&m.push(Fv),m.push(Uv);var S=function(A,R,O,N){R===void 0&&(R=""),O===void 0&&(O=""),N===void 0&&(N="&"),i=N,o=R,s=new RegExp("\\".concat(o,"\\b"),"g");var T=A.replace(cy,""),D=Ov(O||R?"".concat(O," ").concat(R," { ").concat(T," }"):T);d.namespace&&(D=yg(D,d.namespace));var k=[];return Ta(D,Mv(m.concat(Lv(function($){return k.push($)})))),k};return S.hash=p.length?p.reduce(function(A,R){return R.name||zo(15),pi(A,R.name)},cg).toString():"",S}var fy=new Ra,cc=dy(),Sg=mn.createContext({shouldForwardProp:void 0,styleSheet:fy,stylis:cc});Sg.Consumer;mn.createContext(void 0);function dc(){return me.useContext(Sg)}var hy=function(){function n(i,o){var s=this;this.inject=function(l,c){c===void 0&&(c=cc);var d=s.name+c.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,c(s.rules,d,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=o,Tc(this,function(){throw zo(12,String(s.name))})}return n.prototype.getName=function(i){return i===void 0&&(i=cc),this.name+i.hash},n}(),py=function(n){return n>="A"&&n<="Z"};function rp(n){for(var i="",o=0;o<n.length;o++){var s=n[o];if(o===1&&s==="-"&&n[0]==="-")return n;py(s)?i+="-"+s.toLowerCase():i+=s}return i.startsWith("ms-")?"-"+i:i}var _g=function(n){return n==null||n===!1||n===""},Eg=function(n){var i,o,s=[];for(var l in n){var c=n[l];n.hasOwnProperty(l)&&!_g(c)&&(Array.isArray(c)&&c.isCss||Ei(c)?s.push("".concat(rp(l),":"),c,";"):Po(c)?s.push.apply(s,ko(ko(["".concat(l," {")],Eg(c),!1),["}"],!1)):s.push("".concat(rp(l),": ").concat((i=l,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||i in Bv||i.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function cr(n,i,o,s){if(_g(n))return[];if(Ac(n))return[".".concat(n.styledComponentId)];if(Ei(n)){if(!Ei(c=n)||c.prototype&&c.prototype.isReactComponent||!i)return[n];var l=n(i);return cr(l,i,o,s)}var c;return n instanceof hy?o?(n.inject(o,s),[n.getName(s)]):[n]:Po(n)?Eg(n):Array.isArray(n)?Array.prototype.concat.apply(Ga,n.map(function(d){return cr(d,i,o,s)})):[n.toString()]}function wg(n){for(var i=0;i<n.length;i+=1){var o=n[i];if(Ei(o)&&!Ac(o))return!1}return!0}var gy=dg(xa),my=function(){function n(i,o,s){this.rules=i,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&wg(i),this.componentId=o,this.baseHash=pi(gy,o),this.baseStyle=s,Ra.registerId(o)}return n.prototype.generateAndInjectStyles=function(i,o,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))l=Ur(l,this.staticRulesId);else{var c=lc(cr(this.rules,i,o,s)),d=ac(pi(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(c,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}l=Ur(l,d),this.staticRulesId=d}else{for(var p=pi(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var S=this.rules[m];if(typeof S=="string")v+=S;else if(S){var A=lc(cr(S,i,o,s));p=pi(p,A+m),v+=A}}if(v){var R=ac(p>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,s(v,".".concat(R),void 0,this.componentId)),l=Ur(l,R)}}return l},n}(),Ic=mn.createContext(void 0);Ic.Consumer;var $u={};function vy(n,i,o){var s=Ac(n),l=n,c=!zu(n),d=i.attrs,h=d===void 0?Ga:d,p=i.componentId,v=p===void 0?function(G,b){var B=typeof G!="string"?"sc":Zh(G);$u[B]=($u[B]||0)+1;var x="".concat(B,"-").concat(fg(xa+B+$u[B]));return b?"".concat(b,"-").concat(x):x}(i.displayName,i.parentComponentId):p,m=i.displayName,S=m===void 0?function(G){return zu(G)?"styled.".concat(G):"Styled(".concat(jv(G),")")}(n):m,A=i.displayName&&i.componentId?"".concat(Zh(i.displayName),"-").concat(i.componentId):i.componentId||v,R=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,O=i.shouldForwardProp;if(s&&l.shouldForwardProp){var N=l.shouldForwardProp;if(i.shouldForwardProp){var T=i.shouldForwardProp;O=function(G,b){return N(G,b)&&T(G,b)}}else O=N}var D=new my(o,A,s?l.componentStyle:void 0);function k(G,b){return function(B,x,J){var pe=B.attrs,Ge=B.componentStyle,Je=B.defaultProps,Ue=B.foldedComponentIds,Me=B.styledComponentId,Se=B.target,Ie=mn.useContext(Ic),de=dc(),se=B.shouldForwardProp||de.shouldForwardProp,j=lg(x,Ie,Je)||_i,V=function(ge,ae,fe){for(var ce,X=mt(mt({},ae),{className:void 0,theme:fe}),ie=0;ie<ge.length;ie+=1){var Re=Ei(ce=ge[ie])?ce(X):ce;for(var ue in Re)X[ue]=ue==="className"?Ur(X[ue],Re[ue]):ue==="style"?mt(mt({},X[ue]),Re[ue]):Re[ue]}return ae.className&&(X.className=Ur(X.className,ae.className)),X}(pe,x,j),W=V.as||Se,w={};for(var U in V)V[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&V.theme===j||(U==="forwardedAs"?w.as=V.forwardedAs:se&&!se(U,W)||(w[U]=V[U]));var re=function(ge,ae){var fe=dc(),ce=ge.generateAndInjectStyles(ae,fe.styleSheet,fe.stylis);return ce}(Ge,V),ee=Ur(Ue,Me);return re&&(ee+=" "+re),V.className&&(ee+=" "+V.className),w[zu(W)&&!ug.has(W)?"class":"className"]=ee,w.ref=J,me.createElement(W,w)}($,G,b)}k.displayName=S;var $=mn.forwardRef(k);return $.attrs=R,$.componentStyle=D,$.displayName=S,$.shouldForwardProp=O,$.foldedComponentIds=s?Ur(l.foldedComponentIds,l.styledComponentId):"",$.styledComponentId=A,$.target=s?l.target:n,Object.defineProperty($,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(G){this._foldedDefaultProps=s?function(b){for(var B=[],x=1;x<arguments.length;x++)B[x-1]=arguments[x];for(var J=0,pe=B;J<pe.length;J++)uc(b,pe[J],!0);return b}({},l.defaultProps,G):G}}),Tc($,function(){return".".concat($.styledComponentId)}),c&&mg($,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),$}function ip(n,i){for(var o=[n[0]],s=0,l=i.length;s<l;s+=1)o.push(i[s],n[s+1]);return o}var op=function(n){return Object.assign(n,{isCss:!0})};function Ag(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(Ei(n)||Po(n))return op(cr(ip(Ga,ko([n],i,!0))));var s=n;return i.length===0&&s.length===1&&typeof s[0]=="string"?cr(s):op(cr(ip(s,i)))}function fc(n,i,o){if(o===void 0&&(o=_i),!i)throw zo(1,i);var s=function(l){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return n(i,o,Ag.apply(void 0,ko([l],c,!1)))};return s.attrs=function(l){return fc(n,i,mt(mt({},o),{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return fc(n,i,mt(mt({},o),l))},s}var Tg=function(n){return fc(vy,n)},Sn=Tg;ug.forEach(function(n){Sn[n]=Tg(n)});var yy=function(){function n(i,o){this.rules=i,this.componentId=o,this.isStatic=wg(i),Ra.registerId(this.componentId+1)}return n.prototype.createStyles=function(i,o,s,l){var c=l(lc(cr(this.rules,o,s,l)),""),d=this.componentId+i;s.insertRules(d,d,c)},n.prototype.removeStyles=function(i,o){o.clearRules(this.componentId+i)},n.prototype.renderStyles=function(i,o,s,l){i>2&&Ra.registerId(this.componentId+i),this.removeStyles(i,s),this.createStyles(i,o,s,l)},n}();function Sy(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=Ag.apply(void 0,ko([n],i,!1)),l="sc-global-".concat(fg(JSON.stringify(s))),c=new yy(s,l),d=function(p){var v=dc(),m=mn.useContext(Ic),S=mn.useRef(v.styleSheet.allocateGSInstance(l)).current;return v.styleSheet.server&&h(S,p,v.styleSheet,m,v.stylis),mn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(S,p,v.styleSheet,m,v.stylis),function(){return c.removeStyles(S,v.styleSheet)}},[S,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,S,A){if(c.isStatic)c.renderStyles(p,xv,m,A);else{var R=mt(mt({},v),{theme:lg(v,S,d.defaultProps)});c.renderStyles(p,R,m,A)}}return mn.memo(d)}function Ig(n,i){var o=me.useRef(null),s=me.useRef(!1),l=me.useRef(n);l.current=n;var c=me.useCallback(function(h){s.current&&(l.current(h),o.current=requestAnimationFrame(c))},[]),d=me.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(c))},function(){return s.current}]},[]);return me.useEffect(function(){return d[0]},[]),d}function _y(n,i,o,s,l){var d;(d=n.onExit)==null||d.call(n,s,i);const c=l.find(({id:h})=>h===i);return c!=null&&c.onEnter?c.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function Ey(n,i){return i.find(({id:o})=>o===n)}function wy(n,i){return n!==i}function Ay(n){console.warn(`No handler found for state: ${n}`)}const To="bushGrowing",Dr="bushFull",Sa="bushSpreading",No="bushDying",Vt=24,Kt=10,Mr=3e3,Lr=3e3,Cc=2,Ty=5,Iy=3,Cy=12,Ry=940,ky=.7,hc=20,sp=90,Cg=45,Rg=240,kg=10,Oo=80,Py=3,po=5,Zt=150,Rc=Zt*.8,Ny=Zt*.2,Pt=Zt*.95,Do=30,Pg=10,Oy=10,Dy=.5,ct=30,wi=ct*.75,Ng=50,Uy=20,My=Oo*.8,Ly=.7,Fy=16,Ai=40,kc=16,By=72/3,ap=24,Hy=1.25,xy=1.5,za=Zt*.6,Pc=50,Gy=1,zy=350,Og=Oo*.65,$y=80,jy=50,Wy=1,Yy=128,Dg=10,lp=100,Vy=35,$a=ct,Ug=.5,Mg=2.5,Ky=5,Xy=.5,Qy=1.5,Zy=.1,qy=.5,Jy=1.5,by=.25,eS=2.5,tS=45,nS=.05,ka=5,rS=.5,iS=100,oS=300,Lg=30,Uo=.5,up=Zt*.6,sS=Zt*.25,aS=Zt*.7,lS=Zt*.8,uS=100,cS=2,dS=400,fS=1e3,hS=Zt*.85,pS=100,gS=3,mS=96,vS=24,yS=600,Fg=600,SS=1,_S=24,ES=1,wS=.5,cp=24,dp=12,fp=40,AS=.35,TS=24,hp=500,IS=1.2,CS=10,RS=150,kS=200,PS=100,NS=100,OS=.7,DS=300,US=100,MS=120,Pa=10,Bg=250,Hg=.15,xg=200,yn=30,Nc=yn*.6,Oc="#4CAF50",Gg="#FF5722",zg="#9C27B0",LS="#2196F3",$g="#FFC107",FS="#FFD700",jg="#DC143C",BS="#FFFFFF",HS=[5,5],Wg=5,pp=20,xS=20,GS=16,zS=10,$S=16,jS=16,gp=["","","","","","","","","",""],mp=8,WS="#FFFFFF",ar=18,kt=15,YS="rgba(0, 0, 0, 0.7)",VS=4,nr=150,Lt=15,Nn=10,gi="#555",KS="#f44336",XS="#4CAF50",QS="#2196F3",ZS="#FFC107",bs=16,qS=9,kr=32,ea=28,JS=10,bS=8,e1=8,t1=8,ta=28,na=40,n1="rgba(255, 215, 0, 0.7)",r1="rgba(0, 0, 0, 0.3)",rr=10,vp=8,ju=11,ir=20,Wu=40,yp=5,i1=10,o1="#FFA500",s1="#808080",Io=120,a1=30,l1=20,_a="#2d3748",Ea="#ffffff",wa="#4a5568",u1=5,c1="#3a445892",d1="rgba(0, 0, 0, 0.8)",f1="#FFFFFF",Sp=14,_p=8,Ep=-15,h1=60,p1=-50,g1=10,Yu=12,wp=10,m1="rgba(0, 0, 0, 0.5)",v1="#4CAF50",y1="#F44336",S1="#FFC107",_1="rgba(255, 255, 255, 0.2)",Ap="#FFFFFF",E1="#FF6B6B",w1=5,Yg=30,go=50,ra=8,Tp=10,A1="rgba(0, 0, 0, 0.5)",T1="#FFFFFF",I1=33,C1=400,R1=20,k1=10,P1="rgba(0, 0, 0, 0.7)",N1="#FFFFFF",Vu=20,Ip=16,O1=.5,Cp=5,Vg="#FFD700",D1=40,U1=4,M1=3,L1=5,Xt=1,_o=3,F1=70,Rp=600,B1=1.5,Kg=.1,H1=15,x1=5e3,Pr=80,ia=10;function vt(n,i,o,s,l){const c={id:n.nextVisualEffectId,type:i,position:o,startTime:n.time,duration:s,entityId:l};return n.visualEffects.push(c),n.nextVisualEffectId++,c.id}var Te=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n))(Te||{}),fr=(n=>(n.Berry="berry",n.Meat="meat",n))(fr||{});const Xg={berry:"",meat:""},G1={id:To,update:(n,i)=>{const{entity:o,updateContext:s}=i,l=s.deltaTime*(Vt/Kt);return o.age+=l,o.age>=o.lifespan?{nextState:No,data:{...n,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Te.BushClaimLost,o.position,Xt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=l,o.timeSinceLastBerryRegen>=Cy&&o.food.length<o.maxFood&&(o.food.push({type:fr.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Dr,data:{...n,enteredAt:s.gameState.time,previousState:To}}:{nextState:To,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},z1={id:Dr,update:(n,i)=>{const{entity:o,updateContext:s}=i,l=s.deltaTime*(Vt/Kt);return o.age+=l,o.age>=o.lifespan?{nextState:No,data:{...n,enteredAt:s.gameState.time,previousState:Dr}}:o.food.length<o.maxFood?{nextState:To,data:{...n,enteredAt:s.gameState.time,previousState:Dr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Te.BushClaimLost,o.position,Xt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=l,o.timeSinceLastSpreadAttempt>=sp&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=sp&&Math.random()<o.spreadChance)?{nextState:Sa,data:{...n,enteredAt:s.gameState.time,previousState:Dr}}:{nextState:Dr,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})};function dr(n,i){return{x:n.x+i.x,y:n.y+i.y}}function $1(n,i){return{x:n.x-i.x,y:n.y-i.y}}function vn(n,i){return{x:n.x*i,y:n.y*i}}function Mo(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function qt(n){const i=Mo(n);return i===0?{x:0,y:0}:vn(n,1/i)}function Dc(n,i,o){return{x:n.x+(i.x-n.x)*o,y:n.y+(i.y-n.y)*o}}function Uc(n){if(n.length===0)return{x:0,y:0};const i=n.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:i.x/n.length,y:i.y/n.length}}function Bt(n,i,o,s){let l=i.x-n.x,c=i.y-n.y;return Math.abs(l)>o/2&&(l=l-Math.sign(l)*o),Math.abs(c)>s/2&&(c=c-Math.sign(c)*s),{x:l,y:c}}function Mc(n,i,o){const s=Bt(n,i,o.width,o.height);return qt(s)}function ye(n,i,o,s){const l=Bt(n,i,o,s);return Mo(l)}function j1(n,i){return n.x*i.x+n.y*i.y}function W1(n,i){const o=j1(n,i),s=Mo(n),l=Mo(i);if(s===0||l===0)return 0;const c=Math.max(-1,Math.min(1,o/(s*l)));return Math.acos(c)}function Y1(n,i,o){const s=Math.max(0,Math.min(1,o)),l={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},c={r:parseInt(i.substring(1,3),16),g:parseInt(i.substring(3,5),16),b:parseInt(i.substring(5,7),16)},d=Math.round(l.r+(c.r-l.r)*s),h=Math.round(l.g+(c.g-l.g)*s),p=Math.round(l.b+(c.b-l.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(p)}`}var ot=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n.FeedChildren="FeedChildren",n))(ot||{});const Qg={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:"",TribeSplit:"",FeedChildren:""};var hi=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(hi||{});const mo={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var _e=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n.ToggleProcreationBehavior="ToggleProcreationBehavior",n.TogglePlantingBehavior="TogglePlantingBehavior",n.ToggleGatheringBehavior="ToggleGatheringBehavior",n.ToggleAttackBehavior="ToggleAttackBehavior",n.ToggleCallToAttackBehavior="ToggleCallToAttackBehavior",n.ToggleFeedChildrenBehavior="ToggleFeedChildrenBehavior",n))(_e||{});const Ku=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,V1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,K1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,kp=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,X1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,Q1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,Z1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,q1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,J1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,b1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Oe=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.GameOver=10]="GameOver",n[n.ButtonClick=11]="ButtonClick",n[n.SoundTrack1=12]="SoundTrack1",n))(Oe||{});const e_=new Map([[0,Ku],[1,V1],[2,K1],[3,kp],[4,X1],[5,Q1],[6,Z1],[10,q1],[11,J1],[7,Ku],[8,Ku],[9,kp],[12,b1]]);let vo,Lo;function t_(){if(!(typeof window>"u"))return Lo}function Lc(){if(!(typeof window>"u"))return!vo&&typeof window.AudioContext=="function"&&(vo=new window.AudioContext,Lo=vo.createGain(),Lo.connect(vo.destination),Eo(.1,!1)),vo}function Eo(n,i){Lo&&(Lo.gain.value=i?0:n/10)}const Zg=new Map;let oa=!1,Pp=!1;async function n_(){if(Pp||oa)return;const n=Lc();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),oa=!0,console.log("Starting sound loading...");const i=[];e_.forEach((o,s)=>{const l=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>n.decodeAudioData(c)).then(c=>{Zg.set(s,c)}).catch(c=>{console.error(`Error loading sound ${Oe[s]} from ${o}:`,c)});i.push(l)});try{await Promise.all(i),Pp=!0,oa=!1,console.log("All sounds loaded successfully.")}catch(o){oa=!1,console.error("An error occurred while loading sounds:",o)}}const Co=new Map;function Fc(n,i){const o=Lc(),s=t_();if(!o||!s||s.gain.value===0&&(i==null?void 0:i.trackId)===void 0)return;o.state==="suspended"&&o.resume();const l=Zg.get(n);if(!l){console.warn(`Sound buffer not found for type: ${Oe[n]}`);return}if(i!=null&&i.trackId&&Co.has(i.trackId))return;const c=o.createBufferSource();c.buffer=l,c.loop=(i==null?void 0:i.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let p=d;if(i!=null&&i.position&&(i!=null&&i.listenerPosition)&&(i!=null&&i.worldDimensions)){const v=Bt(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height),m=ye(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height);if(m>Rp)return;const S=1-Math.pow(m/Rp,B1);d.gain.value=Math.max(0,S);const A=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(A)?0:A,d.connect(h),p=h}else{const v=n===Oe.GameOver?.4:n===Oe.SoundTrack1?1:.2;d.gain.value=v}c.connect(p),p.connect(s),c.start(0),i!=null&&i.trackId&&(Co.set(i.trackId,{sourceNode:c,gainNode:d}),c.onended=()=>{Co.delete(i.trackId)})}function Np(n,i=1){const o=Co.get(n),s=Lc();if(o&&s){const{sourceNode:l,gainNode:c}=o,d=s.currentTime;c.gain.setValueAtTime(c.gain.value,d),c.gain.linearRampToValueAtTime(0,d+i),l.stop(d+i),l.onended=null,Co.delete(n)}}function Ve(n,i,o){const s=gn(n.gameState);s&&Fc(i,{position:o,listenerPosition:s.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function qg(n,i){const o=[],s=n;if(i.food.length>0&&i.hunger>Rc&&o.push({type:ot.Eat,action:"eating",key:"f"}),i.food.length<i.maxFood){const d=ut(i,n,"berryBush",ct,v=>v.food.length>0),h=ut(i,n,"humanCorpse",ct,v=>v.food.length>0);let p=null;d&&h?p=ye(i.position,d.position,n.mapDimensions.width,n.mapDimensions.height)<=ye(i.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?d:h:p=d||h,p&&o.push({type:ot.GatherFood,action:"gathering",key:"e",targetEntity:p})}const l=ut(i,n,"human",ct,d=>{const h=d;return(h.id!==i.id&&h.gender!==i.gender&&h.isAdult&&i.isAdult&&h.hunger<Pt&&i.hunger<Pt&&(h.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=Ai:!i.isPregnant&&i.age<=Ai))??!1});l&&o.push({type:ot.Procreate,action:"procreating",key:"r",targetEntity:l});const c=ut(i,n,"human",$a,d=>d.id!==i.id&&d.leaderId!==i.leaderId);return c&&o.push({type:ot.Attack,action:"attacking",key:"q",targetEntity:c}),i.food.filter(d=>d.type===fr.Berry).length>=ka&&o.push({type:ot.PlantBush,action:"planting",key:"b"}),i.leaderId===i.id&&!i.isCallingToAttack&&Gc(i.position,i.id,s,Bg).length>0&&o.push({type:ot.CallToAttack,action:"callingToAttack",key:"v"}),Hc(i,n).canSplit&&o.push({type:ot.TribeSplit,action:"tribeSplitting",key:"k"}),o}function r_(n,i,o){return i.search.human.byRadius(n.position,o).filter(l=>{var c;return l.activeAction==="procreating"&&l.gender===n.gender&&typeof l.target=="number"&&((c=n.partnerIds)==null?void 0:c.includes(l.target))})[0]}function i_(n,i,o){if(!n.leaderId)return;const s=i,l=s.search.berryBush.byRadius(n.position,o).filter(c=>c.ownerId===n.id);for(const c of l)if(c.claimedUntil&&i.time<c.claimedUntil){const d=s.search.human.byRadius(c.position,ct);for(const h of d)if(!pc(h,n)&&h.activeAction==="gathering"&&h.target===c.id)return h}}function o_(n,i,o){const s=Na(n,i),l=i;for(const c of s){if(ye(n.position,c.position,i.mapDimensions.width,i.mapDimensions.height)>o)continue;const h=l.search.human.byProperty("attackTargetId",c.id);for(const p of h)if(p.leaderId!==n.leaderId)return{familyMember:c,aggressor:p}}}function s_(n,i){const s=i.search.human.byRadius(n.position,DS);let l,c=1/0;for(const d of s){if(d.id===n.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>OS||em(n,d,i))continue;const h=ye(n.position,d.position,i.mapDimensions.width,i.mapDimensions.height);h<c&&(c=h,l=d)}return l}function Bc(n,i,o,s){const l=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*i,d={x:Math.cos(l)*c,y:Math.sin(l)*c},h=dr(n,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Fo(n,i,o,s){const l=i,c={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},d=[...l.search.human.byRect(c),...l.search.berryBush.byRect(c),...l.search.humanCorpse.byRect(c)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(ye(n,h.position,i.mapDimensions.width,i.mapDimensions.height)<o+h.radius)return!0}return!1}function Jg(n,i,o,s,l){const c=i.mapDimensions.width,d=i.mapDimensions.height;if(!Fo(n,i,s,l))return n;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const S=m/v*2*Math.PI,A={x:Math.cos(S)*p,y:Math.sin(S)*p},R=dr(n,A),O={x:(R.x%c+c)%c,y:(R.y%d+d)%d};if(!Fo(O,i,s,l))return O}}return null}function a_(n,i){const o=ut(n,i,"berryBush",void 0,l=>l.ownerId===n.id);return o?Jg(o.position,i,iS,Lg,o.id):null}function ut(n,i,o,s,l){const c=i,d=s!==void 0?s:Math.max(i.mapDimensions.width,i.mapDimensions.height),h=c.search[o].byRadius(n.position,d);let p=null,v=d;for(const m of h){if(m.id===n.id||l&&!l(m))continue;const S=ye(n.position,m.position,i.mapDimensions.width,i.mapDimensions.height);S<v&&(v=S,p=m)}return p}function bg(n,i,o,s){return i.search[o].byRadius(n,s).length}function Op(n,i,o){return i.search.human.byRadius(n.position,o).filter(c=>{if(c.id===n.id||c.gender===n.gender||!c.isAdult||c.hunger>=Pt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const d=c.id===n.motherId||c.id===n.fatherId,h=n.id===c.motherId||n.id===c.fatherId;return!d&&!h})}function Bo(n){if(n.length===0)return;const i=n.filter(l=>l.gender==="male"),o=n.filter(l=>l.gender==="female"),s=(l,c)=>l.age!==c.age?c.age-l.age:l.id-c.id;if(i.sort(s),i.length>0)return i[0];if(o.sort(s),o.length>0)return o[0]}function gn(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Jt(n,i){const o=n,s=o.search.human.byProperty("motherId",i.id),l=o.search.human.byProperty("fatherId",i.id);return[...s,...l]}function l_(n,i){var d;const s=i.search.human.byProperty("activeAction","attacking");let l=null,c=1/0;for(const h of s){if(h.attackTargetId!==n)continue;const p=ye(h.position,((d=i.entities.entities.get(n))==null?void 0:d.position)||{x:0,y:0},i.mapDimensions.width,i.mapDimensions.height);p<c&&(l=h,c=p)}return l}function em(n,i,o){var l;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id||n.motherId&&n.motherId===i.motherId||n.fatherId&&n.fatherId===i.fatherId||(l=n.partnerIds)!=null&&l.includes(i.id))return!0;if(n.motherId){const c=o.entities.entities.get(n.motherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(n.fatherId){const c=o.entities.entities.get(n.fatherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(i.motherId){const c=o.entities.entities.get(i.motherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}if(i.fatherId){const c=o.entities.entities.get(i.fatherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}return!1}function pc(n,i){var c,d;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id)return!0;const o=n.motherId===i.motherId||n.fatherId===i.fatherId,s=i.motherId===n.motherId||i.fatherId===n.fatherId,l=((c=n.ancestorIds)==null?void 0:c.some(h=>i.ancestorIds.includes(h)))||((d=i.ancestorIds)==null?void 0:d.some(h=>n.ancestorIds.includes(h)));return o||s||l}function tm(n,i){const o=[];if(n.motherId){const s=i.entities.entities.get(n.motherId);s&&o.push(s)}if(n.fatherId){const s=i.entities.entities.get(n.fatherId);s&&o.push(s)}return o}function u_(n,i){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const s=i.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function c_(n,i){if(!n.isAdult&&n.fatherId){const o=i.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?u_(n,i):null}function Na(n,i){var s;const o=new Set;if(n.motherId){const l=i.entities.entities.get(n.motherId);l&&o.add(l)}if(n.fatherId){const l=i.entities.entities.get(n.fatherId);l&&o.add(l)}return(s=n.partnerIds)==null||s.forEach(l=>{const c=i.entities.entities.get(l);c&&o.add(c)}),Jt(i,n).forEach(l=>o.add(l)),Array.from(o)}let Xu=0;function gc(){const n=gp[Xu];return Xu=(Xu+1)%gp.length,n}function d_(n,i,o){const s=o.mapDimensions.width,l=o.mapDimensions.height,c=i.radius*2;for(let d=hp;d<s/2;d+=50)for(let h=0;h<10;h++){const p=Bc(n,d,s,l);if(!(ye(n,p,s,l)<hp)&&!Fo(p,o,c,i.id))return p}return null}function nm(n,i){const o=new Map;function s(l){const c=Jt(i,l);for(const d of c)o.has(d.id)||(o.set(d.id,d),s(d))}return s(n),Array.from(o.values())}function Hc(n,i){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=i.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=Bo(Jt(i,o));if(s&&s.id===n.id)return{canSplit:!1};const l=xc(n.leaderId,i);if(l.length<fp)return{canSplit:!1};const d=nm(n,i).length+1,h=Math.min(l.length*AS,fp);return{canSplit:d>=h,progress:d/h}}function rm(n,i){if(!Hc(n,i).canSplit)return;const o=gc(),s=nm(n,i);n.leaderId=n.id,n.tribeBadge=o;for(const c of s)c.leaderId=n.id,c.tribeBadge=o;Ve({gameState:i},Oe.TribeSplit,n.position)}function xc(n,i){return i.search.human.byProperty("leaderId",n)}function Gc(n,i,o,s){return o.search.human.byRadius(n,s).filter(c=>c.leaderId!==i&&c.id!==i)}function f_(n,i,o){const s=o.search.human.byProperty("leaderId",n);let l=0;for(const c of s)c.attackTargetId===i&&l++;return l}function h_(n,i){var c;const o=new Map,s=Array.from(n.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(c=o.get(d.leaderId))==null||c.members.push(d));const l=Array.from(o.values()).map(d=>{const h=n.entities.entities.get(d.leaderId),p=d.members.filter(m=>m.isAdult).length,v=d.members.length-p;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:d.leaderId===i,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return l.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),l}function Dp(n){return n.filter(i=>i.isAdult).reduce((i,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,i+s},0)}function im(n){return Array.from(n.entities.entities.values()).filter(i=>i.type==="human")}function Oa(n,i){const o=xc(n,i);if(o.length===0){const l=i.entities.entities.get(n);return l?l.position:{x:0,y:0}}const s=o.map(l=>l.position);return Uc(s)}function Up(n,i){const s=[...Na(n,i),n].map(l=>l.position);return Uc(s)}const p_={id:Sa,update:(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s,c=s.deltaTime*(Vt/Kt);if(o.age+=c,o.age>=o.lifespan)return{nextState:No,data:{...n,enteredAt:l.time,previousState:Sa}};const d=Bc(o.position,o.spreadRadius,l.mapDimensions.width,l.mapDimensions.height);return Fo(d,l,15)||Wa(l.entities,d,l.time),{nextState:Dr,data:{...n,enteredAt:l.time,previousState:Sa}}},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},g_={id:No,update:n=>({nextState:No,data:n}),onEnter:(n,i)=>(jc(n.updateContext.gameState.entities,n.entity.id),{...i,enteredAt:n.updateContext.gameState.time})},m_=[G1,z1,p_,g_],lt="humanIdle",Or="humanMoving",wo="humanEating",ja="humanGathering",Ho="humanProcreating",Ti="humanAttacking",Aa="humanPlanting",v_={id:lt,update:(n,i)=>{const{entity:o,updateContext:s}=i;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ti,data:{...n,enteredAt:s.gameState.time,previousState:lt,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=Rc?(o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.activeAction==="moving"?{nextState:Or,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="gathering"?{nextState:ja,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="eating"?{nextState:wo,data:{...n,enteredAt:s.gameState.time,previousState:lt}}:o.activeAction==="planting"&&o.target?{nextState:Aa,data:{...n,enteredAt:s.gameState.time,previousState:lt,plantingSpot:o.target}}:{nextState:lt,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};function om(n){let i=Oy;return n.hunger>=Rc&&(i*=Dy),n.age>=My&&(i*=Ly),n.movementSlowdown&&(i*=n.movementSlowdown.modifier),i}const Qu=7.5;class y_{constructor(){Ee(this,"id",Or)}update(i,o){var p;const{entity:s,updateContext:l}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Ti,data:{...i,enteredAt:l.gameState.time,previousState:Or,attackTargetId:s.attackTargetId,attackStartTime:l.gameState.time}};if(s.activeAction!=="moving")return{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Or}};let c;if(typeof s.target=="object"?c=s.target:typeof s.target=="number"&&(c=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!c&&(s.direction.x!==0||s.direction.y!==0)&&(c={x:s.position.x+s.direction.x*Qu*2,y:s.position.y+s.direction.y*Qu*2}),!c)return{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Or}};const d=Bt(s.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=qt(d),s.acceleration=om(s),ye(s.position,c,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<Qu?{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Or}}:{nextState:Or,data:i}}onExit(i){const{entity:o}=i;o.acceleration=0,o.target=void 0}}const S_=new y_,__={id:wo,update:(n,i)=>{const{entity:o,updateContext:s}=i;return o.activeAction!=="eating"?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:wo}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>Do&&(o.hunger=Math.max(0,o.hunger-Do),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,Ve(s,Oe.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(vt(s.gameState,Te.Eating,o.position,Xt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:wo}}:{nextState:wo,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};class E_{constructor(){Ee(this,"id",ja)}update(i,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...i,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:i}}}const w_=new E_,A_=(n,i)=>(i.procreationEndTime=n.updateContext.gameState.time+(i.duration||2),i),T_=(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s;if(l.time<(n.procreationEndTime||0))return{nextState:Ho,data:n};const c=l.entities.entities.get(n.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<Pt&&c.hunger<Pt&&!o.procreationCooldown&&!c.procreationCooldown){const d=o.gender==="female"?o:c.gender==="female"?c:void 0,h=o.gender==="male"?o:c.gender==="male"?c:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=By,d.fatherId=h.id,o.procreationCooldown=ap,c.procreationCooldown=ap,Ve(s,Oe.Procreate,d.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:lt,data:{...n,enteredAt:l.time,previousState:Ho}}},I_={id:Ho,onEnter:A_,update:T_},C_={id:Ti,onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,i)=>{if(i.entity.activeAction!=="attacking"||!i.entity.attackTargetId)return i.entity.activeAction="idle",{nextState:lt,data:{...n}};const o=i.updateContext.gameState.entities.entities.get(i.entity.attackTargetId);if(!o||o.type!=="human")return i.entity.activeAction="idle",{nextState:lt,data:{...n}};const s=ye(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height),l=Bt(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height);return i.entity.direction=qt(l),s>$a?i.entity.acceleration=om(i.entity):i.entity.acceleration=0,{nextState:Ti,data:n}}},R_={id:Aa,update:(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s;if(l.time-n.enteredAt>=rS){if(o.food.filter(h=>h.type===fr.Berry).length>=ka){for(let p=0;p<ka;p++){const v=o.food.findIndex(m=>m.type===fr.Berry);v>-1&&o.food.splice(v,1)}const h=Wa(l.entities,n.plantingSpot,l.time);h.ownerId=o.id,h.claimedUntil=l.time+Rg}return{nextState:lt,data:{...n,enteredAt:l.time,previousState:Aa}}}return{nextState:Aa,data:n}},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})},k_=[v_,S_,__,w_,I_,C_,R_],Mp=[...m_,...k_];function P_(n,i,o){const s=Ey(n,Mp);if(!s)return Ay(n),[n,i];const{nextState:l,data:c}=s.update(i,o);return wy(n,l)?[l,_y(s,l,c,o,Mp)]:[l,c]}function N_(n,i,o){const{gameState:s}=i,l=o*(Vt/Kt);if(n.isAdult=n.age>=kc,n.isCallingToAttack&&n.callToAttackEndTime&&s.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.movementSlowdown&&s.time>n.movementSlowdown.endTime&&(n.movementSlowdown=void 0),n.hitpoints<n.maxHitpoints){const d=1-n.hunger/100*qy,h=Zy*d*l;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(po/(Vt/Kt)),n.hunger>F1&&(!n.lastHungerEffectTime||s.time-n.lastHungerEffectTime>_o*2)&&(vt(s,Te.Hunger,n.position,_o,n.id),n.lastHungerEffectTime=s.time),n.age+=o/kg,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=l,n.hunger+=o*((po*Hy-po)/(Vt/Kt)),(!n.lastPregnantEffectTime||s.time-n.lastPregnantEffectTime>_o*3)&&(vt(s,Te.Pregnant,n.position,_o,n.id),n.lastPregnantEffectTime=s.time),n.gestationTime<=0&&(sE(n,n.fatherId,i),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=l,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=l,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=l,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=l,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=l,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===Nc&&(n.radius=yn):n.hunger+=o*((po*xy-po)/(Vt/Kt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const d=[];if(n.motherId){const h=s.entities.entities.get(n.motherId);h&&d.push(h)}if(n.fatherId){const h=s.entities.entities.get(n.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=Og&&h.hunger>=$y&&ye(n.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=jy){n.food.pop(),h.hunger=Math.max(0,h.hunger-Do),n.feedParentCooldownTime=Wy;break}}let c;if(n.hitpoints<=0?c="killed":n.hunger>=Zt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Do)):c="hunger":n.age>=n.maxAge&&(c="oldAge"),c){if(n.leaderId===n.id){const d=Bo(Jt(s,n));d?(d.leaderId=d.id,d.tribeBadge=n.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const p=h;p.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(n.isPlayer){const d=Bo(Jt(s,n));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=c)}oE(s.entities,n.position,n.gender,n.age,n.radius,n.id,s.time,n.food,n.hunger),jc(s.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function O_(n,i){const o=i.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/Yy);const s=Math.floor(Dg*(1-n.decayProgress));n.food.length>s&&n.food.splice(s),n.decayProgress>=1&&n.food.length<=0&&jc(i.gameState.entities,n.id)}var zc=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(zc||{});function D_(n,i){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;i.gameState.time-o>=Uo&&(n.aiBehaviorTree.execute(n,i,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",i.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function U_(n,i){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(i.gameState.time),n.aiType){case zc.BehaviorTreeBased:default:D_(n,i);break}}function M_(n,i){n.forces.push(vn(n.velocity,-.1));const o=vn(qt(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(s=>{i.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(n.velocity=vn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(s=>i.gameState.time-s.startTime<s.duration),n.velocity=dr(n.velocity,n.forces.reduce(dr,{x:0,y:0})),Mo(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=dr(n.position,vn(n.velocity,i.deltaTime)),n.position.x=(n.position.x%i.gameState.mapDimensions.width+i.gameState.mapDimensions.width)%i.gameState.mapDimensions.width,n.position.y=(n.position.y%i.gameState.mapDimensions.height+i.gameState.mapDimensions.height)%i.gameState.mapDimensions.height,n.forces=[],n.type==="human"?N_(n,i,i.deltaTime):n.type==="humanCorpse"&&O_(n,i),n.type==="human"&&(!n.isPlayer||i.gameState.autopilotControls.isActive)&&U_(n,i),n.stateMachine&&(n.stateMachine=P_(...n.stateMachine,{entity:n,updateContext:i}))}var M=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(M||{});function Un(n){return Array.isArray(n)?n:[n,""]}class xe{constructor(i,o,s=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");this.children=i,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(i,o,s){for(const l of this.children){const[c,d]=Un(l.execute(i,o,s));if(c!==M.SUCCESS)return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,c,o.gameState.time,this.depth,d),c}return this.lastStatus=M.SUCCESS,this.name&&s.recordNodeExecution(this.name,M.SUCCESS,o.gameState.time,this.depth,""),M.SUCCESS}}class Ci{constructor(i,o,s=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");Ee(this,"runningChildIndex");this.children=i,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(i,o,s){const l=this.runningChildIndex??0;for(let c=l;c<this.children.length;c++){const d=this.children[c],[h,p]=Un(d.execute(i,o,s));if(h!==M.FAILURE){if(h===M.SUCCESS)return delete this.runningChildIndex,this.lastStatus=M.SUCCESS,this.name&&s.recordNodeExecution(this.name,M.SUCCESS,o.gameState.time,this.depth,p),M.SUCCESS;if(h===M.RUNNING)return this.runningChildIndex=c,this.lastStatus=M.RUNNING,this.name&&s.recordNodeExecution(this.name,M.RUNNING,o.gameState.time,this.depth,p),M.RUNNING}}return delete this.runningChildIndex,this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,M.FAILURE,o.gameState.time,this.depth,""),M.FAILURE}}class De{constructor(i,o,s=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");this.action=i,this.name=o,this.depth=s}execute(i,o,s){const[l,c]=Un(this.action(i,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,c),l}}class we{constructor(i,o,s=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");this.condition=i,this.name=o,this.depth=s}execute(i,o,s){let[l,c]=Un(this.condition(i,o,s));const d=l?M.SUCCESS:M.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,c),d}}class Lp{constructor(i,o,s,l=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");Ee(this,"startTimeKey");this.child=i,this.timeoutDurationHours=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(i,o,s){const l=o.gameState.time;let c=s.get(this.startTimeKey);const[d,h]=Un(this.child.execute(i,o,s));if(d===M.RUNNING){c===void 0&&(s.set(this.startTimeKey,l),c=l);const p=l-c;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=M.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m),this.lastStatus}this.lastStatus=M.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}return c!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}}class Fp{constructor(i,o,s,l=0,c){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");Ee(this,"statusKey");Ee(this,"timestampKey");this.child=i,this.cacheDurationHours=o,this.validityCheck=c,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(i,o,s){const l=o.gameState.time,c=s.get(this.statusKey),d=s.get(this.timestampKey);if(c!==void 0&&d!==void 0){const m=l-d>this.cacheDurationHours,S=this.validityCheck?this.validityCheck(i,o,s):!0;if(!m&&S){const A=(d+this.cacheDurationHours-l).toFixed(2),R=`Cache hit. Status: ${M[c]}. ${A}h left.`;return this.lastStatus=c,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,R),this.lastStatus}}const[h,p]=Un(this.child.execute(i,o,s));(h===M.SUCCESS||h===M.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,l)),this.lastStatus=h;const v=`Cache miss. Child returned ${M[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}}class Ri{constructor(i,o,s,l=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");Ee(this,"cooldownKey");this.cooldownDurationHours=i,this.child=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(i,o,s){const l=o.gameState.time,c=s.get(this.cooldownKey);if(this.child.lastStatus===M.RUNNING){const[p,v]=Un(this.child.execute(i,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m)}return this.lastStatus}if(c!==void 0&&l<c){const v=`Cooldown active, ${(c-l).toFixed(2)}h left`;return this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}const[d,h]=Un(this.child.execute(i,o,s));return(d===M.SUCCESS||d===M.RUNNING)&&s.set(this.cooldownKey,l+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}}class ui{constructor(i,o,s,l=0){Ee(this,"name");Ee(this,"lastStatus");Ee(this,"depth");this.child=i,this.behaviorKey=o,this.name=s,this.depth=l;const c=(d,h)=>{d.depth=h,d.children?d.children.forEach(p=>c(p,h+1)):d.child&&c(d.child,h+1)};c(this.child,(this.depth??0)+1)}execute(i,o,s){if(i.isPlayer&&o.gameState.autopilotControls.isActive&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[c,d]=Un(this.child.execute(i,o,s));return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}}function L_(n){return new xe([new we((i,o)=>{const s=i.hunger>=up,l=i.food.length>0,c=!i.eatingCooldownTime||o.gameState.time>=i.eatingCooldownTime;return[!!(i.isAdult&&s&&l&&c),`${Math.floor(i.hunger-up)}, ${i.food.length}, ${i.eatingCooldownTime?Math.floor(i.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new De(i=>(i.direction={x:0,y:0},i.target=void 0,i.activeAction="eating",M.RUNNING),"Eat",n+1)],"Eating",n)}function F_(n){return new xe([new we((i,o,s)=>{if(i.isAdult&&i.hitpoints>i.maxHitpoints*Hg||i.isAdult&&i.hunger>hS)return!1;const l=l_(i.id,o.gameState);return l?(s.set("fleeThreat",l),!0):!1},"Should Flee",n+1),new De((i,o,s)=>{const l=s.get("fleeThreat");if(!l)return M.FAILURE;i.activeAction="moving";const c=Bt(l.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=qt(c),h=dr(i.position,vn(d,xg));return i.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},i.direction=d,M.RUNNING},"Execute Flee",n+1)],"Flee",n)}const sa="foodSource";function B_(n){const i=new De((s,l,c)=>{const d=ut(s,l.gameState,"berryBush",void 0,v=>{if(v.food.length===0)return!1;if(!v.ownerId||!v.claimedUntil||l.gameState.time>=v.claimedUntil)return!0;const m=l.gameState.entities.entities.get(v.ownerId);return!m||m.leaderId===s.leaderId?!0:ye(s.position,m.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)>MS}),h=ut(s,l.gameState,"humanCorpse",void 0,v=>v.food.length>0);let p=null;if(d&&h){const v=ye(s.position,d.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height),m=ye(s.position,h.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height);p=v<=m?d:h}else p=d||h;return p?(c.set(sa,p),[M.SUCCESS,`Found food: ${p.type} at ${p.position.x.toFixed(0)},${p.position.y.toFixed(0)}`]):[M.FAILURE,"No food source found"]},"Find Closest Food Source",n+4),o=new De((s,l,c)=>{const d=c.get(sa);return!d||d.food.length===0?(c.delete(sa),[M.FAILURE,"Food source is invalid or depleted"]):ye(s.position,d.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<wi?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,[M.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=Mc(s.position,d.position,l.gameState.mapDimensions),[M.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",n+3);return new xe([new we((s,l)=>{const c=s.food.length<s.maxFood,d=s.hunger>sS,h=Jt(l.gameState,s).filter(p=>p.hunger>za);return[(s.isAdult&&c&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",n+1),new Ci([new xe([new we((s,l,c)=>c.has(sa),"Has Food Source?",n+2),o],"Continue Gathering Action",n+2),new xe([new Ri(wS,i,"Find Food Source Cooldown",n+3),o],"Find New Food Source and Gather",n+2)],"Perform or Start Gathering",n+1)],"Gather Food",n)}function H_(n){return new De((i,o,s)=>(i.activeAction="idle",i.direction={x:0,y:0},i.target=void 0,s.set("wanderTarget",void 0),M.SUCCESS),"Idle",n)}const Bp=n=>n.find(i=>(i.procreationCooldown||0)<=0&&i.hunger<Pt&&(i.gender==="female"?!i.isPregnant&&i.age<=Ai:!0));function x_(n){const i=new we((c,d,h)=>{const p=Op(c,d.gameState,wi),v=Bp(p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new De((c,d,h)=>{var v;const p=h.get("procreationPartner");return p?(c.activeAction="procreating",c.target=void 0,(v=c.partnerIds)!=null&&v.includes(p.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,p.id]:[p.id]),M.SUCCESS):M.FAILURE},"Start Procreating"),s=new we((c,d,h)=>{const p=Op(c,d.gameState,fS),v=Bp(p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),l=new De((c,d,h)=>{const p=h.get("procreationPartner");if(!p)return M.FAILURE;if(ye(c.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<wi)return M.SUCCESS;c.activeAction="moving",c.target=p.id;const m=Bt(c.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return c.direction=qt(m),M.RUNNING},"Move Towards Partner");return new xe([new we(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<Fy||c.gender==="female"&&c.age>Ai),"Is Fertile (age, not pregnant)",n+1),new we(c=>c.hunger<Pt,"Is Healthy (hunger)",n+1),new we(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new we((c,d)=>bg(c.position,d.gameState,"berryBush",dS)>=cS,"Is Environment Viable (food)",n+1),new we((c,d,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(c.id)&&p.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ye(c.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<US)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",n+1),new Ci([new xe([i,o],"Procreate With Immediate Partner",n+2),new Ri(SS,new xe([s,l],"Seek Distant Partner Action",n+3),"Seek Distant Partner Cooldown",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const ci="attackTarget",Nr="homeCenter",Zu=150;function G_(n,i,o){let s,l=1/0;for(const c of Object.values(n.entities.entities))if(c.type==="human"&&c.id!==i.id&&c.hitpoints>0&&c.leaderId!==i.leaderId){const d=ye(i.position,c.position,n.mapDimensions.width,n.mapDimensions.height);d<o&&d<l&&(l=d,s=c)}return s}function z_(n){return new xe([new we((i,o,s)=>{const{gameState:l}=o;if(i.activeAction==="attacking"&&i.attackTargetId){const d=l.entities.entities.get(i.attackTargetId);if(d&&d.hitpoints>0&&ye(i.position,d.position,l.mapDimensions.width,l.mapDimensions.height)<=Zu){if(s.set(ci,d),!s.get(Nr)){const h=i.leaderId?Oa(i.leaderId,l):Na(i,l).length>0?Up(i,l):i.position;s.set(Nr,h)}return!0}}const c=G_(l,i,Zu);if(c){s.set(ci,c);const d=i.leaderId?Oa(i.leaderId,l):Na(i,l).length>0?Up(i,l):i.position;return s.set(Nr,d),!0}return s.set(ci,void 0),s.set(Nr,void 0),!1},"Find Attack Target",n+1),new De((i,o,s)=>{const l=s.get(ci),c=s.get(Nr);if(!l||!c)return M.FAILURE;const{gameState:d}=o;return ye(i.position,c,d.mapDimensions.width,d.mapDimensions.height)>Fg?(i.activeAction="idle",i.attackTargetId=void 0,s.set(ci,void 0),s.set(Nr,void 0),M.FAILURE):l.hitpoints<=0||ye(i.position,l.position,d.mapDimensions.width,d.mapDimensions.height)>Zu?(i.activeAction==="attacking"&&(i.activeAction="idle",i.attackTargetId=void 0),s.set(ci,void 0),s.set(Nr,void 0),M.SUCCESS):(i.activeAction==="attacking"&&i.attackTargetId===l.id||(i.activeAction="attacking",i.attackTargetId=l.id),M.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const $_=(n,i,o)=>{const s=Jt(i.gameState,n).filter(d=>!d.isAdult);if(s.length===0)return M.FAILURE;let l=null,c=za;for(const d of s)d.hunger>=c&&(c=d.hunger,l=d);return l?(o.set("targetChild",l),M.SUCCESS):M.FAILURE},j_=(n,i,o)=>{const s=o.get("targetChild");return s?ye(n.position,s.position,i.gameState.mapDimensions.width,i.gameState.mapDimensions.height)>Pc?(n.activeAction="moving",n.target=s.id,n.direction=Mc(n.position,s.position,i.gameState.mapDimensions),M.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),M.SUCCESS):M.FAILURE};function W_(n){return new xe([new we(i=>(i.isAdult&&i.food.length>0&&(!i.feedChildCooldownTime||i.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new De($_,"Find Hungriest Child",n+1),new De(j_,"Move To Child and Feed",n+1)],"Feed Child",n)}function Y_(n){return new xe([new we(i=>!i.isAdult&&i.hunger>=za,"Is Hungry Child",n+1),new De((i,o,s)=>{const l=tm(i,o.gameState);if(l.length===0)return M.FAILURE;const c=ut(i,o.gameState,"human",zy,d=>l.some(h=>h.id===d.id)&&d.food.length>0);return c?(s.set("targetParent",c),M.SUCCESS):M.FAILURE},"Find Parent With Food",n+1),new De((i,o,s)=>{const l=s.get("targetParent");if(!l)return M.FAILURE;const c=ye(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.activeAction="idle",c<=Pc?(i.target=void 0,M.SUCCESS):(i.target=l.id,i.activeAction="moving",M.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}const aa="plantingSpot";function V_(n){const i=new De((s,l,c)=>{const d=c.get(aa);return!d||Fo(d,l.gameState,Lg,s.id)?(c.delete(aa),[M.FAILURE,"Planting spot is invalid or now occupied"]):ye(s.position,d,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)>wi?(s.activeAction="moving",s.target=d,s.direction=Mc(s.position,d,l.gameState.mapDimensions),[M.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[M.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",n+3),o=new De((s,l,c)=>{const d=a_(s,l.gameState);return d?(c.set(aa,d),[M.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[M.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",n+3);return new xe([new we(s=>{const l=s.food.filter(d=>d.type===fr.Berry).length>=ka,c=s.hunger<aS;return(s.isAdult&&l&&c)??!1},"Can Plant",n+1),new we((s,l)=>{const c=bg(s.position,l.gameState,"berryBush",oS),d=Jt(l.gameState,s);return!(d.length===0||c>=d.length*2)},"Has Not Enough Nearby Bushes",n+1),new Ci([new xe([new we((s,l,c)=>c.has(aa),"Has Planting Spot?",n+2),i],"Continue Planting Action",n+2),new Ri(ES,o,"Find Planting Spot Cooldown",n+2)],"Perform or Start Planting",n+1)],"Plant Bush",n)}const qu="enemiesNearby";function K_(n){const i=new we(c=>c.id===c.leaderId,"Is Leader?",n+1),o=new we(c=>!c.isCallingToAttack,"Is Not Already Calling?",n+1),s=new De((c,d,h)=>{const p=Gc(c.position,c.id,d.gameState,Bg);return p.length>0?(h.set(qu,p),M.SUCCESS):M.FAILURE},"Find Nearby Enemies",n+1),l=new Ci([new xe([new we((c,d,h)=>{const p=h.get(qu);if(!p||p.length===0)return!1;const v=xc(c.id,d.gameState),m=Dp(v),S=Dp(p);return m>S*IS},"Is Strong Enough?",n+3),new De((c,d)=>(c.isCallingToAttack=!0,c.callToAttackEndTime=d.gameState.time+Pa,vt(d.gameState,Te.CallToAttack,c.position,Pa),Ve(d,Oe.CallToAttack,c.position),c.activeAction="idle",c.target=void 0,M.SUCCESS),"Issue Call to Attack",n+3)],"Attack",n+2),new De((c,d,h)=>{const p=h.get(qu);if(!p||p.length===0)return M.FAILURE;const v=p.map(O=>O.position),m=Uc(v),S=Bt(m,c.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),A=qt(S),R=dr(c.position,vn(A,xg*2));return c.activeAction="moving",c.target={x:(R.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(R.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},c.direction=A,M.SUCCESS},"Retreat",n+2)],"Attack or Retreat",n+2);return new xe([i,o,s,new Ri(CS,l,"Leader Combat Cooldown",n+1)],"Leader Combat Strategy",n)}const Ju="combatTarget",bu="homeCenter";function X_(n){const i=new we(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",n+1),o=new we(d=>d.hunger<lS&&d.hitpoints>=d.maxHitpoints*Hg,"Is Fit for Combat?",n+1),s=new we((d,h)=>{const p=h.gameState.entities.entities.get(d.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),l=new De((d,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return M.FAILURE;const S=Gc(m.position,m.id,v,pS);if(S.length===0)return M.FAILURE;S.sort((A,R)=>{const O=ye(d.position,A.position,v.mapDimensions.width,v.mapDimensions.height),N=ye(d.position,R.position,v.mapDimensions.width,v.mapDimensions.height);return O-N});for(const A of S)if(f_(m.id,A.id,v)<gS){p.set(Ju,A);const O=Oa(m.id,v);return p.set(bu,O),M.SUCCESS}return M.FAILURE},"Find Best Target",n+1),c=new De((d,h,p)=>{const v=p.get(Ju),m=p.get(bu);if(!v||!m)return M.FAILURE;const{gameState:S}=h;return ye(d.position,m,S.mapDimensions.width,S.mapDimensions.height)>Fg?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),p.set(Ju,void 0),p.set(bu,void 0),M.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>Xt*5)&&(vt(h.gameState,Te.TargetAcquired,d.position,Xt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,M.RUNNING)},"Attack Target",n+1);return new xe([i,o,s,l,c],"Tribe Member Combat",n)}function Q_(n){const i=new we((m,S)=>{if(!m.isAdult||m.gender!=="male")return!1;const A=m.partnerIds&&m.partnerIds.length>0,R=Jt(S.gameState,m).length>0;return A||R},"Is Adult Male With Family?",n+1),o=new we((m,S)=>{const A=tm(m,S.gameState);if(A.length===0)return!1;for(const R of A)if(ye(m.position,R.position,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<yS)return!0;return!1},"Is Too Close To Parents?",n+1),s=new we((m,S,A)=>A.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),l=new De((m,S,A)=>{const R=A.get("territoryMoveTarget"),O=A.get("territoryMoveStartTime");if(!R||!O)return[M.FAILURE,"Missing move data"];if(S.gameState.time-O>mS)return A.delete("territoryMoveTarget"),A.delete("territoryMoveStartTime"),[M.FAILURE,"Territory move timed out"];if(ye(m.position,R,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<wi)return A.delete("territoryMoveTarget"),A.delete("territoryMoveStartTime"),[M.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const D=Bt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=qt(D),[M.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),c=new xe([s,l],"Handle In-Progress Move",n+2),d=new we((m,S,A)=>A.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+4),h=new De((m,S,A)=>{const R=Bc(m.position,S.gameState.mapDimensions.width/4,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);A.set("territoryMoveTarget",R),A.set("territoryMoveStartTime",S.gameState.time),m.activeAction="moving",m.target=R;const O=Bt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=qt(O),[M.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+4),p=new xe([d,h],"Start New Territory Move Action",n+3),v=new Ci([c,new Ri(_S,p,"Establish Territory Cooldown",n+2)],"Establish or Continue Move",n+1);return new xe([i,o,v],"Establish Family Territory",n)}function Z_(n){return new xe([new De((i,o,s)=>{const l=c_(i,o.gameState);return l?(s.set("patriarchTarget",l),[M.SUCCESS,`Found patriarch: ${l.id}`]):(s.delete("patriarchTarget"),[M.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new De((i,o,s)=>{const l=s.get("patriarchTarget");if(!l)return[M.FAILURE,"Patriarch target missing from blackboard"];const c=ye(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(c>uS){i.activeAction="moving",i.target=l.id;const d=Bt(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.direction=qt(d),[M.RUNNING,`Moving to patriarch at ${c.toFixed(0)}`]}return i.activeAction="idle",i.target=void 0,i.direction={x:0,y:0},[M.SUCCESS,`Arrived at patriarch at ${c.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}const ec="tribeSplitMigrationTarget";function q_(n){const i=new xe([new we((o,s)=>{const{canSplit:l,progress:c}=Hc(o,s.gameState);return l?[!0,`Progress: ${(c??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",n+2),new De((o,s,l)=>{const{gameState:c}=s;let d=l.get(ec);if(!d){if(!o.leaderId)return M.FAILURE;const p=Oa(o.leaderId,c),v=d_(p,o,c);if(v)l.set(ec,v),o.activeAction="moving",o.target=v,d=v;else return M.FAILURE}return ye(o.position,d,c.mapDimensions.width,c.mapDimensions.height)<wi?(l.delete(ec),o.activeAction="idle",o.target=void 0,M.SUCCESS):M.RUNNING},"Move to New Territory",n+2),new De((o,s)=>(rm(o,s.gameState),M.SUCCESS),"Perform Tribe Split",n+2)],"Tribe Split Action",n+1);return new Ri(TS,i,"Tribe Split Cooldown",n)}const la="jealousyAttackTarget";function J_(n){return new xe([new we((i,o,s)=>{const l=r_(i,o.gameState,RS);return l?(s.set(la,l),[!0,`Partner cheating with ${l.id}`]):(s.delete(la),!1)},"Check for Infidelity",n+1),new De((i,o,s)=>{const l=s.get(la);return!l||l.hitpoints<=0?(s.delete(la),[M.FAILURE,"Target is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking ${l.id}`])},"Execute Jealousy Attack",n+1)],"Jealousy Attack",n)}const ua="defendAggressor";function b_(n){return new xe([new we((i,o,s)=>{const l=o_(i,o.gameState,kS);return l?(s.set(ua,l.aggressor),[!0,`Family member ${l.familyMember.id} attacked by ${l.aggressor.id}`]):(s.delete(ua),!1)},"Check Family Under Attack",n+1),new De((i,o,s)=>{const l=s.get(ua);return!l||l.hitpoints<=0?(s.delete(ua),[M.FAILURE,"Target invalid/dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking aggressor ${l.id}`])},"Execute Family Defense Attack",n+1)],"Defend Family",n)}const ca="bushIntruder";function eE(n){return new xe([new we((i,o,s)=>{const l=i_(i,o.gameState,PS);return l?(s.set(ca,l),[!0,`Intruder ${l.id} stealing berries`]):(s.delete(ca),!1)},"Check For Intruders on Bushes",n+1),new De((i,o,s)=>{const l=s.get(ca);return!l||l.hitpoints<=0?(s.delete(ca),[M.FAILURE,"Intruder is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking intruder ${l.id}`])},"Execute Bush Defense Attack",n+1)],"Defend Claimed Bush",n)}const da="desperateAttackTarget";function tE(n){return new xe([new we(i=>i.hunger>NS,"Is Starving",n+1),new we((i,o)=>{const s=ut(i,o.gameState,"berryBush",ct,c=>c.food.length>0),l=ut(i,o.gameState,"humanCorpse",ct,c=>c.food.length>0);return!s&&!l},"No Other Food Available",n+1),new we((i,o,s)=>{const l=s_(i,o.gameState);return l?(s.set(da,l),[!0,`Found weak target ${l.id}`]):(s.delete(da),!1)},"Find Weak Target",n+1),new De((i,o,s)=>{const l=s.get(da);return!l||l.hitpoints<=0?(s.delete(da),[M.FAILURE,"Target is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Desperately attacking ${l.id}`])},"Execute Desperate Attack",n+1)],"Desperate Attack",n)}function nE(){return new Ci([F_(1),b_(1),J_(1),eE(1),tE(1),new ui(K_(2),"callToAttack","Gated Leader Combat",1),X_(1),new ui(z_(2),"attack","Gated Attacking",1),L_(1),new ui(new Lp(B_(3),cp,"Timeout Gathering",2),"gathering","Gated Gathering",1),new ui(W_(2),"feedChildren","Gated Feed Child",1),Y_(1),new ui(new Lp(V_(3),cp,"Timeout Planting",2),"planting","Gated Planting",1),new ui(x_(2),"procreation","Gated Procreation",1),new Fp(q_(2),dp,"Cache Tribe Split",1),new Fp(Q_(2),dp,"Cache Establish Territory",1),Z_(1),H_(1)],"Human Behavior",0)}class rE{constructor(){Ee(this,"data",new Map);Ee(this,"nodeExecutionData",new Map)}set(i,o){this.data.set(i,o)}get(i){return this.data.get(i)}delete(i){this.data.delete(i)}has(i){return this.data.has(i)}recordNodeExecution(i,o,s,l,c){const d=this.nodeExecutionData.get(i)||{lastExecuted:0,status:M.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Uo&&d.executionHistory.push({time:h.time+Uo,status:M.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const p=Yg/Kt*Vt,v=s-p;d.executionHistory=d.executionHistory.filter(S=>S.time>=v);const m={...d,lastExecuted:s,status:o,depth:l,debugInfo:c};this.nodeExecutionData.set(i,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(i){const o=vS,s=[];for(const[l,c]of this.nodeExecutionData.entries())i-c.lastExecuted>o&&s.push(l);for(const l of s)this.nodeExecutionData.delete(l)}}function iE(n){n.gameState.entities.entities.forEach(o=>{M_(o,n)})}function sm(){return{entities:new Map,nextEntityId:1}}function $c(n,i,o){const s={id:n.nextEntityId++,type:i,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(s.id,s),s}function Wa(n,i,o){return $c(n,"berryBush",{position:i,radius:hc,food:Array.from({length:Iy},()=>({type:fr.Berry})).map(l=>({...l,id:n.nextEntityId++})),maxFood:Ty,lifespan:Ry,age:0,spreadChance:ky,spreadRadius:hc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[To,{enteredAt:o,previousState:void 0}]})}function Da(n,i,o,s,l=!1,c=Uy,d=Ng,h,p,v=[],m,S){const A=c>=kc;return $c(n,"human",{position:i,radius:A?yn:Nc,hunger:d,hitpoints:lp,maxHitpoints:lp,age:c,gender:s,isPlayer:l,food:[],maxFood:Pg,maxAge:Oo,isAdult:A,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[lt,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:S,aiType:zc.BehaviorTreeBased,aiBehaviorTree:nE(),aiBlackboard:new rE})}function oE(n,i,o,s,l,c,d,h,p){return $c(n,"humanCorpse",{position:i,radius:l,gender:o,age:s,originalHumanId:c,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(Dg*Math.max(Pt-p,0)/Pt,1)},()=>({type:fr.Meat})),...h].map(m=>({...m,id:n.nextEntityId++})),stateMachine:void 0})}function sE(n,i,o){const s=i?o.gameState.entities.entities.get(i):void 0,l=[...n.ancestorIds||[],n.id],c=s?[...s.ancestorIds||[],s.id]:[],d=[...l,...c],h=[...new Set(d)],p=h.slice(Math.max(h.length-Py,0)),v=Math.random()<.5?"male":"female",m=dr(n.position,{x:5,y:5}),S=Da(o.gameState.entities,m,o.gameState.time,v,!1,0,Ng/2,n.id,i,p,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return Ve(o,Oe.Birth,n.position),S}function jc(n,i){return n.entities.get(i)?(n.entities.delete(i),!0):!1}class aE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(i,o){let s=this.length++;for(;s>0;){const l=s-1>>1,c=this.values[l];if(o>=c)break;this.ids[s]=this.ids[l],this.values[s]=c,s=l}this.ids[s]=i,this.values[s]=o}pop(){if(this.length===0)return;const i=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],l=this.length>>1;let c=0;for(;c<l;){let d=(c<<1)+1;const h=d+1;let p=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,p=this.ids[h],v=m),v>=s)break;this.ids[c]=p,this.values[c]=v,c=d}this.ids[c]=o,this.values[c]=s}return i}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Hp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],tc=3;class Wc{static from(i,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!i||i.byteLength===void 0||i.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,l]=new Uint8Array(i,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=l>>4;if(c!==tc)throw new Error(`Got v${c} data when expected v${tc}.`);const d=Hp[l&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(i,o+2,1),[p]=new Uint32Array(i,o+4,1);return new Wc(p,h,d,void 0,i,o)}constructor(i,o=16,s=Float64Array,l=ArrayBuffer,c,d=0){if(i===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(i)||i<=0)throw new Error(`Unexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=i,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=Hp.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,d+8,p*4),this._indices=new this.IndexArrayType(this.data,d+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new l(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(tc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=i),this._queue=new aE}add(i,o,s=i,l=o){const c=this._pos>>2,d=this._boxes;return this._indices[c]=c,d[this._pos++]=i,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=l,i<this.minX&&(this.minX=i),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),l>this.maxY&&(this.maxY=l),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const i=this._boxes;if(this.numItems<=this.nodeSize){i[this._pos++]=this.minX,i[this._pos++]=this.minY,i[this._pos++]=this.maxX,i[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,l=new Uint32Array(this.numItems),c=65535;for(let d=0,h=0;d<this.numItems;d++){const p=i[h++],v=i[h++],m=i[h++],S=i[h++],A=Math.floor(c*((p+m)/2-this.minX)/o),R=Math.floor(c*((v+S)/2-this.minY)/s);l[d]=uE(A,R)}mc(l,i,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const p=this._levelBounds[d];for(;h<p;){const v=h;let m=i[h++],S=i[h++],A=i[h++],R=i[h++];for(let O=1;O<this.nodeSize&&h<p;O++)m=Math.min(m,i[h++]),S=Math.min(S,i[h++]),A=Math.max(A,i[h++]),R=Math.max(R,i[h++]);this._indices[this._pos>>2]=v,i[this._pos++]=m,i[this._pos++]=S,i[this._pos++]=A,i[this._pos++]=R}}}search(i,o,s,l,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],p=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,Gp(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||l<this._boxes[m+1]||i>this._boxes[m+2]||o>this._boxes[m+3])continue;const S=this._indices[m>>2]|0;d>=this.numItems*4?h.push(S):(c===void 0||c(S))&&p.push(S)}d=h.pop()}return p}neighbors(i,o,s=1/0,l=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,p=[],v=l*l;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,Gp(d,this._levelBounds));for(let S=d;S<m;S+=4){const A=this._indices[S>>2]|0,R=xp(i,this._boxes[S],this._boxes[S+2]),O=xp(o,this._boxes[S+1],this._boxes[S+3]),N=R*R+O*O;N>v||(d>=this.numItems*4?h.push(A<<1,N):(c===void 0||c(A))&&h.push((A<<1)+1,N))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),p}}function xp(n,i,o){return n<i?i-n:n<=o?0:n-o}function Gp(n,i){let o=0,s=i.length-1;for(;o<s;){const l=o+s>>1;i[l]>n?s=l:o=l+1}return i[o]}function mc(n,i,o,s,l,c){if(Math.floor(s/c)>=Math.floor(l/c))return;const d=n[s+l>>1];let h=s-1,p=l+1;for(;;){do h++;while(n[h]<d);do p--;while(n[p]>d);if(h>=p)break;lE(n,i,o,h,p)}mc(n,i,o,s,p,c),mc(n,i,o,p+1,l,c)}function lE(n,i,o,s,l){const c=n[s];n[s]=n[l],n[l]=c;const d=4*s,h=4*l,p=i[d],v=i[d+1],m=i[d+2],S=i[d+3];i[d]=i[h],i[d+1]=i[h+1],i[d+2]=i[h+2],i[d+3]=i[h+3],i[h]=p,i[h+1]=v,i[h+2]=m,i[h+3]=S;const A=o[s];o[s]=o[l],o[l]=A}function uE(n,i){let o=n^i,s=65535^o,l=65535^(n|i),c=n&(i^65535),d=o|s>>1,h=o>>1^o,p=l>>1^s&c>>1^l,v=o&l>>1^c>>1^c;o=d,s=h,l=p,c=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&l>>2^s&c>>2,v^=s&l>>2^(o^s)&c>>2,o=d,s=h,l=p,c=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&l>>4^s&c>>4,v^=s&l>>4^(o^s)&c>>4,o=d,s=h,l=p,c=v,p^=o&l>>8^s&c>>8,v^=s&l>>8^(o^s)&c>>8,o=p^p>>1,s=v^v>>1;let m=n^i,S=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,(S<<1|m)>>>0}function nc(n,i){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Wc(n.length),s=new Map;for(const c of n)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(h=>n[h])},byRadius(c,d){return o.neighbors(c.x,c.y,void 0,d).map(p=>n[p])},byProperty(c,d){var h;if(!s.has(c)){const p=new Map;for(const v of n){const m=v[c];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(c,p)}return((h=s.get(c))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function Yc(n){const i=Array.from(n.entities.entities.values()),o=i.filter(d=>d.type==="human"),s=i.filter(d=>d.type==="berryBush"),l=i.filter(d=>d.type==="humanCorpse");return{...n,search:{human:nc(o),berryBush:nc(s),humanCorpse:nc(l)}}}var lr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(lr||{}),xo=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(xo||{}),Et=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(Et||{});const cE=[{key:lr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:lr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,i)=>i.hunger>Ny,isCompleted:!1,minDisplayTime:Cp,highlightedUIElements:[xo.HUNGER_BAR]},{key:lr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,i)=>!!ut(i,n,"berryBush",ct*5,s=>s.food.length>0),getTargets:(n,i)=>{const o=[];for(const s of n.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ye(i.position,s.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Cp},{key:lr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,i)=>i.food.length>0,getTargets:(n,i)=>{const o=ut(i,n,"berryBush",ct,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:lr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,i)=>i.activeAction==="eating",isCompleted:!1,highlightedUIElements:[xo.FOOD_BAR]},{key:lr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,i)=>Jt(n,i).length>0,getTargets:(n,i)=>{const o=ut(i,n,"human",ct,s=>{const l=s;return(l.id!==i.id&&l.gender!==i.gender&&l.isAdult&&i.isAdult&&l.hunger<Pt&&i.hunger<Pt&&(l.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(l.gender==="female"?!l.isPregnant&&l.age<=Ai:!i.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:lr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,i)=>qg(n,i).some(s=>s.type===ot.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function am(){return{steps:cE.map(n=>({...n,isCompleted:!1}))}}function lm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Et.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function dE(n){for(let i=0;i<n.tutorial.steps.length;i++){const o=n.tutorial.steps[i];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return i}else return i}return null}function fE(n,i){const o=n.tutorialState;if(!o.isActive){o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=gn(n);if(!s){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=n.tutorial.steps[o.currentStepIndex];if(!l){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/O1;switch(o.transitionState){case Et.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=c*i,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Et.ACTIVE);break;case Et.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(l.minDisplayTime||0)&&l.condition(n,s)||n.autopilotControls.isActive)&&(l.isCompleted=!0,o.completedSteps.add(l.key),o.transitionState=Et.FADING_OUT);break}case Et.FADING_OUT:if(o.transitionAlpha-=c*i,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=dE(n);h!==null?(o.currentStepIndex=h,o.transitionState=Et.FADING_IN):(o.isActive=!1,o.transitionState=Et.INACTIVE)}break}o.transitionState!==Et.FADING_OUT&&o.transitionState!==Et.INACTIVE?(l.getTargets?o.highlightedEntityIds=new Set(l.getTargets(n,s)):o.highlightedEntityIds.clear(),l.highlightedUIElements?o.activeUIHighlights=new Set(l.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function hE(){const n=sm(),i=0;for(let m=0;m<Cg;m++){const S={x:Math.random()*Mr,y:Math.random()*Lr};Wa(n,S,i)}const o=Mr/2,s=Lr/2,l=Da(n,{x:o,y:s},i,"male",!0);Da(n,{x:o+50,y:s},i,"female",!1);const c=[{id:"autopilotButton",action:_e.ToggleAutopilot,currentWidth:Io,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ea},{id:"muteButton",action:_e.ToggleMute,currentWidth:Io,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ea},{id:"pauseButton",action:_e.TogglePause,currentWidth:Io,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ea}],d=am(),h=lm(),p={time:i,entities:n,mapDimensions:{width:Mr,height:Lr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...l.position},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!1,gathering:!0,attack:!1,callToAttack:!1,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:Kg,isMuted:!1,uiButtons:c,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},v=Yc(p);return console.log("Game world initialized:",v),v}function pE(){const n=sm(),i=0;for(let c=0;c<Cg;c++){const d={x:Math.random()*Mr,y:Math.random()*Lr};Wa(n,d,i)}for(let c=0;c<H1;c++){const d={x:Math.random()*Mr,y:Math.random()*Lr},h=Math.random()<.5?"male":"female";Da(n,d,i,h,!1)}const o=am(),s=lm(),l={time:i,entities:n,mapDimensions:{width:Mr,height:Lr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Mr/2,y:Lr/2},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0,gathering:!0,attack:!1,callToAttack:!0,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:Kg,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return Yc(l)}const gE="humanProcreation",mE="human",vE="human",yE=ct,SE=(n,i)=>{if(n.id===i.id||n.gender===i.gender)return!1;const o=(s,l)=>s.isAdult&&s.hunger<Pt&&(s.procreationCooldown||0)<=0?l?!s.isPregnant&&s.age<=Ai:!0:!1;return n.gender==="male"?!o(n,!1)||!o(i,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(i,!1)?!1:n.activeAction==="procreating"&&i.activeAction==="procreating"},_E=(n,i,o)=>{var p,v;const{gameState:s}=o,l={x:(n.position.x+i.position.x)/2,y:(n.position.y+i.position.y)/2},c=n.gender==="male"?n:i,d=n.gender==="female"?n:i,h=(c.partnerIds||[]).length===0;if(n.stateMachine=[Ho,{partnerId:i.id,previousState:(p=n.stateMachine)==null?void 0:p[0]}],i.stateMachine=[Ho,{partnerId:n.id,previousState:(v=i.stateMachine)==null?void 0:v[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(i.id)||n.partnerIds.push(i.id),i.partnerIds||(i.partnerIds=[]),i.partnerIds.includes(n.id)||i.partnerIds.push(n.id),h&&c.leaderId&&c.leaderId!==c.id){const m=s.entities.entities.get(c.leaderId);if(m){const S=pc(c,m),A=pc(d,m);if(!S&&!A){const R=gc();c.leaderId=c.id,c.tribeBadge=R,d.leaderId=c.id,d.tribeBadge=R}}}else if(!n.leaderId&&!i.leaderId&&c&&d){const m=gc();c.leaderId=c.id,c.tribeBadge=m,d.leaderId=c.id,d.tribeBadge=m}n.activeAction=void 0,vt(s,Te.Procreation,l,_o),vt(s,Te.Partnered,n.position,Xt,n.id),vt(s,Te.Partnered,i.position,Xt,i.id),n.lastPartneredEffectTime=s.time,i.lastPartneredEffectTime=s.time,i.activeAction=void 0,Ve(o,Oe.Procreate,l)},EE={id:gE,sourceType:mE,targetType:vE,maxDistance:yE,checker:SE,perform:_E},wE={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Pc,checker:(n,i)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&i.isAdult===!1&&(i.motherId===n.id||i.fatherId===n.id)&&i.hunger>=za,perform:(n,i,o)=>{n.food.pop(),i.hunger=Math.max(0,i.hunger-Do),n.feedChildCooldownTime=Gy,(!i.lastChildFedEffectTime||o.gameState.time-i.lastChildFedEffectTime>2)&&(vt(o.gameState,Te.ChildFed,i.position,Xt,i.id),i.lastChildFedEffectTime=o.gameState.time),Ve(o,Oe.ChildFed,i.position)}},AE={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:$a,checker:(n,i,o)=>{var c;if(((c=n.stateMachine)==null?void 0:c[0])!==Ti||n.attackTargetId!==i.id||(n.attackCooldown||0)>0)return!1;const s=n.stateMachine[1];return o.gameState.time-s.attackStartTime>=Ug},perform:(n,i,o)=>{const s=Bt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),l=W1(qt(s),i.direction);if(Math.abs(l)<tS*Math.PI/180&&Math.random()<nS)vt(o.gameState,Te.AttackDeflected,i.position,Xt,i.id);else{let h=Vy;n.gender==="male"&&(h*=Jy),n.isAdult||(h*=by),(!i.isAdult||i.age>=Og)&&n.isAdult&&(h*=eS),i.hitpoints-=h,i.movementSlowdown={modifier:Xy,endTime:o.gameState.time+Qy},vt(o.gameState,Te.Hit,i.position,Xt,i.id);const v=Bt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=vn(v,Ky);i.forces.push(m),i.hitpoints<=0?Ve(o,Oe.HumanDeath,i.position):Ve(o,Oe.Attack,n.position)}n.attackCooldown=Mg;const d=n.stateMachine[1];d.attackStartTime=o.gameState.time,vt(o.gameState,Te.Attack,n.position,Xt,n.id)}},TE={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:yn*2,checker:(n,i,{gameState:o})=>ye(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+i.radius)/3,perform:(n,i,{gameState:o})=>{const s=ye(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){n.forces.push({x:.1,y:0}),i.forces.push({x:-.1,y:0});return}const c=(n.radius+i.radius-s)*.05,d=qt($1(n.position,i.position)),h=vn(d,c);n.forces.push(h),i.forces.push(vn(h,-1))}},IE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ct,checker:(n,i,o)=>{var s;return n.isAdult&&i.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===ja&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const s=i.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,i.timeSinceLastHarvest=o.gameState.time,i.ownerId=n.id,i.claimedUntil=o.gameState.time+Rg,vt(o.gameState,Te.BushClaimed,i.position,Xt),Ve(o,Oe.Gather,n.position)}},CE={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ct,checker:(n,i,o)=>{var s;return n.isAdult&&i.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===ja&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const s=i.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,Ve(o,Oe.Gather,n.position)}},RE=[IE,CE],kE=[TE,...RE,EE,wE,AE];function PE(n){const{gameState:i}=n,o=i,s=Array.from(i.entities.entities.values());for(const l of kE)for(const c of s){if(l.sourceType&&c.type!==l.sourceType)continue;const d=o.search[l.targetType].byRadius(c.position,l.maxDistance);for(const h of d){if(c.id===h.id)continue;ye(c.position,h.position,i.mapDimensions.width,i.mapDimensions.height)<=l.maxDistance&&l.checker(c,h,n)&&l.perform(c,h,n)}}}function NE(n){n.visualEffects=n.visualEffects.filter(i=>n.time-i.startTime<=i.duration)}const OE=1/60;function DE(n,i){const o=gn(n);o&&(n.viewportCenter=Dc(n.viewportCenter,o.position,Cc*i))}function vc(n,i){if(n.isPaused)return n;for(;i>0;){const o=Yc(n),s=Math.min(i,OE);if(o.gameOver)return o;const l=s*(Vt/Kt);o.time+=l,DE(o,s),iE({gameState:o,deltaTime:s}),PE({gameState:o,deltaTime:s}),NE(o),fE(o,s),n=o,i-=s}return n}function zp(n,i,o){n.save();const{x:s,y:l,width:c,height:d}=i.rect,h=u1;n.fillStyle=i.backgroundColor,n.beginPath(),n.moveTo(s+h,l),n.lineTo(s+c-h,l),n.quadraticCurveTo(s+c,l,s+c,l+h),n.lineTo(s+c,l+d-h),n.quadraticCurveTo(s+c,l+d,s+c-h,l+d),n.lineTo(s+h,l+d),n.quadraticCurveTo(s,l+d,s,l+d-h),n.lineTo(s,l+h),n.quadraticCurveTo(s,l,s+h,l),n.closePath(),n.fill(),o&&(n.fillStyle=c1,n.globalAlpha=.5,n.fill(),n.globalAlpha=1),n.fillStyle=i.textColor,i.icon?(n.font=`${d*.55}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(i.icon,s+c/2,l+d/2),i.text&&(n.font=`${d*.18}px "Press Start 2P", Arial`,n.textAlign="right",n.textBaseline="bottom",n.fillText(i.text,s+c-4,l+d-2))):(n.textAlign="center",n.textBaseline="middle",n.fillText(i.text,s+c/2,l+d/2)),n.restore()}function UE(n,i,o,s){n.save(),n.font=`${Sp}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="bottom";const c=n.measureText(o).width,d=Sp,h=c+_p*2,p=d+_p*2,v=s.x-h/2,m=n.canvas.height,S=i.y<m/2?i.y+i.height-Ep:i.y-p+Ep;n.fillStyle=d1,n.fillRect(v,S,h,p),n.fillStyle=f1,n.fillText(o,s.x,S+p/2+d/2),n.restore()}function ME(n,i,o){if(n.uiButtons=n.uiButtons.filter(s=>![_e.ToggleProcreationBehavior,_e.TogglePlantingBehavior,_e.ToggleGatheringBehavior,_e.ToggleAttackBehavior,_e.ToggleCallToAttackBehavior,_e.ToggleFeedChildrenBehavior].includes(s.action)),n.autopilotControls.isActive){const s=[{key:"gathering",action:_e.ToggleGatheringBehavior,emoji:ot.GatherFood,shortcut:"G",name:"Gathering"},{key:"attack",action:_e.ToggleAttackBehavior,emoji:ot.Attack,shortcut:"Q",name:"Attack"},{key:"callToAttack",action:_e.ToggleCallToAttackBehavior,emoji:ot.CallToAttack,shortcut:"V",name:"Call to Attack"},{key:"procreation",action:_e.ToggleProcreationBehavior,emoji:ot.Procreate,shortcut:"R",name:"Procreation"},{key:"planting",action:_e.TogglePlantingBehavior,emoji:ot.PlantBush,shortcut:"B",name:"Planting"},{key:"feedChildren",action:_e.ToggleFeedChildrenBehavior,emoji:ot.FeedChildren,shortcut:"H",name:"Feed Children"}],l=3,c=2,d=l*Pr+(l-1)*ia,h=c*Pr+(c-1)*ia,p=(i-d)/2,v=o-h-20;s.forEach((m,S)=>{const A=S%l,R=Math.floor(S/l),O=p+A*(Pr+ia),N=v+R*(Pr+ia),T=n.autopilotControls.behaviors[m.key],D={id:`toggle${m.name}Button`,action:m.action,rect:{x:O,y:N,width:Pr,height:Pr},icon:Qg[m.emoji],text:m.shortcut,backgroundColor:T?wa:_a,textColor:Ea,currentWidth:Pr,tooltip:`${m.name}: ${T?"ON":"OFF"}`};n.uiButtons.push(D)})}}function LE(n,i,o){n.save(),n.textAlign="right";let s=o-kt;const l=i.uiButtons.find(p=>p.action===_e.ToggleAutopilot);l&&(l.text="AUT[O]",l.backgroundColor=i.autopilotControls.isActive?wa:_a,l.tooltip=`Toggle Autopilot (${i.autopilotControls.isActive?"ON":"OFF"})`);const c=i.uiButtons.find(p=>p.action===_e.ToggleMute);c&&(c.text=i.isMuted?"UN[M]UTE":"[M]UTE",c.backgroundColor=i.isMuted?wa:_a,c.tooltip=`Toggle Sound (${i.isMuted?"Muted":"Enabled"})`);const d=i.uiButtons.find(p=>p.action===_e.TogglePause);d&&(d.text=i.isPaused?"UN[P]AUSE":"[P]AUSE",d.backgroundColor=i.isPaused?wa:_a,d.currentWidth=i.isPaused?Io*1.4:Io*1.1,d.tooltip=i.isPaused?"Resume Game":"Pause Game"),ME(i,o,n.canvas.height),i.uiButtons.filter(p=>p.action===_e.ToggleAutopilot||p.action===_e.ToggleMute||p.action===_e.TogglePause).forEach(p=>{const v=kt,m=s-p.currentWidth;p.rect={x:m,y:v,width:p.currentWidth,height:a1},zp(n,p,i.hoveredButtonId===p.id),s-=p.currentWidth+l1}),i.uiButtons.filter(p=>[_e.ToggleProcreationBehavior,_e.TogglePlantingBehavior,_e.ToggleGatheringBehavior,_e.ToggleAttackBehavior,_e.ToggleCallToAttackBehavior,_e.ToggleFeedChildrenBehavior].includes(p.action)).forEach(p=>{zp(n,p,i.hoveredButtonId===p.id)});const h=i.hoveredButtonId?i.uiButtons.find(p=>p.id===i.hoveredButtonId):void 0;h&&h.tooltip&&i.mousePosition&&UE(n,h.rect,h.tooltip,i.mousePosition),n.restore()}function FE(n){n.save(),n.fillStyle=A1,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=T1,n.font=`${I1}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const BE=25,HE=0,$p=28;function xE(n,i,o,s,l,c,d,h,p){n.save();const v=i.x-d.x+h/2,m=i.y-d.y+p/2;n.strokeStyle=s,n.lineWidth=c,n.setLineDash(l),n.beginPath(),n.arc(v,m,o+Wg,0,2*Math.PI),n.stroke(),n.restore()}function GE(n,i,o,s,l,c){if(i.length===0)return;n.save(),i.forEach(m=>{m.targetEntity&&xE(n,m.targetEntity.position,m.targetEntity.radius,BS,HS,2,s,l,c)}),n.font=`${pp}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const d=o.position.x-s.x+l/2,h=o.position.y-s.y+c/2;let p=0,v={};i.forEach(m=>{const S=Qg[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const A=m.targetEntity.position.x-s.x+l/2,R=m.targetEntity.position.y-s.y+c/2,O=`${S}${m.key.toUpperCase()}`,N=R-m.targetEntity.radius-Wg-pp/2-(v[m.targetEntity.id]-1)*$p;n.fillText(O,A,N)}else{n.textAlign="left";const A=`${S}${m.key.toUpperCase()}`,R=d+BE,N=h+HE+p*$p;n.fillText(A,R,N),p++,n.textAlign="center"}}),n.restore()}const oe=(n,i,o,s,l,c,d)=>{c==="transparent"||s<=0||l<=0||(n.fillStyle=c,n.fillRect(Math.floor(i*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(l*d)))},jp=10,Wp=10,hn=6,On=4,fa=2,zE=5,Yt=4,$E=2,gt=4,jE=2,$e=3,di=2,ur=0,Ro=ur+On-1,_t=Ro,Qe=Ro+Yt-1,WE="rgba(0, 0, 0, 0.4)",YE=4,VE=1,Vc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,i,o,s,l,c,d,h="male",p=20,v=[1,0],m=!1,S=0){const A=["dead","stunned"].includes(d),R=A?Wp+4:jp,O=A?jp+4:Wp+$e,N=.15,T=Math.min(s*(1-2*N)/R,l*(1-2*N)/O),D=R*T,k=O*T,$=i+(s-D)/2,G=o+(l-k)/2;n.save(),v[0]<0&&!A?(n.translate($+D,G),n.scale(-1,1)):n.translate($,G);const B="#D09A5A",x=p>50?"#BDBDBD":"#281808",J="#7F5C4A",pe="#6B4F3A",Ge="#E0D8C0",Je="#A0522D",Ue=1-Math.max(0,Math.min(100,S))/100*.2,Me=h==="male"?1.1:.9,Se=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Ie=zE*Ue*Me*Se,de=$E*Ue*Me*Se,se=jE*Ue*Se;m&&h==="female"&&(Ie*=1.5);const j=Math.round((R-Ie)/2),V=Math.round((R-hn)/2),W=j-de,w=j+Ie,U=1,re=j+(Ie/2-U/2)-se,ee=j+(Ie/2+U/2),ge=v[1]<-.2&&Math.abs(v[0])<.7,ae=X=>{n.fillStyle=WE,n.beginPath();const ie=R/2,Re=X;n.ellipse(Math.floor(ie*T),Math.floor(Re*T),Math.max(1,Math.floor(YE*T)),Math.max(1,Math.floor(VE*T)),0,0,2*Math.PI),n.fill()},fe=(X,ie)=>{h==="male"?(oe(n,j,Ro+X,Ie,Yt-di,ie,T),oe(n,j,Ro+Yt-di+X,Ie,di,J,T)):oe(n,j,Ro+X,Ie,Yt,pe,T)},ce=(X,ie)=>{ge?oe(n,V,ur+X,hn,On,x,T):(oe(n,V,ur+X,hn,On,ie,T),oe(n,V,ur+X,hn,fa,x,T),h==="female"?(oe(n,V-1,ur+fa+X,1,On,x,T),oe(n,V+hn,ur+fa+X,1,On,x,T)):oe(n,V+1,ur+2+X,hn-2,On-2,x,T))};switch(d){case"idle":{const X=c*Math.PI*2,ie=Math.sin(X)*.5,ue=(Math.cos(X*2)+1)*.25;ae(Qe+$e+1),oe(n,re+ie,Qe+ue,se,$e,B,T),oe(n,ee-ie,Qe+ue,se,$e,B,T),fe(ue,B),oe(n,W,_t+ue,de,gt,B,T),oe(n,w,_t+ue,de,gt,B,T),ce(ue,B);break}case"walk":{const X=c*Math.PI*2,ie=Math.sin(X)*2,ue=Math.abs(Math.cos(X))*1;ae(Qe+$e+1),oe(n,re+ie,Qe+ue,se,$e,B,T),oe(n,ee-ie,Qe+ue,se,$e,B,T),fe(ue,B),oe(n,W-ie,_t+ue,de,gt,B,T),oe(n,w+ie,_t+ue,de,gt,B,T),ce(ue,B);break}case"gathering":{const X=c*Math.PI*2,ie=1,Re=(Math.sin(X)+1)/2*2,ue=ie+Math.abs(Math.cos(X))*.5;ae(Qe+$e+1),oe(n,re,Qe+ue,se,$e-ie,B,T),oe(n,ee,Qe+ue,se,$e-ie,B,T),fe(ue,B),oe(n,W+1,_t+ue-Re,de,gt,B,T),oe(n,w-1,_t+ue-Re,de,gt,B,T),ce(ue,B);break}case"eat":{ae(Qe+$e+1),oe(n,re,Qe+1,se,$e-1,B,T),oe(n,ee,Qe+1,se,$e-1,B,T),fe(1,B);const Re=(Math.sin(c*Math.PI*4)+1)/2,ue=V+hn/2,_n=ur+On/2,Nt=w+(ue-w)*Re,Ht=_t+1+(_n-(_t+1))*Re;oe(n,W,_t+1,de,gt,B,T),oe(n,Nt,Ht,de,gt,B,T),oe(n,Nt,Ht-1,1,1,Je,T),ce(1,B);break}case"procreate":{const X=(Math.sin(c*Math.PI*8)+1)/4,ie=(Math.sin(c*Math.PI*6)+1)*.5,Re=1.5,ue=Re-ie;ae(Qe+$e+1),oe(n,re,Qe+ue,se,$e-Re,B,T),oe(n,ee,Qe+ue,se,$e-Re,B,T),fe(ue,B),oe(n,W,_t+ue,de,gt,B,T),oe(n,w,_t+ue,de,gt,B,T),ce(ue,B),n.globalAlpha=X,fe(ue,"white"),n.globalAlpha=1;break}case"attacking":{const X=Math.sin(c*Math.PI)*1.5,ie=Math.abs(Math.sin(c*Math.PI));ae(Qe+$e+1),oe(n,re-X,Qe+ie,se,$e,B,T),oe(n,ee+X*.5,Qe+ie,se,$e,B,T),fe(ie,B),oe(n,W,_t+ie-2,de,gt,B,T),oe(n,w,_t+ie-2.5,de,gt,B,T),ce(ie,B);break}case"defending":{ae(Qe+$e+1),oe(n,re,Qe+1,se,$e-1,B,T),oe(n,ee,Qe+1,se,$e-1,B,T),fe(1,B),oe(n,W-1,_t+1-1,de,gt,B,T),oe(n,w+1,_t+1-1,de,gt,B,T),ce(1,B);break}case"stunned":case"dead":{const X=d==="dead",ie=X?Math.min(1,c):0,Re=ie>.5?Ge:B,ue=h==="male"?J:pe,_n=ie>.8?"transparent":x,Nt=R/2,Ht=O/2,hr=2;ae(O-1),oe(n,Nt-se-hr,Ht,se,$e,Re,T),oe(n,Nt+hr,Ht,se,$e,Re,T),oe(n,Nt-de-hr,Ht-Yt+1,de,gt,Re,T),oe(n,Nt+hr,Ht-Yt+1,de,gt,Re,T);const En=Nt-Ie/2,Mn=Ht-Yt/2;h==="male"?(ie<.7&&oe(n,En,Mn+Yt-di,Ie,di,ue,T),oe(n,En,Mn,Ie,Yt-di,Re,T)):ie<.7?oe(n,En,Mn,Ie,Yt,ue,T):oe(n,En,Mn,Ie,Yt,Re,T);const Br=Nt-hn/2,Ln=Ht-Yt/2-On+1;if(oe(n,Br,Ln,hn,On,Re,T),_n!=="transparent"&&oe(n,Br,Ln,hn,fa,_n,T),X&&ie>.6){const Fn="#B0A890";for(let pr=0;pr<3;pr++)oe(n,En+1,Mn+pr*1+1,Ie-2,.5,Fn,T)}break}default:oe(n,0,0,R,O,"magenta",T);break}n.restore()}};function KE(n,i,o,s,l){const c=i.x,d=i.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(c-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(c-s/2,d),n.lineTo(c-s/4,d-s/3),n.lineTo(c-s/6,d),n.moveTo(c-s/6,d),n.lineTo(c,d-s/2),n.lineTo(c+s/6,d),n.moveTo(c+s/6,d),n.lineTo(c+s/4,d-s/3),n.lineTo(c+s/2,d),n.stroke(),n.restore()}function Go(n,i,o,s,l,c=!1,d=!1,h=!1,p=!1){s<kc&&(o=o*.75),Vc.render(n,i.x-o/2,i.y-o/2,o,o,0,"idle",l,s,[0,0],!1,0);let v,m;c?(v=JS,m=Oc):d?(v=bS,m=$g):h?(v=e1,m=zg):p&&(v=t1,m=Gg),v&&m&&KE(n,i,o/2,v,m)}function XE(n,i,o,s,l,c){if(n.save(),s.length===0){n.restore();return}const d=s.length*l,h=4;let p;const v=d+(s.length-1)*h;s.length>1&&v>c?p=(c-d)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:S,isPlayer:A,isHeir:R,isPartner:O,isParent:N}=s[m],T=i+m*(l+p)+l/2,D=o+l/4;Go(n,{x:T,y:D},l,S.age,S.gender,A,R,O,N)}n.restore()}function QE(n,i,o,s){if(i.length===0)return;n.save();const l=rr,c=" 00",d=" 00";n.font=`${ju}px "Press Start 2P", Arial`;const h=n.measureText(c).width,p=n.measureText(d).width,v=rr+ta+rr+ir+h+rr/2+ir+p,m=i.length*na+(i.length-1)*vp,S=s-m-rr;n.fillStyle=r1,n.fillRect(l,S,v,m);for(let A=0;A<i.length;A++){const R=i[A],O=S+A*(na+vp),N=O+na/2;R.isPlayerTribe&&(n.fillStyle=n1,n.fillRect(l,O,v,na));let T=l+rr;n.font=`${ta}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(R.tribeBadge,T,N-ta/4),T+=ta+rr*1.1,R.adultCount>0&&(Go(n,{x:T+ir/2,y:N},ir,25,"male"),T+=ir/2,n.font=`${ju}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.adultCount}`,T,N),T+=n.measureText(` ${R.adultCount}`).width+rr/2),R.childCount>0&&(Go(n,{x:T+ir/2,y:N},ir,1,"female"),T+=ir/2,n.font=`${ju}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.childCount}`,T,N))}n.restore()}function ZE(n,i,o,s,l){n.save();const{position:c}=i;n.strokeStyle=s,n.lineWidth=2+Math.sin(l*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(c.x,c.y,o,0,2*Math.PI),n.stroke(),n.restore()}function qE(n,i,o,s,l){if(i.transitionState===Et.INACTIVE)return;const c=o.steps[i.currentStepIndex];if(!c)return;n.save(),n.globalAlpha=i.transitionAlpha;const d=C1,h=R1,p=k1,v=`${Vu}px "Press Start 2P", Arial`,m=`${Ip}px "Press Start 2P", Arial`,S=N1,A=Ip*1.5;n.font=m;const R=c.text.split(" ");let O="";const N=[];for(let G=0;G<R.length;G++){const b=O+R[G]+" ";n.measureText(b).width>d-h*2&&G>0?(N.push(O),O=R[G]+" "):O=b}N.push(O);const T=h*2+Vu+h/2+N.length*A,D=(s-d)/2,k=l-T-20;n.fillStyle=P1,n.beginPath(),n.moveTo(D+p,k),n.lineTo(D+d-p,k),n.quadraticCurveTo(D+d,k,D+d,k+p),n.lineTo(D+d,k+T-p),n.quadraticCurveTo(D+d,k+T,D+d-p,k+T),n.lineTo(D+p,k+T),n.quadraticCurveTo(D,k+T,D,k+T-p),n.lineTo(D,k+p),n.quadraticCurveTo(D,k,D+p,k),n.closePath(),n.fill(),n.fillStyle=S,n.textAlign="center",n.textBaseline="top",n.font=v,n.fillText(c.title,D+d/2,k+h),n.font=m;let $=k+h+Vu+h/2;for(const G of N)n.fillText(G,D+d/2,$),$+=A;n.restore()}function Yp(n,i,o){n.save();const s=L1,l={x:i.x-s,y:i.y-s,width:i.width+s*2,height:i.height+s*2};n.strokeStyle=Vg,n.lineWidth=M1+Math.sin(o*U1)*1.5,n.setLineDash([8,8]),n.strokeRect(l.x,l.y,l.width,l.height),n.restore()}function JE(n,i){n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${i.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20)}const yc=10,bE=3,Vp=yc*.7;function ew(n,i,o,s,l){const{position:c,food:d,maxFood:h,ownerId:p,claimedUntil:v}=i;if(n.beginPath(),n.arc(c.x,c.y,yc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),p&&v&&v>l&&s){const m=o.entities.entities.get(p);if(m){let S;m.id===s.id?S=Oc:em(s,m,o)?S=FS:S=jg,S&&(n.strokeStyle=S,n.lineWidth=1+Math.sin(l*2)*.5,n.beginPath(),n.arc(c.x,c.y,yc+2,0,Math.PI*2),n.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let S=0;S<d.length;S++){const A=S*m,R=c.x+Vp*Math.cos(A),O=c.y+Vp*Math.sin(A);n.beginPath(),n.arc(R,O,bE,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}function tw(n,i){const{position:o,gender:s,age:l,decayProgress:c,food:d,radius:h}=i;if(n.save(),n.globalAlpha=1-c,Vc.render(n,o.x-h,o.y-h,h*2,h*2,c,"dead",s,l,[0,0],!1,0),n.restore(),d.length>0){n.save(),n.font=`${qS}px Arial`,n.textAlign="center",n.textBaseline="middle";const p=yn*.9,v=Math.PI/Pg*3;d.forEach((m,S)=>{const A=S*v,R=o.x+p*Math.cos(A)*Math.atan2(S,S),O=o.y+p*Math.sin(A)*Math.atan2(S,S),N=Xg[m.type];n.fillText(N,R,O)}),n.restore()}}function mi(n,i,o,s,l,c,d,h){n.save(),n.fillStyle=d,n.fillRect(i,o,s,l),n.fillStyle=h,n.fillRect(i,o,s*Math.max(0,c),l),n.restore()}function nw(n,i,o,s,l,c){if(n.save(),s.length===0){n.restore();return}const d=s.length*l;let h;d>c||d+(s.length-1)*4>c?h=(c-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=Xg[s[p].type];n.fillText(v,i+p*(l+h),o)}n.restore()}const rw={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",tribeSplitting:"idle"};function iw(n,i){var h;const{radius:o,position:s,activeAction:l="idle"}=i,c=((h=i.stateMachine)==null?void 0:h[0])||"N/A",d=i.isAdult?yn+20:yn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${l}`,s.x,s.y-d),n.fillText(`State: ${c}`,s.x,s.y-d+10),n.fillText(`HP: ${i.hitpoints}`,s.x,s.y-d+20),n.fillText(`Cooldown: ${i.attackCooldown||"N/A"}`,s.x,s.y-d+30),n.restore(),n.beginPath(),n.arc(s.x,s.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function ow(n,i,o){if(!i.aiBehaviorTree||!i.aiBlackboard)return;const s=i.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${g1}px Arial`,n.textAlign="left",n.textBaseline="top";const l=S=>{switch(S){case M.SUCCESS:return v1;case M.FAILURE:return y1;case M.RUNNING:return S1;case M.NOT_EVALUATED:case null:default:return _1}},c=S=>{if(!S.name||!s.has(S.name))return{width:0,height:0};let A=0,R=0;const O=s.get(S.name),N=` ${S.name}`+(O!=null&&O.debugInfo?`: ${O.debugInfo}`:""),T=n.measureText(N).width,D=(S.depth??0)*wp+8+T+Tp+go+20;if(A=Math.max(A,D),R+=Yu,S.children)for(const k of S.children){const $=c(k);A=Math.max(A,$.width),R+=$.height}else if(S.child){const k=c(S.child);A=Math.max(A,k.width),R+=k.height}return{width:A,height:R}},d=(S,A,R,O)=>{if(!S.name||!s.has(S.name))return A;let N=A;const T=s.get(S.name),D=R+2+(S.depth??0)*wp;let k=M.NOT_EVALUATED,$=Ap,G="";if(T){k=T.status,G=T.debugInfo;const x=w1/Kt*Vt,J=o-T.lastExecuted,pe=Math.max(0,1-J/x);$=Y1(Ap,E1,pe),J>Uo&&(k=M.NOT_EVALUATED)}const b=l(k);n.fillStyle=b,n.fillText("",D,N),n.fillStyle=$;const B=` ${S.name}`+(G?`: ${G}`:"");if(n.fillText(B,D+8,N),T&&T.executionHistory.length>0){const{executionHistory:x}=T,J=Yg/Kt*Vt,pe=o,Ge=pe-J,Je=R+O-go-Tp;let Ue=Je;const Me=N+(Yu-ra)/2,Se=x.filter(U=>U.time<Ge);let Ie=Se.length>0?Se[Se.length-1].status:null,de=Ge;const se=x.filter(U=>U.time>=Ge&&U.time<=pe),j=go/J;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Je,Me,go,ra);for(const U of se){const ee=(U.time-de)*j;ee>0&&(n.fillStyle=l(Ie),n.fillRect(Ue,Me,ee,ra),Ue+=ee),Ie=U.status,de=U.time}o-de>Uo&&(Ie=M.NOT_EVALUATED);const W=(pe-de)*j;n.fillStyle=l(Ie);const w=Je+go-Ue;n.fillRect(Ue,Me,Math.min(W,w),ra)}if(N+=Yu,S.children)for(const x of S.children)N=d(x,N,R,O);else S.child&&(N=d(S.child,N,R,O));return N},{width:h,height:p}=c(i.aiBehaviorTree);if(p===0){n.restore();return}const v=i.position.x+h1,m=i.position.y+p1-p/2;n.fillStyle=m1,n.fillRect(v,m,h,p+4),d(i.aiBehaviorTree,m+2,v,h),n.restore()}function sw(n,i,o,s,l){n.save(),n.font=`${mp}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,i.x,i.y-(s?yn:Nc)-mp-l),n.restore()}function aw(n,i,o,s,l){const c=i.x,d=i.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(c-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(c-s/2,d),n.lineTo(c-s/4,d-s/3),n.lineTo(c-s/6,d),n.moveTo(c-s/6,d),n.lineTo(c,d-s/2),n.lineTo(c+s/6,d),n.moveTo(c+s/6,d),n.lineTo(c+s/4,d-s/3),n.lineTo(c+s/2,d),n.stroke(),n.restore()}function lw(n,i,o){var h;const{position:s,radius:l}=i,c=s.x-Wu/2,d=s.y-l-i1;if(((h=i.stateMachine)==null?void 0:h[0])===Ti){const p=i.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/Ug,1);mi(n,c,d,Wu,yp,m,gi,o1)}else if(i.attackCooldown&&i.attackCooldown>0){const p=1-i.attackCooldown/Mg;mi(n,c,d,Wu,yp,p,gi,s1)}}function uw(n,i,o=!1,s=!1,l=!1,c=!1,d=!1,h=!1,p=!1,v,m){const{position:S,activeAction:A="idle"}=i,R=i.isAdult?yn:yn*.6,O=rw[A]||"idle";Vc.render(n,S.x-R,S.y-R,R*2,R*2,i.animationProgress||0,O,i.gender,i.age,[i.direction.x,i.direction.y],i.isPregnant??!1,i.hunger),h&&(n.save(),n.strokeStyle=jg,n.lineWidth=2,n.beginPath(),n.arc(S.x,S.y,R+3,0,2*Math.PI),n.stroke(),n.restore());let N,T;d?(N=GS,T=$g):o?(N=xS,T=Oc):l?(N=zS,T=LS):s?(N=$S,T=Gg):c&&(N=jS,T=zg),N&&T&&aw(n,S,R,N,T),i.tribeBadge&&sw(n,S,i.tribeBadge,i.isAdult??!1,N??0);const D=p&&(m===void 0||i.id===m);D&&i.aiBlackboard&&ow(n,i,v),lw(n,i,v),D&&iw(n,i)}const um=15;function Kp(n,i,o,s,l=1.5){const c=o-i.startTime,d=Math.min(c/i.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(l-1),m=um*v;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,Math.max(0,m),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function fi(n,i,o,s,l=2){const c=o-i.startTime,d=Math.min(c/i.duration,1),h=1-d,p=um*2*d;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,p,0,Math.PI*2),n.strokeStyle=s,n.lineWidth=l,n.stroke(),n.restore()}function or(n,i,o,s){const l=o-i.startTime,c=Math.min(l/i.duration,1),d=1-c,h=-20*c;n.save(),n.globalAlpha=d,n.font="20px Arial",n.textAlign="center",n.fillText(s,i.position.x,i.position.y+h),n.restore()}function cw(n,i,o){switch(i.type){case Te.Hunger:Kp(n,i,o,"rgba(255, 165, 0, 0.7)",1);break;case Te.Procreation:or(n,i,o,"");break;case Te.Pregnant:Kp(n,i,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Te.TargetAcquired:fi(n,i,o,"rgba(255, 0, 0, 0.8)",3);break;case Te.Attack:or(n,i,o,"");break;case Te.Partnered:or(n,i,o,"");break;case Te.BushClaimed:fi(n,i,o,"rgba(0, 255, 0, 0.7)",2);break;case Te.BushClaimLost:fi(n,i,o,"rgba(128, 128, 128, 0.7)",2);break;case Te.Eating:or(n,i,o,"");break;case Te.ChildFed:or(n,i,o,"");break;case Te.AttackDeflected:or(n,i,o,"");break;case Te.AttackResisted:or(n,i,o,"");break;case Te.Hit:or(n,i,o,"");break;case Te.SeizeBuildup:fi(n,i,o,"rgba(255, 215, 0, 0.8)",4);break;case Te.Seize:fi(n,i,o,"rgba(148, 0, 211, 0.8)",4);break;case Te.CallToAttack:fi(n,i,o,"rgba(255, 255, 0, 0.8)",4);break}}function yo(n,i,o,s,l,...c){const d={...l.position};for(let h=-o;h<=o;h+=o)for(let p=-i;p<=i;p+=i)l.position.x=d.x+p,l.position.y=d.y+h,s(n,l,...c);l.position=d}function dw(n,i,o){const s=gn(i),l=s?Jt(i,s):[],c=Bo(l),{width:d,height:h}=i.mapDimensions;if(Array.from(i.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,S;if(v.type==="berryBush")yo(n,d,h,ew,v,i,s,i.time);else if(v.type==="human"){const A=v,R=A.id===(s==null?void 0:s.id),O=l.some($=>$.id===A.id),N=A.id===(c==null?void 0:c.id),T=s&&(A.id===s.motherId||A.id===s.fatherId),D=s&&(((m=A.partnerIds)==null?void 0:m.includes(s.id))||((S=s.partnerIds)==null?void 0:S.includes(A.id))),k=(s==null?void 0:s.attackTargetId)===A.id;yo(n,d,h,uw,A,R,T,O,D,N,k,o,i.time,i.debugCharacterId)}else v.type==="humanCorpse"&&yo(n,d,h,tw,v)}),i.visualEffects.forEach(v=>{yo(n,d,h,cw,v,i.time)}),i.tutorialState.isActive&&i.tutorialState.highlightedEntityIds.size>0)for(const v of i.tutorialState.highlightedEntityIds){const m=i.entities.entities.get(v);m&&yo(n,d,h,ZE,m,D1,Vg,i.time)}}function fw(n,i,o,s,l,c){let d=null,h=null;n.textAlign="left";let p=kt+ar;const m=i.time/(Vt/Kt)/kg%1,S=mo[hi.Time],A=25,R=kt+A;n.fillText(S,kt,p+Lt/2+ar/3),mi(n,R,p,nr,Lt,m,gi,ZS),p+=Lt+Nn;const O=p+kr/2,N=p+(kr-Lt)/2,T=5;Go(n,{x:kt*2,y:O},kr,5,o.gender,!1,!1,!1);const D=kt+kr+T,k=nr+A-(kr+T)*2;mi(n,D,N,k,Lt,Math.floor(o.age)/Oo,gi,QS),Go(n,{x:D+k+T+kr/2,y:O},kr,Oo,o.gender,!1,!1,!1),p+=Lt+Nn*2;const $=[],G=new Set;if($.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),G.add(o.id),s&&!G.has(s.id)&&($.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),G.add(s.id)),l.forEach(Se=>{G.has(Se.id)||($.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),G.add(Se.id))}),c.forEach(Se=>{G.has(Se.id)||($.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),G.add(Se.id))}),o.motherId&&!G.has(o.motherId)){const Se=i.entities.entities.get(o.motherId);Se&&($.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),G.add(Se.id))}if(o.fatherId&&!G.has(o.fatherId)){const Se=i.entities.entities.get(o.fatherId);Se&&($.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),G.add(Se.id))}const b=mo[hi.Family],B=10,x=kt+ar+B,J=nr+A-(ar+B),pe=p+ea/2;n.font=`${ar}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(b,kt,pe);const Ge=p+ea/2;XE(n,x,Ge,$,ea,J),p+=ea+Nn,n.textBaseline="alphabetic";const Je=mo[hi.Hitpoints];n.fillText(Je,kt,p+Lt/2+ar/3),mi(n,R,p,nr,Lt,o.hitpoints/o.maxHitpoints,gi,XS),p+=Lt+Nn;const Ue=mo[hi.Hunger];n.fillText(Ue,kt,p+Lt/2+ar/3),mi(n,R,p,nr,Lt,(Zt-o.hunger)/Zt,gi,KS),d={x:kt,y:p-Nn/2,width:nr+A,height:Lt+Nn},p+=Lt+Nn,n.textBaseline="middle";const Me=mo[hi.Food];return n.fillText(Me,kt,p+bs/2),nw(n,R,p+bs/2,o.food,bs,nr),h={x:kt,y:p-Nn/5,width:nr+A,height:bs+Nn},n.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function Ua(n,i,o,s,l,c=!1){var d;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-s.x,n.canvas.height/2-s.y),!c&&i.gameOver){n.restore(),JE(n,i);return}if(dw(n,i,o),n.restore(),!c){n.fillStyle=WS,n.font=`${ar}px "Press Start 2P", Arial`,n.shadowColor=YS,n.shadowBlur=VS;const h=gn(i);let p=null,v=null;if(h){const S=Jt(i,h),A=Bo(S),R=((d=h.partnerIds)==null?void 0:d.map(N=>i.entities.entities.get(N)).filter(N=>N!==void 0))||[],O=fw(n,i,h,A,R,S);p=O.hungerBarRect,v=O.foodBarRect}const m=h_(i,h==null?void 0:h.leaderId);if(QE(n,m,n.canvas.width,n.canvas.height),LE(n,i,n.canvas.width),n.shadowColor="transparent",n.shadowBlur=0,h&&l.length>0&&GE(n,l,h,s,n.canvas.width,n.canvas.height),i.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:S}=i.tutorialState;S.has(xo.HUNGER_BAR)&&p&&Yp(n,p,i.time),S.has(xo.FOOD_BAR)&&v&&Yp(n,v,i.time)}i.tutorialState.isActive&&qE(n,i.tutorialState,i.tutorial,n.canvas.width,n.canvas.height),i.isPaused&&FE(n)}}const hw=Sn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,pw=Sn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,gw=Sn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,mw=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,vw=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,rc="intro-soundtrack",Xp=()=>{const{setAppState:n}=Ma(),i=me.useRef(null),o=me.useRef(null),s=me.useRef(pE()),l=me.useRef(),c=me.useRef(s.current.viewportCenter),d=me.useRef();me.useEffect(()=>(Fc(Oe.SoundTrack1,{loop:!0,trackId:rc}),()=>{Np(rc,2)}),[]),me.useEffect(()=>{const m=i.current;if(!m)return;o.current=m.getContext("2d");const S=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Ua(o.current,s.current,!1,c.current,[],!0))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),me.useEffect(()=>{const m=()=>{const A=im(s.current);if(A.length>0){const R=Math.floor(Math.random()*A.length);d.current=A[R].id}};m();const S=setInterval(m,x1);return()=>clearInterval(S)},[]);const[h,p]=Ig(m=>{if(!o.current)return;if(l.current===void 0){l.current=m;return}const S=Math.min((m-l.current)/1e3,1);s.current=vc(s.current,S);const A=d.current?s.current.entities.entities.get(d.current):void 0;if(A){const{mapDimensions:R}=s.current,{width:O,height:N}=R;let T={...A.position};const D=T.x-c.current.x;Math.abs(D)>O/2&&(D>0?T.x-=O:T.x+=O);const k=T.y-c.current.y;Math.abs(k)>N/2&&(k>0?T.y-=N:T.y+=N);let $=Dc(c.current,T,Cc*S);$={x:($.x%O+O)%O,y:($.y%N+N)%N},c.current=$}Ua(o.current,s.current,!1,c.current,[],!0),l.current=m});me.useEffect(()=>(p(),h),[p,h]);const v=()=>{Np(rc,2),n("game")};return Pe.jsxs(hw,{children:[Pe.jsx(pw,{ref:i}),Pe.jsxs(gw,{children:[Pe.jsx(mw,{children:"Tribe"}),Pe.jsx(vw,{onClick:v,children:"Start Game"})]})]})};function yw(){return console.log("Tribe game initialized with detailed 2D world state."),hE()}const Qp=()=>{const[n]=me.useState(()=>yw());return Pe.jsx(Sw,{initialState:n})},Sw=({initialState:n})=>{const i=me.useRef(null),o=me.useRef(null),s=me.useRef(n),l=me.useRef(),c=me.useRef(new Set),d=me.useRef(!1),h=me.useRef(n.viewportCenter),p=me.useRef([]),{appState:v,setAppState:m}=Ma();me.useEffect(()=>{const O=i.current;if(!O)return;o.current=O.getContext("2d");const N=()=>{O&&o.current&&(O.width=window.innerWidth,O.height=window.innerHeight,Ua(o.current,s.current,d.current,h.current,p.current,!1))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[S,A,R]=Ig(O=>{if(!o.current||!l.current){l.current=O;return}const N=Math.min(O-l.current,1e3)/1e3;s.current=vc(s.current,N);const T=gn(s.current);if(T?p.current=qg(s.current,T):p.current=[],T){const{mapDimensions:D}=s.current,{width:k,height:$}=D;let G={...T.position};if(s.current.debugCharacterId){const J=s.current.entities.entities.get(s.current.debugCharacterId);J&&(G={...J.position})}const b=G.x-h.current.x;Math.abs(b)>k/2&&(b>0?G.x-=k:G.x+=k);const B=G.y-h.current.y;Math.abs(B)>$/2&&(B>0?G.y-=$:G.y+=$);let x=Dc(h.current,G,Cc*N);x={x:(x.x%k+k)%k,y:(x.y%$+$)%$},h.current=x}else h.current=s.current.viewportCenter;Ua(o.current,s.current,d.current,h.current,p.current,!1),l.current=O,s.current.gameOver&&v!=="gameOver"&&(Fc(Oe.GameOver,{masterVolume:s.current.masterVolume,isMuted:s.current.isMuted}),m("gameOver",{generations:s.current.generationCount,cause:s.current.causeOfGameOver||"Unknown"}))});return me.useEffect(()=>(A(),S),[A,S]),me.useEffect(()=>{const O=N=>{if(!R()||s.current.gameOver||!i.current)return;const T=i.current.getBoundingClientRect(),D=N.clientX-T.left,k=N.clientY-T.top,$={gameState:s.current};s.current.uiButtons.forEach(G=>{if(D>=G.rect.x&&D<=G.rect.x+G.rect.width&&k>=G.rect.y&&k<=G.rect.y+G.rect.height){const b=gn(s.current);switch(b&&Ve($,Oe.ButtonClick,b.position),G.action){case _e.ToggleAutopilot:s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;break;case _e.ToggleMute:s.current.isMuted=!s.current.isMuted,Eo(s.current.masterVolume,s.current.isMuted);break;case _e.TogglePause:s.current.isPaused=!s.current.isPaused;break;case _e.ToggleProcreationBehavior:s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation;break;case _e.TogglePlantingBehavior:s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting;break;case _e.ToggleGatheringBehavior:s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering;break;case _e.ToggleAttackBehavior:s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack;break;case _e.ToggleCallToAttackBehavior:s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack;break;case _e.ToggleFeedChildrenBehavior:s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren;break}}})};return window.addEventListener("mousedown",O),()=>{window.removeEventListener("mousedown",O)}},[R]),me.useEffect(()=>{const O=N=>{if(!R()||!i.current)return;const T=i.current.getBoundingClientRect(),D=N.clientX-T.left,k=N.clientY-T.top;s.current.mousePosition={x:D,y:k};let $;for(let G=s.current.uiButtons.length-1;G>=0;G--){const b=s.current.uiButtons[G];if(D>=b.rect.x&&D<=b.rect.x+b.rect.width&&k>=b.rect.y&&k<=b.rect.y+b.rect.height){$=b.id;break}}s.current.hoveredButtonId=$};return window.addEventListener("mousemove",O),()=>{window.removeEventListener("mousemove",O)}},[R]),me.useEffect(()=>{const O=T=>{var G,b,B;if(!R()||s.current.gameOver)return;const D=T.key.toLowerCase();if(D==="m"){s.current.isMuted=!s.current.isMuted,Eo(s.current.masterVolume,s.current.isMuted);return}if(D==="="||D==="+"){const x=Math.min(1,s.current.masterVolume+.1);s.current.masterVolume=parseFloat(x.toFixed(1)),Eo(s.current.masterVolume,s.current.isMuted);return}if(D==="-"){const x=Math.max(0,s.current.masterVolume-.1);s.current.masterVolume=parseFloat(x.toFixed(1)),Eo(s.current.masterVolume,s.current.isMuted);return}if(D==="t"){s.current=vc(s.current,10);return}if(D===" "||D==="p"){T.preventDefault(),s.current.isPaused=!s.current.isPaused;return}if(D==="o"){s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;return}if(D===""||D==="`"){d.current=!d.current,d.current?s.current.debugCharacterId=((G=gn(s.current))==null?void 0:G.id)??((B=(b=im(s.current))==null?void 0:b[0])==null?void 0:B.id):s.current.debugCharacterId=void 0;return}if(D==="tab"){T.preventDefault(),d.current=!0;const x=Array.from(s.current.entities.entities.values()).filter(J=>J.type==="human");if(x.length>0){const J=x.sort((Ue,Me)=>Ue.isPlayer?-1:Ue.id-Me.id),pe=s.current.debugCharacterId,Je=((pe?J.findIndex(Ue=>Ue.id===pe):-1)+1)%J.length;s.current.debugCharacterId=J[Je].id}else s.current.debugCharacterId=void 0;return}const k=gn(s.current);if(!k)return;const $={gameState:s.current};if(s.current.autopilotControls.isActive){D==="r"?(s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation,Ve($,Oe.ButtonClick,k.position)):D==="b"?(s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting,Ve($,Oe.ButtonClick,k.position)):D==="g"?(s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering,Ve($,Oe.ButtonClick,k.position)):D==="q"?(s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack,Ve($,Oe.ButtonClick,k.position)):D==="v"?(s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack,Ve($,Oe.ButtonClick,k.position)):D==="h"&&(s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren,Ve($,Oe.ButtonClick,k.position));return}if(c.current.add(D),D==="e"){const x=ut(k,s.current,"berryBush",ct,Ge=>Ge.food.length>0&&k.food.length<k.maxFood),J=ut(k,s.current,"humanCorpse",ct,Ge=>Ge.food.length>0&&k.food.length<k.maxFood);let pe=null;x&&J?pe=ye(k.position,x.position,s.current.mapDimensions.width,s.current.mapDimensions.height)<=ye(k.position,J.position,s.current.mapDimensions.width,s.current.mapDimensions.height)?x:J:pe=x||J,pe&&(k.activeAction="gathering",Ve($,Oe.Gather,k.position))}else if(D==="r")ut(k,s.current,"human",ct,J=>{const pe=J;return pe.id!==k.id&&pe.gender!==k.gender&&pe.isAdult&&k.isAdult&&pe.hunger<Pt&&k.hunger<Pt&&(pe.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(pe.gender==="female"?!pe.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",Ve($,Oe.Procreate,k.position));else if(D==="f")k.activeAction="eating",Ve($,Oe.Eat,k.position);else if(D==="arrowup"||D==="w")k.direction.y=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowdown"||D==="s")k.direction.y=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowleft"||D==="a")k.direction.x=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowright"||D==="d")k.direction.x=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="q"){const x=ut(k,s.current,"human",$a,J=>J.id!==k.id&&J.leaderId!==k.leaderId);x&&(k.activeAction="attacking",k.attackTargetId=x.id)}else if(D==="b"){if(p.current.find(J=>J.type===ot.PlantBush)){const J=Jg(k.position,s.current,50,hc);J&&(k.activeAction="planting",k.target=J,s.current.hasPlayerPlantedBush=!0)}}else if(D==="v")p.current.find(J=>J.type===ot.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=s.current.time+Pa,vt(s.current,Te.CallToAttack,k.position,Pa),Ve($,Oe.CallToAttack,k.position));else if(D==="k")p.current.find(J=>J.type===ot.TribeSplit)&&rm(k,s.current);else return},N=T=>{if(!R()||s.current.gameOver)return;const D=T.key.toLowerCase();c.current.delete(D);const k=gn(s.current);!k||s.current.autopilotControls.isActive||(D==="arrowup"||D==="w"||D==="arrowdown"||D==="s"?k.direction.y=0:(D==="arrowleft"||D==="a"||D==="arrowright"||D==="d")&&(k.direction.x=0),!c.current.has("arrowup")&&!c.current.has("arrowdown")&&!c.current.has("arrowleft")&&!c.current.has("arrowright")&&!c.current.has("w")&&!c.current.has("a")&&!c.current.has("s")&&!c.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!c.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!c.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!c.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",O),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",O),window.removeEventListener("keyup",N)}},[R,v,m,A,S]),Pe.jsx("canvas",{ref:i,style:{display:"block",background:"#2c5234"}})},_w=Sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,Ew=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,ha=Sn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,ww=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,Aw=()=>{const{setAppState:n,gameOverDetails:i}=Ma(),o=()=>{n("intro")};return Pe.jsxs(_w,{children:[Pe.jsx(Ew,{children:"Game Over"}),Pe.jsx(ha,{children:"Your tribe's lineage has ended."}),i&&Pe.jsxs(Pe.Fragment,{children:[Pe.jsxs(ha,{children:["Generations Survived: ",i.generations]}),Pe.jsxs(ha,{children:["Cause of Extinction: ",i.cause]})]}),!i&&Pe.jsx(ha,{children:"Game details are unavailable."}),Pe.jsx(ww,{onClick:o,children:"Return to Menu"})]})},Tw=Sy`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function Iw(n,i){me.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";i(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),me.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const Cw=()=>{const{appState:n,setAppState:i}=Ma();Iw(n,i);const o=()=>{switch(n){case"intro":return Pe.jsx(Xp,{});case"game":return Pe.jsx(Qp,{});case"gameOver":return Pe.jsxs(Pe.Fragment,{children:[Pe.jsx(Qp,{}),Pe.jsx(Aw,{})]});default:return Pe.jsx(Xp,{})}};return Pe.jsxs(Pe.Fragment,{children:[Pe.jsx(Tw,{}),o()]})},Zp=document.getElementById("root");Zp?n_().then(()=>{vv.createRoot(Zp).render(Pe.jsx(mn.StrictMode,{children:Pe.jsx(yv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Pe.jsx(Cw,{})})}))}):console.error("Failed to find the root element");
