var G0=Object.defineProperty;var z0=(t,r,o)=>r in t?G0(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var Yt=(t,r,o)=>z0(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=o(u);fetch(u.href,c)}})();function Lh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cu={exports:{}},ho={},Pu={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function j0(){if(Pp)return ge;Pp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function w(A,O,V){this.props=A,this.context=O,this.refs=M,this.updater=V||k}w.prototype.isReactComponent={},w.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function R(){}R.prototype=w.prototype;function z(A,O,V){this.props=A,this.context=O,this.refs=M,this.updater=V||k}var x=z.prototype=new R;x.constructor=z,N(x,w.prototype),x.isPureReactComponent=!0;var j=Array.isArray,b=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function ue(A,O,V){var ie,he={},oe=null,de=null;if(O!=null)for(ie in O.ref!==void 0&&(de=O.ref),O.key!==void 0&&(oe=""+O.key),O)b.call(O,ie)&&!D.hasOwnProperty(ie)&&(he[ie]=O[ie]);var ce=arguments.length-2;if(ce===1)he.children=V;else if(1<ce){for(var K=Array(ce),te=0;te<ce;te++)K[te]=arguments[te+2];he.children=K}if(A&&A.defaultProps)for(ie in ce=A.defaultProps,ce)he[ie]===void 0&&(he[ie]=ce[ie]);return{$$typeof:t,type:A,key:oe,ref:de,props:he,_owner:L.current}}function Ce(A,O){return{$$typeof:t,type:A.type,key:O,ref:A.ref,props:A.props,_owner:A._owner}}function Re(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function lt(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return O[V]})}var De=/\/+/g;function ye(A,O){return typeof A=="object"&&A!==null&&A.key!=null?lt(""+A.key):O.toString(36)}function je(A,O,V,ie,he){var oe=typeof A;(oe==="undefined"||oe==="boolean")&&(A=null);var de=!1;if(A===null)de=!0;else switch(oe){case"string":case"number":de=!0;break;case"object":switch(A.$$typeof){case t:case r:de=!0}}if(de)return de=A,he=he(de),A=ie===""?"."+ye(de,0):ie,j(he)?(V="",A!=null&&(V=A.replace(De,"$&/")+"/"),je(he,O,V,"",function(te){return te})):he!=null&&(Re(he)&&(he=Ce(he,V+(!he.key||de&&de.key===he.key?"":(""+he.key).replace(De,"$&/")+"/")+A)),O.push(he)),1;if(de=0,ie=ie===""?".":ie+":",j(A))for(var ce=0;ce<A.length;ce++){oe=A[ce];var K=ie+ye(oe,ce);de+=je(oe,O,V,K,he)}else if(K=C(A),typeof K=="function")for(A=K.call(A),ce=0;!(oe=A.next()).done;)oe=oe.value,K=ie+ye(oe,ce++),de+=je(oe,O,V,K,he);else if(oe==="object")throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return de}function Se(A,O,V){if(A==null)return A;var ie=[],he=0;return je(A,ie,"","",function(oe){return O.call(V,oe,he++)}),ie}function pe(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var re={current:null},G={transition:null},Y={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function W(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Se,forEach:function(A,O,V){Se(A,function(){O.apply(this,arguments)},V)},count:function(A){var O=0;return Se(A,function(){O++}),O},toArray:function(A){return Se(A,function(O){return O})||[]},only:function(A){if(!Re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ge.Component=w,ge.Fragment=o,ge.Profiler=u,ge.PureComponent=z,ge.StrictMode=a,ge.Suspense=g,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ge.act=W,ge.cloneElement=function(A,O,V){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ie=N({},A.props),he=A.key,oe=A.ref,de=A._owner;if(O!=null){if(O.ref!==void 0&&(oe=O.ref,de=L.current),O.key!==void 0&&(he=""+O.key),A.type&&A.type.defaultProps)var ce=A.type.defaultProps;for(K in O)b.call(O,K)&&!D.hasOwnProperty(K)&&(ie[K]=O[K]===void 0&&ce!==void 0?ce[K]:O[K])}var K=arguments.length-2;if(K===1)ie.children=V;else if(1<K){ce=Array(K);for(var te=0;te<K;te++)ce[te]=arguments[te+2];ie.children=ce}return{$$typeof:t,type:A.type,key:he,ref:oe,props:ie,_owner:de}},ge.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ge.createElement=ue,ge.createFactory=function(A){var O=ue.bind(null,A);return O.type=A,O},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:p,render:A}},ge.isValidElement=Re,ge.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:pe}},ge.memo=function(A,O){return{$$typeof:y,type:A,compare:O===void 0?null:O}},ge.startTransition=function(A){var O=G.transition;G.transition={};try{A()}finally{G.transition=O}},ge.unstable_act=W,ge.useCallback=function(A,O){return re.current.useCallback(A,O)},ge.useContext=function(A){return re.current.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A){return re.current.useDeferredValue(A)},ge.useEffect=function(A,O){return re.current.useEffect(A,O)},ge.useId=function(){return re.current.useId()},ge.useImperativeHandle=function(A,O,V){return re.current.useImperativeHandle(A,O,V)},ge.useInsertionEffect=function(A,O){return re.current.useInsertionEffect(A,O)},ge.useLayoutEffect=function(A,O){return re.current.useLayoutEffect(A,O)},ge.useMemo=function(A,O){return re.current.useMemo(A,O)},ge.useReducer=function(A,O,V){return re.current.useReducer(A,O,V)},ge.useRef=function(A){return re.current.useRef(A)},ge.useState=function(A){return re.current.useState(A)},ge.useSyncExternalStore=function(A,O,V){return re.current.useSyncExternalStore(A,O,V)},ge.useTransition=function(){return re.current.useTransition()},ge.version="18.3.1",ge}var kp;function uc(){return kp||(kp=1,Pu.exports=j0()),Pu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function W0(){if(Rp)return ho;Rp=1;var t=uc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,y){var v,_={},C=null,k=null;y!==void 0&&(C=""+y),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(k=g.ref);for(v in g)a.call(g,v)&&!c.hasOwnProperty(v)&&(_[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:r,type:p,key:C,ref:k,props:_,_owner:u.current}}return ho.Fragment=o,ho.jsx=f,ho.jsxs=f,ho}var Dp;function $0(){return Dp||(Dp=1,Cu.exports=W0()),Cu.exports}var ke=$0(),Pe=uc();const gn=Lh(Pe);var bs={},ku={exports:{}},Ct={},Ru={exports:{}},Du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Y0(){return Np||(Np=1,function(t){function r(G,Y){var W=G.length;G.push(Y);e:for(;0<W;){var A=W-1>>>1,O=G[A];if(0<u(O,Y))G[A]=Y,G[W]=O,W=A;else break e}}function o(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var Y=G[0],W=G.pop();if(W!==Y){G[0]=W;e:for(var A=0,O=G.length,V=O>>>1;A<V;){var ie=2*(A+1)-1,he=G[ie],oe=ie+1,de=G[oe];if(0>u(he,W))oe<O&&0>u(de,he)?(G[A]=de,G[oe]=W,A=oe):(G[A]=he,G[ie]=W,A=ie);else if(oe<O&&0>u(de,W))G[A]=de,G[oe]=W,A=oe;else break e}}return Y}function u(G,Y){var W=G.sortIndex-Y.sortIndex;return W!==0?W:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],y=[],v=1,_=null,C=3,k=!1,N=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var Y=o(y);Y!==null;){if(Y.callback===null)a(y);else if(Y.startTime<=G)a(y),Y.sortIndex=Y.expirationTime,r(g,Y);else break;Y=o(y)}}function j(G){if(M=!1,x(G),!N)if(o(g)!==null)N=!0,pe(b);else{var Y=o(y);Y!==null&&re(j,Y.startTime-G)}}function b(G,Y){N=!1,M&&(M=!1,R(ue),ue=-1),k=!0;var W=C;try{for(x(Y),_=o(g);_!==null&&(!(_.expirationTime>Y)||G&&!lt());){var A=_.callback;if(typeof A=="function"){_.callback=null,C=_.priorityLevel;var O=A(_.expirationTime<=Y);Y=t.unstable_now(),typeof O=="function"?_.callback=O:_===o(g)&&a(g),x(Y)}else a(g);_=o(g)}if(_!==null)var V=!0;else{var ie=o(y);ie!==null&&re(j,ie.startTime-Y),V=!1}return V}finally{_=null,C=W,k=!1}}var L=!1,D=null,ue=-1,Ce=5,Re=-1;function lt(){return!(t.unstable_now()-Re<Ce)}function De(){if(D!==null){var G=t.unstable_now();Re=G;var Y=!0;try{Y=D(!0,G)}finally{Y?ye():(L=!1,D=null)}}else L=!1}var ye;if(typeof z=="function")ye=function(){z(De)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Se=je.port2;je.port1.onmessage=De,ye=function(){Se.postMessage(null)}}else ye=function(){w(De,0)};function pe(G){D=G,L||(L=!0,ye())}function re(G,Y){ue=w(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){N||k||(N=!0,pe(b))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(G){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var W=C;C=Y;try{return G()}finally{C=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=C;C=G;try{return Y()}finally{C=W}},t.unstable_scheduleCallback=function(G,Y,W){var A=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=W+O,G={id:v++,callback:Y,priorityLevel:G,startTime:W,expirationTime:O,sortIndex:-1},W>A?(G.sortIndex=W,r(y,G),o(g)===null&&G===o(y)&&(M?(R(ue),ue=-1):M=!0,re(j,W-A))):(G.sortIndex=O,r(g,G),N||k||(N=!0,pe(b))),G},t.unstable_shouldYield=lt,t.unstable_wrapCallback=function(G){var Y=C;return function(){var W=C;C=Y;try{return G.apply(this,arguments)}finally{C=W}}}}(Du)),Du}var Op;function V0(){return Op||(Op=1,Ru.exports=Y0()),Ru.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function X0(){if(Mp)return Ct;Mp=1;var t=uc(),r=V0();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)a.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function C(e){return g.call(_,e)?!0:g.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function k(e,n,i,s){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,n,i,s){if(n===null||typeof n>"u"||k(e,n,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function M(e,n,i,s,l,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];w[n]=new M(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(R,z);w[n]=new M(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(R,z);w[n]=new M(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(R,z);w[n]=new M(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function x(e,n,i,s){var l=w.hasOwnProperty(n)?w[n]:null;(l!==null?l.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,l,s)&&(i=null),s||l===null?C(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(n=l.attributeName,s=l.attributeNamespace,i===null?e.removeAttribute(n):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,s?e.setAttributeNS(s,n,i):e.setAttribute(n,i))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),lt=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,A;function O(e){if(A===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var V=!1;function ie(e,n){if(!e||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var s=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){s=P}e.call(n.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),d=s.stack.split(`
`),h=l.length-1,m=d.length-1;1<=h&&0<=m&&l[h]!==d[m];)m--;for(;1<=h&&0<=m;h--,m--)if(l[h]!==d[m]){if(h!==1||m!==1)do if(h--,m--,0>m||l[h]!==d[m]){var S=`
`+l[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=m);break}}}finally{V=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?O(e):""}function he(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Portal";case Ce:return"Profiler";case ue:return"StrictMode";case ye:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lt:return(e.displayName||"Context")+".Consumer";case Re:return(e._context.displayName||"Context")+".Provider";case De:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function de(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function te(e){var n=K(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _e(e){e._valueTracker||(e._valueTracker=te(e))}function le(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=K(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function An(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rt(e,n){var i=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Bt(e,n){var i=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;i=ce(n.value!=null?n.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function vr(e,n){n=n.checked,n!=null&&x(e,"checked",n,!1)}function _n(e,n){vr(e,n);var i=ce(n.value),s=n.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Br(e,n.type,i):n.hasOwnProperty("defaultValue")&&Br(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Hn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Br(e,n,i){(n!=="number"||An(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Bn=Array.isArray;function xn(e,n,i,s){if(e=e.options,n){n={};for(var l=0;l<i.length;l++)n["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=n.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&s&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),n=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function yr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fc(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(Bn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ce(i)}}function Hc(e,n){var i=ce(n.value),s=ce(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Bc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function xc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?xc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,Gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,s,l){MSApp.execUnsafeLocalFunction(function(){return e(n,i,s,l)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ri(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$g=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){$g.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Di[n]=Di[e]})});function zc(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Di.hasOwnProperty(e)&&Di[e]?(""+n).trim():n+"px"}function jc(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var s=i.indexOf("--")===0,l=zc(i,n[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,l):e[i]=l}}var Yg=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(e,n){if(n){if(Yg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function xa(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=null;function za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,xr=null,Gr=null;function Wc(e){if(e=bi(e)){if(typeof ja!="function")throw Error(o(280));var n=e.stateNode;n&&(n=ps(n),ja(e.stateNode,e.type,n))}}function $c(e){xr?Gr?Gr.push(e):Gr=[e]:xr=e}function Yc(){if(xr){var e=xr,n=Gr;if(Gr=xr=null,Wc(e),n)for(e=0;e<n.length;e++)Wc(n[e])}}function Vc(e,n){return e(n)}function Xc(){}var Wa=!1;function Kc(e,n,i){if(Wa)return e(n,i);Wa=!0;try{return Vc(e,n,i)}finally{Wa=!1,(xr!==null||Gr!==null)&&(Xc(),Yc())}}function Ni(e,n){var i=e.stateNode;if(i===null)return null;var s=ps(i);if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var $a=!1;if(p)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{$a=!1}function Vg(e,n,i,s,l,d,h,m,S){var P=Array.prototype.slice.call(arguments,3);try{n.apply(i,P)}catch(F){this.onError(F)}}var Mi=!1,Yo=null,Vo=!1,Ya=null,Xg={onError:function(e){Mi=!0,Yo=e}};function Kg(e,n,i,s,l,d,h,m,S){Mi=!1,Yo=null,Vg.apply(Xg,arguments)}function Qg(e,n,i,s,l,d,h,m,S){if(Kg.apply(this,arguments),Mi){if(Mi){var P=Yo;Mi=!1,Yo=null}else throw Error(o(198));Vo||(Vo=!0,Ya=P)}}function Sr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Qc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function qc(e){if(Sr(e)!==e)throw Error(o(188))}function qg(e){var n=e.alternate;if(!n){if(n=Sr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,s=n;;){var l=i.return;if(l===null)break;var d=l.alternate;if(d===null){if(s=l.return,s!==null){i=s;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===i)return qc(l),e;if(d===s)return qc(l),n;d=d.sibling}throw Error(o(188))}if(i.return!==s.return)i=l,s=d;else{for(var h=!1,m=l.child;m;){if(m===i){h=!0,i=l,s=d;break}if(m===s){h=!0,s=l,i=d;break}m=m.sibling}if(!h){for(m=d.child;m;){if(m===i){h=!0,i=d,s=l;break}if(m===s){h=!0,s=d,i=l;break}m=m.sibling}if(!h)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Zc(e){return e=qg(e),e!==null?bc(e):null}function bc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=bc(e);if(n!==null)return n;e=e.sibling}return null}var Jc=r.unstable_scheduleCallback,ed=r.unstable_cancelCallback,Zg=r.unstable_shouldYield,bg=r.unstable_requestPaint,We=r.unstable_now,Jg=r.unstable_getCurrentPriorityLevel,Va=r.unstable_ImmediatePriority,td=r.unstable_UserBlockingPriority,Xo=r.unstable_NormalPriority,em=r.unstable_LowPriority,nd=r.unstable_IdlePriority,Ko=null,sn=null;function tm(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ko,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:im,nm=Math.log,rm=Math.LN2;function im(e){return e>>>=0,e===0?32:31-(nm(e)/rm|0)|0}var Qo=64,qo=4194304;function Li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,l=e.suspendedLanes,d=e.pingedLanes,h=i&268435455;if(h!==0){var m=h&~l;m!==0?s=Li(m):(d&=h,d!==0&&(s=Li(d)))}else h=i&~l,h!==0?s=Li(h):d!==0&&(s=Li(d));if(s===0)return 0;if(n!==0&&n!==s&&(n&l)===0&&(l=s&-s,d=n&-n,l>=d||l===16&&(d&4194240)!==0))return n;if((s&4)!==0&&(s|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)i=31-Qt(n),l=1<<i,s|=e[i],n&=~l;return s}function om(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Qt(d),m=1<<h,S=l[h];S===-1?((m&i)===0||(m&s)!==0)&&(l[h]=om(m,n)):S<=n&&(e.expiredLanes|=m),d&=~m}}function Xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rd(){var e=Qo;return Qo<<=1,(Qo&4194240)===0&&(Qo=64),e}function Ka(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ui(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Qt(n),e[n]=i}function am(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-Qt(i),d=1<<l;n[l]=0,s[l]=-1,e[l]=-1,i&=~d}}function Qa(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Qt(i),l=1<<s;l&n|e[s]&n&&(e[s]|=n),i&=~l}}var Ie=0;function id(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var od,qa,sd,ad,ld,Za=!1,bo=[],Gn=null,zn=null,jn=null,Fi=new Map,Hi=new Map,Wn=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(e,n){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Fi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(n.pointerId)}}function Bi(e,n,i,s,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[l]},n!==null&&(n=bi(n),n!==null&&qa(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function um(e,n,i,s,l){switch(n){case"focusin":return Gn=Bi(Gn,e,n,i,s,l),!0;case"dragenter":return zn=Bi(zn,e,n,i,s,l),!0;case"mouseover":return jn=Bi(jn,e,n,i,s,l),!0;case"pointerover":var d=l.pointerId;return Fi.set(d,Bi(Fi.get(d)||null,e,n,i,s,l)),!0;case"gotpointercapture":return d=l.pointerId,Hi.set(d,Bi(Hi.get(d)||null,e,n,i,s,l)),!0}return!1}function cd(e){var n=Er(e.target);if(n!==null){var i=Sr(n);if(i!==null){if(n=i.tag,n===13){if(n=Qc(i),n!==null){e.blockedOn=n,ld(e.priority,function(){sd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ja(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Ga=s,i.target.dispatchEvent(s),Ga=null}else return n=bi(i),n!==null&&qa(n),e.blockedOn=i,!1;n.shift()}return!0}function dd(e,n,i){Jo(e)&&i.delete(n)}function cm(){Za=!1,Gn!==null&&Jo(Gn)&&(Gn=null),zn!==null&&Jo(zn)&&(zn=null),jn!==null&&Jo(jn)&&(jn=null),Fi.forEach(dd),Hi.forEach(dd)}function xi(e,n){e.blockedOn===n&&(e.blockedOn=null,Za||(Za=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cm)))}function Gi(e){function n(l){return xi(l,e)}if(0<bo.length){xi(bo[0],e);for(var i=1;i<bo.length;i++){var s=bo[i];s.blockedOn===e&&(s.blockedOn=null)}}for(Gn!==null&&xi(Gn,e),zn!==null&&xi(zn,e),jn!==null&&xi(jn,e),Fi.forEach(n),Hi.forEach(n),i=0;i<Wn.length;i++)s=Wn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)cd(i),i.blockedOn===null&&Wn.shift()}var zr=j.ReactCurrentBatchConfig,es=!0;function dm(e,n,i,s){var l=Ie,d=zr.transition;zr.transition=null;try{Ie=1,ba(e,n,i,s)}finally{Ie=l,zr.transition=d}}function fm(e,n,i,s){var l=Ie,d=zr.transition;zr.transition=null;try{Ie=4,ba(e,n,i,s)}finally{Ie=l,zr.transition=d}}function ba(e,n,i,s){if(es){var l=Ja(e,n,i,s);if(l===null)ml(e,n,s,ts,i),ud(e,s);else if(um(l,e,n,i,s))s.stopPropagation();else if(ud(e,s),n&4&&-1<lm.indexOf(e)){for(;l!==null;){var d=bi(l);if(d!==null&&od(d),d=Ja(e,n,i,s),d===null&&ml(e,n,s,ts,i),d===l)break;l=d}l!==null&&s.stopPropagation()}else ml(e,n,s,null,i)}}var ts=null;function Ja(e,n,i,s){if(ts=null,e=za(s),e=Er(e),e!==null)if(n=Sr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Qc(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ts=e,null}function fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jg()){case Va:return 1;case td:return 4;case Xo:case em:return 16;case nd:return 536870912;default:return 16}default:return 16}}var $n=null,el=null,ns=null;function pd(){if(ns)return ns;var e,n=el,i=n.length,s,l="value"in $n?$n.value:$n.textContent,d=l.length;for(e=0;e<i&&n[e]===l[e];e++);var h=i-e;for(s=1;s<=h&&n[i-s]===l[d-s];s++);return ns=l.slice(e,1<s?1-s:void 0)}function rs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function hd(){return!1}function Dt(e){function n(i,s,l,d,h){this._reactName=i,this._targetInst=l,this.type=s,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(d):d[m]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?is:hd,this.isPropagationStopped=hd,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),n}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Dt(jr),zi=W({},jr,{view:0,detail:0}),pm=Dt(zi),nl,rl,ji,os=W({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ol,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(nl=e.screenX-ji.screenX,rl=e.screenY-ji.screenY):rl=nl=0,ji=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),gd=Dt(os),hm=W({},os,{dataTransfer:0}),gm=Dt(hm),mm=W({},zi,{relatedTarget:0}),il=Dt(mm),vm=W({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=Dt(vm),Sm=W({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=Dt(Sm),Am=W({},jr,{data:0}),md=Dt(Am),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Im[e])?!!n[e]:!1}function ol(){return Tm}var Cm=W({},zi,{key:function(e){if(e.key){var n=_m[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ol,charCode:function(e){return e.type==="keypress"?rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pm=Dt(Cm),km=W({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=Dt(km),Rm=W({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ol}),Dm=Dt(Rm),Nm=W({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Om=Dt(Nm),Mm=W({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=Dt(Mm),Um=[9,13,27,32],sl=p&&"CompositionEvent"in window,Wi=null;p&&"documentMode"in document&&(Wi=document.documentMode);var Fm=p&&"TextEvent"in window&&!Wi,yd=p&&(!sl||Wi&&8<Wi&&11>=Wi),Sd=" ",Ed=!1;function Ad(e,n){switch(e){case"keyup":return Um.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Hm(e,n){switch(e){case"compositionend":return _d(n);case"keypress":return n.which!==32?null:(Ed=!0,Sd);case"textInput":return e=n.data,e===Sd&&Ed?null:e;default:return null}}function Bm(e,n){if(Wr)return e==="compositionend"||!sl&&Ad(e,n)?(e=pd(),ns=el=$n=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yd&&n.locale!=="ko"?null:n.data;default:return null}}var xm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xm[e.type]:n==="textarea"}function Id(e,n,i,s){$c(s),n=cs(n,"onChange"),0<n.length&&(i=new tl("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var $i=null,Yi=null;function Gm(e){jd(e,0)}function ss(e){var n=Kr(e);if(le(n))return e}function zm(e,n){if(e==="change")return n}var Td=!1;if(p){var al;if(p){var ll="oninput"in document;if(!ll){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),ll=typeof Cd.oninput=="function"}al=ll}else al=!1;Td=al&&(!document.documentMode||9<document.documentMode)}function Pd(){$i&&($i.detachEvent("onpropertychange",kd),Yi=$i=null)}function kd(e){if(e.propertyName==="value"&&ss(Yi)){var n=[];Id(n,Yi,e,za(e)),Kc(Gm,n)}}function jm(e,n,i){e==="focusin"?(Pd(),$i=n,Yi=i,$i.attachEvent("onpropertychange",kd)):e==="focusout"&&Pd()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(Yi)}function $m(e,n){if(e==="click")return ss(n)}function Ym(e,n){if(e==="input"||e==="change")return ss(n)}function Vm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qt=typeof Object.is=="function"?Object.is:Vm;function Vi(e,n){if(qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var l=i[s];if(!g.call(n,l)||!qt(e[l],n[l]))return!1}return!0}function Rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,n){var i=Rd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rd(i)}}function Nd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Od(){for(var e=window,n=An();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=An(e.document)}return n}function ul(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Xm(e){var n=Od(),i=e.focusedElem,s=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Nd(i.ownerDocument.documentElement,i)){if(s!==null&&ul(i)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,d=Math.min(s.start,l);s=s.end===void 0?d:Math.min(s.end,l),!e.extend&&d>s&&(l=s,s=d,d=l),l=Dd(i,d);var h=Dd(i,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(l.node,l.offset),e.removeAllRanges(),d>s?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Km=p&&"documentMode"in document&&11>=document.documentMode,$r=null,cl=null,Xi=null,dl=!1;function Md(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;dl||$r==null||$r!==An(s)||(s=$r,"selectionStart"in s&&ul(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xi&&Vi(Xi,s)||(Xi=s,s=cs(cl,"onSelect"),0<s.length&&(n=new tl("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=$r)))}function as(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Yr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},fl={},Ld={};p&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function ls(e){if(fl[e])return fl[e];if(!Yr[e])return e;var n=Yr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Ld)return fl[e]=n[i];return e}var Ud=ls("animationend"),Fd=ls("animationiteration"),Hd=ls("animationstart"),Bd=ls("transitionend"),xd=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,n){xd.set(e,n),c(n,[e])}for(var pl=0;pl<Gd.length;pl++){var hl=Gd[pl],Qm=hl.toLowerCase(),qm=hl[0].toUpperCase()+hl.slice(1);Yn(Qm,"on"+qm)}Yn(Ud,"onAnimationEnd"),Yn(Fd,"onAnimationIteration"),Yn(Hd,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Bd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function zd(e,n,i){var s=e.type||"unknown-event";e.currentTarget=i,Qg(s,n,void 0,e),e.currentTarget=null}function jd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],l=s.event;s=s.listeners;e:{var d=void 0;if(n)for(var h=s.length-1;0<=h;h--){var m=s[h],S=m.instance,P=m.currentTarget;if(m=m.listener,S!==d&&l.isPropagationStopped())break e;zd(l,m,P),d=S}else for(h=0;h<s.length;h++){if(m=s[h],S=m.instance,P=m.currentTarget,m=m.listener,S!==d&&l.isPropagationStopped())break e;zd(l,m,P),d=S}}}if(Vo)throw e=Ya,Vo=!1,Ya=null,e}function Oe(e,n){var i=n[_l];i===void 0&&(i=n[_l]=new Set);var s=e+"__bubble";i.has(s)||(Wd(n,e,2,!1),i.add(s))}function gl(e,n,i){var s=0;n&&(s|=4),Wd(i,e,s,n)}var us="_reactListening"+Math.random().toString(36).slice(2);function Qi(e){if(!e[us]){e[us]=!0,a.forEach(function(i){i!=="selectionchange"&&(Zm.has(i)||gl(i,!1,e),gl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[us]||(n[us]=!0,gl("selectionchange",!1,n))}}function Wd(e,n,i,s){switch(fd(n)){case 1:var l=dm;break;case 4:l=fm;break;default:l=ba}i=l.bind(null,n,i,e),l=void 0,!$a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(n,i,{capture:!0,passive:l}):e.addEventListener(n,i,!0):l!==void 0?e.addEventListener(n,i,{passive:l}):e.addEventListener(n,i,!1)}function ml(e,n,i,s,l){var d=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var m=s.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;h=h.return}for(;m!==null;){if(h=Er(m),h===null)return;if(S=h.tag,S===5||S===6){s=d=h;continue e}m=m.parentNode}}s=s.return}Kc(function(){var P=d,F=za(i),H=[];e:{var U=xd.get(e);if(U!==void 0){var $=tl,Q=e;switch(e){case"keypress":if(rs(i)===0)break e;case"keydown":case"keyup":$=Pm;break;case"focusin":Q="focus",$=il;break;case"focusout":Q="blur",$=il;break;case"beforeblur":case"afterblur":$=il;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Dm;break;case Ud:case Fd:case Hd:$=ym;break;case Bd:$=Om;break;case"scroll":$=pm;break;case"wheel":$=Lm;break;case"copy":case"cut":case"paste":$=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=vd}var q=(n&4)!==0,$e=!q&&e==="scroll",I=q?U!==null?U+"Capture":null:U;q=[];for(var E=P,T;E!==null;){T=E;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,I!==null&&(B=Ni(E,I),B!=null&&q.push(qi(E,B,T)))),$e)break;E=E.return}0<q.length&&(U=new $(U,Q,null,i,F),H.push({event:U,listeners:q}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",U&&i!==Ga&&(Q=i.relatedTarget||i.fromElement)&&(Er(Q)||Q[wn]))break e;if(($||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,$?(Q=i.relatedTarget||i.toElement,$=P,Q=Q?Er(Q):null,Q!==null&&($e=Sr(Q),Q!==$e||Q.tag!==5&&Q.tag!==6)&&(Q=null)):($=null,Q=P),$!==Q)){if(q=gd,B="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(q=vd,B="onPointerLeave",I="onPointerEnter",E="pointer"),$e=$==null?U:Kr($),T=Q==null?U:Kr(Q),U=new q(B,E+"leave",$,i,F),U.target=$e,U.relatedTarget=T,B=null,Er(F)===P&&(q=new q(I,E+"enter",Q,i,F),q.target=T,q.relatedTarget=$e,B=q),$e=B,$&&Q)t:{for(q=$,I=Q,E=0,T=q;T;T=Vr(T))E++;for(T=0,B=I;B;B=Vr(B))T++;for(;0<E-T;)q=Vr(q),E--;for(;0<T-E;)I=Vr(I),T--;for(;E--;){if(q===I||I!==null&&q===I.alternate)break t;q=Vr(q),I=Vr(I)}q=null}else q=null;$!==null&&$d(H,U,$,q,!1),Q!==null&&$e!==null&&$d(H,$e,Q,q,!0)}}e:{if(U=P?Kr(P):window,$=U.nodeName&&U.nodeName.toLowerCase(),$==="select"||$==="input"&&U.type==="file")var Z=zm;else if(wd(U))if(Td)Z=Ym;else{Z=Wm;var J=jm}else($=U.nodeName)&&$.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=$m);if(Z&&(Z=Z(e,P))){Id(H,Z,i,F);break e}J&&J(e,U,P),e==="focusout"&&(J=U._wrapperState)&&J.controlled&&U.type==="number"&&Br(U,"number",U.value)}switch(J=P?Kr(P):window,e){case"focusin":(wd(J)||J.contentEditable==="true")&&($r=J,cl=P,Xi=null);break;case"focusout":Xi=cl=$r=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Md(H,i,F);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":Md(H,i,F)}var ee;if(sl)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Wr?Ad(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(yd&&i.locale!=="ko"&&(Wr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Wr&&(ee=pd()):($n=F,el="value"in $n?$n.value:$n.textContent,Wr=!0)),J=cs(P,se),0<J.length&&(se=new md(se,e,null,i,F),H.push({event:se,listeners:J}),ee?se.data=ee:(ee=_d(i),ee!==null&&(se.data=ee)))),(ee=Fm?Hm(e,i):Bm(e,i))&&(P=cs(P,"onBeforeInput"),0<P.length&&(F=new md("onBeforeInput","beforeinput",null,i,F),H.push({event:F,listeners:P}),F.data=ee))}jd(H,n)})}function qi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function cs(e,n){for(var i=n+"Capture",s=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=Ni(e,i),d!=null&&s.unshift(qi(e,d,l)),d=Ni(e,n),d!=null&&s.push(qi(e,d,l))),e=e.return}return s}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $d(e,n,i,s,l){for(var d=n._reactName,h=[];i!==null&&i!==s;){var m=i,S=m.alternate,P=m.stateNode;if(S!==null&&S===s)break;m.tag===5&&P!==null&&(m=P,l?(S=Ni(i,d),S!=null&&h.unshift(qi(i,S,m))):l||(S=Ni(i,d),S!=null&&h.push(qi(i,S,m)))),i=i.return}h.length!==0&&e.push({event:n,listeners:h})}var bm=/\r\n?/g,Jm=/\u0000|\uFFFD/g;function Yd(e){return(typeof e=="string"?e:""+e).replace(bm,`
`).replace(Jm,"")}function ds(e,n,i){if(n=Yd(n),Yd(e)!==n&&i)throw Error(o(425))}function fs(){}var vl=null,yl=null;function Sl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(n0)}:El;function n0(e){setTimeout(function(){throw e})}function Al(e,n){var i=n,s=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(s===0){e.removeChild(l),Gi(n);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=l}while(i);Gi(n)}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Xd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),an="__reactFiber$"+Xr,Zi="__reactProps$"+Xr,wn="__reactContainer$"+Xr,_l="__reactEvents$"+Xr,r0="__reactListeners$"+Xr,i0="__reactHandles$"+Xr;function Er(e){var n=e[an];if(n)return n;for(var i=e.parentNode;i;){if(n=i[wn]||i[an]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Xd(e);e!==null;){if(i=e[an])return i;e=Xd(e)}return n}e=i,i=e.parentNode}return null}function bi(e){return e=e[an]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ps(e){return e[Zi]||null}var wl=[],Qr=-1;function Xn(e){return{current:e}}function Me(e){0>Qr||(e.current=wl[Qr],wl[Qr]=null,Qr--)}function Ne(e,n){Qr++,wl[Qr]=e.current,e.current=n}var Kn={},ut=Xn(Kn),At=Xn(!1),Ar=Kn;function qr(e,n){var i=e.type.contextTypes;if(!i)return Kn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in i)l[d]=n[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),l}function _t(e){return e=e.childContextTypes,e!=null}function hs(){Me(At),Me(ut)}function Kd(e,n,i){if(ut.current!==Kn)throw Error(o(168));Ne(ut,n),Ne(At,i)}function Qd(e,n,i){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var l in s)if(!(l in n))throw Error(o(108,de(e)||"Unknown",l));return W({},i,s)}function gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,Ar=ut.current,Ne(ut,e),Ne(At,At.current),!0}function qd(e,n,i){var s=e.stateNode;if(!s)throw Error(o(169));i?(e=Qd(e,n,Ar),s.__reactInternalMemoizedMergedChildContext=e,Me(At),Me(ut),Ne(ut,e)):Me(At),Ne(At,i)}var In=null,ms=!1,Il=!1;function Zd(e){In===null?In=[e]:In.push(e)}function o0(e){ms=!0,Zd(e)}function Qn(){if(!Il&&In!==null){Il=!0;var e=0,n=Ie;try{var i=In;for(Ie=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}In=null,ms=!1}catch(l){throw In!==null&&(In=In.slice(e+1)),Jc(Va,Qn),l}finally{Ie=n,Il=!1}}return null}var Zr=[],br=0,vs=null,ys=0,xt=[],Gt=0,_r=null,Tn=1,Cn="";function wr(e,n){Zr[br++]=ys,Zr[br++]=vs,vs=e,ys=n}function bd(e,n,i){xt[Gt++]=Tn,xt[Gt++]=Cn,xt[Gt++]=_r,_r=e;var s=Tn;e=Cn;var l=32-Qt(s)-1;s&=~(1<<l),i+=1;var d=32-Qt(n)+l;if(30<d){var h=l-l%5;d=(s&(1<<h)-1).toString(32),s>>=h,l-=h,Tn=1<<32-Qt(n)+l|i<<l|s,Cn=d+e}else Tn=1<<d|i<<l|s,Cn=e}function Tl(e){e.return!==null&&(wr(e,1),bd(e,1,0))}function Cl(e){for(;e===vs;)vs=Zr[--br],Zr[br]=null,ys=Zr[--br],Zr[br]=null;for(;e===_r;)_r=xt[--Gt],xt[Gt]=null,Cn=xt[--Gt],xt[Gt]=null,Tn=xt[--Gt],xt[Gt]=null}var Nt=null,Ot=null,Fe=!1,Zt=null;function Jd(e,n){var i=$t(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function ef(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Nt=e,Ot=Vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Nt=e,Ot=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=_r!==null?{id:Tn,overflow:Cn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=$t(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Nt=e,Ot=null,!0):!1;default:return!1}}function Pl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kl(e){if(Fe){var n=Ot;if(n){var i=n;if(!ef(e,n)){if(Pl(e))throw Error(o(418));n=Vn(i.nextSibling);var s=Nt;n&&ef(e,n)?Jd(s,i):(e.flags=e.flags&-4097|2,Fe=!1,Nt=e)}}else{if(Pl(e))throw Error(o(418));e.flags=e.flags&-4097|2,Fe=!1,Nt=e}}}function tf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Ss(e){if(e!==Nt)return!1;if(!Fe)return tf(e),Fe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Sl(e.type,e.memoizedProps)),n&&(n=Ot)){if(Pl(e))throw nf(),Error(o(418));for(;n;)Jd(e,n),n=Vn(n.nextSibling)}if(tf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ot=Vn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ot=null}}else Ot=Nt?Vn(e.stateNode.nextSibling):null;return!0}function nf(){for(var e=Ot;e;)e=Vn(e.nextSibling)}function Jr(){Ot=Nt=null,Fe=!1}function Rl(e){Zt===null?Zt=[e]:Zt.push(e)}var s0=j.ReactCurrentBatchConfig;function Ji(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var s=i.stateNode}if(!s)throw Error(o(147,e));var l=s,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var m=l.refs;h===null?delete m[d]:m[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Es(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function rf(e){var n=e._init;return n(e._payload)}function of(e){function n(I,E){if(e){var T=I.deletions;T===null?(I.deletions=[E],I.flags|=16):T.push(E)}}function i(I,E){if(!e)return null;for(;E!==null;)n(I,E),E=E.sibling;return null}function s(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function l(I,E){return I=rr(I,E),I.index=0,I.sibling=null,I}function d(I,E,T){return I.index=T,e?(T=I.alternate,T!==null?(T=T.index,T<E?(I.flags|=2,E):T):(I.flags|=2,E)):(I.flags|=1048576,E)}function h(I){return e&&I.alternate===null&&(I.flags|=2),I}function m(I,E,T,B){return E===null||E.tag!==6?(E=Eu(T,I.mode,B),E.return=I,E):(E=l(E,T),E.return=I,E)}function S(I,E,T,B){var Z=T.type;return Z===D?F(I,E,T.props.children,B,T.key):E!==null&&(E.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&rf(Z)===E.type)?(B=l(E,T.props),B.ref=Ji(I,E,T),B.return=I,B):(B=$s(T.type,T.key,T.props,null,I.mode,B),B.ref=Ji(I,E,T),B.return=I,B)}function P(I,E,T,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Au(T,I.mode,B),E.return=I,E):(E=l(E,T.children||[]),E.return=I,E)}function F(I,E,T,B,Z){return E===null||E.tag!==7?(E=Nr(T,I.mode,B,Z),E.return=I,E):(E=l(E,T),E.return=I,E)}function H(I,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Eu(""+E,I.mode,T),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return T=$s(E.type,E.key,E.props,null,I.mode,T),T.ref=Ji(I,null,E),T.return=I,T;case L:return E=Au(E,I.mode,T),E.return=I,E;case pe:var B=E._init;return H(I,B(E._payload),T)}if(Bn(E)||Y(E))return E=Nr(E,I.mode,T,null),E.return=I,E;Es(I,E)}return null}function U(I,E,T,B){var Z=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Z!==null?null:m(I,E,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case b:return T.key===Z?S(I,E,T,B):null;case L:return T.key===Z?P(I,E,T,B):null;case pe:return Z=T._init,U(I,E,Z(T._payload),B)}if(Bn(T)||Y(T))return Z!==null?null:F(I,E,T,B,null);Es(I,T)}return null}function $(I,E,T,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return I=I.get(T)||null,m(E,I,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return I=I.get(B.key===null?T:B.key)||null,S(E,I,B,Z);case L:return I=I.get(B.key===null?T:B.key)||null,P(E,I,B,Z);case pe:var J=B._init;return $(I,E,T,J(B._payload),Z)}if(Bn(B)||Y(B))return I=I.get(T)||null,F(E,I,B,Z,null);Es(E,B)}return null}function Q(I,E,T,B){for(var Z=null,J=null,ee=E,se=E=0,nt=null;ee!==null&&se<T.length;se++){ee.index>se?(nt=ee,ee=null):nt=ee.sibling;var Ee=U(I,ee,T[se],B);if(Ee===null){ee===null&&(ee=nt);break}e&&ee&&Ee.alternate===null&&n(I,ee),E=d(Ee,E,se),J===null?Z=Ee:J.sibling=Ee,J=Ee,ee=nt}if(se===T.length)return i(I,ee),Fe&&wr(I,se),Z;if(ee===null){for(;se<T.length;se++)ee=H(I,T[se],B),ee!==null&&(E=d(ee,E,se),J===null?Z=ee:J.sibling=ee,J=ee);return Fe&&wr(I,se),Z}for(ee=s(I,ee);se<T.length;se++)nt=$(ee,I,se,T[se],B),nt!==null&&(e&&nt.alternate!==null&&ee.delete(nt.key===null?se:nt.key),E=d(nt,E,se),J===null?Z=nt:J.sibling=nt,J=nt);return e&&ee.forEach(function(ir){return n(I,ir)}),Fe&&wr(I,se),Z}function q(I,E,T,B){var Z=Y(T);if(typeof Z!="function")throw Error(o(150));if(T=Z.call(T),T==null)throw Error(o(151));for(var J=Z=null,ee=E,se=E=0,nt=null,Ee=T.next();ee!==null&&!Ee.done;se++,Ee=T.next()){ee.index>se?(nt=ee,ee=null):nt=ee.sibling;var ir=U(I,ee,Ee.value,B);if(ir===null){ee===null&&(ee=nt);break}e&&ee&&ir.alternate===null&&n(I,ee),E=d(ir,E,se),J===null?Z=ir:J.sibling=ir,J=ir,ee=nt}if(Ee.done)return i(I,ee),Fe&&wr(I,se),Z;if(ee===null){for(;!Ee.done;se++,Ee=T.next())Ee=H(I,Ee.value,B),Ee!==null&&(E=d(Ee,E,se),J===null?Z=Ee:J.sibling=Ee,J=Ee);return Fe&&wr(I,se),Z}for(ee=s(I,ee);!Ee.done;se++,Ee=T.next())Ee=$(ee,I,se,Ee.value,B),Ee!==null&&(e&&Ee.alternate!==null&&ee.delete(Ee.key===null?se:Ee.key),E=d(Ee,E,se),J===null?Z=Ee:J.sibling=Ee,J=Ee);return e&&ee.forEach(function(x0){return n(I,x0)}),Fe&&wr(I,se),Z}function $e(I,E,T,B){if(typeof T=="object"&&T!==null&&T.type===D&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case b:e:{for(var Z=T.key,J=E;J!==null;){if(J.key===Z){if(Z=T.type,Z===D){if(J.tag===7){i(I,J.sibling),E=l(J,T.props.children),E.return=I,I=E;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&rf(Z)===J.type){i(I,J.sibling),E=l(J,T.props),E.ref=Ji(I,J,T),E.return=I,I=E;break e}i(I,J);break}else n(I,J);J=J.sibling}T.type===D?(E=Nr(T.props.children,I.mode,B,T.key),E.return=I,I=E):(B=$s(T.type,T.key,T.props,null,I.mode,B),B.ref=Ji(I,E,T),B.return=I,I=B)}return h(I);case L:e:{for(J=T.key;E!==null;){if(E.key===J)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){i(I,E.sibling),E=l(E,T.children||[]),E.return=I,I=E;break e}else{i(I,E);break}else n(I,E);E=E.sibling}E=Au(T,I.mode,B),E.return=I,I=E}return h(I);case pe:return J=T._init,$e(I,E,J(T._payload),B)}if(Bn(T))return Q(I,E,T,B);if(Y(T))return q(I,E,T,B);Es(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(i(I,E.sibling),E=l(E,T),E.return=I,I=E):(i(I,E),E=Eu(T,I.mode,B),E.return=I,I=E),h(I)):i(I,E)}return $e}var ei=of(!0),sf=of(!1),As=Xn(null),_s=null,ti=null,Dl=null;function Nl(){Dl=ti=_s=null}function Ol(e){var n=As.current;Me(As),e._currentValue=n}function Ml(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function ni(e,n){_s=e,Dl=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(wt=!0),e.firstContext=null)}function zt(e){var n=e._currentValue;if(Dl!==e)if(e={context:e,memoizedValue:n,next:null},ti===null){if(_s===null)throw Error(o(308));ti=e,_s.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return n}var Ir=null;function Ll(e){Ir===null?Ir=[e]:Ir.push(e)}function af(e,n,i,s){var l=n.interleaved;return l===null?(i.next=i,Ll(n)):(i.next=l.next,l.next=i),n.interleaved=i,Pn(e,s)}function Pn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var qn=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Zn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ve&2)!==0){var l=s.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),s.pending=n,Pn(e,i)}return l=s.interleaved,l===null?(n.next=n,Ll(s)):(n.next=l.next,l.next=n),s.interleaved=n,Pn(e,i)}function ws(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Qa(e,i)}}function uf(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var l=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?l=d=h:d=d.next=h,i=i.next}while(i!==null);d===null?l=d=n:d=d.next=n}else l=d=n;i={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Is(e,n,i,s){var l=e.updateQueue;qn=!1;var d=l.firstBaseUpdate,h=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var S=m,P=S.next;S.next=null,h===null?d=P:h.next=P,h=S;var F=e.alternate;F!==null&&(F=F.updateQueue,m=F.lastBaseUpdate,m!==h&&(m===null?F.firstBaseUpdate=P:m.next=P,F.lastBaseUpdate=S))}if(d!==null){var H=l.baseState;h=0,F=P=S=null,m=d;do{var U=m.lane,$=m.eventTime;if((s&U)===U){F!==null&&(F=F.next={eventTime:$,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var Q=e,q=m;switch(U=n,$=i,q.tag){case 1:if(Q=q.payload,typeof Q=="function"){H=Q.call($,H,U);break e}H=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=q.payload,U=typeof Q=="function"?Q.call($,H,U):Q,U==null)break e;H=W({},H,U);break e;case 2:qn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,U=l.effects,U===null?l.effects=[m]:U.push(m))}else $={eventTime:$,lane:U,tag:m.tag,payload:m.payload,callback:m.callback,next:null},F===null?(P=F=$,S=H):F=F.next=$,h|=U;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;U=m,m=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);if(F===null&&(S=H),l.baseState=S,l.firstBaseUpdate=P,l.lastBaseUpdate=F,n=l.shared.interleaved,n!==null){l=n;do h|=l.lane,l=l.next;while(l!==n)}else d===null&&(l.shared.lanes=0);Pr|=h,e.lanes=h,e.memoizedState=H}}function cf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],l=s.callback;if(l!==null){if(s.callback=null,s=i,typeof l!="function")throw Error(o(191,l));l.call(s)}}}var eo={},ln=Xn(eo),to=Xn(eo),no=Xn(eo);function Tr(e){if(e===eo)throw Error(o(174));return e}function Fl(e,n){switch(Ne(no,n),Ne(to,e),Ne(ln,eo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ha(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ha(n,e)}Me(ln),Ne(ln,n)}function ri(){Me(ln),Me(to),Me(no)}function df(e){Tr(no.current);var n=Tr(ln.current),i=Ha(n,e.type);n!==i&&(Ne(to,e),Ne(ln,i))}function Hl(e){to.current===e&&(Me(ln),Me(to))}var xe=Xn(0);function Ts(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bl=[];function xl(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var Cs=j.ReactCurrentDispatcher,Gl=j.ReactCurrentBatchConfig,Cr=0,Ge=null,Qe=null,et=null,Ps=!1,ro=!1,io=0,a0=0;function ct(){throw Error(o(321))}function zl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!qt(e[i],n[i]))return!1;return!0}function jl(e,n,i,s,l,d){if(Cr=d,Ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Cs.current=e===null||e.memoizedState===null?d0:f0,e=i(s,l),ro){d=0;do{if(ro=!1,io=0,25<=d)throw Error(o(301));d+=1,et=Qe=null,n.updateQueue=null,Cs.current=p0,e=i(s,l)}while(ro)}if(Cs.current=Ds,n=Qe!==null&&Qe.next!==null,Cr=0,et=Qe=Ge=null,Ps=!1,n)throw Error(o(300));return e}function Wl(){var e=io!==0;return io=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ge.memoizedState=et=e:et=et.next=e,et}function jt(){if(Qe===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=et===null?Ge.memoizedState:et.next;if(n!==null)et=n,Qe=e;else{if(e===null)throw Error(o(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},et===null?Ge.memoizedState=et=e:et=et.next=e}return et}function oo(e,n){return typeof n=="function"?n(e):n}function $l(e){var n=jt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=Qe,l=s.baseQueue,d=i.pending;if(d!==null){if(l!==null){var h=l.next;l.next=d.next,d.next=h}s.baseQueue=l=d,i.pending=null}if(l!==null){d=l.next,s=s.baseState;var m=h=null,S=null,P=d;do{var F=P.lane;if((Cr&F)===F)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var H={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(m=S=H,h=s):S=S.next=H,Ge.lanes|=F,Pr|=F}P=P.next}while(P!==null&&P!==d);S===null?h=s:S.next=m,qt(s,n.memoizedState)||(wt=!0),n.memoizedState=s,n.baseState=h,n.baseQueue=S,i.lastRenderedState=s}if(e=i.interleaved,e!==null){l=e;do d=l.lane,Ge.lanes|=d,Pr|=d,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Yl(e){var n=jt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,l=i.pending,d=n.memoizedState;if(l!==null){i.pending=null;var h=l=l.next;do d=e(d,h.action),h=h.next;while(h!==l);qt(d,n.memoizedState)||(wt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,s]}function ff(){}function pf(e,n){var i=Ge,s=jt(),l=n(),d=!qt(s.memoizedState,l);if(d&&(s.memoizedState=l,wt=!0),s=s.queue,Vl(mf.bind(null,i,s,e),[e]),s.getSnapshot!==n||d||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,so(9,gf.bind(null,i,s,l,n),void 0,null),tt===null)throw Error(o(349));(Cr&30)!==0||hf(i,n,l)}return l}function hf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function gf(e,n,i,s){n.value=i,n.getSnapshot=s,vf(n)&&yf(e)}function mf(e,n,i){return i(function(){vf(n)&&yf(e)})}function vf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!qt(e,i)}catch{return!0}}function yf(e){var n=Pn(e,1);n!==null&&tn(n,e,1,-1)}function Sf(e){var n=un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},n.queue=e,e=e.dispatch=c0.bind(null,Ge,e),[n.memoizedState,e]}function so(e,n,i,s){return e={tag:e,create:n,destroy:i,deps:s,next:null},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e)),e}function Ef(){return jt().memoizedState}function ks(e,n,i,s){var l=un();Ge.flags|=e,l.memoizedState=so(1|n,i,void 0,s===void 0?null:s)}function Rs(e,n,i,s){var l=jt();s=s===void 0?null:s;var d=void 0;if(Qe!==null){var h=Qe.memoizedState;if(d=h.destroy,s!==null&&zl(s,h.deps)){l.memoizedState=so(n,i,d,s);return}}Ge.flags|=e,l.memoizedState=so(1|n,i,d,s)}function Af(e,n){return ks(8390656,8,e,n)}function Vl(e,n){return Rs(2048,8,e,n)}function _f(e,n){return Rs(4,2,e,n)}function wf(e,n){return Rs(4,4,e,n)}function If(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tf(e,n,i){return i=i!=null?i.concat([e]):null,Rs(4,4,If.bind(null,n,e),i)}function Xl(){}function Cf(e,n){var i=jt();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&zl(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Pf(e,n){var i=jt();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&zl(n,s[1])?s[0]:(e=e(),i.memoizedState=[e,n],e)}function kf(e,n,i){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=i):(qt(i,n)||(i=rd(),Ge.lanes|=i,Pr|=i,e.baseState=!0),n)}function l0(e,n){var i=Ie;Ie=i!==0&&4>i?i:4,e(!0);var s=Gl.transition;Gl.transition={};try{e(!1),n()}finally{Ie=i,Gl.transition=s}}function Rf(){return jt().memoizedState}function u0(e,n,i){var s=tr(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},Df(e))Nf(n,i);else if(i=af(e,n,i,s),i!==null){var l=mt();tn(i,e,s,l),Of(i,n,s)}}function c0(e,n,i){var s=tr(e),l={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(Df(e))Nf(n,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,m=d(h,i);if(l.hasEagerState=!0,l.eagerState=m,qt(m,h)){var S=n.interleaved;S===null?(l.next=l,Ll(n)):(l.next=S.next,S.next=l),n.interleaved=l;return}}catch{}finally{}i=af(e,n,l,s),i!==null&&(l=mt(),tn(i,e,s,l),Of(i,n,s))}}function Df(e){var n=e.alternate;return e===Ge||n!==null&&n===Ge}function Nf(e,n){ro=Ps=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Of(e,n,i){if((i&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,Qa(e,i)}}var Ds={readContext:zt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},d0={readContext:zt,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:zt,useEffect:Af,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,ks(4194308,4,If.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ks(4194308,4,e,n)},useInsertionEffect:function(e,n){return ks(4,2,e,n)},useMemo:function(e,n){var i=un();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var s=un();return n=i!==void 0?i(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=u0.bind(null,Ge,e),[s.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:Sf,useDebugValue:Xl,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=Sf(!1),n=e[0];return e=l0.bind(null,e[1]),un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var s=Ge,l=un();if(Fe){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),tt===null)throw Error(o(349));(Cr&30)!==0||hf(s,n,i)}l.memoizedState=i;var d={value:i,getSnapshot:n};return l.queue=d,Af(mf.bind(null,s,d,e),[e]),s.flags|=2048,so(9,gf.bind(null,s,d,i,n),void 0,null),i},useId:function(){var e=un(),n=tt.identifierPrefix;if(Fe){var i=Cn,s=Tn;i=(s&~(1<<32-Qt(s)-1)).toString(32)+i,n=":"+n+"R"+i,i=io++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=a0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},f0={readContext:zt,useCallback:Cf,useContext:zt,useEffect:Vl,useImperativeHandle:Tf,useInsertionEffect:_f,useLayoutEffect:wf,useMemo:Pf,useReducer:$l,useRef:Ef,useState:function(){return $l(oo)},useDebugValue:Xl,useDeferredValue:function(e){var n=jt();return kf(n,Qe.memoizedState,e)},useTransition:function(){var e=$l(oo)[0],n=jt().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:pf,useId:Rf,unstable_isNewReconciler:!1},p0={readContext:zt,useCallback:Cf,useContext:zt,useEffect:Vl,useImperativeHandle:Tf,useInsertionEffect:_f,useLayoutEffect:wf,useMemo:Pf,useReducer:Yl,useRef:Ef,useState:function(){return Yl(oo)},useDebugValue:Xl,useDeferredValue:function(e){var n=jt();return Qe===null?n.memoizedState=e:kf(n,Qe.memoizedState,e)},useTransition:function(){var e=Yl(oo)[0],n=jt().memoizedState;return[e,n]},useMutableSource:ff,useSyncExternalStore:pf,useId:Rf,unstable_isNewReconciler:!1};function bt(e,n){if(e&&e.defaultProps){n=W({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Kl(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:W({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ns={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var s=mt(),l=tr(e),d=kn(s,l);d.payload=n,i!=null&&(d.callback=i),n=Zn(e,d,l),n!==null&&(tn(n,e,l,s),ws(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=mt(),l=tr(e),d=kn(s,l);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Zn(e,d,l),n!==null&&(tn(n,e,l,s),ws(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=mt(),s=tr(e),l=kn(i,s);l.tag=2,n!=null&&(l.callback=n),n=Zn(e,l,s),n!==null&&(tn(n,e,s,i),ws(n,e,s))}};function Mf(e,n,i,s,l,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,h):n.prototype&&n.prototype.isPureReactComponent?!Vi(i,s)||!Vi(l,d):!0}function Lf(e,n,i){var s=!1,l=Kn,d=n.contextType;return typeof d=="object"&&d!==null?d=zt(d):(l=_t(n)?Ar:ut.current,s=n.contextTypes,d=(s=s!=null)?qr(e,l):Kn),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ns,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),n}function Uf(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Ns.enqueueReplaceState(n,n.state,null)}function Ql(e,n,i,s){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs={},Ul(e);var d=n.contextType;typeof d=="object"&&d!==null?l.context=zt(d):(d=_t(n)?Ar:ut.current,l.context=qr(e,d)),l.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Kl(e,n,d,i),l.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(n=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),n!==l.state&&Ns.enqueueReplaceState(l,l.state,null),Is(e,i,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,n){try{var i="",s=n;do i+=he(s),s=s.return;while(s);var l=i}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:l,digest:null}}function ql(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Zl(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function Ff(e,n,i){i=kn(-1,i),i.tag=3,i.payload={element:null};var s=n.value;return i.callback=function(){Bs||(Bs=!0,fu=s),Zl(e,n)},i}function Hf(e,n,i){i=kn(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=n.value;i.payload=function(){return s(l)},i.callback=function(){Zl(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Zl(e,n),typeof s!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),i}function Bf(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var l=new Set;s.set(n,l)}else l=s.get(n),l===void 0&&(l=new Set,s.set(n,l));l.has(i)||(l.add(i),e=k0.bind(null,e,n,i),n.then(e,e))}function xf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Gf(e,n,i,s,l){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=kn(-1,1),n.tag=2,Zn(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var g0=j.ReactCurrentOwner,wt=!1;function gt(e,n,i,s){n.child=e===null?sf(n,null,i,s):ei(n,e.child,i,s)}function zf(e,n,i,s,l){i=i.render;var d=n.ref;return ni(n,l),s=jl(e,n,i,s,d,l),i=Wl(),e!==null&&!wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Rn(e,n,l)):(Fe&&i&&Tl(n),n.flags|=1,gt(e,n,s,l),n.child)}function jf(e,n,i,s,l){if(e===null){var d=i.type;return typeof d=="function"&&!Su(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,Wf(e,n,d,s,l)):(e=$s(i.type,null,s,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&l)===0){var h=d.memoizedProps;if(i=i.compare,i=i!==null?i:Vi,i(h,s)&&e.ref===n.ref)return Rn(e,n,l)}return n.flags|=1,e=rr(d,s),e.ref=n.ref,e.return=n,n.child=e}function Wf(e,n,i,s,l){if(e!==null){var d=e.memoizedProps;if(Vi(d,s)&&e.ref===n.ref)if(wt=!1,n.pendingProps=s=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(wt=!0);else return n.lanes=e.lanes,Rn(e,n,l)}return bl(e,n,i,s,l)}function $f(e,n,i){var s=n.pendingProps,l=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(si,Mt),Mt|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ne(si,Mt),Mt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,Ne(si,Mt),Mt|=s}else d!==null?(s=d.baseLanes|i,n.memoizedState=null):s=i,Ne(si,Mt),Mt|=s;return gt(e,n,l,i),n.child}function Yf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function bl(e,n,i,s,l){var d=_t(i)?Ar:ut.current;return d=qr(n,d),ni(n,l),i=jl(e,n,i,s,d,l),s=Wl(),e!==null&&!wt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l,Rn(e,n,l)):(Fe&&s&&Tl(n),n.flags|=1,gt(e,n,i,l),n.child)}function Vf(e,n,i,s,l){if(_t(i)){var d=!0;gs(n)}else d=!1;if(ni(n,l),n.stateNode===null)Ms(e,n),Lf(n,i,s),Ql(n,i,s,l),s=!0;else if(e===null){var h=n.stateNode,m=n.memoizedProps;h.props=m;var S=h.context,P=i.contextType;typeof P=="object"&&P!==null?P=zt(P):(P=_t(i)?Ar:ut.current,P=qr(n,P));var F=i.getDerivedStateFromProps,H=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function";H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==s||S!==P)&&Uf(n,h,s,P),qn=!1;var U=n.memoizedState;h.state=U,Is(n,s,h,l),S=n.memoizedState,m!==s||U!==S||At.current||qn?(typeof F=="function"&&(Kl(n,i,F,s),S=n.memoizedState),(m=qn||Mf(n,i,m,s,U,S,P))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=S),h.props=s,h.state=S,h.context=P,s=m):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,lf(e,n),m=n.memoizedProps,P=n.type===n.elementType?m:bt(n.type,m),h.props=P,H=n.pendingProps,U=h.context,S=i.contextType,typeof S=="object"&&S!==null?S=zt(S):(S=_t(i)?Ar:ut.current,S=qr(n,S));var $=i.getDerivedStateFromProps;(F=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==H||U!==S)&&Uf(n,h,s,S),qn=!1,U=n.memoizedState,h.state=U,Is(n,s,h,l);var Q=n.memoizedState;m!==H||U!==Q||At.current||qn?(typeof $=="function"&&(Kl(n,i,$,s),Q=n.memoizedState),(P=qn||Mf(n,i,P,s,U,Q,S)||!1)?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Q,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Q,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=Q),h.props=s,h.state=Q,h.context=S,s=P):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return Jl(e,n,i,s,d,l)}function Jl(e,n,i,s,l,d){Yf(e,n);var h=(n.flags&128)!==0;if(!s&&!h)return l&&qd(n,i,!1),Rn(e,n,d);s=n.stateNode,g0.current=n;var m=h&&typeof i.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&h?(n.child=ei(n,e.child,null,d),n.child=ei(n,null,m,d)):gt(e,n,m,d),n.memoizedState=s.state,l&&qd(n,i,!0),n.child}function Xf(e){var n=e.stateNode;n.pendingContext?Kd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Kd(e,n.context,!1),Fl(e,n.containerInfo)}function Kf(e,n,i,s,l){return Jr(),Rl(l),n.flags|=256,gt(e,n,i,s),n.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qf(e,n,i){var s=n.pendingProps,l=xe.current,d=!1,h=(n.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ne(xe,l&1),e===null)return kl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=s.children,e=s.fallback,d?(s=n.mode,d=n.child,h={mode:"hidden",children:h},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Ys(h,s,0,null),e=Nr(e,s,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=tu(i),n.memoizedState=eu,e):nu(n,h));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return m0(e,n,h,s,m,l,i);if(d){d=s.fallback,h=n.mode,l=e.child,m=l.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&n.child!==l?(s=n.child,s.childLanes=0,s.pendingProps=S,n.deletions=null):(s=rr(l,S),s.subtreeFlags=l.subtreeFlags&14680064),m!==null?d=rr(m,d):(d=Nr(d,h,i,null),d.flags|=2),d.return=n,s.return=n,s.sibling=d,n.child=s,s=d,d=n.child,h=e.child.memoizedState,h=h===null?tu(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~i,n.memoizedState=eu,s}return d=e.child,e=d.sibling,s=rr(d,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=i),s.return=n,s.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=s,n.memoizedState=null,s}function nu(e,n){return n=Ys({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Os(e,n,i,s){return s!==null&&Rl(s),ei(n,e.child,null,i),e=nu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function m0(e,n,i,s,l,d,h){if(i)return n.flags&256?(n.flags&=-257,s=ql(Error(o(422))),Os(e,n,h,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=s.fallback,l=n.mode,s=Ys({mode:"visible",children:s.children},l,0,null),d=Nr(d,l,h,null),d.flags|=2,s.return=n,d.return=n,s.sibling=d,n.child=s,(n.mode&1)!==0&&ei(n,e.child,null,h),n.child.memoizedState=tu(h),n.memoizedState=eu,d);if((n.mode&1)===0)return Os(e,n,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var m=s.dgst;return s=m,d=Error(o(419)),s=ql(d,s,void 0),Os(e,n,h,s)}if(m=(h&e.childLanes)!==0,wt||m){if(s=tt,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|h))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Pn(e,l),tn(s,e,l,-1))}return yu(),s=ql(Error(o(421))),Os(e,n,h,s)}return l.data==="$?"?(n.flags|=128,n.child=e.child,n=R0.bind(null,e),l._reactRetry=n,null):(e=d.treeContext,Ot=Vn(l.nextSibling),Nt=n,Fe=!0,Zt=null,e!==null&&(xt[Gt++]=Tn,xt[Gt++]=Cn,xt[Gt++]=_r,Tn=e.id,Cn=e.overflow,_r=n),n=nu(n,s.children),n.flags|=4096,n)}function qf(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ml(e.return,n,i)}function ru(e,n,i,s,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:l}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=l)}function Zf(e,n,i){var s=n.pendingProps,l=s.revealOrder,d=s.tail;if(gt(e,n,s.children,i),s=xe.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,i,n);else if(e.tag===19)qf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ne(xe,s),(n.mode&1)===0)n.memoizedState=null;else switch(l){case"forwards":for(i=n.child,l=null;i!==null;)e=i.alternate,e!==null&&Ts(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=n.child,n.child=null):(l=i.sibling,i.sibling=null),ru(n,!1,l,i,d);break;case"backwards":for(i=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&Ts(e)===null){n.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}ru(n,!0,i,null,d);break;case"together":ru(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ms(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Rn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Pr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=rr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=rr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function v0(e,n,i){switch(n.tag){case 3:Xf(n),Jr();break;case 5:df(n);break;case 1:_t(n.type)&&gs(n);break;case 4:Fl(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,l=n.memoizedProps.value;Ne(As,s._currentValue),s._currentValue=l;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Ne(xe,xe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Qf(e,n,i):(Ne(xe,xe.current&1),e=Rn(e,n,i),e!==null?e.sibling:null);Ne(xe,xe.current&1);break;case 19:if(s=(i&n.childLanes)!==0,(e.flags&128)!==0){if(s)return Zf(e,n,i);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ne(xe,xe.current),s)break;return null;case 22:case 23:return n.lanes=0,$f(e,n,i)}return Rn(e,n,i)}var bf,iu,Jf,ep;bf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},iu=function(){},Jf=function(e,n,i,s){var l=e.memoizedProps;if(l!==s){e=n.stateNode,Tr(ln.current);var d=null;switch(i){case"input":l=Rt(e,l),s=Rt(e,s),d=[];break;case"select":l=W({},l,{value:void 0}),s=W({},s,{value:void 0}),d=[];break;case"textarea":l=yr(e,l),s=yr(e,s),d=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=fs)}Ba(i,s);var h;i=null;for(P in l)if(!s.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var m=l[P];for(h in m)m.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in s){var S=s[P];if(m=l!=null?l[P]:void 0,s.hasOwnProperty(P)&&S!==m&&(S!=null||m!=null))if(P==="style")if(m){for(h in m)!m.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in S)S.hasOwnProperty(h)&&m[h]!==S[h]&&(i||(i={}),i[h]=S[h])}else i||(d||(d=[]),d.push(P,i)),i=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,m=m?m.__html:void 0,S!=null&&m!==S&&(d=d||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&Oe("scroll",e),d||m===S||(d=[])):(d=d||[]).push(P,S))}i&&(d=d||[]).push("style",i);var P=d;(n.updateQueue=P)&&(n.flags|=4)}},ep=function(e,n,i,s){i!==s&&(n.flags|=4)};function ao(e,n){if(!Fe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function y0(e,n,i){var s=n.pendingProps;switch(Cl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return _t(n.type)&&hs(),dt(n),null;case 3:return s=n.stateNode,ri(),Me(At),Me(ut),xl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ss(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zt!==null&&(gu(Zt),Zt=null))),iu(e,n),dt(n),null;case 5:Hl(n);var l=Tr(no.current);if(i=n.type,e!==null&&n.stateNode!=null)Jf(e,n,i,s,l),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(o(166));return dt(n),null}if(e=Tr(ln.current),Ss(n)){s=n.stateNode,i=n.type;var d=n.memoizedProps;switch(s[an]=n,s[Zi]=d,e=(n.mode&1)!==0,i){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<Ki.length;l++)Oe(Ki[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Bt(s,d),Oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Oe("invalid",s);break;case"textarea":Fc(s,d),Oe("invalid",s)}Ba(i,d),l=null;for(var h in d)if(d.hasOwnProperty(h)){var m=d[h];h==="children"?typeof m=="string"?s.textContent!==m&&(d.suppressHydrationWarning!==!0&&ds(s.textContent,m,e),l=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(d.suppressHydrationWarning!==!0&&ds(s.textContent,m,e),l=["children",""+m]):u.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&Oe("scroll",s)}switch(i){case"input":_e(s),Hn(s,d,!0);break;case"textarea":_e(s),Bc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=fs)}s=l,n.updateQueue=s,s!==null&&(n.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(i,{is:s.is}):(e=h.createElement(i),i==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,i),e[an]=n,e[Zi]=s,bf(e,n,!1,!1),n.stateNode=e;e:{switch(h=xa(i,s),i){case"dialog":Oe("cancel",e),Oe("close",e),l=s;break;case"iframe":case"object":case"embed":Oe("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ki.length;l++)Oe(Ki[l],e);l=s;break;case"source":Oe("error",e),l=s;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),l=s;break;case"details":Oe("toggle",e),l=s;break;case"input":Bt(e,s),l=Rt(e,s),Oe("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=W({},s,{value:void 0}),Oe("invalid",e);break;case"textarea":Fc(e,s),l=yr(e,s),Oe("invalid",e);break;default:l=s}Ba(i,l),m=l;for(d in m)if(m.hasOwnProperty(d)){var S=m[d];d==="style"?jc(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Gc(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Ri(e,S):typeof S=="number"&&Ri(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Oe("scroll",e):S!=null&&x(e,d,S,h))}switch(i){case"input":_e(e),Hn(e,s,!1);break;case"textarea":_e(e),Bc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ce(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?xn(e,!!s.multiple,d,!1):s.defaultValue!=null&&xn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fs)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return dt(n),null;case 6:if(e&&n.stateNode!=null)ep(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(i=Tr(no.current),Tr(ln.current),Ss(n)){if(s=n.stateNode,i=n.memoizedProps,s[an]=n,(d=s.nodeValue!==i)&&(e=Nt,e!==null))switch(e.tag){case 3:ds(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ds(s.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[an]=n,n.stateNode=s}return dt(n),null;case 13:if(Me(xe),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Ot!==null&&(n.mode&1)!==0&&(n.flags&128)===0)nf(),Jr(),n.flags|=98560,d=!1;else if(d=Ss(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[an]=n}else Jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),d=!1}else Zt!==null&&(gu(Zt),Zt=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(xe.current&1)!==0?qe===0&&(qe=3):yu())),n.updateQueue!==null&&(n.flags|=4),dt(n),null);case 4:return ri(),iu(e,n),e===null&&Qi(n.stateNode.containerInfo),dt(n),null;case 10:return Ol(n.type._context),dt(n),null;case 17:return _t(n.type)&&hs(),dt(n),null;case 19:if(Me(xe),d=n.memoizedState,d===null)return dt(n),null;if(s=(n.flags&128)!==0,h=d.rendering,h===null)if(s)ao(d,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Ts(e),h!==null){for(n.flags|=128,ao(d,!1),s=h.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=i,i=n.child;i!==null;)d=i,e=s,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(xe,xe.current&1|2),n.child}e=e.sibling}d.tail!==null&&We()>ai&&(n.flags|=128,s=!0,ao(d,!1),n.lanes=4194304)}else{if(!s)if(e=Ts(h),e!==null){if(n.flags|=128,s=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ao(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Fe)return dt(n),null}else 2*We()-d.renderingStartTime>ai&&i!==1073741824&&(n.flags|=128,s=!0,ao(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(i=d.last,i!==null?i.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=We(),n.sibling=null,i=xe.current,Ne(xe,s?i&1|2:i&1),n):(dt(n),null);case 22:case 23:return vu(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Mt&1073741824)!==0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function S0(e,n){switch(Cl(n),n.tag){case 1:return _t(n.type)&&hs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ri(),Me(At),Me(ut),xl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Hl(n),null;case 13:if(Me(xe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Jr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Me(xe),null;case 4:return ri(),null;case 10:return Ol(n.type._context),null;case 22:case 23:return vu(),null;case 24:return null;default:return null}}var Ls=!1,ft=!1,E0=typeof WeakSet=="function"?WeakSet:Set,X=null;function oi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){ze(e,n,s)}else i.current=null}function ou(e,n,i){try{i()}catch(s){ze(e,n,s)}}var tp=!1;function A0(e,n){if(vl=es,e=Od(),ul(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var h=0,m=-1,S=-1,P=0,F=0,H=e,U=null;t:for(;;){for(var $;H!==i||l!==0&&H.nodeType!==3||(m=h+l),H!==d||s!==0&&H.nodeType!==3||(S=h+s),H.nodeType===3&&(h+=H.nodeValue.length),($=H.firstChild)!==null;)U=H,H=$;for(;;){if(H===e)break t;if(U===i&&++P===l&&(m=h),U===d&&++F===s&&(S=h),($=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=$}i=m===-1||S===-1?null:{start:m,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(yl={focusedElem:e,selectionRange:i},es=!1,X=n;X!==null;)if(n=X,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,X=e;else for(;X!==null;){n=X;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var q=Q.memoizedProps,$e=Q.memoizedState,I=n.stateNode,E=I.getSnapshotBeforeUpdate(n.elementType===n.type?q:bt(n.type,q),$e);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=n.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){ze(n,n.return,B)}if(e=n.sibling,e!==null){e.return=n.return,X=e;break}X=n.return}return Q=tp,tp=!1,Q}function lo(e,n,i){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&ou(n,i,d)}l=l.next}while(l!==s)}}function Us(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==n)}}function su(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function np(e){var n=e.alternate;n!==null&&(e.alternate=null,np(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[an],delete n[Zi],delete n[_l],delete n[r0],delete n[i0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rp(e){return e.tag===5||e.tag===3||e.tag===4}function ip(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function au(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=fs));else if(s!==4&&(e=e.child,e!==null))for(au(e,n,i),e=e.sibling;e!==null;)au(e,n,i),e=e.sibling}function lu(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(lu(e,n,i),e=e.sibling;e!==null;)lu(e,n,i),e=e.sibling}var ot=null,Jt=!1;function bn(e,n,i){for(i=i.child;i!==null;)op(e,n,i),i=i.sibling}function op(e,n,i){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ko,i)}catch{}switch(i.tag){case 5:ft||oi(i,n);case 6:var s=ot,l=Jt;ot=null,bn(e,n,i),ot=s,Jt=l,ot!==null&&(Jt?(e=ot,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ot.removeChild(i.stateNode));break;case 18:ot!==null&&(Jt?(e=ot,i=i.stateNode,e.nodeType===8?Al(e.parentNode,i):e.nodeType===1&&Al(e,i),Gi(e)):Al(ot,i.stateNode));break;case 4:s=ot,l=Jt,ot=i.stateNode.containerInfo,Jt=!0,bn(e,n,i),ot=s,Jt=l;break;case 0:case 11:case 14:case 15:if(!ft&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var d=l,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&ou(i,n,h),l=l.next}while(l!==s)}bn(e,n,i);break;case 1:if(!ft&&(oi(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(m){ze(i,n,m)}bn(e,n,i);break;case 21:bn(e,n,i);break;case 22:i.mode&1?(ft=(s=ft)||i.memoizedState!==null,bn(e,n,i),ft=s):bn(e,n,i);break;default:bn(e,n,i)}}function sp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new E0),n.forEach(function(s){var l=D0.bind(null,e,s);i.has(s)||(i.add(s),s.then(l,l))})}}function en(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];try{var d=e,h=n,m=h;e:for(;m!==null;){switch(m.tag){case 5:ot=m.stateNode,Jt=!1;break e;case 3:ot=m.stateNode.containerInfo,Jt=!0;break e;case 4:ot=m.stateNode.containerInfo,Jt=!0;break e}m=m.return}if(ot===null)throw Error(o(160));op(d,h,l),ot=null,Jt=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(P){ze(l,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ap(n,e),n=n.sibling}function ap(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(n,e),cn(e),s&4){try{lo(3,e,e.return),Us(3,e)}catch(q){ze(e,e.return,q)}try{lo(5,e,e.return)}catch(q){ze(e,e.return,q)}}break;case 1:en(n,e),cn(e),s&512&&i!==null&&oi(i,i.return);break;case 5:if(en(n,e),cn(e),s&512&&i!==null&&oi(i,i.return),e.flags&32){var l=e.stateNode;try{Ri(l,"")}catch(q){ze(e,e.return,q)}}if(s&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,h=i!==null?i.memoizedProps:d,m=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{m==="input"&&d.type==="radio"&&d.name!=null&&vr(l,d),xa(m,h);var P=xa(m,d);for(h=0;h<S.length;h+=2){var F=S[h],H=S[h+1];F==="style"?jc(l,H):F==="dangerouslySetInnerHTML"?Gc(l,H):F==="children"?Ri(l,H):x(l,F,H,P)}switch(m){case"input":_n(l,d);break;case"textarea":Hc(l,d);break;case"select":var U=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var $=d.value;$!=null?xn(l,!!d.multiple,$,!1):U!==!!d.multiple&&(d.defaultValue!=null?xn(l,!!d.multiple,d.defaultValue,!0):xn(l,!!d.multiple,d.multiple?[]:"",!1))}l[Zi]=d}catch(q){ze(e,e.return,q)}}break;case 6:if(en(n,e),cn(e),s&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(q){ze(e,e.return,q)}}break;case 3:if(en(n,e),cn(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Gi(n.containerInfo)}catch(q){ze(e,e.return,q)}break;case 4:en(n,e),cn(e);break;case 13:en(n,e),cn(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(du=We())),s&4&&sp(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(ft=(P=ft)||F,en(n,e),ft=P):en(n,e),cn(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!F&&(e.mode&1)!==0)for(X=e,F=e.child;F!==null;){for(H=X=F;X!==null;){switch(U=X,$=U.child,U.tag){case 0:case 11:case 14:case 15:lo(4,U,U.return);break;case 1:oi(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){s=U,i=U.return;try{n=s,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(q){ze(s,i,q)}}break;case 5:oi(U,U.return);break;case 22:if(U.memoizedState!==null){cp(H);continue}}$!==null?($.return=U,X=$):cp(H)}F=F.sibling}e:for(F=null,H=e;;){if(H.tag===5){if(F===null){F=H;try{l=H.stateNode,P?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(m=H.stateNode,S=H.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,m.style.display=zc("display",h))}catch(q){ze(e,e.return,q)}}}else if(H.tag===6){if(F===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(q){ze(e,e.return,q)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;F===H&&(F=null),H=H.return}F===H&&(F=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:en(n,e),cn(e),s&4&&sp(e);break;case 21:break;default:en(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(rp(i)){var s=i;break e}i=i.return}throw Error(o(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Ri(l,""),s.flags&=-33);var d=ip(e);lu(e,d,l);break;case 3:case 4:var h=s.stateNode.containerInfo,m=ip(e);au(e,m,h);break;default:throw Error(o(161))}}catch(S){ze(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _0(e,n,i){X=e,lp(e)}function lp(e,n,i){for(var s=(e.mode&1)!==0;X!==null;){var l=X,d=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||Ls;if(!h){var m=l.alternate,S=m!==null&&m.memoizedState!==null||ft;m=Ls;var P=ft;if(Ls=h,(ft=S)&&!P)for(X=l;X!==null;)h=X,S=h.child,h.tag===22&&h.memoizedState!==null?dp(l):S!==null?(S.return=h,X=S):dp(l);for(;d!==null;)X=d,lp(d),d=d.sibling;X=l,Ls=m,ft=P}up(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,X=d):up(e)}}function up(e){for(;X!==null;){var n=X;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ft||Us(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!ft)if(i===null)s.componentDidMount();else{var l=n.elementType===n.type?i.memoizedProps:bt(n.type,i.memoizedProps);s.componentDidUpdate(l,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&cf(n,d,s);break;case 3:var h=n.updateQueue;if(h!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}cf(n,h,i)}break;case 5:var m=n.stateNode;if(i===null&&n.flags&4){i=m;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var H=F.dehydrated;H!==null&&Gi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ft||n.flags&512&&su(n)}catch(U){ze(n,n.return,U)}}if(n===e){X=null;break}if(i=n.sibling,i!==null){i.return=n.return,X=i;break}X=n.return}}function cp(e){for(;X!==null;){var n=X;if(n===e){X=null;break}var i=n.sibling;if(i!==null){i.return=n.return,X=i;break}X=n.return}}function dp(e){for(;X!==null;){var n=X;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Us(4,n)}catch(S){ze(n,i,S)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var l=n.return;try{s.componentDidMount()}catch(S){ze(n,l,S)}}var d=n.return;try{su(n)}catch(S){ze(n,d,S)}break;case 5:var h=n.return;try{su(n)}catch(S){ze(n,h,S)}}}catch(S){ze(n,n.return,S)}if(n===e){X=null;break}var m=n.sibling;if(m!==null){m.return=n.return,X=m;break}X=n.return}}var w0=Math.ceil,Fs=j.ReactCurrentDispatcher,uu=j.ReactCurrentOwner,Wt=j.ReactCurrentBatchConfig,ve=0,tt=null,Ve=null,st=0,Mt=0,si=Xn(0),qe=0,uo=null,Pr=0,Hs=0,cu=0,co=null,It=null,du=0,ai=1/0,Dn=null,Bs=!1,fu=null,Jn=null,xs=!1,er=null,Gs=0,fo=0,pu=null,zs=-1,js=0;function mt(){return(ve&6)!==0?We():zs!==-1?zs:zs=We()}function tr(e){return(e.mode&1)===0?1:(ve&2)!==0&&st!==0?st&-st:s0.transition!==null?(js===0&&(js=rd()),js):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:fd(e.type)),e)}function tn(e,n,i,s){if(50<fo)throw fo=0,pu=null,Error(o(185));Ui(e,i,s),((ve&2)===0||e!==tt)&&(e===tt&&((ve&2)===0&&(Hs|=i),qe===4&&nr(e,st)),Tt(e,s),i===1&&ve===0&&(n.mode&1)===0&&(ai=We()+500,ms&&Qn()))}function Tt(e,n){var i=e.callbackNode;sm(e,n);var s=Zo(e,e===tt?st:0);if(s===0)i!==null&&ed(i),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(i!=null&&ed(i),n===1)e.tag===0?o0(pp.bind(null,e)):Zd(pp.bind(null,e)),t0(function(){(ve&6)===0&&Qn()}),i=null;else{switch(id(s)){case 1:i=Va;break;case 4:i=td;break;case 16:i=Xo;break;case 536870912:i=nd;break;default:i=Xo}i=Ap(i,fp.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function fp(e,n){if(zs=-1,js=0,(ve&6)!==0)throw Error(o(327));var i=e.callbackNode;if(li()&&e.callbackNode!==i)return null;var s=Zo(e,e===tt?st:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=Ws(e,s);else{n=s;var l=ve;ve|=2;var d=gp();(tt!==e||st!==n)&&(Dn=null,ai=We()+500,Rr(e,n));do try{C0();break}catch(m){hp(e,m)}while(!0);Nl(),Fs.current=d,ve=l,Ve!==null?n=0:(tt=null,st=0,n=qe)}if(n!==0){if(n===2&&(l=Xa(e),l!==0&&(s=l,n=hu(e,l))),n===1)throw i=uo,Rr(e,0),nr(e,s),Tt(e,We()),i;if(n===6)nr(e,s);else{if(l=e.current.alternate,(s&30)===0&&!I0(l)&&(n=Ws(e,s),n===2&&(d=Xa(e),d!==0&&(s=d,n=hu(e,d))),n===1))throw i=uo,Rr(e,0),nr(e,s),Tt(e,We()),i;switch(e.finishedWork=l,e.finishedLanes=s,n){case 0:case 1:throw Error(o(345));case 2:Dr(e,It,Dn);break;case 3:if(nr(e,s),(s&130023424)===s&&(n=du+500-We(),10<n)){if(Zo(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){mt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=El(Dr.bind(null,e,It,Dn),n);break}Dr(e,It,Dn);break;case 4:if(nr(e,s),(s&4194240)===s)break;for(n=e.eventTimes,l=-1;0<s;){var h=31-Qt(s);d=1<<h,h=n[h],h>l&&(l=h),s&=~d}if(s=l,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*w0(s/1960))-s,10<s){e.timeoutHandle=El(Dr.bind(null,e,It,Dn),s);break}Dr(e,It,Dn);break;case 5:Dr(e,It,Dn);break;default:throw Error(o(329))}}}return Tt(e,We()),e.callbackNode===i?fp.bind(null,e):null}function hu(e,n){var i=co;return e.current.memoizedState.isDehydrated&&(Rr(e,n).flags|=256),e=Ws(e,n),e!==2&&(n=It,It=i,n!==null&&gu(n)),e}function gu(e){It===null?It=e:It.push.apply(It,e)}function I0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var l=i[s],d=l.getSnapshot;l=l.value;try{if(!qt(d(),l))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(e,n){for(n&=~cu,n&=~Hs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Qt(n),s=1<<i;e[i]=-1,n&=~s}}function pp(e){if((ve&6)!==0)throw Error(o(327));li();var n=Zo(e,0);if((n&1)===0)return Tt(e,We()),null;var i=Ws(e,n);if(e.tag!==0&&i===2){var s=Xa(e);s!==0&&(n=s,i=hu(e,s))}if(i===1)throw i=uo,Rr(e,0),nr(e,n),Tt(e,We()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Dr(e,It,Dn),Tt(e,We()),null}function mu(e,n){var i=ve;ve|=1;try{return e(n)}finally{ve=i,ve===0&&(ai=We()+500,ms&&Qn())}}function kr(e){er!==null&&er.tag===0&&(ve&6)===0&&li();var n=ve;ve|=1;var i=Wt.transition,s=Ie;try{if(Wt.transition=null,Ie=1,e)return e()}finally{Ie=s,Wt.transition=i,ve=n,(ve&6)===0&&Qn()}}function vu(){Mt=si.current,Me(si)}function Rr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,e0(i)),Ve!==null)for(i=Ve.return;i!==null;){var s=i;switch(Cl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hs();break;case 3:ri(),Me(At),Me(ut),xl();break;case 5:Hl(s);break;case 4:ri();break;case 13:Me(xe);break;case 19:Me(xe);break;case 10:Ol(s.type._context);break;case 22:case 23:vu()}i=i.return}if(tt=e,Ve=e=rr(e.current,null),st=Mt=n,qe=0,uo=null,cu=Hs=Pr=0,It=co=null,Ir!==null){for(n=0;n<Ir.length;n++)if(i=Ir[n],s=i.interleaved,s!==null){i.interleaved=null;var l=s.next,d=i.pending;if(d!==null){var h=d.next;d.next=l,s.next=h}i.pending=s}Ir=null}return e}function hp(e,n){do{var i=Ve;try{if(Nl(),Cs.current=Ds,Ps){for(var s=Ge.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ps=!1}if(Cr=0,et=Qe=Ge=null,ro=!1,io=0,uu.current=null,i===null||i.return===null){qe=1,uo=n,Ve=null;break}e:{var d=e,h=i.return,m=i,S=n;if(n=st,m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,F=m,H=F.tag;if((F.mode&1)===0&&(H===0||H===11||H===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var $=xf(h);if($!==null){$.flags&=-257,Gf($,h,m,d,n),$.mode&1&&Bf(d,P,n),n=$,S=P;var Q=n.updateQueue;if(Q===null){var q=new Set;q.add(S),n.updateQueue=q}else Q.add(S);break e}else{if((n&1)===0){Bf(d,P,n),yu();break e}S=Error(o(426))}}else if(Fe&&m.mode&1){var $e=xf(h);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Gf($e,h,m,d,n),Rl(ii(S,m));break e}}d=S=ii(S,m),qe!==4&&(qe=2),co===null?co=[d]:co.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var I=Ff(d,S,n);uf(d,I);break e;case 1:m=S;var E=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Jn===null||!Jn.has(T)))){d.flags|=65536,n&=-n,d.lanes|=n;var B=Hf(d,m,n);uf(d,B);break e}}d=d.return}while(d!==null)}vp(i)}catch(Z){n=Z,Ve===i&&i!==null&&(Ve=i=i.return);continue}break}while(!0)}function gp(){var e=Fs.current;return Fs.current=Ds,e===null?Ds:e}function yu(){(qe===0||qe===3||qe===2)&&(qe=4),tt===null||(Pr&268435455)===0&&(Hs&268435455)===0||nr(tt,st)}function Ws(e,n){var i=ve;ve|=2;var s=gp();(tt!==e||st!==n)&&(Dn=null,Rr(e,n));do try{T0();break}catch(l){hp(e,l)}while(!0);if(Nl(),ve=i,Fs.current=s,Ve!==null)throw Error(o(261));return tt=null,st=0,qe}function T0(){for(;Ve!==null;)mp(Ve)}function C0(){for(;Ve!==null&&!Zg();)mp(Ve)}function mp(e){var n=Ep(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,n===null?vp(e):Ve=n,uu.current=null}function vp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=y0(i,n,Mt),i!==null){Ve=i;return}}else{if(i=S0(i,n),i!==null){i.flags&=32767,Ve=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ve=null;return}}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=e}while(n!==null);qe===0&&(qe=5)}function Dr(e,n,i){var s=Ie,l=Wt.transition;try{Wt.transition=null,Ie=1,P0(e,n,i,s)}finally{Wt.transition=l,Ie=s}return null}function P0(e,n,i,s){do li();while(er!==null);if((ve&6)!==0)throw Error(o(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(am(e,d),e===tt&&(Ve=tt=null,st=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||xs||(xs=!0,Ap(Xo,function(){return li(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Wt.transition,Wt.transition=null;var h=Ie;Ie=1;var m=ve;ve|=4,uu.current=null,A0(e,i),ap(i,e),Xm(yl),es=!!vl,yl=vl=null,e.current=i,_0(i),bg(),ve=m,Ie=h,Wt.transition=d}else e.current=i;if(xs&&(xs=!1,er=e,Gs=l),d=e.pendingLanes,d===0&&(Jn=null),tm(i.stateNode),Tt(e,We()),n!==null)for(s=e.onRecoverableError,i=0;i<n.length;i++)l=n[i],s(l.value,{componentStack:l.stack,digest:l.digest});if(Bs)throw Bs=!1,e=fu,fu=null,e;return(Gs&1)!==0&&e.tag!==0&&li(),d=e.pendingLanes,(d&1)!==0?e===pu?fo++:(fo=0,pu=e):fo=0,Qn(),null}function li(){if(er!==null){var e=id(Gs),n=Wt.transition,i=Ie;try{if(Wt.transition=null,Ie=16>e?16:e,er===null)var s=!1;else{if(e=er,er=null,Gs=0,(ve&6)!==0)throw Error(o(331));var l=ve;for(ve|=4,X=e.current;X!==null;){var d=X,h=d.child;if((X.flags&16)!==0){var m=d.deletions;if(m!==null){for(var S=0;S<m.length;S++){var P=m[S];for(X=P;X!==null;){var F=X;switch(F.tag){case 0:case 11:case 15:lo(8,F,d)}var H=F.child;if(H!==null)H.return=F,X=H;else for(;X!==null;){F=X;var U=F.sibling,$=F.return;if(np(F),F===P){X=null;break}if(U!==null){U.return=$,X=U;break}X=$}}}var Q=d.alternate;if(Q!==null){var q=Q.child;if(q!==null){Q.child=null;do{var $e=q.sibling;q.sibling=null,q=$e}while(q!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,X=h;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:lo(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,X=I;break e}X=d.return}}var E=e.current;for(X=E;X!==null;){h=X;var T=h.child;if((h.subtreeFlags&2064)!==0&&T!==null)T.return=h,X=T;else e:for(h=E;X!==null;){if(m=X,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Us(9,m)}}catch(Z){ze(m,m.return,Z)}if(m===h){X=null;break e}var B=m.sibling;if(B!==null){B.return=m.return,X=B;break e}X=m.return}}if(ve=l,Qn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ko,e)}catch{}s=!0}return s}finally{Ie=i,Wt.transition=n}}return!1}function yp(e,n,i){n=ii(i,n),n=Ff(e,n,1),e=Zn(e,n,1),n=mt(),e!==null&&(Ui(e,1,n),Tt(e,n))}function ze(e,n,i){if(e.tag===3)yp(e,e,i);else for(;n!==null;){if(n.tag===3){yp(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=ii(i,e),e=Hf(n,e,1),n=Zn(n,e,1),e=mt(),n!==null&&(Ui(n,1,e),Tt(n,e));break}}n=n.return}}function k0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),n=mt(),e.pingedLanes|=e.suspendedLanes&i,tt===e&&(st&i)===i&&(qe===4||qe===3&&(st&130023424)===st&&500>We()-du?Rr(e,0):cu|=i),Tt(e,n)}function Sp(e,n){n===0&&((e.mode&1)===0?n=1:(n=qo,qo<<=1,(qo&130023424)===0&&(qo=4194304)));var i=mt();e=Pn(e,n),e!==null&&(Ui(e,n,i),Tt(e,i))}function R0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Sp(e,i)}function D0(e,n){var i=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(n),Sp(e,i)}var Ep;Ep=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||At.current)wt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return wt=!1,v0(e,n,i);wt=(e.flags&131072)!==0}else wt=!1,Fe&&(n.flags&1048576)!==0&&bd(n,ys,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;Ms(e,n),e=n.pendingProps;var l=qr(n,ut.current);ni(n,i),l=jl(null,n,s,e,l,i);var d=Wl();return n.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,_t(s)?(d=!0,gs(n)):d=!1,n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ul(n),l.updater=Ns,n.stateNode=l,l._reactInternals=n,Ql(n,s,e,i),n=Jl(null,n,s,!0,d,i)):(n.tag=0,Fe&&d&&Tl(n),gt(null,n,l,i),n=n.child),n;case 16:s=n.elementType;e:{switch(Ms(e,n),e=n.pendingProps,l=s._init,s=l(s._payload),n.type=s,l=n.tag=O0(s),e=bt(s,e),l){case 0:n=bl(null,n,s,e,i);break e;case 1:n=Vf(null,n,s,e,i);break e;case 11:n=zf(null,n,s,e,i);break e;case 14:n=jf(null,n,s,bt(s.type,e),i);break e}throw Error(o(306,s,""))}return n;case 0:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:bt(s,l),bl(e,n,s,l,i);case 1:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:bt(s,l),Vf(e,n,s,l,i);case 3:e:{if(Xf(n),e===null)throw Error(o(387));s=n.pendingProps,d=n.memoizedState,l=d.element,lf(e,n),Is(n,s,null,i);var h=n.memoizedState;if(s=h.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){l=ii(Error(o(423)),n),n=Kf(e,n,s,i,l);break e}else if(s!==l){l=ii(Error(o(424)),n),n=Kf(e,n,s,i,l);break e}else for(Ot=Vn(n.stateNode.containerInfo.firstChild),Nt=n,Fe=!0,Zt=null,i=sf(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Jr(),s===l){n=Rn(e,n,i);break e}gt(e,n,s,i)}n=n.child}return n;case 5:return df(n),e===null&&kl(n),s=n.type,l=n.pendingProps,d=e!==null?e.memoizedProps:null,h=l.children,Sl(s,l)?h=null:d!==null&&Sl(s,d)&&(n.flags|=32),Yf(e,n),gt(e,n,h,i),n.child;case 6:return e===null&&kl(n),null;case 13:return Qf(e,n,i);case 4:return Fl(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ei(n,null,s,i):gt(e,n,s,i),n.child;case 11:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:bt(s,l),zf(e,n,s,l,i);case 7:return gt(e,n,n.pendingProps,i),n.child;case 8:return gt(e,n,n.pendingProps.children,i),n.child;case 12:return gt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(s=n.type._context,l=n.pendingProps,d=n.memoizedProps,h=l.value,Ne(As,s._currentValue),s._currentValue=h,d!==null)if(qt(d.value,h)){if(d.children===l.children&&!At.current){n=Rn(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){h=d.child;for(var S=m.firstContext;S!==null;){if(S.context===s){if(d.tag===1){S=kn(-1,i&-i),S.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?S.next=S:(S.next=F.next,F.next=S),P.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),Ml(d.return,i,n),m.lanes|=i;break}S=S.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=i,m=h.alternate,m!==null&&(m.lanes|=i),Ml(h,i,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}gt(e,n,l.children,i),n=n.child}return n;case 9:return l=n.type,s=n.pendingProps.children,ni(n,i),l=zt(l),s=s(l),n.flags|=1,gt(e,n,s,i),n.child;case 14:return s=n.type,l=bt(s,n.pendingProps),l=bt(s.type,l),jf(e,n,s,l,i);case 15:return Wf(e,n,n.type,n.pendingProps,i);case 17:return s=n.type,l=n.pendingProps,l=n.elementType===s?l:bt(s,l),Ms(e,n),n.tag=1,_t(s)?(e=!0,gs(n)):e=!1,ni(n,i),Lf(n,s,l),Ql(n,s,l,i),Jl(null,n,s,!0,e,i);case 19:return Zf(e,n,i);case 22:return $f(e,n,i)}throw Error(o(156,n.tag))};function Ap(e,n){return Jc(e,n)}function N0(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,n,i,s){return new N0(e,n,i,s)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O0(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===De)return 11;if(e===Se)return 14}return 2}function rr(e,n){var i=e.alternate;return i===null?(i=$t(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function $s(e,n,i,s,l,d){var h=2;if(s=e,typeof e=="function")Su(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case D:return Nr(i.children,l,d,n);case ue:h=8,l|=8;break;case Ce:return e=$t(12,i,n,l|2),e.elementType=Ce,e.lanes=d,e;case ye:return e=$t(13,i,n,l),e.elementType=ye,e.lanes=d,e;case je:return e=$t(19,i,n,l),e.elementType=je,e.lanes=d,e;case re:return Ys(i,l,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Re:h=10;break e;case lt:h=9;break e;case De:h=11;break e;case Se:h=14;break e;case pe:h=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=$t(h,i,n,l),n.elementType=e,n.type=s,n.lanes=d,n}function Nr(e,n,i,s){return e=$t(7,e,s,n),e.lanes=i,e}function Ys(e,n,i,s){return e=$t(22,e,s,n),e.elementType=re,e.lanes=i,e.stateNode={isHidden:!1},e}function Eu(e,n,i){return e=$t(6,e,null,n),e.lanes=i,e}function Au(e,n,i){return n=$t(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function M0(e,n,i,s,l){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _u(e,n,i,s,l,d,h,m,S){return e=new M0(e,n,i,m,S),n===1?(n=1,d===!0&&(n|=8)):n=0,d=$t(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(d),e}function L0(e,n,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:s==null?null:""+s,children:e,containerInfo:n,implementation:i}}function _p(e){if(!e)return Kn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(_t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(_t(i))return Qd(e,i,n)}return n}function wp(e,n,i,s,l,d,h,m,S){return e=_u(i,s,!0,e,l,d,h,m,S),e.context=_p(null),i=e.current,s=mt(),l=tr(i),d=kn(s,l),d.callback=n??null,Zn(i,d,l),e.current.lanes=l,Ui(e,l,s),Tt(e,s),e}function Vs(e,n,i,s){var l=n.current,d=mt(),h=tr(l);return i=_p(i),n.context===null?n.context=i:n.pendingContext=i,n=kn(d,h),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=Zn(l,n,h),e!==null&&(tn(e,l,h,d),ws(e,l,h)),h}function Xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ip(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function wu(e,n){Ip(e,n),(e=e.alternate)&&Ip(e,n)}function U0(){return null}var Tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iu(e){this._internalRoot=e}Ks.prototype.render=Iu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));Vs(e,n,null,null)},Ks.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;kr(function(){Vs(null,e,null,null)}),n[wn]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var n=ad();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Wn.length&&n!==0&&n<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&cd(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cp(){}function F0(e,n,i,s,l){if(l){if(typeof s=="function"){var d=s;s=function(){var P=Xs(h);d.call(P)}}var h=wp(n,s,e,0,null,!1,!1,"",Cp);return e._reactRootContainer=h,e[wn]=h.current,Qi(e.nodeType===8?e.parentNode:e),kr(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var m=s;s=function(){var P=Xs(S);m.call(P)}}var S=_u(e,0,!1,null,null,!1,!1,"",Cp);return e._reactRootContainer=S,e[wn]=S.current,Qi(e.nodeType===8?e.parentNode:e),kr(function(){Vs(n,S,i,s)}),S}function qs(e,n,i,s,l){var d=i._reactRootContainer;if(d){var h=d;if(typeof l=="function"){var m=l;l=function(){var S=Xs(h);m.call(S)}}Vs(n,h,e,l)}else h=F0(i,n,e,l,s);return Xs(h)}od=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Li(n.pendingLanes);i!==0&&(Qa(n,i|1),Tt(n,We()),(ve&6)===0&&(ai=We()+500,Qn()))}break;case 13:kr(function(){var s=Pn(e,1);if(s!==null){var l=mt();tn(s,e,1,l)}}),wu(e,1)}},qa=function(e){if(e.tag===13){var n=Pn(e,134217728);if(n!==null){var i=mt();tn(n,e,134217728,i)}wu(e,134217728)}},sd=function(e){if(e.tag===13){var n=tr(e),i=Pn(e,n);if(i!==null){var s=mt();tn(i,e,n,s)}wu(e,n)}},ad=function(){return Ie},ld=function(e,n){var i=Ie;try{return Ie=e,n()}finally{Ie=i}},ja=function(e,n,i){switch(n){case"input":if(_n(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var l=ps(s);if(!l)throw Error(o(90));le(s),_n(s,l)}}}break;case"textarea":Hc(e,i);break;case"select":n=i.value,n!=null&&xn(e,!!i.multiple,n,!1)}},Vc=mu,Xc=kr;var H0={usingClientEntryPoint:!1,Events:[bi,Kr,ps,$c,Yc,mu]},po={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zc(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Ko=Zs.inject(B0),sn=Zs}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0,Ct.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(n))throw Error(o(200));return L0(e,n,null,i)},Ct.createRoot=function(e,n){if(!Tu(e))throw Error(o(299));var i=!1,s="",l=Tp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),n=_u(e,1,!1,null,null,i,!1,s,l),e[wn]=n.current,Qi(e.nodeType===8?e.parentNode:e),new Iu(n)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Zc(n),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return kr(e)},Ct.hydrate=function(e,n,i){if(!Qs(n))throw Error(o(200));return qs(null,e,n,!0,i)},Ct.hydrateRoot=function(e,n,i){if(!Tu(e))throw Error(o(405));var s=i!=null&&i.hydratedSources||null,l=!1,d="",h=Tp;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),n=wp(n,null,e,1,i??null,l,!1,d,h),e[wn]=n.current,Qi(e),s)for(e=0;e<s.length;e++)i=s[e],l=i._getVersion,l=l(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,l]:n.mutableSourceEagerHydrationData.push(i,l);return new Ks(n)},Ct.render=function(e,n,i){if(!Qs(n))throw Error(o(200));return qs(null,e,n,!1,i)},Ct.unmountComponentAtNode=function(e){if(!Qs(e))throw Error(o(40));return e._reactRootContainer?(kr(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Ct.unstable_batchedUpdates=mu,Ct.unstable_renderSubtreeIntoContainer=function(e,n,i,s){if(!Qs(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return qs(e,n,i,!1,s)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Lp;function K0(){if(Lp)return ku.exports;Lp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),ku.exports=X0(),ku.exports}var Up;function Q0(){if(Up)return bs;Up=1;var t=K0();return bs.createRoot=t.createRoot,bs.hydrateRoot=t.hydrateRoot,bs}var q0=Q0();const Z0=Lh(q0),Uh=Pe.createContext(void 0),b0=({initialAppState:t,children:r})=>{const[o,a]=Pe.useState(t),[u,c]=Pe.useState(void 0),f=(p,g)=>{a(p),p==="gameOver"&&g?c(g):p!=="gameOver"&&c(void 0)};return ke.jsx(Uh.Provider,{value:{appState:o,setAppState:f,gameOverDetails:u},children:r})},Ta=()=>{const t=Pe.useContext(Uh);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var ht=function(){return ht=Object.assign||function(r){for(var o,a=1,u=arguments.length;a<u;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},ht.apply(this,arguments)};function ko(t,r,o){if(o||arguments.length===2)for(var a=0,u=r.length,c;a<u;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return t.concat(c||Array.prototype.slice.call(r))}var Le="-ms-",Io="-moz-",we="-webkit-",Fh="comm",Ca="rule",cc="decl",J0="@import",Hh="@keyframes",ev="@layer",Bh=Math.abs,dc=String.fromCharCode,Xu=Object.assign;function tv(t,r){return rt(t,0)^45?(((r<<2^rt(t,0))<<2^rt(t,1))<<2^rt(t,2))<<2^rt(t,3):0}function xh(t){return t.trim()}function On(t,r){return(t=r.exec(t))?t[0]:t}function fe(t,r,o){return t.replace(r,o)}function aa(t,r,o){return t.indexOf(r,o)}function rt(t,r){return t.charCodeAt(r)|0}function vi(t,r,o){return t.slice(r,o)}function pn(t){return t.length}function Gh(t){return t.length}function Eo(t,r){return r.push(t),t}function nv(t,r){return t.map(r).join("")}function Fp(t,r){return t.filter(function(o){return!On(o,r)})}var Pa=1,yi=1,zh=0,Kt=0,Xe=0,Ci="";function ka(t,r,o,a,u,c,f,p){return{value:t,root:r,parent:o,type:a,props:u,children:c,line:Pa,column:yi,length:f,return:"",siblings:p}}function cr(t,r){return Xu(ka("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function ui(t){for(;t.root;)t=cr(t.root,{children:[t]});Eo(t,t.siblings)}function rv(){return Xe}function iv(){return Xe=Kt>0?rt(Ci,--Kt):0,yi--,Xe===10&&(yi=1,Pa--),Xe}function rn(){return Xe=Kt<zh?rt(Ci,Kt++):0,yi++,Xe===10&&(yi=1,Pa++),Xe}function Fr(){return rt(Ci,Kt)}function la(){return Kt}function Ra(t,r){return vi(Ci,t,r)}function Ku(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ov(t){return Pa=yi=1,zh=pn(Ci=t),Kt=0,[]}function sv(t){return Ci="",t}function Nu(t){return xh(Ra(Kt-1,Qu(t===91?t+2:t===40?t+1:t)))}function av(t){for(;(Xe=Fr())&&Xe<33;)rn();return Ku(t)>2||Ku(Xe)>3?"":" "}function lv(t,r){for(;--r&&rn()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return Ra(t,la()+(r<6&&Fr()==32&&rn()==32))}function Qu(t){for(;rn();)switch(Xe){case t:return Kt;case 34:case 39:t!==34&&t!==39&&Qu(Xe);break;case 40:t===41&&Qu(t);break;case 92:rn();break}return Kt}function uv(t,r){for(;rn()&&t+Xe!==57;)if(t+Xe===84&&Fr()===47)break;return"/*"+Ra(r,Kt-1)+"*"+dc(t===47?t:rn())}function cv(t){for(;!Ku(Fr());)rn();return Ra(t,Kt)}function dv(t){return sv(ua("",null,null,null,[""],t=ov(t),0,[0],t))}function ua(t,r,o,a,u,c,f,p,g){for(var y=0,v=0,_=f,C=0,k=0,N=0,M=1,w=1,R=1,z=0,x="",j=u,b=c,L=a,D=x;w;)switch(N=z,z=rn()){case 40:if(N!=108&&rt(D,_-1)==58){aa(D+=fe(Nu(z),"&","&\f"),"&\f",Bh(y?p[y-1]:0))!=-1&&(R=-1);break}case 34:case 39:case 91:D+=Nu(z);break;case 9:case 10:case 13:case 32:D+=av(N);break;case 92:D+=lv(la()-1,7);continue;case 47:switch(Fr()){case 42:case 47:Eo(fv(uv(rn(),la()),r,o,g),g);break;default:D+="/"}break;case 123*M:p[y++]=pn(D)*R;case 125*M:case 59:case 0:switch(z){case 0:case 125:w=0;case 59+v:R==-1&&(D=fe(D,/\f/g,"")),k>0&&pn(D)-_&&Eo(k>32?Bp(D+";",a,o,_-1,g):Bp(fe(D," ","")+";",a,o,_-2,g),g);break;case 59:D+=";";default:if(Eo(L=Hp(D,r,o,y,v,u,p,x,j=[],b=[],_,c),c),z===123)if(v===0)ua(D,r,L,L,j,c,_,p,b);else switch(C===99&&rt(D,3)===110?100:C){case 100:case 108:case 109:case 115:ua(t,L,L,a&&Eo(Hp(t,L,L,0,0,u,p,x,u,j=[],_,b),b),u,b,_,p,a?j:b);break;default:ua(D,L,L,L,[""],b,0,p,b)}}y=v=k=0,M=R=1,x=D="",_=f;break;case 58:_=1+pn(D),k=N;default:if(M<1){if(z==123)--M;else if(z==125&&M++==0&&iv()==125)continue}switch(D+=dc(z),z*M){case 38:R=v>0?1:(D+="\f",-1);break;case 44:p[y++]=(pn(D)-1)*R,R=1;break;case 64:Fr()===45&&(D+=Nu(rn())),C=Fr(),v=_=pn(x=D+=cv(la())),z++;break;case 45:N===45&&pn(D)==2&&(M=0)}}return c}function Hp(t,r,o,a,u,c,f,p,g,y,v,_){for(var C=u-1,k=u===0?c:[""],N=Gh(k),M=0,w=0,R=0;M<a;++M)for(var z=0,x=vi(t,C+1,C=Bh(w=f[M])),j=t;z<N;++z)(j=xh(w>0?k[z]+" "+x:fe(x,/&\f/g,k[z])))&&(g[R++]=j);return ka(t,r,o,u===0?Ca:p,g,y,v,_)}function fv(t,r,o,a){return ka(t,r,o,Fh,dc(rv()),vi(t,2,-2),0,a)}function Bp(t,r,o,a,u){return ka(t,r,o,cc,vi(t,0,a),vi(t,a+1,-1),a,u)}function jh(t,r,o){switch(tv(t,r)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 4789:return Io+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+Io+t+Le+t+t;case 5936:switch(rt(t,r+11)){case 114:return we+t+Le+fe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+Le+fe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+Le+fe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return we+t+Le+t+t;case 6165:return we+t+Le+"flex-"+t+t;case 5187:return we+t+fe(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+Le+"flex-$1$2")+t;case 5443:return we+t+Le+"flex-item-"+fe(t,/flex-|-self/g,"")+(On(t,/flex-|baseline/)?"":Le+"grid-row-"+fe(t,/flex-|-self/g,""))+t;case 4675:return we+t+Le+"flex-line-pack"+fe(t,/align-content|flex-|-self/g,"")+t;case 5548:return we+t+Le+fe(t,"shrink","negative")+t;case 5292:return we+t+Le+fe(t,"basis","preferred-size")+t;case 6060:return we+"box-"+fe(t,"-grow","")+we+t+Le+fe(t,"grow","positive")+t;case 4554:return we+fe(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return fe(fe(fe(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return fe(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return fe(fe(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4200:if(!On(t,/flex-|baseline/))return Le+"grid-column-align"+vi(t,r)+t;break;case 2592:case 3360:return Le+fe(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(a,u){return r=u,On(a.props,/grid-\w+-end/)})?~aa(t+(o=o[r].value),"span",0)?t:Le+fe(t,"-start","")+t+Le+"grid-row-span:"+(~aa(o,"span",0)?On(o,/\d+/):+On(o,/\d+/)-+On(t,/\d+/))+";":Le+fe(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(a){return On(a.props,/grid-\w+-start/)})?t:Le+fe(fe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return fe(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pn(t)-1-r>6)switch(rt(t,r+1)){case 109:if(rt(t,r+4)!==45)break;case 102:return fe(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+Io+(rt(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~aa(t,"stretch",0)?jh(fe(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return fe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,u,c,f,p,g,y){return Le+u+":"+c+y+(f?Le+u+"-span:"+(p?g:+g-+c)+y:"")+t});case 4949:if(rt(t,r+6)===121)return fe(t,":",":"+we)+t;break;case 6444:switch(rt(t,rt(t,14)===45?18:11)){case 120:return fe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+we+(rt(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Le+"$2box$3")+t;case 100:return fe(t,":",":"+Le)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return fe(t,"scroll-","scroll-snap-")+t}return t}function ga(t,r){for(var o="",a=0;a<t.length;a++)o+=r(t[a],a,t,r)||"";return o}function pv(t,r,o,a){switch(t.type){case ev:if(t.children.length)break;case J0:case cc:return t.return=t.return||t.value;case Fh:return"";case Hh:return t.return=t.value+"{"+ga(t.children,a)+"}";case Ca:if(!pn(t.value=t.props.join(",")))return""}return pn(o=ga(t.children,a))?t.return=t.value+"{"+o+"}":""}function hv(t){var r=Gh(t);return function(o,a,u,c){for(var f="",p=0;p<r;p++)f+=t[p](o,a,u,c)||"";return f}}function gv(t){return function(r){r.root||(r=r.return)&&t(r)}}function mv(t,r,o,a){if(t.length>-1&&!t.return)switch(t.type){case cc:t.return=jh(t.value,t.length,o);return;case Hh:return ga([cr(t,{value:fe(t.value,"@","@"+we)})],a);case Ca:if(t.length)return nv(o=t.props,function(u){switch(On(u,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ui(cr(t,{props:[fe(u,/:(read-\w+)/,":"+Io+"$1")]})),ui(cr(t,{props:[u]})),Xu(t,{props:Fp(o,a)});break;case"::placeholder":ui(cr(t,{props:[fe(u,/:(plac\w+)/,":"+we+"input-$1")]})),ui(cr(t,{props:[fe(u,/:(plac\w+)/,":"+Io+"$1")]})),ui(cr(t,{props:[fe(u,/:(plac\w+)/,Le+"input-$1")]})),ui(cr(t,{props:[u]})),Xu(t,{props:Fp(o,a)});break}return""})}}var vv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ut={},Si=typeof process<"u"&&Ut!==void 0&&(Ut.REACT_APP_SC_ATTR||Ut.SC_ATTR)||"data-styled",Wh="active",$h="data-styled-version",Da="6.1.13",fc=`/*!sc*/
`,ma=typeof window<"u"&&"HTMLElement"in window,yv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ut!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==""?Ut.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ut.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ut!==void 0&&Ut.SC_DISABLE_SPEEDY!==void 0&&Ut.SC_DISABLE_SPEEDY!==""&&Ut.SC_DISABLE_SPEEDY!=="false"&&Ut.SC_DISABLE_SPEEDY),Sv={},Na=Object.freeze([]),Ei=Object.freeze({});function Yh(t,r,o){return o===void 0&&(o=Ei),t.theme!==o.theme&&t.theme||r||o.theme}var Vh=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ev=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Av=/(^-|-$)/g;function xp(t){return t.replace(Ev,"-").replace(Av,"")}var _v=/(a)(d)/gi,Js=52,Gp=function(t){return String.fromCharCode(t+(t>25?39:97))};function qu(t){var r,o="";for(r=Math.abs(t);r>Js;r=r/Js|0)o=Gp(r%Js)+o;return(Gp(r%Js)+o).replace(_v,"$1-$2")}var Ou,Xh=5381,hi=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},Kh=function(t){return hi(Xh,t)};function Qh(t){return qu(Kh(t)>>>0)}function wv(t){return t.displayName||t.name||"Component"}function Mu(t){return typeof t=="string"&&!0}var qh=typeof Symbol=="function"&&Symbol.for,Zh=qh?Symbol.for("react.memo"):60115,Iv=qh?Symbol.for("react.forward_ref"):60112,Tv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Cv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pv=((Ou={})[Iv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ou[Zh]=bh,Ou);function zp(t){return("type"in(r=t)&&r.type.$$typeof)===Zh?bh:"$$typeof"in t?Pv[t.$$typeof]:Tv;var r}var kv=Object.defineProperty,Rv=Object.getOwnPropertyNames,jp=Object.getOwnPropertySymbols,Dv=Object.getOwnPropertyDescriptor,Nv=Object.getPrototypeOf,Wp=Object.prototype;function Jh(t,r,o){if(typeof r!="string"){if(Wp){var a=Nv(r);a&&a!==Wp&&Jh(t,a,o)}var u=Rv(r);jp&&(u=u.concat(jp(r)));for(var c=zp(t),f=zp(r),p=0;p<u.length;++p){var g=u[p];if(!(g in Cv||o&&o[g]||f&&g in f||c&&g in c)){var y=Dv(r,g);try{kv(t,g,y)}catch{}}}}return t}function Ai(t){return typeof t=="function"}function pc(t){return typeof t=="object"&&"styledComponentId"in t}function Lr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Zu(t,r){if(t.length===0)return"";for(var o=t[0],a=1;a<t.length;a++)o+=t[a];return o}function Ro(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function bu(t,r,o){if(o===void 0&&(o=!1),!o&&!Ro(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var a=0;a<r.length;a++)t[a]=bu(t[a],r[a]);else if(Ro(r))for(var a in r)t[a]=bu(t[a],r[a]);return t}function hc(t,r){Object.defineProperty(t,"toString",{value:r})}function xo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Ov=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,a=0;a<r;a++)o+=this.groupSizes[a];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var a=this.groupSizes,u=a.length,c=u;r>=c;)if((c<<=1)<0)throw xo(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(a),this.length=c;for(var f=u;f<c;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(r+1),g=(f=0,o.length);f<g;f++)this.tag.insertRule(p,o[f])&&(this.groupSizes[r]++,p++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],a=this.indexOfGroup(r),u=a+o;this.groupSizes[r]=0;for(var c=a;c<u;c++)this.tag.deleteRule(a)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var a=this.groupSizes[r],u=this.indexOfGroup(r),c=u+a,f=u;f<c;f++)o+="".concat(this.tag.getRule(f)).concat(fc);return o},t}(),ca=new Map,va=new Map,da=1,ea=function(t){if(ca.has(t))return ca.get(t);for(;va.has(da);)da++;var r=da++;return ca.set(t,r),va.set(r,t),r},Mv=function(t,r){da=r+1,ca.set(t,r),va.set(r,t)},Lv="style[".concat(Si,"][").concat($h,'="').concat(Da,'"]'),Uv=new RegExp("^".concat(Si,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Fv=function(t,r,o){for(var a,u=o.split(","),c=0,f=u.length;c<f;c++)(a=u[c])&&t.registerName(r,a)},Hv=function(t,r){for(var o,a=((o=r.textContent)!==null&&o!==void 0?o:"").split(fc),u=[],c=0,f=a.length;c<f;c++){var p=a[c].trim();if(p){var g=p.match(Uv);if(g){var y=0|parseInt(g[1],10),v=g[2];y!==0&&(Mv(v,y),Fv(t,v,g[3]),t.getTag().insertRules(y,u)),u.length=0}else u.push(p)}}},$p=function(t){for(var r=document.querySelectorAll(Lv),o=0,a=r.length;o<a;o++){var u=r[o];u&&u.getAttribute(Si)!==Wh&&(Hv(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function Bv(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var eg=function(t){var r=document.head,o=t||r,a=document.createElement("style"),u=function(p){var g=Array.from(p.querySelectorAll("style[".concat(Si,"]")));return g[g.length-1]}(o),c=u!==void 0?u.nextSibling:null;a.setAttribute(Si,Wh),a.setAttribute($h,Da);var f=Bv();return f&&a.setAttribute("nonce",f),o.insertBefore(a,c),a},xv=function(){function t(r){this.element=eg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,u=0,c=a.length;u<c;u++){var f=a[u];if(f.ownerNode===o)return f}throw xo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),Gv=function(){function t(r){this.element=eg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),zv=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),Yp=ma,jv={isServer:!ma,useCSSOMInjection:!yv},ya=function(){function t(r,o,a){r===void 0&&(r=Ei),o===void 0&&(o={});var u=this;this.options=ht(ht({},jv),r),this.gs=o,this.names=new Map(a),this.server=!!r.isServer,!this.server&&ma&&Yp&&(Yp=!1,$p(this)),hc(this,function(){return function(c){for(var f=c.getTag(),p=f.length,g="",y=function(_){var C=function(R){return va.get(R)}(_);if(C===void 0)return"continue";var k=c.names.get(C),N=f.getGroup(_);if(k===void 0||!k.size||N.length===0)return"continue";var M="".concat(Si,".g").concat(_,'[id="').concat(C,'"]'),w="";k!==void 0&&k.forEach(function(R){R.length>0&&(w+="".concat(R,","))}),g+="".concat(N).concat(M,'{content:"').concat(w,'"}').concat(fc)},v=0;v<p;v++)y(v);return g}(u)})}return t.registerId=function(r){return ea(r)},t.prototype.rehydrate=function(){!this.server&&ma&&$p(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(ht(ht({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var a=o.useCSSOMInjection,u=o.target;return o.isServer?new zv(u):a?new xv(u):new Gv(u)}(this.options),new Ov(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(ea(r),this.names.has(r))this.names.get(r).add(o);else{var a=new Set;a.add(o),this.names.set(r,a)}},t.prototype.insertRules=function(r,o,a){this.registerName(r,o),this.getTag().insertRules(ea(r),a)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(ea(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Wv=/&/g,$v=/^\s*\/\/.*$/gm;function tg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(a){return"".concat(r," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=tg(o.children,r)),o})}function Yv(t){var r,o,a,u=Ei,c=u.options,f=c===void 0?Ei:c,p=u.plugins,g=p===void 0?Na:p,y=function(C,k,N){return N.startsWith(o)&&N.endsWith(o)&&N.replaceAll(o,"").length>0?".".concat(r):C},v=g.slice();v.push(function(C){C.type===Ca&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(Wv,o).replace(a,y))}),f.prefix&&v.push(mv),v.push(pv);var _=function(C,k,N,M){k===void 0&&(k=""),N===void 0&&(N=""),M===void 0&&(M="&"),r=M,o=k,a=new RegExp("\\".concat(o,"\\b"),"g");var w=C.replace($v,""),R=dv(N||k?"".concat(N," ").concat(k," { ").concat(w," }"):w);f.namespace&&(R=tg(R,f.namespace));var z=[];return ga(R,hv(v.concat(gv(function(x){return z.push(x)})))),z};return _.hash=g.length?g.reduce(function(C,k){return k.name||xo(15),hi(C,k.name)},Xh).toString():"",_}var Vv=new ya,Ju=Yv(),ng=gn.createContext({shouldForwardProp:void 0,styleSheet:Vv,stylis:Ju});ng.Consumer;gn.createContext(void 0);function ec(){return Pe.useContext(ng)}var Xv=function(){function t(r,o){var a=this;this.inject=function(u,c){c===void 0&&(c=Ju);var f=a.name+c.hash;u.hasNameForId(a.id,f)||u.insertRules(a.id,f,c(a.rules,f,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,hc(this,function(){throw xo(12,String(a.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=Ju),this.name+r.hash},t}(),Kv=function(t){return t>="A"&&t<="Z"};function Vp(t){for(var r="",o=0;o<t.length;o++){var a=t[o];if(o===1&&a==="-"&&t[0]==="-")return t;Kv(a)?r+="-"+a.toLowerCase():r+=a}return r.startsWith("ms-")?"-"+r:r}var rg=function(t){return t==null||t===!1||t===""},ig=function(t){var r,o,a=[];for(var u in t){var c=t[u];t.hasOwnProperty(u)&&!rg(c)&&(Array.isArray(c)&&c.isCss||Ai(c)?a.push("".concat(Vp(u),":"),c,";"):Ro(c)?a.push.apply(a,ko(ko(["".concat(u," {")],ig(c),!1),["}"],!1)):a.push("".concat(Vp(u),": ").concat((r=u,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in vv||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function hr(t,r,o,a){if(rg(t))return[];if(pc(t))return[".".concat(t.styledComponentId)];if(Ai(t)){if(!Ai(c=t)||c.prototype&&c.prototype.isReactComponent||!r)return[t];var u=t(r);return hr(u,r,o,a)}var c;return t instanceof Xv?o?(t.inject(o,a),[t.getName(a)]):[t]:Ro(t)?ig(t):Array.isArray(t)?Array.prototype.concat.apply(Na,t.map(function(f){return hr(f,r,o,a)})):[t.toString()]}function og(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Ai(o)&&!pc(o))return!1}return!0}var Qv=Kh(Da),qv=function(){function t(r,o,a){this.rules=r,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&og(r),this.componentId=o,this.baseHash=hi(Qv,o),this.baseStyle=a,ya.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,a){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Lr(u,this.staticRulesId);else{var c=Zu(hr(this.rules,r,o,a)),f=qu(hi(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var p=a(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,p)}u=Lr(u,f),this.staticRulesId=f}else{for(var g=hi(this.baseHash,a.hash),y="",v=0;v<this.rules.length;v++){var _=this.rules[v];if(typeof _=="string")y+=_;else if(_){var C=Zu(hr(_,r,o,a));g=hi(g,C+v),y+=C}}if(y){var k=qu(g>>>0);o.hasNameForId(this.componentId,k)||o.insertRules(this.componentId,k,a(y,".".concat(k),void 0,this.componentId)),u=Lr(u,k)}}return u},t}(),gc=gn.createContext(void 0);gc.Consumer;var Lu={};function Zv(t,r,o){var a=pc(t),u=t,c=!Mu(t),f=r.attrs,p=f===void 0?Na:f,g=r.componentId,y=g===void 0?function(j,b){var L=typeof j!="string"?"sc":xp(j);Lu[L]=(Lu[L]||0)+1;var D="".concat(L,"-").concat(Qh(Da+L+Lu[L]));return b?"".concat(b,"-").concat(D):D}(r.displayName,r.parentComponentId):g,v=r.displayName,_=v===void 0?function(j){return Mu(j)?"styled.".concat(j):"Styled(".concat(wv(j),")")}(t):v,C=r.displayName&&r.componentId?"".concat(xp(r.displayName),"-").concat(r.componentId):r.componentId||y,k=a&&u.attrs?u.attrs.concat(p).filter(Boolean):p,N=r.shouldForwardProp;if(a&&u.shouldForwardProp){var M=u.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;N=function(j,b){return M(j,b)&&w(j,b)}}else N=M}var R=new qv(o,C,a?u.componentStyle:void 0);function z(j,b){return function(L,D,ue){var Ce=L.attrs,Re=L.componentStyle,lt=L.defaultProps,De=L.foldedComponentIds,ye=L.styledComponentId,je=L.target,Se=gn.useContext(gc),pe=ec(),re=L.shouldForwardProp||pe.shouldForwardProp,G=Yh(D,Se,lt)||Ei,Y=function(he,oe,de){for(var ce,K=ht(ht({},oe),{className:void 0,theme:de}),te=0;te<he.length;te+=1){var _e=Ai(ce=he[te])?ce(K):ce;for(var le in _e)K[le]=le==="className"?Lr(K[le],_e[le]):le==="style"?ht(ht({},K[le]),_e[le]):_e[le]}return oe.className&&(K.className=Lr(K.className,oe.className)),K}(Ce,D,G),W=Y.as||je,A={};for(var O in Y)Y[O]===void 0||O[0]==="$"||O==="as"||O==="theme"&&Y.theme===G||(O==="forwardedAs"?A.as=Y.forwardedAs:re&&!re(O,W)||(A[O]=Y[O]));var V=function(he,oe){var de=ec(),ce=he.generateAndInjectStyles(oe,de.styleSheet,de.stylis);return ce}(Re,Y),ie=Lr(De,ye);return V&&(ie+=" "+V),Y.className&&(ie+=" "+Y.className),A[Mu(W)&&!Vh.has(W)?"class":"className"]=ie,A.ref=ue,Pe.createElement(W,A)}(x,j,b)}z.displayName=_;var x=gn.forwardRef(z);return x.attrs=k,x.componentStyle=R,x.displayName=_,x.shouldForwardProp=N,x.foldedComponentIds=a?Lr(u.foldedComponentIds,u.styledComponentId):"",x.styledComponentId=C,x.target=a?u.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=a?function(b){for(var L=[],D=1;D<arguments.length;D++)L[D-1]=arguments[D];for(var ue=0,Ce=L;ue<Ce.length;ue++)bu(b,Ce[ue],!0);return b}({},u.defaultProps,j):j}}),hc(x,function(){return".".concat(x.styledComponentId)}),c&&Jh(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function Xp(t,r){for(var o=[t[0]],a=0,u=r.length;a<u;a+=1)o.push(r[a],t[a+1]);return o}var Kp=function(t){return Object.assign(t,{isCss:!0})};function sg(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Ai(t)||Ro(t))return Kp(hr(Xp(Na,ko([t],r,!0))));var a=t;return r.length===0&&a.length===1&&typeof a[0]=="string"?hr(a):Kp(hr(Xp(a,r)))}function tc(t,r,o){if(o===void 0&&(o=Ei),!r)throw xo(1,r);var a=function(u){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return t(r,o,sg.apply(void 0,ko([u],c,!1)))};return a.attrs=function(u){return tc(t,r,ht(ht({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},a.withConfig=function(u){return tc(t,r,ht(ht({},o),u))},a}var ag=function(t){return tc(Zv,t)},mr=ag;Vh.forEach(function(t){mr[t]=ag(t)});var bv=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=og(r),ya.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,a,u){var c=u(Zu(hr(this.rules,o,a,u)),""),f=this.componentId+r;a.insertRules(f,f,c)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,a,u){r>2&&ya.registerId(this.componentId+r),this.removeStyles(r,a),this.createStyles(r,o,a,u)},t}();function Jv(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=sg.apply(void 0,ko([t],r,!1)),u="sc-global-".concat(Qh(JSON.stringify(a))),c=new bv(a,u),f=function(g){var y=ec(),v=gn.useContext(gc),_=gn.useRef(y.styleSheet.allocateGSInstance(u)).current;return y.styleSheet.server&&p(_,g,y.styleSheet,v,y.stylis),gn.useLayoutEffect(function(){if(!y.styleSheet.server)return p(_,g,y.styleSheet,v,y.stylis),function(){return c.removeStyles(_,y.styleSheet)}},[_,g,y.styleSheet,v,y.stylis]),null};function p(g,y,v,_,C){if(c.isStatic)c.renderStyles(g,Sv,v,C);else{var k=ht(ht({},y),{theme:Yh(y,_,f.defaultProps)});c.renderStyles(g,k,v,C)}}return gn.memo(f)}const ey=mr.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #000;
  text-align: center;
`,ty=mr.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,ny=mr.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Qp=()=>{const{setAppState:t}=Ta();return ke.jsxs(ey,{children:[ke.jsx(ty,{children:"Welcome to Tribe!"}),ke.jsx(ny,{onClick:()=>t("game"),children:"Start Game"})]})};function ry(t,r){var o=Pe.useRef(null),a=Pe.useRef(!1),u=Pe.useRef(t);u.current=t;var c=Pe.useCallback(function(p){a.current&&(u.current(p),o.current=requestAnimationFrame(c))},[]),f=Pe.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(c))},function(){return a.current}]},[]);return Pe.useEffect(function(){return f[0]},[]),f}function iy(t,r,o,a,u){var f;(f=t.onExit)==null||f.call(t,a,r);const c=u.find(({id:p})=>p===r);return c!=null&&c.onEnter?c.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function oy(t,r){return r.find(({id:o})=>o===t)}function sy(t,r){return t!==r}function ay(t){console.warn(`No handler found for state: ${t}`)}const To="bushGrowing",Mr="bushFull",fa="bushSpreading",Do="bushDying",Mn=24,Ln=10,Uu=3e3,Fu=3e3,lg=2,ly=5,uy=3,cy=12,dy=940,fy=.4,nc=20,qp=160,py=45,hy=240,ug=10,No=80,gy=3,go=5,Et=150,mc=Et*.8,my=Et*.2,Je=Et*.95,Hr=30,cg=10,vy=10,yy=.5,kt=30,on=kt*.75,dg=50,Sy=20,Ey=No*.8,Ay=.7,Ao=16,Ft=40,vc=35,yc=16,_y=72/3,Zp=24,wy=1.25,Iy=1.5,Un=Et*.6,Go=50,Ty=1,_i=350,fg=No*.65,Cy=80,Py=50,ky=1,Ry=128,pg=10,bp=100,Dy=20,Oa=kt,hg=.5,gg=5,Ny=5,Oy=.1,My=.5,Ly=1.5,Uy=.25,Fy=2,Hy=45,By=.05,mg=1,Jp=10,Oo=5,xy=.5,Gy=6,zy=100,jy=30,Wy=.33,$y=.33,Ur=Et*.8,vg=Et*.5,Sc=Et*.7,Ec=Et*.8,Yy=80,Ac=.1,wi=150,_c=100,yg=100,Sg=250,Ma=2,Mo=400,Eg=Et*.85,Vy=100,Sa=200,Xy=80,Ky=100,Qy=3,qy=10,wc=500,Ea=400,Zy=10,by=-5,Ag=1.5,Jy=1.5,Ii=10,_g=250,Pi=.3,Ic=200,eS=-25,eh=-10,tS=-10,nS=.5,rS=.5,iS=.1,gr=-50,oS=-5,sS="red",yn=30,wg=yn*.6,Tc="#4CAF50",Ig="#FF5722",Tg="#9C27B0",aS="#2196F3",Cg="#FFC107",lS="#FFD700",Pg="#DC143C",uS="#FFFFFF",cS=[5,5],kg=5,th=20,dS=20,fS=16,pS=10,hS=16,gS=16,nh=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],rh=8,mS="#FFFFFF",or=18,Pt=15,vS="rgba(0, 0, 0, 0.7)",yS=4,sr=150,Lt=15,dn=10,gi="#555",SS="#f44336",ES="#4CAF50",AS="#2196F3",_S="#FFC107",mo=16,wS=9,Or=32,ta=28,IS=10,TS=8,CS=8,PS=8,na=28,ra=40,kS="rgba(255, 215, 0, 0.7)",RS="rgba(0, 0, 0, 0.3)",ar=10,ih=8,Hu=11,lr=20,Bu=40,oh=5,DS=10,NS="#FFA500",OS="#808080",Co=120,MS=30,LS=20,xu="#2d3748",US="#ffffff",Gu="#4a5568",FS="rgba(0, 0, 0, 0.5)",HS="#FFFFFF",BS=33,xS=400,GS=20,zS=10,jS="rgba(0, 0, 0, 0.7)",WS="#FFFFFF",zu=20,sh=16,$S=.5,ah=5,Rg="#FFD700",YS=40,VS=4,XS=3,KS=5,it=1,_o=3,QS=70,lh=600,qS=1.5,ZS=.1;function Ze(t,r,o,a,u){const c={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:a,entityId:u};return t.visualEffects.push(c),t.nextVisualEffectId++,c.id}var me=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t))(me||{}),Sn=(t=>(t.Berry="berry",t.Meat="meat",t))(Sn||{});const Dg={berry:"🍓",meat:"🥩"},bS={id:To,update:(t,r)=>{const{entity:o,updateContext:a}=r,u=a.deltaTime*(Mn/Ln);return o.age+=u,o.age>=o.lifespan?{nextState:Do,data:{...t,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Ze(a.gameState,me.BushClaimLost,o.position,it),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=cy&&o.food.length<o.maxFood&&(o.food.push({type:Sn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Mr,data:{...t,enteredAt:a.gameState.time,previousState:To}}:{nextState:To,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},JS={id:Mr,update:(t,r)=>{const{entity:o,updateContext:a}=r,u=a.deltaTime*(Mn/Ln);return o.age+=u,o.age>=o.lifespan?{nextState:Do,data:{...t,enteredAt:a.gameState.time,previousState:Mr}}:o.food.length<o.maxFood?{nextState:To,data:{...t,enteredAt:a.gameState.time,previousState:Mr}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Ze(a.gameState,me.BushClaimLost,o.position,it),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=qp&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=qp&&Math.random()<o.spreadChance)?{nextState:fa,data:{...t,enteredAt:a.gameState.time,previousState:Mr}}:{nextState:Mr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function mn(t,r){return{x:t.x+r.x,y:t.y+r.y}}function e1(t,r){return{x:t.x-r.x,y:t.y-r.y}}function nn(t,r){return{x:t.x*r,y:t.y*r}}function Lo(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Be(t){const r=Lo(t);return r===0?{x:0,y:0}:nn(t,1/r)}function Ng(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function Ue(t,r,o,a){let u=r.x-t.x,c=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(c)>a/2&&(c=c-Math.sign(c)*a),{x:u,y:c}}function ae(t,r,o,a){const u=Ue(t,r,o,a);return Lo(u)}function t1(t,r){return t.x*r.x+t.y*r.y}function n1(t,r){const o=t1(t,r),a=Lo(t),u=Lo(r);if(a===0||u===0)return 0;const c=Math.max(-1,Math.min(1,o/(a*u)));return Math.acos(c)}var hn=(t=>(t.GatherFood="GatherFood",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.PlantBush="PlantBush",t.CallToAttack="CallToAttack",t))(hn||{});const r1={GatherFood:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",PlantBush:"🌱",CallToAttack:"📢"};var fi=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(fi||{});const vo={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var vn=(t=>(t.ToggleAutopilot="ToggleAutopilot",t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t))(vn||{});function Og(t,r){const o=[],a=t;if(r.food.length>0&&r.hunger>mc&&o.push({type:hn.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const f=Ae(r,t,"berryBush",kt,y=>y.food.length>0),p=Ae(r,t,"humanCorpse",kt,y=>y.food.length>0);let g=null;f&&p?g=ae(r.position,f.position,t.mapDimensions.width,t.mapDimensions.height)<=ae(r.position,p.position,t.mapDimensions.width,t.mapDimensions.height)?f:p:g=f||p,g&&o.push({type:hn.GatherFood,action:"gathering",key:"e",targetEntity:g})}const u=Ae(r,t,"human",kt,f=>{const p=f;return(p.id!==r.id&&p.gender!==r.gender&&p.isAdult&&r.isAdult&&p.hunger<Je&&r.hunger<Je&&(p.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant&&p.age<=Ft:!r.isPregnant&&r.age<=Ft))??!1});u&&o.push({type:hn.Procreate,action:"procreating",key:"r",targetEntity:u});const c=Ae(r,t,"human",Oa,f=>f.id!==r.id);return c&&o.push({type:hn.Attack,action:"attacking",key:"q",targetEntity:c}),r.food.filter(f=>f.type===Sn.Berry).length>=Oo&&o.push({type:hn.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&Ua(r.position,r.id,a,_g).length>0&&o.push({type:hn.CallToAttack,action:"callingToAttack",key:"v"}),o}function zo(t,r,o,a){const u=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*r,f={x:Math.cos(u)*c,y:Math.sin(u)*c},p=mn(t,f);return{x:(p.x%o+o)%o,y:(p.y%a+a)%a}}function rc(t,r,o){const a=r,u={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...a.search.human.byRect(u),...a.search.berryBush.byRect(u),...a.search.humanCorpse.byRect(u)];for(const f of c)if(ae(t,f.position,r.mapDimensions.width,r.mapDimensions.height)<o+f.radius)return!0;return!1}function Mg(t,r,o,a){const u=r.mapDimensions.width,c=r.mapDimensions.height;if(!rc(t,r,a))return t;const f=a;for(let p=f;p<=o;p+=f){const g=Math.ceil(2*Math.PI*p/f);for(let y=0;y<g;y++){const v=y/g*2*Math.PI,_={x:Math.cos(v)*p,y:Math.sin(v)*p},C=mn(t,_),k={x:(C.x%u+u)%u,y:(C.y%c+c)%c};if(!rc(k,r,a))return k}}return null}function ic(t,r){const o=Ae(t,r,"berryBush",void 0,u=>u.ownerId===t.id);return o?Mg(o.position,r,zy,jy):null}function Ae(t,r,o,a,u){const c=r,f=a!==void 0?a:Math.max(r.mapDimensions.width,r.mapDimensions.height),p=c.search[o].byRadius(t.position,f);let g=null,y=f;for(const v of p){if(v.id===t.id||u&&!u(v))continue;const _=ae(t.position,v.position,r.mapDimensions.width,r.mapDimensions.height);_<y&&(y=_,g=v)}return g}function Cc(t,r,o,a){return r.search[o].byRadius(t,a).length}function Pc(t,r){const o=r,a=o.search.human.byProperty("motherId",t),u=o.search.human.byProperty("fatherId",t);return a.length+u.length}function i1(t,r,o){return r.search.human.byRadius(t.position,o).filter(c=>{if(c.id===t.id||c.gender===t.gender||!c.isAdult||c.hunger>=Je||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const f=c.id===t.motherId||c.id===t.fatherId,p=t.id===c.motherId||t.id===c.fatherId;return!f&&!p})}function oc(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),a=(u,c)=>u.age!==c.age?c.age-u.age:u.id-c.id;if(r.sort(a),r.length>0)return r[0];if(o.sort(a),o.length>0)return o[0]}function pr(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function En(t,r){const o=t,a=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...a,...u]}function Fn(t,r){var f;const a=r.search.human.byProperty("activeAction","attacking");let u=null,c=1/0;for(const p of a){if(p.attackTargetId!==t)continue;const g=ae(p.position,((f=r.entities.entities.get(t))==null?void 0:f.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);g<c&&(u=p,c=g)}return u}function La(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const c=o.entities.entities.get(t.motherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(t.fatherId){const c=o.entities.entities.get(t.fatherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(r.motherId){const c=o.entities.entities.get(r.motherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}if(r.fatherId){const c=o.entities.entities.get(r.fatherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}return!1}function uh(t,r){var c,f;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,a=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((c=t.ancestorIds)==null?void 0:c.some(p=>r.ancestorIds.includes(p)))||((f=r.ancestorIds)==null?void 0:f.some(p=>t.ancestorIds.includes(p)));return o||a||u}function kc(t,r){const o=[];if(t.motherId){const a=r.entities.entities.get(t.motherId);a&&o.push(a)}if(t.fatherId){const a=r.entities.entities.get(t.fatherId);a&&o.push(a)}return o}function Lg(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const a=r.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function ch(t,r){var a;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(a=t.partnerIds)==null||a.forEach(u=>{const c=r.entities.entities.get(u);c&&o.add(c)}),En(r,t).forEach(u=>o.add(u)),Array.from(o)}function Ug(t,r,o,a){const c=r.search.human.byRadius(t.position,o);let f=null,p=1/0,g=1/0;for(const y of c){if(y.id===t.id||a&&!a(y))continue;let v=0;for(const C of r.entities.entities.values())C.type==="human"&&C.attackTargetId===y.id&&v++;const _=ae(t.position,y.position,r.mapDimensions.width,r.mapDimensions.height);(v<p||v===p&&_<g)&&(p=v,g=_,f=y)}return f}let ju=0;function Aa(){const t=nh[ju];return ju=(ju+1)%nh.length,t}function Fg(t,r,o){r.leaderId=t.id,r.tribeBadge=t.tribeBadge,r.gender==="male"&&En(o,r).forEach(a=>{var u;if(Fg(t,a,o),a.motherId&&((u=r.partnerIds)!=null&&u.includes(a.motherId))){const c=o.entities.entities.get(a.motherId);c&&(c.leaderId=t.id,c.tribeBadge=t.tribeBadge)}})}function o1(t,r){return r.search.human.byProperty("leaderId",t)}function Ua(t,r,o,a){return o.search.human.byRadius(t,a).filter(c=>c.leaderId!==r&&c.id!==r)}function s1(t,r,o){const a=o.search.human.byProperty("leaderId",t);let u=0;for(const c of a)c.attackTargetId===r&&u++;return u}function a1(t,r){var c;const o=new Map,a=Array.from(t.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(c=o.get(f.leaderId))==null||c.members.push(f));const u=Array.from(o.values()).map(f=>{const p=t.entities.entities.get(f.leaderId),g=f.members.filter(v=>v.isAdult).length,y=f.members.length-g;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:g,childCount:y,isPlayerTribe:f.leaderId===r,leaderAge:(p==null?void 0:p.age)??0,leaderGender:(p==null?void 0:p.gender)??"male"}});return u.sort((f,p)=>f.isPlayerTribe?-1:p.isPlayerTribe?1:p.adultCount+p.childCount-(f.adultCount+f.childCount)),u}function _a(t,r){const o=r.search.human.byProperty("leaderId",t),a=r.entities.entities.get(t);return a&&(o.some(u=>u.id===t)||o.push(a)),o}function Rc(t,r,o,a){const u=o.search.berryBush.byRadius(t,r),c=o.search.human.byRadius(t,r).filter(g=>g.leaderId!==a);let f=u.length*Zy;f+=c.length*by;let p;if(c.length>0){const g={};for(const v of c)v.leaderId&&(g[v.leaderId]=(g[v.leaderId]||0)+1);let y=0;for(const v in g)g[v]>y&&(y=g[v],p=parseInt(v,10))}return{score:f,occupyingTribeId:p}}function wa(t,r,o){let a=-1/0,u=null;for(let c=0;c<t.mapDimensions.width;c+=o)for(let f=0;f<t.mapDimensions.height;f+=o){const p={x:c,y:f},{score:g,occupyingTribeId:y}=Rc(p,wc/2,t,r);g>a&&(a=g,u={position:p,score:g,occupyingTribeId:y})}return u}function dh(t){return t.length===0?0:t.reduce((r,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,r+a},0)}function Dc(t,r){for(const o of t)if(r.search.human.byProperty("attackTargetId",o.id).filter(u=>u.leaderId!==o.leaderId).length>0)return!0;return!1}const l1={id:fa,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:u}=a,c=a.deltaTime*(Mn/Ln);if(o.age+=c,o.age>=o.lifespan)return{nextState:Do,data:{...t,enteredAt:u.time,previousState:fa}};const f=zo(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return rc(f,u,15)||Oc(u.entities,f,u.time),{nextState:Mr,data:{...t,enteredAt:u.time,previousState:fa}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},u1={id:Do,update:t=>({nextState:Do,data:t}),onEnter:(t,r)=>(Mc(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},c1=[bS,JS,l1,u1],at="humanIdle",pi="humanMoving",wo="humanEating",Fa="humanGathering",Uo="humanProcreating",d1="humanSeekingFood",Ti="humanAttacking",pa="humanPlanting",f1={id:at,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ti,data:{...t,enteredAt:a.gameState.time,previousState:at,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=mc?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:pi,data:{...t,enteredAt:a.gameState.time,previousState:at,targetPosition:o.targetPosition}}:o.activeAction==="gathering"?{nextState:Fa,data:{...t,enteredAt:a.gameState.time,previousState:at,targetPosition:o.targetPosition}}:o.activeAction==="eating"?{nextState:wo,data:{...t,enteredAt:a.gameState.time,previousState:at}}:o.activeAction==="planting"&&o.targetPosition?{nextState:pa,data:{...t,enteredAt:a.gameState.time,previousState:at,plantingSpot:o.targetPosition}}:{nextState:at,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function Hg(t){let r=vy;return t.hunger>=mc&&(r*=yy),t.age>=Ey&&(r*=Ay),r}const Wu=5;class p1{constructor(){Yt(this,"id",pi)}update(r,o){const{entity:a,updateContext:u}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:Ti,data:{...r,enteredAt:u.gameState.time,previousState:pi,attackTargetId:a.attackTargetId,attackStartTime:u.gameState.time}};if(a.activeAction!=="moving")return{nextState:at,data:{...r,enteredAt:u.gameState.time,previousState:pi}};let c=r.targetPosition;return c||(c=mn(a.position,{x:a.direction.x*Wu,y:a.direction.y*Wu})),a.acceleration=Hg(a),ae(a.position,c,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<Wu?{nextState:at,data:{...r,enteredAt:u.gameState.time,previousState:pi}}:{nextState:pi,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0,o.targetPosition=void 0}}const h1=new p1,$u=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,g1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,m1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,v1=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,y1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,S1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,E1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,A1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,_1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href;var Ke=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.GameOver=9]="GameOver",t[t.ButtonClick=10]="ButtonClick",t))(Ke||{});const w1=new Map([[0,$u],[1,g1],[2,m1],[3,v1],[4,y1],[5,S1],[6,E1],[9,A1],[10,_1],[7,$u],[8,$u]]);let yo,Fo;function I1(){if(!(typeof window>"u"))return Fo}function Bg(){if(!(typeof window>"u"))return!yo&&typeof window.AudioContext=="function"&&(yo=new window.AudioContext,Fo=yo.createGain(),Fo.connect(yo.destination),ha(.1,!1)),yo}function ha(t,r){Fo&&(Fo.gain.value=r?0:t/10)}const xg=new Map;let ia=!1,fh=!1;async function T1(){if(fh||ia)return;const t=Bg();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),ia=!0,console.log("Starting sound loading...");const r=[];w1.forEach((o,a)=>{const u=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>t.decodeAudioData(c)).then(c=>{xg.set(a,c)}).catch(c=>{console.error(`Error loading sound ${Ke[a]} from ${o}:`,c)});r.push(u)});try{await Promise.all(r),fh=!0,ia=!1,console.log("All sounds loaded successfully.")}catch(o){ia=!1,console.error("An error occurred while loading sounds:",o)}}function Gg(t,r){const o=Bg(),a=I1();if(!o||!a||a.gain.value===0)return;o.state==="suspended"&&o.resume();const u=xg.get(t);if(!u){console.warn(`Sound buffer not found for type: ${Ke[t]}`);return}const c=o.createBufferSource();c.buffer=u;const f=o.createGain(),p=o.createStereoPanner();let g=f;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const y=Ue(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),v=ae(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(v>lh)return;const _=1-Math.pow(v/lh,qS);f.gain.value=Math.max(0,_);const C=Math.sin(y.x/v*(Math.PI/2));p.pan.value=isNaN(C)?0:C,f.connect(p),g=p}else{const y=t===Ke.GameOver?.4:.2;f.gain.value=y}c.connect(g),g.connect(a),c.start(0)}function St(t,r,o){const a=pr(t.gameState);a&&Gg(r,{position:o,listenerPosition:a.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}const C1={id:wo,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction!=="eating"?{nextState:at,data:{...t,enteredAt:a.gameState.time,previousState:wo}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>Hr&&(o.hunger=Math.max(0,o.hunger-Hr),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,St(a,Ke.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(Ze(a.gameState,me.Eating,o.position,it,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:at,data:{...t,enteredAt:a.gameState.time,previousState:wo}}:{nextState:wo,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class P1{constructor(){Yt(this,"id",Fa)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const k1=new P1,R1=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),D1=(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:u}=a;if(u.time<(t.procreationEndTime||0))return{nextState:Uo,data:t};const c=u.entities.entities.get(t.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<Je&&c.hunger<Je&&!o.procreationCooldown&&!c.procreationCooldown){const f=o.gender==="female"?o:c.gender==="female"?c:void 0,p=o.gender==="male"?o:c.gender==="male"?c:void 0;f&&p&&(f.isPregnant=!0,f.gestationTime=_y,f.fatherId=p.id,o.procreationCooldown=Zp,c.procreationCooldown=Zp,St(a,Ke.Procreate,f.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:at,data:{...t,enteredAt:u.time,previousState:Uo}}},N1={id:Uo,onEnter:R1,update:D1};class O1{constructor(){Yt(this,"id",d1)}update(r,o){return o.entity.activeAction!=="seekingFood"||!o.entity.isAdult?{nextState:at,data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const M1=new O1,L1={id:Ti,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:at,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:at,data:{...t}};const a=ae(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=Ue(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=Be(u),a>Oa?r.entity.acceleration=Hg(r.entity):r.entity.acceleration=0,{nextState:Ti,data:t}}},U1={id:pa,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:u}=a;if(u.time-t.enteredAt>=xy){if(o.food.filter(p=>p.type===Sn.Berry).length>=Oo){for(let p=0;p<Oo;p++){const g=o.food.findIndex(y=>y.type===Sn.Berry);g>-1&&o.food.splice(g,1)}Oc(u.entities,t.plantingSpot,u.time)}return{nextState:at,data:{...t,enteredAt:u.time,previousState:pa}}}return{nextState:pa,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},F1=[f1,h1,C1,k1,N1,M1,L1,U1],ph=[...c1,...F1];function H1(t,r,o){const a=oy(t,ph);if(!a)return ay(t),[t,r];const{nextState:u,data:c}=a.update(r,o);return sy(t,u)?[u,iy(a,u,c,o,ph)]:[u,c]}function Ia(t,r,o,a){t.karma[r.id]=(t.karma[r.id]||0)+o,B1(t,r,o*nS,a)}function B1(t,r,o,a){const u=ch(t,a),c=ch(r,a);for(const f of u)f.id!==r.id&&(f.karma[r.id]=(f.karma[r.id]||0)+o);for(const f of c)f.id!==t.id&&(t.karma[f.id]=(t.karma[f.id]||0)+o)}function x1(t,r){for(const o in t.karma){const a=t.karma[o],u=iS*r;a>0?t.karma[o]=Math.max(0,a-u):a<0&&(t.karma[o]=Math.min(0,a+u)),t.karma[o]===0&&delete t.karma[o]}}function G1(t,r,o){const a={};for(const u in r.karma)a[u]=(a[u]||0)+r.karma[u];if(o)for(const u in o.karma)a[u]=(a[u]||0)+o.karma[u];for(const u in a){const c=a[u]*rS;Math.abs(c)>.1&&(t.karma[u]=c)}}function z1(t,r,o){const{gameState:a}=r,u=o*(Mn/Ln);if(t.isAdult=t.age>=yc,x1(t,u),t.leaderId&&t.leaderId!==t.id&&t.isAdult&&t.gender==="male"&&(!a.entities.entities.get(t.leaderId)||(t.karma[t.leaderId]??0)<=gr)&&(t.leaderId=t.id,t.tribeBadge=Aa(),Fg(t,t,a)),t.isCallingToAttack&&t.callToAttackEndTime&&a.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.hitpoints<t.maxHitpoints){const f=1-t.hunger/100*My,p=Oy*f*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+p)}if(t.hunger+=o*(go/(Mn/Ln)),t.hunger>QS&&(!t.lastHungerEffectTime||a.time-t.lastHungerEffectTime>_o*2)&&(Ze(a,me.Hunger,t.position,_o,t.id),t.lastHungerEffectTime=a.time),t.age+=o/ug,t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((go*wy-go)/(Mn/Ln)),(!t.lastPregnantEffectTime||a.time-t.lastPregnantEffectTime>_o*3)&&(Ze(a,me.Pregnant,t.position,_o,t.id),t.lastPregnantEffectTime=a.time),t.gestationTime<=0&&(YE(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.isAdult?t.radius===wg&&(t.radius=yn):t.hunger+=o*((go*Iy-go)/(Mn/Ln)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const f=[];if(t.motherId){const p=a.entities.entities.get(t.motherId);p&&f.push(p)}if(t.fatherId){const p=a.entities.entities.get(t.fatherId);p&&f.push(p)}for(const p of f)if(p.age>=fg&&p.hunger>=Cy&&ae(t.position,p.position,a.mapDimensions.width,a.mapDimensions.height)<=Py){t.food.pop(),p.hunger=Math.max(0,p.hunger-Hr),t.feedParentCooldownTime=ky;break}}let c;if(t.hitpoints<=0?c="killed":t.hunger>=Et?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-Hr)):c="hunger":t.age>=t.maxAge&&(c="oldAge"),c){if(t.leaderId===t.id){const f=oc(En(a,t));f?(f.leaderId=f.id,f.tribeBadge=t.tribeBadge,a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;(g.karma[f.id]??0)>gr?g.leaderId=f.id:(g.leaderId=g.id,g.tribeBadge=Aa())}})):a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;g.leaderId=void 0,g.tribeBadge=void 0}})}if(t.isPlayer){const f=oc(En(a,t));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=c)}$E(a.entities,t.position,t.gender,t.age,t.radius,t.id,a.time,t.food,t.hunger),Mc(a.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function j1(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/Ry);const a=Math.floor(pg*(1-t.decayProgress));t.food.length>a&&t.food.splice(a),t.decayProgress>=1&&t.food.length<=0&&Mc(r.gameState.entities,t.id)}var Xt=(t=>(t[t.StrategyBased=0]="StrategyBased",t[t.UtilityBased=1]="UtilityBased",t[t.BehaviorTreeBased=2]="BehaviorTreeBased",t))(Xt||{});function W1(t,r){t.aiBehaviorTree&&t.aiBlackboard?t.aiBehaviorTree.execute(t,r,t.aiBlackboard):(console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle")}class $1{check(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>Ec||r.hitpoints<r.maxHitpoints*Pi)return null;if(r.attackTargetId){const f=a.entities.entities.get(r.attackTargetId);if(f&&ae(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<Sa)return f}const u=Fn(r.id,a);if(u)return u;for(const f of a.entities.entities.values())if(f.type==="human"){const p=f;if(p.motherId===r.id||p.fatherId===r.id){const g=Fn(p.id,a);if(g)return g}}const c=Ug(r,a,Sa,f=>{const p=f;return(r.karma[p.id]||0)<gr});return c&&a.search.human.byProperty("attackTargetId",c.id).length<mg?c:null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>it*5)&&(Ze(o.gameState,me.TargetAcquired,r.position,it,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class Y1{check(r,o){const{gameState:a}=o,u=a;if(!r.isAdult||r.hunger>Ur)return null;const c=u.search.berryBush.byProperty("ownerId",r.id);if(c.length===0)return null;for(const f of c){const p=u.search.human.byRadius(f.position,Vy);for(const g of p)if(g.id!==r.id&&!La(r,g,a)&&(r.karma[g.id]||0)<gr&&ae(g.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<Xy)return g}return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>it*5)&&(Ze(o.gameState,me.TargetAcquired,r.position,it,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class V1{check(r,o){const{gameState:a}=o;if(!r.isAdult||!r.leaderId||r.id===r.leaderId||r.hunger>Ec||r.hitpoints<r.maxHitpoints*Pi)return null;const u=a.entities.entities.get(r.leaderId);if(!u||!u.isCallingToAttack)return null;const c=Ua(u.position,u.id,a,Ky);if(c.length===0)return null;c.sort((f,p)=>{const g=ae(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height),y=ae(r.position,p.position,a.mapDimensions.width,a.mapDimensions.height);return g-y});for(const f of c)if(s1(u.id,f.id,a)<Qy)return f;return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>it*5)&&(Ze(o.gameState,me.TargetAcquired,r.position,it,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class X1{check(r){if(!r.isAdult||!r.isAdult&&r.activeAction!=="eating")return!1;if(r.activeAction==="eating"){const a=Ur-Hr;return r.food.length<=0||r.hunger<=a,!0}return!!(r.isAdult&&r.hunger>=Ur&&r.food.length>0)}execute(r){if(r.activeAction==="eating"){const a=Ur-Hr;if(r.food.length<=0||r.hunger<=a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}return}r.isAdult&&r.hunger>=Ur&&r.food.length>0&&(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating")}}class K1{check(r,o){if(r.isAdult&&r.hitpoints>r.maxHitpoints*Pi||r.isAdult&&r.hunger>Eg)return null;const a=Fn(r.id,o.gameState);return a||null}execute(r,o,a){r.activeAction="moving";const u=Ue(a.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=Be(u),f=mn(r.position,nn(c,Ic));r.targetPosition={x:(f.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(f.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c}}class zg{check(r,o,a={onlyBerries:!1,hungerThreshold:vg}){const u=r.food.length<r.maxFood,f=En(o.gameState,r).length>0?a.hungerThreshold*.5:a.hungerThreshold;if(!r.isAdult||!u||r.hunger<f)return null;const{gameState:p}=o,g=p,y=(M,w)=>{let R=null,z=1/0;for(const x of M){const j=ae(w,x.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);j<z&&(z=j,R=x)}return R},v=(M,w)=>{const R=g.search.berryBush.byRadius(w,M).filter(D=>D.food.length>0),z=a.onlyBerries?[]:g.search.humanCorpse.byRadius(w,M).filter(D=>D.food.length>0),x=[...R,...z],j=x.filter(D=>!("ownerId"in D&&D.ownerId));if(j.length>0)return y(j,r.position);const b=x.filter(D=>{if("ownerId"in D&&D.ownerId){const ue=p.entities.entities.get(D.ownerId);return ue&&La(r,ue,p)}return!1});if(b.length>0)return y(b,r.position);if(r.hunger>=Yy){const D=x.filter(ue=>{if("ownerId"in ue&&ue.ownerId){const Ce=p.entities.entities.get(ue.ownerId);return Ce&&(Ce.karma[r.id]||0)>gr}return!1});if(D.length>0)return y(D,r.position)}const L=x.filter(D=>{if("ownerId"in D&&D.ownerId){const ue=p.entities.entities.get(D.ownerId);return ue&&(ue.karma[r.id]||0)<=gr}return!1});return L.length>0?y(L,r.position):null},_=Math.max(p.mapDimensions.width,p.mapDimensions.height),C=v(_,r.position);if(C)return C;const k=Ae(r,p,"berryBush",void 0,M=>M.food.length>0),N=Ae(r,p,"humanCorpse",void 0,M=>M.food.length>0);if(k&&N){const M=ae(r.position,k.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),w=ae(r.position,N.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return M<=w?k:N}return k||N}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<on)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Ue(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}}}class Q1{check(){return!0}execute(r,o){const{gameState:a}=o;if(r.activeAction==="idle"||!r.activeAction){if(r.activeAction="idle",Math.random()<Ac){let u=r.position,c=wi;const f=r.leaderId&&r.leaderId!==r.id?a.entities.entities.get(r.leaderId):void 0;if(f)u=f.position,c=Sg;else if(r.isAdult){if(r.gender==="female"){const g=Lg(r,a);g&&(u=g.position,c=yg)}}else{const g=kc(r,a);g.length>0&&(u=g[0].position,c=_c)}r.activeAction="moving",r.targetPosition=zo(u,c,a.mapDimensions.width,a.mapDimensions.height);const p=Ue(r.position,r.targetPosition,a.mapDimensions.width,a.mapDimensions.height);r.direction=Be(p)}else r.direction={x:0,y:0},r.targetPosition=void 0;return}if(r.activeAction==="moving"&&r.targetPosition){ae(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<on&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0});return}r.activeAction!=="moving"&&(r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0)}}class q1{constructor(){Yt(this,"gatheringStrategy",new zg)}check(r,o){const{gameState:a}=o,u=r.food.filter(p=>p.type===Sn.Berry).length>=Gy,c=r.hunger<Sc;if(!r.isAdult||!c)return null;if(!u){const p=this.gatheringStrategy.check(r,o,{onlyBerries:!0,hungerThreshold:0});return(p==null?void 0:p.type)==="berryBush"?p:null}const f=ic(r,a);return f||null}execute(r,o,a){"type"in a&&a.type==="berryBush"?this.gatheringStrategy.execute(r,o,a):typeof a=="object"&&"x"in a&&"y"in a&&(r.activeAction="planting",r.targetPosition=a)}}class Z1{check(r,o){const{gameState:a}=o,u=r.gender==="male"&&r.age>vc&&Pc(r.id,a)===0,c=Cc(r.position,a,"berryBush",Mo);if(!(r.isAdult&&(u||r.hunger<Je&&(r.procreationCooldown||0)<=0&&c>=Ma)&&(r.gender==="female"?!r.isPregnant&&r.age<=Ft:!0)))return null;const p=v=>{const _=v;return _.type==="human"&&_.id!==r.id&&_.gender!==r.gender&&_.isAdult&&(u||_.hunger<Je&&(_.procreationCooldown||0)<=0&&(r.karma[_.id]||0)>oS)?_.gender==="female"?!_.isPregnant&&_.age<=Ft:!0:!1},g=Ae(r,a,"human",wi*5,v=>p(v)&&(!v.partnerIds||v.partnerIds.length===0||v.partnerIds.includes(r.id)));return g||(u?null:Ae(r,a,"human",wi*10,v=>{if(!p(v)||!v.partnerIds||v.partnerIds.length===0)return!1;const _=v.partnerIds[0];return(r.karma[_]||0)<=gr}))}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<on)r.activeAction="procreating",r.targetPosition=a.position;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Ue(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}}}class b1{check(r,o){if(r.isAdult||r.hunger<Un)return null;const{gameState:a}=o,u=f=>(f.id===r.motherId||f.id===r.fatherId)&&f.food.length>0;let c=Ae(r,a,"human",_i,u);return c||(c=Ae(r,a,"human",void 0,u)),c||!0}execute(r,o,a){const{gameState:u}=o;if(typeof a=="object"){const c=a;if(ae(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height)>Go){r.activeAction="moving",r.targetPosition={...c.position};const p=Ue(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height);r.direction=Be(p)}else r.activeAction="seekingFood",r.direction={x:0,y:0},r.targetPosition=void 0}else{const c=kc(r,u);if(c.length>0){const f=c[0];if(ae(r.position,f.position,u.mapDimensions.width,u.mapDimensions.height)>_c){r.activeAction="moving",r.targetPosition={...f.position};const g=Ue(r.position,f.position,u.mapDimensions.width,u.mapDimensions.height);r.direction=Be(g)}else r.activeAction="seekingFood",r.direction={x:0,y:0},r.targetPosition=void 0}else if(r.activeAction="seekingFood",r.targetPosition=void 0,Math.random()<.05){r.activeAction="moving",r.targetPosition=zo(r.position,10,u.mapDimensions.width,u.mapDimensions.height);const f=Ue(r.position,r.targetPosition,u.mapDimensions.width,u.mapDimensions.height);r.direction=Be(f)}else r.direction={x:0,y:0}}}}class J1{check(r,o){return!r.isAdult||r.food.length<=0||r.feedChildCooldownTime&&r.feedChildCooldownTime>0?null:Ae(r,o.gameState,"human",_i,a=>{const u=a;return!u.isAdult&&(u.motherId===r.id||u.fatherId===r.id)&&u.hunger>=Un})}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Go){r.activeAction="moving",r.targetPosition={...a.position};const c=Ue(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}}class eE{check(r,o){if(!r.isAdult||r.food.length>0)return null;const{gameState:a}=o;if(a.search.human.byRadius(r.position,1e3).filter(g=>!g.isAdult&&(g.motherId===r.id||g.fatherId===r.id)&&g.hunger>=Un).length===0)return null;const f=(g,y)=>{const v=Ae({...r,position:g},a,"berryBush",y,C=>C.food.length>0),_=Ae({...r,position:g},a,"humanCorpse",y,C=>C.food.length>0);if(v&&_){const C=ae(g,v.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),k=ae(g,_.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return C<=k?v:_}return v||_},p=Math.max(a.mapDimensions.width,a.mapDimensions.height);return f(r.position,p)}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<on)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Ue(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}}}class tE{check(r,o){const{gameState:a}=o,u=a;if(r.id!==r.leaderId||(r.leaderMetaStrategyCooldown??0)>0)return null;const c=_a(r.id,u);if(c.length===0)return null;if(Dc(c,u))return{decision:3};const f=dh(c),{score:p}=Rc(r.position,wc/2,u,r.id),g=wa(u,r.id,Ea);if(!g||g.score<=p)return null;const y=g.score>p*Ag;if(g.occupyingTribeId){const v=_a(g.occupyingTribeId,u),_=dh(v),C=f>_*Jy;if(y&&C)return{decision:2,targetPosition:g.position,enemyTribeId:g.occupyingTribeId};{const k=wa(u,r.id,Ea);if(k&&!k.occupyingTribeId&&k.score>p)return{decision:0,targetPosition:k.position}}}else if(y)return{decision:1,targetPosition:g.position};return null}execute(r,o,a){switch(r.leaderMetaStrategyCooldown=qy,a.decision){case 0:case 1:r.activeAction="moving",r.targetPosition=a.targetPosition;break;case 2:r.activeAction="moving",r.targetPosition=a.targetPosition,r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Ii;break;case 3:r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Ii,r.activeAction="idle",r.targetPosition=void 0;break}}}const nE=[new K1,new tE,new $1,new V1,new Y1,new X1,new b1,new eE,new J1,new Z1,new zg,new q1,new Q1];var Te=(t=>(t.SATISFY_HUNGER="SATISFY_HUNGER",t.MAINTAIN_HEALTH="MAINTAIN_HEALTH",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSHES="PLANT_BUSHES",t.PROCREATE="PROCREATE",t.FEED_CHILDREN="FEED_CHILDREN",t.DEFEND_SELF="DEFEND_SELF",t.DEFEND_TRIBE="DEFEND_TRIBE",t.ELIMINATE_THREATS="ELIMINATE_THREATS",t.EXPLORE_AND_WANDER="EXPLORE_AND_WANDER",t))(Te||{}),Ht=(t=>(t.EAT="EAT",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSH="PLANT_BUSH",t.FLEE="FLEE",t.ATTACK_HUMAN="ATTACK_HUMAN",t.PROCREATE="PROCREATE",t.FEED_CHILD="FEED_CHILD",t.SEEK_FOOD_FROM_PARENT="SEEK_FOOD_FROM_PARENT",t.GATHER_FOOD_FOR_CHILD="GATHER_FOOD_FOR_CHILD",t.CALL_TO_ATTACK="CALL_TO_ATTACK",t.MIGRATE="MIGRATE",t.IDLE_WANDER="IDLE_WANDER",t))(Ht||{});const hh=(t,r)=>{const{gameState:o}=r;if(!t.isAdult||t.hunger>Ec||t.hitpoints<t.maxHitpoints*Pi)return null;const a=Fn(t.id,o);if(a)return a;const u=Ug(t,o,Sa,c=>{const f=c;return(t.karma[f.id]||0)<gr});return u&&o.search.human.byProperty("attackTargetId",u.id).length<mg?u:null},rE={type:Ht.ATTACK_HUMAN,getUtility(t,r,o){var u;if(o.type!==Te.ELIMINATE_THREATS&&o.type!==Te.DEFEND_SELF&&o.type!==Te.DEFEND_TRIBE)return 0;const a=hh(t,r);return a?o.type===Te.DEFEND_SELF&&((u=Fn(t.id,r.gameState))==null?void 0:u.id)===a.id?1:.8:0},execute(t,r){const o=hh(t,r);if(!o){t.activeAction="idle";return}(!t.lastTargetAcquiredEffectTime||r.gameState.time-t.lastTargetAcquiredEffectTime>it*5)&&(Ze(r.gameState,me.TargetAcquired,t.position,it,t.id),t.lastTargetAcquiredEffectTime=r.gameState.time),t.activeAction="attacking",t.attackTargetId=o.id,t.targetPosition=void 0}},iE={type:Ht.CALL_TO_ATTACK,getUtility(t,r,o){if(o.type!==Te.DEFEND_TRIBE&&o.type!==Te.ELIMINATE_THREATS||t.id!==t.leaderId||t.isCallingToAttack)return 0;const a=r.gameState,u=_a(t.id,a);return o.type===Te.DEFEND_TRIBE&&Dc(u,a)?.9:o.type===Te.ELIMINATE_THREATS&&Ua(t.position,t.id,a,_g).length>0?.6:0},execute(t,r){t.isCallingToAttack=!0,t.callToAttackEndTime=r.gameState.time+Ii,Ze(r.gameState,me.CallToAttack,t.position,Ii),St(r,Ke.CallToAttack,t.position),t.activeAction="idle",t.targetPosition=void 0}},oE={type:Ht.EAT,getUtility(t,r,o){if(o.type!==Te.SATISFY_HUNGER)return 0;const a=t.food.length>0,u=t.hunger>=Ur;return a&&u?1:0},execute(t){t.activeAction="eating",t.direction={x:0,y:0},t.targetPosition=void 0}},sE={type:Ht.FEED_CHILD,getUtility(t,r,o){return o.type!==Te.FEED_CHILDREN||!t.isAdult||t.food.length<=0||t.feedChildCooldownTime&&t.feedChildCooldownTime>0?0:Ae(t,r.gameState,"human",_i,u=>{const c=u;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=Un})?1:0},execute(t,r){const o=Ae(t,r.gameState,"human",_i,u=>{const c=u;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=Un});if(!o){t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Go){t.activeAction="moving",t.targetPosition={...o.position};const u=Ue(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(u)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},aE={type:Ht.FLEE,getUtility(t,r,o){if(o.type!==Te.DEFEND_SELF)return 0;const a=t.hitpoints<t.maxHitpoints*Pi,u=Fn(t.id,r.gameState);return a&&u?1:0},execute(t,r){const o=Fn(t.id,r.gameState);if(!o){t.activeAction="idle";return}t.activeAction="moving";const a=Ue(o.position,t.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),u=Be(a),c=mn(t.position,nn(u,Ic));t.targetPosition={x:(c.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,y:(c.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height},t.direction=u,t.attackTargetId=void 0}};function gh(t,r){const o=Ae(t,r.gameState,"berryBush",void 0,u=>u.food.length>0),a=Ae(t,r.gameState,"humanCorpse",void 0,u=>u.food.length>0);if(o&&a){const u=ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),c=ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return u<=c?o:a}return o||a}const lE={type:Ht.GATHER_FOOD,getUtility(t,r,o){return o.type!==Te.GATHER_FOOD||t.food.length>=t.maxFood?0:gh(t,r)?.7:0},execute(t,r){const o=gh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<on)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const u=Ue(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(u)}}},mh=(t,r)=>{const{gameState:o}=r;return(u=>{const c=Ae(t,o,"berryBush",u,p=>p.food.length>0),f=Ae(t,o,"humanCorpse",u,p=>p.food.length>0);if(c&&f){const p=ae(t.position,c.position,o.mapDimensions.width,o.mapDimensions.height),g=ae(t.position,f.position,o.mapDimensions.width,o.mapDimensions.height);return p<=g?c:f}return c||f})()},uE={type:Ht.GATHER_FOOD_FOR_CHILD,getUtility(t,r,o){return o.type!==Te.FEED_CHILDREN||!t.isAdult||t.food.length>0||En(r.gameState,t).filter(c=>!c.isAdult&&c.hunger>=Un).length===0?0:mh(t,r)?.8:0},execute(t,r){const o=mh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<on)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const u=Ue(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(u)}}},cE={type:Ht.IDLE_WANDER,getUtility(t,r,o){return o.type===Te.EXPLORE_AND_WANDER?.1:0},execute(t,r){const{gameState:o}=r;if(t.activeAction==="moving"&&t.targetPosition){ae(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height)<on&&(t.activeAction="idle",t.targetPosition=void 0,t.direction={x:0,y:0});return}if(t.activeAction==="idle"||!t.activeAction)if(Math.random()<Ac){let a=t.position,u=wi;const c=t.leaderId&&t.leaderId!==t.id?o.entities.entities.get(t.leaderId):void 0;if(c)a=c.position,u=Sg;else if(t.isAdult){if(t.gender==="female"){const p=Lg(t,o);p&&(a=p.position,u=yg)}}else{const p=kc(t,o);p.length>0&&(a=p[0].position,u=_c)}t.activeAction="moving",t.targetPosition=zo(a,u,o.mapDimensions.width,o.mapDimensions.height);const f=Ue(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height);t.direction=Be(f)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},dE={type:Ht.MIGRATE,getUtility(t,r,o){if(o.type!==Te.EXPLORE_AND_WANDER||t.id!==t.leaderId)return 0;const a=r.gameState,{score:u}=Rc(t.position,wc/2,a,t.id),c=wa(a,t.id,Ea);return c&&c.score>u*Ag?.8:0},execute(t,r){const o=r.gameState,a=wa(o,t.id,Ea);a&&(t.activeAction="moving",t.targetPosition=a.position)}},fE={type:Ht.PLANT_BUSH,getUtility(t,r,o){if(o.type!==Te.PLANT_BUSHES)return 0;const a=t.food.filter(f=>f.type===Sn.Berry).length>=Oo;return!(t.hunger<Sc)||!a?0:ic(t,r.gameState)?.8:0},execute(t,r){const o=ic(t,r.gameState);o&&(t.activeAction="planting",t.targetPosition=o)}},vh=(t,r)=>{const{gameState:o}=r,a=o,u=t.gender==="male"&&t.age>vc&&Pc(t.id,o)===0,c=a.search.berryBush.byRadius(t.position,Mo).length;if(!(t.isAdult&&(u||t.hunger<Je&&(t.procreationCooldown||0)<=0&&c>=Ma)&&(t.gender==="female"?!t.isPregnant&&t.age<=Ft:!0)))return null;const p=g=>{const y=g;return!(y.type==="human"&&y.id!==t.id&&y.gender!==t.gender&&y.isAdult)||!(y.hunger<Je&&(y.procreationCooldown||0)<=0)?!1:y.gender==="female"?!y.isPregnant&&y.age<=Ft:!0};return Ae(t,o,"human",wi*5,g=>p(g)&&(!g.partnerIds||g.partnerIds.length===0||g.partnerIds.includes(t.id)))},pE={type:Ht.PROCREATE,getUtility(t,r,o){return o.type!==Te.PROCREATE?0:vh(t,r)?.8:0},execute(t,r){const o=vh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<on)t.activeAction="procreating",t.targetPosition=o.position;else{t.activeAction="moving",t.targetPosition={...o.position};const u=Ue(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(u)}}},hE={type:Ht.SEEK_FOOD_FROM_PARENT,getUtility(t,r,o){return o.type!==Te.SATISFY_HUNGER||t.isAdult||!(t.hunger>=Un)?0:Ae(t,r.gameState,"human",_i,c=>(c.id===t.motherId||c.id===t.fatherId)&&c.food.length>0)?.9:0},execute(t,r){const o=Ae(t,r.gameState,"human",_i,a=>(a.id===t.motherId||a.id===t.fatherId)&&a.food.length>0);if(o)if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Go){t.activeAction="moving",t.targetPosition={...o.position};const u=Ue(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(u)}else t.activeAction="seekingFood",t.direction={x:0,y:0},t.targetPosition=void 0;else t.activeAction="idle"}};class gE{constructor(){Yt(this,"type",Te.DEFEND_SELF)}getScore(r,o){if(!Fn(r.id,o.gameState))return 0;const u=1-r.hitpoints/r.maxHitpoints;return Math.min(1,.5+u*.5)}}const mE=new gE;class vE{constructor(){Yt(this,"type",Te.DEFEND_TRIBE)}getScore(r,o){if(!r.leaderId)return 0;const a=o.gameState,u=_a(r.leaderId,a);return Dc(u,a)?1:0}}const yE=new vE;class SE{constructor(){Yt(this,"type",Te.ELIMINATE_THREATS)}getScore(r,o){return r.leaderId&&Ua(r.position,r.leaderId,o.gameState,Sa).length>0?1:0}}const EE=new SE,AE={type:Te.EXPLORE_AND_WANDER,getScore(){return .05}};class _E{constructor(){Yt(this,"type",Te.FEED_CHILDREN)}getScore(r,o){if(!r.isAdult||r.food.length===0)return 0;const a=En(o.gameState,r);if(a.length===0)return 0;let u=0;for(const c of a)c.hunger>=Un&&c.hunger>u&&(u=c.hunger);return u===0?0:u/Et}}const wE=new _E,IE={type:Te.GATHER_FOOD,getScore(t,r){if(!t.isAdult||t.food.length>=t.maxFood)return 0;const o=1-t.food.length/t.maxFood,a=t.hunger/Et,u=En(r.gameState,t),c=u.length>0?.2*u.length:0,f=o+a+c;return Math.max(0,Math.min(f,1))}},TE={type:Te.MAINTAIN_HEALTH,getScore(t,r){const a=1-t.hitpoints/t.maxHitpoints;return Math.max(0,Math.min(a,1))}},CE={type:Te.PLANT_BUSHES,getScore(t,r){if(!t.isAdult||!t.leaderId||t.food.filter(y=>y.type===Sn.Berry).length<Oo||t.hunger>Sc)return 0;const a=o1(t.leaderId,r.gameState),u=new Set(a.map(y=>y.id)),c=r.gameState,p=Array.from(c.entities.entities.values()).filter(y=>y.type==="berryBush").filter(y=>y.ownerId&&u.has(y.ownerId)).length;if(p>=Jp)return 0;const g=1-p/Jp;return Math.max(0,Math.min(g,1))}};class PE{constructor(){Yt(this,"type",Te.PROCREATE)}getScore(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>=Je||(r.procreationCooldown||0)>0||r.gender==="female"&&(r.isPregnant||r.age>Ft)||Cc(r.position,a,"berryBush",Mo)<Ma)return 0;if(r.gender==="male"&&r.age>vc&&Pc(r.id,a)===0)return 1;let c=0;r.gender==="female"?c=(r.age-Ao)/(Ft-Ao):c=(r.age-Ao)/(r.maxAge-Ao);const f=.1+c*.7;return Math.max(0,Math.min(f,1))}}const kE=new PE;class RE{constructor(){Yt(this,"type",Te.SATISFY_HUNGER)}getScore(r){const o=r.hunger/Et;return Math.max(0,Math.min(o,1))}}const DE=new RE,yh=[DE,TE,IE,CE,kE,wE,mE,yE,EE,AE],Sh=[oE,lE,fE,aE,rE,pE,sE,hE,uE,iE,dE,cE];function NE(t,r){if(Sh.length===0||yh.length===0){t.activeAction="idle";return}let o=null,a=-1/0;for(const u of Sh){let c=0;for(const f of yh){const p=f.getScore(t,r);if(p<=0)continue;const g=u.getUtility(t,r,f);c+=p*g}c>a&&(a=c,o=u)}o&&a>0?o.execute(t,r):(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}function OE(t,r){switch(t.aiType){case Xt.BehaviorTreeBased:W1(t,r);return;case Xt.UtilityBased:NE(t,r);return;case Xt.StrategyBased:default:for(const o of nE){const a=o.check(t,r);if(a){o.execute(t,r,a);return}}t.activeAction||(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}}function ME(t,r){t.forces.push(nn(t.velocity,-.1));const o=nn(Be(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(a=>{r.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(t.velocity=nn(t.velocity,.5))}),t.debuffs=t.debuffs.filter(a=>r.gameState.time-a.startTime<a.duration),t.velocity=mn(t.velocity,t.forces.reduce(mn,{x:0,y:0})),Lo(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=mn(t.position,nn(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?z1(t,r,r.deltaTime):t.type==="humanCorpse"&&j1(t,r),t.type==="human"&&(!t.isPlayer||r.gameState.isPlayerOnAutopilot)&&OE(t,r),t.stateMachine&&(t.stateMachine=H1(...t.stateMachine,{entity:t,updateContext:r}))}var be=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t))(be||{});class jo{constructor(r){this.children=r}execute(r,o,a){for(const u of this.children){const c=u.execute(r,o,a);if(c!==be.SUCCESS)return c}return be.SUCCESS}}class LE{constructor(r){this.children=r}execute(r,o,a){for(const u of this.children){const c=u.execute(r,o,a);if(c!==be.FAILURE)return c}return be.FAILURE}}class ki{constructor(r){this.action=r}execute(r,o,a){return this.action(r,o,a)}}class Wo{constructor(r){this.condition=r}execute(r,o,a){return this.condition(r,o,a)?be.SUCCESS:be.FAILURE}}function UE(){return new jo([new Wo(t=>(t.isAdult&&t.hunger>=Ur&&t.food.length>0)??!1),new ki(t=>(t.direction={x:0,y:0},t.targetPosition=void 0,t.activeAction="eating",be.SUCCESS))])}function FE(){return new jo([new Wo((t,r,o)=>{if(t.isAdult&&t.hitpoints>t.maxHitpoints*Pi||t.isAdult&&t.hunger>Eg)return!1;const a=Fn(t.id,r.gameState);return a?(o.set("fleeThreat",a),!0):!1}),new ki((t,r,o)=>{const a=o.get("fleeThreat");if(!a)return be.FAILURE;t.activeAction="moving";const u=Ue(a.position,t.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),c=Be(u),f=mn(t.position,nn(c,Ic));return t.targetPosition={x:(f.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,y:(f.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height},t.direction=c,be.RUNNING})])}function HE(){return new jo([new Wo((t,r,o)=>{const a=t.food.length<t.maxFood;if(!t.isAdult||!a||t.hunger<vg)return!1;const u=Ae(t,r.gameState,"berryBush",void 0,p=>p.food.length>0),c=Ae(t,r.gameState,"humanCorpse",void 0,p=>p.food.length>0);let f=null;if(u&&c){const p=ae(t.position,u.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),g=ae(t.position,c.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);f=p<=g?u:c}else f=u||c;return f?(o.set("foodSource",f),!0):!1}),new ki((t,r,o)=>{const a=o.get("foodSource");if(!a)return be.FAILURE;if(ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<on)return t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0,be.SUCCESS;{t.activeAction="moving",t.targetPosition={...a.position};const c=Ue(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return t.direction=Be(c),be.RUNNING}})])}function BE(){return new ki((t,r)=>{if(t.activeAction==="idle"||!t.activeAction){if(Math.random()<Ac){t.activeAction="moving",t.targetPosition=zo(t.position,wi,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);const o=Ue(t.position,t.targetPosition,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(o)}else t.direction={x:0,y:0},t.targetPosition=void 0;return be.SUCCESS}return t.activeAction==="moving"&&t.targetPosition&&ae(t.position,t.targetPosition,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<on&&(t.activeAction="idle",t.targetPosition=void 0,t.direction={x:0,y:0}),be.SUCCESS})}function xE(){return new jo([new Wo((t,r,o)=>{if(!t.isAdult||t.isPregnant||t.age<Ao||t.gender==="female"&&t.age>Ft||t.hunger>=Je||(t.procreationCooldown||0)>0||Cc(t.position,r.gameState,"berryBush",Mo)<Ma)return!1;const c=i1(t,r.gameState,Mo).find(f=>(f.procreationCooldown||0)<=0&&f.hunger<Je&&(f.gender==="female"?!f.isPregnant&&f.age<=Ft:!0));return c?(o.set("procreationPartner",c),!0):!1}),new ki((t,r,o)=>{var c;const a=o.get("procreationPartner");if(!a)return be.FAILURE;if(ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<on)return t.activeAction="procreating",t.targetPosition=void 0,t.direction={x:0,y:0},(c=t.partnerIds)!=null&&c.includes(a.id)||(t.partnerIds=t.partnerIds?[...t.partnerIds,a.id]:[a.id]),be.SUCCESS;{t.activeAction="moving",t.targetPosition={...a.position};const f=Ue(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return t.direction=Be(f),be.RUNNING}})])}function GE(){return new LE([FE(),new jo([new Wo(()=>!1),new ki(()=>be.RUNNING)]),UE(),HE(),xE(),BE()])}class zE{constructor(){Yt(this,"data",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}}function jE(t){t.gameState.entities.entities.forEach(o=>{ME(o,t)})}function WE(){return{entities:new Map,nextEntityId:1}}function Nc(t,r,o){const a={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(a.id,a),a}function Oc(t,r,o){return Nc(t,"berryBush",{position:r,radius:nc,food:Array.from({length:uy},()=>({type:Sn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:ly,lifespan:dy,age:0,spreadChance:fy,spreadRadius:nc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[To,{enteredAt:o,previousState:void 0}]})}function sc(t,r,o,a,u=!1,c=Sy,f=dg,p,g,y=[],v,_){const C=c>=yc;let k;return Math.random()<$y?k=Xt.BehaviorTreeBased:k=Math.random()<Wy?Xt.UtilityBased:Xt.StrategyBased,Nc(t,"human",{position:r,radius:C?yn:wg,hunger:f,hitpoints:bp,maxHitpoints:bp,age:c,gender:a,isPlayer:u,food:[],maxFood:cg,maxAge:No,isAdult:C,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:p,fatherId:g,ancestorIds:y,karma:{},stateMachine:[at,{enteredAt:o,previousState:void 0}],leaderId:v,tribeBadge:_,aiType:k,aiBehaviorTree:k===Xt.BehaviorTreeBased?GE():void 0,aiBlackboard:k===Xt.BehaviorTreeBased?new zE:void 0})}function $E(t,r,o,a,u,c,f,p,g){return Nc(t,"humanCorpse",{position:r,radius:u,gender:o,age:a,originalHumanId:c,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(pg*Math.max(Je-g,0)/Je,1)},()=>({type:Sn.Meat})),...p].map(v=>({...v,id:t.nextEntityId++})),stateMachine:void 0})}function YE(t,r,o){const a=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],c=a?[...a.ancestorIds||[],a.id]:[],f=[...u,...c],p=[...new Set(f)],g=p.slice(Math.max(p.length-gy,0)),y=Math.random()<.5?"male":"female",v=mn(t.position,{x:5,y:5}),_=sc(o.gameState.entities,v,o.gameState.time,y,!1,0,dg/2,t.id,r,g,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return G1(_,t,a),St(o,Ke.Birth,t.position),_}function Mc(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class VE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let a=this.length++;for(;a>0;){const u=a-1>>1,c=this.values[u];if(o>=c)break;this.ids[a]=this.ids[u],this.values[a]=c,a=u}this.ids[a]=r,this.values[a]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],u=this.length>>1;let c=0;for(;c<u;){let f=(c<<1)+1;const p=f+1;let g=this.ids[f],y=this.values[f];const v=this.values[p];if(p<this.length&&v<y&&(f=p,g=this.ids[p],y=v),y>=a)break;this.ids[c]=g,this.values[c]=y,c=f}this.ids[c]=o,this.values[c]=a}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Eh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Yu=3;class Lc{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,u]=new Uint8Array(r,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=u>>4;if(c!==Yu)throw new Error(`Got v${c} data when expected v${Yu}.`);const f=Eh[u&15];if(!f)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(r,o+2,1),[g]=new Uint32Array(r,o+4,1);return new Lc(g,p,f,void 0,r,o)}constructor(r,o=16,a=Float64Array,u=ArrayBuffer,c,f=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let p=r,g=p;this._levelBounds=[p*4];do p=Math.ceil(p/this.nodeSize),g+=p,this._levelBounds.push(g*4);while(p!==1);this.ArrayType=a,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const y=Eh.indexOf(this.ArrayType),v=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(y<0)throw new Error(`Unexpected typed array class: ${a}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,f+8,g*4),this._indices=new this.IndexArrayType(this.data,f+8+v,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+v+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+v,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Yu<<4)+y]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new VE}add(r,o,a=r,u=o){const c=this._pos>>2,f=this._boxes;return this._indices[c]=c,f[this._pos++]=r,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),u>this.maxY&&(this.maxY=u),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),c=65535;for(let f=0,p=0;f<this.numItems;f++){const g=r[p++],y=r[p++],v=r[p++],_=r[p++],C=Math.floor(c*((g+v)/2-this.minX)/o),k=Math.floor(c*((y+_)/2-this.minY)/a);u[f]=KE(C,k)}ac(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,p=0;f<this._levelBounds.length-1;f++){const g=this._levelBounds[f];for(;p<g;){const y=p;let v=r[p++],_=r[p++],C=r[p++],k=r[p++];for(let N=1;N<this.nodeSize&&p<g;N++)v=Math.min(v,r[p++]),_=Math.min(_,r[p++]),C=Math.max(C,r[p++]),k=Math.max(k,r[p++]);this._indices[this._pos>>2]=y,r[this._pos++]=v,r[this._pos++]=_,r[this._pos++]=C,r[this._pos++]=k}}}search(r,o,a,u,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=[],g=[];for(;f!==void 0;){const y=Math.min(f+this.nodeSize*4,_h(f,this._levelBounds));for(let v=f;v<y;v+=4){if(a<this._boxes[v]||u<this._boxes[v+1]||r>this._boxes[v+2]||o>this._boxes[v+3])continue;const _=this._indices[v>>2]|0;f>=this.numItems*4?p.push(_):(c===void 0||c(_))&&g.push(_)}f=p.pop()}return g}neighbors(r,o,a=1/0,u=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=this._queue,g=[],y=u*u;e:for(;f!==void 0;){const v=Math.min(f+this.nodeSize*4,_h(f,this._levelBounds));for(let _=f;_<v;_+=4){const C=this._indices[_>>2]|0,k=Ah(r,this._boxes[_],this._boxes[_+2]),N=Ah(o,this._boxes[_+1],this._boxes[_+3]),M=k*k+N*N;M>y||(f>=this.numItems*4?p.push(C<<1,M):(c===void 0||c(C))&&p.push((C<<1)+1,M))}for(;p.length&&p.peek()&1;)if(p.peekValue()>y||(g.push(p.pop()>>1),g.length===a))break e;f=p.length?p.pop()>>1:void 0}return p.clear(),g}}function Ah(t,r,o){return t<r?r-t:t<=o?0:t-o}function _h(t,r){let o=0,a=r.length-1;for(;o<a;){const u=o+a>>1;r[u]>t?a=u:o=u+1}return r[o]}function ac(t,r,o,a,u,c){if(Math.floor(a/c)>=Math.floor(u/c))return;const f=t[a+u>>1];let p=a-1,g=u+1;for(;;){do p++;while(t[p]<f);do g--;while(t[g]>f);if(p>=g)break;XE(t,r,o,p,g)}ac(t,r,o,a,g,c),ac(t,r,o,g+1,u,c)}function XE(t,r,o,a,u){const c=t[a];t[a]=t[u],t[u]=c;const f=4*a,p=4*u,g=r[f],y=r[f+1],v=r[f+2],_=r[f+3];r[f]=r[p],r[f+1]=r[p+1],r[f+2]=r[p+2],r[f+3]=r[p+3],r[p]=g,r[p+1]=y,r[p+2]=v,r[p+3]=_;const C=o[a];o[a]=o[u],o[u]=C}function KE(t,r){let o=t^r,a=65535^o,u=65535^(t|r),c=t&(r^65535),f=o|a>>1,p=o>>1^o,g=u>>1^a&c>>1^u,y=o&u>>1^c>>1^c;o=f,a=p,u=g,c=y,f=o&o>>2^a&a>>2,p=o&a>>2^a&(o^a)>>2,g^=o&u>>2^a&c>>2,y^=a&u>>2^(o^a)&c>>2,o=f,a=p,u=g,c=y,f=o&o>>4^a&a>>4,p=o&a>>4^a&(o^a)>>4,g^=o&u>>4^a&c>>4,y^=a&u>>4^(o^a)&c>>4,o=f,a=p,u=g,c=y,g^=o&u>>8^a&c>>8,y^=a&u>>8^(o^a)&c>>8,o=g^g>>1,a=y^y>>1;let v=t^r,_=a|65535^(v|o);return v=(v|v<<8)&16711935,v=(v|v<<4)&252645135,v=(v|v<<2)&858993459,v=(v|v<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,(_<<1|v)>>>0}function Vu(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Lc(t.length),a=new Map;for(const c of t)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(p=>t[p])},byRadius(c,f){return o.neighbors(c.x,c.y,void 0,f).map(g=>t[g])},byProperty(c,f){var p;if(!a.has(c)){const g=new Map;for(const y of t){const v=y[c];g.has(v)||g.set(v,[]),g.get(v).push(y)}a.set(c,g)}return((p=a.get(c))==null?void 0:p.get(f))||[]},resetPropertyCache(){a.clear()}}}function jg(t){const r=Array.from(t.entities.entities.values()),o=r.filter(f=>f.type==="human"),a=r.filter(f=>f.type==="berryBush"),u=r.filter(f=>f.type==="humanCorpse");return{...t,search:{human:Vu(o),berryBush:Vu(a),humanCorpse:Vu(u)}}}var dr=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t))(dr||{}),Ho=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t))(Ho||{}),yt=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(yt||{});const QE=[{key:dr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:dr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>my,isCompleted:!1,minDisplayTime:ah,highlightedUIElements:[Ho.HUNGER_BAR]},{key:dr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!Ae(r,t,"berryBush",kt*5,a=>a.food.length>0),getTargets:(t,r)=>{const o=[];for(const a of t.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&ae(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:ah},{key:dr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=Ae(r,t,"berryBush",kt,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:dr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Ho.FOOD_BAR]},{key:dr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>En(t,r).length>0,getTargets:(t,r)=>{const o=Ae(r,t,"human",kt,a=>{const u=a;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<Je&&r.hunger<Je&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=Ft:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:dr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>Og(t,r).some(a=>a.type===hn.PlantBush)&&t.hasPlayerPlantedBush===!0,isCompleted:!1}];function qE(){return{steps:QE.map(t=>({...t,isCompleted:!1}))}}function ZE(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:yt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function bE(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function JE(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=pr(t);if(!a){o.isActive=!1,o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/$S;switch(o.transitionState){case yt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=c*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=yt.ACTIVE);break;case yt.ACTIVE:{t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,a)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=yt.FADING_OUT);break}case yt.FADING_OUT:if(o.transitionAlpha-=c*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const p=bE(t);p!==null?(o.currentStepIndex=p,o.transitionState=yt.FADING_IN):(o.isActive=!1,o.transitionState=yt.INACTIVE)}break}o.transitionState!==yt.FADING_OUT&&o.transitionState!==yt.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,a)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function eA(){const t=WE(),r=0;for(let v=0;v<py;v++){const _={x:Math.random()*Uu,y:Math.random()*Fu};Oc(t,_,r)}const o=Uu/2,a=Fu/2,u=sc(t,{x:o,y:a},r,"male",!0);sc(t,{x:o+50,y:a},r,"female",!1);const c=[{id:"autopilotButton",action:vn.ToggleAutopilot,currentWidth:Co,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:vn.ToggleMute,currentWidth:Co,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:vn.TogglePause,currentWidth:Co,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=qE(),p=ZE(),g={time:r,entities:t,mapDimensions:{width:Uu,height:Fu},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:ZS,isMuted:!1,uiButtons:c,tutorial:f,tutorialState:p},y=jg(g);return console.log("Game world initialized:",y),y}function tA(){return console.log("Tribe game initialized with detailed 2D world state."),eA()}const nA="humanProcreation",rA="human",iA="human",oA=kt,sA=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(a,u)=>a.isAdult&&a.hunger<Je&&(a.procreationCooldown||0)<=0?u?!a.isPregnant&&a.age<=Ft:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},aA=(t,r,o)=>{var v,_;const{gameState:a}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},c=[...t.partnerIds||[]],f=[...r.partnerIds||[]],p=t.gender==="male"?t:r,g=t.gender==="female"?t:r,y=(p.partnerIds||[]).length===0;t.stateMachine=[Uo,{partnerId:r.id,previousState:(v=t.stateMachine)==null?void 0:v[0]}],r.stateMachine=[Uo,{partnerId:t.id,previousState:(_=r.stateMachine)==null?void 0:_[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id);for(const C of c)if(C!==r.id){const k=a.entities.entities.get(C);k&&Ia(t,k,eh,a)}for(const C of f)if(C!==t.id){const k=a.entities.entities.get(C);k&&Ia(r,k,eh,a)}if(y&&p.leaderId&&p.leaderId!==p.id){const C=a.entities.entities.get(p.leaderId);if(C){const k=uh(p,C),N=uh(g,C);if(!k&&!N){const M=Aa();p.leaderId=p.id,p.tribeBadge=M,g.leaderId=p.id,g.tribeBadge=M}}}else if(!t.leaderId&&!r.leaderId&&p&&g){const C=Aa();p.leaderId=p.id,p.tribeBadge=C,g.leaderId=p.id,g.tribeBadge=C}t.activeAction=void 0,Ze(a,me.Procreation,u,_o),Ze(a,me.Partnered,t.position,it,t.id),Ze(a,me.Partnered,r.position,it,r.id),t.lastPartneredEffectTime=a.time,r.lastPartneredEffectTime=a.time,r.activeAction=void 0,St(o,Ke.Procreate,u)},lA={id:nA,sourceType:rA,targetType:iA,maxDistance:oA,checker:sA,perform:aA},uA={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Go,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=Un,perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-Hr),t.feedChildCooldownTime=Ty,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(Ze(o.gameState,me.ChildFed,r.position,it,r.id),r.lastChildFedEffectTime=o.gameState.time),St(o,Ke.ChildFed,r.position)}},cA={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Oa,checker:(t,r,o)=>{var c;if(((c=t.stateMachine)==null?void 0:c[0])!==Ti||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const a=t.stateMachine[1];return o.gameState.time-a.attackStartTime>=hg},perform:(t,r,o)=>{Ia(t,r,eS,o.gameState);const a=Ue(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=n1(Be(a),r.direction);if(Math.abs(u)<Hy*Math.PI/180&&Math.random()<By)Ze(o.gameState,me.AttackDeflected,r.position,it,r.id);else{let p=Dy;t.gender==="male"&&(p*=Ly),t.isAdult||(p*=Uy),(!r.isAdult||r.age>=fg)&&t.isAdult&&(p*=Fy),r.hitpoints-=p,Ze(o.gameState,me.Hit,r.position,it,r.id);const y=Ue(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),v=nn(y,Ny);r.forces.push(v),r.hitpoints<=0?St(o,Ke.HumanDeath,r.position):St(o,Ke.Attack,t.position)}t.attackCooldown=gg;const f=t.stateMachine[1];f.attackStartTime=o.gameState.time,Ze(o.gameState,me.Attack,t.position,it,t.id)}},dA={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:yn*2,checker:(t,r,{gameState:o})=>ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const a=ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const c=(t.radius+r.radius-a)*.05,f=Be(e1(t.position,r.position)),p=nn(f,c);t.forces.push(p),r.forces.push(nn(p,-1))}},fA={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:kt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===Fa&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();if(a&&t.food.push(a),r.ownerId&&r.ownerId!==t.id){const u=o.gameState.entities.entities.get(r.ownerId);u&&!La(t,u,o.gameState)&&Ia(u,t,tS,o.gameState)}t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+hy,Ze(o.gameState,me.BushClaimed,r.position,it),St(o,Ke.Gather,t.position)}},pA={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:kt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===Fa&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();a&&t.food.push(a),t.gatheringCooldownTime=o.gameState.time+1,St(o,Ke.Gather,t.position)}},hA=[fA,pA],gA=[dA,...hA,lA,uA,cA];function mA(t){const{gameState:r}=t,o=r,a=Array.from(r.entities.entities.values());for(const u of gA)for(const c of a){if(u.sourceType&&c.type!==u.sourceType)continue;const f=o.search[u.targetType].byRadius(c.position,u.maxDistance);for(const p of f){if(c.id===p.id)continue;ae(c.position,p.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(c,p,t)&&u.perform(c,p,t)}}}function vA(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const yA=1/60;function SA(t,r){const o=pr(t);o&&(t.viewportCenter=Ng(t.viewportCenter,o.position,lg*r))}function wh(t,r){if(t.isPaused)return t;for(;r>0;){const o=jg(t),a=Math.min(r,yA);if(o.gameOver)return o;const u=a*(Mn/Ln);o.time+=u,SA(o,a),jE({gameState:o,deltaTime:a}),mA({gameState:o,deltaTime:a}),vA(o),JE(o,a),t=o,r-=a}return t}const lc=10,EA=3,Ih=lc*.7;function AA(t,r,o,a,u){const{position:c,food:f,maxFood:p,ownerId:g,claimedUntil:y}=r;if(t.beginPath(),t.arc(c.x,c.y,lc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),g&&y&&y>u&&a){const v=o.entities.entities.get(g);if(v){let _;v.id===a.id?_=Tc:La(a,v,o)?_=lS:_=Pg,_&&(t.strokeStyle=_,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(c.x,c.y,lc+2,0,Math.PI*2),t.stroke())}}if(f.length>0){const v=Math.PI*2/Math.min(f.length,p);for(let _=0;_<f.length;_++){const C=_*v,k=c.x+Ih*Math.cos(C),N=c.y+Ih*Math.sin(C);t.beginPath(),t.arc(k,N,EA,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}const ne=(t,r,o,a,u,c,f)=>{c==="transparent"||a<=0||u<=0||(t.fillStyle=c,t.fillRect(Math.floor(r*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(u*f)))},Th=10,Ch=10,fn=6,Nn=4,oa=2,_A=5,Vt=4,wA=2,pt=4,IA=2,He=3,ci=2,fr=0,Po=fr+Nn-1,vt=Po,Ye=Po+Vt-1,TA="rgba(0, 0, 0, 0.4)",CA=4,PA=1,Uc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,a,u,c,f,p="male",g=20,y=[1,0],v=!1,_=0){const C=["dead","stunned"].includes(f),k=C?Ch+4:Th,N=C?Th+4:Ch+He,M=.15,w=Math.min(a*(1-2*M)/k,u*(1-2*M)/N),R=k*w,z=N*w,x=r+(a-R)/2,j=o+(u-z)/2;t.save(),y[0]<0&&!C?(t.translate(x+R,j),t.scale(-1,1)):t.translate(x,j);const L="#D09A5A",D=g>50?"#BDBDBD":"#281808",ue="#7F5C4A",Ce="#6B4F3A",Re="#E0D8C0",lt="#A0522D",De=1-Math.max(0,Math.min(100,_))/100*.2,ye=p==="male"?1.1:.9,je=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let Se=_A*De*ye*je,pe=wA*De*ye*je,re=IA*De*je;v&&p==="female"&&(Se*=1.5);const G=Math.round((k-Se)/2),Y=Math.round((k-fn)/2),W=G-pe,A=G+Se,O=1,V=G+(Se/2-O/2)-re,ie=G+(Se/2+O/2),he=y[1]<-.2&&Math.abs(y[0])<.7,oe=K=>{t.fillStyle=TA,t.beginPath();const te=k/2,_e=K;t.ellipse(Math.floor(te*w),Math.floor(_e*w),Math.max(1,Math.floor(CA*w)),Math.max(1,Math.floor(PA*w)),0,0,2*Math.PI),t.fill()},de=(K,te)=>{p==="male"?(ne(t,G,Po+K,Se,Vt-ci,te,w),ne(t,G,Po+Vt-ci+K,Se,ci,ue,w)):ne(t,G,Po+K,Se,Vt,Ce,w)},ce=(K,te)=>{he?ne(t,Y,fr+K,fn,Nn,D,w):(ne(t,Y,fr+K,fn,Nn,te,w),ne(t,Y,fr+K,fn,oa,D,w),p==="female"?(ne(t,Y-1,fr+oa+K,1,Nn,D,w),ne(t,Y+fn,fr+oa+K,1,Nn,D,w)):ne(t,Y+1,fr+2+K,fn-2,Nn-2,D,w))};switch(f){case"idle":{const K=c*Math.PI*2,te=Math.sin(K)*.5,le=(Math.cos(K*2)+1)*.25;oe(Ye+He+1),ne(t,V+te,Ye+le,re,He,L,w),ne(t,ie-te,Ye+le,re,He,L,w),de(le,L),ne(t,W,vt+le,pe,pt,L,w),ne(t,A,vt+le,pe,pt,L,w),ce(le,L);break}case"walk":{const K=c*Math.PI*2,te=Math.sin(K)*2,le=Math.abs(Math.cos(K))*1;oe(Ye+He+1),ne(t,V+te,Ye+le,re,He,L,w),ne(t,ie-te,Ye+le,re,He,L,w),de(le,L),ne(t,W-te,vt+le,pe,pt,L,w),ne(t,A+te,vt+le,pe,pt,L,w),ce(le,L);break}case"gathering":{const K=c*Math.PI*2,te=1,_e=(Math.sin(K)+1)/2*2,le=te+Math.abs(Math.cos(K))*.5;oe(Ye+He+1),ne(t,V,Ye+le,re,He-te,L,w),ne(t,ie,Ye+le,re,He-te,L,w),de(le,L),ne(t,W+1,vt+le-_e,pe,pt,L,w),ne(t,A-1,vt+le-_e,pe,pt,L,w),ce(le,L);break}case"eat":{oe(Ye+He+1),ne(t,V,Ye+1,re,He-1,L,w),ne(t,ie,Ye+1,re,He-1,L,w),de(1,L);const _e=(Math.sin(c*Math.PI*4)+1)/2,le=Y+fn/2,An=fr+Nn/2,Rt=A+(le-A)*_e,Bt=vt+1+(An-(vt+1))*_e;ne(t,W,vt+1,pe,pt,L,w),ne(t,Rt,Bt,pe,pt,L,w),ne(t,Rt,Bt-1,1,1,lt,w),ce(1,L);break}case"procreate":{const K=(Math.sin(c*Math.PI*8)+1)/4,te=(Math.sin(c*Math.PI*6)+1)*.5,_e=1.5,le=_e-te;oe(Ye+He+1),ne(t,V,Ye+le,re,He-_e,L,w),ne(t,ie,Ye+le,re,He-_e,L,w),de(le,L),ne(t,W,vt+le,pe,pt,L,w),ne(t,A,vt+le,pe,pt,L,w),ce(le,L),t.globalAlpha=K,de(le,"white"),t.globalAlpha=1;break}case"attacking":{const K=Math.sin(c*Math.PI)*1.5,te=Math.abs(Math.sin(c*Math.PI));oe(Ye+He+1),ne(t,V-K,Ye+te,re,He,L,w),ne(t,ie+K*.5,Ye+te,re,He,L,w),de(te,L),ne(t,W,vt+te-2,pe,pt,L,w),ne(t,A,vt+te-2.5,pe,pt,L,w),ce(te,L);break}case"defending":{oe(Ye+He+1),ne(t,V,Ye+1,re,He-1,L,w),ne(t,ie,Ye+1,re,He-1,L,w),de(1,L),ne(t,W-1,vt+1-1,pe,pt,L,w),ne(t,A+1,vt+1-1,pe,pt,L,w),ce(1,L);break}case"stunned":case"dead":{const K=f==="dead",te=K?Math.min(1,c):0,_e=te>.5?Re:L,le=p==="male"?ue:Ce,An=te>.8?"transparent":D,Rt=k/2,Bt=N/2,vr=2;oe(N-1),ne(t,Rt-re-vr,Bt,re,He,_e,w),ne(t,Rt+vr,Bt,re,He,_e,w),ne(t,Rt-pe-vr,Bt-Vt+1,pe,pt,_e,w),ne(t,Rt+vr,Bt-Vt+1,pe,pt,_e,w);const _n=Rt-Se/2,Hn=Bt-Vt/2;p==="male"?(te<.7&&ne(t,_n,Hn+Vt-ci,Se,ci,le,w),ne(t,_n,Hn,Se,Vt-ci,_e,w)):te<.7?ne(t,_n,Hn,Se,Vt,le,w):ne(t,_n,Hn,Se,Vt,_e,w);const Br=Rt-fn/2,Bn=Bt-Vt/2-Nn+1;if(ne(t,Br,Bn,fn,Nn,_e,w),An!=="transparent"&&ne(t,Br,Bn,fn,oa,An,w),K&&te>.6){const xn="#B0A890";for(let yr=0;yr<3;yr++)ne(t,_n+1,Hn+yr*1+1,Se-2,.5,xn,w)}break}default:ne(t,0,0,k,N,"magenta",w);break}t.restore()}};function kA(t,r){const{position:o,gender:a,age:u,decayProgress:c,food:f,radius:p}=r;if(t.save(),t.globalAlpha=1-c,Uc.render(t,o.x-p,o.y-p,p*2,p*2,c,"dead",a,u,[0,0],!1,0),t.restore(),f.length>0){t.save(),t.font=`${wS}px Arial`,t.textAlign="center",t.textBaseline="middle";const g=yn*.9,y=Math.PI/cg*3;f.forEach((v,_)=>{const C=_*y,k=o.x+g*Math.cos(C)*Math.atan2(_,_),N=o.y+g*Math.sin(C)*Math.atan2(_,_),M=Dg[v.type];t.fillText(M,k,N)}),t.restore()}}const RA=25,DA=0,Ph=28;function NA(t,r,o,a,u,c,f,p,g){t.save();const y=r.x-f.x+p/2,v=r.y-f.y+g/2;t.strokeStyle=a,t.lineWidth=c,t.setLineDash(u),t.beginPath(),t.arc(y,v,o+kg,0,2*Math.PI),t.stroke(),t.restore()}function OA(t,r,o,a,u,c){if(r.length===0)return;t.save(),r.forEach(v=>{v.targetEntity&&NA(t,v.targetEntity.position,v.targetEntity.radius,uS,cS,2,a,u,c)}),t.font=`${th}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const f=o.position.x-a.x+u/2,p=o.position.y-a.y+c/2;let g=0,y={};r.forEach(v=>{const _=r1[v.type];if(v.targetEntity){y[v.targetEntity.id]=(y[v.targetEntity.id]||0)+1;const C=v.targetEntity.position.x-a.x+u/2,k=v.targetEntity.position.y-a.y+c/2,N=`${_}${v.key.toUpperCase()}`,M=k-v.targetEntity.radius-kg-th/2-(y[v.targetEntity.id]-1)*Ph;t.fillText(N,C,M)}else{t.textAlign="left";const C=`${_}${v.key.toUpperCase()}`,k=f+RA,M=p+DA+g*Ph;t.fillText(C,k,M),g++,t.textAlign="center"}}),t.restore()}function MA(t,r){t.save(),t.fillStyle=r.backgroundColor,t.fillRect(r.rect.x,r.rect.y,r.rect.width,r.rect.height),t.fillStyle=r.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,r.rect.x+r.rect.width/2,r.rect.y+r.rect.height/2),t.restore()}function mi(t,r,o,a,u,c,f,p){t.save(),t.fillStyle=f,t.fillRect(r,o,a,u),t.fillStyle=p,t.fillRect(r,o,a*Math.max(0,c),u),t.restore()}function LA(t,r,o,a,u,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*u;let p;f>c||f+(a.length-1)*4>c?p=(c-f)/(a.length-1):p=4,a.length===1&&(p=0);for(let g=0;g<a.length;g++){const y=Dg[a[g].type];t.fillText(y,r+g*(u+p),o)}t.restore()}function UA(t,r,o,a,u){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function Bo(t,r,o,a,u,c=!1,f=!1,p=!1,g=!1){a<yc&&(o=o*.75),Uc.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,a,[0,0],!1,0);let y,v;c?(y=IS,v=Tc):f?(y=TS,v=Cg):p?(y=CS,v=Tg):g&&(y=PS,v=Ig),y&&v&&UA(t,r,o/2,y,v)}function FA(t,r,o,a,u,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*u,p=4;let g;const y=f+(a.length-1)*p;a.length>1&&y>c?g=(c-f)/(a.length-1):g=p,a.length<=1&&(g=0);for(let v=0;v<a.length;v++){const{member:_,isPlayer:C,isHeir:k,isPartner:N,isParent:M}=a[v],w=r+v*(u+g)+u/2,R=o+u/4;Bo(t,{x:w,y:R},u,_.age,_.gender,C,k,N,M)}t.restore()}function HA(t,r,o,a){if(r.length===0)return;t.save();const u=ar,c=" 00",f=" 00";t.font=`${Hu}px "Press Start 2P", Arial`;const p=t.measureText(c).width,g=t.measureText(f).width,y=ar+na+ar+lr+p+ar/2+lr+g,v=r.length*ra+(r.length-1)*ih,_=a-v-ar;t.fillStyle=RS,t.fillRect(u,_,y,v);for(let C=0;C<r.length;C++){const k=r[C],N=_+C*(ra+ih),M=N+ra/2;k.isPlayerTribe&&(t.fillStyle=kS,t.fillRect(u,N,y,ra));let w=u+ar;t.font=`${na}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(k.tribeBadge,w,M-na/4),w+=na+ar*1.1,k.adultCount>0&&(Bo(t,{x:w+lr/2,y:M},lr,25,"male"),w+=lr/2,t.font=`${Hu}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${k.adultCount}`,w,M),w+=t.measureText(` ${k.adultCount}`).width+ar/2),k.childCount>0&&(Bo(t,{x:w+lr/2,y:M},lr,1,"female"),w+=lr/2,t.font=`${Hu}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${k.childCount}`,w,M))}t.restore()}function BA(t,r,o,a,u){t.save();const{position:c}=r;t.strokeStyle=a,t.lineWidth=2+Math.sin(u*5)*1.5,t.setLineDash([8,8]),t.beginPath(),t.arc(c.x,c.y,o,0,2*Math.PI),t.stroke(),t.restore()}function xA(t,r,o,a,u){if(r.transitionState===yt.INACTIVE)return;const c=o.steps[r.currentStepIndex];if(!c)return;t.save(),t.globalAlpha=r.transitionAlpha;const f=xS,p=GS,g=zS,y=`${zu}px "Press Start 2P", Arial`,v=`${sh}px "Press Start 2P", Arial`,_=WS,C=sh*1.5;t.font=v;const k=c.text.split(" ");let N="";const M=[];for(let j=0;j<k.length;j++){const b=N+k[j]+" ";t.measureText(b).width>f-p*2&&j>0?(M.push(N),N=k[j]+" "):N=b}M.push(N);const w=p*2+zu+p/2+M.length*C,R=(a-f)/2,z=u-w-20;t.fillStyle=jS,t.beginPath(),t.moveTo(R+g,z),t.lineTo(R+f-g,z),t.quadraticCurveTo(R+f,z,R+f,z+g),t.lineTo(R+f,z+w-g),t.quadraticCurveTo(R+f,z+w,R+f-g,z+w),t.lineTo(R+g,z+w),t.quadraticCurveTo(R,z+w,R,z+w-g),t.lineTo(R,z+g),t.quadraticCurveTo(R,z,R+g,z),t.closePath(),t.fill(),t.fillStyle=_,t.textAlign="center",t.textBaseline="top",t.font=y,t.fillText(c.title,R+f/2,z+p),t.font=v;let x=z+p+zu+p/2;for(const j of M)t.fillText(j,R+f/2,x),x+=C;t.restore()}function kh(t,r,o){t.save();const a=KS,u={x:r.x-a,y:r.y-a,width:r.width+a*2,height:r.height+a*2};t.strokeStyle=Rg,t.lineWidth=XS+Math.sin(o*VS)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function GA(t){t.save(),t.fillStyle=FS,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=HS,t.font=`${BS}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const zA={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",seekingFood:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle"};function jA(t,r){var p;const{radius:o,position:a,activeAction:u="idle"}=r,c=((p=r.stateMachine)==null?void 0:p[0])||"N/A",f=r.isAdult?yn+20:yn*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,a.x,a.y-f),t.fillText(`State: ${c}`,a.x,a.y-f+10),t.fillText(`HP: ${r.hitpoints}`,a.x,a.y-f+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,a.x,a.y-f+30),t.restore(),t.beginPath(),t.arc(a.x,a.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function WA(t,r,o){t.save(),t.font=`${rh}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-yn-rh-18),t.restore()}function $A(t,r,o,a,u){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function YA(t,r,o){var p;const{position:a,radius:u}=r,c=a.x-Bu/2,f=a.y-u-DS;if(((p=r.stateMachine)==null?void 0:p[0])===Ti){const g=r.stateMachine[1],y=o-g.attackStartTime,v=Math.min(y/hg,1);mi(t,c,f,Bu,oh,v,gi,NS)}else if(r.attackCooldown&&r.attackCooldown>0){const g=1-r.attackCooldown/gg;mi(t,c,f,Bu,oh,g,gi,OS)}}function VA(t,r,o=!1,a=!1,u=!1,c=!1,f=!1,p=!1,g=!1,y){const{position:v,activeAction:_="idle"}=r,C=r.isAdult?yn:yn*.6,k=zA[_]||"idle";Uc.render(t,v.x-C,v.y-C,C*2,C*2,r.animationProgress||0,k,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),p&&(t.save(),t.strokeStyle=Pg,t.lineWidth=2,t.beginPath(),t.arc(v.x,v.y,C+3,0,2*Math.PI),t.stroke(),t.restore());let N,M;if(f?(N=fS,M=Cg):o?(N=dS,M=Tc):u?(N=pS,M=aS):a?(N=hS,M=Ig):c&&(N=gS,M=Tg),N&&M&&$A(t,v,C,N,M),r.tribeBadge&&WA(t,v,r.tribeBadge),r.aiType!==void 0){t.save();const w=3,R=C+5;let z;switch(r.aiType){case Xt.UtilityBased:z="blue";break;case Xt.BehaviorTreeBased:z="purple";break;case Xt.StrategyBased:default:z="red";break}t.fillStyle=z,t.beginPath(),t.arc(v.x,v.y-R,w,0,Math.PI*2),t.fill(),t.restore()}YA(t,r,y),g&&jA(t,r)}const Wg=15;function Rh(t,r,o,a,u=1.5){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,y=1+Math.sin(f*Math.PI*2)*(u-1),v=Wg*y;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,v),0,Math.PI*2),t.fillStyle=a,t.fill(),t.restore()}function di(t,r,o,a,u=2){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,g=Wg*2*f;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,g,0,Math.PI*2),t.strokeStyle=a,t.lineWidth=u,t.stroke(),t.restore()}function ur(t,r,o,a){const u=o-r.startTime,c=Math.min(u/r.duration,1),f=1-c,p=-20*c;t.save(),t.globalAlpha=f,t.font="20px Arial",t.textAlign="center",t.fillText(a,r.position.x,r.position.y+p),t.restore()}function XA(t,r,o){switch(r.type){case me.Hunger:Rh(t,r,o,"rgba(255, 165, 0, 0.7)");break;case me.Procreation:ur(t,r,o,"❤️");break;case me.Pregnant:Rh(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case me.TargetAcquired:di(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case me.Attack:ur(t,r,o,"⚔️");break;case me.Partnered:ur(t,r,o,"🤝");break;case me.BushClaimed:di(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case me.BushClaimLost:di(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case me.Eating:ur(t,r,o,"🍖");break;case me.ChildFed:ur(t,r,o,"🍼");break;case me.AttackDeflected:ur(t,r,o,"🛡️");break;case me.AttackResisted:ur(t,r,o,"💪");break;case me.Hit:ur(t,r,o,"💥");break;case me.SeizeBuildup:di(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case me.Seize:di(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case me.CallToAttack:di(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function So(t,r,o,a,u,...c){const f={...u.position};for(let p=-o;p<=o;p+=o)for(let g=-r;g<=r;g+=r)u.position.x=f.x+g,u.position.y=f.y+p,a(t,u,...c);u.position=f}function KA(t,r){const o=Array.from(r.entities.entities.values()).filter(u=>u.type==="human"),a=new Set;for(const u of o)for(const c in u.karma){const f=parseInt(c,10),p=u.karma[f],g=`${u.id}-${f}`,y=`${f}-${u.id}`;if(p<0&&!a.has(g)&&!a.has(y)){const v=r.entities.entities.get(f);v&&(t.beginPath(),t.moveTo(u.position.x,u.position.y),t.lineTo(v.position.x,v.position.y),t.strokeStyle=sS,t.globalAlpha=Math.abs(p)/100,t.lineWidth=2,t.stroke(),a.add(g))}}}function Dh(t,r,o,a,u){var L;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-a.x,t.canvas.height/2-a.y),r.gameOver){t.restore(),t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20);return}const c=pr(r),f=c?En(r,c):[],p=oc(f),g=((L=c==null?void 0:c.partnerIds)==null?void 0:L.map(D=>r.entities.entities.get(D)).filter(D=>D!==void 0))||[],{width:y,height:v}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((D,ue)=>D.position.y-ue.position.y||D.id-ue.id).forEach(D=>{var ue,Ce;if(D.type==="berryBush")So(t,y,v,AA,D,r,c,r.time);else if(D.type==="human"){const Re=D,lt=Re.id===(c==null?void 0:c.id),De=f.some(re=>re.id===Re.id),ye=Re.id===(p==null?void 0:p.id),je=c&&(Re.id===c.motherId||Re.id===c.fatherId),Se=c&&(((ue=Re.partnerIds)==null?void 0:ue.includes(c.id))||((Ce=c.partnerIds)==null?void 0:Ce.includes(Re.id))),pe=(c==null?void 0:c.attackTargetId)===Re.id;So(t,y,v,VA,Re,lt,je,De,Se,ye,pe,o,r.time)}else D.type==="humanCorpse"&&So(t,y,v,kA,D)}),o&&KA(t,r),r.visualEffects.forEach(D=>{So(t,y,v,XA,D,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const D of r.tutorialState.highlightedEntityIds){const ue=r.entities.entities.get(D);ue&&So(t,y,v,BA,ue,YS,Rg,r.time)}t.restore();let C=null,k=null;t.fillStyle=mS,t.font=`${or}px "Press Start 2P", Arial`,t.shadowColor=vS,t.shadowBlur=yS,t.textAlign="left";let N=Pt+or;const w=r.time/(Mn/Ln)/ug%1,R=vo[fi.Time],z=25,x=Pt+z;if(t.fillText(R,Pt,N+Lt/2+or/3),mi(t,x,N,sr,Lt,w,gi,_S),N+=Lt+dn,c){const D=N+Or/2,ue=N+(Or-Lt)/2,Ce=5;Bo(t,{x:Pt*2,y:D},Or,5,c.gender,!1,!1,!1);const Re=Pt+Or+Ce,lt=sr+z-(Or+Ce)*2;mi(t,Re,ue,lt,Lt,Math.floor(c.age)/No,gi,AS),Bo(t,{x:Re+lt+Ce+Or/2,y:D},Or,No,c.gender,!1,!1,!1),N+=Lt+dn*2;const De=[],ye=new Set;if(De.push({member:c,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(c.id),p&&!ye.has(p.id)&&(De.push({member:p,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),ye.add(p.id)),g.forEach(V=>{ye.has(V.id)||(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),ye.add(V.id))}),f.forEach(V=>{ye.has(V.id)||(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(V.id))}),c.motherId&&!ye.has(c.motherId)){const V=r.entities.entities.get(c.motherId);V&&(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(V.id))}if(c.fatherId&&!ye.has(c.fatherId)){const V=r.entities.entities.get(c.fatherId);V&&(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(V.id))}const je=vo[fi.Family],Se=10,pe=Pt+or+Se,re=sr+z-(or+Se),G=N+ta/2;t.font=`${or}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(je,Pt,G);const Y=N+ta/2;FA(t,pe,Y,De,ta,re),N+=ta+dn,t.textBaseline="alphabetic";const W=vo[fi.Hitpoints];t.fillText(W,Pt,N+Lt/2+or/3),mi(t,x,N,sr,Lt,c.hitpoints/c.maxHitpoints,gi,ES),N+=Lt+dn;const A=vo[fi.Hunger];t.fillText(A,Pt,N+Lt/2+or/3),mi(t,x,N,sr,Lt,(Et-c.hunger)/Et,gi,SS),C={x:Pt,y:N-dn/2,width:sr+z,height:Lt+dn},N+=Lt+dn,t.textBaseline="middle";const O=vo[fi.Food];t.fillText(O,Pt,N+mo/2),LA(t,x,N+mo/2,c.food,mo,sr),k={x:Pt,y:N-dn/5,width:sr+z,height:mo+dn},t.textBaseline="alphabetic",N+=mo+dn*2}t.textAlign="right";let j=t.canvas.width-Pt;r.uiButtons.forEach(D=>{const ue=Pt,Ce=j-D.currentWidth;switch(D.rect={x:Ce,y:ue,width:D.currentWidth,height:MS},D.textColor=US,D.action){case vn.ToggleAutopilot:D.text="AUT[O]",D.backgroundColor=r.isPlayerOnAutopilot?Gu:xu;break;case vn.ToggleMute:D.text=r.isMuted?"UN[M]UTE":"[M]UTE",D.backgroundColor=r.isMuted?Gu:xu;break;case vn.TogglePause:D.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",D.backgroundColor=r.isPaused?Gu:xu,r.isPaused?D.currentWidth=Co*1.4:D.currentWidth=Co*1.1;break}MA(t,D),j-=D.currentWidth+LS});const b=a1(r,c==null?void 0:c.leaderId);if(HA(t,b,t.canvas.width,t.canvas.height),t.shadowColor="transparent",t.shadowBlur=0,c&&u.length>0&&OA(t,u,c,a,t.canvas.width,t.canvas.height),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:D}=r.tutorialState;D.has(Ho.HUNGER_BAR)&&C&&kh(t,C,r.time),D.has(Ho.FOOD_BAR)&&k&&kh(t,k,r.time)}r.tutorialState.isActive&&xA(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),r.isPaused&&GA(t)}const Nh=tA(),Oh=()=>{const t=Pe.useRef(null),r=Pe.useRef(null),o=Pe.useRef(Nh),a=Pe.useRef(),u=Pe.useRef(new Set),c=Pe.useRef(!1),f=Pe.useRef(Nh.viewportCenter),p=Pe.useRef([]),{appState:g,setAppState:y}=Ta();Pe.useEffect(()=>{const k=t.current;if(!k)return;r.current=k.getContext("2d");const N=()=>{k&&r.current&&(k.width=window.innerWidth,k.height=window.innerHeight,Dh(r.current,o.current,c.current,f.current,p.current))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[v,_,C]=ry(k=>{if(!r.current||!a.current){a.current=k;return}const N=(k-a.current)/1e3;o.current=wh(o.current,N);const M=pr(o.current);if(M?p.current=Og(o.current,M):p.current=[],M){const{mapDimensions:w}=o.current,{width:R,height:z}=w;let x={...M.position};const j=x.x-f.current.x;Math.abs(j)>R/2&&(j>0?x.x-=R:x.x+=R);const b=x.y-f.current.y;Math.abs(b)>z/2&&(b>0?x.y-=z:x.y+=z);let L=Ng(f.current,x,lg*N);L={x:(L.x%R+R)%R,y:(L.y%z+z)%z},f.current=L}else f.current=o.current.viewportCenter;Dh(r.current,o.current,c.current,f.current,p.current),a.current=k,o.current.gameOver&&g!=="gameOver"&&(Gg(Ke.GameOver,{masterVolume:o.current.masterVolume,isMuted:o.current.isMuted}),y("gameOver",{generations:o.current.generationCount,cause:o.current.causeOfGameOver||"Unknown"}))});return Pe.useEffect(()=>(_(),v),[_,v]),Pe.useEffect(()=>{const k=N=>{if(!C()||o.current.gameOver||!t.current)return;const M=t.current.getBoundingClientRect(),w=N.clientX-M.left,R=N.clientY-M.top,z={gameState:o.current};o.current.uiButtons.forEach(x=>{if(w>=x.rect.x&&w<=x.rect.x+x.rect.width&&R>=x.rect.y&&R<=x.rect.y+x.rect.height){const j=pr(o.current);switch(j&&St(z,Ke.ButtonClick,j.position),x.action){case vn.ToggleAutopilot:o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;break;case vn.ToggleMute:o.current.isMuted=!o.current.isMuted;break;case vn.TogglePause:o.current.isPaused=!o.current.isPaused;break}}})};return window.addEventListener("mousedown",k),()=>{window.removeEventListener("mousedown",k)}},[C]),Pe.useEffect(()=>{const k=M=>{if(!C()||o.current.gameOver)return;const w=M.key.toLowerCase();if(w==="m"){o.current.isMuted=!o.current.isMuted,ha(o.current.masterVolume,o.current.isMuted);return}if(w==="="||w==="+"){const x=Math.min(1,o.current.masterVolume+.1);o.current.masterVolume=parseFloat(x.toFixed(1)),ha(o.current.masterVolume,o.current.isMuted);return}if(w==="-"){const x=Math.max(0,o.current.masterVolume-.1);o.current.masterVolume=parseFloat(x.toFixed(1)),ha(o.current.masterVolume,o.current.isMuted);return}if(w==="t"){o.current=wh(o.current,10);return}if(w===" "||w==="p"){M.preventDefault(),o.current.isPaused=!o.current.isPaused;return}if(w==="o"){o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;return}if(w==="§"||w==="`"){c.current=!c.current;return}if(o.current.isPlayerOnAutopilot)return;u.current.add(w);const R=pr(o.current);if(!R)return;const z={gameState:o.current};if(w==="e"){const x=Ae(R,o.current,"berryBush",kt,L=>L.food.length>0&&R.food.length<R.maxFood),j=Ae(R,o.current,"humanCorpse",kt,L=>L.food.length>0&&R.food.length<R.maxFood);let b=null;x&&j?b=ae(R.position,x.position,o.current.mapDimensions.width,o.current.mapDimensions.height)<=ae(R.position,j.position,o.current.mapDimensions.width,o.current.mapDimensions.height)?x:j:b=x||j,b&&(R.activeAction="gathering",St(z,Ke.Gather,R.position))}else if(w==="r")Ae(R,o.current,"human",kt,j=>{const b=j;return b.id!==R.id&&b.gender!==R.gender&&b.isAdult&&R.isAdult&&b.hunger<Je&&R.hunger<Je&&(b.procreationCooldown||0)<=0&&(R.procreationCooldown||0)<=0&&(b.gender==="female"?!b.isPregnant:!R.isPregnant)||!1})&&(R.activeAction="procreating",St(z,Ke.Procreate,R.position));else if(w==="f")R.activeAction="eating",St(z,Ke.Eat,R.position);else if(w==="arrowup"||w==="w")R.direction.y=-1,R.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowdown"||w==="s")R.direction.y=1,R.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowleft"||w==="a")R.direction.x=-1,R.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowright"||w==="d")R.direction.x=1,R.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="q"){const x=Ae(R,o.current,"human",Oa,j=>j.id!==R.id);x&&(R.activeAction="attacking",R.attackTargetId=x.id)}else if(w==="b"){if(p.current.find(j=>j.type===hn.PlantBush)){const j=Mg(R.position,o.current,50,nc);j&&(R.activeAction="planting",R.targetPosition=j,o.current.hasPlayerPlantedBush=!0)}}else if(w==="v")p.current.find(j=>j.type===hn.CallToAttack)&&(R.isCallingToAttack=!0,R.callToAttackEndTime=o.current.time+Ii,Ze(o.current,me.CallToAttack,R.position,Ii),St(z,Ke.CallToAttack,R.position));else return},N=M=>{if(!C()||o.current.gameOver)return;const w=M.key.toLowerCase();u.current.delete(w);const R=pr(o.current);!R||o.current.isPlayerOnAutopilot||(w==="arrowup"||w==="w"||w==="arrowdown"||w==="s"?R.direction.y=0:(w==="arrowleft"||w==="a"||w==="arrowright"||w==="d")&&(R.direction.x=0),!u.current.has("arrowup")&&!u.current.has("arrowdown")&&!u.current.has("arrowleft")&&!u.current.has("arrowright")&&!u.current.has("w")&&!u.current.has("a")&&!u.current.has("s")&&!u.current.has("d")&&R&&R.activeAction==="moving"&&(R.activeAction="idle"),!u.current.has("e")&&R.activeAction==="gathering"&&(R.activeAction="idle"),!u.current.has("f")&&R.activeAction==="eating"&&(R.activeAction="idle"),!u.current.has("r")&&R.activeAction==="procreating"&&(R.activeAction="idle"))};return window.addEventListener("keydown",k),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",k),window.removeEventListener("keyup",N)}},[C,g,y,_,v]),ke.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})},QA=mr.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,qA=mr.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,sa=mr.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,ZA=mr.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,bA=()=>{const{setAppState:t,gameOverDetails:r}=Ta(),o=()=>{t("intro")};return ke.jsxs(QA,{children:[ke.jsx(qA,{children:"Game Over"}),ke.jsx(sa,{children:"Your tribe's lineage has ended."}),r&&ke.jsxs(ke.Fragment,{children:[ke.jsxs(sa,{children:["Generations Survived: ",r.generations]}),ke.jsxs(sa,{children:["Cause of Extinction: ",r.cause]})]}),!r&&ke.jsx(sa,{children:"Game details are unavailable."}),ke.jsx(ZA,{onClick:o,children:"Return to Menu"})]})},JA=Jv`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function e_(t,r){Pe.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";r(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Pe.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const t_=()=>{const{appState:t,setAppState:r}=Ta();e_(t,r);const o=()=>{switch(t){case"intro":return ke.jsx(Qp,{});case"game":return ke.jsx(Oh,{});case"gameOver":return ke.jsxs(ke.Fragment,{children:[ke.jsx(Oh,{}),ke.jsx(bA,{})]});default:return ke.jsx(Qp,{})}};return ke.jsxs(ke.Fragment,{children:[ke.jsx(JA,{}),o()]})};T1();const Mh=document.getElementById("root");Mh?Z0.createRoot(Mh).render(ke.jsx(gn.StrictMode,{children:ke.jsx(b0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:ke.jsx(t_,{})})})):console.error("Failed to find the root element");
