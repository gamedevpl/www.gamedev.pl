var ov=Object.defineProperty;var sv=(n,i,o)=>i in n?ov(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var Ae=(n,i,o)=>sv(n,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function Jp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mu={exports:{}},po={},Lu={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function av(){if(xh)return ye;xh=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function T(A,U,re){this.props=A,this.context=U,this.refs=N,this.updater=re||R}T.prototype.isReactComponent={},T.prototype.setState=function(A,U){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,U,"setState")},T.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function D(){}D.prototype=T.prototype;function k(A,U,re){this.props=A,this.context=U,this.refs=N,this.updater=re||R}var z=k.prototype=new D;z.constructor=k,O(z,T.prototype),z.isPureReactComponent=!0;var W=Array.isArray,Z=Object.prototype.hasOwnProperty,L={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function b(A,U,re){var ee,ge={},ae=null,fe=null;if(U!=null)for(ee in U.ref!==void 0&&(fe=U.ref),U.key!==void 0&&(ae=""+U.key),U)Z.call(U,ee)&&!x.hasOwnProperty(ee)&&(ge[ee]=U[ee]);var ce=arguments.length-2;if(ce===1)ge.children=re;else if(1<ce){for(var X=Array(ce),ie=0;ie<ce;ie++)X[ie]=arguments[ie+2];ge.children=X}if(A&&A.defaultProps)for(ee in ce=A.defaultProps,ce)ge[ee]===void 0&&(ge[ee]=ce[ee]);return{$$typeof:n,type:A,key:ae,ref:fe,props:ge,_owner:L.current}}function pe(A,U){return{$$typeof:n,type:A.type,key:U,ref:A.ref,props:A.props,_owner:A._owner}}function Ge(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Je(A){var U={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(re){return U[re]})}var Ue=/\/+/g;function Me(A,U){return typeof A=="object"&&A!==null&&A.key!=null?Je(""+A.key):U.toString(36)}function Se(A,U,re,ee,ge){var ae=typeof A;(ae==="undefined"||ae==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(ae){case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case n:case i:fe=!0}}if(fe)return fe=A,ge=ge(fe),A=ee===""?"."+Me(fe,0):ee,W(ge)?(re="",A!=null&&(re=A.replace(Ue,"$&/")+"/"),Se(ge,U,re,"",function(ie){return ie})):ge!=null&&(Ge(ge)&&(ge=pe(ge,re+(!ge.key||fe&&fe.key===ge.key?"":(""+ge.key).replace(Ue,"$&/")+"/")+A)),U.push(ge)),1;if(fe=0,ee=ee===""?".":ee+":",W(A))for(var ce=0;ce<A.length;ce++){ae=A[ce];var X=ee+Me(ae,ce);fe+=Se(ae,U,re,X,ge)}else if(X=w(A),typeof X=="function")for(A=X.call(A),ce=0;!(ae=A.next()).done;)ae=ae.value,X=ee+Me(ae,ce++),fe+=Se(ae,U,re,X,ge);else if(ae==="object")throw U=String(A),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return fe}function Ie(A,U,re){if(A==null)return A;var ee=[],ge=0;return Se(A,ee,"","",function(ae){return U.call(re,ae,ge++)}),ee}function de(A){if(A._status===-1){var U=A._result;U=U(),U.then(function(re){(A._status===0||A._status===-1)&&(A._status=1,A._result=re)},function(re){(A._status===0||A._status===-1)&&(A._status=2,A._result=re)}),A._status===-1&&(A._status=0,A._result=U)}if(A._status===1)return A._result.default;throw A._result}var se={current:null},$={transition:null},V={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:$,ReactCurrentOwner:L};function j(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:Ie,forEach:function(A,U,re){Ie(A,function(){U.apply(this,arguments)},re)},count:function(A){var U=0;return Ie(A,function(){U++}),U},toArray:function(A){return Ie(A,function(U){return U})||[]},only:function(A){if(!Ge(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ye.Component=T,ye.Fragment=o,ye.Profiler=l,ye.PureComponent=k,ye.StrictMode=s,ye.Suspense=p,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,ye.act=j,ye.cloneElement=function(A,U,re){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ee=O({},A.props),ge=A.key,ae=A.ref,fe=A._owner;if(U!=null){if(U.ref!==void 0&&(ae=U.ref,fe=L.current),U.key!==void 0&&(ge=""+U.key),A.type&&A.type.defaultProps)var ce=A.type.defaultProps;for(X in U)Z.call(U,X)&&!x.hasOwnProperty(X)&&(ee[X]=U[X]===void 0&&ce!==void 0?ce[X]:U[X])}var X=arguments.length-2;if(X===1)ee.children=re;else if(1<X){ce=Array(X);for(var ie=0;ie<X;ie++)ce[ie]=arguments[ie+2];ee.children=ce}return{$$typeof:n,type:A.type,key:ge,ref:ae,props:ee,_owner:fe}},ye.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ye.createElement=b,ye.createFactory=function(A){var U=b.bind(null,A);return U.type=A,U},ye.createRef=function(){return{current:null}},ye.forwardRef=function(A){return{$$typeof:h,render:A}},ye.isValidElement=Ge,ye.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:de}},ye.memo=function(A,U){return{$$typeof:v,type:A,compare:U===void 0?null:U}},ye.startTransition=function(A){var U=$.transition;$.transition={};try{A()}finally{$.transition=U}},ye.unstable_act=j,ye.useCallback=function(A,U){return se.current.useCallback(A,U)},ye.useContext=function(A){return se.current.useContext(A)},ye.useDebugValue=function(){},ye.useDeferredValue=function(A){return se.current.useDeferredValue(A)},ye.useEffect=function(A,U){return se.current.useEffect(A,U)},ye.useId=function(){return se.current.useId()},ye.useImperativeHandle=function(A,U,re){return se.current.useImperativeHandle(A,U,re)},ye.useInsertionEffect=function(A,U){return se.current.useInsertionEffect(A,U)},ye.useLayoutEffect=function(A,U){return se.current.useLayoutEffect(A,U)},ye.useMemo=function(A,U){return se.current.useMemo(A,U)},ye.useReducer=function(A,U,re){return se.current.useReducer(A,U,re)},ye.useRef=function(A){return se.current.useRef(A)},ye.useState=function(A){return se.current.useState(A)},ye.useSyncExternalStore=function(A,U,re){return se.current.useSyncExternalStore(A,U,re)},ye.useTransition=function(){return se.current.useTransition()},ye.version="18.3.1",ye}var Gh;function Sc(){return Gh||(Gh=1,Lu.exports=av()),Lu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function lv(){if(zh)return po;zh=1;var n=Sc(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,v){var m,S={},w=null,R=null;v!==void 0&&(w=""+v),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(R=p.ref);for(m in p)s.call(p,m)&&!c.hasOwnProperty(m)&&(S[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)S[m]===void 0&&(S[m]=p[m]);return{$$typeof:i,type:h,key:w,ref:R,props:S,_owner:l.current}}return po.Fragment=o,po.jsx=d,po.jsxs=d,po}var $h;function uv(){return $h||($h=1,Mu.exports=lv()),Mu.exports}var Ne=uv(),me=Sc();const mn=Jp(me);var qs={},Fu={exports:{}},Rt={},Bu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function cv(){return Wh||(Wh=1,function(n){function i($,V){var j=$.length;$.push(V);e:for(;0<j;){var A=j-1>>>1,U=$[A];if(0<l(U,V))$[A]=V,$[j]=U,j=A;else break e}}function o($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var V=$[0],j=$.pop();if(j!==V){$[0]=j;e:for(var A=0,U=$.length,re=U>>>1;A<re;){var ee=2*(A+1)-1,ge=$[ee],ae=ee+1,fe=$[ae];if(0>l(ge,j))ae<U&&0>l(fe,ge)?($[A]=fe,$[ae]=j,A=ae):($[A]=ge,$[ee]=j,A=ee);else if(ae<U&&0>l(fe,j))$[A]=fe,$[ae]=j,A=ae;else break e}}return V}function l($,V){var j=$.sortIndex-V.sortIndex;return j!==0?j:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],v=[],m=1,S=null,w=3,R=!1,O=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z($){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=$)s(v),V.sortIndex=V.expirationTime,i(p,V);else break;V=o(v)}}function W($){if(N=!1,z($),!O)if(o(p)!==null)O=!0,de(Z);else{var V=o(v);V!==null&&se(W,V.startTime-$)}}function Z($,V){O=!1,N&&(N=!1,D(b),b=-1),R=!0;var j=w;try{for(z(V),S=o(p);S!==null&&(!(S.expirationTime>V)||$&&!Je());){var A=S.callback;if(typeof A=="function"){S.callback=null,w=S.priorityLevel;var U=A(S.expirationTime<=V);V=n.unstable_now(),typeof U=="function"?S.callback=U:S===o(p)&&s(p),z(V)}else s(p);S=o(p)}if(S!==null)var re=!0;else{var ee=o(v);ee!==null&&se(W,ee.startTime-V),re=!1}return re}finally{S=null,w=j,R=!1}}var L=!1,x=null,b=-1,pe=5,Ge=-1;function Je(){return!(n.unstable_now()-Ge<pe)}function Ue(){if(x!==null){var $=n.unstable_now();Ge=$;var V=!0;try{V=x(!0,$)}finally{V?Me():(L=!1,x=null)}}else L=!1}var Me;if(typeof k=="function")Me=function(){k(Ue)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=Ue,Me=function(){Ie.postMessage(null)}}else Me=function(){T(Ue,0)};function de($){x=$,L||(L=!0,Me())}function se($,V){b=T(function(){$(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,de(Z))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return o(p)},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var j=w;w=V;try{return $()}finally{w=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var j=w;w=$;try{return V()}finally{w=j}},n.unstable_scheduleCallback=function($,V,j){var A=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?A+j:A):j=A,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=j+U,$={id:m++,callback:V,priorityLevel:$,startTime:j,expirationTime:U,sortIndex:-1},j>A?($.sortIndex=j,i(v,$),o(p)===null&&$===o(v)&&(N?(D(b),b=-1):N=!0,se(W,j-A))):($.sortIndex=U,i(p,$),O||R||(O=!0,de(Z))),$},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function($){var V=w;return function(){var j=w;w=V;try{return $.apply(this,arguments)}finally{w=j}}}}(Hu)),Hu}var jh;function dv(){return jh||(jh=1,Bu.exports=cv()),Bu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function fv(){if(Yh)return Rt;Yh=1;var n=Sc(),i=dv();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},S={};function w(e){return p.call(S,e)?!0:p.call(m,e)?!1:v.test(e)?S[e]=!0:(m[e]=!0,!1)}function R(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,a){if(t===null||typeof t>"u"||R(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,a,u,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,k);T[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,k);T[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,k);T[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,r,a){var u=T.hasOwnProperty(t)?T[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,u,a)&&(r=null),a||u===null?w(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,a=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),L=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),$=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,A;function U(e){if(A===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return`
`+A+e}var re=!1;function ee(e,t){if(!e||re)return"";re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),f=a.stack.split(`
`),g=u.length-1,y=f.length-1;1<=g&&0<=y&&u[g]!==f[y];)y--;for(;1<=g&&0<=y;g--,y--)if(u[g]!==f[y]){if(g!==1||y!==1)do if(g--,y--,0>y||u[g]!==f[y]){var _=`
`+u[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=y);break}}}finally{re=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function ge(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case L:return"Portal";case pe:return"Profiler";case b:return"StrictMode";case Me:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case Ge:return(e._context.displayName||"Context")+".Provider";case Ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=X(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Re(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function _n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var r=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xt(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=ce(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hr(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function En(e,t){hr(e,t);var r=ce(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Br(e,t.type,r):t.hasOwnProperty("defaultValue")&&Br(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mn(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Br(e,t,r){(t!=="number"||_n(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function Fn(e,t,r,a){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ce(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function pr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(Ln(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ce(r)}}function Qc(e,t){var r=ce(t.value),a=ce(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},um=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(e){um.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ni[t]=Ni[e]})});function bc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ni.hasOwnProperty(e)&&Ni[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,u=bc(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,u):e[r]=u}}var cm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(e,t){if(t){if(cm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xa=null;function Qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Za=null,Hr=null,xr=null;function td(e){if(e=Ji(e)){if(typeof Za!="function")throw Error(o(280));var t=e.stateNode;t&&(t=fs(t),Za(e.stateNode,e.type,t))}}function nd(e){Hr?xr?xr.push(e):xr=[e]:Hr=e}function rd(){if(Hr){var e=Hr,t=xr;if(xr=Hr=null,td(e),t)for(e=0;e<t.length;e++)td(t[e])}}function id(e,t){return e(t)}function od(){}var qa=!1;function sd(e,t,r){if(qa)return e(t,r);qa=!0;try{return id(e,t,r)}finally{qa=!1,(Hr!==null||xr!==null)&&(od(),rd())}}function Oi(e,t){var r=e.stateNode;if(r===null)return null;var a=fs(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var Ja=!1;if(h)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Ja=!1}function dm(e,t,r,a,u,f,g,y,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(B){this.onError(B)}}var Ui=!1,jo=null,Yo=!1,ba=null,fm={onError:function(e){Ui=!0,jo=e}};function hm(e,t,r,a,u,f,g,y,_){Ui=!1,jo=null,dm.apply(fm,arguments)}function pm(e,t,r,a,u,f,g,y,_){if(hm.apply(this,arguments),Ui){if(Ui){var P=jo;Ui=!1,jo=null}else throw Error(o(198));Yo||(Yo=!0,ba=P)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ad(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ld(e){if(gr(e)!==e)throw Error(o(188))}function gm(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,a=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){r=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return ld(u),e;if(f===a)return ld(u),t;f=f.sibling}throw Error(o(188))}if(r.return!==a.return)r=u,a=f;else{for(var g=!1,y=u.child;y;){if(y===r){g=!0,r=u,a=f;break}if(y===a){g=!0,a=u,r=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===r){g=!0,r=f,a=u;break}if(y===a){g=!0,a=f,r=u;break}y=y.sibling}if(!g)throw Error(o(189))}}if(r.alternate!==a)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function ud(e){return e=gm(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var dd=i.unstable_scheduleCallback,fd=i.unstable_cancelCallback,mm=i.unstable_shouldYield,vm=i.unstable_requestPaint,Ke=i.unstable_now,ym=i.unstable_getCurrentPriorityLevel,el=i.unstable_ImmediatePriority,hd=i.unstable_UserBlockingPriority,Vo=i.unstable_NormalPriority,Sm=i.unstable_LowPriority,pd=i.unstable_IdlePriority,Ko=null,un=null;function _m(e){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Ko,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:wm,Em=Math.log,Am=Math.LN2;function wm(e){return e>>>=0,e===0?32:31-(Em(e)/Am|0)|0}var Xo=64,Qo=4194304;function Mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,g=r&268435455;if(g!==0){var y=g&~u;y!==0?a=Mi(y):(f&=g,f!==0&&(a=Mi(f)))}else g=r&~u,g!==0?a=Mi(g):f!==0&&(a=Mi(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-bt(t),u=1<<r,a|=e[r],t&=~u;return a}function Tm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Im(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-bt(f),y=1<<g,_=u[g];_===-1?((y&r)===0||(y&a)!==0)&&(u[g]=Tm(y,t)):_<=t&&(e.expiredLanes|=y),f&=~y}}function tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gd(){var e=Xo;return Xo<<=1,(Xo&4194240)===0&&(Xo=64),e}function nl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Li(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=r}function Cm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-bt(r),f=1<<u;t[u]=0,a[u]=-1,e[u]=-1,r&=~f}}function rl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-bt(r),u=1<<a;u&t|e[a]&t&&(e[a]|=t),r&=~u}}var Oe=0;function md(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var vd,il,yd,Sd,_d,ol=!1,qo=[],Bn=null,Hn=null,xn=null,Fi=new Map,Bi=new Map,Gn=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function Hi(e,t,r,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Ji(t),t!==null&&il(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function km(e,t,r,a,u){switch(t){case"focusin":return Bn=Hi(Bn,e,t,r,a,u),!0;case"dragenter":return Hn=Hi(Hn,e,t,r,a,u),!0;case"mouseover":return xn=Hi(xn,e,t,r,a,u),!0;case"pointerover":var f=u.pointerId;return Fi.set(f,Hi(Fi.get(f)||null,e,t,r,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Bi.set(f,Hi(Bi.get(f)||null,e,t,r,a,u)),!0}return!1}function Ad(e){var t=mr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=ad(r),t!==null){e.blockedOn=t,_d(e.priority,function(){yd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Xa=a,r.target.dispatchEvent(a),Xa=null}else return t=Ji(r),t!==null&&il(t),e.blockedOn=r,!1;t.shift()}return!0}function wd(e,t,r){Jo(e)&&r.delete(t)}function Pm(){ol=!1,Bn!==null&&Jo(Bn)&&(Bn=null),Hn!==null&&Jo(Hn)&&(Hn=null),xn!==null&&Jo(xn)&&(xn=null),Fi.forEach(wd),Bi.forEach(wd)}function xi(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Pm)))}function Gi(e){function t(u){return xi(u,e)}if(0<qo.length){xi(qo[0],e);for(var r=1;r<qo.length;r++){var a=qo[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Bn!==null&&xi(Bn,e),Hn!==null&&xi(Hn,e),xn!==null&&xi(xn,e),Fi.forEach(t),Bi.forEach(t),r=0;r<Gn.length;r++)a=Gn[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Gn.length&&(r=Gn[0],r.blockedOn===null);)Ad(r),r.blockedOn===null&&Gn.shift()}var Gr=W.ReactCurrentBatchConfig,bo=!0;function Nm(e,t,r,a){var u=Oe,f=Gr.transition;Gr.transition=null;try{Oe=1,sl(e,t,r,a)}finally{Oe=u,Gr.transition=f}}function Om(e,t,r,a){var u=Oe,f=Gr.transition;Gr.transition=null;try{Oe=4,sl(e,t,r,a)}finally{Oe=u,Gr.transition=f}}function sl(e,t,r,a){if(bo){var u=al(e,t,r,a);if(u===null)Tl(e,t,a,es,r),Ed(e,a);else if(km(u,e,t,r,a))a.stopPropagation();else if(Ed(e,a),t&4&&-1<Rm.indexOf(e)){for(;u!==null;){var f=Ji(u);if(f!==null&&vd(f),f=al(e,t,r,a),f===null&&Tl(e,t,a,es,r),f===u)break;u=f}u!==null&&a.stopPropagation()}else Tl(e,t,a,null,r)}}var es=null;function al(e,t,r,a){if(es=null,e=Qa(a),e=mr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ad(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return es=e,null}function Td(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ym()){case el:return 1;case hd:return 4;case Vo:case Sm:return 16;case pd:return 536870912;default:return 16}default:return 16}}var zn=null,ll=null,ts=null;function Id(){if(ts)return ts;var e,t=ll,r=t.length,a,u="value"in zn?zn.value:zn.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var g=r-e;for(a=1;a<=g&&t[r-a]===u[f-a];a++);return ts=u.slice(e,1<a?1-a:void 0)}function ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function Cd(){return!1}function Ot(e){function t(r,a,u,f,g){this._reactName=r,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rs:Cd,this.isPropagationStopped=Cd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Ot(zr),zi=j({},zr,{view:0,detail:0}),Dm=Ot(zi),cl,dl,$i,is=j({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(cl=e.screenX-$i.screenX,dl=e.screenY-$i.screenY):dl=cl=0,$i=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),Rd=Ot(is),Um=j({},is,{dataTransfer:0}),Mm=Ot(Um),Lm=j({},zi,{relatedTarget:0}),fl=Ot(Lm),Fm=j({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=Ot(Fm),Hm=j({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xm=Ot(Hm),Gm=j({},zr,{data:0}),kd=Ot(Gm),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wm[e])?!!t[e]:!1}function hl(){return jm}var Ym=j({},zi,{key:function(e){if(e.key){var t=zm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=Ot(Ym),Km=j({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=Ot(Km),Xm=j({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),Qm=Ot(Xm),Zm=j({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=Ot(Zm),Jm=j({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bm=Ot(Jm),e0=[9,13,27,32],pl=h&&"CompositionEvent"in window,Wi=null;h&&"documentMode"in document&&(Wi=document.documentMode);var t0=h&&"TextEvent"in window&&!Wi,Nd=h&&(!pl||Wi&&8<Wi&&11>=Wi),Od=" ",Dd=!1;function Ud(e,t){switch(e){case"keyup":return e0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function n0(e,t){switch(e){case"compositionend":return Md(t);case"keypress":return t.which!==32?null:(Dd=!0,Od);case"textInput":return e=t.data,e===Od&&Dd?null:e;default:return null}}function r0(e,t){if($r)return e==="compositionend"||!pl&&Ud(e,t)?(e=Id(),ts=ll=zn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var i0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i0[e.type]:t==="textarea"}function Fd(e,t,r,a){nd(a),t=us(t,"onChange"),0<t.length&&(r=new ul("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var ji=null,Yi=null;function o0(e){ef(e,0)}function os(e){var t=Kr(e);if(ue(t))return e}function s0(e,t){if(e==="change")return t}var Bd=!1;if(h){var gl;if(h){var ml="oninput"in document;if(!ml){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),ml=typeof Hd.oninput=="function"}gl=ml}else gl=!1;Bd=gl&&(!document.documentMode||9<document.documentMode)}function xd(){ji&&(ji.detachEvent("onpropertychange",Gd),Yi=ji=null)}function Gd(e){if(e.propertyName==="value"&&os(Yi)){var t=[];Fd(t,Yi,e,Qa(e)),sd(o0,t)}}function a0(e,t,r){e==="focusin"?(xd(),ji=t,Yi=r,ji.attachEvent("onpropertychange",Gd)):e==="focusout"&&xd()}function l0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return os(Yi)}function u0(e,t){if(e==="click")return os(t)}function c0(e,t){if(e==="input"||e==="change")return os(t)}function d0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:d0;function Vi(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var u=r[a];if(!p.call(t,u)||!en(e[u],t[u]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var r=zd(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zd(r)}}function Wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jd(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_n(e.document)}return t}function vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function f0(e){var t=jd(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Wd(r.ownerDocument.documentElement,r)){if(a!==null&&vl(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=$d(r,f);var g=$d(r,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var h0=h&&"documentMode"in document&&11>=document.documentMode,Wr=null,yl=null,Ki=null,Sl=!1;function Yd(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sl||Wr==null||Wr!==_n(a)||(a=Wr,"selectionStart"in a&&vl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ki&&Vi(Ki,a)||(Ki=a,a=us(yl,"onSelect"),0<a.length&&(t=new ul("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Wr)))}function ss(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jr={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},_l={},Vd={};h&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function as(e){if(_l[e])return _l[e];if(!jr[e])return e;var t=jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vd)return _l[e]=t[r];return e}var Kd=as("animationend"),Xd=as("animationiteration"),Qd=as("animationstart"),Zd=as("transitionend"),qd=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){qd.set(e,t),c(t,[e])}for(var El=0;El<Jd.length;El++){var Al=Jd[El],p0=Al.toLowerCase(),g0=Al[0].toUpperCase()+Al.slice(1);$n(p0,"on"+g0)}$n(Kd,"onAnimationEnd"),$n(Xd,"onAnimationIteration"),$n(Qd,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Zd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function bd(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,pm(a,t,void 0,e),e.currentTarget=null}function ef(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],u=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var y=a[g],_=y.instance,P=y.currentTarget;if(y=y.listener,_!==f&&u.isPropagationStopped())break e;bd(u,y,P),f=_}else for(g=0;g<a.length;g++){if(y=a[g],_=y.instance,P=y.currentTarget,y=y.listener,_!==f&&u.isPropagationStopped())break e;bd(u,y,P),f=_}}}if(Yo)throw e=ba,Yo=!1,ba=null,e}function Be(e,t){var r=t[Nl];r===void 0&&(r=t[Nl]=new Set);var a=e+"__bubble";r.has(a)||(tf(t,e,2,!1),r.add(a))}function wl(e,t,r){var a=0;t&&(a|=4),tf(r,e,a,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Qi(e){if(!e[ls]){e[ls]=!0,s.forEach(function(r){r!=="selectionchange"&&(m0.has(r)||wl(r,!1,e),wl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,wl("selectionchange",!1,t))}}function tf(e,t,r,a){switch(Td(t)){case 1:var u=Nm;break;case 4:u=Om;break;default:u=sl}r=u.bind(null,t,r,e),u=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Tl(e,t,r,a,u){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===u||_.nodeType===8&&_.parentNode===u))return;g=g.return}for(;y!==null;){if(g=mr(y),g===null)return;if(_=g.tag,_===5||_===6){a=f=g;continue e}y=y.parentNode}}a=a.return}sd(function(){var P=f,B=Qa(r),H=[];e:{var F=qd.get(e);if(F!==void 0){var Y=ul,Q=e;switch(e){case"keypress":if(ns(r)===0)break e;case"keydown":case"keyup":Y=Vm;break;case"focusin":Q="focus",Y=fl;break;case"focusout":Q="blur",Y=fl;break;case"beforeblur":case"afterblur":Y=fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Qm;break;case Kd:case Xd:case Qd:Y=Bm;break;case Zd:Y=qm;break;case"scroll":Y=Dm;break;case"wheel":Y=bm;break;case"copy":case"cut":case"paste":Y=xm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Pd}var q=(t&4)!==0,Xe=!q&&e==="scroll",I=q?F!==null?F+"Capture":null:F;q=[];for(var E=P,C;E!==null;){C=E;var G=C.stateNode;if(C.tag===5&&G!==null&&(C=G,I!==null&&(G=Oi(E,I),G!=null&&q.push(Zi(E,G,C)))),Xe)break;E=E.return}0<q.length&&(F=new Y(F,Q,null,r,B),H.push({event:F,listeners:q}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&r!==Xa&&(Q=r.relatedTarget||r.fromElement)&&(mr(Q)||Q[An]))break e;if((Y||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(Q=r.relatedTarget||r.toElement,Y=P,Q=Q?mr(Q):null,Q!==null&&(Xe=gr(Q),Q!==Xe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(q=Rd,G="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(q=Pd,G="onPointerLeave",I="onPointerEnter",E="pointer"),Xe=Y==null?F:Kr(Y),C=Q==null?F:Kr(Q),F=new q(G,E+"leave",Y,r,B),F.target=Xe,F.relatedTarget=C,G=null,mr(B)===P&&(q=new q(I,E+"enter",Q,r,B),q.target=C,q.relatedTarget=Xe,G=q),Xe=G,Y&&Q)t:{for(q=Y,I=Q,E=0,C=q;C;C=Yr(C))E++;for(C=0,G=I;G;G=Yr(G))C++;for(;0<E-C;)q=Yr(q),E--;for(;0<C-E;)I=Yr(I),C--;for(;E--;){if(q===I||I!==null&&q===I.alternate)break t;q=Yr(q),I=Yr(I)}q=null}else q=null;Y!==null&&nf(H,F,Y,q,!1),Q!==null&&Xe!==null&&nf(H,Xe,Q,q,!0)}}e:{if(F=P?Kr(P):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var J=s0;else if(Ld(F))if(Bd)J=c0;else{J=l0;var te=a0}else(Y=F.nodeName)&&Y.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(J=u0);if(J&&(J=J(e,P))){Fd(H,J,r,B);break e}te&&te(e,F,P),e==="focusout"&&(te=F._wrapperState)&&te.controlled&&F.type==="number"&&Br(F,"number",F.value)}switch(te=P?Kr(P):window,e){case"focusin":(Ld(te)||te.contentEditable==="true")&&(Wr=te,yl=P,Ki=null);break;case"focusout":Ki=yl=Wr=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,Yd(H,r,B);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":Yd(H,r,B)}var ne;if(pl)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else $r?Ud(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Nd&&r.locale!=="ko"&&($r||le!=="onCompositionStart"?le==="onCompositionEnd"&&$r&&(ne=Id()):(zn=B,ll="value"in zn?zn.value:zn.textContent,$r=!0)),te=us(P,le),0<te.length&&(le=new kd(le,e,null,r,B),H.push({event:le,listeners:te}),ne?le.data=ne:(ne=Md(r),ne!==null&&(le.data=ne)))),(ne=t0?n0(e,r):r0(e,r))&&(P=us(P,"onBeforeInput"),0<P.length&&(B=new kd("onBeforeInput","beforeinput",null,r,B),H.push({event:B,listeners:P}),B.data=ne))}ef(H,t)})}function Zi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function us(e,t){for(var r=t+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Oi(e,r),f!=null&&a.unshift(Zi(e,f,u)),f=Oi(e,t),f!=null&&a.push(Zi(e,f,u))),e=e.return}return a}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nf(e,t,r,a,u){for(var f=t._reactName,g=[];r!==null&&r!==a;){var y=r,_=y.alternate,P=y.stateNode;if(_!==null&&_===a)break;y.tag===5&&P!==null&&(y=P,u?(_=Oi(r,f),_!=null&&g.unshift(Zi(r,_,y))):u||(_=Oi(r,f),_!=null&&g.push(Zi(r,_,y)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var v0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function rf(e){return(typeof e=="string"?e:""+e).replace(v0,`
`).replace(y0,"")}function cs(e,t,r){if(t=rf(t),rf(e)!==t&&r)throw Error(o(425))}function ds(){}var Il=null,Cl=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(e){return of.resolve(null).then(e).catch(E0)}:kl;function E0(e){setTimeout(function(){throw e})}function Pl(e,t){var r=t,a=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(a===0){e.removeChild(u),Gi(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=u}while(r);Gi(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),cn="__reactFiber$"+Vr,qi="__reactProps$"+Vr,An="__reactContainer$"+Vr,Nl="__reactEvents$"+Vr,A0="__reactListeners$"+Vr,w0="__reactHandles$"+Vr;function mr(e){var t=e[cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=sf(e);e!==null;){if(r=e[cn])return r;e=sf(e)}return t}e=r,r=e.parentNode}return null}function Ji(e){return e=e[cn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function fs(e){return e[qi]||null}var Ol=[],Xr=-1;function jn(e){return{current:e}}function He(e){0>Xr||(e.current=Ol[Xr],Ol[Xr]=null,Xr--)}function Le(e,t){Xr++,Ol[Xr]=e.current,e.current=t}var Yn={},dt=jn(Yn),At=jn(!1),vr=Yn;function Qr(e,t){var r=e.type.contextTypes;if(!r)return Yn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function wt(e){return e=e.childContextTypes,e!=null}function hs(){He(At),He(dt)}function af(e,t,r){if(dt.current!==Yn)throw Error(o(168));Le(dt,t),Le(At,r)}function lf(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(o(108,fe(e)||"Unknown",u));return j({},r,a)}function ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,vr=dt.current,Le(dt,e),Le(At,At.current),!0}function uf(e,t,r){var a=e.stateNode;if(!a)throw Error(o(169));r?(e=lf(e,t,vr),a.__reactInternalMemoizedMergedChildContext=e,He(At),He(dt),Le(dt,e)):He(At),Le(At,r)}var wn=null,gs=!1,Dl=!1;function cf(e){wn===null?wn=[e]:wn.push(e)}function T0(e){gs=!0,cf(e)}function Vn(){if(!Dl&&wn!==null){Dl=!0;var e=0,t=Oe;try{var r=wn;for(Oe=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}wn=null,gs=!1}catch(u){throw wn!==null&&(wn=wn.slice(e+1)),dd(el,Vn),u}finally{Oe=t,Dl=!1}}return null}var Zr=[],qr=0,ms=null,vs=0,Gt=[],zt=0,yr=null,Tn=1,In="";function Sr(e,t){Zr[qr++]=vs,Zr[qr++]=ms,ms=e,vs=t}function df(e,t,r){Gt[zt++]=Tn,Gt[zt++]=In,Gt[zt++]=yr,yr=e;var a=Tn;e=In;var u=32-bt(a)-1;a&=~(1<<u),r+=1;var f=32-bt(t)+u;if(30<f){var g=u-u%5;f=(a&(1<<g)-1).toString(32),a>>=g,u-=g,Tn=1<<32-bt(t)+u|r<<u|a,In=f+e}else Tn=1<<f|r<<u|a,In=e}function Ul(e){e.return!==null&&(Sr(e,1),df(e,1,0))}function Ml(e){for(;e===ms;)ms=Zr[--qr],Zr[qr]=null,vs=Zr[--qr],Zr[qr]=null;for(;e===yr;)yr=Gt[--zt],Gt[zt]=null,In=Gt[--zt],Gt[zt]=null,Tn=Gt[--zt],Gt[zt]=null}var Dt=null,Ut=null,ze=!1,tn=null;function ff(e,t){var r=Yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Ut=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:Tn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dt=e,Ut=null,!0):!1;default:return!1}}function Ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(ze){var t=Ut;if(t){var r=t;if(!hf(e,t)){if(Ll(e))throw Error(o(418));t=Wn(r.nextSibling);var a=Dt;t&&hf(e,t)?ff(a,r):(e.flags=e.flags&-4097|2,ze=!1,Dt=e)}}else{if(Ll(e))throw Error(o(418));e.flags=e.flags&-4097|2,ze=!1,Dt=e}}}function pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function ys(e){if(e!==Dt)return!1;if(!ze)return pf(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=Ut)){if(Ll(e))throw gf(),Error(o(418));for(;t;)ff(e,t),t=Wn(t.nextSibling)}if(pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ut=Wn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Dt?Wn(e.stateNode.nextSibling):null;return!0}function gf(){for(var e=Ut;e;)e=Wn(e.nextSibling)}function Jr(){Ut=Dt=null,ze=!1}function Bl(e){tn===null?tn=[e]:tn.push(e)}var I0=W.ReactCurrentBatchConfig;function bi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var a=r.stateNode}if(!a)throw Error(o(147,e));var u=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var y=u.refs;g===null?delete y[f]:y[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function vf(e){function t(I,E){if(e){var C=I.deletions;C===null?(I.deletions=[E],I.flags|=16):C.push(E)}}function r(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function a(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function u(I,E){return I=er(I,E),I.index=0,I.sibling=null,I}function f(I,E,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<E?(I.flags|=2,E):C):(I.flags|=2,E)):(I.flags|=1048576,E)}function g(I){return e&&I.alternate===null&&(I.flags|=2),I}function y(I,E,C,G){return E===null||E.tag!==6?(E=ku(C,I.mode,G),E.return=I,E):(E=u(E,C),E.return=I,E)}function _(I,E,C,G){var J=C.type;return J===x?B(I,E,C.props.children,G,C.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===de&&mf(J)===E.type)?(G=u(E,C.props),G.ref=bi(I,E,C),G.return=I,G):(G=Ws(C.type,C.key,C.props,null,I.mode,G),G.ref=bi(I,E,C),G.return=I,G)}function P(I,E,C,G){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Pu(C,I.mode,G),E.return=I,E):(E=u(E,C.children||[]),E.return=I,E)}function B(I,E,C,G,J){return E===null||E.tag!==7?(E=Rr(C,I.mode,G,J),E.return=I,E):(E=u(E,C),E.return=I,E)}function H(I,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ku(""+E,I.mode,C),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Z:return C=Ws(E.type,E.key,E.props,null,I.mode,C),C.ref=bi(I,null,E),C.return=I,C;case L:return E=Pu(E,I.mode,C),E.return=I,E;case de:var G=E._init;return H(I,G(E._payload),C)}if(Ln(E)||V(E))return E=Rr(E,I.mode,C,null),E.return=I,E;Ss(I,E)}return null}function F(I,E,C,G){var J=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:y(I,E,""+C,G);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:return C.key===J?_(I,E,C,G):null;case L:return C.key===J?P(I,E,C,G):null;case de:return J=C._init,F(I,E,J(C._payload),G)}if(Ln(C)||V(C))return J!==null?null:B(I,E,C,G,null);Ss(I,C)}return null}function Y(I,E,C,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(C)||null,y(E,I,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return I=I.get(G.key===null?C:G.key)||null,_(E,I,G,J);case L:return I=I.get(G.key===null?C:G.key)||null,P(E,I,G,J);case de:var te=G._init;return Y(I,E,C,te(G._payload),J)}if(Ln(G)||V(G))return I=I.get(C)||null,B(E,I,G,J,null);Ss(E,G)}return null}function Q(I,E,C,G){for(var J=null,te=null,ne=E,le=E=0,rt=null;ne!==null&&le<C.length;le++){ne.index>le?(rt=ne,ne=null):rt=ne.sibling;var Ce=F(I,ne,C[le],G);if(Ce===null){ne===null&&(ne=rt);break}e&&ne&&Ce.alternate===null&&t(I,ne),E=f(Ce,E,le),te===null?J=Ce:te.sibling=Ce,te=Ce,ne=rt}if(le===C.length)return r(I,ne),ze&&Sr(I,le),J;if(ne===null){for(;le<C.length;le++)ne=H(I,C[le],G),ne!==null&&(E=f(ne,E,le),te===null?J=ne:te.sibling=ne,te=ne);return ze&&Sr(I,le),J}for(ne=a(I,ne);le<C.length;le++)rt=Y(ne,I,le,C[le],G),rt!==null&&(e&&rt.alternate!==null&&ne.delete(rt.key===null?le:rt.key),E=f(rt,E,le),te===null?J=rt:te.sibling=rt,te=rt);return e&&ne.forEach(function(tr){return t(I,tr)}),ze&&Sr(I,le),J}function q(I,E,C,G){var J=V(C);if(typeof J!="function")throw Error(o(150));if(C=J.call(C),C==null)throw Error(o(151));for(var te=J=null,ne=E,le=E=0,rt=null,Ce=C.next();ne!==null&&!Ce.done;le++,Ce=C.next()){ne.index>le?(rt=ne,ne=null):rt=ne.sibling;var tr=F(I,ne,Ce.value,G);if(tr===null){ne===null&&(ne=rt);break}e&&ne&&tr.alternate===null&&t(I,ne),E=f(tr,E,le),te===null?J=tr:te.sibling=tr,te=tr,ne=rt}if(Ce.done)return r(I,ne),ze&&Sr(I,le),J;if(ne===null){for(;!Ce.done;le++,Ce=C.next())Ce=H(I,Ce.value,G),Ce!==null&&(E=f(Ce,E,le),te===null?J=Ce:te.sibling=Ce,te=Ce);return ze&&Sr(I,le),J}for(ne=a(I,ne);!Ce.done;le++,Ce=C.next())Ce=Y(ne,I,le,Ce.value,G),Ce!==null&&(e&&Ce.alternate!==null&&ne.delete(Ce.key===null?le:Ce.key),E=f(Ce,E,le),te===null?J=Ce:te.sibling=Ce,te=Ce);return e&&ne.forEach(function(iv){return t(I,iv)}),ze&&Sr(I,le),J}function Xe(I,E,C,G){if(typeof C=="object"&&C!==null&&C.type===x&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:e:{for(var J=C.key,te=E;te!==null;){if(te.key===J){if(J=C.type,J===x){if(te.tag===7){r(I,te.sibling),E=u(te,C.props.children),E.return=I,I=E;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===de&&mf(J)===te.type){r(I,te.sibling),E=u(te,C.props),E.ref=bi(I,te,C),E.return=I,I=E;break e}r(I,te);break}else t(I,te);te=te.sibling}C.type===x?(E=Rr(C.props.children,I.mode,G,C.key),E.return=I,I=E):(G=Ws(C.type,C.key,C.props,null,I.mode,G),G.ref=bi(I,E,C),G.return=I,I=G)}return g(I);case L:e:{for(te=C.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){r(I,E.sibling),E=u(E,C.children||[]),E.return=I,I=E;break e}else{r(I,E);break}else t(I,E);E=E.sibling}E=Pu(C,I.mode,G),E.return=I,I=E}return g(I);case de:return te=C._init,Xe(I,E,te(C._payload),G)}if(Ln(C))return Q(I,E,C,G);if(V(C))return q(I,E,C,G);Ss(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(r(I,E.sibling),E=u(E,C),E.return=I,I=E):(r(I,E),E=ku(C,I.mode,G),E.return=I,I=E),g(I)):r(I,E)}return Xe}var br=vf(!0),yf=vf(!1),_s=jn(null),Es=null,ei=null,Hl=null;function xl(){Hl=ei=Es=null}function Gl(e){var t=_s.current;He(_s),e._currentValue=t}function zl(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function ti(e,t){Es=e,Hl=ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Tt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:t,next:null},ei===null){if(Es===null)throw Error(o(308));ei=e,Es.dependencies={lanes:0,firstContext:e}}else ei=ei.next=e;return t}var _r=null;function $l(e){_r===null?_r=[e]:_r.push(e)}function Sf(e,t,r,a){var u=t.interleaved;return u===null?(r.next=r,$l(t)):(r.next=u.next,u.next=r),t.interleaved=r,Cn(e,a)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kn=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(we&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Cn(e,r)}return u=a.interleaved,u===null?(t.next=t,$l(a)):(t.next=u.next,u.next=t),a.interleaved=t,Cn(e,r)}function As(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,rl(e,r)}}function Ef(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ws(e,t,r,a){var u=e.updateQueue;Kn=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,P=_.next;_.next=null,g===null?f=P:g.next=P,g=_;var B=e.alternate;B!==null&&(B=B.updateQueue,y=B.lastBaseUpdate,y!==g&&(y===null?B.firstBaseUpdate=P:y.next=P,B.lastBaseUpdate=_))}if(f!==null){var H=u.baseState;g=0,B=P=_=null,y=f;do{var F=y.lane,Y=y.eventTime;if((a&F)===F){B!==null&&(B=B.next={eventTime:Y,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Q=e,q=y;switch(F=t,Y=r,q.tag){case 1:if(Q=q.payload,typeof Q=="function"){H=Q.call(Y,H,F);break e}H=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=q.payload,F=typeof Q=="function"?Q.call(Y,H,F):Q,F==null)break e;H=j({},H,F);break e;case 2:Kn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,F=u.effects,F===null?u.effects=[y]:F.push(y))}else Y={eventTime:Y,lane:F,tag:y.tag,payload:y.payload,callback:y.callback,next:null},B===null?(P=B=Y,_=H):B=B.next=Y,g|=F;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;F=y,y=F.next,F.next=null,u.lastBaseUpdate=F,u.shared.pending=null}}while(!0);if(B===null&&(_=H),u.baseState=_,u.firstBaseUpdate=P,u.lastBaseUpdate=B,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);wr|=g,e.lanes=g,e.memoizedState=H}}function Af(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=r,typeof u!="function")throw Error(o(191,u));u.call(a)}}}var eo={},dn=jn(eo),to=jn(eo),no=jn(eo);function Er(e){if(e===eo)throw Error(o(174));return e}function jl(e,t){switch(Le(no,t),Le(to,e),Le(dn,eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ya(t,e)}He(dn),Le(dn,t)}function ni(){He(dn),He(to),He(no)}function wf(e){Er(no.current);var t=Er(dn.current),r=Ya(t,e.type);t!==r&&(Le(to,e),Le(dn,r))}function Yl(e){to.current===e&&(He(dn),He(to))}var We=jn(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vl=[];function Kl(){for(var e=0;e<Vl.length;e++)Vl[e]._workInProgressVersionPrimary=null;Vl.length=0}var Is=W.ReactCurrentDispatcher,Xl=W.ReactCurrentBatchConfig,Ar=0,je=null,be=null,tt=null,Cs=!1,ro=!1,io=0,C0=0;function ft(){throw Error(o(321))}function Ql(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!en(e[r],t[r]))return!1;return!0}function Zl(e,t,r,a,u,f){if(Ar=f,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?N0:O0,e=r(a,u),ro){f=0;do{if(ro=!1,io=0,25<=f)throw Error(o(301));f+=1,tt=be=null,t.updateQueue=null,Is.current=D0,e=r(a,u)}while(ro)}if(Is.current=Ps,t=be!==null&&be.next!==null,Ar=0,tt=be=je=null,Cs=!1,t)throw Error(o(300));return e}function ql(){var e=io!==0;return io=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?je.memoizedState=tt=e:tt=tt.next=e,tt}function Wt(){if(be===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=tt===null?je.memoizedState:tt.next;if(t!==null)tt=t,be=e;else{if(e===null)throw Error(o(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tt===null?je.memoizedState=tt=e:tt=tt.next=e}return tt}function oo(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=Wt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var a=be,u=a.baseQueue,f=r.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}a.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,a=a.baseState;var y=g=null,_=null,P=f;do{var B=P.lane;if((Ar&B)===B)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var H={lane:B,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(y=_=H,g=a):_=_.next=H,je.lanes|=B,wr|=B}P=P.next}while(P!==null&&P!==f);_===null?g=a:_.next=y,en(a,t.memoizedState)||(Tt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=_,r.lastRenderedState=a}if(e=r.interleaved,e!==null){u=e;do f=u.lane,je.lanes|=f,wr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bl(e){var t=Wt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var a=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);en(f,t.memoizedState)||(Tt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,a]}function Tf(){}function If(e,t){var r=je,a=Wt(),u=t(),f=!en(a.memoizedState,u);if(f&&(a.memoizedState=u,Tt=!0),a=a.queue,eu(kf.bind(null,r,a,e),[e]),a.getSnapshot!==t||f||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,so(9,Rf.bind(null,r,a,u,t),void 0,null),nt===null)throw Error(o(349));(Ar&30)!==0||Cf(r,t,u)}return u}function Cf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rf(e,t,r,a){t.value=r,t.getSnapshot=a,Pf(t)&&Nf(e)}function kf(e,t,r){return r(function(){Pf(t)&&Nf(e)})}function Pf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!en(e,r)}catch{return!0}}function Nf(e){var t=Cn(e,1);t!==null&&sn(t,e,1,-1)}function Of(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=P0.bind(null,je,e),[t.memoizedState,e]}function so(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function Df(){return Wt().memoizedState}function Rs(e,t,r,a){var u=fn();je.flags|=e,u.memoizedState=so(1|t,r,void 0,a===void 0?null:a)}function ks(e,t,r,a){var u=Wt();a=a===void 0?null:a;var f=void 0;if(be!==null){var g=be.memoizedState;if(f=g.destroy,a!==null&&Ql(a,g.deps)){u.memoizedState=so(t,r,f,a);return}}je.flags|=e,u.memoizedState=so(1|t,r,f,a)}function Uf(e,t){return Rs(8390656,8,e,t)}function eu(e,t){return ks(2048,8,e,t)}function Mf(e,t){return ks(4,2,e,t)}function Lf(e,t){return ks(4,4,e,t)}function Ff(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bf(e,t,r){return r=r!=null?r.concat([e]):null,ks(4,4,Ff.bind(null,t,e),r)}function tu(){}function Hf(e,t){var r=Wt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ql(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function xf(e,t){var r=Wt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Ql(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Gf(e,t,r){return(Ar&21)===0?(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=r):(en(r,t)||(r=gd(),je.lanes|=r,wr|=r,e.baseState=!0),t)}function R0(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var a=Xl.transition;Xl.transition={};try{e(!1),t()}finally{Oe=r,Xl.transition=a}}function zf(){return Wt().memoizedState}function k0(e,t,r){var a=Jn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},$f(e))Wf(t,r);else if(r=Sf(e,t,r,a),r!==null){var u=St();sn(r,e,a,u),jf(r,t,a)}}function P0(e,t,r){var a=Jn(e),u={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if($f(e))Wf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,y=f(g,r);if(u.hasEagerState=!0,u.eagerState=y,en(y,g)){var _=t.interleaved;_===null?(u.next=u,$l(t)):(u.next=_.next,_.next=u),t.interleaved=u;return}}catch{}finally{}r=Sf(e,t,u,a),r!==null&&(u=St(),sn(r,e,a,u),jf(r,t,a))}}function $f(e){var t=e.alternate;return e===je||t!==null&&t===je}function Wf(e,t){ro=Cs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jf(e,t,r){if((r&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,rl(e,r)}}var Ps={readContext:$t,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},N0={readContext:$t,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Uf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rs(4194308,4,Ff.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var r=fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=fn();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=k0.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Of,useDebugValue:tu,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Of(!1),t=e[0];return e=R0.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=je,u=fn();if(ze){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),nt===null)throw Error(o(349));(Ar&30)!==0||Cf(a,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Uf(kf.bind(null,a,f,e),[e]),a.flags|=2048,so(9,Rf.bind(null,a,f,r,t),void 0,null),r},useId:function(){var e=fn(),t=nt.identifierPrefix;if(ze){var r=In,a=Tn;r=(a&~(1<<32-bt(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=io++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=C0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O0={readContext:$t,useCallback:Hf,useContext:$t,useEffect:eu,useImperativeHandle:Bf,useInsertionEffect:Mf,useLayoutEffect:Lf,useMemo:xf,useReducer:Jl,useRef:Df,useState:function(){return Jl(oo)},useDebugValue:tu,useDeferredValue:function(e){var t=Wt();return Gf(t,be.memoizedState,e)},useTransition:function(){var e=Jl(oo)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Tf,useSyncExternalStore:If,useId:zf,unstable_isNewReconciler:!1},D0={readContext:$t,useCallback:Hf,useContext:$t,useEffect:eu,useImperativeHandle:Bf,useInsertionEffect:Mf,useLayoutEffect:Lf,useMemo:xf,useReducer:bl,useRef:Df,useState:function(){return bl(oo)},useDebugValue:tu,useDeferredValue:function(e){var t=Wt();return be===null?t.memoizedState=e:Gf(t,be.memoizedState,e)},useTransition:function(){var e=bl(oo)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:Tf,useSyncExternalStore:If,useId:zf,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nu(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:j({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ns={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=St(),u=Jn(e),f=Rn(a,u);f.payload=t,r!=null&&(f.callback=r),t=Xn(e,f,u),t!==null&&(sn(t,e,u,a),As(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=St(),u=Jn(e),f=Rn(a,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Xn(e,f,u),t!==null&&(sn(t,e,u,a),As(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=St(),a=Jn(e),u=Rn(r,a);u.tag=2,t!=null&&(u.callback=t),t=Xn(e,u,a),t!==null&&(sn(t,e,a,r),As(t,e,a))}};function Yf(e,t,r,a,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!Vi(r,a)||!Vi(u,f):!0}function Vf(e,t,r){var a=!1,u=Yn,f=t.contextType;return typeof f=="object"&&f!==null?f=$t(f):(u=wt(t)?vr:dt.current,a=t.contextTypes,f=(a=a!=null)?Qr(e,u):Yn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ns,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Kf(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function ru(e,t,r,a){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Wl(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=$t(f):(f=wt(t)?vr:dt.current,u.context=Qr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(nu(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Ns.enqueueReplaceState(u,u.state,null),ws(e,r,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ri(e,t){try{var r="",a=t;do r+=ge(a),a=a.return;while(a);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ou(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Bs||(Bs=!0,_u=a),ou(e,t)},r}function Qf(e,t,r){r=Rn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;r.payload=function(){return a(u)},r.callback=function(){ou(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){ou(e,t),typeof a!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function Zf(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new U0;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(r)||(u.add(r),e=K0.bind(null,e,t,r),t.then(e,e))}function qf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jf(e,t,r,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var M0=W.ReactCurrentOwner,Tt=!1;function yt(e,t,r,a){t.child=e===null?yf(t,null,r,a):br(t,e.child,r,a)}function bf(e,t,r,a,u){r=r.render;var f=t.ref;return ti(t,u),a=Zl(e,t,r,a,f,u),r=ql(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,kn(e,t,u)):(ze&&r&&Ul(t),t.flags|=1,yt(e,t,a,u),t.child)}function eh(e,t,r,a,u){if(e===null){var f=r.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,th(e,t,f,a,u)):(e=Ws(r.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&u)===0){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(g,a)&&e.ref===t.ref)return kn(e,t,u)}return t.flags|=1,e=er(f,a),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,r,a,u){if(e!==null){var f=e.memoizedProps;if(Vi(f,a)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=a=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Tt=!0);else return t.lanes=e.lanes,kn(e,t,u)}return su(e,t,r,a,u)}function nh(e,t,r){var a=t.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(oi,Mt),Mt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(oi,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:r,Le(oi,Mt),Mt|=a}else f!==null?(a=f.baseLanes|r,t.memoizedState=null):a=r,Le(oi,Mt),Mt|=a;return yt(e,t,u,r),t.child}function rh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function su(e,t,r,a,u){var f=wt(r)?vr:dt.current;return f=Qr(t,f),ti(t,u),r=Zl(e,t,r,a,f,u),a=ql(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,kn(e,t,u)):(ze&&a&&Ul(t),t.flags|=1,yt(e,t,r,u),t.child)}function ih(e,t,r,a,u){if(wt(r)){var f=!0;ps(t)}else f=!1;if(ti(t,u),t.stateNode===null)Ds(e,t),Vf(t,r,a),ru(t,r,a,u),a=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var _=g.context,P=r.contextType;typeof P=="object"&&P!==null?P=$t(P):(P=wt(r)?vr:dt.current,P=Qr(t,P));var B=r.getDerivedStateFromProps,H=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function";H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||_!==P)&&Kf(t,g,a,P),Kn=!1;var F=t.memoizedState;g.state=F,ws(t,a,g,u),_=t.memoizedState,y!==a||F!==_||At.current||Kn?(typeof B=="function"&&(nu(t,r,B,a),_=t.memoizedState),(y=Kn||Yf(t,r,y,a,F,_,P))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),g.props=a,g.state=_,g.context=P,a=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,_f(e,t),y=t.memoizedProps,P=t.type===t.elementType?y:nn(t.type,y),g.props=P,H=t.pendingProps,F=g.context,_=r.contextType,typeof _=="object"&&_!==null?_=$t(_):(_=wt(r)?vr:dt.current,_=Qr(t,_));var Y=r.getDerivedStateFromProps;(B=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==H||F!==_)&&Kf(t,g,a,_),Kn=!1,F=t.memoizedState,g.state=F,ws(t,a,g,u);var Q=t.memoizedState;y!==H||F!==Q||At.current||Kn?(typeof Y=="function"&&(nu(t,r,Y,a),Q=t.memoizedState),(P=Kn||Yf(t,r,P,a,F,Q,_)||!1)?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Q,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Q,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),g.props=a,g.state=Q,g.context=_,a=P):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return au(e,t,r,a,f,u)}function au(e,t,r,a,u,f){rh(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return u&&uf(t,r,!1),kn(e,t,f);a=t.stateNode,M0.current=t;var y=g&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=br(t,e.child,null,f),t.child=br(t,null,y,f)):yt(e,t,y,f),t.memoizedState=a.state,u&&uf(t,r,!0),t.child}function oh(e){var t=e.stateNode;t.pendingContext?af(e,t.pendingContext,t.pendingContext!==t.context):t.context&&af(e,t.context,!1),jl(e,t.containerInfo)}function sh(e,t,r,a,u){return Jr(),Bl(u),t.flags|=256,yt(e,t,r,a),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ah(e,t,r){var a=t.pendingProps,u=We.current,f=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Le(We,u&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=js(g,a,0,null),e=Rr(e,a,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=uu(r),t.memoizedState=lu,e):cu(t,g));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return L0(e,t,g,a,y,u,r);if(f){f=a.fallback,g=t.mode,u=e.child,y=u.sibling;var _={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=_,t.deletions=null):(a=er(u,_),a.subtreeFlags=u.subtreeFlags&14680064),y!==null?f=er(y,f):(f=Rr(f,g,r,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?uu(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~r,t.memoizedState=lu,a}return f=e.child,e=f.sibling,a=er(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function cu(e,t){return t=js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Os(e,t,r,a){return a!==null&&Bl(a),br(t,e.child,null,r),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L0(e,t,r,a,u,f,g){if(r)return t.flags&256?(t.flags&=-257,a=iu(Error(o(422))),Os(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,u=t.mode,a=js({mode:"visible",children:a.children},u,0,null),f=Rr(f,u,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&br(t,e.child,null,g),t.child.memoizedState=uu(g),t.memoizedState=lu,f);if((t.mode&1)===0)return Os(e,t,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var y=a.dgst;return a=y,f=Error(o(419)),a=iu(f,a,void 0),Os(e,t,g,a)}if(y=(g&e.childLanes)!==0,Tt||y){if(a=nt,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|g))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Cn(e,u),sn(a,e,u,-1))}return Cu(),a=iu(Error(o(421))),Os(e,t,g,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=X0.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,Ut=Wn(u.nextSibling),Dt=t,ze=!0,tn=null,e!==null&&(Gt[zt++]=Tn,Gt[zt++]=In,Gt[zt++]=yr,Tn=e.id,In=e.overflow,yr=t),t=cu(t,a.children),t.flags|=4096,t)}function lh(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),zl(e.return,t,r)}function du(e,t,r,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=r,f.tailMode=u)}function uh(e,t,r){var a=t.pendingProps,u=a.revealOrder,f=a.tail;if(yt(e,t,a.children,r),a=We.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,r,t);else if(e.tag===19)lh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(We,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Ts(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),du(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ts(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}du(t,!0,r,null,f);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ds(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function F0(e,t,r){switch(t.tag){case 3:oh(t),Jr();break;case 5:wf(t);break;case 1:wt(t.type)&&ps(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;Le(_s,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(We,We.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?ah(e,t,r):(Le(We,We.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Le(We,We.current&1);break;case 19:if(a=(r&t.childLanes)!==0,(e.flags&128)!==0){if(a)return uh(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Le(We,We.current),a)break;return null;case 22:case 23:return t.lanes=0,nh(e,t,r)}return kn(e,t,r)}var ch,fu,dh,fh;ch=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},fu=function(){},dh=function(e,t,r,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,Er(dn.current);var f=null;switch(r){case"input":u=Nt(e,u),a=Nt(e,a),f=[];break;case"select":u=j({},u,{value:void 0}),a=j({},a,{value:void 0}),f=[];break;case"textarea":u=pr(e,u),a=pr(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ds)}Va(r,a);var g;r=null;for(P in u)if(!a.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var y=u[P];for(g in y)y.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in a){var _=a[P];if(y=u!=null?u[P]:void 0,a.hasOwnProperty(P)&&_!==y&&(_!=null||y!=null))if(P==="style")if(y){for(g in y)!y.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in _)_.hasOwnProperty(g)&&y[g]!==_[g]&&(r||(r={}),r[g]=_[g])}else r||(f||(f=[]),f.push(P,r)),r=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(f=f||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(f=f||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&Be("scroll",e),f||y===_||(f=[])):(f=f||[]).push(P,_))}r&&(f=f||[]).push("style",r);var P=f;(t.updateQueue=P)&&(t.flags|=4)}},fh=function(e,t,r,a){r!==a&&(t.flags|=4)};function ao(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function B0(e,t,r){var a=t.pendingProps;switch(Ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return wt(t.type)&&hs(),ht(t),null;case 3:return a=t.stateNode,ni(),He(At),He(dt),Kl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tn!==null&&(wu(tn),tn=null))),fu(e,t),ht(t),null;case 5:Yl(t);var u=Er(no.current);if(r=t.type,e!==null&&t.stateNode!=null)dh(e,t,r,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ht(t),null}if(e=Er(dn.current),ys(t)){a=t.stateNode,r=t.type;var f=t.memoizedProps;switch(a[cn]=t,a[qi]=f,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(u=0;u<Xi.length;u++)Be(Xi[u],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":xt(a,f),Be("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Be("invalid",a);break;case"textarea":Xc(a,f),Be("invalid",a)}Va(r,f),u=null;for(var g in f)if(f.hasOwnProperty(g)){var y=f[g];g==="children"?typeof y=="string"?a.textContent!==y&&(f.suppressHydrationWarning!==!0&&cs(a.textContent,y,e),u=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&cs(a.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&Be("scroll",a)}switch(r){case"input":Re(a),Mn(a,f,!0);break;case"textarea":Re(a),Zc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ds)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(r,{is:a.is}):(e=g.createElement(r),r==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,r),e[cn]=t,e[qi]=a,ch(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ka(r,a),r){case"dialog":Be("cancel",e),Be("close",e),u=a;break;case"iframe":case"object":case"embed":Be("load",e),u=a;break;case"video":case"audio":for(u=0;u<Xi.length;u++)Be(Xi[u],e);u=a;break;case"source":Be("error",e),u=a;break;case"img":case"image":case"link":Be("error",e),Be("load",e),u=a;break;case"details":Be("toggle",e),u=a;break;case"input":xt(e,a),u=Nt(e,a),Be("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=j({},a,{value:void 0}),Be("invalid",e);break;case"textarea":Xc(e,a),u=pr(e,a),Be("invalid",e);break;default:u=a}Va(r,u),y=u;for(f in y)if(y.hasOwnProperty(f)){var _=y[f];f==="style"?ed(e,_):f==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Jc(e,_)):f==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&Pi(e,_):typeof _=="number"&&Pi(e,""+_):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?_!=null&&f==="onScroll"&&Be("scroll",e):_!=null&&z(e,f,_,g))}switch(r){case"input":Re(e),Mn(e,a,!1);break;case"textarea":Re(e),Zc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ce(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Fn(e,!!a.multiple,f,!1):a.defaultValue!=null&&Fn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ds)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)fh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(r=Er(no.current),Er(dn.current),ys(t)){if(a=t.stateNode,r=t.memoizedProps,a[cn]=t,(f=a.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:cs(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(a.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[cn]=t,t.stateNode=a}return ht(t),null;case 13:if(He(We),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)gf(),Jr(),t.flags|=98560,f=!1;else if(f=ys(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[cn]=t}else Jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),f=!1}else tn!==null&&(wu(tn),tn=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(We.current&1)!==0?et===0&&(et=3):Cu())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return ni(),fu(e,t),e===null&&Qi(t.stateNode.containerInfo),ht(t),null;case 10:return Gl(t.type._context),ht(t),null;case 17:return wt(t.type)&&hs(),ht(t),null;case 19:if(He(We),f=t.memoizedState,f===null)return ht(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)ao(f,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ts(e),g!==null){for(t.flags|=128,ao(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)f=r,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(We,We.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ke()>si&&(t.flags|=128,a=!0,ao(f,!1),t.lanes=4194304)}else{if(!a)if(e=Ts(g),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ze)return ht(t),null}else 2*Ke()-f.renderingStartTime>si&&r!==1073741824&&(t.flags|=128,a=!0,ao(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(r=f.last,r!==null?r.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ke(),t.sibling=null,r=We.current,Le(We,a?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return Iu(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Mt&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function H0(e,t){switch(Ml(t),t.tag){case 1:return wt(t.type)&&hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ni(),He(At),He(dt),Kl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Yl(t),null;case 13:if(He(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(We),null;case 4:return ni(),null;case 10:return Gl(t.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var Us=!1,pt=!1,x0=typeof WeakSet=="function"?WeakSet:Set,K=null;function ii(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ye(e,t,a)}else r.current=null}function hu(e,t,r){try{r()}catch(a){Ye(e,t,a)}}var hh=!1;function G0(e,t){if(Il=bo,e=jd(),vl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,y=-1,_=-1,P=0,B=0,H=e,F=null;t:for(;;){for(var Y;H!==r||u!==0&&H.nodeType!==3||(y=g+u),H!==f||a!==0&&H.nodeType!==3||(_=g+a),H.nodeType===3&&(g+=H.nodeValue.length),(Y=H.firstChild)!==null;)F=H,H=Y;for(;;){if(H===e)break t;if(F===r&&++P===u&&(y=g),F===f&&++B===a&&(_=g),(Y=H.nextSibling)!==null)break;H=F,F=H.parentNode}H=Y}r=y===-1||_===-1?null:{start:y,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cl={focusedElem:e,selectionRange:r},bo=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var q=Q.memoizedProps,Xe=Q.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?q:nn(t.type,q),Xe);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(G){Ye(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return Q=hh,hh=!1,Q}function lo(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&hu(t,r,f)}u=u.next}while(u!==a)}}function Ms(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function pu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[qi],delete t[Nl],delete t[A0],delete t[w0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gh(e){return e.tag===5||e.tag===3||e.tag===4}function mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ds));else if(a!==4&&(e=e.child,e!==null))for(gu(e,t,r),e=e.sibling;e!==null;)gu(e,t,r),e=e.sibling}function mu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(mu(e,t,r),e=e.sibling;e!==null;)mu(e,t,r),e=e.sibling}var st=null,rn=!1;function Qn(e,t,r){for(r=r.child;r!==null;)vh(e,t,r),r=r.sibling}function vh(e,t,r){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Ko,r)}catch{}switch(r.tag){case 5:pt||ii(r,t);case 6:var a=st,u=rn;st=null,Qn(e,t,r),st=a,rn=u,st!==null&&(rn?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(rn?(e=st,r=r.stateNode,e.nodeType===8?Pl(e.parentNode,r):e.nodeType===1&&Pl(e,r),Gi(e)):Pl(st,r.stateNode));break;case 4:a=st,u=rn,st=r.stateNode.containerInfo,rn=!0,Qn(e,t,r),st=a,rn=u;break;case 0:case 11:case 14:case 15:if(!pt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&hu(r,t,g),u=u.next}while(u!==a)}Qn(e,t,r);break;case 1:if(!pt&&(ii(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(y){Ye(r,t,y)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(pt=(a=pt)||r.memoizedState!==null,Qn(e,t,r),pt=a):Qn(e,t,r);break;default:Qn(e,t,r)}}function yh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new x0),t.forEach(function(a){var u=Q0.bind(null,e,a);r.has(a)||(r.add(a),a.then(u,u))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];try{var f=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:st=y.stateNode,rn=!1;break e;case 3:st=y.stateNode.containerInfo,rn=!0;break e;case 4:st=y.stateNode.containerInfo,rn=!0;break e}y=y.return}if(st===null)throw Error(o(160));vh(f,g,u),st=null,rn=!1;var _=u.alternate;_!==null&&(_.return=null),u.return=null}catch(P){Ye(u,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}function Sh(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),hn(e),a&4){try{lo(3,e,e.return),Ms(3,e)}catch(q){Ye(e,e.return,q)}try{lo(5,e,e.return)}catch(q){Ye(e,e.return,q)}}break;case 1:on(t,e),hn(e),a&512&&r!==null&&ii(r,r.return);break;case 5:if(on(t,e),hn(e),a&512&&r!==null&&ii(r,r.return),e.flags&32){var u=e.stateNode;try{Pi(u,"")}catch(q){Ye(e,e.return,q)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,g=r!==null?r.memoizedProps:f,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&hr(u,f),Ka(y,g);var P=Ka(y,f);for(g=0;g<_.length;g+=2){var B=_[g],H=_[g+1];B==="style"?ed(u,H):B==="dangerouslySetInnerHTML"?Jc(u,H):B==="children"?Pi(u,H):z(u,B,H,P)}switch(y){case"input":En(u,f);break;case"textarea":Qc(u,f);break;case"select":var F=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Fn(u,!!f.multiple,Y,!1):F!==!!f.multiple&&(f.defaultValue!=null?Fn(u,!!f.multiple,f.defaultValue,!0):Fn(u,!!f.multiple,f.multiple?[]:"",!1))}u[qi]=f}catch(q){Ye(e,e.return,q)}}break;case 6:if(on(t,e),hn(e),a&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(q){Ye(e,e.return,q)}}break;case 3:if(on(t,e),hn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Gi(t.containerInfo)}catch(q){Ye(e,e.return,q)}break;case 4:on(t,e),hn(e);break;case 13:on(t,e),hn(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Su=Ke())),a&4&&yh(e);break;case 22:if(B=r!==null&&r.memoizedState!==null,e.mode&1?(pt=(P=pt)||B,on(t,e),pt=P):on(t,e),hn(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!B&&(e.mode&1)!==0)for(K=e,B=e.child;B!==null;){for(H=K=B;K!==null;){switch(F=K,Y=F.child,F.tag){case 0:case 11:case 14:case 15:lo(4,F,F.return);break;case 1:ii(F,F.return);var Q=F.stateNode;if(typeof Q.componentWillUnmount=="function"){a=F,r=F.return;try{t=a,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(q){Ye(a,r,q)}}break;case 5:ii(F,F.return);break;case 22:if(F.memoizedState!==null){Ah(H);continue}}Y!==null?(Y.return=F,K=Y):Ah(H)}B=B.sibling}e:for(B=null,H=e;;){if(H.tag===5){if(B===null){B=H;try{u=H.stateNode,P?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=H.stateNode,_=H.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=bc("display",g))}catch(q){Ye(e,e.return,q)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(q){Ye(e,e.return,q)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:on(t,e),hn(e),a&4&&yh(e);break;case 21:break;default:on(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gh(r)){var a=r;break e}r=r.return}throw Error(o(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Pi(u,""),a.flags&=-33);var f=mh(e);mu(e,f,u);break;case 3:case 4:var g=a.stateNode.containerInfo,y=mh(e);gu(e,y,g);break;default:throw Error(o(161))}}catch(_){Ye(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z0(e,t,r){K=e,_h(e)}function _h(e,t,r){for(var a=(e.mode&1)!==0;K!==null;){var u=K,f=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||Us;if(!g){var y=u.alternate,_=y!==null&&y.memoizedState!==null||pt;y=Us;var P=pt;if(Us=g,(pt=_)&&!P)for(K=u;K!==null;)g=K,_=g.child,g.tag===22&&g.memoizedState!==null?wh(u):_!==null?(_.return=g,K=_):wh(u);for(;f!==null;)K=f,_h(f),f=f.sibling;K=u,Us=y,pt=P}Eh(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,K=f):Eh(e)}}function Eh(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||Ms(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!pt)if(r===null)a.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:nn(t.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Af(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Af(t,g,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var B=P.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&Gi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}pt||t.flags&512&&pu(t)}catch(F){Ye(t,t.return,F)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Ah(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function wh(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ms(4,t)}catch(_){Ye(t,r,_)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(_){Ye(t,u,_)}}var f=t.return;try{pu(t)}catch(_){Ye(t,f,_)}break;case 5:var g=t.return;try{pu(t)}catch(_){Ye(t,g,_)}}}catch(_){Ye(t,t.return,_)}if(t===e){K=null;break}var y=t.sibling;if(y!==null){y.return=t.return,K=y;break}K=t.return}}var $0=Math.ceil,Ls=W.ReactCurrentDispatcher,vu=W.ReactCurrentOwner,jt=W.ReactCurrentBatchConfig,we=0,nt=null,Ze=null,at=0,Mt=0,oi=jn(0),et=0,uo=null,wr=0,Fs=0,yu=0,co=null,It=null,Su=0,si=1/0,Pn=null,Bs=!1,_u=null,Zn=null,Hs=!1,qn=null,xs=0,fo=0,Eu=null,Gs=-1,zs=0;function St(){return(we&6)!==0?Ke():Gs!==-1?Gs:Gs=Ke()}function Jn(e){return(e.mode&1)===0?1:(we&2)!==0&&at!==0?at&-at:I0.transition!==null?(zs===0&&(zs=gd()),zs):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Td(e.type)),e)}function sn(e,t,r,a){if(50<fo)throw fo=0,Eu=null,Error(o(185));Li(e,r,a),((we&2)===0||e!==nt)&&(e===nt&&((we&2)===0&&(Fs|=r),et===4&&bn(e,at)),Ct(e,a),r===1&&we===0&&(t.mode&1)===0&&(si=Ke()+500,gs&&Vn()))}function Ct(e,t){var r=e.callbackNode;Im(e,t);var a=Zo(e,e===nt?at:0);if(a===0)r!==null&&fd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&fd(r),t===1)e.tag===0?T0(Ih.bind(null,e)):cf(Ih.bind(null,e)),_0(function(){(we&6)===0&&Vn()}),r=null;else{switch(md(a)){case 1:r=el;break;case 4:r=hd;break;case 16:r=Vo;break;case 536870912:r=pd;break;default:r=Vo}r=Uh(r,Th.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Th(e,t){if(Gs=-1,zs=0,(we&6)!==0)throw Error(o(327));var r=e.callbackNode;if(ai()&&e.callbackNode!==r)return null;var a=Zo(e,e===nt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=$s(e,a);else{t=a;var u=we;we|=2;var f=Rh();(nt!==e||at!==t)&&(Pn=null,si=Ke()+500,Ir(e,t));do try{Y0();break}catch(y){Ch(e,y)}while(!0);xl(),Ls.current=f,we=u,Ze!==null?t=0:(nt=null,at=0,t=et)}if(t!==0){if(t===2&&(u=tl(e),u!==0&&(a=u,t=Au(e,u))),t===1)throw r=uo,Ir(e,0),bn(e,a),Ct(e,Ke()),r;if(t===6)bn(e,a);else{if(u=e.current.alternate,(a&30)===0&&!W0(u)&&(t=$s(e,a),t===2&&(f=tl(e),f!==0&&(a=f,t=Au(e,f))),t===1))throw r=uo,Ir(e,0),bn(e,a),Ct(e,Ke()),r;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Cr(e,It,Pn);break;case 3:if(bn(e,a),(a&130023424)===a&&(t=Su+500-Ke(),10<t)){if(Zo(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){St(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=kl(Cr.bind(null,e,It,Pn),t);break}Cr(e,It,Pn);break;case 4:if(bn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var g=31-bt(a);f=1<<g,g=t[g],g>u&&(u=g),a&=~f}if(a=u,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*$0(a/1960))-a,10<a){e.timeoutHandle=kl(Cr.bind(null,e,It,Pn),a);break}Cr(e,It,Pn);break;case 5:Cr(e,It,Pn);break;default:throw Error(o(329))}}}return Ct(e,Ke()),e.callbackNode===r?Th.bind(null,e):null}function Au(e,t){var r=co;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=$s(e,t),e!==2&&(t=It,It=r,t!==null&&wu(t)),e}function wu(e){It===null?It=e:It.push.apply(It,e)}function W0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var u=r[a],f=u.getSnapshot;u=u.value;try{if(!en(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~yu,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bt(t),a=1<<r;e[r]=-1,t&=~a}}function Ih(e){if((we&6)!==0)throw Error(o(327));ai();var t=Zo(e,0);if((t&1)===0)return Ct(e,Ke()),null;var r=$s(e,t);if(e.tag!==0&&r===2){var a=tl(e);a!==0&&(t=a,r=Au(e,a))}if(r===1)throw r=uo,Ir(e,0),bn(e,t),Ct(e,Ke()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,It,Pn),Ct(e,Ke()),null}function Tu(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(si=Ke()+500,gs&&Vn())}}function Tr(e){qn!==null&&qn.tag===0&&(we&6)===0&&ai();var t=we;we|=1;var r=jt.transition,a=Oe;try{if(jt.transition=null,Oe=1,e)return e()}finally{Oe=a,jt.transition=r,we=t,(we&6)===0&&Vn()}}function Iu(){Mt=oi.current,He(oi)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,S0(r)),Ze!==null)for(r=Ze.return;r!==null;){var a=r;switch(Ml(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&hs();break;case 3:ni(),He(At),He(dt),Kl();break;case 5:Yl(a);break;case 4:ni();break;case 13:He(We);break;case 19:He(We);break;case 10:Gl(a.type._context);break;case 22:case 23:Iu()}r=r.return}if(nt=e,Ze=e=er(e.current,null),at=Mt=t,et=0,uo=null,yu=Fs=wr=0,It=co=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],a=r.interleaved,a!==null){r.interleaved=null;var u=a.next,f=r.pending;if(f!==null){var g=f.next;f.next=u,a.next=g}r.pending=a}_r=null}return e}function Ch(e,t){do{var r=Ze;try{if(xl(),Is.current=Ps,Cs){for(var a=je.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Cs=!1}if(Ar=0,tt=be=je=null,ro=!1,io=0,vu.current=null,r===null||r.return===null){et=1,uo=t,Ze=null;break}e:{var f=e,g=r.return,y=r,_=t;if(t=at,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,B=y,H=B.tag;if((B.mode&1)===0&&(H===0||H===11||H===15)){var F=B.alternate;F?(B.updateQueue=F.updateQueue,B.memoizedState=F.memoizedState,B.lanes=F.lanes):(B.updateQueue=null,B.memoizedState=null)}var Y=qf(g);if(Y!==null){Y.flags&=-257,Jf(Y,g,y,f,t),Y.mode&1&&Zf(f,P,t),t=Y,_=P;var Q=t.updateQueue;if(Q===null){var q=new Set;q.add(_),t.updateQueue=q}else Q.add(_);break e}else{if((t&1)===0){Zf(f,P,t),Cu();break e}_=Error(o(426))}}else if(ze&&y.mode&1){var Xe=qf(g);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Jf(Xe,g,y,f,t),Bl(ri(_,y));break e}}f=_=ri(_,y),et!==4&&(et=2),co===null?co=[f]:co.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=Xf(f,_,t);Ef(f,I);break e;case 1:y=_;var E=f.type,C=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zn===null||!Zn.has(C)))){f.flags|=65536,t&=-t,f.lanes|=t;var G=Qf(f,y,t);Ef(f,G);break e}}f=f.return}while(f!==null)}Ph(r)}catch(J){t=J,Ze===r&&r!==null&&(Ze=r=r.return);continue}break}while(!0)}function Rh(){var e=Ls.current;return Ls.current=Ps,e===null?Ps:e}function Cu(){(et===0||et===3||et===2)&&(et=4),nt===null||(wr&268435455)===0&&(Fs&268435455)===0||bn(nt,at)}function $s(e,t){var r=we;we|=2;var a=Rh();(nt!==e||at!==t)&&(Pn=null,Ir(e,t));do try{j0();break}catch(u){Ch(e,u)}while(!0);if(xl(),we=r,Ls.current=a,Ze!==null)throw Error(o(261));return nt=null,at=0,et}function j0(){for(;Ze!==null;)kh(Ze)}function Y0(){for(;Ze!==null&&!mm();)kh(Ze)}function kh(e){var t=Dh(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?Ph(e):Ze=t,vu.current=null}function Ph(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=B0(r,t,Mt),r!==null){Ze=r;return}}else{if(r=H0(r,t),r!==null){r.flags&=32767,Ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ze=null;return}}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);et===0&&(et=5)}function Cr(e,t,r){var a=Oe,u=jt.transition;try{jt.transition=null,Oe=1,V0(e,t,r,a)}finally{jt.transition=u,Oe=a}return null}function V0(e,t,r,a){do ai();while(qn!==null);if((we&6)!==0)throw Error(o(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Cm(e,f),e===nt&&(Ze=nt=null,at=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Hs||(Hs=!0,Uh(Vo,function(){return ai(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=jt.transition,jt.transition=null;var g=Oe;Oe=1;var y=we;we|=4,vu.current=null,G0(e,r),Sh(r,e),f0(Cl),bo=!!Il,Cl=Il=null,e.current=r,z0(r),vm(),we=y,Oe=g,jt.transition=f}else e.current=r;if(Hs&&(Hs=!1,qn=e,xs=u),f=e.pendingLanes,f===0&&(Zn=null),_m(r.stateNode),Ct(e,Ke()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],a(u.value,{componentStack:u.stack,digest:u.digest});if(Bs)throw Bs=!1,e=_u,_u=null,e;return(xs&1)!==0&&e.tag!==0&&ai(),f=e.pendingLanes,(f&1)!==0?e===Eu?fo++:(fo=0,Eu=e):fo=0,Vn(),null}function ai(){if(qn!==null){var e=md(xs),t=jt.transition,r=Oe;try{if(jt.transition=null,Oe=16>e?16:e,qn===null)var a=!1;else{if(e=qn,qn=null,xs=0,(we&6)!==0)throw Error(o(331));var u=we;for(we|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var y=f.deletions;if(y!==null){for(var _=0;_<y.length;_++){var P=y[_];for(K=P;K!==null;){var B=K;switch(B.tag){case 0:case 11:case 15:lo(8,B,f)}var H=B.child;if(H!==null)H.return=B,K=H;else for(;K!==null;){B=K;var F=B.sibling,Y=B.return;if(ph(B),B===P){K=null;break}if(F!==null){F.return=Y,K=F;break}K=Y}}}var Q=f.alternate;if(Q!==null){var q=Q.child;if(q!==null){Q.child=null;do{var Xe=q.sibling;q.sibling=null,q=Xe}while(q!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:lo(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,K=I;break e}K=f.return}}var E=e.current;for(K=E;K!==null;){g=K;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,K=C;else e:for(g=E;K!==null;){if(y=K,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Ms(9,y)}}catch(J){Ye(y,y.return,J)}if(y===g){K=null;break e}var G=y.sibling;if(G!==null){G.return=y.return,K=G;break e}K=y.return}}if(we=u,Vn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Ko,e)}catch{}a=!0}return a}finally{Oe=r,jt.transition=t}}return!1}function Nh(e,t,r){t=ri(r,t),t=Xf(e,t,1),e=Xn(e,t,1),t=St(),e!==null&&(Li(e,1,t),Ct(e,t))}function Ye(e,t,r){if(e.tag===3)Nh(e,e,r);else for(;t!==null;){if(t.tag===3){Nh(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zn===null||!Zn.has(a))){e=ri(r,e),e=Qf(t,e,1),t=Xn(t,e,1),e=St(),t!==null&&(Li(t,1,e),Ct(t,e));break}}t=t.return}}function K0(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&r,nt===e&&(at&r)===r&&(et===4||et===3&&(at&130023424)===at&&500>Ke()-Su?Ir(e,0):yu|=r),Ct(e,t)}function Oh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Qo,Qo<<=1,(Qo&130023424)===0&&(Qo=4194304)));var r=St();e=Cn(e,t),e!==null&&(Li(e,t,r),Ct(e,r))}function X0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Oh(e,r)}function Q0(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),Oh(e,r)}var Dh;Dh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Tt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Tt=!1,F0(e,t,r);Tt=(e.flags&131072)!==0}else Tt=!1,ze&&(t.flags&1048576)!==0&&df(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ds(e,t),e=t.pendingProps;var u=Qr(t,dt.current);ti(t,r),u=Zl(null,t,a,e,u,r);var f=ql();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(a)?(f=!0,ps(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Wl(t),u.updater=Ns,t.stateNode=u,u._reactInternals=t,ru(t,a,e,r),t=au(null,t,a,!0,f,r)):(t.tag=0,ze&&f&&Ul(t),yt(null,t,u,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Ds(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=q0(a),e=nn(a,e),u){case 0:t=su(null,t,a,e,r);break e;case 1:t=ih(null,t,a,e,r);break e;case 11:t=bf(null,t,a,e,r);break e;case 14:t=eh(null,t,a,nn(a.type,e),r);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),su(e,t,a,u,r);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),ih(e,t,a,u,r);case 3:e:{if(oh(t),e===null)throw Error(o(387));a=t.pendingProps,f=t.memoizedState,u=f.element,_f(e,t),ws(t,a,null,r);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=ri(Error(o(423)),t),t=sh(e,t,a,r,u);break e}else if(a!==u){u=ri(Error(o(424)),t),t=sh(e,t,a,r,u);break e}else for(Ut=Wn(t.stateNode.containerInfo.firstChild),Dt=t,ze=!0,tn=null,r=yf(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),a===u){t=kn(e,t,r);break e}yt(e,t,a,r)}t=t.child}return t;case 5:return wf(t),e===null&&Fl(t),a=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,g=u.children,Rl(a,u)?g=null:f!==null&&Rl(a,f)&&(t.flags|=32),rh(e,t),yt(e,t,g,r),t.child;case 6:return e===null&&Fl(t),null;case 13:return ah(e,t,r);case 4:return jl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=br(t,null,a,r):yt(e,t,a,r),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),bf(e,t,a,u,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,f=t.memoizedProps,g=u.value,Le(_s,a._currentValue),a._currentValue=g,f!==null)if(en(f.value,g)){if(f.children===u.children&&!At.current){t=kn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var y=f.dependencies;if(y!==null){g=f.child;for(var _=y.firstContext;_!==null;){if(_.context===a){if(f.tag===1){_=Rn(-1,r&-r),_.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var B=P.pending;B===null?_.next=_:(_.next=B.next,B.next=_),P.pending=_}}f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),zl(f.return,r,t),y.lanes|=r;break}_=_.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=r,y=g.alternate,y!==null&&(y.lanes|=r),zl(g,r,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}yt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,ti(t,r),u=$t(u),a=a(u),t.flags|=1,yt(e,t,a,r),t.child;case 14:return a=t.type,u=nn(a,t.pendingProps),u=nn(a.type,u),eh(e,t,a,u,r);case 15:return th(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:nn(a,u),Ds(e,t),t.tag=1,wt(a)?(e=!0,ps(t)):e=!1,ti(t,r),Vf(t,a,u),ru(t,a,u,r),au(null,t,a,!0,e,r);case 19:return uh(e,t,r);case 22:return nh(e,t,r)}throw Error(o(156,t.tag))};function Uh(e,t){return dd(e,t)}function Z0(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,r,a){return new Z0(e,t,r,a)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q0(e){if(typeof e=="function")return Ru(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ue)return 11;if(e===Ie)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ws(e,t,r,a,u,f){var g=2;if(a=e,typeof e=="function")Ru(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case x:return Rr(r.children,u,f,t);case b:g=8,u|=8;break;case pe:return e=Yt(12,r,t,u|2),e.elementType=pe,e.lanes=f,e;case Me:return e=Yt(13,r,t,u),e.elementType=Me,e.lanes=f,e;case Se:return e=Yt(19,r,t,u),e.elementType=Se,e.lanes=f,e;case se:return js(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ge:g=10;break e;case Je:g=9;break e;case Ue:g=11;break e;case Ie:g=14;break e;case de:g=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Yt(g,r,t,u),t.elementType=e,t.type=a,t.lanes=f,t}function Rr(e,t,r,a){return e=Yt(7,e,a,t),e.lanes=r,e}function js(e,t,r,a){return e=Yt(22,e,a,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,t,r){return e=Yt(6,e,null,t),e.lanes=r,e}function Pu(e,t,r){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J0(e,t,r,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Nu(e,t,r,a,u,f,g,y,_){return e=new J0(e,t,r,y,_),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Yt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(f),e}function b0(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Mh(e){if(!e)return Yn;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(wt(r))return lf(e,r,t)}return t}function Lh(e,t,r,a,u,f,g,y,_){return e=Nu(r,a,!0,e,u,f,g,y,_),e.context=Mh(null),r=e.current,a=St(),u=Jn(r),f=Rn(a,u),f.callback=t??null,Xn(r,f,u),e.current.lanes=u,Li(e,u,a),Ct(e,a),e}function Ys(e,t,r,a){var u=t.current,f=St(),g=Jn(u);return r=Mh(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Xn(u,t,g),e!==null&&(sn(e,u,g,f),As(e,u,g)),g}function Vs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ou(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function ev(){return null}var Bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Du(e){this._internalRoot=e}Ks.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Ys(e,t,null,null)},Ks.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){Ys(null,e,null,null)}),t[An]=null}};function Ks(e){this._internalRoot=e}Ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gn.length&&t!==0&&t<Gn[r].priority;r++);Gn.splice(r,0,e),r===0&&Ad(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function tv(e,t,r,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var P=Vs(g);f.call(P)}}var g=Lh(t,a,e,0,null,!1,!1,"",Hh);return e._reactRootContainer=g,e[An]=g.current,Qi(e.nodeType===8?e.parentNode:e),Tr(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var y=a;a=function(){var P=Vs(_);y.call(P)}}var _=Nu(e,0,!1,null,null,!1,!1,"",Hh);return e._reactRootContainer=_,e[An]=_.current,Qi(e.nodeType===8?e.parentNode:e),Tr(function(){Ys(t,_,r,a)}),_}function Qs(e,t,r,a,u){var f=r._reactRootContainer;if(f){var g=f;if(typeof u=="function"){var y=u;u=function(){var _=Vs(g);y.call(_)}}Ys(t,g,e,u)}else g=tv(r,t,e,u,a);return Vs(g)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mi(t.pendingLanes);r!==0&&(rl(t,r|1),Ct(t,Ke()),(we&6)===0&&(si=Ke()+500,Vn()))}break;case 13:Tr(function(){var a=Cn(e,1);if(a!==null){var u=St();sn(a,e,1,u)}}),Ou(e,1)}},il=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=St();sn(t,e,134217728,r)}Ou(e,134217728)}},yd=function(e){if(e.tag===13){var t=Jn(e),r=Cn(e,t);if(r!==null){var a=St();sn(r,e,t,a)}Ou(e,t)}},Sd=function(){return Oe},_d=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}},Za=function(e,t,r){switch(t){case"input":if(En(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var u=fs(a);if(!u)throw Error(o(90));ue(a),En(a,u)}}}break;case"textarea":Qc(e,r);break;case"select":t=r.value,t!=null&&Fn(e,!!r.multiple,t,!1)}},id=Tu,od=Tr;var nv={usingClientEntryPoint:!1,Events:[Ji,Kr,fs,nd,rd,Tu]},ho={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rv={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ud(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Ko=Zs.inject(rv),un=Zs}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nv,Rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(o(200));return b0(e,t,null,r)},Rt.createRoot=function(e,t){if(!Uu(e))throw Error(o(299));var r=!1,a="",u=Bh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Nu(e,1,!1,null,null,r,!1,a,u),e[An]=t.current,Qi(e.nodeType===8?e.parentNode:e),new Du(t)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ud(t),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return Tr(e)},Rt.hydrate=function(e,t,r){if(!Xs(t))throw Error(o(200));return Qs(null,e,t,!0,r)},Rt.hydrateRoot=function(e,t,r){if(!Uu(e))throw Error(o(405));var a=r!=null&&r.hydratedSources||null,u=!1,f="",g=Bh;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=Lh(t,null,e,1,r??null,u,!1,f,g),e[An]=t.current,Qi(e),a)for(e=0;e<a.length;e++)r=a[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Ks(t)},Rt.render=function(e,t,r){if(!Xs(t))throw Error(o(200));return Qs(null,e,t,!1,r)},Rt.unmountComponentAtNode=function(e){if(!Xs(e))throw Error(o(40));return e._reactRootContainer?(Tr(function(){Qs(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1},Rt.unstable_batchedUpdates=Tu,Rt.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Xs(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Qs(e,t,r,!1,a)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var Vh;function hv(){if(Vh)return Fu.exports;Vh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Fu.exports=fv(),Fu.exports}var Kh;function pv(){if(Kh)return qs;Kh=1;var n=hv();return qs.createRoot=n.createRoot,qs.hydrateRoot=n.hydrateRoot,qs}var gv=pv();const mv=Jp(gv),bp=me.createContext(void 0),vv=({initialAppState:n,children:i})=>{const[o,s]=me.useState(n),[l,c]=me.useState(void 0),d=(h,p)=>{s(h),h==="gameOver"&&p?c(p):h!=="gameOver"&&c(void 0)};return Ne.jsx(bp.Provider,{value:{appState:o,setAppState:d,gameOverDetails:l},children:i})},Ma=()=>{const n=me.useContext(bp);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var mt=function(){return mt=Object.assign||function(i){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},mt.apply(this,arguments)};function No(n,i,o){if(o||arguments.length===2)for(var s=0,l=i.length,c;s<l;s++)(c||!(s in i))&&(c||(c=Array.prototype.slice.call(i,0,s)),c[s]=i[s]);return n.concat(c||Array.prototype.slice.call(i))}var xe="-ms-",Io="-moz-",Pe="-webkit-",eg="comm",La="rule",_c="decl",yv="@import",tg="@keyframes",Sv="@layer",ng=Math.abs,Ec=String.fromCharCode,ic=Object.assign;function _v(n,i){return it(n,0)^45?(((i<<2^it(n,0))<<2^it(n,1))<<2^it(n,2))<<2^it(n,3):0}function rg(n){return n.trim()}function Dn(n,i){return(n=i.exec(n))?n[0]:n}function he(n,i,o){return n.replace(i,o)}function pa(n,i,o){return n.indexOf(i,o)}function it(n,i){return n.charCodeAt(i)|0}function vi(n,i,o){return n.slice(i,o)}function gn(n){return n.length}function ig(n){return n.length}function Eo(n,i){return i.push(n),n}function Ev(n,i){return n.map(i).join("")}function Xh(n,i){return n.filter(function(o){return!Dn(o,i)})}var Fa=1,yi=1,og=0,Zt=0,qe=0,Ci="";function Ba(n,i,o,s,l,c,d,h){return{value:n,root:i,parent:o,type:s,props:l,children:c,line:Fa,column:yi,length:d,return:"",siblings:h}}function sr(n,i){return ic(Ba("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},i)}function li(n){for(;n.root;)n=sr(n.root,{children:[n]});Eo(n,n.siblings)}function Av(){return qe}function wv(){return qe=Zt>0?it(Ci,--Zt):0,yi--,qe===10&&(yi=1,Fa--),qe}function ln(){return qe=Zt<og?it(Ci,Zt++):0,yi++,qe===10&&(yi=1,Fa++),qe}function Fr(){return it(Ci,Zt)}function ga(){return Zt}function Ha(n,i){return vi(Ci,n,i)}function oc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tv(n){return Fa=yi=1,og=gn(Ci=n),Zt=0,[]}function Iv(n){return Ci="",n}function xu(n){return rg(Ha(Zt-1,sc(n===91?n+2:n===40?n+1:n)))}function Cv(n){for(;(qe=Fr())&&qe<33;)ln();return oc(n)>2||oc(qe)>3?"":" "}function Rv(n,i){for(;--i&&ln()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return Ha(n,ga()+(i<6&&Fr()==32&&ln()==32))}function sc(n){for(;ln();)switch(qe){case n:return Zt;case 34:case 39:n!==34&&n!==39&&sc(qe);break;case 40:n===41&&sc(n);break;case 92:ln();break}return Zt}function kv(n,i){for(;ln()&&n+qe!==57;)if(n+qe===84&&Fr()===47)break;return"/*"+Ha(i,Zt-1)+"*"+Ec(n===47?n:ln())}function Pv(n){for(;!oc(Fr());)ln();return Ha(n,Zt)}function Nv(n){return Iv(ma("",null,null,null,[""],n=Tv(n),0,[0],n))}function ma(n,i,o,s,l,c,d,h,p){for(var v=0,m=0,S=d,w=0,R=0,O=0,N=1,T=1,D=1,k=0,z="",W=l,Z=c,L=s,x=z;T;)switch(O=k,k=ln()){case 40:if(O!=108&&it(x,S-1)==58){pa(x+=he(xu(k),"&","&\f"),"&\f",ng(v?h[v-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:x+=xu(k);break;case 9:case 10:case 13:case 32:x+=Cv(O);break;case 92:x+=Rv(ga()-1,7);continue;case 47:switch(Fr()){case 42:case 47:Eo(Ov(kv(ln(),ga()),i,o,p),p);break;default:x+="/"}break;case 123*N:h[v++]=gn(x)*D;case 125*N:case 59:case 0:switch(k){case 0:case 125:T=0;case 59+m:D==-1&&(x=he(x,/\f/g,"")),R>0&&gn(x)-S&&Eo(R>32?Zh(x+";",s,o,S-1,p):Zh(he(x," ","")+";",s,o,S-2,p),p);break;case 59:x+=";";default:if(Eo(L=Qh(x,i,o,v,m,l,h,z,W=[],Z=[],S,c),c),k===123)if(m===0)ma(x,i,L,L,W,c,S,h,Z);else switch(w===99&&it(x,3)===110?100:w){case 100:case 108:case 109:case 115:ma(n,L,L,s&&Eo(Qh(n,L,L,0,0,l,h,z,l,W=[],S,Z),Z),l,Z,S,h,s?W:Z);break;default:ma(x,L,L,L,[""],Z,0,h,Z)}}v=m=R=0,N=D=1,z=x="",S=d;break;case 58:S=1+gn(x),R=O;default:if(N<1){if(k==123)--N;else if(k==125&&N++==0&&wv()==125)continue}switch(x+=Ec(k),k*N){case 38:D=m>0?1:(x+="\f",-1);break;case 44:h[v++]=(gn(x)-1)*D,D=1;break;case 64:Fr()===45&&(x+=xu(ln())),w=Fr(),m=S=gn(z=x+=Pv(ga())),k++;break;case 45:O===45&&gn(x)==2&&(N=0)}}return c}function Qh(n,i,o,s,l,c,d,h,p,v,m,S){for(var w=l-1,R=l===0?c:[""],O=ig(R),N=0,T=0,D=0;N<s;++N)for(var k=0,z=vi(n,w+1,w=ng(T=d[N])),W=n;k<O;++k)(W=rg(T>0?R[k]+" "+z:he(z,/&\f/g,R[k])))&&(p[D++]=W);return Ba(n,i,o,l===0?La:h,p,v,m,S)}function Ov(n,i,o,s){return Ba(n,i,o,eg,Ec(Av()),vi(n,2,-2),0,s)}function Zh(n,i,o,s,l){return Ba(n,i,o,_c,vi(n,0,s),vi(n,s+1,-1),s,l)}function sg(n,i,o){switch(_v(n,i)){case 5103:return Pe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+n+n;case 4789:return Io+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+n+Io+n+xe+n+n;case 5936:switch(it(n,i+11)){case 114:return Pe+n+xe+he(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Pe+n+xe+he(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Pe+n+xe+he(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Pe+n+xe+n+n;case 6165:return Pe+n+xe+"flex-"+n+n;case 5187:return Pe+n+he(n,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+xe+"flex-$1$2")+n;case 5443:return Pe+n+xe+"flex-item-"+he(n,/flex-|-self/g,"")+(Dn(n,/flex-|baseline/)?"":xe+"grid-row-"+he(n,/flex-|-self/g,""))+n;case 4675:return Pe+n+xe+"flex-line-pack"+he(n,/align-content|flex-|-self/g,"")+n;case 5548:return Pe+n+xe+he(n,"shrink","negative")+n;case 5292:return Pe+n+xe+he(n,"basis","preferred-size")+n;case 6060:return Pe+"box-"+he(n,"-grow","")+Pe+n+xe+he(n,"grow","positive")+n;case 4554:return Pe+he(n,/([^-])(transform)/g,"$1"+Pe+"$2")+n;case 6187:return he(he(he(n,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),n,"")+n;case 5495:case 3959:return he(n,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return he(he(n,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+n+n;case 4200:if(!Dn(n,/flex-|baseline/))return xe+"grid-column-align"+vi(n,i)+n;break;case 2592:case 3360:return xe+he(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(s,l){return i=l,Dn(s.props,/grid-\w+-end/)})?~pa(n+(o=o[i].value),"span",0)?n:xe+he(n,"-start","")+n+xe+"grid-row-span:"+(~pa(o,"span",0)?Dn(o,/\d+/):+Dn(o,/\d+/)-+Dn(n,/\d+/))+";":xe+he(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(s){return Dn(s.props,/grid-\w+-start/)})?n:xe+he(he(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return he(n,/(.+)-inline(.+)/,Pe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gn(n)-1-i>6)switch(it(n,i+1)){case 109:if(it(n,i+4)!==45)break;case 102:return he(n,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Io+(it(n,i+3)==108?"$3":"$2-$3"))+n;case 115:return~pa(n,"stretch",0)?sg(he(n,"stretch","fill-available"),i,o)+n:n}break;case 5152:case 5920:return he(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,d,h,p,v){return xe+l+":"+c+v+(d?xe+l+"-span:"+(h?p:+p-+c)+v:"")+n});case 4949:if(it(n,i+6)===121)return he(n,":",":"+Pe)+n;break;case 6444:switch(it(n,it(n,14)===45?18:11)){case 120:return he(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pe+(it(n,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+xe+"$2box$3")+n;case 100:return he(n,":",":"+xe)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return he(n,"scroll-","scroll-snap-")+n}return n}function Ta(n,i){for(var o="",s=0;s<n.length;s++)o+=i(n[s],s,n,i)||"";return o}function Dv(n,i,o,s){switch(n.type){case Sv:if(n.children.length)break;case yv:case _c:return n.return=n.return||n.value;case eg:return"";case tg:return n.return=n.value+"{"+Ta(n.children,s)+"}";case La:if(!gn(n.value=n.props.join(",")))return""}return gn(o=Ta(n.children,s))?n.return=n.value+"{"+o+"}":""}function Uv(n){var i=ig(n);return function(o,s,l,c){for(var d="",h=0;h<i;h++)d+=n[h](o,s,l,c)||"";return d}}function Mv(n){return function(i){i.root||(i=i.return)&&n(i)}}function Lv(n,i,o,s){if(n.length>-1&&!n.return)switch(n.type){case _c:n.return=sg(n.value,n.length,o);return;case tg:return Ta([sr(n,{value:he(n.value,"@","@"+Pe)})],s);case La:if(n.length)return Ev(o=n.props,function(l){switch(Dn(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":li(sr(n,{props:[he(l,/:(read-\w+)/,":"+Io+"$1")]})),li(sr(n,{props:[l]})),ic(n,{props:Xh(o,s)});break;case"::placeholder":li(sr(n,{props:[he(l,/:(plac\w+)/,":"+Pe+"input-$1")]})),li(sr(n,{props:[he(l,/:(plac\w+)/,":"+Io+"$1")]})),li(sr(n,{props:[he(l,/:(plac\w+)/,xe+"input-$1")]})),li(sr(n,{props:[l]})),ic(n,{props:Xh(o,s)});break}return""})}}var Fv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ft={},Si=typeof process<"u"&&Ft!==void 0&&(Ft.REACT_APP_SC_ATTR||Ft.SC_ATTR)||"data-styled",ag="active",lg="data-styled-version",xa="6.1.13",Ac=`/*!sc*/
`,Ia=typeof window<"u"&&"HTMLElement"in window,Bv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ft!==void 0&&Ft.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ft.REACT_APP_SC_DISABLE_SPEEDY!==""?Ft.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ft.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ft!==void 0&&Ft.SC_DISABLE_SPEEDY!==void 0&&Ft.SC_DISABLE_SPEEDY!==""&&Ft.SC_DISABLE_SPEEDY!=="false"&&Ft.SC_DISABLE_SPEEDY),Hv={},Ga=Object.freeze([]),_i=Object.freeze({});function ug(n,i,o){return o===void 0&&(o=_i),n.theme!==o.theme&&n.theme||i||o.theme}var cg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),xv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Gv=/(^-|-$)/g;function qh(n){return n.replace(xv,"-").replace(Gv,"")}var zv=/(a)(d)/gi,Js=52,Jh=function(n){return String.fromCharCode(n+(n>25?39:97))};function ac(n){var i,o="";for(i=Math.abs(n);i>Js;i=i/Js|0)o=Jh(i%Js)+o;return(Jh(i%Js)+o).replace(zv,"$1-$2")}var Gu,dg=5381,pi=function(n,i){for(var o=i.length;o;)n=33*n^i.charCodeAt(--o);return n},fg=function(n){return pi(dg,n)};function hg(n){return ac(fg(n)>>>0)}function $v(n){return n.displayName||n.name||"Component"}function zu(n){return typeof n=="string"&&!0}var pg=typeof Symbol=="function"&&Symbol.for,gg=pg?Symbol.for("react.memo"):60115,Wv=pg?Symbol.for("react.forward_ref"):60112,jv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Yv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vv=((Gu={})[Wv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gu[gg]=mg,Gu);function bh(n){return("type"in(i=n)&&i.type.$$typeof)===gg?mg:"$$typeof"in n?Vv[n.$$typeof]:jv;var i}var Kv=Object.defineProperty,Xv=Object.getOwnPropertyNames,ep=Object.getOwnPropertySymbols,Qv=Object.getOwnPropertyDescriptor,Zv=Object.getPrototypeOf,tp=Object.prototype;function vg(n,i,o){if(typeof i!="string"){if(tp){var s=Zv(i);s&&s!==tp&&vg(n,s,o)}var l=Xv(i);ep&&(l=l.concat(ep(i)));for(var c=bh(n),d=bh(i),h=0;h<l.length;++h){var p=l[h];if(!(p in Yv||o&&o[p]||d&&p in d||c&&p in c)){var v=Qv(i,p);try{Kv(n,p,v)}catch{}}}}return n}function Ei(n){return typeof n=="function"}function wc(n){return typeof n=="object"&&"styledComponentId"in n}function Ur(n,i){return n&&i?"".concat(n," ").concat(i):n||i||""}function lc(n,i){if(n.length===0)return"";for(var o=n[0],s=1;s<n.length;s++)o+=n[s];return o}function Oo(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function uc(n,i,o){if(o===void 0&&(o=!1),!o&&!Oo(n)&&!Array.isArray(n))return i;if(Array.isArray(i))for(var s=0;s<i.length;s++)n[s]=uc(n[s],i[s]);else if(Oo(i))for(var s in i)n[s]=uc(n[s],i[s]);return n}function Tc(n,i){Object.defineProperty(n,"toString",{value:i})}function $o(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var qv=function(){function n(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return n.prototype.indexOfGroup=function(i){for(var o=0,s=0;s<i;s++)o+=this.groupSizes[s];return o},n.prototype.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;i>=c;)if((c<<=1)<0)throw $o(16,"".concat(i));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var d=l;d<c;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(i+1),p=(d=0,o.length);d<p;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[i]++,h++)},n.prototype.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],s=this.indexOfGroup(i),l=s+o;this.groupSizes[i]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var s=this.groupSizes[i],l=this.indexOfGroup(i),c=l+s,d=l;d<c;d++)o+="".concat(this.tag.getRule(d)).concat(Ac);return o},n}(),va=new Map,Ca=new Map,ya=1,bs=function(n){if(va.has(n))return va.get(n);for(;Ca.has(ya);)ya++;var i=ya++;return va.set(n,i),Ca.set(i,n),i},Jv=function(n,i){ya=i+1,va.set(n,i),Ca.set(i,n)},bv="style[".concat(Si,"][").concat(lg,'="').concat(xa,'"]'),ey=new RegExp("^".concat(Si,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ty=function(n,i,o){for(var s,l=o.split(","),c=0,d=l.length;c<d;c++)(s=l[c])&&n.registerName(i,s)},ny=function(n,i){for(var o,s=((o=i.textContent)!==null&&o!==void 0?o:"").split(Ac),l=[],c=0,d=s.length;c<d;c++){var h=s[c].trim();if(h){var p=h.match(ey);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(Jv(m,v),ty(n,m,p[3]),n.getTag().insertRules(v,l)),l.length=0}else l.push(h)}}},np=function(n){for(var i=document.querySelectorAll(bv),o=0,s=i.length;o<s;o++){var l=i[o];l&&l.getAttribute(Si)!==ag&&(ny(n,l),l.parentNode&&l.parentNode.removeChild(l))}};function ry(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var yg=function(n){var i=document.head,o=n||i,s=document.createElement("style"),l=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Si,"]")));return p[p.length-1]}(o),c=l!==void 0?l.nextSibling:null;s.setAttribute(Si,ag),s.setAttribute(lg,xa);var d=ry();return d&&s.setAttribute("nonce",d),o.insertBefore(s,c),s},iy=function(){function n(i){this.element=yg(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var d=s[l];if(d.ownerNode===o)return d}throw $o(17)}(this.element),this.length=0}return n.prototype.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},n.prototype.getRule=function(i){var o=this.sheet.cssRules[i];return o&&o.cssText?o.cssText:""},n}(),oy=function(){function n(i){this.element=yg(i),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(i,o){if(i<=this.length&&i>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[i]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},n.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},n}(),sy=function(){function n(i){this.rules=[],this.length=0}return n.prototype.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},n.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},n.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},n}(),rp=Ia,ay={isServer:!Ia,useCSSOMInjection:!Bv},Ra=function(){function n(i,o,s){i===void 0&&(i=_i),o===void 0&&(o={});var l=this;this.options=mt(mt({},ay),i),this.gs=o,this.names=new Map(s),this.server=!!i.isServer,!this.server&&Ia&&rp&&(rp=!1,np(this)),Tc(this,function(){return function(c){for(var d=c.getTag(),h=d.length,p="",v=function(S){var w=function(D){return Ca.get(D)}(S);if(w===void 0)return"continue";var R=c.names.get(w),O=d.getGroup(S);if(R===void 0||!R.size||O.length===0)return"continue";var N="".concat(Si,".g").concat(S,'[id="').concat(w,'"]'),T="";R!==void 0&&R.forEach(function(D){D.length>0&&(T+="".concat(D,","))}),p+="".concat(O).concat(N,'{content:"').concat(T,'"}').concat(Ac)},m=0;m<h;m++)v(m);return p}(l)})}return n.registerId=function(i){return bs(i)},n.prototype.rehydrate=function(){!this.server&&Ia&&np(this)},n.prototype.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new n(mt(mt({},this.options),i),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(i=function(o){var s=o.useCSSOMInjection,l=o.target;return o.isServer?new sy(l):s?new iy(l):new oy(l)}(this.options),new qv(i)));var i},n.prototype.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},n.prototype.registerName=function(i,o){if(bs(i),this.names.has(i))this.names.get(i).add(o);else{var s=new Set;s.add(o),this.names.set(i,s)}},n.prototype.insertRules=function(i,o,s){this.registerName(i,o),this.getTag().insertRules(bs(i),s)},n.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},n.prototype.clearRules=function(i){this.getTag().clearGroup(bs(i)),this.clearNames(i)},n.prototype.clearTag=function(){this.tag=void 0},n}(),ly=/&/g,uy=/^\s*\/\/.*$/gm;function Sg(n,i){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(i," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(i," ")),o.props=o.props.map(function(s){return"".concat(i," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Sg(o.children,i)),o})}function cy(n){var i,o,s,l=_i,c=l.options,d=c===void 0?_i:c,h=l.plugins,p=h===void 0?Ga:h,v=function(w,R,O){return O.startsWith(o)&&O.endsWith(o)&&O.replaceAll(o,"").length>0?".".concat(i):w},m=p.slice();m.push(function(w){w.type===La&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(ly,o).replace(s,v))}),d.prefix&&m.push(Lv),m.push(Dv);var S=function(w,R,O,N){R===void 0&&(R=""),O===void 0&&(O=""),N===void 0&&(N="&"),i=N,o=R,s=new RegExp("\\".concat(o,"\\b"),"g");var T=w.replace(uy,""),D=Nv(O||R?"".concat(O," ").concat(R," { ").concat(T," }"):T);d.namespace&&(D=Sg(D,d.namespace));var k=[];return Ta(D,Uv(m.concat(Mv(function(z){return k.push(z)})))),k};return S.hash=p.length?p.reduce(function(w,R){return R.name||$o(15),pi(w,R.name)},dg).toString():"",S}var dy=new Ra,cc=cy(),_g=mn.createContext({shouldForwardProp:void 0,styleSheet:dy,stylis:cc});_g.Consumer;mn.createContext(void 0);function dc(){return me.useContext(_g)}var fy=function(){function n(i,o){var s=this;this.inject=function(l,c){c===void 0&&(c=cc);var d=s.name+c.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,c(s.rules,d,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=o,Tc(this,function(){throw $o(12,String(s.name))})}return n.prototype.getName=function(i){return i===void 0&&(i=cc),this.name+i.hash},n}(),hy=function(n){return n>="A"&&n<="Z"};function ip(n){for(var i="",o=0;o<n.length;o++){var s=n[o];if(o===1&&s==="-"&&n[0]==="-")return n;hy(s)?i+="-"+s.toLowerCase():i+=s}return i.startsWith("ms-")?"-"+i:i}var Eg=function(n){return n==null||n===!1||n===""},Ag=function(n){var i,o,s=[];for(var l in n){var c=n[l];n.hasOwnProperty(l)&&!Eg(c)&&(Array.isArray(c)&&c.isCss||Ei(c)?s.push("".concat(ip(l),":"),c,";"):Oo(c)?s.push.apply(s,No(No(["".concat(l," {")],Ag(c),!1),["}"],!1)):s.push("".concat(ip(l),": ").concat((i=l,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||i in Fv||i.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function cr(n,i,o,s){if(Eg(n))return[];if(wc(n))return[".".concat(n.styledComponentId)];if(Ei(n)){if(!Ei(c=n)||c.prototype&&c.prototype.isReactComponent||!i)return[n];var l=n(i);return cr(l,i,o,s)}var c;return n instanceof fy?o?(n.inject(o,s),[n.getName(s)]):[n]:Oo(n)?Ag(n):Array.isArray(n)?Array.prototype.concat.apply(Ga,n.map(function(d){return cr(d,i,o,s)})):[n.toString()]}function wg(n){for(var i=0;i<n.length;i+=1){var o=n[i];if(Ei(o)&&!wc(o))return!1}return!0}var py=fg(xa),gy=function(){function n(i,o,s){this.rules=i,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&wg(i),this.componentId=o,this.baseHash=pi(py,o),this.baseStyle=s,Ra.registerId(o)}return n.prototype.generateAndInjectStyles=function(i,o,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))l=Ur(l,this.staticRulesId);else{var c=lc(cr(this.rules,i,o,s)),d=ac(pi(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(c,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}l=Ur(l,d),this.staticRulesId=d}else{for(var p=pi(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var S=this.rules[m];if(typeof S=="string")v+=S;else if(S){var w=lc(cr(S,i,o,s));p=pi(p,w+m),v+=w}}if(v){var R=ac(p>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,s(v,".".concat(R),void 0,this.componentId)),l=Ur(l,R)}}return l},n}(),Ic=mn.createContext(void 0);Ic.Consumer;var $u={};function my(n,i,o){var s=wc(n),l=n,c=!zu(n),d=i.attrs,h=d===void 0?Ga:d,p=i.componentId,v=p===void 0?function(W,Z){var L=typeof W!="string"?"sc":qh(W);$u[L]=($u[L]||0)+1;var x="".concat(L,"-").concat(hg(xa+L+$u[L]));return Z?"".concat(Z,"-").concat(x):x}(i.displayName,i.parentComponentId):p,m=i.displayName,S=m===void 0?function(W){return zu(W)?"styled.".concat(W):"Styled(".concat($v(W),")")}(n):m,w=i.displayName&&i.componentId?"".concat(qh(i.displayName),"-").concat(i.componentId):i.componentId||v,R=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,O=i.shouldForwardProp;if(s&&l.shouldForwardProp){var N=l.shouldForwardProp;if(i.shouldForwardProp){var T=i.shouldForwardProp;O=function(W,Z){return N(W,Z)&&T(W,Z)}}else O=N}var D=new gy(o,w,s?l.componentStyle:void 0);function k(W,Z){return function(L,x,b){var pe=L.attrs,Ge=L.componentStyle,Je=L.defaultProps,Ue=L.foldedComponentIds,Me=L.styledComponentId,Se=L.target,Ie=mn.useContext(Ic),de=dc(),se=L.shouldForwardProp||de.shouldForwardProp,$=ug(x,Ie,Je)||_i,V=function(ge,ae,fe){for(var ce,X=mt(mt({},ae),{className:void 0,theme:fe}),ie=0;ie<ge.length;ie+=1){var Re=Ei(ce=ge[ie])?ce(X):ce;for(var ue in Re)X[ue]=ue==="className"?Ur(X[ue],Re[ue]):ue==="style"?mt(mt({},X[ue]),Re[ue]):Re[ue]}return ae.className&&(X.className=Ur(X.className,ae.className)),X}(pe,x,$),j=V.as||Se,A={};for(var U in V)V[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&V.theme===$||(U==="forwardedAs"?A.as=V.forwardedAs:se&&!se(U,j)||(A[U]=V[U]));var re=function(ge,ae){var fe=dc(),ce=ge.generateAndInjectStyles(ae,fe.styleSheet,fe.stylis);return ce}(Ge,V),ee=Ur(Ue,Me);return re&&(ee+=" "+re),V.className&&(ee+=" "+V.className),A[zu(j)&&!cg.has(j)?"class":"className"]=ee,A.ref=b,me.createElement(j,A)}(z,W,Z)}k.displayName=S;var z=mn.forwardRef(k);return z.attrs=R,z.componentStyle=D,z.displayName=S,z.shouldForwardProp=O,z.foldedComponentIds=s?Ur(l.foldedComponentIds,l.styledComponentId):"",z.styledComponentId=w,z.target=s?l.target:n,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(W){this._foldedDefaultProps=s?function(Z){for(var L=[],x=1;x<arguments.length;x++)L[x-1]=arguments[x];for(var b=0,pe=L;b<pe.length;b++)uc(Z,pe[b],!0);return Z}({},l.defaultProps,W):W}}),Tc(z,function(){return".".concat(z.styledComponentId)}),c&&vg(z,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function op(n,i){for(var o=[n[0]],s=0,l=i.length;s<l;s+=1)o.push(i[s],n[s+1]);return o}var sp=function(n){return Object.assign(n,{isCss:!0})};function Tg(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(Ei(n)||Oo(n))return sp(cr(op(Ga,No([n],i,!0))));var s=n;return i.length===0&&s.length===1&&typeof s[0]=="string"?cr(s):sp(cr(op(s,i)))}function fc(n,i,o){if(o===void 0&&(o=_i),!i)throw $o(1,i);var s=function(l){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return n(i,o,Tg.apply(void 0,No([l],c,!1)))};return s.attrs=function(l){return fc(n,i,mt(mt({},o),{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return fc(n,i,mt(mt({},o),l))},s}var Ig=function(n){return fc(my,n)},Sn=Ig;cg.forEach(function(n){Sn[n]=Ig(n)});var vy=function(){function n(i,o){this.rules=i,this.componentId=o,this.isStatic=wg(i),Ra.registerId(this.componentId+1)}return n.prototype.createStyles=function(i,o,s,l){var c=l(lc(cr(this.rules,o,s,l)),""),d=this.componentId+i;s.insertRules(d,d,c)},n.prototype.removeStyles=function(i,o){o.clearRules(this.componentId+i)},n.prototype.renderStyles=function(i,o,s,l){i>2&&Ra.registerId(this.componentId+i),this.removeStyles(i,s),this.createStyles(i,o,s,l)},n}();function yy(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=Tg.apply(void 0,No([n],i,!1)),l="sc-global-".concat(hg(JSON.stringify(s))),c=new vy(s,l),d=function(p){var v=dc(),m=mn.useContext(Ic),S=mn.useRef(v.styleSheet.allocateGSInstance(l)).current;return v.styleSheet.server&&h(S,p,v.styleSheet,m,v.stylis),mn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(S,p,v.styleSheet,m,v.stylis),function(){return c.removeStyles(S,v.styleSheet)}},[S,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,S,w){if(c.isStatic)c.renderStyles(p,Hv,m,w);else{var R=mt(mt({},v),{theme:ug(v,S,d.defaultProps)});c.renderStyles(p,R,m,w)}}return mn.memo(d)}function Cg(n,i){var o=me.useRef(null),s=me.useRef(!1),l=me.useRef(n);l.current=n;var c=me.useCallback(function(h){s.current&&(l.current(h),o.current=requestAnimationFrame(c))},[]),d=me.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(c))},function(){return s.current}]},[]);return me.useEffect(function(){return d[0]},[]),d}function Sy(n,i,o,s,l){var d;(d=n.onExit)==null||d.call(n,s,i);const c=l.find(({id:h})=>h===i);return c!=null&&c.onEnter?c.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function _y(n,i){return i.find(({id:o})=>o===n)}function Ey(n,i){return n!==i}function Ay(n){console.warn(`No handler found for state: ${n}`)}const Co="bushGrowing",Dr="bushFull",Sa="bushSpreading",Do="bushDying",Kt=24,Xt=10,Mr=3e3,Lr=3e3,Cc=2,wy=5,Ty=3,Iy=12,Cy=940,Ry=.7,hc=20,ap=90,Rg=45,kg=240,Pg=10,Uo=80,ky=3,go=5,qt=150,Rc=qt*.8,Py=qt*.2,Pt=qt*.95,Mo=30,Ng=10,Ny=10,Oy=.5,ct=30,Ai=ct*.75,Og=50,Dy=20,Uy=Uo*.8,My=.7,Ly=16,wi=40,kc=16,Fy=72/3,lp=24,By=1.25,Hy=1.5,za=qt*.6,Pc=50,xy=1,Gy=350,Dg=Uo*.65,zy=80,$y=50,Wy=1,jy=128,Ug=10,up=100,Yy=35,$a=ct,Mg=.5,Lg=2.5,Vy=5,Ky=.5,Xy=1.5,Qy=.1,Zy=.5,qy=1.5,Jy=.25,by=2.5,eS=45,tS=.05,ka=5,nS=.5,rS=100,iS=300,Fg=30,Lo=.5,cp=qt*.6,oS=qt*.25,sS=qt*.7,aS=qt*.8,lS=100,uS=2,cS=400,dS=1e3,fS=qt*.85,hS=100,pS=3,gS=96,mS=24,vS=600,Bg=600,yS=1,SS=24,_S=1,ES=.5,dp=24,fp=12,hp=40,AS=.35,wS=24,pp=500,TS=1.2,IS=10,CS=150,RS=200,kS=100,PS=100,NS=.7,OS=300,DS=100,US=120,Pa=10,Hg=250,MS=20,xg=.15,Gg=200,yn=30,Nc=yn*.6,Oc="#4CAF50",zg="#FF5722",$g="#9C27B0",LS="#2196F3",Wg="#FFC107",FS="#FFD700",jg="#DC143C",BS="#FFFFFF",HS=[5,5],Yg=5,gp=20,xS=20,GS=16,zS=10,$S=16,WS=16,mp=["","","","","","","","","",""],vp=8,jS="#FFFFFF",ar=18,kt=15,YS="rgba(0, 0, 0, 0.7)",VS=4,nr=150,Lt=15,Nn=10,gi="#555",KS="#f44336",XS="#4CAF50",QS="#2196F3",ZS="#FFC107",ea=16,qS=9,kr=32,ta=28,JS=10,bS=8,e1=8,t1=8,na=28,ra=40,n1="rgba(255, 215, 0, 0.7)",r1="rgba(0, 0, 0, 0.3)",rr=10,yp=8,Wu=11,ir=20,ju=40,Sp=5,i1=10,o1="#FFA500",s1="#808080",Ro=120,a1=30,l1=20,_a="#2d3748",Ea="#ffffff",Aa="#4a5568",u1=5,c1="#3a445892",d1="rgba(0, 0, 0, 0.8)",f1="#FFFFFF",_p=14,Ep=8,Ap=-15,h1=60,p1=-50,g1=10,Yu=12,wp=10,m1="rgba(0, 0, 0, 0.5)",v1="#4CAF50",y1="#F44336",S1="#FFC107",_1="rgba(255, 255, 255, 0.2)",Tp="#FFFFFF",E1="#FF6B6B",A1=5,Vg=30,mo=50,ia=8,Ip=10,w1="rgba(0, 0, 0, 0.5)",T1="#FFFFFF",I1=33,C1=400,R1=20,k1=10,P1="rgba(0, 0, 0, 0.7)",N1="#FFFFFF",Vu=20,Cp=16,O1=.5,Rp=5,Kg="#FFD700",D1=40,U1=4,M1=3,L1=5,Qt=1,Ao=3,F1=70,kp=600,B1=1.5,Xg=.1,H1=15,x1=5e3,Pr=80,oa=10;function vt(n,i,o,s,l){const c={id:n.nextVisualEffectId,type:i,position:o,startTime:n.time,duration:s,entityId:l};return n.visualEffects.push(c),n.nextVisualEffectId++,c.id}var Te=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n[n.AutopilotMoveTarget=16]="AutopilotMoveTarget",n))(Te||{}),fr=(n=>(n.Berry="berry",n.Meat="meat",n))(fr||{});const Qg={berry:"",meat:""},G1={id:Co,update:(n,i)=>{const{entity:o,updateContext:s}=i,l=s.deltaTime*(Kt/Xt);return o.age+=l,o.age>=o.lifespan?{nextState:Do,data:{...n,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Te.BushClaimLost,o.position,Qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=l,o.timeSinceLastBerryRegen>=Iy&&o.food.length<o.maxFood&&(o.food.push({type:fr.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Dr,data:{...n,enteredAt:s.gameState.time,previousState:Co}}:{nextState:Co,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},z1={id:Dr,update:(n,i)=>{const{entity:o,updateContext:s}=i,l=s.deltaTime*(Kt/Xt);return o.age+=l,o.age>=o.lifespan?{nextState:Do,data:{...n,enteredAt:s.gameState.time,previousState:Dr}}:o.food.length<o.maxFood?{nextState:Co,data:{...n,enteredAt:s.gameState.time,previousState:Dr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Te.BushClaimLost,o.position,Qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=l,o.timeSinceLastSpreadAttempt>=ap&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=ap&&Math.random()<o.spreadChance)?{nextState:Sa,data:{...n,enteredAt:s.gameState.time,previousState:Dr}}:{nextState:Dr,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})};function dr(n,i){return{x:n.x+i.x,y:n.y+i.y}}function $1(n,i){return{x:n.x-i.x,y:n.y-i.y}}function vn(n,i){return{x:n.x*i,y:n.y*i}}function Fo(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function Jt(n){const i=Fo(n);return i===0?{x:0,y:0}:vn(n,1/i)}function Dc(n,i,o){return{x:n.x+(i.x-n.x)*o,y:n.y+(i.y-n.y)*o}}function Uc(n){if(n.length===0)return{x:0,y:0};const i=n.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:i.x/n.length,y:i.y/n.length}}function Bt(n,i,o,s){let l=i.x-n.x,c=i.y-n.y;return Math.abs(l)>o/2&&(l=l-Math.sign(l)*o),Math.abs(c)>s/2&&(c=c-Math.sign(c)*s),{x:l,y:c}}function Mc(n,i,o){const s=Bt(n,i,o.width,o.height);return Jt(s)}function ve(n,i,o,s){const l=Bt(n,i,o,s);return Fo(l)}function W1(n,i){return n.x*i.x+n.y*i.y}function j1(n,i){const o=W1(n,i),s=Fo(n),l=Fo(i);if(s===0||l===0)return 0;const c=Math.max(-1,Math.min(1,o/(s*l)));return Math.acos(c)}function Y1(n,i,o){const s=Math.max(0,Math.min(1,o)),l={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},c={r:parseInt(i.substring(1,3),16),g:parseInt(i.substring(3,5),16),b:parseInt(i.substring(5,7),16)},d=Math.round(l.r+(c.r-l.r)*s),h=Math.round(l.g+(c.g-l.g)*s),p=Math.round(l.b+(c.b-l.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(p)}`}var ot=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n.FeedChildren="FeedChildren",n.AutopilotMove="AutopilotMove",n))(ot||{});const Zg={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:"",TribeSplit:"",FeedChildren:"",AutopilotMove:""};var hi=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(hi||{});const vo={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var _e=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n.ToggleProcreationBehavior="ToggleProcreationBehavior",n.TogglePlantingBehavior="TogglePlantingBehavior",n.ToggleGatheringBehavior="ToggleGatheringBehavior",n.ToggleAttackBehavior="ToggleAttackBehavior",n.ToggleCallToAttackBehavior="ToggleCallToAttackBehavior",n.ToggleFeedChildrenBehavior="ToggleFeedChildrenBehavior",n))(_e||{});const Ku=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,V1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,K1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,Pp=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,X1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,Q1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,Z1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,q1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,J1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,b1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var De=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.GameOver=10]="GameOver",n[n.ButtonClick=11]="ButtonClick",n[n.SoundTrack1=12]="SoundTrack1",n))(De||{});const e_=new Map([[0,Ku],[1,V1],[2,K1],[3,Pp],[4,X1],[5,Q1],[6,Z1],[10,q1],[11,J1],[7,Ku],[8,Ku],[9,Pp],[12,b1]]);let yo,Bo;function t_(){if(!(typeof window>"u"))return Bo}function Lc(){if(!(typeof window>"u"))return!yo&&typeof window.AudioContext=="function"&&(yo=new window.AudioContext,Bo=yo.createGain(),Bo.connect(yo.destination),wo(.1,!1)),yo}function wo(n,i){Bo&&(Bo.gain.value=i?0:n/10)}const qg=new Map;let sa=!1,Np=!1;async function n_(){if(Np||sa)return;const n=Lc();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),sa=!0,console.log("Starting sound loading...");const i=[];e_.forEach((o,s)=>{const l=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>n.decodeAudioData(c)).then(c=>{qg.set(s,c)}).catch(c=>{console.error(`Error loading sound ${De[s]} from ${o}:`,c)});i.push(l)});try{await Promise.all(i),Np=!0,sa=!1,console.log("All sounds loaded successfully.")}catch(o){sa=!1,console.error("An error occurred while loading sounds:",o)}}const ko=new Map;function Fc(n,i){const o=Lc(),s=t_();if(!o||!s||s.gain.value===0&&(i==null?void 0:i.trackId)===void 0)return;o.state==="suspended"&&o.resume();const l=qg.get(n);if(!l){console.warn(`Sound buffer not found for type: ${De[n]}`);return}if(i!=null&&i.trackId&&ko.has(i.trackId))return;const c=o.createBufferSource();c.buffer=l,c.loop=(i==null?void 0:i.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let p=d;if(i!=null&&i.position&&(i!=null&&i.listenerPosition)&&(i!=null&&i.worldDimensions)){const v=Bt(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height),m=ve(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height);if(m>kp)return;const S=1-Math.pow(m/kp,B1);d.gain.value=Math.max(0,S);const w=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(w)?0:w,d.connect(h),p=h}else{const v=n===De.GameOver?.4:n===De.SoundTrack1?1:.2;d.gain.value=v}c.connect(p),p.connect(s),c.start(0),i!=null&&i.trackId&&(ko.set(i.trackId,{sourceNode:c,gainNode:d}),c.onended=()=>{ko.delete(i.trackId)})}function Op(n,i=1){const o=ko.get(n),s=Lc();if(o&&s){const{sourceNode:l,gainNode:c}=o,d=s.currentTime;c.gain.setValueAtTime(c.gain.value,d),c.gain.linearRampToValueAtTime(0,d+i),l.stop(d+i),l.onended=null,ko.delete(n)}}function Ve(n,i,o){const s=an(n.gameState);s&&Fc(i,{position:o,listenerPosition:s.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function Jg(n,i){const o=[],s=n;if(i.food.length>0&&i.hunger>Rc&&o.push({type:ot.Eat,action:"eating",key:"f"}),i.food.length<i.maxFood){const d=ut(i,n,"berryBush",ct,v=>v.food.length>0),h=ut(i,n,"humanCorpse",ct,v=>v.food.length>0);let p=null;d&&h?p=ve(i.position,d.position,n.mapDimensions.width,n.mapDimensions.height)<=ve(i.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?d:h:p=d||h,p&&o.push({type:ot.GatherFood,action:"gathering",key:"e",targetEntity:p})}const l=ut(i,n,"human",ct,d=>{const h=d;return(h.id!==i.id&&h.gender!==i.gender&&h.isAdult&&i.isAdult&&h.hunger<Pt&&i.hunger<Pt&&(h.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=wi:!i.isPregnant&&i.age<=wi))??!1});l&&o.push({type:ot.Procreate,action:"procreating",key:"r",targetEntity:l});const c=ut(i,n,"human",$a,d=>d.id!==i.id&&d.leaderId!==i.leaderId);return c&&o.push({type:ot.Attack,action:"attacking",key:"q",targetEntity:c}),i.food.filter(d=>d.type===fr.Berry).length>=ka&&o.push({type:ot.PlantBush,action:"planting",key:"b"}),i.leaderId===i.id&&!i.isCallingToAttack&&Gc(i.position,i.id,s,Hg).length>0&&o.push({type:ot.CallToAttack,action:"callingToAttack",key:"v"}),Hc(i,n).canSplit&&o.push({type:ot.TribeSplit,action:"tribeSplitting",key:"k"}),o}function r_(n,i,o){return i.search.human.byRadius(n.position,o).filter(l=>{var c;return l.activeAction==="procreating"&&l.gender===n.gender&&typeof l.target=="number"&&((c=n.partnerIds)==null?void 0:c.includes(l.target))})[0]}function i_(n,i,o){if(!n.leaderId)return;const s=i,l=s.search.berryBush.byRadius(n.position,o).filter(c=>c.ownerId===n.id);for(const c of l)if(c.claimedUntil&&i.time<c.claimedUntil){const d=s.search.human.byRadius(c.position,ct);for(const h of d)if(!pc(h,n)&&h.activeAction==="gathering"&&h.target===c.id)return h}}function o_(n,i,o){const s=Na(n,i),l=i;for(const c of s){if(ve(n.position,c.position,i.mapDimensions.width,i.mapDimensions.height)>o)continue;const h=l.search.human.byProperty("attackTargetId",c.id);for(const p of h)if(p.leaderId!==n.leaderId)return{familyMember:c,aggressor:p}}}function s_(n,i){const s=i.search.human.byRadius(n.position,OS);let l,c=1/0;for(const d of s){if(d.id===n.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>NS||tm(n,d,i))continue;const h=ve(n.position,d.position,i.mapDimensions.width,i.mapDimensions.height);h<c&&(c=h,l=d)}return l}function Bc(n,i,o,s){const l=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*i,d={x:Math.cos(l)*c,y:Math.sin(l)*c},h=dr(n,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Ho(n,i,o,s){const l=i,c={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},d=[...l.search.human.byRect(c),...l.search.berryBush.byRect(c),...l.search.humanCorpse.byRect(c)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(ve(n,h.position,i.mapDimensions.width,i.mapDimensions.height)<o+h.radius)return!0}return!1}function bg(n,i,o,s,l){const c=i.mapDimensions.width,d=i.mapDimensions.height;if(!Ho(n,i,s,l))return n;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const S=m/v*2*Math.PI,w={x:Math.cos(S)*p,y:Math.sin(S)*p},R=dr(n,w),O={x:(R.x%c+c)%c,y:(R.y%d+d)%d};if(!Ho(O,i,s,l))return O}}return null}function a_(n,i){const o=ut(n,i,"berryBush",void 0,l=>l.ownerId===n.id);return o?bg(o.position,i,rS,Fg,o.id):null}function ut(n,i,o,s,l){const c=i,d=s!==void 0?s:Math.max(i.mapDimensions.width,i.mapDimensions.height),h=c.search[o].byRadius(n.position,d);let p=null,v=d;for(const m of h){if(m.id===n.id||l&&!l(m))continue;const S=ve(n.position,m.position,i.mapDimensions.width,i.mapDimensions.height);S<v&&(v=S,p=m)}return p}function em(n,i,o,s){return i.search[o].byRadius(n,s).length}function Dp(n,i,o){return i.search.human.byRadius(n.position,o).filter(c=>{if(c.id===n.id||c.gender===n.gender||!c.isAdult||c.hunger>=Pt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const d=c.id===n.motherId||c.id===n.fatherId,h=n.id===c.motherId||n.id===c.fatherId;return!d&&!h})}function Ti(n){if(n.length===0)return;const i=n.filter(l=>l.gender==="male"),o=n.filter(l=>l.gender==="female"),s=(l,c)=>l.age!==c.age?c.age-l.age:l.id-c.id;if(i.sort(s),i.length>0)return i[0];if(o.sort(s),o.length>0)return o[0]}function an(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Ht(n,i){const o=n,s=o.search.human.byProperty("motherId",i.id),l=o.search.human.byProperty("fatherId",i.id);return[...s,...l]}function l_(n,i){var d;const s=i.search.human.byProperty("activeAction","attacking");let l=null,c=1/0;for(const h of s){if(h.attackTargetId!==n)continue;const p=ve(h.position,((d=i.entities.entities.get(n))==null?void 0:d.position)||{x:0,y:0},i.mapDimensions.width,i.mapDimensions.height);p<c&&(l=h,c=p)}return l}function tm(n,i,o){var l;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id||n.motherId&&n.motherId===i.motherId||n.fatherId&&n.fatherId===i.fatherId||(l=n.partnerIds)!=null&&l.includes(i.id))return!0;if(n.motherId){const c=o.entities.entities.get(n.motherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(n.fatherId){const c=o.entities.entities.get(n.fatherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(i.motherId){const c=o.entities.entities.get(i.motherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}if(i.fatherId){const c=o.entities.entities.get(i.fatherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}return!1}function pc(n,i){var c,d;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id)return!0;const o=n.motherId===i.motherId||n.fatherId===i.fatherId,s=i.motherId===n.motherId||i.fatherId===n.fatherId,l=((c=n.ancestorIds)==null?void 0:c.some(h=>i.ancestorIds.includes(h)))||((d=i.ancestorIds)==null?void 0:d.some(h=>n.ancestorIds.includes(h)));return o||s||l}function u_(n,i){const o=[];if(n.motherId){const s=i.entities.entities.get(n.motherId);s&&o.push(s)}if(n.fatherId){const s=i.entities.entities.get(n.fatherId);s&&o.push(s)}return o}function c_(n,i){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const s=i.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function d_(n,i){if(!n.isAdult&&n.fatherId){const o=i.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?c_(n,i):null}function Na(n,i){var s;const o=new Set;if(n.motherId){const l=i.entities.entities.get(n.motherId);l&&o.add(l)}if(n.fatherId){const l=i.entities.entities.get(n.fatherId);l&&o.add(l)}return(s=n.partnerIds)==null||s.forEach(l=>{const c=i.entities.entities.get(l);c&&o.add(c)}),Ht(i,n).forEach(l=>o.add(l)),Array.from(o)}let Xu=0;function gc(){const n=mp[Xu];return Xu=(Xu+1)%mp.length,n}function f_(n,i,o){const s=o.mapDimensions.width,l=o.mapDimensions.height,c=i.radius*2;for(let d=pp;d<s/2;d+=50)for(let h=0;h<10;h++){const p=Bc(n,d,s,l);if(!(ve(n,p,s,l)<pp)&&!Ho(p,o,c,i.id))return p}return null}function nm(n,i){const o=new Map;function s(l){const c=Ht(i,l);for(const d of c)o.has(d.id)||(o.set(d.id,d),s(d))}return s(n),Array.from(o.values())}function Hc(n,i){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=i.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=Ti(Ht(i,o));if(s&&s.id===n.id)return{canSplit:!1};const l=xc(n.leaderId,i);if(l.length<hp)return{canSplit:!1};const d=nm(n,i).length+1,h=Math.min(l.length*AS,hp);return{canSplit:d>=h,progress:d/h}}function rm(n,i){if(!Hc(n,i).canSplit)return;const o=gc(),s=nm(n,i);n.leaderId=n.id,n.tribeBadge=o;for(const c of s)c.leaderId=n.id,c.tribeBadge=o;Ve({gameState:i},De.TribeSplit,n.position)}function xc(n,i){return i.search.human.byProperty("leaderId",n)}function Gc(n,i,o,s){return o.search.human.byRadius(n,s).filter(c=>c.leaderId!==i&&c.id!==i)}function h_(n,i,o){const s=o.search.human.byProperty("leaderId",n);let l=0;for(const c of s)c.attackTargetId===i&&l++;return l}function p_(n,i){var c;const o=new Map,s=Array.from(n.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(c=o.get(d.leaderId))==null||c.members.push(d));const l=Array.from(o.values()).map(d=>{const h=n.entities.entities.get(d.leaderId),p=d.members.filter(m=>m.isAdult).length,v=d.members.length-p;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:d.leaderId===i,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return l.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),l}function Up(n){return n.filter(i=>i.isAdult).reduce((i,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,i+s},0)}function im(n){return Array.from(n.entities.entities.values()).filter(i=>i.type==="human")}function Oa(n,i){const o=xc(n,i);if(o.length===0){const l=i.entities.entities.get(n);return l?l.position:{x:0,y:0}}const s=o.map(l=>l.position);return Uc(s)}function Mp(n,i){const s=[...Na(n,i),n].map(l=>l.position);return Uc(s)}function g_(n,i,o,s){const l=i.x-o.width/2,c=i.y-o.height/2,d=l+n.x,h=c+n.y,p=(d%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}const m_={id:Sa,update:(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s,c=s.deltaTime*(Kt/Xt);if(o.age+=c,o.age>=o.lifespan)return{nextState:Do,data:{...n,enteredAt:l.time,previousState:Sa}};const d=Bc(o.position,o.spreadRadius,l.mapDimensions.width,l.mapDimensions.height);return Ho(d,l,15)||ja(l.entities,d,l.time),{nextState:Dr,data:{...n,enteredAt:l.time,previousState:Sa}}},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},v_={id:Do,update:n=>({nextState:Do,data:n}),onEnter:(n,i)=>(Wc(n.updateContext.gameState.entities,n.entity.id),{...i,enteredAt:n.updateContext.gameState.time})},y_=[G1,z1,m_,v_],lt="humanIdle",Or="humanMoving",To="humanEating",Wa="humanGathering",xo="humanProcreating",Ii="humanAttacking",wa="humanPlanting",S_={id:lt,update:(n,i)=>{const{entity:o,updateContext:s}=i;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ii,data:{...n,enteredAt:s.gameState.time,previousState:lt,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=Rc?(o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.activeAction==="moving"?{nextState:Or,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="gathering"?{nextState:Wa,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="eating"?{nextState:To,data:{...n,enteredAt:s.gameState.time,previousState:lt}}:o.activeAction==="planting"&&o.target?{nextState:wa,data:{...n,enteredAt:s.gameState.time,previousState:lt,plantingSpot:o.target}}:{nextState:lt,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};function om(n){let i=Ny;return n.hunger>=Rc&&(i*=Oy),n.age>=Uy&&(i*=My),n.movementSlowdown&&(i*=n.movementSlowdown.modifier),i}const Qu=7.5;class __{constructor(){Ae(this,"id",Or)}update(i,o){var p;const{entity:s,updateContext:l}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Ii,data:{...i,enteredAt:l.gameState.time,previousState:Or,attackTargetId:s.attackTargetId,attackStartTime:l.gameState.time}};if(s.activeAction!=="moving")return{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Or}};let c;if(typeof s.target=="object"?c=s.target:typeof s.target=="number"&&(c=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!c&&(s.direction.x!==0||s.direction.y!==0)&&(c={x:s.position.x+s.direction.x*Qu*2,y:s.position.y+s.direction.y*Qu*2}),!c)return{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Or}};const d=Bt(s.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=Jt(d),s.acceleration=om(s),ve(s.position,c,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<Qu?{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Or}}:{nextState:Or,data:i}}onExit(i){const{entity:o}=i;o.acceleration=0,o.target=void 0}}const E_=new __,A_={id:To,update:(n,i)=>{const{entity:o,updateContext:s}=i;return o.activeAction!=="eating"?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:To}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>Mo&&(o.hunger=Math.max(0,o.hunger-Mo),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,Ve(s,De.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(vt(s.gameState,Te.Eating,o.position,Qt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:To}}:{nextState:To,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};class w_{constructor(){Ae(this,"id",Wa)}update(i,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...i,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:i}}}const T_=new w_,I_=(n,i)=>(i.procreationEndTime=n.updateContext.gameState.time+(i.duration||2),i),C_=(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s;if(l.time<(n.procreationEndTime||0))return{nextState:xo,data:n};const c=l.entities.entities.get(n.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<Pt&&c.hunger<Pt&&!o.procreationCooldown&&!c.procreationCooldown){const d=o.gender==="female"?o:c.gender==="female"?c:void 0,h=o.gender==="male"?o:c.gender==="male"?c:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=Fy,d.fatherId=h.id,o.procreationCooldown=lp,c.procreationCooldown=lp,Ve(s,De.Procreate,d.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:lt,data:{...n,enteredAt:l.time,previousState:xo}}},R_={id:xo,onEnter:I_,update:C_},k_={id:Ii,onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,i)=>{if(i.entity.activeAction!=="attacking"||!i.entity.attackTargetId)return i.entity.activeAction="idle",{nextState:lt,data:{...n}};const o=i.updateContext.gameState.entities.entities.get(i.entity.attackTargetId);if(!o||o.type!=="human")return i.entity.activeAction="idle",{nextState:lt,data:{...n}};const s=ve(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height),l=Bt(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height);return i.entity.direction=Jt(l),s>$a?i.entity.acceleration=om(i.entity):i.entity.acceleration=0,{nextState:Ii,data:n}}},P_={id:wa,update:(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s;if(l.time-n.enteredAt>=nS){if(o.food.filter(h=>h.type===fr.Berry).length>=ka){for(let p=0;p<ka;p++){const v=o.food.findIndex(m=>m.type===fr.Berry);v>-1&&o.food.splice(v,1)}const h=ja(l.entities,n.plantingSpot,l.time);h.ownerId=o.id,h.claimedUntil=l.time+kg}return{nextState:lt,data:{...n,enteredAt:l.time,previousState:wa}}}return{nextState:wa,data:n}},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})},N_=[S_,E_,A_,T_,R_,k_,P_],Lp=[...y_,...N_];function O_(n,i,o){const s=_y(n,Lp);if(!s)return Ay(n),[n,i];const{nextState:l,data:c}=s.update(i,o);return Ey(n,l)?[l,Sy(s,l,c,o,Lp)]:[l,c]}function D_(n,i,o){const{gameState:s}=i,l=o*(Kt/Xt);if(n.isAdult=n.age>=kc,n.isCallingToAttack&&n.callToAttackEndTime&&s.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.movementSlowdown&&s.time>n.movementSlowdown.endTime&&(n.movementSlowdown=void 0),n.hitpoints<n.maxHitpoints){const d=1-n.hunger/100*Zy,h=Qy*d*l;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(go/(Kt/Xt)),n.hunger>F1&&(!n.lastHungerEffectTime||s.time-n.lastHungerEffectTime>Ao*2)&&(vt(s,Te.Hunger,n.position,Ao,n.id),n.lastHungerEffectTime=s.time),n.age+=o/Pg,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=l,n.hunger+=o*((go*By-go)/(Kt/Xt)),(!n.lastPregnantEffectTime||s.time-n.lastPregnantEffectTime>Ao*3)&&(vt(s,Te.Pregnant,n.position,Ao,n.id),n.lastPregnantEffectTime=s.time),n.gestationTime<=0&&(uE(n,n.fatherId,i),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=l,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=l,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=l,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=l,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=l,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===Nc&&(n.radius=yn):n.hunger+=o*((go*Hy-go)/(Kt/Xt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const d=[];if(n.motherId){const h=s.entities.entities.get(n.motherId);h&&d.push(h)}if(n.fatherId){const h=s.entities.entities.get(n.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=Dg&&h.hunger>=zy&&ve(n.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=$y){n.food.pop(),h.hunger=Math.max(0,h.hunger-Mo),n.feedParentCooldownTime=Wy;break}}let c;if(n.hitpoints<=0?c="killed":n.hunger>=qt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Mo)):c="hunger":n.age>=n.maxAge&&(c="oldAge"),c){if(n.leaderId===n.id){const d=Ti(Ht(s,n));d?(d.leaderId=d.id,d.tribeBadge=n.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const p=h;p.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(n.isPlayer){const d=Ti(Ht(s,n));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=c)}lE(s.entities,n.position,n.gender,n.age,n.radius,n.id,s.time,n.food,n.hunger),Wc(s.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function U_(n,i){const o=i.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/jy);const s=Math.floor(Ug*(1-n.decayProgress));n.food.length>s&&n.food.splice(s),n.decayProgress>=1&&n.food.length<=0&&Wc(i.gameState.entities,n.id)}var zc=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(zc||{});function M_(n,i){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;i.gameState.time-o>=Lo&&(n.aiBehaviorTree.execute(n,i,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",i.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function L_(n,i){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(i.gameState.time),n.aiType){case zc.BehaviorTreeBased:default:M_(n,i);break}}function F_(n,i){n.forces.push(vn(n.velocity,-.1));const o=vn(Jt(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(s=>{i.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(n.velocity=vn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(s=>i.gameState.time-s.startTime<s.duration),n.velocity=dr(n.velocity,n.forces.reduce(dr,{x:0,y:0})),Fo(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=dr(n.position,vn(n.velocity,i.deltaTime)),n.position.x=(n.position.x%i.gameState.mapDimensions.width+i.gameState.mapDimensions.width)%i.gameState.mapDimensions.width,n.position.y=(n.position.y%i.gameState.mapDimensions.height+i.gameState.mapDimensions.height)%i.gameState.mapDimensions.height,n.forces=[],n.type==="human"?D_(n,i,i.deltaTime):n.type==="humanCorpse"&&U_(n,i),n.type==="human"&&(!n.isPlayer||i.gameState.autopilotControls.isActive)&&L_(n,i),n.stateMachine&&(n.stateMachine=O_(...n.stateMachine,{entity:n,updateContext:i}))}var M=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(M||{});function Un(n){return Array.isArray(n)?n:[n,""]}class Fe{constructor(i,o,s=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");this.children=i,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(i,o,s){for(const l of this.children){const[c,d]=Un(l.execute(i,o,s));if(c!==M.SUCCESS)return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,c,o.gameState.time,this.depth,d),c}return this.lastStatus=M.SUCCESS,this.name&&s.recordNodeExecution(this.name,M.SUCCESS,o.gameState.time,this.depth,""),M.SUCCESS}}class Ri{constructor(i,o,s=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");Ae(this,"runningChildIndex");this.children=i,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(i,o,s){const l=this.runningChildIndex??0;for(let c=l;c<this.children.length;c++){const d=this.children[c],[h,p]=Un(d.execute(i,o,s));if(h!==M.FAILURE){if(h===M.SUCCESS)return delete this.runningChildIndex,this.lastStatus=M.SUCCESS,this.name&&s.recordNodeExecution(this.name,M.SUCCESS,o.gameState.time,this.depth,p),M.SUCCESS;if(h===M.RUNNING)return this.runningChildIndex=c,this.lastStatus=M.RUNNING,this.name&&s.recordNodeExecution(this.name,M.RUNNING,o.gameState.time,this.depth,p),M.RUNNING}}return delete this.runningChildIndex,this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,M.FAILURE,o.gameState.time,this.depth,""),M.FAILURE}}class ke{constructor(i,o,s=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");this.action=i,this.name=o,this.depth=s}execute(i,o,s){const[l,c]=Un(this.action(i,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,c),l}}class Ee{constructor(i,o,s=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");this.condition=i,this.name=o,this.depth=s}execute(i,o,s){let[l,c]=Un(this.condition(i,o,s));const d=l?M.SUCCESS:M.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,c),d}}class Fp{constructor(i,o,s,l=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");Ae(this,"startTimeKey");this.child=i,this.timeoutDurationHours=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(i,o,s){const l=o.gameState.time;let c=s.get(this.startTimeKey);const[d,h]=Un(this.child.execute(i,o,s));if(d===M.RUNNING){c===void 0&&(s.set(this.startTimeKey,l),c=l);const p=l-c;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=M.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m),this.lastStatus}this.lastStatus=M.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}return c!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}}class Bp{constructor(i,o,s,l=0,c){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");Ae(this,"statusKey");Ae(this,"timestampKey");this.child=i,this.cacheDurationHours=o,this.validityCheck=c,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(i,o,s){const l=o.gameState.time,c=s.get(this.statusKey),d=s.get(this.timestampKey);if(c!==void 0&&d!==void 0){const m=l-d>this.cacheDurationHours,S=this.validityCheck?this.validityCheck(i,o,s):!0;if(!m&&S){const w=(d+this.cacheDurationHours-l).toFixed(2),R=`Cache hit. Status: ${M[c]}. ${w}h left.`;return this.lastStatus=c,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,R),this.lastStatus}}const[h,p]=Un(this.child.execute(i,o,s));(h===M.SUCCESS||h===M.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,l)),this.lastStatus=h;const v=`Cache miss. Child returned ${M[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}}class ki{constructor(i,o,s,l=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");Ae(this,"cooldownKey");this.cooldownDurationHours=i,this.child=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(i,o,s){const l=o.gameState.time,c=s.get(this.cooldownKey);if(this.child.lastStatus===M.RUNNING){const[p,v]=Un(this.child.execute(i,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m)}return this.lastStatus}if(c!==void 0&&l<c){const v=`Cooldown active, ${(c-l).toFixed(2)}h left`;return this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}const[d,h]=Un(this.child.execute(i,o,s));return(d===M.SUCCESS||d===M.RUNNING)&&s.set(this.cooldownKey,l+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}}class ui{constructor(i,o,s,l=0){Ae(this,"name");Ae(this,"lastStatus");Ae(this,"depth");this.child=i,this.behaviorKey=o,this.name=s,this.depth=l;const c=(d,h)=>{d.depth=h,d.children?d.children.forEach(p=>c(p,h+1)):d.child&&c(d.child,h+1)};c(this.child,(this.depth??0)+1)}execute(i,o,s){if(i.isPlayer&&o.gameState.autopilotControls.isActive&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[c,d]=Un(this.child.execute(i,o,s));return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}}function B_(n){return new Fe([new Ee((i,o)=>{const s=i.hunger>=cp,l=i.food.length>0,c=!i.eatingCooldownTime||o.gameState.time>=i.eatingCooldownTime;return[!!(i.isAdult&&s&&l&&c),`${Math.floor(i.hunger-cp)}, ${i.food.length}, ${i.eatingCooldownTime?Math.floor(i.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new ke(i=>(i.direction={x:0,y:0},i.target=void 0,i.activeAction="eating",M.RUNNING),"Eat",n+1)],"Eating",n)}function H_(n){return new Fe([new Ee((i,o,s)=>{if(i.isAdult&&i.hitpoints>i.maxHitpoints*xg||i.isAdult&&i.hunger>fS)return!1;const l=l_(i.id,o.gameState);return l?(s.set("fleeThreat",l),!0):!1},"Should Flee",n+1),new ke((i,o,s)=>{const l=s.get("fleeThreat");if(!l)return M.FAILURE;i.activeAction="moving";const c=Bt(l.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=Jt(c),h=dr(i.position,vn(d,Gg));return i.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},i.direction=d,M.RUNNING},"Execute Flee",n+1)],"Flee",n)}const So="foodSource";function x_(n){const i=new ke((s,l,c)=>{const d=ut(s,l.gameState,"berryBush",void 0,v=>{if(v.food.length===0)return!1;if(!v.ownerId||!v.claimedUntil||l.gameState.time>=v.claimedUntil)return!0;const m=l.gameState.entities.entities.get(v.ownerId);return!m||m.leaderId===s.leaderId?!0:ve(s.position,m.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)>US}),h=ut(s,l.gameState,"humanCorpse",void 0,v=>v.food.length>0);let p=null;if(d&&h){const v=ve(s.position,d.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height),m=ve(s.position,h.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height);p=v<=m?d:h}else p=d||h;return p?(c.set(So,p),[M.SUCCESS,`Found food: ${p.type} at ${p.position.x.toFixed(0)},${p.position.y.toFixed(0)}`]):[M.FAILURE,"No food source found"]},"Find Closest Food Source",n+4),o=new ke((s,l,c)=>{const d=c.get(So);return!d||d.food.length===0?(c.delete(So),[M.FAILURE,"Food source is invalid or depleted"]):ve(s.position,d.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<Ai?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,c.delete(So),[M.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=Mc(s.position,d.position,l.gameState.mapDimensions),[M.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",n+3);return new Fe([new Ee((s,l)=>{const c=s.food.length<s.maxFood,d=s.hunger>oS,h=Ht(l.gameState,s).filter(p=>p.hunger>za);return[(s.isAdult&&c&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",n+1),new Ri([new Fe([new Ee((s,l,c)=>c.has(So),"Has Food Source?",n+2),o],"Continue Gathering Action",n+2),new Fe([new ki(ES,i,"Find Food Source Cooldown",n+3),o],"Find New Food Source and Gather",n+2)],"Perform or Start Gathering",n+1)],"Gather Food",n)}function G_(n){return new ke((i,o,s)=>(i.activeAction="idle",i.direction={x:0,y:0},i.target=void 0,s.set("wanderTarget",void 0),M.SUCCESS),"Idle",n)}const Hp=n=>n.find(i=>(i.procreationCooldown||0)<=0&&i.hunger<Pt&&(i.gender==="female"?!i.isPregnant&&i.age<=wi:!0));function z_(n){const i=new Ee((c,d,h)=>{const p=Dp(c,d.gameState,Ai),v=Hp(p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new ke((c,d,h)=>{var v;const p=h.get("procreationPartner");return p?(c.activeAction="procreating",c.target=void 0,h.delete("procreationPartner"),(v=c.partnerIds)!=null&&v.includes(p.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,p.id]:[p.id]),M.SUCCESS):M.FAILURE},"Start Procreating"),s=new Ee((c,d,h)=>{const p=Dp(c,d.gameState,dS),v=Hp(p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),l=new ke((c,d,h)=>{const p=h.get("procreationPartner");if(!p)return M.FAILURE;if(ve(c.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<Ai)return M.SUCCESS;c.activeAction="moving",c.target=p.id;const m=Bt(c.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return c.direction=Jt(m),M.RUNNING},"Move Towards Partner");return new Fe([new Ee(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<Ly||c.gender==="female"&&c.age>wi),"Is Fertile (age, not pregnant)",n+1),new Ee(c=>c.hunger<Pt,"Is Healthy (hunger)",n+1),new Ee(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new Ee((c,d)=>em(c.position,d.gameState,"berryBush",cS)>=uS,"Is Environment Viable (food)",n+1),new Ee((c,d,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(c.id)&&p.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ve(c.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<DS)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",n+1),new Ri([new Fe([i,o],"Procreate With Immediate Partner",n+2),new ki(yS,new Fe([s,l],"Seek Distant Partner Action",n+3),"Seek Distant Partner Cooldown",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const ci="attackTarget",Nr="homeCenter",Zu=150;function $_(n,i,o){let s,l=1/0;for(const c of Object.values(n.entities.entities))if(c.type==="human"&&c.id!==i.id&&c.hitpoints>0&&c.leaderId!==i.leaderId){const d=ve(i.position,c.position,n.mapDimensions.width,n.mapDimensions.height);d<o&&d<l&&(l=d,s=c)}return s}function W_(n){return new Fe([new Ee((i,o,s)=>{const{gameState:l}=o;if(i.activeAction==="attacking"&&i.attackTargetId){const d=l.entities.entities.get(i.attackTargetId);if(d&&d.hitpoints>0&&ve(i.position,d.position,l.mapDimensions.width,l.mapDimensions.height)<=Zu){if(s.set(ci,d),!s.get(Nr)){const h=i.leaderId?Oa(i.leaderId,l):Na(i,l).length>0?Mp(i,l):i.position;s.set(Nr,h)}return!0}}const c=$_(l,i,Zu);if(c){s.set(ci,c);const d=i.leaderId?Oa(i.leaderId,l):Na(i,l).length>0?Mp(i,l):i.position;return s.set(Nr,d),!0}return s.set(ci,void 0),s.set(Nr,void 0),!1},"Find Attack Target",n+1),new ke((i,o,s)=>{const l=s.get(ci),c=s.get(Nr);if(!l||!c)return M.FAILURE;const{gameState:d}=o;return ve(i.position,c,d.mapDimensions.width,d.mapDimensions.height)>Bg?(i.activeAction="idle",i.attackTargetId=void 0,s.set(ci,void 0),s.set(Nr,void 0),M.FAILURE):l.hitpoints<=0||ve(i.position,l.position,d.mapDimensions.width,d.mapDimensions.height)>Zu?(i.activeAction==="attacking"&&(i.activeAction="idle",i.attackTargetId=void 0),s.set(ci,void 0),s.set(Nr,void 0),M.SUCCESS):(i.activeAction==="attacking"&&i.attackTargetId===l.id||(i.activeAction="attacking",i.attackTargetId=l.id),M.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const j_=(n,i,o)=>{const s=Ht(i.gameState,n).filter(d=>!d.isAdult);if(s.length===0)return M.FAILURE;let l=null,c=za;for(const d of s)d.hunger>=c&&(c=d.hunger,l=d);return l?(o.set("targetChild",l),M.SUCCESS):M.FAILURE},Y_=(n,i,o)=>{const s=o.get("targetChild");return s?ve(n.position,s.position,i.gameState.mapDimensions.width,i.gameState.mapDimensions.height)>Pc?(n.activeAction="moving",n.target=s.id,n.direction=Mc(n.position,s.position,i.gameState.mapDimensions),M.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),M.SUCCESS):M.FAILURE};function V_(n){return new Fe([new Ee(i=>(i.isAdult&&i.food.length>0&&(!i.feedChildCooldownTime||i.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new ke(j_,"Find Hungriest Child",n+1),new ke(Y_,"Move To Child and Feed",n+1)],"Feed Child",n)}function K_(n){return new Fe([new Ee(i=>!i.isAdult&&i.hunger>=za,"Is Hungry Child",n+1),new ke((i,o,s)=>{const l=u_(i,o.gameState);if(l.length===0)return M.FAILURE;const c=ut(i,o.gameState,"human",Gy,d=>l.some(h=>h.id===d.id)&&d.food.length>0);return c?(s.set("targetParent",c),M.SUCCESS):M.FAILURE},"Find Parent With Food",n+1),new ke((i,o,s)=>{const l=s.get("targetParent");if(!l)return M.FAILURE;const c=ve(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.activeAction="idle",c<=Pc?(i.target=void 0,M.SUCCESS):(i.target=l.id,i.activeAction="moving",M.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}const aa="plantingSpot";function X_(n){const i=new ke((s,l,c)=>{const d=c.get(aa);return!d||Ho(d,l.gameState,Fg,s.id)?(c.delete(aa),[M.FAILURE,"Planting spot is invalid or now occupied"]):ve(s.position,d,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)>Ai?(s.activeAction="moving",s.target=d,s.direction=Mc(s.position,d,l.gameState.mapDimensions),[M.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[M.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",n+3),o=new ke((s,l,c)=>{const d=a_(s,l.gameState);return d?(c.set(aa,d),[M.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[M.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",n+3);return new Fe([new Ee(s=>{const l=s.food.filter(d=>d.type===fr.Berry).length>=ka,c=s.hunger<sS;return(s.isAdult&&l&&c)??!1},"Can Plant",n+1),new Ee((s,l)=>{const c=em(s.position,l.gameState,"berryBush",iS),d=Ht(l.gameState,s);return!(d.length===0||c>=d.length*2)},"Has Not Enough Nearby Bushes",n+1),new Ri([new Fe([new Ee((s,l,c)=>c.has(aa),"Has Planting Spot?",n+2),i],"Continue Planting Action",n+2),new ki(_S,o,"Find Planting Spot Cooldown",n+2)],"Perform or Start Planting",n+1)],"Plant Bush",n)}const qu="enemiesNearby";function Q_(n){const i=new Ee(c=>c.id===c.leaderId,"Is Leader?",n+1),o=new Ee(c=>!c.isCallingToAttack,"Is Not Already Calling?",n+1),s=new ke((c,d,h)=>{const p=Gc(c.position,c.id,d.gameState,Hg);return p.length>0?(h.set(qu,p),M.SUCCESS):M.FAILURE},"Find Nearby Enemies",n+1),l=new Ri([new Fe([new Ee((c,d,h)=>{const p=h.get(qu);if(!p||p.length===0)return!1;const v=xc(c.id,d.gameState),m=Up(v),S=Up(p);return m>S*TS},"Is Strong Enough?",n+3),new ke((c,d)=>(c.isCallingToAttack=!0,c.callToAttackEndTime=d.gameState.time+Pa,vt(d.gameState,Te.CallToAttack,c.position,Pa),Ve(d,De.CallToAttack,c.position),c.activeAction="idle",c.target=void 0,M.SUCCESS),"Issue Call to Attack",n+3)],"Attack",n+2),new ke((c,d,h)=>{const p=h.get(qu);if(!p||p.length===0)return M.FAILURE;const v=p.map(O=>O.position),m=Uc(v),S=Bt(m,c.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),w=Jt(S),R=dr(c.position,vn(w,Gg*2));return c.activeAction="moving",c.target={x:(R.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(R.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},c.direction=w,M.SUCCESS},"Retreat",n+2)],"Attack or Retreat",n+2);return new Fe([i,o,s,new ki(IS,l,"Leader Combat Cooldown",n+1)],"Leader Combat Strategy",n)}const Ju="combatTarget",bu="homeCenter";function Z_(n){const i=new Ee(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",n+1),o=new Ee(d=>d.hunger<aS&&d.hitpoints>=d.maxHitpoints*xg,"Is Fit for Combat?",n+1),s=new Ee((d,h)=>{const p=h.gameState.entities.entities.get(d.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),l=new ke((d,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return M.FAILURE;const S=Gc(m.position,m.id,v,hS);if(S.length===0)return M.FAILURE;S.sort((w,R)=>{const O=ve(d.position,w.position,v.mapDimensions.width,v.mapDimensions.height),N=ve(d.position,R.position,v.mapDimensions.width,v.mapDimensions.height);return O-N});for(const w of S)if(h_(m.id,w.id,v)<pS){p.set(Ju,w);const O=Oa(m.id,v);return p.set(bu,O),M.SUCCESS}return M.FAILURE},"Find Best Target",n+1),c=new ke((d,h,p)=>{const v=p.get(Ju),m=p.get(bu);if(!v||!m)return M.FAILURE;const{gameState:S}=h;return ve(d.position,m,S.mapDimensions.width,S.mapDimensions.height)>Bg?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),p.set(Ju,void 0),p.set(bu,void 0),M.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>Qt*5)&&(vt(h.gameState,Te.TargetAcquired,d.position,Qt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,M.RUNNING)},"Attack Target",n+1);return new Fe([i,o,s,l,c],"Tribe Member Combat",n)}function q_(n){const i=new Ee((m,S)=>{if(!m.isAdult||m.gender!=="male")return!1;const w=m.partnerIds&&m.partnerIds.length>0,R=Ht(S.gameState,m).length>0;return w||R},"Is Adult Male With Family?",n+1),o=new Ee((m,S)=>{var O;if(!m.fatherId)return!1;const w=S.gameState.entities.entities.get(m.fatherId);return!w||((O=Ti(Ht(S.gameState,w)))==null?void 0:O.id)===m.id?!1:ve(m.position,w.position,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<vS},"Is Too Close To Father?",n+1),s=new Ee((m,S,w)=>w.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),l=new ke((m,S,w)=>{const R=w.get("territoryMoveTarget"),O=w.get("territoryMoveStartTime");if(!R||!O)return[M.FAILURE,"Missing move data"];if(S.gameState.time-O>gS)return w.delete("territoryMoveTarget"),w.delete("territoryMoveStartTime"),[M.FAILURE,"Territory move timed out"];if(ve(m.position,R,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<Ai)return w.delete("territoryMoveTarget"),w.delete("territoryMoveStartTime"),[M.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const D=Bt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=Jt(D),[M.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),c=new Fe([s,l],"Handle In-Progress Move",n+2),d=new Ee((m,S,w)=>w.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+4),h=new ke((m,S,w)=>{const R=Bc(m.position,S.gameState.mapDimensions.width/4,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);w.set("territoryMoveTarget",R),w.set("territoryMoveStartTime",S.gameState.time),m.activeAction="moving",m.target=R;const O=Bt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=Jt(O),[M.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+4),p=new Fe([d,h],"Start New Territory Move Action",n+3),v=new Ri([c,new ki(SS,p,"Establish Territory Cooldown",n+2)],"Establish or Continue Move",n+1);return new Fe([i,o,v],"Establish Family Territory",n)}function J_(n){return new Fe([new ke((i,o,s)=>{const l=d_(i,o.gameState);return l?(s.set("patriarchTarget",l),[M.SUCCESS,`Found patriarch: ${l.id}`]):(s.delete("patriarchTarget"),[M.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new ke((i,o,s)=>{const l=s.get("patriarchTarget");if(!l)return[M.FAILURE,"Patriarch target missing from blackboard"];const c=ve(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(c>lS){i.activeAction="moving",i.target=l.id;const d=Bt(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.direction=Jt(d),[M.RUNNING,`Moving to patriarch at ${c.toFixed(0)}`]}return i.activeAction="idle",i.target=void 0,i.direction={x:0,y:0},[M.SUCCESS,`Arrived at patriarch at ${c.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}const ec="tribeSplitMigrationTarget";function b_(n){const i=new Fe([new Ee((o,s)=>{const{canSplit:l,progress:c}=Hc(o,s.gameState);return l?[!0,`Progress: ${(c??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",n+2),new ke((o,s,l)=>{const{gameState:c}=s;let d=l.get(ec);if(!d){if(!o.leaderId)return M.FAILURE;const p=Oa(o.leaderId,c),v=f_(p,o,c);if(v)l.set(ec,v),o.activeAction="moving",o.target=v,d=v;else return M.FAILURE}return ve(o.position,d,c.mapDimensions.width,c.mapDimensions.height)<Ai?(l.delete(ec),o.activeAction="idle",o.target=void 0,M.SUCCESS):M.RUNNING},"Move to New Territory",n+2),new ke((o,s)=>(rm(o,s.gameState),M.SUCCESS),"Perform Tribe Split",n+2)],"Tribe Split Action",n+1);return new ki(wS,i,"Tribe Split Cooldown",n)}const la="jealousyAttackTarget";function eE(n){return new Fe([new Ee((i,o,s)=>{const l=r_(i,o.gameState,CS);return l?(s.set(la,l),[!0,`Partner cheating with ${l.id}`]):(s.delete(la),!1)},"Check for Infidelity",n+1),new ke((i,o,s)=>{const l=s.get(la);return!l||l.hitpoints<=0?(s.delete(la),[M.FAILURE,"Target is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking ${l.id}`])},"Execute Jealousy Attack",n+1)],"Jealousy Attack",n)}const ua="defendAggressor";function tE(n){return new Fe([new Ee((i,o,s)=>{const l=o_(i,o.gameState,RS);return l?(s.set(ua,l.aggressor),[!0,`Family member ${l.familyMember.id} attacked by ${l.aggressor.id}`]):(s.delete(ua),!1)},"Check Family Under Attack",n+1),new ke((i,o,s)=>{const l=s.get(ua);return!l||l.hitpoints<=0?(s.delete(ua),[M.FAILURE,"Target invalid/dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking aggressor ${l.id}`])},"Execute Family Defense Attack",n+1)],"Defend Family",n)}const ca="bushIntruder";function nE(n){return new Fe([new Ee((i,o,s)=>{const l=i_(i,o.gameState,kS);return l?(s.set(ca,l),[!0,`Intruder ${l.id} stealing berries`]):(s.delete(ca),!1)},"Check For Intruders on Bushes",n+1),new ke((i,o,s)=>{const l=s.get(ca);return!l||l.hitpoints<=0?(s.delete(ca),[M.FAILURE,"Intruder is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking intruder ${l.id}`])},"Execute Bush Defense Attack",n+1)],"Defend Claimed Bush",n)}const da="desperateAttackTarget";function rE(n){return new Fe([new Ee(i=>i.hunger>PS,"Is Starving",n+1),new Ee((i,o)=>{const s=ut(i,o.gameState,"berryBush",ct,c=>c.food.length>0),l=ut(i,o.gameState,"humanCorpse",ct,c=>c.food.length>0);return!s&&!l},"No Other Food Available",n+1),new Ee((i,o,s)=>{const l=s_(i,o.gameState);return l?(s.set(da,l),[!0,`Found weak target ${l.id}`]):(s.delete(da),!1)},"Find Weak Target",n+1),new ke((i,o,s)=>{const l=s.get(da);return!l||l.hitpoints<=0?(s.delete(da),[M.FAILURE,"Target is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Desperately attacking ${l.id}`])},"Execute Desperate Attack",n+1)],"Desperate Attack",n)}function iE(n){return new Fe([new Ee((i,o)=>i.isPlayer===!0&&o.gameState.autopilotControls.isActive,"Is Autopilot Active?",n+1),new Ee((i,o)=>[!!o.gameState.autopilotControls.autopilotMoveTarget,`Target: ${JSON.stringify(o.gameState.autopilotControls.autopilotMoveTarget)}`],"Has Autopilot Move Target",n+1),new ke((i,o)=>{const s=o.gameState.autopilotControls.autopilotMoveTarget;return s?(i.activeAction="moving",i.target=s,[M.SUCCESS,`Set target to ${s.x.toFixed(0)},${s.y.toFixed(0)}`]):[M.FAILURE,"Target disappeared unexpectedly"]},"Set Autopilot Move Action",n+1),new ke((i,o)=>{const s=o.gameState.autopilotControls.autopilotMoveTarget;if(!s)return i.activeAction==="moving"&&(i.activeAction="idle"),[M.SUCCESS,"Target cleared externally"];const l=ve(i.position,s,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return l<MS?(o.gameState.autopilotControls.autopilotMoveTarget=void 0,i.target=void 0,i.activeAction==="moving"&&(i.activeAction="idle"),[M.SUCCESS,"Arrived at autopilot target"]):[M.RUNNING,`Moving to target, ${l.toFixed(0)}px away`]},"Check Arrival at Autopilot Target",n+1)],"Autopilot Move To Target",n)}function oE(){return new Ri([H_(1),tE(1),eE(1),nE(1),rE(1),iE(1),new ui(Q_(2),"callToAttack","Gated Leader Combat",1),Z_(1),new ui(W_(2),"attack","Gated Attacking",1),B_(1),new ui(new Fp(x_(3),dp,"Timeout Gathering",2),"gathering","Gated Gathering",1),new ui(V_(2),"feedChildren","Gated Feed Child",1),K_(1),new ui(new Fp(X_(3),dp,"Timeout Planting",2),"planting","Gated Planting",1),new ui(z_(2),"procreation","Gated Procreation",1),new Bp(b_(2),fp,"Cache Tribe Split",1),new Bp(q_(2),fp,"Cache Establish Territory",1),J_(1),G_(1)],"Human Behavior",0)}class sE{constructor(){Ae(this,"data",new Map);Ae(this,"nodeExecutionData",new Map)}set(i,o){this.data.set(i,o)}get(i){return this.data.get(i)}delete(i){this.data.delete(i)}has(i){return this.data.has(i)}recordNodeExecution(i,o,s,l,c){const d=this.nodeExecutionData.get(i)||{lastExecuted:0,status:M.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Lo&&d.executionHistory.push({time:h.time+Lo,status:M.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const p=Vg/Xt*Kt,v=s-p;d.executionHistory=d.executionHistory.filter(S=>S.time>=v);const m={...d,lastExecuted:s,status:o,depth:l,debugInfo:c};this.nodeExecutionData.set(i,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(i){const o=mS,s=[];for(const[l,c]of this.nodeExecutionData.entries())i-c.lastExecuted>o&&s.push(l);for(const l of s)this.nodeExecutionData.delete(l)}}function aE(n){n.gameState.entities.entities.forEach(o=>{F_(o,n)})}function sm(){return{entities:new Map,nextEntityId:1}}function $c(n,i,o){const s={id:n.nextEntityId++,type:i,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(s.id,s),s}function ja(n,i,o){return $c(n,"berryBush",{position:i,radius:hc,food:Array.from({length:Ty},()=>({type:fr.Berry})).map(l=>({...l,id:n.nextEntityId++})),maxFood:wy,lifespan:Cy,age:0,spreadChance:Ry,spreadRadius:hc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Co,{enteredAt:o,previousState:void 0}]})}function Da(n,i,o,s,l=!1,c=Dy,d=Og,h,p,v=[],m,S){const w=c>=kc;return $c(n,"human",{position:i,radius:w?yn:Nc,hunger:d,hitpoints:up,maxHitpoints:up,age:c,gender:s,isPlayer:l,food:[],maxFood:Ng,maxAge:Uo,isAdult:w,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[lt,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:S,aiType:zc.BehaviorTreeBased,aiBehaviorTree:oE(),aiBlackboard:new sE})}function lE(n,i,o,s,l,c,d,h,p){return $c(n,"humanCorpse",{position:i,radius:l,gender:o,age:s,originalHumanId:c,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(Ug*Math.max(Pt-p,0)/Pt,1)},()=>({type:fr.Meat})),...h].map(m=>({...m,id:n.nextEntityId++})),stateMachine:void 0})}function uE(n,i,o){const s=i?o.gameState.entities.entities.get(i):void 0,l=[...n.ancestorIds||[],n.id],c=s?[...s.ancestorIds||[],s.id]:[],d=[...l,...c],h=[...new Set(d)],p=h.slice(Math.max(h.length-ky,0)),v=Math.random()<.5?"male":"female",m=dr(n.position,{x:5,y:5}),S=Da(o.gameState.entities,m,o.gameState.time,v,!1,0,Og/2,n.id,i,p,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return Ve(o,De.Birth,n.position),S}function Wc(n,i){return n.entities.get(i)?(n.entities.delete(i),!0):!1}class cE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(i,o){let s=this.length++;for(;s>0;){const l=s-1>>1,c=this.values[l];if(o>=c)break;this.ids[s]=this.ids[l],this.values[s]=c,s=l}this.ids[s]=i,this.values[s]=o}pop(){if(this.length===0)return;const i=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],l=this.length>>1;let c=0;for(;c<l;){let d=(c<<1)+1;const h=d+1;let p=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,p=this.ids[h],v=m),v>=s)break;this.ids[c]=p,this.values[c]=v,c=d}this.ids[c]=o,this.values[c]=s}return i}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const xp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],tc=3;class jc{static from(i,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!i||i.byteLength===void 0||i.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,l]=new Uint8Array(i,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=l>>4;if(c!==tc)throw new Error(`Got v${c} data when expected v${tc}.`);const d=xp[l&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(i,o+2,1),[p]=new Uint32Array(i,o+4,1);return new jc(p,h,d,void 0,i,o)}constructor(i,o=16,s=Float64Array,l=ArrayBuffer,c,d=0){if(i===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(i)||i<=0)throw new Error(`Unexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=i,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=xp.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,d+8,p*4),this._indices=new this.IndexArrayType(this.data,d+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new l(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(tc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=i),this._queue=new cE}add(i,o,s=i,l=o){const c=this._pos>>2,d=this._boxes;return this._indices[c]=c,d[this._pos++]=i,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=l,i<this.minX&&(this.minX=i),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),l>this.maxY&&(this.maxY=l),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const i=this._boxes;if(this.numItems<=this.nodeSize){i[this._pos++]=this.minX,i[this._pos++]=this.minY,i[this._pos++]=this.maxX,i[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,l=new Uint32Array(this.numItems),c=65535;for(let d=0,h=0;d<this.numItems;d++){const p=i[h++],v=i[h++],m=i[h++],S=i[h++],w=Math.floor(c*((p+m)/2-this.minX)/o),R=Math.floor(c*((v+S)/2-this.minY)/s);l[d]=fE(w,R)}mc(l,i,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const p=this._levelBounds[d];for(;h<p;){const v=h;let m=i[h++],S=i[h++],w=i[h++],R=i[h++];for(let O=1;O<this.nodeSize&&h<p;O++)m=Math.min(m,i[h++]),S=Math.min(S,i[h++]),w=Math.max(w,i[h++]),R=Math.max(R,i[h++]);this._indices[this._pos>>2]=v,i[this._pos++]=m,i[this._pos++]=S,i[this._pos++]=w,i[this._pos++]=R}}}search(i,o,s,l,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],p=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,zp(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||l<this._boxes[m+1]||i>this._boxes[m+2]||o>this._boxes[m+3])continue;const S=this._indices[m>>2]|0;d>=this.numItems*4?h.push(S):(c===void 0||c(S))&&p.push(S)}d=h.pop()}return p}neighbors(i,o,s=1/0,l=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,p=[],v=l*l;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,zp(d,this._levelBounds));for(let S=d;S<m;S+=4){const w=this._indices[S>>2]|0,R=Gp(i,this._boxes[S],this._boxes[S+2]),O=Gp(o,this._boxes[S+1],this._boxes[S+3]),N=R*R+O*O;N>v||(d>=this.numItems*4?h.push(w<<1,N):(c===void 0||c(w))&&h.push((w<<1)+1,N))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),p}}function Gp(n,i,o){return n<i?i-n:n<=o?0:n-o}function zp(n,i){let o=0,s=i.length-1;for(;o<s;){const l=o+s>>1;i[l]>n?s=l:o=l+1}return i[o]}function mc(n,i,o,s,l,c){if(Math.floor(s/c)>=Math.floor(l/c))return;const d=n[s+l>>1];let h=s-1,p=l+1;for(;;){do h++;while(n[h]<d);do p--;while(n[p]>d);if(h>=p)break;dE(n,i,o,h,p)}mc(n,i,o,s,p,c),mc(n,i,o,p+1,l,c)}function dE(n,i,o,s,l){const c=n[s];n[s]=n[l],n[l]=c;const d=4*s,h=4*l,p=i[d],v=i[d+1],m=i[d+2],S=i[d+3];i[d]=i[h],i[d+1]=i[h+1],i[d+2]=i[h+2],i[d+3]=i[h+3],i[h]=p,i[h+1]=v,i[h+2]=m,i[h+3]=S;const w=o[s];o[s]=o[l],o[l]=w}function fE(n,i){let o=n^i,s=65535^o,l=65535^(n|i),c=n&(i^65535),d=o|s>>1,h=o>>1^o,p=l>>1^s&c>>1^l,v=o&l>>1^c>>1^c;o=d,s=h,l=p,c=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&l>>2^s&c>>2,v^=s&l>>2^(o^s)&c>>2,o=d,s=h,l=p,c=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&l>>4^s&c>>4,v^=s&l>>4^(o^s)&c>>4,o=d,s=h,l=p,c=v,p^=o&l>>8^s&c>>8,v^=s&l>>8^(o^s)&c>>8,o=p^p>>1,s=v^v>>1;let m=n^i,S=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,(S<<1|m)>>>0}function nc(n,i){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new jc(n.length),s=new Map;for(const c of n)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(h=>n[h])},byRadius(c,d){return o.neighbors(c.x,c.y,void 0,d).map(p=>n[p])},byProperty(c,d){var h;if(!s.has(c)){const p=new Map;for(const v of n){const m=v[c];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(c,p)}return((h=s.get(c))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function Yc(n){const i=Array.from(n.entities.entities.values()),o=i.filter(d=>d.type==="human"),s=i.filter(d=>d.type==="berryBush"),l=i.filter(d=>d.type==="humanCorpse");return{...n,search:{human:nc(o),berryBush:nc(s),humanCorpse:nc(l)}}}var lr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(lr||{}),Go=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(Go||{}),Et=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(Et||{});const hE=[{key:lr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:lr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,i)=>i.hunger>Py,isCompleted:!1,minDisplayTime:Rp,highlightedUIElements:[Go.HUNGER_BAR]},{key:lr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,i)=>!!ut(i,n,"berryBush",ct*5,s=>s.food.length>0),getTargets:(n,i)=>{const o=[];for(const s of n.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ve(i.position,s.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Rp},{key:lr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,i)=>i.food.length>0,getTargets:(n,i)=>{const o=ut(i,n,"berryBush",ct,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:lr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,i)=>i.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Go.FOOD_BAR]},{key:lr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,i)=>Ht(n,i).length>0,getTargets:(n,i)=>{const o=ut(i,n,"human",ct,s=>{const l=s;return(l.id!==i.id&&l.gender!==i.gender&&l.isAdult&&i.isAdult&&l.hunger<Pt&&i.hunger<Pt&&(l.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(l.gender==="female"?!l.isPregnant&&l.age<=wi:!i.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:lr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,i)=>Jg(n,i).some(s=>s.type===ot.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function am(){return{steps:hE.map(n=>({...n,isCompleted:!1}))}}function lm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Et.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function pE(n){for(let i=0;i<n.tutorial.steps.length;i++){const o=n.tutorial.steps[i];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return i}else return i}return null}function gE(n,i){const o=n.tutorialState;if(!o.isActive){o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=an(n);if(!s){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=n.tutorial.steps[o.currentStepIndex];if(!l){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/O1;switch(o.transitionState){case Et.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=c*i,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Et.ACTIVE);break;case Et.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(l.minDisplayTime||0)&&l.condition(n,s)||n.autopilotControls.isActive)&&(l.isCompleted=!0,o.completedSteps.add(l.key),o.transitionState=Et.FADING_OUT);break}case Et.FADING_OUT:if(o.transitionAlpha-=c*i,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=pE(n);h!==null?(o.currentStepIndex=h,o.transitionState=Et.FADING_IN):(o.isActive=!1,o.transitionState=Et.INACTIVE)}break}o.transitionState!==Et.FADING_OUT&&o.transitionState!==Et.INACTIVE?(l.getTargets?o.highlightedEntityIds=new Set(l.getTargets(n,s)):o.highlightedEntityIds.clear(),l.highlightedUIElements?o.activeUIHighlights=new Set(l.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function mE(){const n=sm(),i=0;for(let m=0;m<Rg;m++){const S={x:Math.random()*Mr,y:Math.random()*Lr};ja(n,S,i)}const o=Mr/2,s=Lr/2,l=Da(n,{x:o,y:s},i,"male",!0);Da(n,{x:o+50,y:s},i,"female",!1);const c=[{id:"autopilotButton",action:_e.ToggleAutopilot,currentWidth:Ro,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ea},{id:"muteButton",action:_e.ToggleMute,currentWidth:Ro,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ea},{id:"pauseButton",action:_e.TogglePause,currentWidth:Ro,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ea}],d=am(),h=lm(),p={time:i,entities:n,mapDimensions:{width:Mr,height:Lr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...l.position},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!1,gathering:!0,attack:!1,callToAttack:!1,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:Xg,isMuted:!1,uiButtons:c,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},v=Yc(p);return console.log("Game world initialized:",v),v}function vE(){const n=sm(),i=0;for(let c=0;c<Rg;c++){const d={x:Math.random()*Mr,y:Math.random()*Lr};ja(n,d,i)}for(let c=0;c<H1;c++){const d={x:Math.random()*Mr,y:Math.random()*Lr},h=Math.random()<.5?"male":"female";Da(n,d,i,h,!1)}const o=am(),s=lm(),l={time:i,entities:n,mapDimensions:{width:Mr,height:Lr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Mr/2,y:Lr/2},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0,gathering:!0,attack:!1,callToAttack:!0,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:Xg,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return Yc(l)}const yE="humanProcreation",SE="human",_E="human",EE=ct,AE=(n,i)=>{if(n.id===i.id||n.gender===i.gender)return!1;const o=(s,l)=>s.isAdult&&s.hunger<Pt&&(s.procreationCooldown||0)<=0?l?!s.isPregnant&&s.age<=wi:!0:!1;return n.gender==="male"?!o(n,!1)||!o(i,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(i,!1)?!1:n.activeAction==="procreating"&&i.activeAction==="procreating"},wE=(n,i,o)=>{var p,v;const{gameState:s}=o,l={x:(n.position.x+i.position.x)/2,y:(n.position.y+i.position.y)/2},c=n.gender==="male"?n:i,d=n.gender==="female"?n:i,h=(c.partnerIds||[]).length===0;if(n.stateMachine=[xo,{partnerId:i.id,previousState:(p=n.stateMachine)==null?void 0:p[0]}],i.stateMachine=[xo,{partnerId:n.id,previousState:(v=i.stateMachine)==null?void 0:v[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(i.id)||n.partnerIds.push(i.id),i.partnerIds||(i.partnerIds=[]),i.partnerIds.includes(n.id)||i.partnerIds.push(n.id),h&&c.leaderId&&c.leaderId!==c.id){const m=s.entities.entities.get(c.leaderId);if(m){const S=pc(c,m),w=pc(d,m);if(!S&&!w){const R=gc();c.leaderId=c.id,c.tribeBadge=R,d.leaderId=c.id,d.tribeBadge=R}}}else if(!n.leaderId&&!i.leaderId&&c&&d){const m=gc();c.leaderId=c.id,c.tribeBadge=m,d.leaderId=c.id,d.tribeBadge=m}n.activeAction=void 0,vt(s,Te.Procreation,l,Ao),vt(s,Te.Partnered,n.position,Qt,n.id),vt(s,Te.Partnered,i.position,Qt,i.id),n.lastPartneredEffectTime=s.time,i.lastPartneredEffectTime=s.time,i.activeAction=void 0,Ve(o,De.Procreate,l)},TE={id:yE,sourceType:SE,targetType:_E,maxDistance:EE,checker:AE,perform:wE},IE={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Pc,checker:(n,i)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&i.isAdult===!1&&(i.motherId===n.id||i.fatherId===n.id)&&i.hunger>=za,perform:(n,i,o)=>{n.food.pop(),i.hunger=Math.max(0,i.hunger-Mo),n.feedChildCooldownTime=xy,(!i.lastChildFedEffectTime||o.gameState.time-i.lastChildFedEffectTime>2)&&(vt(o.gameState,Te.ChildFed,i.position,Qt,i.id),i.lastChildFedEffectTime=o.gameState.time),Ve(o,De.ChildFed,i.position)}},CE={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:$a,checker:(n,i,o)=>{var c;if(((c=n.stateMachine)==null?void 0:c[0])!==Ii||n.attackTargetId!==i.id||(n.attackCooldown||0)>0)return!1;const s=n.stateMachine[1];return o.gameState.time-s.attackStartTime>=Mg},perform:(n,i,o)=>{const s=Bt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),l=j1(Jt(s),i.direction);if(Math.abs(l)<eS*Math.PI/180&&Math.random()<tS)vt(o.gameState,Te.AttackDeflected,i.position,Qt,i.id);else{let h=Yy;n.gender==="male"&&(h*=qy),n.isAdult||(h*=Jy),(!i.isAdult||i.age>=Dg)&&n.isAdult&&(h*=by),i.hitpoints-=h,i.movementSlowdown={modifier:Ky,endTime:o.gameState.time+Xy},vt(o.gameState,Te.Hit,i.position,Qt,i.id);const v=Bt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=vn(v,Vy);i.forces.push(m),i.hitpoints<=0?Ve(o,De.HumanDeath,i.position):Ve(o,De.Attack,n.position)}n.attackCooldown=Lg;const d=n.stateMachine[1];d.attackStartTime=o.gameState.time,vt(o.gameState,Te.Attack,n.position,Qt,n.id)}},RE={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:yn*2,checker:(n,i,{gameState:o})=>ve(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+i.radius)/3,perform:(n,i,{gameState:o})=>{const s=ve(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){n.forces.push({x:.1,y:0}),i.forces.push({x:-.1,y:0});return}const c=(n.radius+i.radius-s)*.05,d=Jt($1(n.position,i.position)),h=vn(d,c);n.forces.push(h),i.forces.push(vn(h,-1))}},kE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ct,checker:(n,i,o)=>{var s;return n.isAdult&&i.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Wa&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const s=i.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,i.timeSinceLastHarvest=o.gameState.time,i.ownerId=n.id,i.claimedUntil=o.gameState.time+kg,vt(o.gameState,Te.BushClaimed,i.position,Qt),Ve(o,De.Gather,n.position)}},PE={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ct,checker:(n,i,o)=>{var s;return n.isAdult&&i.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Wa&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const s=i.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,Ve(o,De.Gather,n.position)}},NE=[kE,PE],OE=[RE,...NE,TE,IE,CE];function DE(n){const{gameState:i}=n,o=i,s=Array.from(i.entities.entities.values());for(const l of OE)for(const c of s){if(l.sourceType&&c.type!==l.sourceType)continue;const d=o.search[l.targetType].byRadius(c.position,l.maxDistance);for(const h of d){if(c.id===h.id)continue;ve(c.position,h.position,i.mapDimensions.width,i.mapDimensions.height)<=l.maxDistance&&l.checker(c,h,n)&&l.perform(c,h,n)}}}function UE(n){n.visualEffects=n.visualEffects.filter(i=>n.time-i.startTime<=i.duration)}const ME=1/60;function LE(n,i){const o=an(n);o&&(n.viewportCenter=Dc(n.viewportCenter,o.position,Cc*i))}function vc(n,i){if(n.isPaused)return n;for(;i>0;){const o=Yc(n),s=Math.min(i,ME);if(o.gameOver)return o;const l=s*(Kt/Xt);o.time+=l,LE(o,s),aE({gameState:o,deltaTime:s}),DE({gameState:o,deltaTime:s}),UE(o),gE(o,s),n=o,i-=s}return n}function $p(n,i,o){n.save();const{x:s,y:l,width:c,height:d}=i.rect,h=u1;n.fillStyle=i.backgroundColor,n.beginPath(),n.moveTo(s+h,l),n.lineTo(s+c-h,l),n.quadraticCurveTo(s+c,l,s+c,l+h),n.lineTo(s+c,l+d-h),n.quadraticCurveTo(s+c,l+d,s+c-h,l+d),n.lineTo(s+h,l+d),n.quadraticCurveTo(s,l+d,s,l+d-h),n.lineTo(s,l+h),n.quadraticCurveTo(s,l,s+h,l),n.closePath(),n.fill(),o&&(n.fillStyle=c1,n.globalAlpha=.5,n.fill(),n.globalAlpha=1),n.fillStyle=i.textColor,i.icon?(n.font=`${d*.55}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(i.icon,s+c/2,l+d/2),i.text&&(n.font=`${d*.18}px "Press Start 2P", Arial`,n.textAlign="right",n.textBaseline="bottom",n.fillText(i.text,s+c-4,l+d-2))):(n.textAlign="center",n.textBaseline="middle",n.fillText(i.text,s+c/2,l+d/2)),n.restore()}function FE(n,i,o,s){n.save(),n.font=`${_p}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="bottom";const c=n.measureText(o).width,d=_p,h=c+Ep*2,p=d+Ep*2,v=s.x-h/2,m=n.canvas.height,S=i.y<m/2?i.y+i.height-Ap:i.y-p+Ap;n.fillStyle=d1,n.fillRect(v,S,h,p),n.fillStyle=f1,n.fillText(o,s.x,S+p/2+d/2),n.restore()}function BE(n,i,o){if(n.uiButtons=n.uiButtons.filter(s=>![_e.ToggleProcreationBehavior,_e.TogglePlantingBehavior,_e.ToggleGatheringBehavior,_e.ToggleAttackBehavior,_e.ToggleCallToAttackBehavior,_e.ToggleFeedChildrenBehavior].includes(s.action)),n.autopilotControls.isActive){const s=[{key:"gathering",action:_e.ToggleGatheringBehavior,emoji:ot.GatherFood,shortcut:"G",name:"Gathering"},{key:"attack",action:_e.ToggleAttackBehavior,emoji:ot.Attack,shortcut:"Q",name:"Attack"},{key:"callToAttack",action:_e.ToggleCallToAttackBehavior,emoji:ot.CallToAttack,shortcut:"V",name:"Call to Attack"},{key:"procreation",action:_e.ToggleProcreationBehavior,emoji:ot.Procreate,shortcut:"R",name:"Procreation"},{key:"planting",action:_e.TogglePlantingBehavior,emoji:ot.PlantBush,shortcut:"B",name:"Planting"},{key:"feedChildren",action:_e.ToggleFeedChildrenBehavior,emoji:ot.FeedChildren,shortcut:"H",name:"Feed Children"}],l=3,c=2,d=l*Pr+(l-1)*oa,h=c*Pr+(c-1)*oa,p=(i-d)/2,v=o-h-20;s.forEach((m,S)=>{const w=S%l,R=Math.floor(S/l),O=p+w*(Pr+oa),N=v+R*(Pr+oa),T=n.autopilotControls.behaviors[m.key],D={id:`toggle${m.name}Button`,action:m.action,rect:{x:O,y:N,width:Pr,height:Pr},icon:Zg[m.emoji],text:m.shortcut,backgroundColor:T?Aa:_a,textColor:Ea,currentWidth:Pr,tooltip:`${m.name}: ${T?"ON":"OFF"}`};n.uiButtons.push(D)})}}function HE(n,i,o){n.save(),n.textAlign="right";let s=o-kt;const l=i.uiButtons.find(p=>p.action===_e.ToggleAutopilot);l&&(l.text="AUT[O]",l.backgroundColor=i.autopilotControls.isActive?Aa:_a,l.tooltip=`Toggle Autopilot (${i.autopilotControls.isActive?"ON":"OFF"})`);const c=i.uiButtons.find(p=>p.action===_e.ToggleMute);c&&(c.text=i.isMuted?"UN[M]UTE":"[M]UTE",c.backgroundColor=i.isMuted?Aa:_a,c.tooltip=`Toggle Sound (${i.isMuted?"Muted":"Enabled"})`);const d=i.uiButtons.find(p=>p.action===_e.TogglePause);d&&(d.text=i.isPaused?"UN[P]AUSE":"[P]AUSE",d.backgroundColor=i.isPaused?Aa:_a,d.currentWidth=i.isPaused?Ro*1.4:Ro*1.1,d.tooltip=i.isPaused?"Resume Game":"Pause Game"),BE(i,o,n.canvas.height),i.uiButtons.filter(p=>p.action===_e.ToggleAutopilot||p.action===_e.ToggleMute||p.action===_e.TogglePause).forEach(p=>{const v=kt,m=s-p.currentWidth;p.rect={x:m,y:v,width:p.currentWidth,height:a1},$p(n,p,i.hoveredButtonId===p.id),s-=p.currentWidth+l1}),i.uiButtons.filter(p=>[_e.ToggleProcreationBehavior,_e.TogglePlantingBehavior,_e.ToggleGatheringBehavior,_e.ToggleAttackBehavior,_e.ToggleCallToAttackBehavior,_e.ToggleFeedChildrenBehavior].includes(p.action)).forEach(p=>{$p(n,p,i.hoveredButtonId===p.id)});const h=i.hoveredButtonId?i.uiButtons.find(p=>p.id===i.hoveredButtonId):void 0;h&&h.tooltip&&i.mousePosition&&FE(n,h.rect,h.tooltip,i.mousePosition),n.restore()}function xE(n){n.save(),n.fillStyle=w1,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=T1,n.font=`${I1}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const GE=25,zE=0,Wp=28;function $E(n,i,o,s,l,c,d,h,p){n.save();const v=i.x-d.x+h/2,m=i.y-d.y+p/2;n.strokeStyle=s,n.lineWidth=c,n.setLineDash(l),n.beginPath(),n.arc(v,m,o+Yg,0,2*Math.PI),n.stroke(),n.restore()}function WE(n,i,o,s,l,c){if(i.length===0)return;n.save(),i.forEach(m=>{m.targetEntity&&$E(n,m.targetEntity.position,m.targetEntity.radius,BS,HS,2,s,l,c)}),n.font=`${gp}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const d=o.position.x-s.x+l/2,h=o.position.y-s.y+c/2;let p=0,v={};i.forEach(m=>{const S=Zg[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const w=m.targetEntity.position.x-s.x+l/2,R=m.targetEntity.position.y-s.y+c/2,O=`${S}${m.key.toUpperCase()}`,N=R-m.targetEntity.radius-Yg-gp/2-(v[m.targetEntity.id]-1)*Wp;n.fillText(O,w,N)}else{n.textAlign="left";const w=`${S}${m.key.toUpperCase()}`,R=d+GE,N=h+zE+p*Wp;n.fillText(w,R,N),p++,n.textAlign="center"}}),n.restore()}const oe=(n,i,o,s,l,c,d)=>{c==="transparent"||s<=0||l<=0||(n.fillStyle=c,n.fillRect(Math.floor(i*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(l*d)))},jp=10,Yp=10,pn=6,On=4,fa=2,jE=5,Vt=4,YE=2,gt=4,VE=2,$e=3,di=2,ur=0,Po=ur+On-1,_t=Po,Qe=Po+Vt-1,KE="rgba(0, 0, 0, 0.4)",XE=4,QE=1,Vc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,i,o,s,l,c,d,h="male",p=20,v=[1,0],m=!1,S=0){const w=["dead","stunned"].includes(d),R=w?Yp+4:jp,O=w?jp+4:Yp+$e,N=.15,T=Math.min(s*(1-2*N)/R,l*(1-2*N)/O),D=R*T,k=O*T,z=i+(s-D)/2,W=o+(l-k)/2;n.save(),v[0]<0&&!w?(n.translate(z+D,W),n.scale(-1,1)):n.translate(z,W);const L="#D09A5A",x=p>50?"#BDBDBD":"#281808",b="#7F5C4A",pe="#6B4F3A",Ge="#E0D8C0",Je="#A0522D",Ue=1-Math.max(0,Math.min(100,S))/100*.2,Me=h==="male"?1.1:.9,Se=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Ie=jE*Ue*Me*Se,de=YE*Ue*Me*Se,se=VE*Ue*Se;m&&h==="female"&&(Ie*=1.5);const $=Math.round((R-Ie)/2),V=Math.round((R-pn)/2),j=$-de,A=$+Ie,U=1,re=$+(Ie/2-U/2)-se,ee=$+(Ie/2+U/2),ge=v[1]<-.2&&Math.abs(v[0])<.7,ae=X=>{n.fillStyle=KE,n.beginPath();const ie=R/2,Re=X;n.ellipse(Math.floor(ie*T),Math.floor(Re*T),Math.max(1,Math.floor(XE*T)),Math.max(1,Math.floor(QE*T)),0,0,2*Math.PI),n.fill()},fe=(X,ie)=>{h==="male"?(oe(n,$,Po+X,Ie,Vt-di,ie,T),oe(n,$,Po+Vt-di+X,Ie,di,b,T)):oe(n,$,Po+X,Ie,Vt,pe,T)},ce=(X,ie)=>{ge?oe(n,V,ur+X,pn,On,x,T):(oe(n,V,ur+X,pn,On,ie,T),oe(n,V,ur+X,pn,fa,x,T),h==="female"?(oe(n,V-1,ur+fa+X,1,On,x,T),oe(n,V+pn,ur+fa+X,1,On,x,T)):oe(n,V+1,ur+2+X,pn-2,On-2,x,T))};switch(d){case"idle":{const X=c*Math.PI*2,ie=Math.sin(X)*.5,ue=(Math.cos(X*2)+1)*.25;ae(Qe+$e+1),oe(n,re+ie,Qe+ue,se,$e,L,T),oe(n,ee-ie,Qe+ue,se,$e,L,T),fe(ue,L),oe(n,j,_t+ue,de,gt,L,T),oe(n,A,_t+ue,de,gt,L,T),ce(ue,L);break}case"walk":{const X=c*Math.PI*2,ie=Math.sin(X)*2,ue=Math.abs(Math.cos(X))*1;ae(Qe+$e+1),oe(n,re+ie,Qe+ue,se,$e,L,T),oe(n,ee-ie,Qe+ue,se,$e,L,T),fe(ue,L),oe(n,j-ie,_t+ue,de,gt,L,T),oe(n,A+ie,_t+ue,de,gt,L,T),ce(ue,L);break}case"gathering":{const X=c*Math.PI*2,ie=1,Re=(Math.sin(X)+1)/2*2,ue=ie+Math.abs(Math.cos(X))*.5;ae(Qe+$e+1),oe(n,re,Qe+ue,se,$e-ie,L,T),oe(n,ee,Qe+ue,se,$e-ie,L,T),fe(ue,L),oe(n,j+1,_t+ue-Re,de,gt,L,T),oe(n,A-1,_t+ue-Re,de,gt,L,T),ce(ue,L);break}case"eat":{ae(Qe+$e+1),oe(n,re,Qe+1,se,$e-1,L,T),oe(n,ee,Qe+1,se,$e-1,L,T),fe(1,L);const Re=(Math.sin(c*Math.PI*4)+1)/2,ue=V+pn/2,_n=ur+On/2,Nt=A+(ue-A)*Re,xt=_t+1+(_n-(_t+1))*Re;oe(n,j,_t+1,de,gt,L,T),oe(n,Nt,xt,de,gt,L,T),oe(n,Nt,xt-1,1,1,Je,T),ce(1,L);break}case"procreate":{const X=(Math.sin(c*Math.PI*8)+1)/4,ie=(Math.sin(c*Math.PI*6)+1)*.5,Re=1.5,ue=Re-ie;ae(Qe+$e+1),oe(n,re,Qe+ue,se,$e-Re,L,T),oe(n,ee,Qe+ue,se,$e-Re,L,T),fe(ue,L),oe(n,j,_t+ue,de,gt,L,T),oe(n,A,_t+ue,de,gt,L,T),ce(ue,L),n.globalAlpha=X,fe(ue,"white"),n.globalAlpha=1;break}case"attacking":{const X=Math.sin(c*Math.PI)*1.5,ie=Math.abs(Math.sin(c*Math.PI));ae(Qe+$e+1),oe(n,re-X,Qe+ie,se,$e,L,T),oe(n,ee+X*.5,Qe+ie,se,$e,L,T),fe(ie,L),oe(n,j,_t+ie-2,de,gt,L,T),oe(n,A,_t+ie-2.5,de,gt,L,T),ce(ie,L);break}case"defending":{ae(Qe+$e+1),oe(n,re,Qe+1,se,$e-1,L,T),oe(n,ee,Qe+1,se,$e-1,L,T),fe(1,L),oe(n,j-1,_t+1-1,de,gt,L,T),oe(n,A+1,_t+1-1,de,gt,L,T),ce(1,L);break}case"stunned":case"dead":{const X=d==="dead",ie=X?Math.min(1,c):0,Re=ie>.5?Ge:L,ue=h==="male"?b:pe,_n=ie>.8?"transparent":x,Nt=R/2,xt=O/2,hr=2;ae(O-1),oe(n,Nt-se-hr,xt,se,$e,Re,T),oe(n,Nt+hr,xt,se,$e,Re,T),oe(n,Nt-de-hr,xt-Vt+1,de,gt,Re,T),oe(n,Nt+hr,xt-Vt+1,de,gt,Re,T);const En=Nt-Ie/2,Mn=xt-Vt/2;h==="male"?(ie<.7&&oe(n,En,Mn+Vt-di,Ie,di,ue,T),oe(n,En,Mn,Ie,Vt-di,Re,T)):ie<.7?oe(n,En,Mn,Ie,Vt,ue,T):oe(n,En,Mn,Ie,Vt,Re,T);const Br=Nt-pn/2,Ln=xt-Vt/2-On+1;if(oe(n,Br,Ln,pn,On,Re,T),_n!=="transparent"&&oe(n,Br,Ln,pn,fa,_n,T),X&&ie>.6){const Fn="#B0A890";for(let pr=0;pr<3;pr++)oe(n,En+1,Mn+pr*1+1,Ie-2,.5,Fn,T)}break}default:oe(n,0,0,R,O,"magenta",T);break}n.restore()}};function ZE(n,i,o,s,l){const c=i.x,d=i.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(c-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(c-s/2,d),n.lineTo(c-s/4,d-s/3),n.lineTo(c-s/6,d),n.moveTo(c-s/6,d),n.lineTo(c,d-s/2),n.lineTo(c+s/6,d),n.moveTo(c+s/6,d),n.lineTo(c+s/4,d-s/3),n.lineTo(c+s/2,d),n.stroke(),n.restore()}function zo(n,i,o,s,l,c=!1,d=!1,h=!1,p=!1){s<kc&&(o=o*.75),Vc.render(n,i.x-o/2,i.y-o/2,o,o,0,"idle",l,s,[0,0],!1,0);let v,m;c?(v=JS,m=Oc):d?(v=bS,m=Wg):h?(v=e1,m=$g):p&&(v=t1,m=zg),v&&m&&ZE(n,i,o/2,v,m)}function qE(n,i,o,s,l,c){if(n.save(),s.length===0){n.restore();return}const d=s.length*l,h=4;let p;const v=d+(s.length-1)*h;s.length>1&&v>c?p=(c-d)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:S,isPlayer:w,isHeir:R,isPartner:O,isParent:N}=s[m],T=i+m*(l+p)+l/2,D=o+l/4;zo(n,{x:T,y:D},l,S.age,S.gender,w,R,O,N)}n.restore()}function JE(n,i,o,s){if(i.length===0)return;n.save();const l=rr,c=" 00",d=" 00";n.font=`${Wu}px "Press Start 2P", Arial`;const h=n.measureText(c).width,p=n.measureText(d).width,v=rr+na+rr+ir+h+rr/2+ir+p,m=i.length*ra+(i.length-1)*yp,S=s-m-rr;n.fillStyle=r1,n.fillRect(l,S,v,m);for(let w=0;w<i.length;w++){const R=i[w],O=S+w*(ra+yp),N=O+ra/2;R.isPlayerTribe&&(n.fillStyle=n1,n.fillRect(l,O,v,ra));let T=l+rr;n.font=`${na}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(R.tribeBadge,T,N-na/4),T+=na+rr*1.1,R.adultCount>0&&(zo(n,{x:T+ir/2,y:N},ir,25,"male"),T+=ir/2,n.font=`${Wu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.adultCount}`,T,N),T+=n.measureText(` ${R.adultCount}`).width+rr/2),R.childCount>0&&(zo(n,{x:T+ir/2,y:N},ir,1,"female"),T+=ir/2,n.font=`${Wu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.childCount}`,T,N))}n.restore()}function bE(n,i,o,s,l){n.save();const{position:c}=i;n.strokeStyle=s,n.lineWidth=2+Math.sin(l*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(c.x,c.y,o,0,2*Math.PI),n.stroke(),n.restore()}function eA(n,i,o,s,l){if(i.transitionState===Et.INACTIVE)return;const c=o.steps[i.currentStepIndex];if(!c)return;n.save(),n.globalAlpha=i.transitionAlpha;const d=C1,h=R1,p=k1,v=`${Vu}px "Press Start 2P", Arial`,m=`${Cp}px "Press Start 2P", Arial`,S=N1,w=Cp*1.5;n.font=m;const R=c.text.split(" ");let O="";const N=[];for(let W=0;W<R.length;W++){const Z=O+R[W]+" ";n.measureText(Z).width>d-h*2&&W>0?(N.push(O),O=R[W]+" "):O=Z}N.push(O);const T=h*2+Vu+h/2+N.length*w,D=(s-d)/2,k=l-T-20;n.fillStyle=P1,n.beginPath(),n.moveTo(D+p,k),n.lineTo(D+d-p,k),n.quadraticCurveTo(D+d,k,D+d,k+p),n.lineTo(D+d,k+T-p),n.quadraticCurveTo(D+d,k+T,D+d-p,k+T),n.lineTo(D+p,k+T),n.quadraticCurveTo(D,k+T,D,k+T-p),n.lineTo(D,k+p),n.quadraticCurveTo(D,k,D+p,k),n.closePath(),n.fill(),n.fillStyle=S,n.textAlign="center",n.textBaseline="top",n.font=v,n.fillText(c.title,D+d/2,k+h),n.font=m;let z=k+h+Vu+h/2;for(const W of N)n.fillText(W,D+d/2,z),z+=w;n.restore()}function Vp(n,i,o){n.save();const s=L1,l={x:i.x-s,y:i.y-s,width:i.width+s*2,height:i.height+s*2};n.strokeStyle=Kg,n.lineWidth=M1+Math.sin(o*U1)*1.5,n.setLineDash([8,8]),n.strokeRect(l.x,l.y,l.width,l.height),n.restore()}function tA(n,i){n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${i.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20)}const yc=10,nA=3,Kp=yc*.7;function rA(n,i,o,s,l){const{position:c,food:d,maxFood:h,ownerId:p,claimedUntil:v}=i;if(n.beginPath(),n.arc(c.x,c.y,yc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),p&&v&&v>l&&s){const m=o.entities.entities.get(p);if(m){let S;m.id===s.id?S=Oc:tm(s,m,o)?S=FS:S=jg,S&&(n.strokeStyle=S,n.lineWidth=1+Math.sin(l*2)*.5,n.beginPath(),n.arc(c.x,c.y,yc+2,0,Math.PI*2),n.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let S=0;S<d.length;S++){const w=S*m,R=c.x+Kp*Math.cos(w),O=c.y+Kp*Math.sin(w);n.beginPath(),n.arc(R,O,nA,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}function iA(n,i){const{position:o,gender:s,age:l,decayProgress:c,food:d,radius:h}=i;if(n.save(),n.globalAlpha=1-c,Vc.render(n,o.x-h,o.y-h,h*2,h*2,c,"dead",s,l,[0,0],!1,0),n.restore(),d.length>0){n.save(),n.font=`${qS}px Arial`,n.textAlign="center",n.textBaseline="middle";const p=yn*.9,v=Math.PI/Ng*3;d.forEach((m,S)=>{const w=S*v,R=o.x+p*Math.cos(w)*Math.atan2(S,S),O=o.y+p*Math.sin(w)*Math.atan2(S,S),N=Qg[m.type];n.fillText(N,R,O)}),n.restore()}}function mi(n,i,o,s,l,c,d,h){n.save(),n.fillStyle=d,n.fillRect(i,o,s,l),n.fillStyle=h,n.fillRect(i,o,s*Math.max(0,c),l),n.restore()}function oA(n,i,o,s,l,c){if(n.save(),s.length===0){n.restore();return}const d=s.length*l;let h;d>c||d+(s.length-1)*4>c?h=(c-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=Qg[s[p].type];n.fillText(v,i+p*(l+h),o)}n.restore()}const sA={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",tribeSplitting:"idle"};function aA(n,i){var h;const{radius:o,position:s,activeAction:l="idle"}=i,c=((h=i.stateMachine)==null?void 0:h[0])||"N/A",d=i.isAdult?yn+20:yn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${l}`,s.x,s.y-d),n.fillText(`State: ${c}`,s.x,s.y-d+10),n.fillText(`HP: ${i.hitpoints}`,s.x,s.y-d+20),n.fillText(`Cooldown: ${i.attackCooldown||"N/A"}`,s.x,s.y-d+30),n.restore(),n.beginPath(),n.arc(s.x,s.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function lA(n,i,o){if(!i.aiBehaviorTree||!i.aiBlackboard)return;const s=i.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${g1}px Arial`,n.textAlign="left",n.textBaseline="top";const l=S=>{switch(S){case M.SUCCESS:return v1;case M.FAILURE:return y1;case M.RUNNING:return S1;case M.NOT_EVALUATED:case null:default:return _1}},c=S=>{if(!S.name||!s.has(S.name))return{width:0,height:0};let w=0,R=0;const O=s.get(S.name),N=` ${S.name}`+(O!=null&&O.debugInfo?`: ${O.debugInfo}`:""),T=n.measureText(N).width,D=(S.depth??0)*wp+8+T+Ip+mo+20;if(w=Math.max(w,D),R+=Yu,S.children)for(const k of S.children){const z=c(k);w=Math.max(w,z.width),R+=z.height}else if(S.child){const k=c(S.child);w=Math.max(w,k.width),R+=k.height}return{width:w,height:R}},d=(S,w,R,O)=>{if(!S.name||!s.has(S.name))return w;let N=w;const T=s.get(S.name),D=R+2+(S.depth??0)*wp;let k=M.NOT_EVALUATED,z=Tp,W="";if(T){k=T.status,W=T.debugInfo;const x=A1/Xt*Kt,b=o-T.lastExecuted,pe=Math.max(0,1-b/x);z=Y1(Tp,E1,pe),b>Lo&&(k=M.NOT_EVALUATED)}const Z=l(k);n.fillStyle=Z,n.fillText("",D,N),n.fillStyle=z;const L=` ${S.name}`+(W?`: ${W}`:"");if(n.fillText(L,D+8,N),T&&T.executionHistory.length>0){const{executionHistory:x}=T,b=Vg/Xt*Kt,pe=o,Ge=pe-b,Je=R+O-mo-Ip;let Ue=Je;const Me=N+(Yu-ia)/2,Se=x.filter(U=>U.time<Ge);let Ie=Se.length>0?Se[Se.length-1].status:null,de=Ge;const se=x.filter(U=>U.time>=Ge&&U.time<=pe),$=mo/b;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Je,Me,mo,ia);for(const U of se){const ee=(U.time-de)*$;ee>0&&(n.fillStyle=l(Ie),n.fillRect(Ue,Me,ee,ia),Ue+=ee),Ie=U.status,de=U.time}o-de>Lo&&(Ie=M.NOT_EVALUATED);const j=(pe-de)*$;n.fillStyle=l(Ie);const A=Je+mo-Ue;n.fillRect(Ue,Me,Math.min(j,A),ia)}if(N+=Yu,S.children)for(const x of S.children)N=d(x,N,R,O);else S.child&&(N=d(S.child,N,R,O));return N},{width:h,height:p}=c(i.aiBehaviorTree);if(p===0){n.restore();return}const v=i.position.x+h1,m=i.position.y+p1-p/2;n.fillStyle=m1,n.fillRect(v,m,h,p+4),d(i.aiBehaviorTree,m+2,v,h),n.restore()}function uA(n,i,o,s,l){n.save(),n.font=`${vp}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,i.x,i.y-(s?yn:Nc)-vp-l),n.restore()}function cA(n,i,o,s,l){const c=i.x,d=i.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(c-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(c-s/2,d),n.lineTo(c-s/4,d-s/3),n.lineTo(c-s/6,d),n.moveTo(c-s/6,d),n.lineTo(c,d-s/2),n.lineTo(c+s/6,d),n.moveTo(c+s/6,d),n.lineTo(c+s/4,d-s/3),n.lineTo(c+s/2,d),n.stroke(),n.restore()}function dA(n,i,o){var h;const{position:s,radius:l}=i,c=s.x-ju/2,d=s.y-l-i1;if(((h=i.stateMachine)==null?void 0:h[0])===Ii){const p=i.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/Mg,1);mi(n,c,d,ju,Sp,m,gi,o1)}else if(i.attackCooldown&&i.attackCooldown>0){const p=1-i.attackCooldown/Lg;mi(n,c,d,ju,Sp,p,gi,s1)}}function fA(n,i,o=!1,s=!1,l=!1,c=!1,d=!1,h=!1,p=!1,v,m){const{position:S,activeAction:w="idle"}=i,R=i.isAdult?yn:yn*.6,O=sA[w]||"idle";Vc.render(n,S.x-R,S.y-R,R*2,R*2,i.animationProgress||0,O,i.gender,i.age,[i.direction.x,i.direction.y],i.isPregnant??!1,i.hunger),h&&(n.save(),n.strokeStyle=jg,n.lineWidth=2,n.beginPath(),n.arc(S.x,S.y,R+3,0,2*Math.PI),n.stroke(),n.restore());let N,T;d?(N=GS,T=Wg):o?(N=xS,T=Oc):l?(N=zS,T=LS):s?(N=$S,T=zg):c&&(N=WS,T=$g),N&&T&&cA(n,S,R,N,T),i.tribeBadge&&uA(n,S,i.tribeBadge,i.isAdult??!1,N??0);const D=p&&(m===void 0||i.id===m);D&&i.aiBlackboard&&lA(n,i,v),dA(n,i,v),D&&aA(n,i)}const Kc=15;function hA(n,i,o){const s="rgba(0, 191, 255, 0.8)",d=.25+Math.sin(o*5)*.25,h=Kc*d;n.save(),n.beginPath(),n.arc(i.x,i.y,Math.max(0,h),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function Xp(n,i,o,s,l=1.5){const c=o-i.startTime,d=Math.min(c/i.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(l-1),m=Kc*v;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,Math.max(0,m),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function fi(n,i,o,s,l=2){const c=o-i.startTime,d=Math.min(c/i.duration,1),h=1-d,p=Kc*2*d;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,p,0,Math.PI*2),n.strokeStyle=s,n.lineWidth=l,n.stroke(),n.restore()}function or(n,i,o,s){const l=o-i.startTime,c=Math.min(l/i.duration,1),d=1-c,h=-20*c;n.save(),n.globalAlpha=d,n.font="20px Arial",n.textAlign="center",n.fillText(s,i.position.x,i.position.y+h),n.restore()}function pA(n,i,o){switch(i.type){case Te.Hunger:Xp(n,i,o,"rgba(255, 165, 0, 0.7)",1);break;case Te.Procreation:or(n,i,o,"");break;case Te.Pregnant:Xp(n,i,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Te.TargetAcquired:fi(n,i,o,"rgba(255, 0, 0, 0.8)",3);break;case Te.Attack:or(n,i,o,"");break;case Te.Partnered:or(n,i,o,"");break;case Te.BushClaimed:fi(n,i,o,"rgba(0, 255, 0, 0.7)",2);break;case Te.BushClaimLost:fi(n,i,o,"rgba(128, 128, 128, 0.7)",2);break;case Te.Eating:or(n,i,o,"");break;case Te.ChildFed:or(n,i,o,"");break;case Te.AttackDeflected:or(n,i,o,"");break;case Te.AttackResisted:or(n,i,o,"");break;case Te.Hit:or(n,i,o,"");break;case Te.SeizeBuildup:fi(n,i,o,"rgba(255, 215, 0, 0.8)",4);break;case Te.Seize:fi(n,i,o,"rgba(148, 0, 211, 0.8)",4);break;case Te.CallToAttack:fi(n,i,o,"rgba(255, 255, 0, 0.8)",4);break}}function _o(n,i,o,s,l,...c){const d={...l.position};for(let h=-o;h<=o;h+=o)for(let p=-i;p<=i;p+=i)l.position.x=d.x+p,l.position.y=d.y+h,s(n,l,...c);l.position=d}function gA(n,i,o){const s=an(i),l=s?Ht(i,s):[],c=Ti(l),{width:d,height:h}=i.mapDimensions;if(Array.from(i.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,S;if(v.type==="berryBush")_o(n,d,h,rA,v,i,s,i.time);else if(v.type==="human"){const w=v,R=w.id===(s==null?void 0:s.id),O=l.some(z=>z.id===w.id),N=w.id===(c==null?void 0:c.id),T=s&&(w.id===s.motherId||w.id===s.fatherId),D=s&&(((m=w.partnerIds)==null?void 0:m.includes(s.id))||((S=s.partnerIds)==null?void 0:S.includes(w.id))),k=(s==null?void 0:s.attackTargetId)===w.id;_o(n,d,h,fA,w,R,T,O,D,N,k,o,i.time,i.debugCharacterId)}else v.type==="humanCorpse"&&_o(n,d,h,iA,v)}),i.visualEffects.forEach(v=>{_o(n,d,h,pA,v,i.time)}),i.tutorialState.isActive&&i.tutorialState.highlightedEntityIds.size>0)for(const v of i.tutorialState.highlightedEntityIds){const m=i.entities.entities.get(v);m&&_o(n,d,h,bE,m,D1,Kg,i.time)}}function mA(n,i,o,s,l,c){let d=null,h=null;n.textAlign="left";let p=kt+ar;const m=i.time/(Kt/Xt)/Pg%1,S=vo[hi.Time],w=25,R=kt+w;n.fillText(S,kt,p+Lt/2+ar/3),mi(n,R,p,nr,Lt,m,gi,ZS),p+=Lt+Nn;const O=p+kr/2,N=p+(kr-Lt)/2,T=5;zo(n,{x:kt*2,y:O},kr,5,o.gender,!1,!1,!1);const D=kt+kr+T,k=nr+w-(kr+T)*2;mi(n,D,N,k,Lt,Math.floor(o.age)/Uo,gi,QS),zo(n,{x:D+k+T+kr/2,y:O},kr,Uo,o.gender,!1,!1,!1),p+=Lt+Nn*2;const z=[],W=new Set;if(z.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),W.add(o.id),s&&!W.has(s.id)&&(z.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),W.add(s.id)),l.forEach(Se=>{W.has(Se.id)||(z.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),W.add(Se.id))}),c.forEach(Se=>{W.has(Se.id)||(z.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),W.add(Se.id))}),o.motherId&&!W.has(o.motherId)){const Se=i.entities.entities.get(o.motherId);Se&&(z.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),W.add(Se.id))}if(o.fatherId&&!W.has(o.fatherId)){const Se=i.entities.entities.get(o.fatherId);Se&&(z.push({member:Se,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),W.add(Se.id))}const Z=vo[hi.Family],L=10,x=kt+ar+L,b=nr+w-(ar+L),pe=p+ta/2;n.font=`${ar}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(Z,kt,pe);const Ge=p+ta/2;qE(n,x,Ge,z,ta,b),p+=ta+Nn,n.textBaseline="alphabetic";const Je=vo[hi.Hitpoints];n.fillText(Je,kt,p+Lt/2+ar/3),mi(n,R,p,nr,Lt,o.hitpoints/o.maxHitpoints,gi,XS),p+=Lt+Nn;const Ue=vo[hi.Hunger];n.fillText(Ue,kt,p+Lt/2+ar/3),mi(n,R,p,nr,Lt,(qt-o.hunger)/qt,gi,KS),d={x:kt,y:p-Nn/2,width:nr+w,height:Lt+Nn},p+=Lt+Nn,n.textBaseline="middle";const Me=vo[hi.Food];return n.fillText(Me,kt,p+ea/2),oA(n,R,p+ea/2,o.food,ea,nr),h={x:kt,y:p-Nn/5,width:nr+w,height:ea+Nn},n.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function Ua(n,i,o,s,l,c=!1){var d;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-s.x,n.canvas.height/2-s.y),!c&&i.gameOver){n.restore(),tA(n,i);return}if(gA(n,i,o),i.autopilotControls.autopilotMoveTarget&&hA(n,i.autopilotControls.autopilotMoveTarget,i.time),n.restore(),!c){n.fillStyle=jS,n.font=`${ar}px "Press Start 2P", Arial`,n.shadowColor=YS,n.shadowBlur=VS;const h=an(i);let p=null,v=null;if(h){const S=Ht(i,h),w=Ti(S),R=((d=h.partnerIds)==null?void 0:d.map(N=>i.entities.entities.get(N)).filter(N=>N!==void 0))||[],O=mA(n,i,h,w,R,S);p=O.hungerBarRect,v=O.foodBarRect}const m=p_(i,h==null?void 0:h.leaderId);if(JE(n,m,n.canvas.width,n.canvas.height),HE(n,i,n.canvas.width),n.shadowColor="transparent",n.shadowBlur=0,h&&l.length>0&&WE(n,l,h,s,n.canvas.width,n.canvas.height),i.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:S}=i.tutorialState;S.has(Go.HUNGER_BAR)&&p&&Vp(n,p,i.time),S.has(Go.FOOD_BAR)&&v&&Vp(n,v,i.time)}i.tutorialState.isActive&&eA(n,i.tutorialState,i.tutorial,n.canvas.width,n.canvas.height),i.isPaused&&xE(n)}}const vA=Sn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,yA=Sn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,SA=Sn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,_A=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,EA=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,rc="intro-soundtrack",Qp=()=>{const{setAppState:n}=Ma(),i=me.useRef(null),o=me.useRef(null),s=me.useRef(vE()),l=me.useRef(),c=me.useRef(s.current.viewportCenter),d=me.useRef();me.useEffect(()=>(Fc(De.SoundTrack1,{loop:!0,trackId:rc}),()=>{Op(rc,2)}),[]),me.useEffect(()=>{const m=i.current;if(!m)return;o.current=m.getContext("2d");const S=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Ua(o.current,s.current,!1,c.current,[],!0))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),me.useEffect(()=>{const m=()=>{const w=im(s.current);if(w.length>0){const R=Math.floor(Math.random()*w.length);d.current=w[R].id}};m();const S=setInterval(m,x1);return()=>clearInterval(S)},[]);const[h,p]=Cg(m=>{if(!o.current)return;if(l.current===void 0){l.current=m;return}const S=Math.min((m-l.current)/1e3,1);s.current=vc(s.current,S);const w=d.current?s.current.entities.entities.get(d.current):void 0;if(w){const{mapDimensions:R}=s.current,{width:O,height:N}=R;let T={...w.position};const D=T.x-c.current.x;Math.abs(D)>O/2&&(D>0?T.x-=O:T.x+=O);const k=T.y-c.current.y;Math.abs(k)>N/2&&(k>0?T.y-=N:T.y+=N);let z=Dc(c.current,T,Cc*S);z={x:(z.x%O+O)%O,y:(z.y%N+N)%N},c.current=z}Ua(o.current,s.current,!1,c.current,[],!0),l.current=m});me.useEffect(()=>(p(),h),[p,h]);const v=()=>{Op(rc,2),n("game")};return Ne.jsxs(vA,{children:[Ne.jsx(yA,{ref:i}),Ne.jsxs(SA,{children:[Ne.jsx(_A,{children:"Tribe"}),Ne.jsx(EA,{onClick:v,children:"Start Game"})]})]})};function AA(){return console.log("Tribe game initialized with detailed 2D world state."),mE()}const Zp=()=>{const[n]=me.useState(()=>AA());return Ne.jsx(wA,{initialState:n})},wA=({initialState:n})=>{const i=me.useRef(null),o=me.useRef(null),s=me.useRef(n),l=me.useRef(),c=me.useRef(new Set),d=me.useRef(!1),h=me.useRef(n.viewportCenter),p=me.useRef([]),{appState:v,setAppState:m}=Ma();me.useEffect(()=>{const O=i.current;if(!O)return;o.current=O.getContext("2d");const N=()=>{O&&o.current&&(O.width=window.innerWidth,O.height=window.innerHeight,Ua(o.current,s.current,d.current,h.current,p.current,!1))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[S,w,R]=Cg(O=>{if(!o.current||!l.current){l.current=O;return}const N=Math.min(O-l.current,1e3)/1e3;s.current=vc(s.current,N);const T=an(s.current);if(T?p.current=Jg(s.current,T):p.current=[],T){const{mapDimensions:D}=s.current,{width:k,height:z}=D;let W={...T.position};if(s.current.debugCharacterId){const b=s.current.entities.entities.get(s.current.debugCharacterId);b&&(W={...b.position})}const Z=W.x-h.current.x;Math.abs(Z)>k/2&&(Z>0?W.x-=k:W.x+=k);const L=W.y-h.current.y;Math.abs(L)>z/2&&(L>0?W.y-=z:W.y+=z);let x=Dc(h.current,W,Cc*N);x={x:(x.x%k+k)%k,y:(x.y%z+z)%z},h.current=x}else h.current=s.current.viewportCenter;Ua(o.current,s.current,d.current,h.current,p.current,!1),l.current=O,s.current.gameOver&&v!=="gameOver"&&(Fc(De.GameOver,{masterVolume:s.current.masterVolume,isMuted:s.current.isMuted}),m("gameOver",{generations:s.current.generationCount,cause:s.current.causeOfGameOver||"Unknown"}))});return me.useEffect(()=>(w(),S),[w,S]),me.useEffect(()=>{const O=N=>{if(!R()||s.current.gameOver||!i.current||!N.target||N.target!==i.current)return;const T=i.current.getBoundingClientRect(),D=N.clientX-T.left,k=N.clientY-T.top,z={gameState:s.current};let W=!1;if(s.current.uiButtons.forEach(Z=>{if(D>=Z.rect.x&&D<=Z.rect.x+Z.rect.width&&k>=Z.rect.y&&k<=Z.rect.y+Z.rect.height){W=!0;const L=an(s.current);switch(L&&Ve(z,De.ButtonClick,L.position),Z.action){case _e.ToggleAutopilot:s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;break;case _e.ToggleMute:s.current.isMuted=!s.current.isMuted,wo(s.current.masterVolume,s.current.isMuted);break;case _e.TogglePause:s.current.isPaused=!s.current.isPaused;break;case _e.ToggleProcreationBehavior:s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation;break;case _e.TogglePlantingBehavior:s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting;break;case _e.ToggleGatheringBehavior:s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering;break;case _e.ToggleAttackBehavior:s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack;break;case _e.ToggleCallToAttackBehavior:s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack;break;case _e.ToggleFeedChildrenBehavior:s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren;break}}}),!W&&s.current.autopilotControls.isActive&&!s.current.isPaused&&an(s.current)){const L=g_({x:D,y:k},h.current,{width:i.current.width,height:i.current.height},s.current.mapDimensions);s.current.autopilotControls.autopilotMoveTarget=L}};return window.addEventListener("mousedown",O),()=>{window.removeEventListener("mousedown",O)}},[R]),me.useEffect(()=>{const O=N=>{if(!R()||!i.current)return;const T=i.current.getBoundingClientRect(),D=N.clientX-T.left,k=N.clientY-T.top;s.current.mousePosition={x:D,y:k};let z;for(let W=s.current.uiButtons.length-1;W>=0;W--){const Z=s.current.uiButtons[W];if(D>=Z.rect.x&&D<=Z.rect.x+Z.rect.width&&k>=Z.rect.y&&k<=Z.rect.y+Z.rect.height){z=Z.id;break}}s.current.hoveredButtonId=z};return window.addEventListener("mousemove",O),()=>{window.removeEventListener("mousemove",O)}},[R]),me.useEffect(()=>{const O=T=>{var W,Z,L;if(!R()||s.current.gameOver)return;const D=T.key.toLowerCase();if(D==="escape"){s.current.autopilotControls.autopilotMoveTarget=void 0;return}if(D==="m"){s.current.isMuted=!s.current.isMuted,wo(s.current.masterVolume,s.current.isMuted);return}if(D==="="||D==="+"){const x=Math.min(1,s.current.masterVolume+.1);s.current.masterVolume=parseFloat(x.toFixed(1)),wo(s.current.masterVolume,s.current.isMuted);return}if(D==="-"){const x=Math.max(0,s.current.masterVolume-.1);s.current.masterVolume=parseFloat(x.toFixed(1)),wo(s.current.masterVolume,s.current.isMuted);return}if(D==="t"){s.current=vc(s.current,10);return}if(D===" "||D==="p"){T.preventDefault(),s.current.isPaused=!s.current.isPaused;return}if(D==="o"){s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;return}if(D===""||D==="`"){d.current=!d.current,d.current?s.current.debugCharacterId=((W=an(s.current))==null?void 0:W.id)??((L=(Z=im(s.current))==null?void 0:Z[0])==null?void 0:L.id):s.current.debugCharacterId=void 0;return}if(D==="tab"){T.preventDefault(),d.current=!0;const x=Array.from(s.current.entities.entities.values()).filter(b=>b.type==="human");if(x.length>0){const b=x.sort((Ue,Me)=>Ue.isPlayer?-1:Ue.id-Me.id),pe=s.current.debugCharacterId,Je=((pe?b.findIndex(Ue=>Ue.id===pe):-1)+1)%b.length;s.current.debugCharacterId=b[Je].id}else s.current.debugCharacterId=void 0;return}const k=an(s.current);if(!k)return;const z={gameState:s.current};if(s.current.autopilotControls.isActive){D==="r"?(s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation,Ve(z,De.ButtonClick,k.position)):D==="b"?(s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting,Ve(z,De.ButtonClick,k.position)):D==="g"?(s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering,Ve(z,De.ButtonClick,k.position)):D==="q"?(s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack,Ve(z,De.ButtonClick,k.position)):D==="v"?(s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack,Ve(z,De.ButtonClick,k.position)):D==="h"&&(s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren,Ve(z,De.ButtonClick,k.position));return}if(c.current.add(D),D==="e"){const x=ut(k,s.current,"berryBush",ct,Ge=>Ge.food.length>0&&k.food.length<k.maxFood),b=ut(k,s.current,"humanCorpse",ct,Ge=>Ge.food.length>0&&k.food.length<k.maxFood);let pe=null;x&&b?pe=ve(k.position,x.position,s.current.mapDimensions.width,s.current.mapDimensions.height)<=ve(k.position,b.position,s.current.mapDimensions.width,s.current.mapDimensions.height)?x:b:pe=x||b,pe&&(k.activeAction="gathering",Ve(z,De.Gather,k.position))}else if(D==="r")ut(k,s.current,"human",ct,b=>{const pe=b;return pe.id!==k.id&&pe.gender!==k.gender&&pe.isAdult&&k.isAdult&&pe.hunger<Pt&&k.hunger<Pt&&(pe.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(pe.gender==="female"?!pe.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",Ve(z,De.Procreate,k.position));else if(D==="f")k.activeAction="eating",Ve(z,De.Eat,k.position);else if(D==="arrowup"||D==="w")k.direction.y=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowdown"||D==="s")k.direction.y=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowleft"||D==="a")k.direction.x=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowright"||D==="d")k.direction.x=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="q"){const x=ut(k,s.current,"human",$a,b=>b.id!==k.id&&b.leaderId!==k.leaderId);x&&(k.activeAction="attacking",k.attackTargetId=x.id)}else if(D==="b"){if(p.current.find(b=>b.type===ot.PlantBush)){const b=bg(k.position,s.current,50,hc);b&&(k.activeAction="planting",k.target=b,s.current.hasPlayerPlantedBush=!0)}}else if(D==="v")p.current.find(b=>b.type===ot.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=s.current.time+Pa,vt(s.current,Te.CallToAttack,k.position,Pa),Ve(z,De.CallToAttack,k.position));else if(D==="k")p.current.find(b=>b.type===ot.TribeSplit)&&rm(k,s.current);else return},N=T=>{if(!R()||s.current.gameOver)return;const D=T.key.toLowerCase();c.current.delete(D);const k=an(s.current);!k||s.current.autopilotControls.isActive||(D==="arrowup"||D==="w"||D==="arrowdown"||D==="s"?k.direction.y=0:(D==="arrowleft"||D==="a"||D==="arrowright"||D==="d")&&(k.direction.x=0),!c.current.has("arrowup")&&!c.current.has("arrowdown")&&!c.current.has("arrowleft")&&!c.current.has("arrowright")&&!c.current.has("w")&&!c.current.has("a")&&!c.current.has("s")&&!c.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!c.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!c.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!c.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",O),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",O),window.removeEventListener("keyup",N)}},[R,v,m,w,S]),Ne.jsx("canvas",{ref:i,style:{display:"block",background:"#2c5234"}})},TA=Sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,IA=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,ha=Sn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,CA=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,RA=()=>{const{setAppState:n,gameOverDetails:i}=Ma(),o=()=>{n("intro")};return Ne.jsxs(TA,{children:[Ne.jsx(IA,{children:"Game Over"}),Ne.jsx(ha,{children:"Your tribe's lineage has ended."}),i&&Ne.jsxs(Ne.Fragment,{children:[Ne.jsxs(ha,{children:["Generations Survived: ",i.generations]}),Ne.jsxs(ha,{children:["Cause of Extinction: ",i.cause]})]}),!i&&Ne.jsx(ha,{children:"Game details are unavailable."}),Ne.jsx(CA,{onClick:o,children:"Return to Menu"})]})},kA=yy`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function PA(n,i){me.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";i(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),me.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const NA=()=>{const{appState:n,setAppState:i}=Ma();PA(n,i);const o=()=>{switch(n){case"intro":return Ne.jsx(Qp,{});case"game":return Ne.jsx(Zp,{});case"gameOver":return Ne.jsxs(Ne.Fragment,{children:[Ne.jsx(Zp,{}),Ne.jsx(RA,{})]});default:return Ne.jsx(Qp,{})}};return Ne.jsxs(Ne.Fragment,{children:[Ne.jsx(kA,{}),o()]})},qp=document.getElementById("root");qp?n_().then(()=>{mv.createRoot(qp).render(Ne.jsx(mn.StrictMode,{children:Ne.jsx(vv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Ne.jsx(NA,{})})}))}):console.error("Failed to find the root element");
