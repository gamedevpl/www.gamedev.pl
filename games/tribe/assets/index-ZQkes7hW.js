var hv=Object.defineProperty;var gv=(t,r,o)=>r in t?hv(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var Be=(t,r,o)=>gv(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function tg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wu={exports:{}},Ao={},ju={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function mv(){if(zp)return me;zp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function R(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function A(w,O,te){this.props=w,this.context=O,this.refs=D,this.updater=te||I}A.prototype.isReactComponent={},A.prototype.setState=function(w,O){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,O,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function k(){}k.prototype=A.prototype;function W(w,O,te){this.props=w,this.context=O,this.refs=D,this.updater=te||I}var B=W.prototype=new k;B.constructor=W,N(B,A.prototype),B.isPureReactComponent=!0;var F=Array.isArray,K=Object.prototype.hasOwnProperty,M={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function Q(w,O,te){var V,ne={},ue=null,fe=null;if(O!=null)for(V in O.ref!==void 0&&(fe=O.ref),O.key!==void 0&&(ue=""+O.key),O)K.call(O,V)&&!x.hasOwnProperty(V)&&(ne[V]=O[V]);var pe=arguments.length-2;if(pe===1)ne.children=te;else if(1<pe){for(var b=Array(pe),se=0;se<pe;se++)b[se]=arguments[se+2];ne.children=b}if(w&&w.defaultProps)for(V in pe=w.defaultProps,pe)ne[V]===void 0&&(ne[V]=pe[V]);return{$$typeof:t,type:w,key:ue,ref:fe,props:ne,_owner:M.current}}function ke(w,O){return{$$typeof:t,type:w.type,key:O,ref:w.ref,props:w.props,_owner:w._owner}}function je(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function rt(w){var O={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return O[te]})}var Ge=/\/+/g;function De(w,O){return typeof w=="object"&&w!==null&&w.key!=null?rt(""+w.key):O.toString(36)}function ye(w,O,te,V,ne){var ue=typeof w;(ue==="undefined"||ue==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(ue){case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case t:case r:fe=!0}}if(fe)return fe=w,ne=ne(fe),w=V===""?"."+De(fe,0):V,F(ne)?(te="",w!=null&&(te=w.replace(Ge,"$&/")+"/"),ye(ne,O,te,"",function(se){return se})):ne!=null&&(je(ne)&&(ne=ke(ne,te+(!ne.key||fe&&fe.key===ne.key?"":(""+ne.key).replace(Ge,"$&/")+"/")+w)),O.push(ne)),1;if(fe=0,V=V===""?".":V+":",F(w))for(var pe=0;pe<w.length;pe++){ue=w[pe];var b=V+De(ue,pe);fe+=ye(ue,O,te,b,ne)}else if(b=R(w),typeof b=="function")for(w=b.call(w),pe=0;!(ue=w.next()).done;)ue=ue.value,b=V+De(ue,pe++),fe+=ye(ue,O,te,b,ne);else if(ue==="object")throw O=String(w),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return fe}function Ee(w,O,te){if(w==null)return w;var V=[],ne=0;return ye(w,V,"","",function(ue){return O.call(te,ue,ne++)}),V}function he(w){if(w._status===-1){var O=w._result;O=O(),O.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=O)}if(w._status===1)return w._result.default;throw w._result}var oe={current:null},G={transition:null},$={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function j(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Ee,forEach:function(w,O,te){Ee(w,function(){O.apply(this,arguments)},te)},count:function(w){var O=0;return Ee(w,function(){O++}),O},toArray:function(w){return Ee(w,function(O){return O})||[]},only:function(w){if(!je(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},me.Component=A,me.Fragment=o,me.Profiler=l,me.PureComponent=W,me.StrictMode=a,me.Suspense=g,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,me.act=j,me.cloneElement=function(w,O,te){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var V=N({},w.props),ne=w.key,ue=w.ref,fe=w._owner;if(O!=null){if(O.ref!==void 0&&(ue=O.ref,fe=M.current),O.key!==void 0&&(ne=""+O.key),w.type&&w.type.defaultProps)var pe=w.type.defaultProps;for(b in O)K.call(O,b)&&!x.hasOwnProperty(b)&&(V[b]=O[b]===void 0&&pe!==void 0?pe[b]:O[b])}var b=arguments.length-2;if(b===1)V.children=te;else if(1<b){pe=Array(b);for(var se=0;se<b;se++)pe[se]=arguments[se+2];V.children=pe}return{$$typeof:t,type:w.type,key:ne,ref:ue,props:V,_owner:fe}},me.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:c,_context:w},w.Consumer=w},me.createElement=Q,me.createFactory=function(w){var O=Q.bind(null,w);return O.type=w,O},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:p,render:w}},me.isValidElement=je,me.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:he}},me.memo=function(w,O){return{$$typeof:m,type:w,compare:O===void 0?null:O}},me.startTransition=function(w){var O=G.transition;G.transition={};try{w()}finally{G.transition=O}},me.unstable_act=j,me.useCallback=function(w,O){return oe.current.useCallback(w,O)},me.useContext=function(w){return oe.current.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w){return oe.current.useDeferredValue(w)},me.useEffect=function(w,O){return oe.current.useEffect(w,O)},me.useId=function(){return oe.current.useId()},me.useImperativeHandle=function(w,O,te){return oe.current.useImperativeHandle(w,O,te)},me.useInsertionEffect=function(w,O){return oe.current.useInsertionEffect(w,O)},me.useLayoutEffect=function(w,O){return oe.current.useLayoutEffect(w,O)},me.useMemo=function(w,O){return oe.current.useMemo(w,O)},me.useReducer=function(w,O,te){return oe.current.useReducer(w,O,te)},me.useRef=function(w){return oe.current.useRef(w)},me.useState=function(w){return oe.current.useState(w)},me.useSyncExternalStore=function(w,O,te){return oe.current.useSyncExternalStore(w,O,te)},me.useTransition=function(){return oe.current.useTransition()},me.version="18.3.1",me}var Wp;function Tc(){return Wp||(Wp=1,ju.exports=mv()),ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function vv(){if(jp)return Ao;jp=1;var t=Tc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var v,S={},R=null,I=null;m!==void 0&&(R=""+m),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(I=g.ref);for(v in g)a.call(g,v)&&!c.hasOwnProperty(v)&&(S[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)S[v]===void 0&&(S[v]=g[v]);return{$$typeof:r,type:p,key:R,ref:I,props:S,_owner:l.current}}return Ao.Fragment=o,Ao.jsx=f,Ao.jsxs=f,Ao}var $p;function yv(){return $p||($p=1,Wu.exports=vv()),Wu.exports}var Re=yv(),Se=Tc();const wn=tg(Se);var na={},$u={exports:{}},kt={},Yu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Sv(){return Yp||(Yp=1,function(t){function r(G,$){var j=G.length;G.push($);e:for(;0<j;){var w=j-1>>>1,O=G[w];if(0<l(O,$))G[w]=$,G[j]=O,j=w;else break e}}function o(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var $=G[0],j=G.pop();if(j!==$){G[0]=j;e:for(var w=0,O=G.length,te=O>>>1;w<te;){var V=2*(w+1)-1,ne=G[V],ue=V+1,fe=G[ue];if(0>l(ne,j))ue<O&&0>l(fe,ne)?(G[w]=fe,G[ue]=j,w=ue):(G[w]=ne,G[V]=j,w=V);else if(ue<O&&0>l(fe,j))G[w]=fe,G[ue]=j,w=ue;else break e}}return $}function l(G,$){var j=G.sortIndex-$.sortIndex;return j!==0?j:G.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,S=null,R=3,I=!1,N=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(G){for(var $=o(m);$!==null;){if($.callback===null)a(m);else if($.startTime<=G)a(m),$.sortIndex=$.expirationTime,r(g,$);else break;$=o(m)}}function F(G){if(D=!1,B(G),!N)if(o(g)!==null)N=!0,he(K);else{var $=o(m);$!==null&&oe(F,$.startTime-G)}}function K(G,$){N=!1,D&&(D=!1,k(Q),Q=-1),I=!0;var j=R;try{for(B($),S=o(g);S!==null&&(!(S.expirationTime>$)||G&&!rt());){var w=S.callback;if(typeof w=="function"){S.callback=null,R=S.priorityLevel;var O=w(S.expirationTime<=$);$=t.unstable_now(),typeof O=="function"?S.callback=O:S===o(g)&&a(g),B($)}else a(g);S=o(g)}if(S!==null)var te=!0;else{var V=o(m);V!==null&&oe(F,V.startTime-$),te=!1}return te}finally{S=null,R=j,I=!1}}var M=!1,x=null,Q=-1,ke=5,je=-1;function rt(){return!(t.unstable_now()-je<ke)}function Ge(){if(x!==null){var G=t.unstable_now();je=G;var $=!0;try{$=x(!0,G)}finally{$?De():(M=!1,x=null)}}else M=!1}var De;if(typeof W=="function")De=function(){W(Ge)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ee=ye.port2;ye.port1.onmessage=Ge,De=function(){Ee.postMessage(null)}}else De=function(){A(Ge,0)};function he(G){x=G,M||(M=!0,De())}function oe(G,$){Q=A(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){N||I||(N=!0,he(K))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(G){switch(R){case 1:case 2:case 3:var $=3;break;default:$=R}var j=R;R=$;try{return G()}finally{R=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var j=R;R=G;try{return $()}finally{R=j}},t.unstable_scheduleCallback=function(G,$,j){var w=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?w+j:w):j=w,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=j+O,G={id:v++,callback:$,priorityLevel:G,startTime:j,expirationTime:O,sortIndex:-1},j>w?(G.sortIndex=j,r(m,G),o(g)===null&&G===o(m)&&(D?(k(Q),Q=-1):D=!0,oe(F,j-w))):(G.sortIndex=O,r(g,G),N||I||(N=!0,he(K))),G},t.unstable_shouldYield=rt,t.unstable_wrapCallback=function(G){var $=R;return function(){var j=R;R=$;try{return G.apply(this,arguments)}finally{R=j}}}}(Vu)),Vu}var Vp;function Ev(){return Vp||(Vp=1,Yu.exports=Sv()),Yu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function Av(){if(Xp)return kt;Xp=1;var t=Tc(),r=Ev();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(l[e]=n,e=0;e<n.length;e++)a.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function R(e){return g.call(S,e)?!0:g.call(v,e)?!1:m.test(e)?S[e]=!0:(v[e]=!0,!1)}function I(e,n,i,s){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,n,i,s){if(n===null||typeof n>"u"||I(e,n,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,i,s,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];A[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(k,W);A[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(k,W);A[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(k,W);A[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,n,i,s){var u=A.hasOwnProperty(n)?A[n]:null;(u!==null?u.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,u,s)&&(i=null),s||u===null?R(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,s=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,s?e.setAttributeNS(s,n,i):e.setAttribute(n,i))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),M=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),rt=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),G=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,w;function O(e){if(w===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);w=n&&n[1]||""}return`
`+w+e}var te=!1;function V(e,n){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var s=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){s=P}e.call(n.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),d=s.stack.split(`
`),h=u.length-1,y=d.length-1;1<=h&&0<=y&&u[h]!==d[y];)y--;for(;1<=h&&0<=y;h--,y--)if(u[h]!==d[y]){if(h!==1||y!==1)do if(h--,y--,0>y||u[h]!==d[y]){var E=`
`+u[h].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=h&&0<=y);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?O(e):""}function ne(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1),e;case 11:return e=V(e.type.render,!1),e;case 1:return e=V(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case M:return"Portal";case ke:return"Profiler";case Q:return"StrictMode";case De:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rt:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case Ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ee:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function se(e){var n=b(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){s=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ie(e){e._valueTracker||(e._valueTracker=se(e))}function de(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=b(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Rn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ot(e,n){var i=n.checked;return j({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,n){var i=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;i=pe(n.value!=null?n.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _r(e,n){n=n.checked,n!=null&&B(e,"checked",n,!1)}function Pn(e,n){_r(e,n);var i=pe(n.value),s=n.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Kr(e,n.type,i):n.hasOwnProperty("defaultValue")&&Kr(e,n.type,pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function zn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Kr(e,n,i){(n!=="number"||Rn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Wn=Array.isArray;function jn(e,n,i,s){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+pe(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function wr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bc(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(Wn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:pe(i)}}function qc(e,n){var i=pe(n.value),s=pe(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Zc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ja(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ko,ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,s,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,s,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Fi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ym=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(e){ym.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hi[n]=Hi[e]})});function td(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hi.hasOwnProperty(e)&&Hi[e]?(""+n).trim():n+"px"}function nd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var s=i.indexOf("--")===0,u=td(i,n[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,u):e[i]=u}}var Sm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,n){if(n){if(Sm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function tl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,Qr=null,br=null;function rd(e){if(e=oo(e)){if(typeof il!="function")throw Error(o(280));var n=e.stateNode;n&&(n=vs(n),il(e.stateNode,e.type,n))}}function id(e){Qr?br?br.push(e):br=[e]:Qr=e}function od(){if(Qr){var e=Qr,n=br;if(br=Qr=null,rd(e),n)for(e=0;e<n.length;e++)rd(n[e])}}function sd(e,n){return e(n)}function ad(){}var ol=!1;function ld(e,n,i){if(ol)return e(n,i);ol=!0;try{return sd(e,n,i)}finally{ol=!1,(Qr!==null||br!==null)&&(ad(),od())}}function Bi(e,n){var i=e.stateNode;if(i===null)return null;var s=vs(i);if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var sl=!1;if(p)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){sl=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{sl=!1}function Em(e,n,i,s,u,d,h,y,E){var P=Array.prototype.slice.call(arguments,3);try{n.apply(i,P)}catch(U){this.onError(U)}}var Gi=!1,Qo=null,bo=!1,al=null,Am={onError:function(e){Gi=!0,Qo=e}};function _m(e,n,i,s,u,d,h,y,E){Gi=!1,Qo=null,Em.apply(Am,arguments)}function wm(e,n,i,s,u,d,h,y,E){if(_m.apply(this,arguments),Gi){if(Gi){var P=Qo;Gi=!1,Qo=null}else throw Error(o(198));bo||(bo=!0,al=P)}}function Ir(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function ud(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function cd(e){if(Ir(e)!==e)throw Error(o(188))}function Im(e){var n=e.alternate;if(!n){if(n=Ir(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,s=n;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return cd(u),e;if(d===s)return cd(u),n;d=d.sibling}throw Error(o(188))}if(i.return!==s.return)i=u,s=d;else{for(var h=!1,y=u.child;y;){if(y===i){h=!0,i=u,s=d;break}if(y===s){h=!0,s=u,i=d;break}y=y.sibling}if(!h){for(y=d.child;y;){if(y===i){h=!0,i=d,s=u;break}if(y===s){h=!0,s=d,i=u;break}y=y.sibling}if(!h)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function dd(e){return e=Im(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=fd(e);if(n!==null)return n;e=e.sibling}return null}var pd=r.unstable_scheduleCallback,hd=r.unstable_cancelCallback,Tm=r.unstable_shouldYield,Cm=r.unstable_requestPaint,Ye=r.unstable_now,Rm=r.unstable_getCurrentPriorityLevel,ll=r.unstable_ImmediatePriority,gd=r.unstable_UserBlockingPriority,qo=r.unstable_NormalPriority,Pm=r.unstable_LowPriority,md=r.unstable_IdlePriority,Zo=null,hn=null;function km(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Om,Dm=Math.log,Nm=Math.LN2;function Om(e){return e>>>=0,e===0?32:31-(Dm(e)/Nm|0)|0}var Jo=64,es=4194304;function zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,u=e.suspendedLanes,d=e.pingedLanes,h=i&268435455;if(h!==0){var y=h&~u;y!==0?s=zi(y):(d&=h,d!==0&&(s=zi(d)))}else h=i&~u,h!==0?s=zi(h):d!==0&&(s=zi(d));if(s===0)return 0;if(n!==0&&n!==s&&(n&u)===0&&(u=s&-s,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if((s&4)!==0&&(s|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)i=31-nn(n),u=1<<i,s|=e[i],n&=~u;return s}function Mm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lm(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-nn(d),y=1<<h,E=u[h];E===-1?((y&i)===0||(y&s)!==0)&&(u[h]=Mm(y,n)):E<=n&&(e.expiredLanes|=y),d&=~y}}function ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vd(){var e=Jo;return Jo<<=1,(Jo&4194240)===0&&(Jo=64),e}function cl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Wi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-nn(n),e[n]=i}function Um(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-nn(i),d=1<<u;n[u]=0,s[u]=-1,e[u]=-1,i&=~d}}function dl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-nn(i),u=1<<s;u&n|e[s]&n&&(e[s]|=n),i&=~u}}var Ce=0;function yd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Sd,fl,Ed,Ad,_d,pl=!1,ns=[],$n=null,Yn=null,Vn=null,ji=new Map,$i=new Map,Xn=[],Fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(e,n){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ji.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(n.pointerId)}}function Yi(e,n,i,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},n!==null&&(n=oo(n),n!==null&&fl(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Hm(e,n,i,s,u){switch(n){case"focusin":return $n=Yi($n,e,n,i,s,u),!0;case"dragenter":return Yn=Yi(Yn,e,n,i,s,u),!0;case"mouseover":return Vn=Yi(Vn,e,n,i,s,u),!0;case"pointerover":var d=u.pointerId;return ji.set(d,Yi(ji.get(d)||null,e,n,i,s,u)),!0;case"gotpointercapture":return d=u.pointerId,$i.set(d,Yi($i.get(d)||null,e,n,i,s,u)),!0}return!1}function Id(e){var n=Tr(e.target);if(n!==null){var i=Ir(n);if(i!==null){if(n=i.tag,n===13){if(n=ud(i),n!==null){e.blockedOn=n,_d(e.priority,function(){Ed(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=gl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);nl=s,i.target.dispatchEvent(s),nl=null}else return n=oo(i),n!==null&&fl(n),e.blockedOn=i,!1;n.shift()}return!0}function Td(e,n,i){rs(e)&&i.delete(n)}function Bm(){pl=!1,$n!==null&&rs($n)&&($n=null),Yn!==null&&rs(Yn)&&(Yn=null),Vn!==null&&rs(Vn)&&(Vn=null),ji.forEach(Td),$i.forEach(Td)}function Vi(e,n){e.blockedOn===n&&(e.blockedOn=null,pl||(pl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bm)))}function Xi(e){function n(u){return Vi(u,e)}if(0<ns.length){Vi(ns[0],e);for(var i=1;i<ns.length;i++){var s=ns[i];s.blockedOn===e&&(s.blockedOn=null)}}for($n!==null&&Vi($n,e),Yn!==null&&Vi(Yn,e),Vn!==null&&Vi(Vn,e),ji.forEach(n),$i.forEach(n),i=0;i<Xn.length;i++)s=Xn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Xn.length&&(i=Xn[0],i.blockedOn===null);)Id(i),i.blockedOn===null&&Xn.shift()}var qr=F.ReactCurrentBatchConfig,is=!0;function xm(e,n,i,s){var u=Ce,d=qr.transition;qr.transition=null;try{Ce=1,hl(e,n,i,s)}finally{Ce=u,qr.transition=d}}function Gm(e,n,i,s){var u=Ce,d=qr.transition;qr.transition=null;try{Ce=4,hl(e,n,i,s)}finally{Ce=u,qr.transition=d}}function hl(e,n,i,s){if(is){var u=gl(e,n,i,s);if(u===null)Ol(e,n,s,os,i),wd(e,s);else if(Hm(u,e,n,i,s))s.stopPropagation();else if(wd(e,s),n&4&&-1<Fm.indexOf(e)){for(;u!==null;){var d=oo(u);if(d!==null&&Sd(d),d=gl(e,n,i,s),d===null&&Ol(e,n,s,os,i),d===u)break;u=d}u!==null&&s.stopPropagation()}else Ol(e,n,s,null,i)}}var os=null;function gl(e,n,i,s){if(os=null,e=rl(s),e=Tr(e),e!==null)if(n=Ir(e),n===null)e=null;else if(i=n.tag,i===13){if(e=ud(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return os=e,null}function Cd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rm()){case ll:return 1;case gd:return 4;case qo:case Pm:return 16;case md:return 536870912;default:return 16}default:return 16}}var Kn=null,ml=null,ss=null;function Rd(){if(ss)return ss;var e,n=ml,i=n.length,s,u="value"in Kn?Kn.value:Kn.textContent,d=u.length;for(e=0;e<i&&n[e]===u[e];e++);var h=i-e;for(s=1;s<=h&&n[i-s]===u[d-s];s++);return ss=u.slice(e,1<s?1-s:void 0)}function as(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Pd(){return!1}function Mt(e){function n(i,s,u,d,h){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ls:Pd,this.isPropagationStopped=Pd,this}return j(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Mt(Zr),Ki=j({},Zr,{view:0,detail:0}),zm=Mt(Ki),yl,Sl,Qi,us=j({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(yl=e.screenX-Qi.screenX,Sl=e.screenY-Qi.screenY):Sl=yl=0,Qi=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),kd=Mt(us),Wm=j({},us,{dataTransfer:0}),jm=Mt(Wm),$m=j({},Ki,{relatedTarget:0}),El=Mt($m),Ym=j({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=Mt(Ym),Xm=j({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Km=Mt(Xm),Qm=j({},Zr,{data:0}),Dd=Mt(Qm),bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zm[e])?!!n[e]:!1}function Al(){return Jm}var e0=j({},Ki,{key:function(e){if(e.key){var n=bm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t0=Mt(e0),n0=j({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=Mt(n0),r0=j({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),i0=Mt(r0),o0=j({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=Mt(o0),a0=j({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l0=Mt(a0),u0=[9,13,27,32],_l=p&&"CompositionEvent"in window,bi=null;p&&"documentMode"in document&&(bi=document.documentMode);var c0=p&&"TextEvent"in window&&!bi,Od=p&&(!_l||bi&&8<bi&&11>=bi),Md=" ",Ld=!1;function Ud(e,n){switch(e){case"keyup":return u0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function d0(e,n){switch(e){case"compositionend":return Fd(n);case"keypress":return n.which!==32?null:(Ld=!0,Md);case"textInput":return e=n.data,e===Md&&Ld?null:e;default:return null}}function f0(e,n){if(Jr)return e==="compositionend"||!_l&&Ud(e,n)?(e=Rd(),ss=ml=Kn=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Od&&n.locale!=="ko"?null:n.data;default:return null}}var p0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!p0[e.type]:n==="textarea"}function Bd(e,n,i,s){id(s),n=hs(n,"onChange"),0<n.length&&(i=new vl("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var qi=null,Zi=null;function h0(e){nf(e,0)}function cs(e){var n=ii(e);if(de(n))return e}function g0(e,n){if(e==="change")return n}var xd=!1;if(p){var wl;if(p){var Il="oninput"in document;if(!Il){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Il=typeof Gd.oninput=="function"}wl=Il}else wl=!1;xd=wl&&(!document.documentMode||9<document.documentMode)}function zd(){qi&&(qi.detachEvent("onpropertychange",Wd),Zi=qi=null)}function Wd(e){if(e.propertyName==="value"&&cs(Zi)){var n=[];Bd(n,Zi,e,rl(e)),ld(h0,n)}}function m0(e,n,i){e==="focusin"?(zd(),qi=n,Zi=i,qi.attachEvent("onpropertychange",Wd)):e==="focusout"&&zd()}function v0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(Zi)}function y0(e,n){if(e==="click")return cs(n)}function S0(e,n){if(e==="input"||e==="change")return cs(n)}function E0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rn=typeof Object.is=="function"?Object.is:E0;function Ji(e,n){if(rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!g.call(n,u)||!rn(e[u],n[u]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,n){var i=jd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=jd(i)}}function Yd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Yd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vd(){for(var e=window,n=Rn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Rn(e.document)}return n}function Tl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function A0(e){var n=Vd(),i=e.focusedElem,s=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Yd(i.ownerDocument.documentElement,i)){if(s!==null&&Tl(i)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(s.start,u);s=s.end===void 0?d:Math.min(s.end,u),!e.extend&&d>s&&(u=s,s=d,d=u),u=$d(i,d);var h=$d(i,s);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>s?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _0=p&&"documentMode"in document&&11>=document.documentMode,ei=null,Cl=null,eo=null,Rl=!1;function Xd(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Rl||ei==null||ei!==Rn(s)||(s=ei,"selectionStart"in s&&Tl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),eo&&Ji(eo,s)||(eo=s,s=hs(Cl,"onSelect"),0<s.length&&(n=new vl("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=ei)))}function ds(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ti={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},Pl={},Kd={};p&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function fs(e){if(Pl[e])return Pl[e];if(!ti[e])return e;var n=ti[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Kd)return Pl[e]=n[i];return e}var Qd=fs("animationend"),bd=fs("animationiteration"),qd=fs("animationstart"),Zd=fs("transitionend"),Jd=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,n){Jd.set(e,n),c(n,[e])}for(var kl=0;kl<ef.length;kl++){var Dl=ef[kl],w0=Dl.toLowerCase(),I0=Dl[0].toUpperCase()+Dl.slice(1);Qn(w0,"on"+I0)}Qn(Qd,"onAnimationEnd"),Qn(bd,"onAnimationIteration"),Qn(qd,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Zd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function tf(e,n,i){var s=e.type||"unknown-event";e.currentTarget=i,wm(s,n,void 0,e),e.currentTarget=null}function nf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var d=void 0;if(n)for(var h=s.length-1;0<=h;h--){var y=s[h],E=y.instance,P=y.currentTarget;if(y=y.listener,E!==d&&u.isPropagationStopped())break e;tf(u,y,P),d=E}else for(h=0;h<s.length;h++){if(y=s[h],E=y.instance,P=y.currentTarget,y=y.listener,E!==d&&u.isPropagationStopped())break e;tf(u,y,P),d=E}}}if(bo)throw e=al,bo=!1,al=null,e}function Me(e,n){var i=n[Bl];i===void 0&&(i=n[Bl]=new Set);var s=e+"__bubble";i.has(s)||(rf(n,e,2,!1),i.add(s))}function Nl(e,n,i){var s=0;n&&(s|=4),rf(i,e,s,n)}var ps="_reactListening"+Math.random().toString(36).slice(2);function no(e){if(!e[ps]){e[ps]=!0,a.forEach(function(i){i!=="selectionchange"&&(T0.has(i)||Nl(i,!1,e),Nl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ps]||(n[ps]=!0,Nl("selectionchange",!1,n))}}function rf(e,n,i,s){switch(Cd(n)){case 1:var u=xm;break;case 4:u=Gm;break;default:u=hl}i=u.bind(null,n,i,e),u=void 0,!sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function Ol(e,n,i,s,u){var d=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(h===4)for(h=s.return;h!==null;){var E=h.tag;if((E===3||E===4)&&(E=h.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;h=h.return}for(;y!==null;){if(h=Tr(y),h===null)return;if(E=h.tag,E===5||E===6){s=d=h;continue e}y=y.parentNode}}s=s.return}ld(function(){var P=d,U=rl(i),H=[];e:{var L=Jd.get(e);if(L!==void 0){var Y=vl,q=e;switch(e){case"keypress":if(as(i)===0)break e;case"keydown":case"keyup":Y=t0;break;case"focusin":q="focus",Y=El;break;case"focusout":q="blur",Y=El;break;case"beforeblur":case"afterblur":Y=El;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=i0;break;case Qd:case bd:case qd:Y=Vm;break;case Zd:Y=s0;break;case"scroll":Y=zm;break;case"wheel":Y=l0;break;case"copy":case"cut":case"paste":Y=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Nd}var Z=(n&4)!==0,Ve=!Z&&e==="scroll",T=Z?L!==null?L+"Capture":null:L;Z=[];for(var _=P,C;_!==null;){C=_;var z=C.stateNode;if(C.tag===5&&z!==null&&(C=z,T!==null&&(z=Bi(_,T),z!=null&&Z.push(ro(_,z,C)))),Ve)break;_=_.return}0<Z.length&&(L=new Y(L,q,null,i,U),H.push({event:L,listeners:Z}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",L&&i!==nl&&(q=i.relatedTarget||i.fromElement)&&(Tr(q)||q[kn]))break e;if((Y||L)&&(L=U.window===U?U:(L=U.ownerDocument)?L.defaultView||L.parentWindow:window,Y?(q=i.relatedTarget||i.toElement,Y=P,q=q?Tr(q):null,q!==null&&(Ve=Ir(q),q!==Ve||q.tag!==5&&q.tag!==6)&&(q=null)):(Y=null,q=P),Y!==q)){if(Z=kd,z="onMouseLeave",T="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Nd,z="onPointerLeave",T="onPointerEnter",_="pointer"),Ve=Y==null?L:ii(Y),C=q==null?L:ii(q),L=new Z(z,_+"leave",Y,i,U),L.target=Ve,L.relatedTarget=C,z=null,Tr(U)===P&&(Z=new Z(T,_+"enter",q,i,U),Z.target=C,Z.relatedTarget=Ve,z=Z),Ve=z,Y&&q)t:{for(Z=Y,T=q,_=0,C=Z;C;C=ni(C))_++;for(C=0,z=T;z;z=ni(z))C++;for(;0<_-C;)Z=ni(Z),_--;for(;0<C-_;)T=ni(T),C--;for(;_--;){if(Z===T||T!==null&&Z===T.alternate)break t;Z=ni(Z),T=ni(T)}Z=null}else Z=null;Y!==null&&of(H,L,Y,Z,!1),q!==null&&Ve!==null&&of(H,Ve,q,Z,!0)}}e:{if(L=P?ii(P):window,Y=L.nodeName&&L.nodeName.toLowerCase(),Y==="select"||Y==="input"&&L.type==="file")var ee=g0;else if(Hd(L))if(xd)ee=S0;else{ee=v0;var re=m0}else(Y=L.nodeName)&&Y.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(ee=y0);if(ee&&(ee=ee(e,P))){Bd(H,ee,i,U);break e}re&&re(e,L,P),e==="focusout"&&(re=L._wrapperState)&&re.controlled&&L.type==="number"&&Kr(L,"number",L.value)}switch(re=P?ii(P):window,e){case"focusin":(Hd(re)||re.contentEditable==="true")&&(ei=re,Cl=P,eo=null);break;case"focusout":eo=Cl=ei=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Xd(H,i,U);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":Xd(H,i,U)}var ie;if(_l)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Jr?Ud(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(Od&&i.locale!=="ko"&&(Jr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Jr&&(ie=Rd()):(Kn=U,ml="value"in Kn?Kn.value:Kn.textContent,Jr=!0)),re=hs(P,ce),0<re.length&&(ce=new Dd(ce,e,null,i,U),H.push({event:ce,listeners:re}),ie?ce.data=ie:(ie=Fd(i),ie!==null&&(ce.data=ie)))),(ie=c0?d0(e,i):f0(e,i))&&(P=hs(P,"onBeforeInput"),0<P.length&&(U=new Dd("onBeforeInput","beforeinput",null,i,U),H.push({event:U,listeners:P}),U.data=ie))}nf(H,n)})}function ro(e,n,i){return{instance:e,listener:n,currentTarget:i}}function hs(e,n){for(var i=n+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Bi(e,i),d!=null&&s.unshift(ro(e,d,u)),d=Bi(e,n),d!=null&&s.push(ro(e,d,u))),e=e.return}return s}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function of(e,n,i,s,u){for(var d=n._reactName,h=[];i!==null&&i!==s;){var y=i,E=y.alternate,P=y.stateNode;if(E!==null&&E===s)break;y.tag===5&&P!==null&&(y=P,u?(E=Bi(i,d),E!=null&&h.unshift(ro(i,E,y))):u||(E=Bi(i,d),E!=null&&h.push(ro(i,E,y)))),i=i.return}h.length!==0&&e.push({event:n,listeners:h})}var C0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function sf(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(R0,"")}function gs(e,n,i){if(n=sf(n),sf(e)!==n&&i)throw Error(o(425))}function ms(){}var Ml=null,Ll=null;function Ul(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(e){return af.resolve(null).then(e).catch(D0)}:Fl;function D0(e){setTimeout(function(){throw e})}function Hl(e,n){var i=n,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(s===0){e.removeChild(u),Xi(n);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=u}while(i);Xi(n)}function bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function lf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ri=Math.random().toString(36).slice(2),gn="__reactFiber$"+ri,io="__reactProps$"+ri,kn="__reactContainer$"+ri,Bl="__reactEvents$"+ri,N0="__reactListeners$"+ri,O0="__reactHandles$"+ri;function Tr(e){var n=e[gn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[kn]||i[gn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=lf(e);e!==null;){if(i=e[gn])return i;e=lf(e)}return n}e=i,i=e.parentNode}return null}function oo(e){return e=e[gn]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function vs(e){return e[io]||null}var xl=[],oi=-1;function qn(e){return{current:e}}function Le(e){0>oi||(e.current=xl[oi],xl[oi]=null,oi--)}function Ne(e,n){oi++,xl[oi]=e.current,e.current=n}var Zn={},dt=qn(Zn),It=qn(!1),Cr=Zn;function si(e,n){var i=e.type.contextTypes;if(!i)return Zn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=n[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Tt(e){return e=e.childContextTypes,e!=null}function ys(){Le(It),Le(dt)}function uf(e,n,i){if(dt.current!==Zn)throw Error(o(168));Ne(dt,n),Ne(It,i)}function cf(e,n,i){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var u in s)if(!(u in n))throw Error(o(108,fe(e)||"Unknown",u));return j({},i,s)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,Cr=dt.current,Ne(dt,e),Ne(It,It.current),!0}function df(e,n,i){var s=e.stateNode;if(!s)throw Error(o(169));i?(e=cf(e,n,Cr),s.__reactInternalMemoizedMergedChildContext=e,Le(It),Le(dt),Ne(dt,e)):Le(It),Ne(It,i)}var Dn=null,Es=!1,Gl=!1;function ff(e){Dn===null?Dn=[e]:Dn.push(e)}function M0(e){Es=!0,ff(e)}function Jn(){if(!Gl&&Dn!==null){Gl=!0;var e=0,n=Ce;try{var i=Dn;for(Ce=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}Dn=null,Es=!1}catch(u){throw Dn!==null&&(Dn=Dn.slice(e+1)),pd(ll,Jn),u}finally{Ce=n,Gl=!1}}return null}var ai=[],li=0,As=null,_s=0,Wt=[],jt=0,Rr=null,Nn=1,On="";function Pr(e,n){ai[li++]=_s,ai[li++]=As,As=e,_s=n}function pf(e,n,i){Wt[jt++]=Nn,Wt[jt++]=On,Wt[jt++]=Rr,Rr=e;var s=Nn;e=On;var u=32-nn(s)-1;s&=~(1<<u),i+=1;var d=32-nn(n)+u;if(30<d){var h=u-u%5;d=(s&(1<<h)-1).toString(32),s>>=h,u-=h,Nn=1<<32-nn(n)+u|i<<u|s,On=d+e}else Nn=1<<d|i<<u|s,On=e}function zl(e){e.return!==null&&(Pr(e,1),pf(e,1,0))}function Wl(e){for(;e===As;)As=ai[--li],ai[li]=null,_s=ai[--li],ai[li]=null;for(;e===Rr;)Rr=Wt[--jt],Wt[jt]=null,On=Wt[--jt],Wt[jt]=null,Nn=Wt[--jt],Wt[jt]=null}var Lt=null,Ut=null,He=!1,on=null;function hf(e,n){var i=Xt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function gf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Lt=e,Ut=bn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Lt=e,Ut=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Rr!==null?{id:Nn,overflow:On}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Xt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Lt=e,Ut=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(He){var n=Ut;if(n){var i=n;if(!gf(e,n)){if(jl(e))throw Error(o(418));n=bn(i.nextSibling);var s=Lt;n&&gf(e,n)?hf(s,i):(e.flags=e.flags&-4097|2,He=!1,Lt=e)}}else{if(jl(e))throw Error(o(418));e.flags=e.flags&-4097|2,He=!1,Lt=e}}}function mf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function ws(e){if(e!==Lt)return!1;if(!He)return mf(e),He=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ul(e.type,e.memoizedProps)),n&&(n=Ut)){if(jl(e))throw vf(),Error(o(418));for(;n;)hf(e,n),n=bn(n.nextSibling)}if(mf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ut=bn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ut=null}}else Ut=Lt?bn(e.stateNode.nextSibling):null;return!0}function vf(){for(var e=Ut;e;)e=bn(e.nextSibling)}function ui(){Ut=Lt=null,He=!1}function Yl(e){on===null?on=[e]:on.push(e)}var L0=F.ReactCurrentBatchConfig;function so(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var s=i.stateNode}if(!s)throw Error(o(147,e));var u=s,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var y=u.refs;h===null?delete y[d]:y[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Is(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function yf(e){var n=e._init;return n(e._payload)}function Sf(e){function n(T,_){if(e){var C=T.deletions;C===null?(T.deletions=[_],T.flags|=16):C.push(_)}}function i(T,_){if(!e)return null;for(;_!==null;)n(T,_),_=_.sibling;return null}function s(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function u(T,_){return T=ar(T,_),T.index=0,T.sibling=null,T}function d(T,_,C){return T.index=C,e?(C=T.alternate,C!==null?(C=C.index,C<_?(T.flags|=2,_):C):(T.flags|=2,_)):(T.flags|=1048576,_)}function h(T){return e&&T.alternate===null&&(T.flags|=2),T}function y(T,_,C,z){return _===null||_.tag!==6?(_=Fu(C,T.mode,z),_.return=T,_):(_=u(_,C),_.return=T,_)}function E(T,_,C,z){var ee=C.type;return ee===x?U(T,_,C.props.children,z,C.key):_!==null&&(_.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===he&&yf(ee)===_.type)?(z=u(_,C.props),z.ref=so(T,_,C),z.return=T,z):(z=Ks(C.type,C.key,C.props,null,T.mode,z),z.ref=so(T,_,C),z.return=T,z)}function P(T,_,C,z){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Hu(C,T.mode,z),_.return=T,_):(_=u(_,C.children||[]),_.return=T,_)}function U(T,_,C,z,ee){return _===null||_.tag!==7?(_=Fr(C,T.mode,z,ee),_.return=T,_):(_=u(_,C),_.return=T,_)}function H(T,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Fu(""+_,T.mode,C),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case K:return C=Ks(_.type,_.key,_.props,null,T.mode,C),C.ref=so(T,null,_),C.return=T,C;case M:return _=Hu(_,T.mode,C),_.return=T,_;case he:var z=_._init;return H(T,z(_._payload),C)}if(Wn(_)||$(_))return _=Fr(_,T.mode,C,null),_.return=T,_;Is(T,_)}return null}function L(T,_,C,z){var ee=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return ee!==null?null:y(T,_,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case K:return C.key===ee?E(T,_,C,z):null;case M:return C.key===ee?P(T,_,C,z):null;case he:return ee=C._init,L(T,_,ee(C._payload),z)}if(Wn(C)||$(C))return ee!==null?null:U(T,_,C,z,null);Is(T,C)}return null}function Y(T,_,C,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number")return T=T.get(C)||null,y(_,T,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return T=T.get(z.key===null?C:z.key)||null,E(_,T,z,ee);case M:return T=T.get(z.key===null?C:z.key)||null,P(_,T,z,ee);case he:var re=z._init;return Y(T,_,C,re(z._payload),ee)}if(Wn(z)||$(z))return T=T.get(C)||null,U(_,T,z,ee,null);Is(_,z)}return null}function q(T,_,C,z){for(var ee=null,re=null,ie=_,ce=_=0,st=null;ie!==null&&ce<C.length;ce++){ie.index>ce?(st=ie,ie=null):st=ie.sibling;var we=L(T,ie,C[ce],z);if(we===null){ie===null&&(ie=st);break}e&&ie&&we.alternate===null&&n(T,ie),_=d(we,_,ce),re===null?ee=we:re.sibling=we,re=we,ie=st}if(ce===C.length)return i(T,ie),He&&Pr(T,ce),ee;if(ie===null){for(;ce<C.length;ce++)ie=H(T,C[ce],z),ie!==null&&(_=d(ie,_,ce),re===null?ee=ie:re.sibling=ie,re=ie);return He&&Pr(T,ce),ee}for(ie=s(T,ie);ce<C.length;ce++)st=Y(ie,T,ce,C[ce],z),st!==null&&(e&&st.alternate!==null&&ie.delete(st.key===null?ce:st.key),_=d(st,_,ce),re===null?ee=st:re.sibling=st,re=st);return e&&ie.forEach(function(lr){return n(T,lr)}),He&&Pr(T,ce),ee}function Z(T,_,C,z){var ee=$(C);if(typeof ee!="function")throw Error(o(150));if(C=ee.call(C),C==null)throw Error(o(151));for(var re=ee=null,ie=_,ce=_=0,st=null,we=C.next();ie!==null&&!we.done;ce++,we=C.next()){ie.index>ce?(st=ie,ie=null):st=ie.sibling;var lr=L(T,ie,we.value,z);if(lr===null){ie===null&&(ie=st);break}e&&ie&&lr.alternate===null&&n(T,ie),_=d(lr,_,ce),re===null?ee=lr:re.sibling=lr,re=lr,ie=st}if(we.done)return i(T,ie),He&&Pr(T,ce),ee;if(ie===null){for(;!we.done;ce++,we=C.next())we=H(T,we.value,z),we!==null&&(_=d(we,_,ce),re===null?ee=we:re.sibling=we,re=we);return He&&Pr(T,ce),ee}for(ie=s(T,ie);!we.done;ce++,we=C.next())we=Y(ie,T,ce,we.value,z),we!==null&&(e&&we.alternate!==null&&ie.delete(we.key===null?ce:we.key),_=d(we,_,ce),re===null?ee=we:re.sibling=we,re=we);return e&&ie.forEach(function(pv){return n(T,pv)}),He&&Pr(T,ce),ee}function Ve(T,_,C,z){if(typeof C=="object"&&C!==null&&C.type===x&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case K:e:{for(var ee=C.key,re=_;re!==null;){if(re.key===ee){if(ee=C.type,ee===x){if(re.tag===7){i(T,re.sibling),_=u(re,C.props.children),_.return=T,T=_;break e}}else if(re.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===he&&yf(ee)===re.type){i(T,re.sibling),_=u(re,C.props),_.ref=so(T,re,C),_.return=T,T=_;break e}i(T,re);break}else n(T,re);re=re.sibling}C.type===x?(_=Fr(C.props.children,T.mode,z,C.key),_.return=T,T=_):(z=Ks(C.type,C.key,C.props,null,T.mode,z),z.ref=so(T,_,C),z.return=T,T=z)}return h(T);case M:e:{for(re=C.key;_!==null;){if(_.key===re)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){i(T,_.sibling),_=u(_,C.children||[]),_.return=T,T=_;break e}else{i(T,_);break}else n(T,_);_=_.sibling}_=Hu(C,T.mode,z),_.return=T,T=_}return h(T);case he:return re=C._init,Ve(T,_,re(C._payload),z)}if(Wn(C))return q(T,_,C,z);if($(C))return Z(T,_,C,z);Is(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(i(T,_.sibling),_=u(_,C),_.return=T,T=_):(i(T,_),_=Fu(C,T.mode,z),_.return=T,T=_),h(T)):i(T,_)}return Ve}var ci=Sf(!0),Ef=Sf(!1),Ts=qn(null),Cs=null,di=null,Vl=null;function Xl(){Vl=di=Cs=null}function Kl(e){var n=Ts.current;Le(Ts),e._currentValue=n}function Ql(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function fi(e,n){Cs=e,Vl=di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ct=!0),e.firstContext=null)}function $t(e){var n=e._currentValue;if(Vl!==e)if(e={context:e,memoizedValue:n,next:null},di===null){if(Cs===null)throw Error(o(308));di=e,Cs.dependencies={lanes:0,firstContext:e}}else di=di.next=e;return n}var kr=null;function bl(e){kr===null?kr=[e]:kr.push(e)}function Af(e,n,i,s){var u=n.interleaved;return u===null?(i.next=i,bl(n)):(i.next=u.next,u.next=i),n.interleaved=i,Mn(e,s)}function Mn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var er=!1;function ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function tr(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var u=s.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n,Mn(e,i)}return u=s.interleaved,u===null?(n.next=n,bl(s)):(n.next=u.next,u.next=n),s.interleaved=n,Mn(e,i)}function Rs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,dl(e,i)}}function wf(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=h:d=d.next=h,i=i.next}while(i!==null);d===null?u=d=n:d=d.next=n}else u=d=n;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ps(e,n,i,s){var u=e.updateQueue;er=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var E=y,P=E.next;E.next=null,h===null?d=P:h.next=P,h=E;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==h&&(y===null?U.firstBaseUpdate=P:y.next=P,U.lastBaseUpdate=E))}if(d!==null){var H=u.baseState;h=0,U=P=E=null,y=d;do{var L=y.lane,Y=y.eventTime;if((s&L)===L){U!==null&&(U=U.next={eventTime:Y,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var q=e,Z=y;switch(L=n,Y=i,Z.tag){case 1:if(q=Z.payload,typeof q=="function"){H=q.call(Y,H,L);break e}H=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Z.payload,L=typeof q=="function"?q.call(Y,H,L):q,L==null)break e;H=j({},H,L);break e;case 2:er=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,L=u.effects,L===null?u.effects=[y]:L.push(y))}else Y={eventTime:Y,lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(P=U=Y,E=H):U=U.next=Y,h|=L;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;L=y,y=L.next,L.next=null,u.lastBaseUpdate=L,u.shared.pending=null}}while(!0);if(U===null&&(E=H),u.baseState=E,u.firstBaseUpdate=P,u.lastBaseUpdate=U,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Or|=h,e.lanes=h,e.memoizedState=H}}function If(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],u=s.callback;if(u!==null){if(s.callback=null,s=i,typeof u!="function")throw Error(o(191,u));u.call(s)}}}var ao={},mn=qn(ao),lo=qn(ao),uo=qn(ao);function Dr(e){if(e===ao)throw Error(o(174));return e}function Zl(e,n){switch(Ne(uo,n),Ne(lo,e),Ne(mn,ao),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ja(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ja(n,e)}Le(mn),Ne(mn,n)}function pi(){Le(mn),Le(lo),Le(uo)}function Tf(e){Dr(uo.current);var n=Dr(mn.current),i=Ja(n,e.type);n!==i&&(Ne(lo,e),Ne(mn,i))}function Jl(e){lo.current===e&&(Le(mn),Le(lo))}var ze=qn(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var eu=[];function tu(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var Ds=F.ReactCurrentDispatcher,nu=F.ReactCurrentBatchConfig,Nr=0,We=null,et=null,it=null,Ns=!1,co=!1,fo=0,U0=0;function ft(){throw Error(o(321))}function ru(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!rn(e[i],n[i]))return!1;return!0}function iu(e,n,i,s,u,d){if(Nr=d,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ds.current=e===null||e.memoizedState===null?x0:G0,e=i(s,u),co){d=0;do{if(co=!1,fo=0,25<=d)throw Error(o(301));d+=1,it=et=null,n.updateQueue=null,Ds.current=z0,e=i(s,u)}while(co)}if(Ds.current=Ls,n=et!==null&&et.next!==null,Nr=0,it=et=We=null,Ns=!1,n)throw Error(o(300));return e}function ou(){var e=fo!==0;return fo=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?We.memoizedState=it=e:it=it.next=e,it}function Yt(){if(et===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var n=it===null?We.memoizedState:it.next;if(n!==null)it=n,et=e;else{if(e===null)throw Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?We.memoizedState=it=e:it=it.next=e}return it}function po(e,n){return typeof n=="function"?n(e):n}function su(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=et,u=s.baseQueue,d=i.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}s.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,s=s.baseState;var y=h=null,E=null,P=d;do{var U=P.lane;if((Nr&U)===U)E!==null&&(E=E.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var H={lane:U,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};E===null?(y=E=H,h=s):E=E.next=H,We.lanes|=U,Or|=U}P=P.next}while(P!==null&&P!==d);E===null?h=s:E.next=y,rn(s,n.memoizedState)||(Ct=!0),n.memoizedState=s,n.baseState=h,n.baseQueue=E,i.lastRenderedState=s}if(e=i.interleaved,e!==null){u=e;do d=u.lane,We.lanes|=d,Or|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function au(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,d=n.memoizedState;if(u!==null){i.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);rn(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,s]}function Cf(){}function Rf(e,n){var i=We,s=Yt(),u=n(),d=!rn(s.memoizedState,u);if(d&&(s.memoizedState=u,Ct=!0),s=s.queue,lu(Df.bind(null,i,s,e),[e]),s.getSnapshot!==n||d||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,ho(9,kf.bind(null,i,s,u,n),void 0,null),ot===null)throw Error(o(349));(Nr&30)!==0||Pf(i,n,u)}return u}function Pf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function kf(e,n,i,s){n.value=i,n.getSnapshot=s,Nf(n)&&Of(e)}function Df(e,n,i){return i(function(){Nf(n)&&Of(e)})}function Nf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!rn(e,i)}catch{return!0}}function Of(e){var n=Mn(e,1);n!==null&&un(n,e,1,-1)}function Mf(e){var n=vn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},n.queue=e,e=e.dispatch=B0.bind(null,We,e),[n.memoizedState,e]}function ho(e,n,i,s){return e={tag:e,create:n,destroy:i,deps:s,next:null},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e)),e}function Lf(){return Yt().memoizedState}function Os(e,n,i,s){var u=vn();We.flags|=e,u.memoizedState=ho(1|n,i,void 0,s===void 0?null:s)}function Ms(e,n,i,s){var u=Yt();s=s===void 0?null:s;var d=void 0;if(et!==null){var h=et.memoizedState;if(d=h.destroy,s!==null&&ru(s,h.deps)){u.memoizedState=ho(n,i,d,s);return}}We.flags|=e,u.memoizedState=ho(1|n,i,d,s)}function Uf(e,n){return Os(8390656,8,e,n)}function lu(e,n){return Ms(2048,8,e,n)}function Ff(e,n){return Ms(4,2,e,n)}function Hf(e,n){return Ms(4,4,e,n)}function Bf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xf(e,n,i){return i=i!=null?i.concat([e]):null,Ms(4,4,Bf.bind(null,n,e),i)}function uu(){}function Gf(e,n){var i=Yt();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&ru(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function zf(e,n){var i=Yt();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&ru(n,s[1])?s[0]:(e=e(),i.memoizedState=[e,n],e)}function Wf(e,n,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(rn(i,n)||(i=vd(),We.lanes|=i,Or|=i,e.baseState=!0),n)}function F0(e,n){var i=Ce;Ce=i!==0&&4>i?i:4,e(!0);var s=nu.transition;nu.transition={};try{e(!1),n()}finally{Ce=i,nu.transition=s}}function jf(){return Yt().memoizedState}function H0(e,n,i){var s=or(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},$f(e))Yf(n,i);else if(i=Af(e,n,i,s),i!==null){var u=Et();un(i,e,s,u),Vf(i,n,s)}}function B0(e,n,i){var s=or(e),u={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if($f(e))Yf(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,y=d(h,i);if(u.hasEagerState=!0,u.eagerState=y,rn(y,h)){var E=n.interleaved;E===null?(u.next=u,bl(n)):(u.next=E.next,E.next=u),n.interleaved=u;return}}catch{}finally{}i=Af(e,n,u,s),i!==null&&(u=Et(),un(i,e,s,u),Vf(i,n,s))}}function $f(e){var n=e.alternate;return e===We||n!==null&&n===We}function Yf(e,n){co=Ns=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Vf(e,n,i){if((i&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,dl(e,i)}}var Ls={readContext:$t,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},x0={readContext:$t,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:Uf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Os(4194308,4,Bf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Os(4194308,4,e,n)},useInsertionEffect:function(e,n){return Os(4,2,e,n)},useMemo:function(e,n){var i=vn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var s=vn();return n=i!==void 0?i(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=H0.bind(null,We,e),[s.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:Mf,useDebugValue:uu,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=Mf(!1),n=e[0];return e=F0.bind(null,e[1]),vn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var s=We,u=vn();if(He){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ot===null)throw Error(o(349));(Nr&30)!==0||Pf(s,n,i)}u.memoizedState=i;var d={value:i,getSnapshot:n};return u.queue=d,Uf(Df.bind(null,s,d,e),[e]),s.flags|=2048,ho(9,kf.bind(null,s,d,i,n),void 0,null),i},useId:function(){var e=vn(),n=ot.identifierPrefix;if(He){var i=On,s=Nn;i=(s&~(1<<32-nn(s)-1)).toString(32)+i,n=":"+n+"R"+i,i=fo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=U0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},G0={readContext:$t,useCallback:Gf,useContext:$t,useEffect:lu,useImperativeHandle:xf,useInsertionEffect:Ff,useLayoutEffect:Hf,useMemo:zf,useReducer:su,useRef:Lf,useState:function(){return su(po)},useDebugValue:uu,useDeferredValue:function(e){var n=Yt();return Wf(n,et.memoizedState,e)},useTransition:function(){var e=su(po)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:Cf,useSyncExternalStore:Rf,useId:jf,unstable_isNewReconciler:!1},z0={readContext:$t,useCallback:Gf,useContext:$t,useEffect:lu,useImperativeHandle:xf,useInsertionEffect:Ff,useLayoutEffect:Hf,useMemo:zf,useReducer:au,useRef:Lf,useState:function(){return au(po)},useDebugValue:uu,useDeferredValue:function(e){var n=Yt();return et===null?n.memoizedState=e:Wf(n,et.memoizedState,e)},useTransition:function(){var e=au(po)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:Cf,useSyncExternalStore:Rf,useId:jf,unstable_isNewReconciler:!1};function sn(e,n){if(e&&e.defaultProps){n=j({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function cu(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:j({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Us={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Et(),u=or(e),d=Ln(s,u);d.payload=n,i!=null&&(d.callback=i),n=tr(e,d,u),n!==null&&(un(n,e,u,s),Rs(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Et(),u=or(e),d=Ln(s,u);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=tr(e,d,u),n!==null&&(un(n,e,u,s),Rs(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Et(),s=or(e),u=Ln(i,s);u.tag=2,n!=null&&(u.callback=n),n=tr(e,u,s),n!==null&&(un(n,e,s,i),Rs(n,e,s))}};function Xf(e,n,i,s,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,h):n.prototype&&n.prototype.isPureReactComponent?!Ji(i,s)||!Ji(u,d):!0}function Kf(e,n,i){var s=!1,u=Zn,d=n.contextType;return typeof d=="object"&&d!==null?d=$t(d):(u=Tt(n)?Cr:dt.current,s=n.contextTypes,d=(s=s!=null)?si(e,u):Zn),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Us,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function Qf(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Us.enqueueReplaceState(n,n.state,null)}function du(e,n,i,s){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},ql(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=$t(d):(d=Tt(n)?Cr:dt.current,u.context=si(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(cu(e,n,d,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Us.enqueueReplaceState(u,u.state,null),Ps(e,i,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,n){try{var i="",s=n;do i+=ne(s),s=s.return;while(s);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function fu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function pu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var W0=typeof WeakMap=="function"?WeakMap:Map;function bf(e,n,i){i=Ln(-1,i),i.tag=3,i.payload={element:null};var s=n.value;return i.callback=function(){Ws||(Ws=!0,Pu=s),pu(e,n)},i}function qf(e,n,i){i=Ln(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=n.value;i.payload=function(){return s(u)},i.callback=function(){pu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){pu(e,n),typeof s!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),i}function Zf(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new W0;var u=new Set;s.set(n,u)}else u=s.get(n),u===void 0&&(u=new Set,s.set(n,u));u.has(i)||(u.add(i),e=nv.bind(null,e,n,i),n.then(e,e))}function Jf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ep(e,n,i,s,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Ln(-1,1),n.tag=2,tr(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var j0=F.ReactCurrentOwner,Ct=!1;function St(e,n,i,s){n.child=e===null?Ef(n,null,i,s):ci(n,e.child,i,s)}function tp(e,n,i,s,u){i=i.render;var d=n.ref;return fi(n,u),s=iu(e,n,i,s,d,u),i=ou(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Un(e,n,u)):(He&&i&&zl(n),n.flags|=1,St(e,n,s,u),n.child)}function np(e,n,i,s,u){if(e===null){var d=i.type;return typeof d=="function"&&!Uu(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,rp(e,n,d,s,u)):(e=Ks(i.type,null,s,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&u)===0){var h=d.memoizedProps;if(i=i.compare,i=i!==null?i:Ji,i(h,s)&&e.ref===n.ref)return Un(e,n,u)}return n.flags|=1,e=ar(d,s),e.ref=n.ref,e.return=n,n.child=e}function rp(e,n,i,s,u){if(e!==null){var d=e.memoizedProps;if(Ji(d,s)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=s=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,Un(e,n,u)}return hu(e,n,i,s,u)}function ip(e,n,i){var s=n.pendingProps,u=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(mi,Ft),Ft|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ne(mi,Ft),Ft|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,Ne(mi,Ft),Ft|=s}else d!==null?(s=d.baseLanes|i,n.memoizedState=null):s=i,Ne(mi,Ft),Ft|=s;return St(e,n,u,i),n.child}function op(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function hu(e,n,i,s,u){var d=Tt(i)?Cr:dt.current;return d=si(n,d),fi(n,u),i=iu(e,n,i,s,d,u),s=ou(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Un(e,n,u)):(He&&s&&zl(n),n.flags|=1,St(e,n,i,u),n.child)}function sp(e,n,i,s,u){if(Tt(i)){var d=!0;Ss(n)}else d=!1;if(fi(n,u),n.stateNode===null)Hs(e,n),Kf(n,i,s),du(n,i,s,u),s=!0;else if(e===null){var h=n.stateNode,y=n.memoizedProps;h.props=y;var E=h.context,P=i.contextType;typeof P=="object"&&P!==null?P=$t(P):(P=Tt(i)?Cr:dt.current,P=si(n,P));var U=i.getDerivedStateFromProps,H=typeof U=="function"||typeof h.getSnapshotBeforeUpdate=="function";H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||E!==P)&&Qf(n,h,s,P),er=!1;var L=n.memoizedState;h.state=L,Ps(n,s,h,u),E=n.memoizedState,y!==s||L!==E||It.current||er?(typeof U=="function"&&(cu(n,i,U,s),E=n.memoizedState),(y=er||Xf(n,i,y,s,L,E,P))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=E),h.props=s,h.state=E,h.context=P,s=y):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,_f(e,n),y=n.memoizedProps,P=n.type===n.elementType?y:sn(n.type,y),h.props=P,H=n.pendingProps,L=h.context,E=i.contextType,typeof E=="object"&&E!==null?E=$t(E):(E=Tt(i)?Cr:dt.current,E=si(n,E));var Y=i.getDerivedStateFromProps;(U=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==H||L!==E)&&Qf(n,h,s,E),er=!1,L=n.memoizedState,h.state=L,Ps(n,s,h,u);var q=n.memoizedState;y!==H||L!==q||It.current||er?(typeof Y=="function"&&(cu(n,i,Y,s),q=n.memoizedState),(P=er||Xf(n,i,P,s,L,q,E)||!1)?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,q,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,q,E)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=q),h.props=s,h.state=q,h.context=E,s=P):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return gu(e,n,i,s,d,u)}function gu(e,n,i,s,u,d){op(e,n);var h=(n.flags&128)!==0;if(!s&&!h)return u&&df(n,i,!1),Un(e,n,d);s=n.stateNode,j0.current=n;var y=h&&typeof i.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&h?(n.child=ci(n,e.child,null,d),n.child=ci(n,null,y,d)):St(e,n,y,d),n.memoizedState=s.state,u&&df(n,i,!0),n.child}function ap(e){var n=e.stateNode;n.pendingContext?uf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&uf(e,n.context,!1),Zl(e,n.containerInfo)}function lp(e,n,i,s,u){return ui(),Yl(u),n.flags|=256,St(e,n,i,s),n.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function up(e,n,i){var s=n.pendingProps,u=ze.current,d=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ne(ze,u&1),e===null)return $l(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=s.children,e=s.fallback,d?(s=n.mode,d=n.child,h={mode:"hidden",children:h},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Qs(h,s,0,null),e=Fr(e,s,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=vu(i),n.memoizedState=mu,e):yu(n,h));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return $0(e,n,h,s,y,u,i);if(d){d=s.fallback,h=n.mode,u=e.child,y=u.sibling;var E={mode:"hidden",children:s.children};return(h&1)===0&&n.child!==u?(s=n.child,s.childLanes=0,s.pendingProps=E,n.deletions=null):(s=ar(u,E),s.subtreeFlags=u.subtreeFlags&14680064),y!==null?d=ar(y,d):(d=Fr(d,h,i,null),d.flags|=2),d.return=n,s.return=n,s.sibling=d,n.child=s,s=d,d=n.child,h=e.child.memoizedState,h=h===null?vu(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~i,n.memoizedState=mu,s}return d=e.child,e=d.sibling,s=ar(d,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=i),s.return=n,s.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=s,n.memoizedState=null,s}function yu(e,n){return n=Qs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Fs(e,n,i,s){return s!==null&&Yl(s),ci(n,e.child,null,i),e=yu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $0(e,n,i,s,u,d,h){if(i)return n.flags&256?(n.flags&=-257,s=fu(Error(o(422))),Fs(e,n,h,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=s.fallback,u=n.mode,s=Qs({mode:"visible",children:s.children},u,0,null),d=Fr(d,u,h,null),d.flags|=2,s.return=n,d.return=n,s.sibling=d,n.child=s,(n.mode&1)!==0&&ci(n,e.child,null,h),n.child.memoizedState=vu(h),n.memoizedState=mu,d);if((n.mode&1)===0)return Fs(e,n,h,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var y=s.dgst;return s=y,d=Error(o(419)),s=fu(d,s,void 0),Fs(e,n,h,s)}if(y=(h&e.childLanes)!==0,Ct||y){if(s=ot,s!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|h))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Mn(e,u),un(s,e,u,-1))}return Lu(),s=fu(Error(o(421))),Fs(e,n,h,s)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=rv.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,Ut=bn(u.nextSibling),Lt=n,He=!0,on=null,e!==null&&(Wt[jt++]=Nn,Wt[jt++]=On,Wt[jt++]=Rr,Nn=e.id,On=e.overflow,Rr=n),n=yu(n,s.children),n.flags|=4096,n)}function cp(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ql(e.return,n,i)}function Su(e,n,i,s,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=u)}function dp(e,n,i){var s=n.pendingProps,u=s.revealOrder,d=s.tail;if(St(e,n,s.children,i),s=ze.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cp(e,i,n);else if(e.tag===19)cp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ne(ze,s),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&ks(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),Su(n,!1,u,i,d);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&ks(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Su(n,!0,i,null,d);break;case"together":Su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Un(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=ar(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ar(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Y0(e,n,i){switch(n.tag){case 3:ap(n),ui();break;case 5:Tf(n);break;case 1:Tt(n.type)&&Ss(n);break;case 4:Zl(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,u=n.memoizedProps.value;Ne(Ts,s._currentValue),s._currentValue=u;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Ne(ze,ze.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?up(e,n,i):(Ne(ze,ze.current&1),e=Un(e,n,i),e!==null?e.sibling:null);Ne(ze,ze.current&1);break;case 19:if(s=(i&n.childLanes)!==0,(e.flags&128)!==0){if(s)return dp(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ne(ze,ze.current),s)break;return null;case 22:case 23:return n.lanes=0,ip(e,n,i)}return Un(e,n,i)}var fp,Eu,pp,hp;fp=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eu=function(){},pp=function(e,n,i,s){var u=e.memoizedProps;if(u!==s){e=n.stateNode,Dr(mn.current);var d=null;switch(i){case"input":u=Ot(e,u),s=Ot(e,s),d=[];break;case"select":u=j({},u,{value:void 0}),s=j({},s,{value:void 0}),d=[];break;case"textarea":u=wr(e,u),s=wr(e,s),d=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ms)}el(i,s);var h;i=null;for(P in u)if(!s.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var y=u[P];for(h in y)y.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in s){var E=s[P];if(y=u!=null?u[P]:void 0,s.hasOwnProperty(P)&&E!==y&&(E!=null||y!=null))if(P==="style")if(y){for(h in y)!y.hasOwnProperty(h)||E&&E.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in E)E.hasOwnProperty(h)&&y[h]!==E[h]&&(i||(i={}),i[h]=E[h])}else i||(d||(d=[]),d.push(P,i)),i=E;else P==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,y=y?y.__html:void 0,E!=null&&y!==E&&(d=d||[]).push(P,E)):P==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(P,""+E):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(E!=null&&P==="onScroll"&&Me("scroll",e),d||y===E||(d=[])):(d=d||[]).push(P,E))}i&&(d=d||[]).push("style",i);var P=d;(n.updateQueue=P)&&(n.flags|=4)}},hp=function(e,n,i,s){i!==s&&(n.flags|=4)};function go(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function V0(e,n,i){var s=n.pendingProps;switch(Wl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return Tt(n.type)&&ys(),pt(n),null;case 3:return s=n.stateNode,pi(),Le(It),Le(dt),tu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ws(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,on!==null&&(Nu(on),on=null))),Eu(e,n),pt(n),null;case 5:Jl(n);var u=Dr(uo.current);if(i=n.type,e!==null&&n.stateNode!=null)pp(e,n,i,s,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(o(166));return pt(n),null}if(e=Dr(mn.current),ws(n)){s=n.stateNode,i=n.type;var d=n.memoizedProps;switch(s[gn]=n,s[io]=d,e=(n.mode&1)!==0,i){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(u=0;u<to.length;u++)Me(to[u],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":zt(s,d),Me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Me("invalid",s);break;case"textarea":bc(s,d),Me("invalid",s)}el(i,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var y=d[h];h==="children"?typeof y=="string"?s.textContent!==y&&(d.suppressHydrationWarning!==!0&&gs(s.textContent,y,e),u=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&gs(s.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&Me("scroll",s)}switch(i){case"input":Ie(s),zn(s,d,!0);break;case"textarea":Ie(s),Zc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=ms)}s=u,n.updateQueue=s,s!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(i,{is:s.is}):(e=h.createElement(i),i==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,i),e[gn]=n,e[io]=s,fp(e,n,!1,!1),n.stateNode=e;e:{switch(h=tl(i,s),i){case"dialog":Me("cancel",e),Me("close",e),u=s;break;case"iframe":case"object":case"embed":Me("load",e),u=s;break;case"video":case"audio":for(u=0;u<to.length;u++)Me(to[u],e);u=s;break;case"source":Me("error",e),u=s;break;case"img":case"image":case"link":Me("error",e),Me("load",e),u=s;break;case"details":Me("toggle",e),u=s;break;case"input":zt(e,s),u=Ot(e,s),Me("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=j({},s,{value:void 0}),Me("invalid",e);break;case"textarea":bc(e,s),u=wr(e,s),Me("invalid",e);break;default:u=s}el(i,u),y=u;for(d in y)if(y.hasOwnProperty(d)){var E=y[d];d==="style"?nd(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&ed(e,E)):d==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&Fi(e,E):typeof E=="number"&&Fi(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Me("scroll",e):E!=null&&B(e,d,E,h))}switch(i){case"input":Ie(e),zn(e,s,!1);break;case"textarea":Ie(e),Zc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+pe(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?jn(e,!!s.multiple,d,!1):s.defaultValue!=null&&jn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ms)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return pt(n),null;case 6:if(e&&n.stateNode!=null)hp(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(i=Dr(uo.current),Dr(mn.current),ws(n)){if(s=n.stateNode,i=n.memoizedProps,s[gn]=n,(d=s.nodeValue!==i)&&(e=Lt,e!==null))switch(e.tag){case 3:gs(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(s.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[gn]=n,n.stateNode=s}return pt(n),null;case 13:if(Le(ze),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Ut!==null&&(n.mode&1)!==0&&(n.flags&128)===0)vf(),ui(),n.flags|=98560,d=!1;else if(d=ws(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[gn]=n}else ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),d=!1}else on!==null&&(Nu(on),on=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ze.current&1)!==0?tt===0&&(tt=3):Lu())),n.updateQueue!==null&&(n.flags|=4),pt(n),null);case 4:return pi(),Eu(e,n),e===null&&no(n.stateNode.containerInfo),pt(n),null;case 10:return Kl(n.type._context),pt(n),null;case 17:return Tt(n.type)&&ys(),pt(n),null;case 19:if(Le(ze),d=n.memoizedState,d===null)return pt(n),null;if(s=(n.flags&128)!==0,h=d.rendering,h===null)if(s)go(d,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=ks(e),h!==null){for(n.flags|=128,go(d,!1),s=h.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=i,i=n.child;i!==null;)d=i,e=s,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(ze,ze.current&1|2),n.child}e=e.sibling}d.tail!==null&&Ye()>vi&&(n.flags|=128,s=!0,go(d,!1),n.lanes=4194304)}else{if(!s)if(e=ks(h),e!==null){if(n.flags|=128,s=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),go(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!He)return pt(n),null}else 2*Ye()-d.renderingStartTime>vi&&i!==1073741824&&(n.flags|=128,s=!0,go(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(i=d.last,i!==null?i.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ye(),n.sibling=null,i=ze.current,Ne(ze,s?i&1|2:i&1),n):(pt(n),null);case 22:case 23:return Mu(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Ft&1073741824)!==0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function X0(e,n){switch(Wl(n),n.tag){case 1:return Tt(n.type)&&ys(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pi(),Le(It),Le(dt),tu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Jl(n),null;case 13:if(Le(ze),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Le(ze),null;case 4:return pi(),null;case 10:return Kl(n.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Bs=!1,ht=!1,K0=typeof WeakSet=="function"?WeakSet:Set,X=null;function gi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){$e(e,n,s)}else i.current=null}function Au(e,n,i){try{i()}catch(s){$e(e,n,s)}}var gp=!1;function Q0(e,n){if(Ml=is,e=Vd(),Tl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var h=0,y=-1,E=-1,P=0,U=0,H=e,L=null;t:for(;;){for(var Y;H!==i||u!==0&&H.nodeType!==3||(y=h+u),H!==d||s!==0&&H.nodeType!==3||(E=h+s),H.nodeType===3&&(h+=H.nodeValue.length),(Y=H.firstChild)!==null;)L=H,H=Y;for(;;){if(H===e)break t;if(L===i&&++P===u&&(y=h),L===d&&++U===s&&(E=h),(Y=H.nextSibling)!==null)break;H=L,L=H.parentNode}H=Y}i=y===-1||E===-1?null:{start:y,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ll={focusedElem:e,selectionRange:i},is=!1,X=n;X!==null;)if(n=X,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,X=e;else for(;X!==null;){n=X;try{var q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var Z=q.memoizedProps,Ve=q.memoizedState,T=n.stateNode,_=T.getSnapshotBeforeUpdate(n.elementType===n.type?Z:sn(n.type,Z),Ve);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=n.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(z){$e(n,n.return,z)}if(e=n.sibling,e!==null){e.return=n.return,X=e;break}X=n.return}return q=gp,gp=!1,q}function mo(e,n,i){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Au(n,i,d)}u=u.next}while(u!==s)}}function xs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==n)}}function _u(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function mp(e){var n=e.alternate;n!==null&&(e.alternate=null,mp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[gn],delete n[io],delete n[Bl],delete n[N0],delete n[O0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vp(e){return e.tag===5||e.tag===3||e.tag===4}function yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ms));else if(s!==4&&(e=e.child,e!==null))for(wu(e,n,i),e=e.sibling;e!==null;)wu(e,n,i),e=e.sibling}function Iu(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Iu(e,n,i),e=e.sibling;e!==null;)Iu(e,n,i),e=e.sibling}var lt=null,an=!1;function nr(e,n,i){for(i=i.child;i!==null;)Sp(e,n,i),i=i.sibling}function Sp(e,n,i){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Zo,i)}catch{}switch(i.tag){case 5:ht||gi(i,n);case 6:var s=lt,u=an;lt=null,nr(e,n,i),lt=s,an=u,lt!==null&&(an?(e=lt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):lt.removeChild(i.stateNode));break;case 18:lt!==null&&(an?(e=lt,i=i.stateNode,e.nodeType===8?Hl(e.parentNode,i):e.nodeType===1&&Hl(e,i),Xi(e)):Hl(lt,i.stateNode));break;case 4:s=lt,u=an,lt=i.stateNode.containerInfo,an=!0,nr(e,n,i),lt=s,an=u;break;case 0:case 11:case 14:case 15:if(!ht&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&Au(i,n,h),u=u.next}while(u!==s)}nr(e,n,i);break;case 1:if(!ht&&(gi(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(y){$e(i,n,y)}nr(e,n,i);break;case 21:nr(e,n,i);break;case 22:i.mode&1?(ht=(s=ht)||i.memoizedState!==null,nr(e,n,i),ht=s):nr(e,n,i);break;default:nr(e,n,i)}}function Ep(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new K0),n.forEach(function(s){var u=iv.bind(null,e,s);i.has(s)||(i.add(s),s.then(u,u))})}}function ln(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];try{var d=e,h=n,y=h;e:for(;y!==null;){switch(y.tag){case 5:lt=y.stateNode,an=!1;break e;case 3:lt=y.stateNode.containerInfo,an=!0;break e;case 4:lt=y.stateNode.containerInfo,an=!0;break e}y=y.return}if(lt===null)throw Error(o(160));Sp(d,h,u),lt=null,an=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(P){$e(u,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ap(n,e),n=n.sibling}function Ap(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(n,e),yn(e),s&4){try{mo(3,e,e.return),xs(3,e)}catch(Z){$e(e,e.return,Z)}try{mo(5,e,e.return)}catch(Z){$e(e,e.return,Z)}}break;case 1:ln(n,e),yn(e),s&512&&i!==null&&gi(i,i.return);break;case 5:if(ln(n,e),yn(e),s&512&&i!==null&&gi(i,i.return),e.flags&32){var u=e.stateNode;try{Fi(u,"")}catch(Z){$e(e,e.return,Z)}}if(s&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=i!==null?i.memoizedProps:d,y=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&_r(u,d),tl(y,h);var P=tl(y,d);for(h=0;h<E.length;h+=2){var U=E[h],H=E[h+1];U==="style"?nd(u,H):U==="dangerouslySetInnerHTML"?ed(u,H):U==="children"?Fi(u,H):B(u,U,H,P)}switch(y){case"input":Pn(u,d);break;case"textarea":qc(u,d);break;case"select":var L=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?jn(u,!!d.multiple,Y,!1):L!==!!d.multiple&&(d.defaultValue!=null?jn(u,!!d.multiple,d.defaultValue,!0):jn(u,!!d.multiple,d.multiple?[]:"",!1))}u[io]=d}catch(Z){$e(e,e.return,Z)}}break;case 6:if(ln(n,e),yn(e),s&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(Z){$e(e,e.return,Z)}}break;case 3:if(ln(n,e),yn(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Xi(n.containerInfo)}catch(Z){$e(e,e.return,Z)}break;case 4:ln(n,e),yn(e);break;case 13:ln(n,e),yn(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Ru=Ye())),s&4&&Ep(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(ht=(P=ht)||U,ln(n,e),ht=P):ln(n,e),yn(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!U&&(e.mode&1)!==0)for(X=e,U=e.child;U!==null;){for(H=X=U;X!==null;){switch(L=X,Y=L.child,L.tag){case 0:case 11:case 14:case 15:mo(4,L,L.return);break;case 1:gi(L,L.return);var q=L.stateNode;if(typeof q.componentWillUnmount=="function"){s=L,i=L.return;try{n=s,q.props=n.memoizedProps,q.state=n.memoizedState,q.componentWillUnmount()}catch(Z){$e(s,i,Z)}}break;case 5:gi(L,L.return);break;case 22:if(L.memoizedState!==null){Ip(H);continue}}Y!==null?(Y.return=L,X=Y):Ip(H)}U=U.sibling}e:for(U=null,H=e;;){if(H.tag===5){if(U===null){U=H;try{u=H.stateNode,P?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=H.stateNode,E=H.memoizedProps.style,h=E!=null&&E.hasOwnProperty("display")?E.display:null,y.style.display=td("display",h))}catch(Z){$e(e,e.return,Z)}}}else if(H.tag===6){if(U===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(Z){$e(e,e.return,Z)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;U===H&&(U=null),H=H.return}U===H&&(U=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:ln(n,e),yn(e),s&4&&Ep(e);break;case 21:break;default:ln(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(vp(i)){var s=i;break e}i=i.return}throw Error(o(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Fi(u,""),s.flags&=-33);var d=yp(e);Iu(e,d,u);break;case 3:case 4:var h=s.stateNode.containerInfo,y=yp(e);wu(e,y,h);break;default:throw Error(o(161))}}catch(E){$e(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function b0(e,n,i){X=e,_p(e)}function _p(e,n,i){for(var s=(e.mode&1)!==0;X!==null;){var u=X,d=u.child;if(u.tag===22&&s){var h=u.memoizedState!==null||Bs;if(!h){var y=u.alternate,E=y!==null&&y.memoizedState!==null||ht;y=Bs;var P=ht;if(Bs=h,(ht=E)&&!P)for(X=u;X!==null;)h=X,E=h.child,h.tag===22&&h.memoizedState!==null?Tp(u):E!==null?(E.return=h,X=E):Tp(u);for(;d!==null;)X=d,_p(d),d=d.sibling;X=u,Bs=y,ht=P}wp(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,X=d):wp(e)}}function wp(e){for(;X!==null;){var n=X;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ht||xs(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!ht)if(i===null)s.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:sn(n.type,i.memoizedProps);s.componentDidUpdate(u,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&If(n,d,s);break;case 3:var h=n.updateQueue;if(h!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}If(n,h,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var U=P.memoizedState;if(U!==null){var H=U.dehydrated;H!==null&&Xi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ht||n.flags&512&&_u(n)}catch(L){$e(n,n.return,L)}}if(n===e){X=null;break}if(i=n.sibling,i!==null){i.return=n.return,X=i;break}X=n.return}}function Ip(e){for(;X!==null;){var n=X;if(n===e){X=null;break}var i=n.sibling;if(i!==null){i.return=n.return,X=i;break}X=n.return}}function Tp(e){for(;X!==null;){var n=X;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{xs(4,n)}catch(E){$e(n,i,E)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var u=n.return;try{s.componentDidMount()}catch(E){$e(n,u,E)}}var d=n.return;try{_u(n)}catch(E){$e(n,d,E)}break;case 5:var h=n.return;try{_u(n)}catch(E){$e(n,h,E)}}}catch(E){$e(n,n.return,E)}if(n===e){X=null;break}var y=n.sibling;if(y!==null){y.return=n.return,X=y;break}X=n.return}}var q0=Math.ceil,Gs=F.ReactCurrentDispatcher,Tu=F.ReactCurrentOwner,Vt=F.ReactCurrentBatchConfig,Ae=0,ot=null,be=null,ut=0,Ft=0,mi=qn(0),tt=0,vo=null,Or=0,zs=0,Cu=0,yo=null,Rt=null,Ru=0,vi=1/0,Fn=null,Ws=!1,Pu=null,rr=null,js=!1,ir=null,$s=0,So=0,ku=null,Ys=-1,Vs=0;function Et(){return(Ae&6)!==0?Ye():Ys!==-1?Ys:Ys=Ye()}function or(e){return(e.mode&1)===0?1:(Ae&2)!==0&&ut!==0?ut&-ut:L0.transition!==null?(Vs===0&&(Vs=vd()),Vs):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Cd(e.type)),e)}function un(e,n,i,s){if(50<So)throw So=0,ku=null,Error(o(185));Wi(e,i,s),((Ae&2)===0||e!==ot)&&(e===ot&&((Ae&2)===0&&(zs|=i),tt===4&&sr(e,ut)),Pt(e,s),i===1&&Ae===0&&(n.mode&1)===0&&(vi=Ye()+500,Es&&Jn()))}function Pt(e,n){var i=e.callbackNode;Lm(e,n);var s=ts(e,e===ot?ut:0);if(s===0)i!==null&&hd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(i!=null&&hd(i),n===1)e.tag===0?M0(Rp.bind(null,e)):ff(Rp.bind(null,e)),k0(function(){(Ae&6)===0&&Jn()}),i=null;else{switch(yd(s)){case 1:i=ll;break;case 4:i=gd;break;case 16:i=qo;break;case 536870912:i=md;break;default:i=qo}i=Up(i,Cp.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Cp(e,n){if(Ys=-1,Vs=0,(Ae&6)!==0)throw Error(o(327));var i=e.callbackNode;if(yi()&&e.callbackNode!==i)return null;var s=ts(e,e===ot?ut:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=Xs(e,s);else{n=s;var u=Ae;Ae|=2;var d=kp();(ot!==e||ut!==n)&&(Fn=null,vi=Ye()+500,Lr(e,n));do try{ev();break}catch(y){Pp(e,y)}while(!0);Xl(),Gs.current=d,Ae=u,be!==null?n=0:(ot=null,ut=0,n=tt)}if(n!==0){if(n===2&&(u=ul(e),u!==0&&(s=u,n=Du(e,u))),n===1)throw i=vo,Lr(e,0),sr(e,s),Pt(e,Ye()),i;if(n===6)sr(e,s);else{if(u=e.current.alternate,(s&30)===0&&!Z0(u)&&(n=Xs(e,s),n===2&&(d=ul(e),d!==0&&(s=d,n=Du(e,d))),n===1))throw i=vo,Lr(e,0),sr(e,s),Pt(e,Ye()),i;switch(e.finishedWork=u,e.finishedLanes=s,n){case 0:case 1:throw Error(o(345));case 2:Ur(e,Rt,Fn);break;case 3:if(sr(e,s),(s&130023424)===s&&(n=Ru+500-Ye(),10<n)){if(ts(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){Et(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Fl(Ur.bind(null,e,Rt,Fn),n);break}Ur(e,Rt,Fn);break;case 4:if(sr(e,s),(s&4194240)===s)break;for(n=e.eventTimes,u=-1;0<s;){var h=31-nn(s);d=1<<h,h=n[h],h>u&&(u=h),s&=~d}if(s=u,s=Ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*q0(s/1960))-s,10<s){e.timeoutHandle=Fl(Ur.bind(null,e,Rt,Fn),s);break}Ur(e,Rt,Fn);break;case 5:Ur(e,Rt,Fn);break;default:throw Error(o(329))}}}return Pt(e,Ye()),e.callbackNode===i?Cp.bind(null,e):null}function Du(e,n){var i=yo;return e.current.memoizedState.isDehydrated&&(Lr(e,n).flags|=256),e=Xs(e,n),e!==2&&(n=Rt,Rt=i,n!==null&&Nu(n)),e}function Nu(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function Z0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var u=i[s],d=u.getSnapshot;u=u.value;try{if(!rn(d(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(e,n){for(n&=~Cu,n&=~zs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;e[i]=-1,n&=~s}}function Rp(e){if((Ae&6)!==0)throw Error(o(327));yi();var n=ts(e,0);if((n&1)===0)return Pt(e,Ye()),null;var i=Xs(e,n);if(e.tag!==0&&i===2){var s=ul(e);s!==0&&(n=s,i=Du(e,s))}if(i===1)throw i=vo,Lr(e,0),sr(e,n),Pt(e,Ye()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ur(e,Rt,Fn),Pt(e,Ye()),null}function Ou(e,n){var i=Ae;Ae|=1;try{return e(n)}finally{Ae=i,Ae===0&&(vi=Ye()+500,Es&&Jn())}}function Mr(e){ir!==null&&ir.tag===0&&(Ae&6)===0&&yi();var n=Ae;Ae|=1;var i=Vt.transition,s=Ce;try{if(Vt.transition=null,Ce=1,e)return e()}finally{Ce=s,Vt.transition=i,Ae=n,(Ae&6)===0&&Jn()}}function Mu(){Ft=mi.current,Le(mi)}function Lr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,P0(i)),be!==null)for(i=be.return;i!==null;){var s=i;switch(Wl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ys();break;case 3:pi(),Le(It),Le(dt),tu();break;case 5:Jl(s);break;case 4:pi();break;case 13:Le(ze);break;case 19:Le(ze);break;case 10:Kl(s.type._context);break;case 22:case 23:Mu()}i=i.return}if(ot=e,be=e=ar(e.current,null),ut=Ft=n,tt=0,vo=null,Cu=zs=Or=0,Rt=yo=null,kr!==null){for(n=0;n<kr.length;n++)if(i=kr[n],s=i.interleaved,s!==null){i.interleaved=null;var u=s.next,d=i.pending;if(d!==null){var h=d.next;d.next=u,s.next=h}i.pending=s}kr=null}return e}function Pp(e,n){do{var i=be;try{if(Xl(),Ds.current=Ls,Ns){for(var s=We.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}Ns=!1}if(Nr=0,it=et=We=null,co=!1,fo=0,Tu.current=null,i===null||i.return===null){tt=1,vo=n,be=null;break}e:{var d=e,h=i.return,y=i,E=n;if(n=ut,y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=E,U=y,H=U.tag;if((U.mode&1)===0&&(H===0||H===11||H===15)){var L=U.alternate;L?(U.updateQueue=L.updateQueue,U.memoizedState=L.memoizedState,U.lanes=L.lanes):(U.updateQueue=null,U.memoizedState=null)}var Y=Jf(h);if(Y!==null){Y.flags&=-257,ep(Y,h,y,d,n),Y.mode&1&&Zf(d,P,n),n=Y,E=P;var q=n.updateQueue;if(q===null){var Z=new Set;Z.add(E),n.updateQueue=Z}else q.add(E);break e}else{if((n&1)===0){Zf(d,P,n),Lu();break e}E=Error(o(426))}}else if(He&&y.mode&1){var Ve=Jf(h);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),ep(Ve,h,y,d,n),Yl(hi(E,y));break e}}d=E=hi(E,y),tt!==4&&(tt=2),yo===null?yo=[d]:yo.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var T=bf(d,E,n);wf(d,T);break e;case 1:y=E;var _=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(rr===null||!rr.has(C)))){d.flags|=65536,n&=-n,d.lanes|=n;var z=qf(d,y,n);wf(d,z);break e}}d=d.return}while(d!==null)}Np(i)}catch(ee){n=ee,be===i&&i!==null&&(be=i=i.return);continue}break}while(!0)}function kp(){var e=Gs.current;return Gs.current=Ls,e===null?Ls:e}function Lu(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||(Or&268435455)===0&&(zs&268435455)===0||sr(ot,ut)}function Xs(e,n){var i=Ae;Ae|=2;var s=kp();(ot!==e||ut!==n)&&(Fn=null,Lr(e,n));do try{J0();break}catch(u){Pp(e,u)}while(!0);if(Xl(),Ae=i,Gs.current=s,be!==null)throw Error(o(261));return ot=null,ut=0,tt}function J0(){for(;be!==null;)Dp(be)}function ev(){for(;be!==null&&!Tm();)Dp(be)}function Dp(e){var n=Lp(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,n===null?Np(e):be=n,Tu.current=null}function Np(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=V0(i,n,Ft),i!==null){be=i;return}}else{if(i=X0(i,n),i!==null){i.flags&=32767,be=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,be=null;return}}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);tt===0&&(tt=5)}function Ur(e,n,i){var s=Ce,u=Vt.transition;try{Vt.transition=null,Ce=1,tv(e,n,i,s)}finally{Vt.transition=u,Ce=s}return null}function tv(e,n,i,s){do yi();while(ir!==null);if((Ae&6)!==0)throw Error(o(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Um(e,d),e===ot&&(be=ot=null,ut=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||js||(js=!0,Up(qo,function(){return yi(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Vt.transition,Vt.transition=null;var h=Ce;Ce=1;var y=Ae;Ae|=4,Tu.current=null,Q0(e,i),Ap(i,e),A0(Ll),is=!!Ml,Ll=Ml=null,e.current=i,b0(i),Cm(),Ae=y,Ce=h,Vt.transition=d}else e.current=i;if(js&&(js=!1,ir=e,$s=u),d=e.pendingLanes,d===0&&(rr=null),km(i.stateNode),Pt(e,Ye()),n!==null)for(s=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],s(u.value,{componentStack:u.stack,digest:u.digest});if(Ws)throw Ws=!1,e=Pu,Pu=null,e;return($s&1)!==0&&e.tag!==0&&yi(),d=e.pendingLanes,(d&1)!==0?e===ku?So++:(So=0,ku=e):So=0,Jn(),null}function yi(){if(ir!==null){var e=yd($s),n=Vt.transition,i=Ce;try{if(Vt.transition=null,Ce=16>e?16:e,ir===null)var s=!1;else{if(e=ir,ir=null,$s=0,(Ae&6)!==0)throw Error(o(331));var u=Ae;for(Ae|=4,X=e.current;X!==null;){var d=X,h=d.child;if((X.flags&16)!==0){var y=d.deletions;if(y!==null){for(var E=0;E<y.length;E++){var P=y[E];for(X=P;X!==null;){var U=X;switch(U.tag){case 0:case 11:case 15:mo(8,U,d)}var H=U.child;if(H!==null)H.return=U,X=H;else for(;X!==null;){U=X;var L=U.sibling,Y=U.return;if(mp(U),U===P){X=null;break}if(L!==null){L.return=Y,X=L;break}X=Y}}}var q=d.alternate;if(q!==null){var Z=q.child;if(Z!==null){q.child=null;do{var Ve=Z.sibling;Z.sibling=null,Z=Ve}while(Z!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,X=h;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:mo(9,d,d.return)}var T=d.sibling;if(T!==null){T.return=d.return,X=T;break e}X=d.return}}var _=e.current;for(X=_;X!==null;){h=X;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,X=C;else e:for(h=_;X!==null;){if(y=X,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:xs(9,y)}}catch(ee){$e(y,y.return,ee)}if(y===h){X=null;break e}var z=y.sibling;if(z!==null){z.return=y.return,X=z;break e}X=y.return}}if(Ae=u,Jn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Zo,e)}catch{}s=!0}return s}finally{Ce=i,Vt.transition=n}}return!1}function Op(e,n,i){n=hi(i,n),n=bf(e,n,1),e=tr(e,n,1),n=Et(),e!==null&&(Wi(e,1,n),Pt(e,n))}function $e(e,n,i){if(e.tag===3)Op(e,e,i);else for(;n!==null;){if(n.tag===3){Op(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rr===null||!rr.has(s))){e=hi(i,e),e=qf(n,e,1),n=tr(n,e,1),e=Et(),n!==null&&(Wi(n,1,e),Pt(n,e));break}}n=n.return}}function nv(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),n=Et(),e.pingedLanes|=e.suspendedLanes&i,ot===e&&(ut&i)===i&&(tt===4||tt===3&&(ut&130023424)===ut&&500>Ye()-Ru?Lr(e,0):Cu|=i),Pt(e,n)}function Mp(e,n){n===0&&((e.mode&1)===0?n=1:(n=es,es<<=1,(es&130023424)===0&&(es=4194304)));var i=Et();e=Mn(e,n),e!==null&&(Wi(e,n,i),Pt(e,i))}function rv(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Mp(e,i)}function iv(e,n){var i=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(n),Mp(e,i)}var Lp;Lp=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||It.current)Ct=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Ct=!1,Y0(e,n,i);Ct=(e.flags&131072)!==0}else Ct=!1,He&&(n.flags&1048576)!==0&&pf(n,_s,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;Hs(e,n),e=n.pendingProps;var u=si(n,dt.current);fi(n,i),u=iu(null,n,s,e,u,i);var d=ou();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Tt(s)?(d=!0,Ss(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ql(n),u.updater=Us,n.stateNode=u,u._reactInternals=n,du(n,s,e,i),n=gu(null,n,s,!0,d,i)):(n.tag=0,He&&d&&zl(n),St(null,n,u,i),n=n.child),n;case 16:s=n.elementType;e:{switch(Hs(e,n),e=n.pendingProps,u=s._init,s=u(s._payload),n.type=s,u=n.tag=sv(s),e=sn(s,e),u){case 0:n=hu(null,n,s,e,i);break e;case 1:n=sp(null,n,s,e,i);break e;case 11:n=tp(null,n,s,e,i);break e;case 14:n=np(null,n,s,sn(s.type,e),i);break e}throw Error(o(306,s,""))}return n;case 0:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),hu(e,n,s,u,i);case 1:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),sp(e,n,s,u,i);case 3:e:{if(ap(n),e===null)throw Error(o(387));s=n.pendingProps,d=n.memoizedState,u=d.element,_f(e,n),Ps(n,s,null,i);var h=n.memoizedState;if(s=h.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=hi(Error(o(423)),n),n=lp(e,n,s,i,u);break e}else if(s!==u){u=hi(Error(o(424)),n),n=lp(e,n,s,i,u);break e}else for(Ut=bn(n.stateNode.containerInfo.firstChild),Lt=n,He=!0,on=null,i=Ef(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ui(),s===u){n=Un(e,n,i);break e}St(e,n,s,i)}n=n.child}return n;case 5:return Tf(n),e===null&&$l(n),s=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Ul(s,u)?h=null:d!==null&&Ul(s,d)&&(n.flags|=32),op(e,n),St(e,n,h,i),n.child;case 6:return e===null&&$l(n),null;case 13:return up(e,n,i);case 4:return Zl(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ci(n,null,s,i):St(e,n,s,i),n.child;case 11:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),tp(e,n,s,u,i);case 7:return St(e,n,n.pendingProps,i),n.child;case 8:return St(e,n,n.pendingProps.children,i),n.child;case 12:return St(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(s=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,Ne(Ts,s._currentValue),s._currentValue=h,d!==null)if(rn(d.value,h)){if(d.children===u.children&&!It.current){n=Un(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var y=d.dependencies;if(y!==null){h=d.child;for(var E=y.firstContext;E!==null;){if(E.context===s){if(d.tag===1){E=Ln(-1,i&-i),E.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var U=P.pending;U===null?E.next=E:(E.next=U.next,U.next=E),P.pending=E}}d.lanes|=i,E=d.alternate,E!==null&&(E.lanes|=i),Ql(d.return,i,n),y.lanes|=i;break}E=E.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=i,y=h.alternate,y!==null&&(y.lanes|=i),Ql(h,i,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}St(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,s=n.pendingProps.children,fi(n,i),u=$t(u),s=s(u),n.flags|=1,St(e,n,s,i),n.child;case 14:return s=n.type,u=sn(s,n.pendingProps),u=sn(s.type,u),np(e,n,s,u,i);case 15:return rp(e,n,n.type,n.pendingProps,i);case 17:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),Hs(e,n),n.tag=1,Tt(s)?(e=!0,Ss(n)):e=!1,fi(n,i),Kf(n,s,u),du(n,s,u,i),gu(null,n,s,!0,e,i);case 19:return dp(e,n,i);case 22:return ip(e,n,i)}throw Error(o(156,n.tag))};function Up(e,n){return pd(e,n)}function ov(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,i,s){return new ov(e,n,i,s)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sv(e){if(typeof e=="function")return Uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ge)return 11;if(e===Ee)return 14}return 2}function ar(e,n){var i=e.alternate;return i===null?(i=Xt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ks(e,n,i,s,u,d){var h=2;if(s=e,typeof e=="function")Uu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case x:return Fr(i.children,u,d,n);case Q:h=8,u|=8;break;case ke:return e=Xt(12,i,n,u|2),e.elementType=ke,e.lanes=d,e;case De:return e=Xt(13,i,n,u),e.elementType=De,e.lanes=d,e;case ye:return e=Xt(19,i,n,u),e.elementType=ye,e.lanes=d,e;case oe:return Qs(i,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:h=10;break e;case rt:h=9;break e;case Ge:h=11;break e;case Ee:h=14;break e;case he:h=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Xt(h,i,n,u),n.elementType=e,n.type=s,n.lanes=d,n}function Fr(e,n,i,s){return e=Xt(7,e,s,n),e.lanes=i,e}function Qs(e,n,i,s){return e=Xt(22,e,s,n),e.elementType=oe,e.lanes=i,e.stateNode={isHidden:!1},e}function Fu(e,n,i){return e=Xt(6,e,null,n),e.lanes=i,e}function Hu(e,n,i){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function av(e,n,i,s,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Bu(e,n,i,s,u,d,h,y,E){return e=new av(e,n,i,y,E),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Xt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(d),e}function lv(e,n,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:s==null?null:""+s,children:e,containerInfo:n,implementation:i}}function Fp(e){if(!e)return Zn;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Tt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Tt(i))return cf(e,i,n)}return n}function Hp(e,n,i,s,u,d,h,y,E){return e=Bu(i,s,!0,e,u,d,h,y,E),e.context=Fp(null),i=e.current,s=Et(),u=or(i),d=Ln(s,u),d.callback=n??null,tr(i,d,u),e.current.lanes=u,Wi(e,u,s),Pt(e,s),e}function bs(e,n,i,s){var u=n.current,d=Et(),h=or(u);return i=Fp(i),n.context===null?n.context=i:n.pendingContext=i,n=Ln(d,h),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=tr(u,n,h),e!==null&&(un(e,u,h,d),Rs(e,u,h)),h}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function xu(e,n){Bp(e,n),(e=e.alternate)&&Bp(e,n)}function uv(){return null}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}Zs.prototype.render=Gu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));bs(e,n,null,null)},Zs.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Mr(function(){bs(null,e,null,null)}),n[kn]=null}};function Zs(e){this._internalRoot=e}Zs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ad();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xn.length&&n!==0&&n<Xn[i].priority;i++);Xn.splice(i,0,e),i===0&&Id(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gp(){}function cv(e,n,i,s,u){if(u){if(typeof s=="function"){var d=s;s=function(){var P=qs(h);d.call(P)}}var h=Hp(n,s,e,0,null,!1,!1,"",Gp);return e._reactRootContainer=h,e[kn]=h.current,no(e.nodeType===8?e.parentNode:e),Mr(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var y=s;s=function(){var P=qs(E);y.call(P)}}var E=Bu(e,0,!1,null,null,!1,!1,"",Gp);return e._reactRootContainer=E,e[kn]=E.current,no(e.nodeType===8?e.parentNode:e),Mr(function(){bs(n,E,i,s)}),E}function ea(e,n,i,s,u){var d=i._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var y=u;u=function(){var E=qs(h);y.call(E)}}bs(n,h,e,u)}else h=cv(i,n,e,u,s);return qs(h)}Sd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=zi(n.pendingLanes);i!==0&&(dl(n,i|1),Pt(n,Ye()),(Ae&6)===0&&(vi=Ye()+500,Jn()))}break;case 13:Mr(function(){var s=Mn(e,1);if(s!==null){var u=Et();un(s,e,1,u)}}),xu(e,1)}},fl=function(e){if(e.tag===13){var n=Mn(e,134217728);if(n!==null){var i=Et();un(n,e,134217728,i)}xu(e,134217728)}},Ed=function(e){if(e.tag===13){var n=or(e),i=Mn(e,n);if(i!==null){var s=Et();un(i,e,n,s)}xu(e,n)}},Ad=function(){return Ce},_d=function(e,n){var i=Ce;try{return Ce=e,n()}finally{Ce=i}},il=function(e,n,i){switch(n){case"input":if(Pn(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var u=vs(s);if(!u)throw Error(o(90));de(s),Pn(s,u)}}}break;case"textarea":qc(e,i);break;case"select":n=i.value,n!=null&&jn(e,!!i.multiple,n,!1)}},sd=Ou,ad=Mr;var dv={usingClientEntryPoint:!1,Events:[oo,ii,vs,id,od,Ou]},Eo={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fv={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dd(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Zo=ta.inject(fv),hn=ta}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dv,kt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(n))throw Error(o(200));return lv(e,n,null,i)},kt.createRoot=function(e,n){if(!zu(e))throw Error(o(299));var i=!1,s="",u=xp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Bu(e,1,!1,null,null,i,!1,s,u),e[kn]=n.current,no(e.nodeType===8?e.parentNode:e),new Gu(n)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=dd(n),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Mr(e)},kt.hydrate=function(e,n,i){if(!Js(n))throw Error(o(200));return ea(null,e,n,!0,i)},kt.hydrateRoot=function(e,n,i){if(!zu(e))throw Error(o(405));var s=i!=null&&i.hydratedSources||null,u=!1,d="",h=xp;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),n=Hp(n,null,e,1,i??null,u,!1,d,h),e[kn]=n.current,no(e),s)for(e=0;e<s.length;e++)i=s[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new Zs(n)},kt.render=function(e,n,i){if(!Js(n))throw Error(o(200));return ea(null,e,n,!1,i)},kt.unmountComponentAtNode=function(e){if(!Js(e))throw Error(o(40));return e._reactRootContainer?(Mr(function(){ea(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1},kt.unstable_batchedUpdates=Ou,kt.unstable_renderSubtreeIntoContainer=function(e,n,i,s){if(!Js(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return ea(e,n,i,!1,s)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Kp;function _v(){if(Kp)return $u.exports;Kp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),$u.exports=Av(),$u.exports}var Qp;function wv(){if(Qp)return na;Qp=1;var t=_v();return na.createRoot=t.createRoot,na.hydrateRoot=t.hydrateRoot,na}var Iv=wv();const Tv=tg(Iv),ng=Se.createContext(void 0),Cv=({initialAppState:t,children:r})=>{const[o,a]=Se.useState(t),[l,c]=Se.useState(void 0),f=(p,g)=>{a(p),p==="gameOver"&&g?c(g):p!=="gameOver"&&c(void 0)};return Re.jsx(ng.Provider,{value:{appState:o,setAppState:f,gameOverDetails:l},children:r})},La=()=>{const t=Se.useContext(ng);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var vt=function(){return vt=Object.assign||function(r){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},vt.apply(this,arguments)};function Fo(t,r,o){if(o||arguments.length===2)for(var a=0,l=r.length,c;a<l;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return t.concat(c||Array.prototype.slice.call(r))}var Ue="-ms-",Oo="-moz-",Te="-webkit-",rg="comm",Ua="rule",Cc="decl",Rv="@import",ig="@keyframes",Pv="@layer",og=Math.abs,Rc=String.fromCharCode,uc=Object.assign;function kv(t,r){return at(t,0)^45?(((r<<2^at(t,0))<<2^at(t,1))<<2^at(t,2))<<2^at(t,3):0}function sg(t){return t.trim()}function Bn(t,r){return(t=r.exec(t))?t[0]:t}function ge(t,r,o){return t.replace(r,o)}function pa(t,r,o){return t.indexOf(r,o)}function at(t,r){return t.charCodeAt(r)|0}function Ci(t,r,o){return t.slice(r,o)}function An(t){return t.length}function ag(t){return t.length}function Po(t,r){return r.push(t),t}function Dv(t,r){return t.map(r).join("")}function bp(t,r){return t.filter(function(o){return!Bn(o,r)})}var Fa=1,Ri=1,lg=0,Jt=0,qe=0,Li="";function Ha(t,r,o,a,l,c,f,p){return{value:t,root:r,parent:o,type:a,props:l,children:c,line:Fa,column:Ri,length:f,return:"",siblings:p}}function hr(t,r){return uc(Ha("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function Si(t){for(;t.root;)t=hr(t.root,{children:[t]});Po(t,t.siblings)}function Nv(){return qe}function Ov(){return qe=Jt>0?at(Li,--Jt):0,Ri--,qe===10&&(Ri=1,Fa--),qe}function dn(){return qe=Jt<lg?at(Li,Jt++):0,Ri++,qe===10&&(Ri=1,Fa++),qe}function jr(){return at(Li,Jt)}function ha(){return Jt}function Ba(t,r){return Ci(Li,t,r)}function cc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Mv(t){return Fa=Ri=1,lg=An(Li=t),Jt=0,[]}function Lv(t){return Li="",t}function Xu(t){return sg(Ba(Jt-1,dc(t===91?t+2:t===40?t+1:t)))}function Uv(t){for(;(qe=jr())&&qe<33;)dn();return cc(t)>2||cc(qe)>3?"":" "}function Fv(t,r){for(;--r&&dn()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return Ba(t,ha()+(r<6&&jr()==32&&dn()==32))}function dc(t){for(;dn();)switch(qe){case t:return Jt;case 34:case 39:t!==34&&t!==39&&dc(qe);break;case 40:t===41&&dc(t);break;case 92:dn();break}return Jt}function Hv(t,r){for(;dn()&&t+qe!==57;)if(t+qe===84&&jr()===47)break;return"/*"+Ba(r,Jt-1)+"*"+Rc(t===47?t:dn())}function Bv(t){for(;!cc(jr());)dn();return Ba(t,Jt)}function xv(t){return Lv(ga("",null,null,null,[""],t=Mv(t),0,[0],t))}function ga(t,r,o,a,l,c,f,p,g){for(var m=0,v=0,S=f,R=0,I=0,N=0,D=1,A=1,k=1,W=0,B="",F=l,K=c,M=a,x=B;A;)switch(N=W,W=dn()){case 40:if(N!=108&&at(x,S-1)==58){pa(x+=ge(Xu(W),"&","&\f"),"&\f",og(m?p[m-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:x+=Xu(W);break;case 9:case 10:case 13:case 32:x+=Uv(N);break;case 92:x+=Fv(ha()-1,7);continue;case 47:switch(jr()){case 42:case 47:Po(Gv(Hv(dn(),ha()),r,o,g),g);break;default:x+="/"}break;case 123*D:p[m++]=An(x)*k;case 125*D:case 59:case 0:switch(W){case 0:case 125:A=0;case 59+v:k==-1&&(x=ge(x,/\f/g,"")),I>0&&An(x)-S&&Po(I>32?Zp(x+";",a,o,S-1,g):Zp(ge(x," ","")+";",a,o,S-2,g),g);break;case 59:x+=";";default:if(Po(M=qp(x,r,o,m,v,l,p,B,F=[],K=[],S,c),c),W===123)if(v===0)ga(x,r,M,M,F,c,S,p,K);else switch(R===99&&at(x,3)===110?100:R){case 100:case 108:case 109:case 115:ga(t,M,M,a&&Po(qp(t,M,M,0,0,l,p,B,l,F=[],S,K),K),l,K,S,p,a?F:K);break;default:ga(x,M,M,M,[""],K,0,p,K)}}m=v=I=0,D=k=1,B=x="",S=f;break;case 58:S=1+An(x),I=N;default:if(D<1){if(W==123)--D;else if(W==125&&D++==0&&Ov()==125)continue}switch(x+=Rc(W),W*D){case 38:k=v>0?1:(x+="\f",-1);break;case 44:p[m++]=(An(x)-1)*k,k=1;break;case 64:jr()===45&&(x+=Xu(dn())),R=jr(),v=S=An(B=x+=Bv(ha())),W++;break;case 45:N===45&&An(x)==2&&(D=0)}}return c}function qp(t,r,o,a,l,c,f,p,g,m,v,S){for(var R=l-1,I=l===0?c:[""],N=ag(I),D=0,A=0,k=0;D<a;++D)for(var W=0,B=Ci(t,R+1,R=og(A=f[D])),F=t;W<N;++W)(F=sg(A>0?I[W]+" "+B:ge(B,/&\f/g,I[W])))&&(g[k++]=F);return Ha(t,r,o,l===0?Ua:p,g,m,v,S)}function Gv(t,r,o,a){return Ha(t,r,o,rg,Rc(Nv()),Ci(t,2,-2),0,a)}function Zp(t,r,o,a,l){return Ha(t,r,o,Cc,Ci(t,0,a),Ci(t,a+1,-1),a,l)}function ug(t,r,o){switch(kv(t,r)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 4789:return Oo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Oo+t+Ue+t+t;case 5936:switch(at(t,r+11)){case 114:return Te+t+Ue+ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+Ue+ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+Ue+ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Te+t+Ue+t+t;case 6165:return Te+t+Ue+"flex-"+t+t;case 5187:return Te+t+ge(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Ue+"flex-$1$2")+t;case 5443:return Te+t+Ue+"flex-item-"+ge(t,/flex-|-self/g,"")+(Bn(t,/flex-|baseline/)?"":Ue+"grid-row-"+ge(t,/flex-|-self/g,""))+t;case 4675:return Te+t+Ue+"flex-line-pack"+ge(t,/align-content|flex-|-self/g,"")+t;case 5548:return Te+t+Ue+ge(t,"shrink","negative")+t;case 5292:return Te+t+Ue+ge(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+ge(t,"-grow","")+Te+t+Ue+ge(t,"grow","positive")+t;case 4554:return Te+ge(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return ge(ge(ge(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return ge(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return ge(ge(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Ue+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4200:if(!Bn(t,/flex-|baseline/))return Ue+"grid-column-align"+Ci(t,r)+t;break;case 2592:case 3360:return Ue+ge(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(a,l){return r=l,Bn(a.props,/grid-\w+-end/)})?~pa(t+(o=o[r].value),"span",0)?t:Ue+ge(t,"-start","")+t+Ue+"grid-row-span:"+(~pa(o,"span",0)?Bn(o,/\d+/):+Bn(o,/\d+/)-+Bn(t,/\d+/))+";":Ue+ge(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(a){return Bn(a.props,/grid-\w+-start/)})?t:Ue+ge(ge(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ge(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(An(t)-1-r>6)switch(at(t,r+1)){case 109:if(at(t,r+4)!==45)break;case 102:return ge(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Oo+(at(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~pa(t,"stretch",0)?ug(ge(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return ge(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,l,c,f,p,g,m){return Ue+l+":"+c+m+(f?Ue+l+"-span:"+(p?g:+g-+c)+m:"")+t});case 4949:if(at(t,r+6)===121)return ge(t,":",":"+Te)+t;break;case 6444:switch(at(t,at(t,14)===45?18:11)){case 120:return ge(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(at(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Ue+"$2box$3")+t;case 100:return ge(t,":",":"+Ue)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ge(t,"scroll-","scroll-snap-")+t}return t}function Aa(t,r){for(var o="",a=0;a<t.length;a++)o+=r(t[a],a,t,r)||"";return o}function zv(t,r,o,a){switch(t.type){case Pv:if(t.children.length)break;case Rv:case Cc:return t.return=t.return||t.value;case rg:return"";case ig:return t.return=t.value+"{"+Aa(t.children,a)+"}";case Ua:if(!An(t.value=t.props.join(",")))return""}return An(o=Aa(t.children,a))?t.return=t.value+"{"+o+"}":""}function Wv(t){var r=ag(t);return function(o,a,l,c){for(var f="",p=0;p<r;p++)f+=t[p](o,a,l,c)||"";return f}}function jv(t){return function(r){r.root||(r=r.return)&&t(r)}}function $v(t,r,o,a){if(t.length>-1&&!t.return)switch(t.type){case Cc:t.return=ug(t.value,t.length,o);return;case ig:return Aa([hr(t,{value:ge(t.value,"@","@"+Te)})],a);case Ua:if(t.length)return Dv(o=t.props,function(l){switch(Bn(l,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Si(hr(t,{props:[ge(l,/:(read-\w+)/,":"+Oo+"$1")]})),Si(hr(t,{props:[l]})),uc(t,{props:bp(o,a)});break;case"::placeholder":Si(hr(t,{props:[ge(l,/:(plac\w+)/,":"+Te+"input-$1")]})),Si(hr(t,{props:[ge(l,/:(plac\w+)/,":"+Oo+"$1")]})),Si(hr(t,{props:[ge(l,/:(plac\w+)/,Ue+"input-$1")]})),Si(hr(t,{props:[l]})),uc(t,{props:bp(o,a)});break}return""})}}var Yv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bt={},Pi=typeof process<"u"&&Bt!==void 0&&(Bt.REACT_APP_SC_ATTR||Bt.SC_ATTR)||"data-styled",cg="active",dg="data-styled-version",xa="6.1.13",Pc=`/*!sc*/
`,_a=typeof window<"u"&&"HTMLElement"in window,Vv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==""?Bt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Bt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.SC_DISABLE_SPEEDY!==void 0&&Bt.SC_DISABLE_SPEEDY!==""&&Bt.SC_DISABLE_SPEEDY!=="false"&&Bt.SC_DISABLE_SPEEDY),Xv={},Ga=Object.freeze([]),ki=Object.freeze({});function fg(t,r,o){return o===void 0&&(o=ki),t.theme!==o.theme&&t.theme||r||o.theme}var pg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Kv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Qv=/(^-|-$)/g;function Jp(t){return t.replace(Kv,"-").replace(Qv,"")}var bv=/(a)(d)/gi,ra=52,eh=function(t){return String.fromCharCode(t+(t>25?39:97))};function fc(t){var r,o="";for(r=Math.abs(t);r>ra;r=r/ra|0)o=eh(r%ra)+o;return(eh(r%ra)+o).replace(bv,"$1-$2")}var Ku,hg=5381,wi=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},gg=function(t){return wi(hg,t)};function mg(t){return fc(gg(t)>>>0)}function qv(t){return t.displayName||t.name||"Component"}function Qu(t){return typeof t=="string"&&!0}var vg=typeof Symbol=="function"&&Symbol.for,yg=vg?Symbol.for("react.memo"):60115,Zv=vg?Symbol.for("react.forward_ref"):60112,Jv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ey={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Sg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ty=((Ku={})[Zv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ku[yg]=Sg,Ku);function th(t){return("type"in(r=t)&&r.type.$$typeof)===yg?Sg:"$$typeof"in t?ty[t.$$typeof]:Jv;var r}var ny=Object.defineProperty,ry=Object.getOwnPropertyNames,nh=Object.getOwnPropertySymbols,iy=Object.getOwnPropertyDescriptor,oy=Object.getPrototypeOf,rh=Object.prototype;function Eg(t,r,o){if(typeof r!="string"){if(rh){var a=oy(r);a&&a!==rh&&Eg(t,a,o)}var l=ry(r);nh&&(l=l.concat(nh(r)));for(var c=th(t),f=th(r),p=0;p<l.length;++p){var g=l[p];if(!(g in ey||o&&o[g]||f&&g in f||c&&g in c)){var m=iy(r,g);try{ny(t,g,m)}catch{}}}}return t}function Di(t){return typeof t=="function"}function kc(t){return typeof t=="object"&&"styledComponentId"in t}function Gr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function pc(t,r){if(t.length===0)return"";for(var o=t[0],a=1;a<t.length;a++)o+=t[a];return o}function Ho(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function hc(t,r,o){if(o===void 0&&(o=!1),!o&&!Ho(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var a=0;a<r.length;a++)t[a]=hc(t[a],r[a]);else if(Ho(r))for(var a in r)t[a]=hc(t[a],r[a]);return t}function Dc(t,r){Object.defineProperty(t,"toString",{value:r})}function Yo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var sy=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,a=0;a<r;a++)o+=this.groupSizes[a];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var a=this.groupSizes,l=a.length,c=l;r>=c;)if((c<<=1)<0)throw Yo(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(a),this.length=c;for(var f=l;f<c;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(r+1),g=(f=0,o.length);f<g;f++)this.tag.insertRule(p,o[f])&&(this.groupSizes[r]++,p++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],a=this.indexOfGroup(r),l=a+o;this.groupSizes[r]=0;for(var c=a;c<l;c++)this.tag.deleteRule(a)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var a=this.groupSizes[r],l=this.indexOfGroup(r),c=l+a,f=l;f<c;f++)o+="".concat(this.tag.getRule(f)).concat(Pc);return o},t}(),ma=new Map,wa=new Map,va=1,ia=function(t){if(ma.has(t))return ma.get(t);for(;wa.has(va);)va++;var r=va++;return ma.set(t,r),wa.set(r,t),r},ay=function(t,r){va=r+1,ma.set(t,r),wa.set(r,t)},ly="style[".concat(Pi,"][").concat(dg,'="').concat(xa,'"]'),uy=new RegExp("^".concat(Pi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cy=function(t,r,o){for(var a,l=o.split(","),c=0,f=l.length;c<f;c++)(a=l[c])&&t.registerName(r,a)},dy=function(t,r){for(var o,a=((o=r.textContent)!==null&&o!==void 0?o:"").split(Pc),l=[],c=0,f=a.length;c<f;c++){var p=a[c].trim();if(p){var g=p.match(uy);if(g){var m=0|parseInt(g[1],10),v=g[2];m!==0&&(ay(v,m),cy(t,v,g[3]),t.getTag().insertRules(m,l)),l.length=0}else l.push(p)}}},ih=function(t){for(var r=document.querySelectorAll(ly),o=0,a=r.length;o<a;o++){var l=r[o];l&&l.getAttribute(Pi)!==cg&&(dy(t,l),l.parentNode&&l.parentNode.removeChild(l))}};function fy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ag=function(t){var r=document.head,o=t||r,a=document.createElement("style"),l=function(p){var g=Array.from(p.querySelectorAll("style[".concat(Pi,"]")));return g[g.length-1]}(o),c=l!==void 0?l.nextSibling:null;a.setAttribute(Pi,cg),a.setAttribute(dg,xa);var f=fy();return f&&a.setAttribute("nonce",f),o.insertBefore(a,c),a},py=function(){function t(r){this.element=Ag(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,l=0,c=a.length;l<c;l++){var f=a[l];if(f.ownerNode===o)return f}throw Yo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),hy=function(){function t(r){this.element=Ag(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),gy=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),oh=_a,my={isServer:!_a,useCSSOMInjection:!Vv},Ia=function(){function t(r,o,a){r===void 0&&(r=ki),o===void 0&&(o={});var l=this;this.options=vt(vt({},my),r),this.gs=o,this.names=new Map(a),this.server=!!r.isServer,!this.server&&_a&&oh&&(oh=!1,ih(this)),Dc(this,function(){return function(c){for(var f=c.getTag(),p=f.length,g="",m=function(S){var R=function(k){return wa.get(k)}(S);if(R===void 0)return"continue";var I=c.names.get(R),N=f.getGroup(S);if(I===void 0||!I.size||N.length===0)return"continue";var D="".concat(Pi,".g").concat(S,'[id="').concat(R,'"]'),A="";I!==void 0&&I.forEach(function(k){k.length>0&&(A+="".concat(k,","))}),g+="".concat(N).concat(D,'{content:"').concat(A,'"}').concat(Pc)},v=0;v<p;v++)m(v);return g}(l)})}return t.registerId=function(r){return ia(r)},t.prototype.rehydrate=function(){!this.server&&_a&&ih(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(vt(vt({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var a=o.useCSSOMInjection,l=o.target;return o.isServer?new gy(l):a?new py(l):new hy(l)}(this.options),new sy(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(ia(r),this.names.has(r))this.names.get(r).add(o);else{var a=new Set;a.add(o),this.names.set(r,a)}},t.prototype.insertRules=function(r,o,a){this.registerName(r,o),this.getTag().insertRules(ia(r),a)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(ia(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),vy=/&/g,yy=/^\s*\/\/.*$/gm;function _g(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(a){return"".concat(r," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=_g(o.children,r)),o})}function Sy(t){var r,o,a,l=ki,c=l.options,f=c===void 0?ki:c,p=l.plugins,g=p===void 0?Ga:p,m=function(R,I,N){return N.startsWith(o)&&N.endsWith(o)&&N.replaceAll(o,"").length>0?".".concat(r):R},v=g.slice();v.push(function(R){R.type===Ua&&R.value.includes("&")&&(R.props[0]=R.props[0].replace(vy,o).replace(a,m))}),f.prefix&&v.push($v),v.push(zv);var S=function(R,I,N,D){I===void 0&&(I=""),N===void 0&&(N=""),D===void 0&&(D="&"),r=D,o=I,a=new RegExp("\\".concat(o,"\\b"),"g");var A=R.replace(yy,""),k=xv(N||I?"".concat(N," ").concat(I," { ").concat(A," }"):A);f.namespace&&(k=_g(k,f.namespace));var W=[];return Aa(k,Wv(v.concat(jv(function(B){return W.push(B)})))),W};return S.hash=g.length?g.reduce(function(R,I){return I.name||Yo(15),wi(R,I.name)},hg).toString():"",S}var Ey=new Ia,gc=Sy(),wg=wn.createContext({shouldForwardProp:void 0,styleSheet:Ey,stylis:gc});wg.Consumer;wn.createContext(void 0);function mc(){return Se.useContext(wg)}var Ay=function(){function t(r,o){var a=this;this.inject=function(l,c){c===void 0&&(c=gc);var f=a.name+c.hash;l.hasNameForId(a.id,f)||l.insertRules(a.id,f,c(a.rules,f,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Dc(this,function(){throw Yo(12,String(a.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=gc),this.name+r.hash},t}(),_y=function(t){return t>="A"&&t<="Z"};function sh(t){for(var r="",o=0;o<t.length;o++){var a=t[o];if(o===1&&a==="-"&&t[0]==="-")return t;_y(a)?r+="-"+a.toLowerCase():r+=a}return r.startsWith("ms-")?"-"+r:r}var Ig=function(t){return t==null||t===!1||t===""},Tg=function(t){var r,o,a=[];for(var l in t){var c=t[l];t.hasOwnProperty(l)&&!Ig(c)&&(Array.isArray(c)&&c.isCss||Di(c)?a.push("".concat(sh(l),":"),c,";"):Ho(c)?a.push.apply(a,Fo(Fo(["".concat(l," {")],Tg(c),!1),["}"],!1)):a.push("".concat(sh(l),": ").concat((r=l,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in Yv||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function Sr(t,r,o,a){if(Ig(t))return[];if(kc(t))return[".".concat(t.styledComponentId)];if(Di(t)){if(!Di(c=t)||c.prototype&&c.prototype.isReactComponent||!r)return[t];var l=t(r);return Sr(l,r,o,a)}var c;return t instanceof Ay?o?(t.inject(o,a),[t.getName(a)]):[t]:Ho(t)?Tg(t):Array.isArray(t)?Array.prototype.concat.apply(Ga,t.map(function(f){return Sr(f,r,o,a)})):[t.toString()]}function Cg(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Di(o)&&!kc(o))return!1}return!0}var wy=gg(xa),Iy=function(){function t(r,o,a){this.rules=r,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Cg(r),this.componentId=o,this.baseHash=wi(wy,o),this.baseStyle=a,Ia.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,a){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))l=Gr(l,this.staticRulesId);else{var c=pc(Sr(this.rules,r,o,a)),f=fc(wi(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var p=a(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,p)}l=Gr(l,f),this.staticRulesId=f}else{for(var g=wi(this.baseHash,a.hash),m="",v=0;v<this.rules.length;v++){var S=this.rules[v];if(typeof S=="string")m+=S;else if(S){var R=pc(Sr(S,r,o,a));g=wi(g,R+v),m+=R}}if(m){var I=fc(g>>>0);o.hasNameForId(this.componentId,I)||o.insertRules(this.componentId,I,a(m,".".concat(I),void 0,this.componentId)),l=Gr(l,I)}}return l},t}(),Nc=wn.createContext(void 0);Nc.Consumer;var bu={};function Ty(t,r,o){var a=kc(t),l=t,c=!Qu(t),f=r.attrs,p=f===void 0?Ga:f,g=r.componentId,m=g===void 0?function(F,K){var M=typeof F!="string"?"sc":Jp(F);bu[M]=(bu[M]||0)+1;var x="".concat(M,"-").concat(mg(xa+M+bu[M]));return K?"".concat(K,"-").concat(x):x}(r.displayName,r.parentComponentId):g,v=r.displayName,S=v===void 0?function(F){return Qu(F)?"styled.".concat(F):"Styled(".concat(qv(F),")")}(t):v,R=r.displayName&&r.componentId?"".concat(Jp(r.displayName),"-").concat(r.componentId):r.componentId||m,I=a&&l.attrs?l.attrs.concat(p).filter(Boolean):p,N=r.shouldForwardProp;if(a&&l.shouldForwardProp){var D=l.shouldForwardProp;if(r.shouldForwardProp){var A=r.shouldForwardProp;N=function(F,K){return D(F,K)&&A(F,K)}}else N=D}var k=new Iy(o,R,a?l.componentStyle:void 0);function W(F,K){return function(M,x,Q){var ke=M.attrs,je=M.componentStyle,rt=M.defaultProps,Ge=M.foldedComponentIds,De=M.styledComponentId,ye=M.target,Ee=wn.useContext(Nc),he=mc(),oe=M.shouldForwardProp||he.shouldForwardProp,G=fg(x,Ee,rt)||ki,$=function(ne,ue,fe){for(var pe,b=vt(vt({},ue),{className:void 0,theme:fe}),se=0;se<ne.length;se+=1){var Ie=Di(pe=ne[se])?pe(b):pe;for(var de in Ie)b[de]=de==="className"?Gr(b[de],Ie[de]):de==="style"?vt(vt({},b[de]),Ie[de]):Ie[de]}return ue.className&&(b.className=Gr(b.className,ue.className)),b}(ke,x,G),j=$.as||ye,w={};for(var O in $)$[O]===void 0||O[0]==="$"||O==="as"||O==="theme"&&$.theme===G||(O==="forwardedAs"?w.as=$.forwardedAs:oe&&!oe(O,j)||(w[O]=$[O]));var te=function(ne,ue){var fe=mc(),pe=ne.generateAndInjectStyles(ue,fe.styleSheet,fe.stylis);return pe}(je,$),V=Gr(Ge,De);return te&&(V+=" "+te),$.className&&(V+=" "+$.className),w[Qu(j)&&!pg.has(j)?"class":"className"]=V,w.ref=Q,Se.createElement(j,w)}(B,F,K)}W.displayName=S;var B=wn.forwardRef(W);return B.attrs=I,B.componentStyle=k,B.displayName=S,B.shouldForwardProp=N,B.foldedComponentIds=a?Gr(l.foldedComponentIds,l.styledComponentId):"",B.styledComponentId=R,B.target=a?l.target:t,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=a?function(K){for(var M=[],x=1;x<arguments.length;x++)M[x-1]=arguments[x];for(var Q=0,ke=M;Q<ke.length;Q++)hc(K,ke[Q],!0);return K}({},l.defaultProps,F):F}}),Dc(B,function(){return".".concat(B.styledComponentId)}),c&&Eg(B,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function ah(t,r){for(var o=[t[0]],a=0,l=r.length;a<l;a+=1)o.push(r[a],t[a+1]);return o}var lh=function(t){return Object.assign(t,{isCss:!0})};function Rg(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Di(t)||Ho(t))return lh(Sr(ah(Ga,Fo([t],r,!0))));var a=t;return r.length===0&&a.length===1&&typeof a[0]=="string"?Sr(a):lh(Sr(ah(a,r)))}function vc(t,r,o){if(o===void 0&&(o=ki),!r)throw Yo(1,r);var a=function(l){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return t(r,o,Rg.apply(void 0,Fo([l],c,!1)))};return a.attrs=function(l){return vc(t,r,vt(vt({},o),{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},a.withConfig=function(l){return vc(t,r,vt(vt({},o),l))},a}var Pg=function(t){return vc(Ty,t)},Cn=Pg;pg.forEach(function(t){Cn[t]=Pg(t)});var Cy=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=Cg(r),Ia.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,a,l){var c=l(pc(Sr(this.rules,o,a,l)),""),f=this.componentId+r;a.insertRules(f,f,c)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,a,l){r>2&&Ia.registerId(this.componentId+r),this.removeStyles(r,a),this.createStyles(r,o,a,l)},t}();function Ry(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=Rg.apply(void 0,Fo([t],r,!1)),l="sc-global-".concat(mg(JSON.stringify(a))),c=new Cy(a,l),f=function(g){var m=mc(),v=wn.useContext(Nc),S=wn.useRef(m.styleSheet.allocateGSInstance(l)).current;return m.styleSheet.server&&p(S,g,m.styleSheet,v,m.stylis),wn.useLayoutEffect(function(){if(!m.styleSheet.server)return p(S,g,m.styleSheet,v,m.stylis),function(){return c.removeStyles(S,m.styleSheet)}},[S,g,m.styleSheet,v,m.stylis]),null};function p(g,m,v,S,R){if(c.isStatic)c.renderStyles(g,Xv,v,R);else{var I=vt(vt({},m),{theme:fg(m,S,f.defaultProps)});c.renderStyles(g,I,v,R)}}return wn.memo(f)}function kg(t,r){var o=Se.useRef(null),a=Se.useRef(!1),l=Se.useRef(t);l.current=t;var c=Se.useCallback(function(p){a.current&&(l.current(p),o.current=requestAnimationFrame(c))},[]),f=Se.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(c))},function(){return a.current}]},[]);return Se.useEffect(function(){return f[0]},[]),f}function Py(t,r,o,a,l){var f;(f=t.onExit)==null||f.call(t,a,r);const c=l.find(({id:p})=>p===r);return c!=null&&c.onEnter?c.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function ky(t,r){return r.find(({id:o})=>o===t)}function Dy(t,r){return t!==r}function Ny(t){console.warn(`No handler found for state: ${t}`)}const Mo="bushGrowing",xr="bushFull",ya="bushSpreading",Bo="bushDying",bt=24,qt=10,zr=3e3,Wr=3e3,Oc=2,Oy=5,My=3,Ly=12,Uy=940,Fy=.4,yc=20,uh=160,Dg=45,Hy=240,Ng=10,xo=80,By=3,_o=5,wt=150,Mc=wt*.8,xy=wt*.2,nt=wt*.95,$r=30,Og=10,Gy=10,zy=.5,Nt=30,tn=Nt*.75,Mg=50,Wy=20,jy=xo*.8,$y=.7,ko=16,xt=40,Lc=35,Uc=16,Yy=72/3,ch=24,Vy=1.25,Xy=1.5,fn=wt*.6,Vr=50,Ky=1,Yr=350,Lg=xo*.65,Qy=80,by=50,qy=1,Zy=128,Ug=10,dh=100,Jy=20,za=Nt,Fg=.5,Hg=5,eS=5,tS=.1,nS=.5,rS=1.5,iS=.25,oS=2,sS=45,aS=.05,Bg=1,fh=10,Ni=5,lS=.5,uS=6,cS=100,dS=300,fS=30,pS=0,hS=1,vr=wt*.6,xg=wt*.5,Wa=wt*.7,ja=wt*.8,gS=80,Fc=.1,ph=10,Oi=150,$a=100,Gg=100,zg=250,Ya=2,Va=400,mS=1e3,Wg=wt*.85,vS=100,Ta=200,yS=80,jg=100,$g=3,SS=10,Hc=500,Ca=400,ES=10,AS=-5,Yg=1.5,_S=1.5,wS=10,Er=10,Bc=250,Xr=.3,xc=200,IS=-25,hh=-10,TS=-10,CS=.5,RS=.5,PS=.1,Ar=-50,kS=-5,Tn=30,Vg=Tn*.6,Gc="#4CAF50",Xg="#FF5722",Kg="#9C27B0",DS="#2196F3",Qg="#FFC107",NS="#FFD700",bg="#DC143C",OS="#FFFFFF",MS=[5,5],qg=5,gh=20,LS=20,US=16,FS=10,HS=16,BS=16,mh=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],vh=8,xS="#FFFFFF",ur=18,Dt=15,GS="rgba(0, 0, 0, 0.7)",zS=4,cr=150,Ht=15,Sn=10,Ii="#555",WS="#f44336",jS="#4CAF50",$S="#2196F3",YS="#FFC107",wo=16,VS=9,Hr=32,oa=28,XS=10,KS=8,QS=8,bS=8,sa=28,aa=40,qS="rgba(255, 215, 0, 0.7)",ZS="rgba(0, 0, 0, 0.3)",dr=10,yh=8,qu=11,fr=20,Zu=40,Sh=5,JS=10,eE="#FFA500",tE="#808080",Lo=120,nE=30,rE=20,Ju="#2d3748",iE="#ffffff",ec="#4a5568",oE=60,sE=-50,aE=10,tc=12,Eh=10,lE="rgba(0, 0, 0, 0.5)",Ah="#4CAF50",_h="#F44336",wh="#FFC107",uE="#FFFFFF",cE="#FF6B6B",dE=5,Zg=30,la=50,ua=8,Ih=10,fE="rgba(0, 0, 0, 0.5)",pE="#FFFFFF",hE=33,gE=400,mE=20,vE=10,yE="rgba(0, 0, 0, 0.7)",SE="#FFFFFF",nc=20,Th=16,EE=.5,Ch=5,Jg="#FFD700",AE=40,_E=4,wE=3,IE=5,Je=1,Do=3,TE=70,Rh=600,CE=1.5,em=.1,RE=15,PE=5e3;function Qe(t,r,o,a,l){const c={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:a,entityId:l};return t.visualEffects.push(c),t.nextVisualEffectId++,c.id}var ve=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t))(ve||{}),pn=(t=>(t.Berry="berry",t.Meat="meat",t))(pn||{});const tm={berry:"🍓",meat:"🥩"},kE={id:Mo,update:(t,r)=>{const{entity:o,updateContext:a}=r,l=a.deltaTime*(bt/qt);return o.age+=l,o.age>=o.lifespan?{nextState:Bo,data:{...t,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Qe(a.gameState,ve.BushClaimLost,o.position,Je),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=l,o.timeSinceLastBerryRegen>=Ly&&o.food.length<o.maxFood&&(o.food.push({type:pn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:xr,data:{...t,enteredAt:a.gameState.time,previousState:Mo}}:{nextState:Mo,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},DE={id:xr,update:(t,r)=>{const{entity:o,updateContext:a}=r,l=a.deltaTime*(bt/qt);return o.age+=l,o.age>=o.lifespan?{nextState:Bo,data:{...t,enteredAt:a.gameState.time,previousState:xr}}:o.food.length<o.maxFood?{nextState:Mo,data:{...t,enteredAt:a.gameState.time,previousState:xr}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Qe(a.gameState,ve.BushClaimLost,o.position,Je),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=l,o.timeSinceLastSpreadAttempt>=uh&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=uh&&Math.random()<o.spreadChance)?{nextState:ya,data:{...t,enteredAt:a.gameState.time,previousState:xr}}:{nextState:xr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function xn(t,r){return{x:t.x+r.x,y:t.y+r.y}}function NE(t,r){return{x:t.x-r.x,y:t.y-r.y}}function cn(t,r){return{x:t.x*r,y:t.y*r}}function Go(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Fe(t){const r=Go(t);return r===0?{x:0,y:0}:cn(t,1/r)}function zc(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function Oe(t,r,o,a){let l=r.x-t.x,c=r.y-t.y;return Math.abs(l)>o/2&&(l=l-Math.sign(l)*o),Math.abs(c)>a/2&&(c=c-Math.sign(c)*a),{x:l,y:c}}function Xa(t,r,o){const a=Oe(t,r,o.width,o.height);return Fe(a)}function ae(t,r,o,a){const l=Oe(t,r,o,a);return Go(l)}function OE(t,r){return t.x*r.x+t.y*r.y}function ME(t,r){const o=OE(t,r),a=Go(t),l=Go(r);if(a===0||l===0)return 0;const c=Math.max(-1,Math.min(1,o/(a*l)));return Math.acos(c)}function LE(t,r,o){const a=Math.max(0,Math.min(1,o)),l={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},c={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},f=Math.round(l.r+(c.r-l.r)*a),p=Math.round(l.g+(c.g-l.g)*a),g=Math.round(l.b+(c.b-l.b)*a),m=v=>("00"+v.toString(16)).slice(-2);return`#${m(f)}${m(p)}${m(g)}`}var _n=(t=>(t.GatherFood="GatherFood",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.PlantBush="PlantBush",t.CallToAttack="CallToAttack",t))(_n||{});const UE={GatherFood:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",PlantBush:"🌱",CallToAttack:"📢"};var _i=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(_i||{});const Io={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var In=(t=>(t.ToggleAutopilot="ToggleAutopilot",t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t))(In||{});function nm(t,r){const o=[],a=t;if(r.food.length>0&&r.hunger>Mc&&o.push({type:_n.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const f=_e(r,t,"berryBush",Nt,m=>m.food.length>0),p=_e(r,t,"humanCorpse",Nt,m=>m.food.length>0);let g=null;f&&p?g=ae(r.position,f.position,t.mapDimensions.width,t.mapDimensions.height)<=ae(r.position,p.position,t.mapDimensions.width,t.mapDimensions.height)?f:p:g=f||p,g&&o.push({type:_n.GatherFood,action:"gathering",key:"e",targetEntity:g})}const l=_e(r,t,"human",Nt,f=>{const p=f;return(p.id!==r.id&&p.gender!==r.gender&&p.isAdult&&r.isAdult&&p.hunger<nt&&r.hunger<nt&&(p.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant&&p.age<=xt:!r.isPregnant&&r.age<=xt))??!1});l&&o.push({type:_n.Procreate,action:"procreating",key:"r",targetEntity:l});const c=_e(r,t,"human",za,f=>f.id!==r.id);return c&&o.push({type:_n.Attack,action:"attacking",key:"q",targetEntity:c}),r.food.filter(f=>f.type===pn.Berry).length>=Ni&&o.push({type:_n.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&Ui(r.position,r.id,a,Bc).length>0&&o.push({type:_n.CallToAttack,action:"callingToAttack",key:"v"}),o}function Vo(t,r,o,a){const l=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*r,f={x:Math.cos(l)*c,y:Math.sin(l)*c},p=xn(t,f);return{x:(p.x%o+o)%o,y:(p.y%a+a)%a}}function Sc(t,r,o){const a=r,l={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...a.search.human.byRect(l),...a.search.berryBush.byRect(l),...a.search.humanCorpse.byRect(l)];for(const f of c)if(ae(t,f.position,r.mapDimensions.width,r.mapDimensions.height)<o+f.radius)return!0;return!1}function rm(t,r,o,a){const l=r.mapDimensions.width,c=r.mapDimensions.height;if(!Sc(t,r,a))return t;const f=a;for(let p=f;p<=o;p+=f){const g=Math.ceil(2*Math.PI*p/f);for(let m=0;m<g;m++){const v=m/g*2*Math.PI,S={x:Math.cos(v)*p,y:Math.sin(v)*p},R=xn(t,S),I={x:(R.x%l+l)%l,y:(R.y%c+c)%c};if(!Sc(I,r,a))return I}}return null}function Ra(t,r){const o=_e(t,r,"berryBush",void 0,l=>l.ownerId===t.id);return o?rm(o.position,r,cS,fS):null}function _e(t,r,o,a,l){const c=r,f=a!==void 0?a:Math.max(r.mapDimensions.width,r.mapDimensions.height),p=c.search[o].byRadius(t.position,f);let g=null,m=f;for(const v of p){if(v.id===t.id||l&&!l(v))continue;const S=ae(t.position,v.position,r.mapDimensions.width,r.mapDimensions.height);S<m&&(m=S,g=v)}return g}function Ka(t,r,o,a){return r.search[o].byRadius(t,a).length}function Wc(t,r){const o=r,a=o.search.human.byProperty("motherId",t),l=o.search.human.byProperty("fatherId",t);return a.length+l.length}function Ph(t,r,o){return r.search.human.byRadius(t.position,o).filter(c=>{if(c.id===t.id||c.gender===t.gender||!c.isAdult||c.hunger>=nt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const f=c.id===t.motherId||c.id===t.fatherId,p=t.id===c.motherId||t.id===c.fatherId;return!f&&!p})}function Ec(t){if(t.length===0)return;const r=t.filter(l=>l.gender==="male"),o=t.filter(l=>l.gender==="female"),a=(l,c)=>l.age!==c.age?c.age-l.age:l.id-c.id;if(r.sort(a),r.length>0)return r[0];if(o.sort(a),o.length>0)return o[0]}function yr(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function en(t,r){const o=t,a=o.search.human.byProperty("motherId",r.id),l=o.search.human.byProperty("fatherId",r.id);return[...a,...l]}function Gn(t,r){var f;const a=r.search.human.byProperty("activeAction","attacking");let l=null,c=1/0;for(const p of a){if(p.attackTargetId!==t)continue;const g=ae(p.position,((f=r.entities.entities.get(t))==null?void 0:f.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);g<c&&(l=p,c=g)}return l}function Qa(t,r,o){var l;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(l=t.partnerIds)!=null&&l.includes(r.id))return!0;if(t.motherId){const c=o.entities.entities.get(t.motherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(t.fatherId){const c=o.entities.entities.get(t.fatherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(r.motherId){const c=o.entities.entities.get(r.motherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}if(r.fatherId){const c=o.entities.entities.get(r.fatherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}return!1}function kh(t,r){var c,f;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,a=r.motherId===t.motherId||r.fatherId===t.fatherId,l=((c=t.ancestorIds)==null?void 0:c.some(p=>r.ancestorIds.includes(p)))||((f=r.ancestorIds)==null?void 0:f.some(p=>t.ancestorIds.includes(p)));return o||a||l}function Xo(t,r){const o=[];if(t.motherId){const a=r.entities.entities.get(t.motherId);a&&o.push(a)}if(t.fatherId){const a=r.entities.entities.get(t.fatherId);a&&o.push(a)}return o}function im(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const a=r.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function Dh(t,r){var a;const o=new Set;if(t.motherId){const l=r.entities.entities.get(t.motherId);l&&o.add(l)}if(t.fatherId){const l=r.entities.entities.get(t.fatherId);l&&o.add(l)}return(a=t.partnerIds)==null||a.forEach(l=>{const c=r.entities.entities.get(l);c&&o.add(c)}),en(r,t).forEach(l=>o.add(l)),Array.from(o)}function om(t,r,o,a){const c=r.search.human.byRadius(t.position,o);let f=null,p=1/0,g=1/0;for(const m of c){if(m.id===t.id||a&&!a(m))continue;let v=0;for(const R of r.entities.entities.values())R.type==="human"&&R.attackTargetId===m.id&&v++;const S=ae(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);(v<p||v===p&&S<g)&&(p=v,g=S,f=m)}return f}let rc=0;function Pa(){const t=mh[rc];return rc=(rc+1)%mh.length,t}function sm(t,r,o){r.leaderId=t.id,r.tribeBadge=t.tribeBadge,r.gender==="male"&&en(o,r).forEach(a=>{var l;if(sm(t,a,o),a.motherId&&((l=r.partnerIds)!=null&&l.includes(a.motherId))){const c=o.entities.entities.get(a.motherId);c&&(c.leaderId=t.id,c.tribeBadge=t.tribeBadge)}})}function FE(t,r){return r.search.human.byProperty("leaderId",t)}function Ui(t,r,o,a){return o.search.human.byRadius(t,a).filter(c=>c.leaderId!==r&&c.id!==r)}function am(t,r,o){const a=o.search.human.byProperty("leaderId",t);let l=0;for(const c of a)c.attackTargetId===r&&l++;return l}function HE(t,r){var c;const o=new Map,a=Array.from(t.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(c=o.get(f.leaderId))==null||c.members.push(f));const l=Array.from(o.values()).map(f=>{const p=t.entities.entities.get(f.leaderId),g=f.members.filter(v=>v.isAdult).length,m=f.members.length-g;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:g,childCount:m,isPlayerTribe:f.leaderId===r,leaderAge:(p==null?void 0:p.age)??0,leaderGender:(p==null?void 0:p.gender)??"male"}});return l.sort((f,p)=>f.isPlayerTribe?-1:p.isPlayerTribe?1:p.adultCount+p.childCount-(f.adultCount+f.childCount)),l}function ka(t,r){const o=r.search.human.byProperty("leaderId",t),a=r.entities.entities.get(t);return a&&(o.some(l=>l.id===t)||o.push(a)),o}function jc(t,r,o,a){const l=o.search.berryBush.byRadius(t,r),c=o.search.human.byRadius(t,r).filter(g=>g.leaderId!==a);let f=l.length*ES;f+=c.length*AS;let p;if(c.length>0){const g={};for(const v of c)v.leaderId&&(g[v.leaderId]=(g[v.leaderId]||0)+1);let m=0;for(const v in g)g[v]>m&&(m=g[v],p=parseInt(v,10))}return{score:f,occupyingTribeId:p}}function Da(t,r,o){let a=-1/0,l=null;for(let c=0;c<t.mapDimensions.width;c+=o)for(let f=0;f<t.mapDimensions.height;f+=o){const p={x:c,y:f},{score:g,occupyingTribeId:m}=jc(p,Hc/2,t,r);g>a&&(a=g,l={position:p,score:g,occupyingTribeId:m})}return l}function Nh(t){return t.length===0?0:t.reduce((r,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,r+a},0)}function $c(t,r){for(const o of t)if(r.search.human.byProperty("attackTargetId",o.id).filter(l=>l.leaderId!==o.leaderId).length>0)return!0;return!1}function BE(t){return Array.from(t.entities.entities.values()).filter(r=>r.type==="human")}const xE={id:ya,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:l}=a,c=a.deltaTime*(bt/qt);if(o.age+=c,o.age>=o.lifespan)return{nextState:Bo,data:{...t,enteredAt:l.time,previousState:ya}};const f=Vo(o.position,o.spreadRadius,l.mapDimensions.width,l.mapDimensions.height);return Sc(f,l,15)||Za(l.entities,f,l.time),{nextState:xr,data:{...t,enteredAt:l.time,previousState:ya}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},GE={id:Bo,update:t=>({nextState:Bo,data:t}),onEnter:(t,r)=>(Vc(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},zE=[kE,DE,xE,GE],ct="humanIdle",Br="humanMoving",No="humanEating",ba="humanGathering",zo="humanProcreating",Mi="humanAttacking",Sa="humanPlanting",WE={id:ct,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Mi,data:{...t,enteredAt:a.gameState.time,previousState:ct,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=Mc?(o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.activeAction==="moving"?{nextState:Br,data:{...t,enteredAt:a.gameState.time,previousState:ct,targetPosition:o.targetPosition}}:o.activeAction==="gathering"?{nextState:ba,data:{...t,enteredAt:a.gameState.time,previousState:ct,targetPosition:o.targetPosition}}:o.activeAction==="eating"?{nextState:No,data:{...t,enteredAt:a.gameState.time,previousState:ct}}:o.activeAction==="planting"&&o.targetPosition?{nextState:Sa,data:{...t,enteredAt:a.gameState.time,previousState:ct,plantingSpot:o.targetPosition}}:{nextState:ct,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function lm(t){let r=Gy;return t.hunger>=Mc&&(r*=zy),t.age>=jy&&(r*=$y),r}const ic=5;class jE{constructor(){Be(this,"id",Br)}update(r,o){const{entity:a,updateContext:l}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:Mi,data:{...r,enteredAt:l.gameState.time,previousState:Br,attackTargetId:a.attackTargetId,attackStartTime:l.gameState.time}};if(a.activeAction!=="moving")return{nextState:ct,data:{...r,enteredAt:l.gameState.time,previousState:Br}};let c=r.targetPosition;if(!c&&(a.direction.x!==0||a.direction.y!==0)&&(c={x:a.position.x+a.direction.x*ic*2,y:a.position.y+a.direction.y*ic*2}),!c)return{nextState:ct,data:{...r,enteredAt:l.gameState.time,previousState:Br}};const f=Oe(a.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return a.direction=Fe(f),a.acceleration=lm(a),ae(a.position,c,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<ic?{nextState:ct,data:{...r,enteredAt:l.gameState.time,previousState:Br}}:{nextState:Br,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0,o.targetPosition=void 0}}const $E=new jE,oc=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,YE=""+new URL("gather-CU75596W.mp3",import.meta.url).href,VE=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,XE=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,KE=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,QE=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,bE=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,qE=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,ZE=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href;var Ke=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.GameOver=9]="GameOver",t[t.ButtonClick=10]="ButtonClick",t))(Ke||{});const JE=new Map([[0,oc],[1,YE],[2,VE],[3,XE],[4,KE],[5,QE],[6,bE],[9,qE],[10,ZE],[7,oc],[8,oc]]);let To,Wo;function eA(){if(!(typeof window>"u"))return Wo}function um(){if(!(typeof window>"u"))return!To&&typeof window.AudioContext=="function"&&(To=new window.AudioContext,Wo=To.createGain(),Wo.connect(To.destination),Ea(.1,!1)),To}function Ea(t,r){Wo&&(Wo.gain.value=r?0:t/10)}const cm=new Map;let ca=!1,Oh=!1;async function tA(){if(Oh||ca)return;const t=um();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),ca=!0,console.log("Starting sound loading...");const r=[];JE.forEach((o,a)=>{const l=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>t.decodeAudioData(c)).then(c=>{cm.set(a,c)}).catch(c=>{console.error(`Error loading sound ${Ke[a]} from ${o}:`,c)});r.push(l)});try{await Promise.all(r),Oh=!0,ca=!1,console.log("All sounds loaded successfully.")}catch(o){ca=!1,console.error("An error occurred while loading sounds:",o)}}function dm(t,r){const o=um(),a=eA();if(!o||!a||a.gain.value===0)return;o.state==="suspended"&&o.resume();const l=cm.get(t);if(!l){console.warn(`Sound buffer not found for type: ${Ke[t]}`);return}const c=o.createBufferSource();c.buffer=l;const f=o.createGain(),p=o.createStereoPanner();let g=f;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const m=Oe(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),v=ae(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(v>Rh)return;const S=1-Math.pow(v/Rh,CE);f.gain.value=Math.max(0,S);const R=Math.sin(m.x/v*(Math.PI/2));p.pan.value=isNaN(R)?0:R,f.connect(p),g=p}else{const m=t===Ke.GameOver?.4:.2;f.gain.value=m}c.connect(g),g.connect(a),c.start(0)}function mt(t,r,o){const a=yr(t.gameState);a&&dm(r,{position:o,listenerPosition:a.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}const nA={id:No,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction!=="eating"?{nextState:ct,data:{...t,enteredAt:a.gameState.time,previousState:No}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>$r&&(o.hunger=Math.max(0,o.hunger-$r),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,mt(a,Ke.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(Qe(a.gameState,ve.Eating,o.position,Je,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ct,data:{...t,enteredAt:a.gameState.time,previousState:No}}:{nextState:No,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class rA{constructor(){Be(this,"id",ba)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const iA=new rA,oA=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),sA=(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:l}=a;if(l.time<(t.procreationEndTime||0))return{nextState:zo,data:t};const c=l.entities.entities.get(t.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<nt&&c.hunger<nt&&!o.procreationCooldown&&!c.procreationCooldown){const f=o.gender==="female"?o:c.gender==="female"?c:void 0,p=o.gender==="male"?o:c.gender==="male"?c:void 0;f&&p&&(f.isPregnant=!0,f.gestationTime=Yy,f.fatherId=p.id,o.procreationCooldown=ch,c.procreationCooldown=ch,mt(a,Ke.Procreate,f.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:ct,data:{...t,enteredAt:l.time,previousState:zo}}},aA={id:zo,onEnter:oA,update:sA},lA={id:Mi,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ct,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ct,data:{...t}};const a=ae(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),l=Oe(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=Fe(l),a>za?r.entity.acceleration=lm(r.entity):r.entity.acceleration=0,{nextState:Mi,data:t}}},uA={id:Sa,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:l}=a;if(l.time-t.enteredAt>=lS){if(o.food.filter(p=>p.type===pn.Berry).length>=Ni){for(let p=0;p<Ni;p++){const g=o.food.findIndex(m=>m.type===pn.Berry);g>-1&&o.food.splice(g,1)}Za(l.entities,t.plantingSpot,l.time)}return{nextState:ct,data:{...t,enteredAt:l.time,previousState:Sa}}}return{nextState:Sa,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},cA=[WE,$E,nA,iA,aA,lA,uA],Mh=[...zE,...cA];function dA(t,r,o){const a=ky(t,Mh);if(!a)return Ny(t),[t,r];const{nextState:l,data:c}=a.update(r,o);return Dy(t,l)?[l,Py(a,l,c,o,Mh)]:[l,c]}function Na(t,r,o,a){t.karma[r.id]=(t.karma[r.id]||0)+o,fA(t,r,o*CS,a)}function fA(t,r,o,a){const l=Dh(t,a),c=Dh(r,a);for(const f of l)f.id!==r.id&&(f.karma[r.id]=(f.karma[r.id]||0)+o);for(const f of c)f.id!==t.id&&(t.karma[f.id]=(t.karma[f.id]||0)+o)}function pA(t,r){for(const o in t.karma){const a=t.karma[o],l=PS*r;a>0?t.karma[o]=Math.max(0,a-l):a<0&&(t.karma[o]=Math.min(0,a+l)),t.karma[o]===0&&delete t.karma[o]}}function hA(t,r,o){const a={};for(const l in r.karma)a[l]=(a[l]||0)+r.karma[l];if(o)for(const l in o.karma)a[l]=(a[l]||0)+o.karma[l];for(const l in a){const c=a[l]*RS;Math.abs(c)>.1&&(t.karma[l]=c)}}function gA(t,r,o){const{gameState:a}=r,l=o*(bt/qt);if(t.isAdult=t.age>=Uc,pA(t,l),t.leaderId&&t.leaderId!==t.id&&t.isAdult&&t.gender==="male"&&(!a.entities.entities.get(t.leaderId)||(t.karma[t.leaderId]??0)<=Ar)&&(t.leaderId=t.id,t.tribeBadge=Pa(),sm(t,t,a)),t.isCallingToAttack&&t.callToAttackEndTime&&a.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.hitpoints<t.maxHitpoints){const f=1-t.hunger/100*nS,p=tS*f*l;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+p)}if(t.hunger+=o*(_o/(bt/qt)),t.hunger>TE&&(!t.lastHungerEffectTime||a.time-t.lastHungerEffectTime>Do*2)&&(Qe(a,ve.Hunger,t.position,Do,t.id),t.lastHungerEffectTime=a.time),t.age+=o/Ng,t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=l,t.hunger+=o*((_o*Vy-_o)/(bt/qt)),(!t.lastPregnantEffectTime||a.time-t.lastPregnantEffectTime>Do*3)&&(Qe(a,ve.Pregnant,t.position,Do,t.id),t.lastPregnantEffectTime=a.time),t.gestationTime<=0&&(R1(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=l,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=l,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=l,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=l,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=l,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.leaderCallToAttackCooldown&&(t.leaderCallToAttackCooldown-=l,t.leaderCallToAttackCooldown<0&&(t.leaderCallToAttackCooldown=0)),t.isAdult?t.radius===Vg&&(t.radius=Tn):t.hunger+=o*((_o*Xy-_o)/(bt/qt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const f=[];if(t.motherId){const p=a.entities.entities.get(t.motherId);p&&f.push(p)}if(t.fatherId){const p=a.entities.entities.get(t.fatherId);p&&f.push(p)}for(const p of f)if(p.age>=Lg&&p.hunger>=Qy&&ae(t.position,p.position,a.mapDimensions.width,a.mapDimensions.height)<=by){t.food.pop(),p.hunger=Math.max(0,p.hunger-$r),t.feedParentCooldownTime=qy;break}}let c;if(t.hitpoints<=0?c="killed":t.hunger>=wt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-$r)):c="hunger":t.age>=t.maxAge&&(c="oldAge"),c){if(t.leaderId===t.id){const f=Ec(en(a,t));f?(f.leaderId=f.id,f.tribeBadge=t.tribeBadge,a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;(g.karma[f.id]??0)>Ar?g.leaderId=f.id:(g.leaderId=g.id,g.tribeBadge=Pa())}})):a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;g.leaderId=void 0,g.tribeBadge=void 0}})}if(t.isPlayer){const f=Ec(en(a,t));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=c)}C1(a.entities,t.position,t.gender,t.age,t.radius,t.id,a.time,t.food,t.hunger),Vc(a.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function mA(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/Zy);const a=Math.floor(Ug*(1-t.decayProgress));t.food.length>a&&t.food.splice(a),t.decayProgress>=1&&t.food.length<=0&&Vc(r.gameState.entities,t.id)}var Qt=(t=>(t[t.StrategyBased=0]="StrategyBased",t[t.UtilityBased=1]="UtilityBased",t[t.BehaviorTreeBased=2]="BehaviorTreeBased",t))(Qt||{});function vA(t,r){t.aiBehaviorTree&&t.aiBlackboard?t.aiBehaviorTree.execute(t,r,t.aiBlackboard):(console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle")}class yA{check(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>ja||r.hitpoints<r.maxHitpoints*Xr)return null;if(r.attackTargetId){const f=a.entities.entities.get(r.attackTargetId);if(f&&ae(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<Ta)return f}const l=Gn(r.id,a);if(l)return l;for(const f of a.entities.entities.values())if(f.type==="human"){const p=f;if(p.motherId===r.id||p.fatherId===r.id){const g=Gn(p.id,a);if(g)return g}}const c=om(r,a,Ta,f=>{const p=f;return(r.karma[p.id]||0)<Ar});return c&&a.search.human.byProperty("attackTargetId",c.id).length<Bg?c:null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>Je*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,Je,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class SA{check(r,o){const{gameState:a}=o,l=a;if(!r.isAdult||r.hunger>vr)return null;const c=l.search.berryBush.byProperty("ownerId",r.id);if(c.length===0)return null;for(const f of c){const p=l.search.human.byRadius(f.position,vS);for(const g of p)if(g.id!==r.id&&!Qa(r,g,a)&&(r.karma[g.id]||0)<Ar&&ae(g.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<yS)return g}return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>Je*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,Je,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class EA{check(r,o){const{gameState:a}=o;if(!r.isAdult||!r.leaderId||r.id===r.leaderId||r.hunger>ja||r.hitpoints<r.maxHitpoints*Xr)return null;const l=a.entities.entities.get(r.leaderId);if(!l||!l.isCallingToAttack)return null;const c=Ui(l.position,l.id,a,jg);if(c.length===0)return null;c.sort((f,p)=>{const g=ae(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height),m=ae(r.position,p.position,a.mapDimensions.width,a.mapDimensions.height);return g-m});for(const f of c)if(am(l.id,f.id,a)<$g)return f;return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>Je*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,Je,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class AA{check(r){if(!r.isAdult||!r.isAdult&&r.activeAction!=="eating")return!1;if(r.activeAction==="eating"){const a=vr-$r;return r.food.length<=0||r.hunger<=a,!0}return!!(r.isAdult&&r.hunger>=vr&&r.food.length>0)}execute(r){if(r.activeAction==="eating"){const a=vr-$r;if(r.food.length<=0||r.hunger<=a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}return}r.isAdult&&r.hunger>=vr&&r.food.length>0&&(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating")}}class _A{check(r,o){if(r.isAdult&&r.hitpoints>r.maxHitpoints*Xr||r.isAdult&&r.hunger>Wg)return null;const a=Gn(r.id,o.gameState);return a||null}execute(r,o,a){r.activeAction="moving";const l=Oe(a.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=Fe(l),f=xn(r.position,cn(c,xc));r.targetPosition={x:(f.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(f.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c}}class fm{check(r,o,a={onlyBerries:!1,hungerThreshold:xg}){const l=r.food.length<r.maxFood,f=en(o.gameState,r).length>0?a.hungerThreshold*.5:a.hungerThreshold;if(!r.isAdult||!l||r.hunger<f)return null;const{gameState:p}=o,g=p,m=(D,A)=>{let k=null,W=1/0;for(const B of D){const F=ae(A,B.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);F<W&&(W=F,k=B)}return k},v=(D,A)=>{const k=g.search.berryBush.byRadius(A,D).filter(x=>x.food.length>0),W=a.onlyBerries?[]:g.search.humanCorpse.byRadius(A,D).filter(x=>x.food.length>0),B=[...k,...W],F=B.filter(x=>!("ownerId"in x&&x.ownerId));if(F.length>0)return m(F,r.position);const K=B.filter(x=>{if("ownerId"in x&&x.ownerId){const Q=p.entities.entities.get(x.ownerId);return Q&&Qa(r,Q,p)}return!1});if(K.length>0)return m(K,r.position);if(r.hunger>=gS){const x=B.filter(Q=>{if("ownerId"in Q&&Q.ownerId){const ke=p.entities.entities.get(Q.ownerId);return ke&&(ke.karma[r.id]||0)>Ar}return!1});if(x.length>0)return m(x,r.position)}const M=B.filter(x=>{if("ownerId"in x&&x.ownerId){const Q=p.entities.entities.get(x.ownerId);return Q&&(Q.karma[r.id]||0)<=Ar}return!1});return M.length>0?m(M,r.position):null},S=Math.max(p.mapDimensions.width,p.mapDimensions.height),R=v(S,r.position);if(R)return R;const I=_e(r,p,"berryBush",void 0,D=>D.food.length>0),N=_e(r,p,"humanCorpse",void 0,D=>D.food.length>0);if(I&&N){const D=ae(r.position,I.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),A=ae(r.position,N.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return D<=A?I:N}return I||N}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Oe(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Fe(c)}}}class wA{check(){return!0}execute(r,o){const{gameState:a}=o;if(r.activeAction==="idle"||!r.activeAction){if(r.activeAction="idle",Math.random()<Fc){let l=r.position,c=Oi;const f=r.leaderId&&r.leaderId!==r.id?a.entities.entities.get(r.leaderId):void 0;if(f)l=f.position,c=zg;else if(r.isAdult){if(r.gender==="female"){const g=im(r,a);g&&(l=g.position,c=Gg)}}else{const g=Xo(r,a);g.length>0&&(l=g[0].position,c=$a)}r.activeAction="moving",r.targetPosition=Vo(l,c,a.mapDimensions.width,a.mapDimensions.height);const p=Oe(r.position,r.targetPosition,a.mapDimensions.width,a.mapDimensions.height);r.direction=Fe(p)}else r.direction={x:0,y:0},r.targetPosition=void 0;return}if(r.activeAction==="moving"&&r.targetPosition){ae(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0});return}r.activeAction!=="moving"&&(r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0)}}class IA{constructor(){Be(this,"gatheringStrategy",new fm)}check(r,o){const{gameState:a}=o,l=r.food.filter(p=>p.type===pn.Berry).length>=uS,c=r.hunger<Wa;if(!r.isAdult||!c)return null;if(!l){const p=this.gatheringStrategy.check(r,o,{onlyBerries:!0,hungerThreshold:0});return(p==null?void 0:p.type)==="berryBush"?p:null}const f=Ra(r,a);return f||null}execute(r,o,a){"type"in a&&a.type==="berryBush"?this.gatheringStrategy.execute(r,o,a):typeof a=="object"&&"x"in a&&"y"in a&&(r.activeAction="planting",r.targetPosition=a)}}class TA{check(r,o){const{gameState:a}=o,l=r.gender==="male"&&r.age>Lc&&Wc(r.id,a)===0,c=Ka(r.position,a,"berryBush",Va);if(!(r.isAdult&&(l||r.hunger<nt&&(r.procreationCooldown||0)<=0&&c>=Ya)&&(r.gender==="female"?!r.isPregnant&&r.age<=xt:!0)))return null;const p=v=>{const S=v;return S.type==="human"&&S.id!==r.id&&S.gender!==r.gender&&S.isAdult&&(l||S.hunger<nt&&(S.procreationCooldown||0)<=0&&(r.karma[S.id]||0)>kS)?S.gender==="female"?!S.isPregnant&&S.age<=xt:!0:!1},g=_e(r,a,"human",Oi*5,v=>p(v)&&(!v.partnerIds||v.partnerIds.length===0||v.partnerIds.includes(r.id)));return g||(l?null:_e(r,a,"human",Oi*10,v=>{if(!p(v)||!v.partnerIds||v.partnerIds.length===0)return!1;const S=v.partnerIds[0];return(r.karma[S]||0)<=Ar}))}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn)r.activeAction="procreating",r.targetPosition=a.position;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Oe(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Fe(c)}}}class CA{check(r,o){if(r.isAdult||r.hunger<fn)return null;const{gameState:a}=o,l=f=>(f.id===r.motherId||f.id===r.fatherId)&&f.food.length>0;let c=_e(r,a,"human",Yr,l);return c||(c=_e(r,a,"human",void 0,l)),c||!0}execute(r,o,a){const{gameState:l}=o;if(typeof a=="object"){const c=a;if(ae(r.position,c.position,l.mapDimensions.width,l.mapDimensions.height)>Vr){r.activeAction="moving",r.targetPosition={...c.position};const p=Oe(r.position,c.position,l.mapDimensions.width,l.mapDimensions.height);r.direction=Fe(p)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}else{const c=Xo(r,l);if(c.length>0){const f=c[0];if(ae(r.position,f.position,l.mapDimensions.width,l.mapDimensions.height)>$a){r.activeAction="moving",r.targetPosition={...f.position};const g=Oe(r.position,f.position,l.mapDimensions.width,l.mapDimensions.height);r.direction=Fe(g)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}else if(r.activeAction="idle",r.targetPosition=void 0,Math.random()<.05){r.activeAction="moving",r.targetPosition=Vo(r.position,10,l.mapDimensions.width,l.mapDimensions.height);const f=Oe(r.position,r.targetPosition,l.mapDimensions.width,l.mapDimensions.height);r.direction=Fe(f)}else r.direction={x:0,y:0}}}}class RA{check(r,o){return!r.isAdult||r.food.length<=0||r.feedChildCooldownTime&&r.feedChildCooldownTime>0?null:_e(r,o.gameState,"human",Yr,a=>{const l=a;return!l.isAdult&&(l.motherId===r.id||l.fatherId===r.id)&&l.hunger>=fn})}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Vr){r.activeAction="moving",r.targetPosition={...a.position};const c=Oe(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Fe(c)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}}class PA{check(r,o){if(!r.isAdult||r.food.length>0)return null;const{gameState:a}=o;if(a.search.human.byRadius(r.position,1e3).filter(g=>!g.isAdult&&(g.motherId===r.id||g.fatherId===r.id)&&g.hunger>=fn).length===0)return null;const f=(g,m)=>{const v=_e({...r,position:g},a,"berryBush",m,R=>R.food.length>0),S=_e({...r,position:g},a,"humanCorpse",m,R=>R.food.length>0);if(v&&S){const R=ae(g,v.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),I=ae(g,S.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return R<=I?v:S}return v||S},p=Math.max(a.mapDimensions.width,a.mapDimensions.height);return f(r.position,p)}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Oe(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Fe(c)}}}class kA{check(r,o){const{gameState:a}=o,l=a;if(r.id!==r.leaderId||(r.leaderMetaStrategyCooldown??0)>0)return null;const c=ka(r.id,l);if(c.length===0)return null;if($c(c,l))return{decision:3};const f=Nh(c),{score:p}=jc(r.position,Hc/2,l,r.id),g=Da(l,r.id,Ca);if(!g||g.score<=p)return null;const m=g.score>p*Yg;if(g.occupyingTribeId){const v=ka(g.occupyingTribeId,l),S=Nh(v),R=f>S*_S;if(m&&R)return{decision:2,targetPosition:g.position,enemyTribeId:g.occupyingTribeId};{const I=Da(l,r.id,Ca);if(I&&!I.occupyingTribeId&&I.score>p)return{decision:0,targetPosition:I.position}}}else if(m)return{decision:1,targetPosition:g.position};return null}execute(r,o,a){switch(r.leaderMetaStrategyCooldown=SS,a.decision){case 0:case 1:r.activeAction="moving",r.targetPosition=a.targetPosition;break;case 2:r.activeAction="moving",r.targetPosition=a.targetPosition,r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Er;break;case 3:r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Er,r.activeAction="idle",r.targetPosition=void 0;break}}}const DA=[new _A,new kA,new yA,new EA,new SA,new AA,new CA,new PA,new RA,new TA,new fm,new IA,new wA];var Pe=(t=>(t.SATISFY_HUNGER="SATISFY_HUNGER",t.MAINTAIN_HEALTH="MAINTAIN_HEALTH",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSHES="PLANT_BUSHES",t.PROCREATE="PROCREATE",t.FEED_CHILDREN="FEED_CHILDREN",t.DEFEND_SELF="DEFEND_SELF",t.DEFEND_TRIBE="DEFEND_TRIBE",t.ELIMINATE_THREATS="ELIMINATE_THREATS",t.EXPLORE_AND_WANDER="EXPLORE_AND_WANDER",t))(Pe||{}),Gt=(t=>(t.EAT="EAT",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSH="PLANT_BUSH",t.FLEE="FLEE",t.ATTACK_HUMAN="ATTACK_HUMAN",t.PROCREATE="PROCREATE",t.FEED_CHILD="FEED_CHILD",t.SEEK_FOOD_FROM_PARENT="SEEK_FOOD_FROM_PARENT",t.GATHER_FOOD_FOR_CHILD="GATHER_FOOD_FOR_CHILD",t.CALL_TO_ATTACK="CALL_TO_ATTACK",t.MIGRATE="MIGRATE",t.IDLE_WANDER="IDLE_WANDER",t))(Gt||{});const Lh=(t,r)=>{const{gameState:o}=r;if(!t.isAdult||t.hunger>ja||t.hitpoints<t.maxHitpoints*Xr)return null;const a=Gn(t.id,o);if(a)return a;const l=om(t,o,Ta,c=>{const f=c;return(t.karma[f.id]||0)<Ar});return l&&o.search.human.byProperty("attackTargetId",l.id).length<Bg?l:null},NA={type:Gt.ATTACK_HUMAN,getUtility(t,r,o){var l;if(o.type!==Pe.ELIMINATE_THREATS&&o.type!==Pe.DEFEND_SELF&&o.type!==Pe.DEFEND_TRIBE)return 0;const a=Lh(t,r);return a?o.type===Pe.DEFEND_SELF&&((l=Gn(t.id,r.gameState))==null?void 0:l.id)===a.id?1:.8:0},execute(t,r){const o=Lh(t,r);if(!o){t.activeAction="idle";return}(!t.lastTargetAcquiredEffectTime||r.gameState.time-t.lastTargetAcquiredEffectTime>Je*5)&&(Qe(r.gameState,ve.TargetAcquired,t.position,Je,t.id),t.lastTargetAcquiredEffectTime=r.gameState.time),t.activeAction="attacking",t.attackTargetId=o.id,t.targetPosition=void 0}},OA={type:Gt.CALL_TO_ATTACK,getUtility(t,r,o){if(o.type!==Pe.DEFEND_TRIBE&&o.type!==Pe.ELIMINATE_THREATS||t.id!==t.leaderId||t.isCallingToAttack)return 0;const a=r.gameState,l=ka(t.id,a);return o.type===Pe.DEFEND_TRIBE&&$c(l,a)?.9:o.type===Pe.ELIMINATE_THREATS&&Ui(t.position,t.id,a,Bc).length>0?.6:0},execute(t,r){t.isCallingToAttack=!0,t.callToAttackEndTime=r.gameState.time+Er,Qe(r.gameState,ve.CallToAttack,t.position,Er),mt(r,Ke.CallToAttack,t.position),t.activeAction="idle",t.targetPosition=void 0}},MA={type:Gt.EAT,getUtility(t,r,o){if(o.type!==Pe.SATISFY_HUNGER)return 0;const a=t.food.length>0,l=t.hunger>=vr;return a&&l?1:0},execute(t){t.activeAction="eating",t.direction={x:0,y:0},t.targetPosition=void 0}},LA={type:Gt.FEED_CHILD,getUtility(t,r,o){return o.type!==Pe.FEED_CHILDREN||!t.isAdult||t.food.length<=0||t.feedChildCooldownTime&&t.feedChildCooldownTime>0?0:_e(t,r.gameState,"human",Yr,l=>{const c=l;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=fn})?1:0},execute(t,r){const o=_e(t,r.gameState,"human",Yr,l=>{const c=l;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=fn});if(!o){t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Vr){t.activeAction="moving",t.targetPosition={...o.position};const l=Oe(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Fe(l)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},UA={type:Gt.FLEE,getUtility(t,r,o){if(o.type!==Pe.DEFEND_SELF)return 0;const a=t.hitpoints<t.maxHitpoints*Xr,l=Gn(t.id,r.gameState);return a&&l?1:0},execute(t,r){const o=Gn(t.id,r.gameState);if(!o){t.activeAction="idle";return}t.activeAction="moving";const a=Oe(o.position,t.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),l=Fe(a),c=xn(t.position,cn(l,xc));t.targetPosition={x:(c.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,y:(c.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height},t.direction=l,t.attackTargetId=void 0}};function Uh(t,r){const o=_e(t,r.gameState,"berryBush",void 0,l=>l.food.length>0),a=_e(t,r.gameState,"humanCorpse",void 0,l=>l.food.length>0);if(o&&a){const l=ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),c=ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return l<=c?o:a}return o||a}const FA={type:Gt.GATHER_FOOD,getUtility(t,r,o){return o.type!==Pe.GATHER_FOOD||t.food.length>=t.maxFood?0:Uh(t,r)?.7:0},execute(t,r){const o=Uh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<tn)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const l=Oe(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Fe(l)}}},Fh=(t,r)=>{const{gameState:o}=r;return(l=>{const c=_e(t,o,"berryBush",l,p=>p.food.length>0),f=_e(t,o,"humanCorpse",l,p=>p.food.length>0);if(c&&f){const p=ae(t.position,c.position,o.mapDimensions.width,o.mapDimensions.height),g=ae(t.position,f.position,o.mapDimensions.width,o.mapDimensions.height);return p<=g?c:f}return c||f})()},HA={type:Gt.GATHER_FOOD_FOR_CHILD,getUtility(t,r,o){return o.type!==Pe.FEED_CHILDREN||!t.isAdult||t.food.length>0||en(r.gameState,t).filter(c=>!c.isAdult&&c.hunger>=fn).length===0?0:Fh(t,r)?.8:0},execute(t,r){const o=Fh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<tn)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const l=Oe(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Fe(l)}}},BA={type:Gt.IDLE_WANDER,getUtility(t,r,o){return o.type===Pe.EXPLORE_AND_WANDER?.1:0},execute(t,r){const{gameState:o}=r;if(t.activeAction==="moving"&&t.targetPosition){ae(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height)<tn&&(t.activeAction="idle",t.targetPosition=void 0,t.direction={x:0,y:0});return}if(t.activeAction==="idle"||!t.activeAction)if(Math.random()<Fc){let a=t.position,l=Oi;const c=t.leaderId&&t.leaderId!==t.id?o.entities.entities.get(t.leaderId):void 0;if(c)a=c.position,l=zg;else if(t.isAdult){if(t.gender==="female"){const p=im(t,o);p&&(a=p.position,l=Gg)}}else{const p=Xo(t,o);p.length>0&&(a=p[0].position,l=$a)}t.activeAction="moving",t.targetPosition=Vo(a,l,o.mapDimensions.width,o.mapDimensions.height);const f=Oe(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height);t.direction=Fe(f)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},xA={type:Gt.MIGRATE,getUtility(t,r,o){if(o.type!==Pe.EXPLORE_AND_WANDER||t.id!==t.leaderId)return 0;const a=r.gameState,{score:l}=jc(t.position,Hc/2,a,t.id),c=Da(a,t.id,Ca);return c&&c.score>l*Yg?.8:0},execute(t,r){const o=r.gameState,a=Da(o,t.id,Ca);a&&(t.activeAction="moving",t.targetPosition=a.position)}},GA={type:Gt.PLANT_BUSH,getUtility(t,r,o){if(o.type!==Pe.PLANT_BUSHES)return 0;const a=t.food.filter(f=>f.type===pn.Berry).length>=Ni;return!(t.hunger<Wa)||!a?0:Ra(t,r.gameState)?.8:0},execute(t,r){const o=Ra(t,r.gameState);o&&(t.activeAction="planting",t.targetPosition=o)}},Hh=(t,r)=>{const{gameState:o}=r,a=o,l=t.gender==="male"&&t.age>Lc&&Wc(t.id,o)===0,c=a.search.berryBush.byRadius(t.position,Va).length;if(!(t.isAdult&&(l||t.hunger<nt&&(t.procreationCooldown||0)<=0&&c>=Ya)&&(t.gender==="female"?!t.isPregnant&&t.age<=xt:!0)))return null;const p=g=>{const m=g;return!(m.type==="human"&&m.id!==t.id&&m.gender!==t.gender&&m.isAdult)||!(m.hunger<nt&&(m.procreationCooldown||0)<=0)?!1:m.gender==="female"?!m.isPregnant&&m.age<=xt:!0};return _e(t,o,"human",Oi*5,g=>p(g)&&(!g.partnerIds||g.partnerIds.length===0||g.partnerIds.includes(t.id)))},zA={type:Gt.PROCREATE,getUtility(t,r,o){return o.type!==Pe.PROCREATE?0:Hh(t,r)?.8:0},execute(t,r){const o=Hh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<tn)t.activeAction="procreating",t.targetPosition=o.position;else{t.activeAction="moving",t.targetPosition={...o.position};const l=Oe(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Fe(l)}}},WA={type:Gt.SEEK_FOOD_FROM_PARENT,getUtility(t,r,o){return o.type!==Pe.SATISFY_HUNGER||t.isAdult||!(t.hunger>=fn)?0:_e(t,r.gameState,"human",Yr,c=>(c.id===t.motherId||c.id===t.fatherId)&&c.food.length>0)?.9:0},execute(t,r){const o=_e(t,r.gameState,"human",Yr,a=>(a.id===t.motherId||a.id===t.fatherId)&&a.food.length>0);if(o)if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Vr){t.activeAction="moving",t.targetPosition={...o.position};const l=Oe(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Fe(l)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;else t.activeAction="idle"}};class jA{constructor(){Be(this,"type",Pe.DEFEND_SELF)}getScore(r,o){if(!Gn(r.id,o.gameState))return 0;const l=1-r.hitpoints/r.maxHitpoints;return Math.min(1,.5+l*.5)}}const $A=new jA;class YA{constructor(){Be(this,"type",Pe.DEFEND_TRIBE)}getScore(r,o){if(!r.leaderId)return 0;const a=o.gameState,l=ka(r.leaderId,a);return $c(l,a)?1:0}}const VA=new YA;class XA{constructor(){Be(this,"type",Pe.ELIMINATE_THREATS)}getScore(r,o){return r.leaderId&&Ui(r.position,r.leaderId,o.gameState,Ta).length>0?1:0}}const KA=new XA,QA={type:Pe.EXPLORE_AND_WANDER,getScore(){return .05}};class bA{constructor(){Be(this,"type",Pe.FEED_CHILDREN)}getScore(r,o){if(!r.isAdult||r.food.length===0)return 0;const a=en(o.gameState,r);if(a.length===0)return 0;let l=0;for(const c of a)c.hunger>=fn&&c.hunger>l&&(l=c.hunger);return l===0?0:l/wt}}const qA=new bA,ZA={type:Pe.GATHER_FOOD,getScore(t,r){if(!t.isAdult||t.food.length>=t.maxFood)return 0;const o=1-t.food.length/t.maxFood,a=t.hunger/wt,l=en(r.gameState,t),c=l.length>0?.2*l.length:0,f=o+a+c;return Math.max(0,Math.min(f,1))}},JA={type:Pe.MAINTAIN_HEALTH,getScore(t){const o=1-t.hitpoints/t.maxHitpoints;return Math.max(0,Math.min(o,1))}},e1={type:Pe.PLANT_BUSHES,getScore(t,r){if(!t.isAdult||!t.leaderId||t.food.filter(m=>m.type===pn.Berry).length<Ni||t.hunger>Wa)return 0;const a=FE(t.leaderId,r.gameState),l=new Set(a.map(m=>m.id)),c=r.gameState,p=Array.from(c.entities.entities.values()).filter(m=>m.type==="berryBush").filter(m=>m.ownerId&&l.has(m.ownerId)).length;if(p>=fh)return 0;const g=1-p/fh;return Math.max(0,Math.min(g,1))}};class t1{constructor(){Be(this,"type",Pe.PROCREATE)}getScore(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>=nt||(r.procreationCooldown||0)>0||r.gender==="female"&&(r.isPregnant||r.age>xt)||Ka(r.position,a,"berryBush",Va)<Ya)return 0;if(r.gender==="male"&&r.age>Lc&&Wc(r.id,a)===0)return 1;let c=0;r.gender==="female"?c=(r.age-ko)/(xt-ko):c=(r.age-ko)/(r.maxAge-ko);const f=.1+c*.7;return Math.max(0,Math.min(f,1))}}const n1=new t1;class r1{constructor(){Be(this,"type",Pe.SATISFY_HUNGER)}getScore(r){const o=r.hunger/wt;return Math.max(0,Math.min(o,1))}}const i1=new r1,Bh=[i1,JA,ZA,e1,n1,qA,$A,VA,KA,QA],xh=[MA,FA,GA,UA,NA,zA,LA,WA,HA,OA,xA,BA];function o1(t,r){if(xh.length===0||Bh.length===0){t.activeAction="idle";return}let o=null,a=-1/0;for(const l of xh){let c=0;for(const f of Bh){const p=f.getScore(t,r);if(p<=0)continue;const g=l.getUtility(t,r,f);c+=p*g}c>a&&(a=c,o=l)}o&&a>0?o.execute(t,r):(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}function s1(t,r){switch(t.aiType){case Qt.BehaviorTreeBased:vA(t,r);return;case Qt.UtilityBased:o1(t,r);return;case Qt.StrategyBased:default:for(const o of DA){const a=o.check(t,r);if(a){o.execute(t,r,a);return}}t.activeAction||(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}}function a1(t,r){t.forces.push(cn(t.velocity,-.1));const o=cn(Fe(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(a=>{r.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(t.velocity=cn(t.velocity,.5))}),t.debuffs=t.debuffs.filter(a=>r.gameState.time-a.startTime<a.duration),t.velocity=xn(t.velocity,t.forces.reduce(xn,{x:0,y:0})),Go(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=xn(t.position,cn(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?gA(t,r,r.deltaTime):t.type==="humanCorpse"&&mA(t,r),t.type==="human"&&(!t.isPlayer||r.gameState.isPlayerOnAutopilot)&&s1(t,r),t.stateMachine&&(t.stateMachine=dA(...t.stateMachine,{entity:t,updateContext:r}))}var J=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t))(J||{});function qa(t){return Array.isArray(t)?t:[t,""]}class Zt{constructor(r,o,a=0){Be(this,"name");Be(this,"lastStatus");Be(this,"depth");this.children=r,this.name=o,this.depth=a,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(r,o,a){for(const l of this.children){const[c,f]=qa(l.execute(r,o,a));if(c!==J.SUCCESS)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,f),c}return this.lastStatus=J.SUCCESS,this.name&&a.recordNodeExecution(this.name,J.SUCCESS,o.gameState.time,this.depth,""),J.SUCCESS}}class pm{constructor(r,o,a=0){Be(this,"name");Be(this,"lastStatus");Be(this,"depth");this.children=r,this.name=o,this.depth=a,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(r,o,a){for(const l of this.children){const[c,f]=qa(l.execute(r,o,a));if(c!==J.FAILURE)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,f),c}return this.lastStatus=J.FAILURE,this.name&&a.recordNodeExecution(this.name,J.FAILURE,o.gameState.time,this.depth,""),J.FAILURE}}class yt{constructor(r,o,a=0){Be(this,"name");Be(this,"lastStatus");Be(this,"depth");this.action=r,this.name=o,this.depth=a}execute(r,o,a){const[l,c]=qa(this.action(r,o,a));return this.lastStatus=l,this.name&&a.recordNodeExecution(this.name,l,o.gameState.time,this.depth,c),l}}class Ze{constructor(r,o,a=0){Be(this,"name");Be(this,"lastStatus");Be(this,"depth");this.condition=r,this.name=o,this.depth=a}execute(r,o,a){let[l,c]=qa(this.condition(r,o,a));const f=l?J.SUCCESS:J.FAILURE;return this.lastStatus=f,this.name&&a.recordNodeExecution(this.name,f,o.gameState.time,this.depth,c),f}}function l1(t){return new Zt([new Ze((r,o)=>{const a=r.hunger>=vr,l=r.food.length>0,c=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&a&&l&&c),`${Math.floor(r.hunger-vr)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new yt(r=>(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating",J.RUNNING),"Eat",t+1)],"Eating",t)}function u1(t){return new Zt([new Ze((r,o,a)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*Xr||r.isAdult&&r.hunger>Wg)return!1;const l=Gn(r.id,o.gameState);return l?(a.set("fleeThreat",l),!0):!1},"Should Flee",t+1),new yt((r,o,a)=>{const l=a.get("fleeThreat");if(!l)return J.FAILURE;r.activeAction="moving";const c=Oe(l.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=Fe(c),p=xn(r.position,cn(f,xc));return r.targetPosition={x:(p.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(p.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=f,J.RUNNING},"Execute Flee",t+1)],"Flee",t)}function c1(t){return new Zt([new Ze((r,o,a)=>{const l=r.food.length<r.maxFood;if(!r.isAdult||!l||r.hunger<xg)return!1;const c=_e(r,o.gameState,"berryBush",void 0,g=>g.food.length>0),f=_e(r,o.gameState,"humanCorpse",void 0,g=>g.food.length>0);let p=null;if(c&&f){const g=ae(r.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=ae(r.position,f.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);p=g<=m?c:f}else p=c||f;return p?(a.set("foodSource",p),!0):!1},"Should Gather Food",t+1),new yt((r,o,a)=>{const l=a.get("foodSource");return l?ae(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn?(r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0,J.SUCCESS):(r.activeAction="moving",r.targetPosition={...l.position},r.direction=Xa(r.position,l.position,o.gameState.mapDimensions),J.RUNNING):J.FAILURE},"Move To Food and Gather",t+1)],"Gather Food",t)}function d1(t){return new yt((r,o,a)=>{if(r.activeAction==="idle"||!r.activeAction){const l=a.get("lastWanderTime")?Number(a.get("lastWanderTime")):0,c=o.gameState.time-l;if(Math.random()<Fc&&c>ph){r.activeAction="moving";const f=Xo(r,o.gameState)[0];r.targetPosition=Vo(!r.isAdult&&f?f.position:r.position,r.isAdult?Oi:$a,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);const p=Oe(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=Fe(p),a.set("wanderTarget",r.targetPosition),a.set("lastWanderTime",o.gameState.time),J.SUCCESS}else return r.direction={x:0,y:0},r.targetPosition=void 0,[J.FAILURE,String(ph-c<<0)]}if(a.get("wanderTarget")!==r.targetPosition&&(a.set("wanderTarget",void 0),r.targetPosition=void 0,r.activeAction="idle"),r.activeAction==="moving"&&r.targetPosition){const l=ae(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return l<tn?(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0},a.set("wanderTarget",void 0),J.SUCCESS):[J.RUNNING,String(l<<0)]}return J.FAILURE},"Idle/Wander",t)}const Gh=t=>t.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<nt&&(r.gender==="female"?!r.isPregnant&&r.age<=xt:!0));function f1(t){const r=new Ze((c,f,p)=>{const g=Ph(c,f.gameState,tn),m=Gh(g);return m?(p.set("procreationPartner",m),!0):!1},"Find Immediate Partner",t+2),o=new yt((c,f,p)=>{var m;const g=p.get("procreationPartner");return g?(c.activeAction="procreating",c.targetPosition=void 0,c.direction={x:0,y:0},(m=c.partnerIds)!=null&&m.includes(g.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,g.id]:[g.id]),J.SUCCESS):J.FAILURE},"Start Procreating",t+2),a=new Ze((c,f,p)=>{const g=Ph(c,f.gameState,mS),m=Gh(g);return m?(p.set("procreationPartner",m),!0):!1},"Locate Distant Partner",t+2),l=new yt((c,f,p)=>{const g=p.get("procreationPartner");if(!g)return J.FAILURE;c.activeAction="moving",c.targetPosition={...g.position};const m=Oe(c.position,g.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height);return c.direction=Fe(m),J.RUNNING},"Move Towards Partner",t+2);return new Zt([new Ze(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<ko||c.gender==="female"&&c.age>xt),"Is Fertile (age, not pregnant)",t+1),new Ze(c=>c.hunger<nt,"Is Healthy (hunger)",t+1),new Ze(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new Ze((c,f)=>Ka(c.position,f.gameState,"berryBush",Va)>=Ya,"Is Environment Viable (food)",t+1),new pm([new Zt([r,o],"Procreate With Immediate Partner",t+2),new Zt([a,l],"Seek Distant Partner",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const Co="attackTarget",sc=150;function Ac(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}function p1(t,r,o){let a,l=1/0;for(const c of Object.values(t.entities.entities))if(c.type==="human"&&c.id!==r.id&&c.hitpoints>0&&c.tribeBadge!==r.tribeBadge){const f=Ac(r.position,c.position);f<o&&f<l&&(l=f,a=c)}return a}function h1(t){return new Zt([new Ze((r,o,a)=>{if(r.activeAction==="attacking"&&r.attackTargetId){const c=o.gameState.entities.entities.get(r.attackTargetId);if(c&&c.hitpoints>0&&Ac(r.position,c.position)<=sc)return a.set(Co,c),!0}const l=p1(o.gameState,r,sc);return l?(a.set(Co,l),!0):(a.set(Co,void 0),!1)},"Find Attack Target",t+1),new yt((r,o,a)=>{const l=a.get(Co);return!l||l.hitpoints<=0||Ac(r.position,l.position)>sc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),a.set(Co,void 0),J.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===l.id||(r.activeAction="attacking",r.attackTargetId=l.id),J.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const g1=(t,r,o)=>{const a=en(r.gameState,t).filter(f=>!f.isAdult);if(a.length===0)return J.FAILURE;let l=null,c=fn;for(const f of a)f.hunger>=c&&(c=f.hunger,l=f);return l?(o.set("targetChild",l),J.SUCCESS):J.FAILURE},m1=(t,r,o)=>{const a=o.get("targetChild");return a?ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Vr?(t.activeAction="moving",t.targetPosition=a.position,t.direction=Xa(t.position,a.position,r.gameState.mapDimensions),J.RUNNING):(t.activeAction="idle",t.targetPosition=void 0,o.set("targetChild",void 0),J.SUCCESS):J.FAILURE};function v1(t){return new Zt([new Ze(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new yt(g1,"Find Hungriest Child",t+1),new yt(m1,"Move To Child and Feed",t+1)],"Feed Child",t)}function y1(t){return new Zt([new Ze(r=>!r.isAdult&&r.hunger>=fn,"Is Hungry Child",t+1),new yt((r,o,a)=>{const l=Xo(r,o.gameState);if(l.length===0)return J.FAILURE;const c=_e(r,o.gameState,"human",Yr,f=>l.some(p=>p.id===f.id)&&f.food.length>0);return c?(a.set("targetParent",c),J.SUCCESS):J.FAILURE},"Find Parent With Food",t+1),new yt((r,o,a)=>{const l=a.get("targetParent");if(!l)return J.FAILURE;const c=ae(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",c<=Vr?(r.targetPosition=void 0,J.SUCCESS):(r.targetPosition=l.position,r.direction=Xa(r.position,l.position,o.gameState.mapDimensions),r.activeAction="moving",J.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}function S1(t){return new Zt([new Ze(r=>{const o=r.food.filter(l=>l.type===pn.Berry).length>=Ni,a=r.hunger<Wa;return(r.isAdult&&o&&a)??!1},"Can Plant",t+1),new Ze((r,o)=>{const a=Ka(r.position,o.gameState,"berryBush",dS),l=en(o.gameState,r);return!(l.length===0||a>=l.length*2)},"Has Not Enough Nearby Bushes",t+1),new yt((r,o,a)=>{const l="plantingSpot";let c=a.get(l);if(c&&r.activeAction!=="planting"&&(r.activeAction!=="moving"||r.targetPosition!==c))return a.set(l,void 0),J.FAILURE;if(!c){const p=Ra(r,o.gameState);if(p)a.set(l,p),c=p;else return J.FAILURE}return ae(r.position,c,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>tn?(r.activeAction="moving",r.targetPosition=c,r.direction=Xa(r.position,c,o.gameState.mapDimensions),J.RUNNING):(r.activeAction="planting",r.targetPosition=c,J.RUNNING)},"Find, Move, and Plant",t+1)],"Plant Bush",t)}const E1="enemiesNearby";function A1(t){const r=new Ze(f=>f.id===f.leaderId,"Is Leader?",t+1),o=new Ze(f=>!f.isCallingToAttack,"Is Not Already Calling?",t+1),a=new Ze(f=>(f.leaderCallToAttackCooldown??0)<=0,"Is Cooldown Ready?",t+1),l=new yt((f,p,g)=>{const m=Ui(f.position,f.id,p.gameState,Bc);return m.length>0?(g.set(E1,m),J.SUCCESS):J.FAILURE},"Check Enemies Nearby",t+1),c=new yt((f,p)=>(f.isCallingToAttack=!0,f.callToAttackEndTime=p.gameState.time+Er,f.leaderCallToAttackCooldown=wS,Qe(p.gameState,ve.CallToAttack,f.position,Er),mt(p,Ke.CallToAttack,f.position),f.activeAction="idle",f.targetPosition=void 0,J.SUCCESS),"Issue Call to Attack",t+1);return new Zt([r,o,a,l,c],"Leader Call to Attack",t)}const zh="combatTarget";function _1(t){const r=new Ze(f=>f.isAdult&&f.leaderId?f.id!==f.leaderId:!1,"Is Tribe Follower?",t+1),o=new Ze(f=>f.hunger<ja&&f.hitpoints>=f.maxHitpoints*Xr,"Is Fit for Combat?",t+1),a=new Ze((f,p)=>{const g=p.gameState.entities.entities.get(f.leaderId);return!!(g!=null&&g.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),l=new yt((f,p,g)=>{const{gameState:m}=p,v=m.entities.entities.get(f.leaderId);if(!v)return J.FAILURE;const S=Ui(v.position,v.id,m,jg);if(S.length===0)return J.FAILURE;S.sort((R,I)=>{const N=ae(f.position,R.position,m.mapDimensions.width,m.mapDimensions.height),D=ae(f.position,I.position,m.mapDimensions.width,m.mapDimensions.height);return N-D});for(const R of S)if(am(v.id,R.id,m)<$g)return g.set(zh,R),J.SUCCESS;return J.FAILURE},"Find Best Target",t+1),c=new yt((f,p,g)=>{const m=g.get(zh);return m?((!f.lastTargetAcquiredEffectTime||p.gameState.time-f.lastTargetAcquiredEffectTime>Je*5)&&(Qe(p.gameState,ve.TargetAcquired,f.position,Je,f.id),f.lastTargetAcquiredEffectTime=p.gameState.time),f.activeAction="attacking",f.attackTargetId=m.id,f.targetPosition=void 0,J.SUCCESS):J.FAILURE},"Attack Target",t+1);return new Zt([r,o,a,l,c],"Tribe Member Combat",t)}function w1(){return new pm([u1(1),A1(1),_1(1),h1(1),v1(1),y1(1),l1(1),c1(1),S1(1),f1(1),d1(1)],"Human Behavior",0)}class I1{constructor(){Be(this,"data",new Map);Be(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}recordNodeExecution(r,o,a,l,c){const f=this.nodeExecutionData.get(r)||{lastExecuted:0,status:J.FAILURE,depth:0,debugInfo:"",executionHistory:[]};f.executionHistory.push({time:a,status:o});const p=Zg/qt*bt,g=a-p;f.executionHistory=f.executionHistory.filter(v=>v.time>=g);const m={...f,lastExecuted:a,status:o,depth:l,debugInfo:c};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}}function T1(t){t.gameState.entities.entities.forEach(o=>{a1(o,t)})}function hm(){return{entities:new Map,nextEntityId:1}}function Yc(t,r,o){const a={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(a.id,a),a}function Za(t,r,o){return Yc(t,"berryBush",{position:r,radius:yc,food:Array.from({length:My},()=>({type:pn.Berry})).map(l=>({...l,id:t.nextEntityId++})),maxFood:Oy,lifespan:Uy,age:0,spreadChance:Fy,spreadRadius:yc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Mo,{enteredAt:o,previousState:void 0}]})}function Oa(t,r,o,a,l=!1,c=Wy,f=Mg,p,g,m=[],v,S){const R=c>=Uc;let I;return Math.random()<hS?I=Qt.BehaviorTreeBased:I=Math.random()<pS?Qt.UtilityBased:Qt.StrategyBased,Yc(t,"human",{position:r,radius:R?Tn:Vg,hunger:f,hitpoints:dh,maxHitpoints:dh,age:c,gender:a,isPlayer:l,food:[],maxFood:Og,maxAge:xo,isAdult:R,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:p,fatherId:g,ancestorIds:m,karma:{},stateMachine:[ct,{enteredAt:o,previousState:void 0}],leaderId:v,tribeBadge:S,aiType:I,aiBehaviorTree:I===Qt.BehaviorTreeBased?w1():void 0,aiBlackboard:I===Qt.BehaviorTreeBased?new I1:void 0})}function C1(t,r,o,a,l,c,f,p,g){return Yc(t,"humanCorpse",{position:r,radius:l,gender:o,age:a,originalHumanId:c,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(Ug*Math.max(nt-g,0)/nt,1)},()=>({type:pn.Meat})),...p].map(v=>({...v,id:t.nextEntityId++})),stateMachine:void 0})}function R1(t,r,o){const a=r?o.gameState.entities.entities.get(r):void 0,l=[...t.ancestorIds||[],t.id],c=a?[...a.ancestorIds||[],a.id]:[],f=[...l,...c],p=[...new Set(f)],g=p.slice(Math.max(p.length-By,0)),m=Math.random()<.5?"male":"female",v=xn(t.position,{x:5,y:5}),S=Oa(o.gameState.entities,v,o.gameState.time,m,!1,0,Mg/2,t.id,r,g,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return hA(S,t,a),mt(o,Ke.Birth,t.position),S}function Vc(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class P1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let a=this.length++;for(;a>0;){const l=a-1>>1,c=this.values[l];if(o>=c)break;this.ids[a]=this.ids[l],this.values[a]=c,a=l}this.ids[a]=r,this.values[a]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],l=this.length>>1;let c=0;for(;c<l;){let f=(c<<1)+1;const p=f+1;let g=this.ids[f],m=this.values[f];const v=this.values[p];if(p<this.length&&v<m&&(f=p,g=this.ids[p],m=v),m>=a)break;this.ids[c]=g,this.values[c]=m,c=f}this.ids[c]=o,this.values[c]=a}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Wh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ac=3;class Xc{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,l]=new Uint8Array(r,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=l>>4;if(c!==ac)throw new Error(`Got v${c} data when expected v${ac}.`);const f=Wh[l&15];if(!f)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(r,o+2,1),[g]=new Uint32Array(r,o+4,1);return new Xc(g,p,f,void 0,r,o)}constructor(r,o=16,a=Float64Array,l=ArrayBuffer,c,f=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let p=r,g=p;this._levelBounds=[p*4];do p=Math.ceil(p/this.nodeSize),g+=p,this._levelBounds.push(g*4);while(p!==1);this.ArrayType=a,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const m=Wh.indexOf(this.ArrayType),v=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(m<0)throw new Error(`Unexpected typed array class: ${a}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,f+8,g*4),this._indices=new this.IndexArrayType(this.data,f+8+v,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new l(8+v+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+v,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(ac<<4)+m]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new P1}add(r,o,a=r,l=o){const c=this._pos>>2,f=this._boxes;return this._indices[c]=c,f[this._pos++]=r,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=l,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),l>this.maxY&&(this.maxY=l),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,l=new Uint32Array(this.numItems),c=65535;for(let f=0,p=0;f<this.numItems;f++){const g=r[p++],m=r[p++],v=r[p++],S=r[p++],R=Math.floor(c*((g+v)/2-this.minX)/o),I=Math.floor(c*((m+S)/2-this.minY)/a);l[f]=D1(R,I)}_c(l,r,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,p=0;f<this._levelBounds.length-1;f++){const g=this._levelBounds[f];for(;p<g;){const m=p;let v=r[p++],S=r[p++],R=r[p++],I=r[p++];for(let N=1;N<this.nodeSize&&p<g;N++)v=Math.min(v,r[p++]),S=Math.min(S,r[p++]),R=Math.max(R,r[p++]),I=Math.max(I,r[p++]);this._indices[this._pos>>2]=m,r[this._pos++]=v,r[this._pos++]=S,r[this._pos++]=R,r[this._pos++]=I}}}search(r,o,a,l,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=[],g=[];for(;f!==void 0;){const m=Math.min(f+this.nodeSize*4,$h(f,this._levelBounds));for(let v=f;v<m;v+=4){if(a<this._boxes[v]||l<this._boxes[v+1]||r>this._boxes[v+2]||o>this._boxes[v+3])continue;const S=this._indices[v>>2]|0;f>=this.numItems*4?p.push(S):(c===void 0||c(S))&&g.push(S)}f=p.pop()}return g}neighbors(r,o,a=1/0,l=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=this._queue,g=[],m=l*l;e:for(;f!==void 0;){const v=Math.min(f+this.nodeSize*4,$h(f,this._levelBounds));for(let S=f;S<v;S+=4){const R=this._indices[S>>2]|0,I=jh(r,this._boxes[S],this._boxes[S+2]),N=jh(o,this._boxes[S+1],this._boxes[S+3]),D=I*I+N*N;D>m||(f>=this.numItems*4?p.push(R<<1,D):(c===void 0||c(R))&&p.push((R<<1)+1,D))}for(;p.length&&p.peek()&1;)if(p.peekValue()>m||(g.push(p.pop()>>1),g.length===a))break e;f=p.length?p.pop()>>1:void 0}return p.clear(),g}}function jh(t,r,o){return t<r?r-t:t<=o?0:t-o}function $h(t,r){let o=0,a=r.length-1;for(;o<a;){const l=o+a>>1;r[l]>t?a=l:o=l+1}return r[o]}function _c(t,r,o,a,l,c){if(Math.floor(a/c)>=Math.floor(l/c))return;const f=t[a+l>>1];let p=a-1,g=l+1;for(;;){do p++;while(t[p]<f);do g--;while(t[g]>f);if(p>=g)break;k1(t,r,o,p,g)}_c(t,r,o,a,g,c),_c(t,r,o,g+1,l,c)}function k1(t,r,o,a,l){const c=t[a];t[a]=t[l],t[l]=c;const f=4*a,p=4*l,g=r[f],m=r[f+1],v=r[f+2],S=r[f+3];r[f]=r[p],r[f+1]=r[p+1],r[f+2]=r[p+2],r[f+3]=r[p+3],r[p]=g,r[p+1]=m,r[p+2]=v,r[p+3]=S;const R=o[a];o[a]=o[l],o[l]=R}function D1(t,r){let o=t^r,a=65535^o,l=65535^(t|r),c=t&(r^65535),f=o|a>>1,p=o>>1^o,g=l>>1^a&c>>1^l,m=o&l>>1^c>>1^c;o=f,a=p,l=g,c=m,f=o&o>>2^a&a>>2,p=o&a>>2^a&(o^a)>>2,g^=o&l>>2^a&c>>2,m^=a&l>>2^(o^a)&c>>2,o=f,a=p,l=g,c=m,f=o&o>>4^a&a>>4,p=o&a>>4^a&(o^a)>>4,g^=o&l>>4^a&c>>4,m^=a&l>>4^(o^a)&c>>4,o=f,a=p,l=g,c=m,g^=o&l>>8^a&c>>8,m^=a&l>>8^(o^a)&c>>8,o=g^g>>1,a=m^m>>1;let v=t^r,S=a|65535^(v|o);return v=(v|v<<8)&16711935,v=(v|v<<4)&252645135,v=(v|v<<2)&858993459,v=(v|v<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,(S<<1|v)>>>0}function lc(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Xc(t.length),a=new Map;for(const c of t)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(p=>t[p])},byRadius(c,f){return o.neighbors(c.x,c.y,void 0,f).map(g=>t[g])},byProperty(c,f){var p;if(!a.has(c)){const g=new Map;for(const m of t){const v=m[c];g.has(v)||g.set(v,[]),g.get(v).push(m)}a.set(c,g)}return((p=a.get(c))==null?void 0:p.get(f))||[]},resetPropertyCache(){a.clear()}}}function Kc(t){const r=Array.from(t.entities.entities.values()),o=r.filter(f=>f.type==="human"),a=r.filter(f=>f.type==="berryBush"),l=r.filter(f=>f.type==="humanCorpse");return{...t,search:{human:lc(o),berryBush:lc(a),humanCorpse:lc(l)}}}var gr=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t))(gr||{}),jo=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t))(jo||{}),_t=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(_t||{});const N1=[{key:gr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:gr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>xy,isCompleted:!1,minDisplayTime:Ch,highlightedUIElements:[jo.HUNGER_BAR]},{key:gr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!_e(r,t,"berryBush",Nt*5,a=>a.food.length>0),getTargets:(t,r)=>{const o=[];for(const a of t.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&ae(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:Ch},{key:gr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=_e(r,t,"berryBush",Nt,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:gr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[jo.FOOD_BAR]},{key:gr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>en(t,r).length>0,getTargets:(t,r)=>{const o=_e(r,t,"human",Nt,a=>{const l=a;return(l.id!==r.id&&l.gender!==r.gender&&l.isAdult&&r.isAdult&&l.hunger<nt&&r.hunger<nt&&(l.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(l.gender==="female"?!l.isPregnant&&l.age<=xt:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:gr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>nm(t,r).some(a=>a.type===_n.PlantBush)&&t.hasPlayerPlantedBush===!0,isCompleted:!1}];function gm(){return{steps:N1.map(t=>({...t,isCompleted:!1}))}}function mm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:_t.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function O1(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function M1(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=yr(t);if(!a){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=t.tutorial.steps[o.currentStepIndex];if(!l){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/EE;switch(o.transitionState){case _t.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=c*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=_t.ACTIVE);break;case _t.ACTIVE:{(t.time-(o.stepStartTime||t.time)>=(l.minDisplayTime||0)&&l.condition(t,a)||t.isPlayerOnAutopilot)&&(l.isCompleted=!0,o.completedSteps.add(l.key),o.transitionState=_t.FADING_OUT);break}case _t.FADING_OUT:if(o.transitionAlpha-=c*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const p=O1(t);p!==null?(o.currentStepIndex=p,o.transitionState=_t.FADING_IN):(o.isActive=!1,o.transitionState=_t.INACTIVE)}break}o.transitionState!==_t.FADING_OUT&&o.transitionState!==_t.INACTIVE?(l.getTargets?o.highlightedEntityIds=new Set(l.getTargets(t,a)):o.highlightedEntityIds.clear(),l.highlightedUIElements?o.activeUIHighlights=new Set(l.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function L1(){const t=hm(),r=0;for(let v=0;v<Dg;v++){const S={x:Math.random()*zr,y:Math.random()*Wr};Za(t,S,r)}const o=zr/2,a=Wr/2,l=Oa(t,{x:o,y:a},r,"male",!0);Oa(t,{x:o+50,y:a},r,"female",!1);const c=[{id:"autopilotButton",action:In.ToggleAutopilot,currentWidth:Lo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:In.ToggleMute,currentWidth:Lo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:In.TogglePause,currentWidth:Lo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=gm(),p=mm(),g={time:r,entities:t,mapDimensions:{width:zr,height:Wr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...l.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:em,isMuted:!1,uiButtons:c,tutorial:f,tutorialState:p},m=Kc(g);return console.log("Game world initialized:",m),m}function U1(){const t=hm(),r=0;for(let c=0;c<Dg;c++){const f={x:Math.random()*zr,y:Math.random()*Wr};Za(t,f,r)}for(let c=0;c<RE;c++){const f={x:Math.random()*zr,y:Math.random()*Wr},p=Math.random()<.5?"male":"female";Oa(t,f,r,p,!1)}const o=gm(),a=mm(),l={time:r,entities:t,mapDimensions:{width:zr,height:Wr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:zr/2,y:Wr/2},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:em,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:a};return Kc(l)}const F1="humanProcreation",H1="human",B1="human",x1=Nt,G1=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(a,l)=>a.isAdult&&a.hunger<nt&&(a.procreationCooldown||0)<=0?l?!a.isPregnant&&a.age<=xt:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},z1=(t,r,o)=>{var v,S;const{gameState:a}=o,l={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},c=[...t.partnerIds||[]],f=[...r.partnerIds||[]],p=t.gender==="male"?t:r,g=t.gender==="female"?t:r,m=(p.partnerIds||[]).length===0;t.stateMachine=[zo,{partnerId:r.id,previousState:(v=t.stateMachine)==null?void 0:v[0]}],r.stateMachine=[zo,{partnerId:t.id,previousState:(S=r.stateMachine)==null?void 0:S[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id);for(const R of c)if(R!==r.id){const I=a.entities.entities.get(R);I&&Na(t,I,hh,a)}for(const R of f)if(R!==t.id){const I=a.entities.entities.get(R);I&&Na(r,I,hh,a)}if(m&&p.leaderId&&p.leaderId!==p.id){const R=a.entities.entities.get(p.leaderId);if(R){const I=kh(p,R),N=kh(g,R);if(!I&&!N){const D=Pa();p.leaderId=p.id,p.tribeBadge=D,g.leaderId=p.id,g.tribeBadge=D}}}else if(!t.leaderId&&!r.leaderId&&p&&g){const R=Pa();p.leaderId=p.id,p.tribeBadge=R,g.leaderId=p.id,g.tribeBadge=R}t.activeAction=void 0,Qe(a,ve.Procreation,l,Do),Qe(a,ve.Partnered,t.position,Je,t.id),Qe(a,ve.Partnered,r.position,Je,r.id),t.lastPartneredEffectTime=a.time,r.lastPartneredEffectTime=a.time,r.activeAction=void 0,mt(o,Ke.Procreate,l)},W1={id:F1,sourceType:H1,targetType:B1,maxDistance:x1,checker:G1,perform:z1},j1={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Vr,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=fn,perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-$r),t.feedChildCooldownTime=Ky,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(Qe(o.gameState,ve.ChildFed,r.position,Je,r.id),r.lastChildFedEffectTime=o.gameState.time),mt(o,Ke.ChildFed,r.position)}},$1={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:za,checker:(t,r,o)=>{var c;if(((c=t.stateMachine)==null?void 0:c[0])!==Mi||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const a=t.stateMachine[1];return o.gameState.time-a.attackStartTime>=Fg},perform:(t,r,o)=>{Na(t,r,IS,o.gameState);const a=Oe(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),l=ME(Fe(a),r.direction);if(Math.abs(l)<sS*Math.PI/180&&Math.random()<aS)Qe(o.gameState,ve.AttackDeflected,r.position,Je,r.id);else{let p=Jy;t.gender==="male"&&(p*=rS),t.isAdult||(p*=iS),(!r.isAdult||r.age>=Lg)&&t.isAdult&&(p*=oS),r.hitpoints-=p,Qe(o.gameState,ve.Hit,r.position,Je,r.id);const m=Oe(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),v=cn(m,eS);r.forces.push(v),r.hitpoints<=0?mt(o,Ke.HumanDeath,r.position):mt(o,Ke.Attack,t.position)}t.attackCooldown=Hg;const f=t.stateMachine[1];f.attackStartTime=o.gameState.time,Qe(o.gameState,ve.Attack,t.position,Je,t.id)}},Y1={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Tn*2,checker:(t,r,{gameState:o})=>ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const a=ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const c=(t.radius+r.radius-a)*.05,f=Fe(NE(t.position,r.position)),p=cn(f,c);t.forces.push(p),r.forces.push(cn(p,-1))}},V1={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Nt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===ba&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();if(a&&t.food.push(a),r.ownerId&&r.ownerId!==t.id){const l=o.gameState.entities.entities.get(r.ownerId);l&&!Qa(t,l,o.gameState)&&Na(l,t,TS,o.gameState)}t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+Hy,Qe(o.gameState,ve.BushClaimed,r.position,Je),mt(o,Ke.Gather,t.position)}},X1={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Nt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===ba&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();a&&t.food.push(a),t.gatheringCooldownTime=o.gameState.time+1,mt(o,Ke.Gather,t.position)}},K1=[V1,X1],Q1=[Y1,...K1,W1,j1,$1];function b1(t){const{gameState:r}=t,o=r,a=Array.from(r.entities.entities.values());for(const l of Q1)for(const c of a){if(l.sourceType&&c.type!==l.sourceType)continue;const f=o.search[l.targetType].byRadius(c.position,l.maxDistance);for(const p of f){if(c.id===p.id)continue;ae(c.position,p.position,r.mapDimensions.width,r.mapDimensions.height)<=l.maxDistance&&l.checker(c,p,t)&&l.perform(c,p,t)}}}function q1(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const Z1=1/60;function J1(t,r){const o=yr(t);o&&(t.viewportCenter=zc(t.viewportCenter,o.position,Oc*r))}function wc(t,r){if(t.isPaused)return t;for(;r>0;){const o=Kc(t),a=Math.min(r,Z1);if(o.gameOver)return o;const l=a*(bt/qt);o.time+=l,J1(o,a),T1({gameState:o,deltaTime:a}),b1({gameState:o,deltaTime:a}),q1(o),M1(o,a),t=o,r-=a}return t}const Ic=10,e_=3,Yh=Ic*.7;function t_(t,r,o,a,l){const{position:c,food:f,maxFood:p,ownerId:g,claimedUntil:m}=r;if(t.beginPath(),t.arc(c.x,c.y,Ic,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),g&&m&&m>l&&a){const v=o.entities.entities.get(g);if(v){let S;v.id===a.id?S=Gc:Qa(a,v,o)?S=NS:S=bg,S&&(t.strokeStyle=S,t.lineWidth=1+Math.sin(l*2)*.5,t.beginPath(),t.arc(c.x,c.y,Ic+2,0,Math.PI*2),t.stroke())}}if(f.length>0){const v=Math.PI*2/Math.min(f.length,p);for(let S=0;S<f.length;S++){const R=S*v,I=c.x+Yh*Math.cos(R),N=c.y+Yh*Math.sin(R);t.beginPath(),t.arc(I,N,e_,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}const le=(t,r,o,a,l,c,f)=>{c==="transparent"||a<=0||l<=0||(t.fillStyle=c,t.fillRect(Math.floor(r*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(l*f)))},Vh=10,Xh=10,En=6,Hn=4,da=2,n_=5,Kt=4,r_=2,gt=4,i_=2,xe=3,Ei=2,mr=0,Uo=mr+Hn-1,At=Uo,Xe=Uo+Kt-1,o_="rgba(0, 0, 0, 0.4)",s_=4,a_=1,Qc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,a,l,c,f,p="male",g=20,m=[1,0],v=!1,S=0){const R=["dead","stunned"].includes(f),I=R?Xh+4:Vh,N=R?Vh+4:Xh+xe,D=.15,A=Math.min(a*(1-2*D)/I,l*(1-2*D)/N),k=I*A,W=N*A,B=r+(a-k)/2,F=o+(l-W)/2;t.save(),m[0]<0&&!R?(t.translate(B+k,F),t.scale(-1,1)):t.translate(B,F);const M="#D09A5A",x=g>50?"#BDBDBD":"#281808",Q="#7F5C4A",ke="#6B4F3A",je="#E0D8C0",rt="#A0522D",Ge=1-Math.max(0,Math.min(100,S))/100*.2,De=p==="male"?1.1:.9,ye=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let Ee=n_*Ge*De*ye,he=r_*Ge*De*ye,oe=i_*Ge*ye;v&&p==="female"&&(Ee*=1.5);const G=Math.round((I-Ee)/2),$=Math.round((I-En)/2),j=G-he,w=G+Ee,O=1,te=G+(Ee/2-O/2)-oe,V=G+(Ee/2+O/2),ne=m[1]<-.2&&Math.abs(m[0])<.7,ue=b=>{t.fillStyle=o_,t.beginPath();const se=I/2,Ie=b;t.ellipse(Math.floor(se*A),Math.floor(Ie*A),Math.max(1,Math.floor(s_*A)),Math.max(1,Math.floor(a_*A)),0,0,2*Math.PI),t.fill()},fe=(b,se)=>{p==="male"?(le(t,G,Uo+b,Ee,Kt-Ei,se,A),le(t,G,Uo+Kt-Ei+b,Ee,Ei,Q,A)):le(t,G,Uo+b,Ee,Kt,ke,A)},pe=(b,se)=>{ne?le(t,$,mr+b,En,Hn,x,A):(le(t,$,mr+b,En,Hn,se,A),le(t,$,mr+b,En,da,x,A),p==="female"?(le(t,$-1,mr+da+b,1,Hn,x,A),le(t,$+En,mr+da+b,1,Hn,x,A)):le(t,$+1,mr+2+b,En-2,Hn-2,x,A))};switch(f){case"idle":{const b=c*Math.PI*2,se=Math.sin(b)*.5,de=(Math.cos(b*2)+1)*.25;ue(Xe+xe+1),le(t,te+se,Xe+de,oe,xe,M,A),le(t,V-se,Xe+de,oe,xe,M,A),fe(de,M),le(t,j,At+de,he,gt,M,A),le(t,w,At+de,he,gt,M,A),pe(de,M);break}case"walk":{const b=c*Math.PI*2,se=Math.sin(b)*2,de=Math.abs(Math.cos(b))*1;ue(Xe+xe+1),le(t,te+se,Xe+de,oe,xe,M,A),le(t,V-se,Xe+de,oe,xe,M,A),fe(de,M),le(t,j-se,At+de,he,gt,M,A),le(t,w+se,At+de,he,gt,M,A),pe(de,M);break}case"gathering":{const b=c*Math.PI*2,se=1,Ie=(Math.sin(b)+1)/2*2,de=se+Math.abs(Math.cos(b))*.5;ue(Xe+xe+1),le(t,te,Xe+de,oe,xe-se,M,A),le(t,V,Xe+de,oe,xe-se,M,A),fe(de,M),le(t,j+1,At+de-Ie,he,gt,M,A),le(t,w-1,At+de-Ie,he,gt,M,A),pe(de,M);break}case"eat":{ue(Xe+xe+1),le(t,te,Xe+1,oe,xe-1,M,A),le(t,V,Xe+1,oe,xe-1,M,A),fe(1,M);const Ie=(Math.sin(c*Math.PI*4)+1)/2,de=$+En/2,Rn=mr+Hn/2,Ot=w+(de-w)*Ie,zt=At+1+(Rn-(At+1))*Ie;le(t,j,At+1,he,gt,M,A),le(t,Ot,zt,he,gt,M,A),le(t,Ot,zt-1,1,1,rt,A),pe(1,M);break}case"procreate":{const b=(Math.sin(c*Math.PI*8)+1)/4,se=(Math.sin(c*Math.PI*6)+1)*.5,Ie=1.5,de=Ie-se;ue(Xe+xe+1),le(t,te,Xe+de,oe,xe-Ie,M,A),le(t,V,Xe+de,oe,xe-Ie,M,A),fe(de,M),le(t,j,At+de,he,gt,M,A),le(t,w,At+de,he,gt,M,A),pe(de,M),t.globalAlpha=b,fe(de,"white"),t.globalAlpha=1;break}case"attacking":{const b=Math.sin(c*Math.PI)*1.5,se=Math.abs(Math.sin(c*Math.PI));ue(Xe+xe+1),le(t,te-b,Xe+se,oe,xe,M,A),le(t,V+b*.5,Xe+se,oe,xe,M,A),fe(se,M),le(t,j,At+se-2,he,gt,M,A),le(t,w,At+se-2.5,he,gt,M,A),pe(se,M);break}case"defending":{ue(Xe+xe+1),le(t,te,Xe+1,oe,xe-1,M,A),le(t,V,Xe+1,oe,xe-1,M,A),fe(1,M),le(t,j-1,At+1-1,he,gt,M,A),le(t,w+1,At+1-1,he,gt,M,A),pe(1,M);break}case"stunned":case"dead":{const b=f==="dead",se=b?Math.min(1,c):0,Ie=se>.5?je:M,de=p==="male"?Q:ke,Rn=se>.8?"transparent":x,Ot=I/2,zt=N/2,_r=2;ue(N-1),le(t,Ot-oe-_r,zt,oe,xe,Ie,A),le(t,Ot+_r,zt,oe,xe,Ie,A),le(t,Ot-he-_r,zt-Kt+1,he,gt,Ie,A),le(t,Ot+_r,zt-Kt+1,he,gt,Ie,A);const Pn=Ot-Ee/2,zn=zt-Kt/2;p==="male"?(se<.7&&le(t,Pn,zn+Kt-Ei,Ee,Ei,de,A),le(t,Pn,zn,Ee,Kt-Ei,Ie,A)):se<.7?le(t,Pn,zn,Ee,Kt,de,A):le(t,Pn,zn,Ee,Kt,Ie,A);const Kr=Ot-En/2,Wn=zt-Kt/2-Hn+1;if(le(t,Kr,Wn,En,Hn,Ie,A),Rn!=="transparent"&&le(t,Kr,Wn,En,da,Rn,A),b&&se>.6){const jn="#B0A890";for(let wr=0;wr<3;wr++)le(t,Pn+1,zn+wr*1+1,Ee-2,.5,jn,A)}break}default:le(t,0,0,I,N,"magenta",A);break}t.restore()}};function l_(t,r){const{position:o,gender:a,age:l,decayProgress:c,food:f,radius:p}=r;if(t.save(),t.globalAlpha=1-c,Qc.render(t,o.x-p,o.y-p,p*2,p*2,c,"dead",a,l,[0,0],!1,0),t.restore(),f.length>0){t.save(),t.font=`${VS}px Arial`,t.textAlign="center",t.textBaseline="middle";const g=Tn*.9,m=Math.PI/Og*3;f.forEach((v,S)=>{const R=S*m,I=o.x+g*Math.cos(R)*Math.atan2(S,S),N=o.y+g*Math.sin(R)*Math.atan2(S,S),D=tm[v.type];t.fillText(D,I,N)}),t.restore()}}const u_=25,c_=0,Kh=28;function d_(t,r,o,a,l,c,f,p,g){t.save();const m=r.x-f.x+p/2,v=r.y-f.y+g/2;t.strokeStyle=a,t.lineWidth=c,t.setLineDash(l),t.beginPath(),t.arc(m,v,o+qg,0,2*Math.PI),t.stroke(),t.restore()}function f_(t,r,o,a,l,c){if(r.length===0)return;t.save(),r.forEach(v=>{v.targetEntity&&d_(t,v.targetEntity.position,v.targetEntity.radius,OS,MS,2,a,l,c)}),t.font=`${gh}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const f=o.position.x-a.x+l/2,p=o.position.y-a.y+c/2;let g=0,m={};r.forEach(v=>{const S=UE[v.type];if(v.targetEntity){m[v.targetEntity.id]=(m[v.targetEntity.id]||0)+1;const R=v.targetEntity.position.x-a.x+l/2,I=v.targetEntity.position.y-a.y+c/2,N=`${S}${v.key.toUpperCase()}`,D=I-v.targetEntity.radius-qg-gh/2-(m[v.targetEntity.id]-1)*Kh;t.fillText(N,R,D)}else{t.textAlign="left";const R=`${S}${v.key.toUpperCase()}`,I=f+u_,D=p+c_+g*Kh;t.fillText(R,I,D),g++,t.textAlign="center"}}),t.restore()}function p_(t,r){t.save(),t.fillStyle=r.backgroundColor,t.fillRect(r.rect.x,r.rect.y,r.rect.width,r.rect.height),t.fillStyle=r.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,r.rect.x+r.rect.width/2,r.rect.y+r.rect.height/2),t.restore()}function Ti(t,r,o,a,l,c,f,p){t.save(),t.fillStyle=f,t.fillRect(r,o,a,l),t.fillStyle=p,t.fillRect(r,o,a*Math.max(0,c),l),t.restore()}function h_(t,r,o,a,l,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*l;let p;f>c||f+(a.length-1)*4>c?p=(c-f)/(a.length-1):p=4,a.length===1&&(p=0);for(let g=0;g<a.length;g++){const m=tm[a[g].type];t.fillText(m,r+g*(l+p),o)}t.restore()}function g_(t,r,o,a,l){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=l,t.strokeStyle=l,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function $o(t,r,o,a,l,c=!1,f=!1,p=!1,g=!1){a<Uc&&(o=o*.75),Qc.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",l,a,[0,0],!1,0);let m,v;c?(m=XS,v=Gc):f?(m=KS,v=Qg):p?(m=QS,v=Kg):g&&(m=bS,v=Xg),m&&v&&g_(t,r,o/2,m,v)}function m_(t,r,o,a,l,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*l,p=4;let g;const m=f+(a.length-1)*p;a.length>1&&m>c?g=(c-f)/(a.length-1):g=p,a.length<=1&&(g=0);for(let v=0;v<a.length;v++){const{member:S,isPlayer:R,isHeir:I,isPartner:N,isParent:D}=a[v],A=r+v*(l+g)+l/2,k=o+l/4;$o(t,{x:A,y:k},l,S.age,S.gender,R,I,N,D)}t.restore()}function v_(t,r,o,a){if(r.length===0)return;t.save();const l=dr,c=" 00",f=" 00";t.font=`${qu}px "Press Start 2P", Arial`;const p=t.measureText(c).width,g=t.measureText(f).width,m=dr+sa+dr+fr+p+dr/2+fr+g,v=r.length*aa+(r.length-1)*yh,S=a-v-dr;t.fillStyle=ZS,t.fillRect(l,S,m,v);for(let R=0;R<r.length;R++){const I=r[R],N=S+R*(aa+yh),D=N+aa/2;I.isPlayerTribe&&(t.fillStyle=qS,t.fillRect(l,N,m,aa));let A=l+dr;t.font=`${sa}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(I.tribeBadge,A,D-sa/4),A+=sa+dr*1.1,I.adultCount>0&&($o(t,{x:A+fr/2,y:D},fr,25,"male"),A+=fr/2,t.font=`${qu}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${I.adultCount}`,A,D),A+=t.measureText(` ${I.adultCount}`).width+dr/2),I.childCount>0&&($o(t,{x:A+fr/2,y:D},fr,1,"female"),A+=fr/2,t.font=`${qu}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${I.childCount}`,A,D))}t.restore()}function y_(t,r,o,a,l){t.save();const{position:c}=r;t.strokeStyle=a,t.lineWidth=2+Math.sin(l*5)*1.5,t.setLineDash([8,8]),t.beginPath(),t.arc(c.x,c.y,o,0,2*Math.PI),t.stroke(),t.restore()}function S_(t,r,o,a,l){if(r.transitionState===_t.INACTIVE)return;const c=o.steps[r.currentStepIndex];if(!c)return;t.save(),t.globalAlpha=r.transitionAlpha;const f=gE,p=mE,g=vE,m=`${nc}px "Press Start 2P", Arial`,v=`${Th}px "Press Start 2P", Arial`,S=SE,R=Th*1.5;t.font=v;const I=c.text.split(" ");let N="";const D=[];for(let F=0;F<I.length;F++){const K=N+I[F]+" ";t.measureText(K).width>f-p*2&&F>0?(D.push(N),N=I[F]+" "):N=K}D.push(N);const A=p*2+nc+p/2+D.length*R,k=(a-f)/2,W=l-A-20;t.fillStyle=yE,t.beginPath(),t.moveTo(k+g,W),t.lineTo(k+f-g,W),t.quadraticCurveTo(k+f,W,k+f,W+g),t.lineTo(k+f,W+A-g),t.quadraticCurveTo(k+f,W+A,k+f-g,W+A),t.lineTo(k+g,W+A),t.quadraticCurveTo(k,W+A,k,W+A-g),t.lineTo(k,W+g),t.quadraticCurveTo(k,W,k+g,W),t.closePath(),t.fill(),t.fillStyle=S,t.textAlign="center",t.textBaseline="top",t.font=m,t.fillText(c.title,k+f/2,W+p),t.font=v;let B=W+p+nc+p/2;for(const F of D)t.fillText(F,k+f/2,B),B+=R;t.restore()}function Qh(t,r,o){t.save();const a=IE,l={x:r.x-a,y:r.y-a,width:r.width+a*2,height:r.height+a*2};t.strokeStyle=Jg,t.lineWidth=wE+Math.sin(o*_E)*1.5,t.setLineDash([8,8]),t.strokeRect(l.x,l.y,l.width,l.height),t.restore()}function E_(t){t.save(),t.fillStyle=fE,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=pE,t.font=`${hE}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const A_={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle"};function __(t,r){var p;const{radius:o,position:a,activeAction:l="idle"}=r,c=((p=r.stateMachine)==null?void 0:p[0])||"N/A",f=r.isAdult?Tn+20:Tn*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${l}`,a.x,a.y-f),t.fillText(`State: ${c}`,a.x,a.y-f+10),t.fillText(`HP: ${r.hitpoints}`,a.x,a.y-f+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,a.x,a.y-f+30),t.restore(),t.beginPath(),t.arc(a.x,a.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function w_(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const a=r.aiBlackboard.getNodeExecutionData();if(a.size===0)return;t.save(),t.font=`${aE}px Arial`,t.textAlign="left",t.textBaseline="top";const l=(v,S,R)=>{let I=S;const N=v.name?a.get(v.name):void 0;if(v.name&&N){const{lastExecuted:D,status:A,depth:k,executionHistory:W}=N,B=dE/qt*bt,F=o-D,K=Math.max(0,1-F/B),M=LE(uE,cE,K);let x;switch(A){case J.SUCCESS:x=Ah;break;case J.FAILURE:x=_h;break;case J.RUNNING:x=wh;break;default:x="grey"}const Q=R+2+(k??0)*Eh;t.fillStyle=x,t.fillText("●",Q,I),t.fillStyle=M;const ke=` ${v.name}`+(N!=null&&N.debugInfo?`: ${N.debugInfo}`:"");if(t.fillText(ke,Q+8,I),W&&W.length>0){const je=Zg/qt*bt,rt=o,Ge=rt-je,De=t.measureText(ke).width;let ye=Q+8+De+Ih;const Ee=I+(tc-ua)/2,he=ye,oe=W.filter(ne=>ne.time<Ge);let G=oe.length>0?oe[oe.length-1].status:null,$=Ge;const j=W.filter(ne=>ne.time>=Ge&&ne.time<=rt),w=ne=>{if(ne===null)return"rgba(255, 255, 255, 0.1)";switch(ne){case J.SUCCESS:return Ah;case J.FAILURE:return _h;case J.RUNNING:return wh;default:return"rgba(255, 255, 255, 0.1)"}},O=la/je;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(ye,Ee,la,ua);for(const ne of j){const fe=(ne.time-$)*O;fe>0&&(t.fillStyle=w(G),t.fillRect(ye,Ee,fe,ua),ye+=fe),G=ne.status,$=ne.time}const V=(rt-$)*O;if(V>0){t.fillStyle=w(G);const ne=he+la-ye;t.fillRect(ye,Ee,Math.min(V,ne),ua)}}I+=tc}if(v.children)for(const D of v.children)I=l(D,I,R);else v.child&&(I=l(v.child,I,R));return I},c=v=>{let S=0,R=0;const I=v.name?a.get(v.name):void 0;if(v.name&&I){const N=` ${v.name}`+(I!=null&&I.debugInfo?`: ${I.debugInfo}`:""),D=t.measureText(N).width,A=(I.depth??0)*Eh+8+D+Ih+la+20;S=Math.max(S,A),R+=tc}if(v.children)for(const N of v.children){const D=c(N);S=Math.max(S,D.width),R+=D.height}else if(v.child){const N=c(v.child);S=Math.max(S,N.width),R+=N.height}return{width:S,height:R}},{width:f,height:p}=c(r.aiBehaviorTree),g=r.position.x+oE,m=r.position.y+sE-p/2;t.fillStyle=lE,t.fillRect(g,m,f,p+4),l(r.aiBehaviorTree,m+2,g),t.restore()}function I_(t,r,o){t.save(),t.font=`${vh}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-Tn-vh-18),t.restore()}function T_(t,r,o,a,l){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=l,t.strokeStyle=l,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function C_(t,r,o){var p;const{position:a,radius:l}=r,c=a.x-Zu/2,f=a.y-l-JS;if(((p=r.stateMachine)==null?void 0:p[0])===Mi){const g=r.stateMachine[1],m=o-g.attackStartTime,v=Math.min(m/Fg,1);Ti(t,c,f,Zu,Sh,v,Ii,eE)}else if(r.attackCooldown&&r.attackCooldown>0){const g=1-r.attackCooldown/Hg;Ti(t,c,f,Zu,Sh,g,Ii,tE)}}function R_(t,r,o=!1,a=!1,l=!1,c=!1,f=!1,p=!1,g=!1,m,v){const{position:S,activeAction:R="idle"}=r,I=r.isAdult?Tn:Tn*.6,N=A_[R]||"idle";Qc.render(t,S.x-I,S.y-I,I*2,I*2,r.animationProgress||0,N,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),p&&(t.save(),t.strokeStyle=bg,t.lineWidth=2,t.beginPath(),t.arc(S.x,S.y,I+3,0,2*Math.PI),t.stroke(),t.restore());let D,A;if(f?(D=US,A=Qg):o?(D=LS,A=Gc):l?(D=FS,A=DS):a?(D=HS,A=Xg):c&&(D=BS,A=Kg),D&&A&&T_(t,S,I,D,A),r.tribeBadge&&I_(t,S,r.tribeBadge),r.aiType!==void 0){t.save();const W=3,B=I+5;let F;switch(r.aiType){case Qt.UtilityBased:F="blue";break;case Qt.BehaviorTreeBased:F="purple";break;case Qt.StrategyBased:default:F="red";break}t.fillStyle=F,t.beginPath(),t.arc(S.x,S.y-B,W,0,Math.PI*2),t.fill(),t.restore()}const k=g&&(v===void 0||r.id===v);k&&r.aiBlackboard&&w_(t,r,m),C_(t,r,m),k&&__(t,r)}const vm=15;function bh(t,r,o,a,l=1.5){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,m=1+Math.sin(f*Math.PI*2)*(l-1),v=vm*m;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,v),0,Math.PI*2),t.fillStyle=a,t.fill(),t.restore()}function Ai(t,r,o,a,l=2){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,g=vm*2*f;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,g,0,Math.PI*2),t.strokeStyle=a,t.lineWidth=l,t.stroke(),t.restore()}function pr(t,r,o,a){const l=o-r.startTime,c=Math.min(l/r.duration,1),f=1-c,p=-20*c;t.save(),t.globalAlpha=f,t.font="20px Arial",t.textAlign="center",t.fillText(a,r.position.x,r.position.y+p),t.restore()}function P_(t,r,o){switch(r.type){case ve.Hunger:bh(t,r,o,"rgba(255, 165, 0, 0.7)");break;case ve.Procreation:pr(t,r,o,"❤️");break;case ve.Pregnant:bh(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case ve.TargetAcquired:Ai(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case ve.Attack:pr(t,r,o,"⚔️");break;case ve.Partnered:pr(t,r,o,"🤝");break;case ve.BushClaimed:Ai(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case ve.BushClaimLost:Ai(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case ve.Eating:pr(t,r,o,"🍖");break;case ve.ChildFed:pr(t,r,o,"🍼");break;case ve.AttackDeflected:pr(t,r,o,"🛡️");break;case ve.AttackResisted:pr(t,r,o,"💪");break;case ve.Hit:pr(t,r,o,"💥");break;case ve.SeizeBuildup:Ai(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case ve.Seize:Ai(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case ve.CallToAttack:Ai(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Ro(t,r,o,a,l,...c){const f={...l.position};for(let p=-o;p<=o;p+=o)for(let g=-r;g<=r;g+=r)l.position.x=f.x+g,l.position.y=f.y+p,a(t,l,...c);l.position=f}function Ma(t,r,o,a,l,c=!1){var I;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-a.x,t.canvas.height/2-a.y),!c&&r.gameOver){t.restore(),t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20);return}const f=yr(r),p=f?en(r,f):[],g=Ec(p),m=((I=f==null?void 0:f.partnerIds)==null?void 0:I.map(N=>r.entities.entities.get(N)).filter(N=>N!==void 0))||[],{width:v,height:S}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((N,D)=>N.position.y-D.position.y||N.id-D.id).forEach(N=>{var D,A;if(N.type==="berryBush")Ro(t,v,S,t_,N,r,f,r.time);else if(N.type==="human"){const k=N,W=k.id===(f==null?void 0:f.id),B=p.some(Q=>Q.id===k.id),F=k.id===(g==null?void 0:g.id),K=f&&(k.id===f.motherId||k.id===f.fatherId),M=f&&(((D=k.partnerIds)==null?void 0:D.includes(f.id))||((A=f.partnerIds)==null?void 0:A.includes(k.id))),x=(f==null?void 0:f.attackTargetId)===k.id;Ro(t,v,S,R_,k,W,K,B,M,F,x,o,r.time,r.debugCharacterId)}else N.type==="humanCorpse"&&Ro(t,v,S,l_,N)}),r.visualEffects.forEach(N=>{Ro(t,v,S,P_,N,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const N of r.tutorialState.highlightedEntityIds){const D=r.entities.entities.get(N);D&&Ro(t,v,S,y_,D,AE,Jg,r.time)}if(t.restore(),!c){let N=null,D=null;t.fillStyle=xS,t.font=`${ur}px "Press Start 2P", Arial`,t.shadowColor=GS,t.shadowBlur=zS;let A=Dt+ur;const W=r.time/(bt/qt)/Ng%1,B=Io[_i.Time],F=25,K=Dt+F;if(t.fillText(B,Dt,A+Ht/2+ur/3),Ti(t,K,A,cr,Ht,W,Ii,YS),A+=Ht+Sn,f){const Q=A+Hr/2,ke=A+(Hr-Ht)/2,je=5;$o(t,{x:Dt*2,y:Q},Hr,5,f.gender,!1,!1,!1);const rt=Dt+Hr+je,Ge=cr+F-(Hr+je)*2;Ti(t,rt,ke,Ge,Ht,Math.floor(f.age)/xo,Ii,$S),$o(t,{x:rt+Ge+je+Hr/2,y:Q},Hr,xo,f.gender,!1,!1,!1),A+=Ht+Sn*2;const De=[],ye=new Set;if(De.push({member:f,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(f.id),g&&!ye.has(g.id)&&(De.push({member:g,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),ye.add(g.id)),m.forEach(V=>{ye.has(V.id)||(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),ye.add(V.id))}),p.forEach(V=>{ye.has(V.id)||(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(V.id))}),f.motherId&&!ye.has(f.motherId)){const V=r.entities.entities.get(f.motherId);V&&(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(V.id))}if(f.fatherId&&!ye.has(f.fatherId)){const V=r.entities.entities.get(f.fatherId);V&&(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(V.id))}const Ee=Io[_i.Family],he=10,oe=Dt+ur+he,G=cr+F-(ur+he),$=A+oa/2;t.font=`${ur}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(Ee,Dt,$);const j=A+oa/2;m_(t,oe,j,De,oa,G),A+=oa+Sn,t.textBaseline="alphabetic";const w=Io[_i.Hitpoints];t.fillText(w,Dt,A+Ht/2+ur/3),Ti(t,K,A,cr,Ht,f.hitpoints/f.maxHitpoints,Ii,jS),A+=Ht+Sn;const O=Io[_i.Hunger];t.fillText(O,Dt,A+Ht/2+ur/3),Ti(t,K,A,cr,Ht,(wt-f.hunger)/wt,Ii,WS),N={x:Dt,y:A-Sn/2,width:cr+F,height:Ht+Sn},A+=Ht+Sn,t.textBaseline="middle";const te=Io[_i.Food];t.fillText(te,Dt,A+wo/2),h_(t,K,A+wo/2,f.food,wo,cr),D={x:Dt,y:A-Sn/5,width:cr+F,height:wo+Sn},t.textBaseline="alphabetic",A+=wo+Sn*2}let M=t.canvas.width-Dt;r.uiButtons.forEach(Q=>{const ke=Dt,je=M-Q.currentWidth;switch(Q.rect={x:je,y:ke,width:Q.currentWidth,height:nE},Q.textColor=iE,Q.action){case In.ToggleAutopilot:Q.text="AUT[O]",Q.backgroundColor=r.isPlayerOnAutopilot?ec:Ju;break;case In.ToggleMute:Q.text=r.isMuted?"UN[M]UTE":"[M]UTE",Q.backgroundColor=r.isMuted?ec:Ju;break;case In.TogglePause:Q.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",Q.backgroundColor=r.isPaused?ec:Ju,r.isPaused?Q.currentWidth=Lo*1.4:Q.currentWidth=Lo*1.1;break}p_(t,Q),M-=Q.currentWidth+rE});const x=HE(r,f==null?void 0:f.leaderId);if(v_(t,x,t.canvas.width,t.canvas.height),t.shadowColor="transparent",t.shadowBlur=0,f&&l.length>0&&f_(t,l,f,a,t.canvas.width,t.canvas.height),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:Q}=r.tutorialState;Q.has(jo.HUNGER_BAR)&&N&&Qh(t,N,r.time),Q.has(jo.FOOD_BAR)&&D&&Qh(t,D,r.time)}r.tutorialState.isActive&&S_(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),r.isPaused&&E_(t)}}const k_=Cn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,D_=Cn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,N_=Cn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,O_=Cn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,M_=Cn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,qh=()=>{const{setAppState:t}=La(),r=Se.useRef(null),o=Se.useRef(null),a=Se.useRef(U1()),l=Se.useRef(),c=Se.useRef(a.current.viewportCenter),f=Se.useRef();Se.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const v=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Ma(o.current,a.current,!1,c.current,[],!0))};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),Se.useEffect(()=>{const m=()=>{const S=BE(a.current);if(S.length>0){const R=Math.floor(Math.random()*S.length);f.current=S[R].id}};m();const v=setInterval(m,PE);return()=>clearInterval(v)},[]);const[p,g]=kg(m=>{if(!o.current)return;if(l.current===void 0){l.current=m;return}const v=(m-l.current)/1e3;a.current=wc(a.current,v);const S=f.current?a.current.entities.entities.get(f.current):void 0;if(S){const{mapDimensions:R}=a.current,{width:I,height:N}=R;let D={...S.position};const A=D.x-c.current.x;Math.abs(A)>I/2&&(A>0?D.x-=I:D.x+=I);const k=D.y-c.current.y;Math.abs(k)>N/2&&(k>0?D.y-=N:D.y+=N);let W=zc(c.current,D,Oc*v);W={x:(W.x%I+I)%I,y:(W.y%N+N)%N},c.current=W}Ma(o.current,a.current,!1,c.current,[],!0),l.current=m});return Se.useEffect(()=>(g(),p),[g,p]),Re.jsxs(k_,{children:[Re.jsx(D_,{ref:r}),Re.jsxs(N_,{children:[Re.jsx(O_,{children:"Tribe"}),Re.jsx(M_,{onClick:()=>t("game"),children:"Start Game"})]})]})};function L_(){return console.log("Tribe game initialized with detailed 2D world state."),L1()}const Zh=L_(),Jh=()=>{const t=Se.useRef(null),r=Se.useRef(null),o=Se.useRef(Zh),a=Se.useRef(),l=Se.useRef(new Set),c=Se.useRef(!1),f=Se.useRef(Zh.viewportCenter),p=Se.useRef([]),{appState:g,setAppState:m}=La();Se.useEffect(()=>{const I=t.current;if(!I)return;r.current=I.getContext("2d");const N=()=>{I&&r.current&&(I.width=window.innerWidth,I.height=window.innerHeight,Ma(r.current,o.current,c.current,f.current,p.current,!1))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[v,S,R]=kg(I=>{if(!r.current||!a.current){a.current=I;return}const N=(I-a.current)/1e3;o.current=wc(o.current,N);const D=yr(o.current);if(D?p.current=nm(o.current,D):p.current=[],D){const{mapDimensions:A}=o.current,{width:k,height:W}=A;let B={...D.position};if(o.current.debugCharacterId){const x=o.current.entities.entities.get(o.current.debugCharacterId);x&&(B={...x.position})}const F=B.x-f.current.x;Math.abs(F)>k/2&&(F>0?B.x-=k:B.x+=k);const K=B.y-f.current.y;Math.abs(K)>W/2&&(K>0?B.y-=W:B.y+=W);let M=zc(f.current,B,Oc*N);M={x:(M.x%k+k)%k,y:(M.y%W+W)%W},f.current=M}else f.current=o.current.viewportCenter;Ma(r.current,o.current,c.current,f.current,p.current,!1),a.current=I,o.current.gameOver&&g!=="gameOver"&&(dm(Ke.GameOver,{masterVolume:o.current.masterVolume,isMuted:o.current.isMuted}),m("gameOver",{generations:o.current.generationCount,cause:o.current.causeOfGameOver||"Unknown"}))});return Se.useEffect(()=>(S(),v),[S,v]),Se.useEffect(()=>{const I=N=>{if(!R()||o.current.gameOver||!t.current)return;const D=t.current.getBoundingClientRect(),A=N.clientX-D.left,k=N.clientY-D.top,W={gameState:o.current};o.current.uiButtons.forEach(B=>{if(A>=B.rect.x&&A<=B.rect.x+B.rect.width&&k>=B.rect.y&&k<=B.rect.y+B.rect.height){const F=yr(o.current);switch(F&&mt(W,Ke.ButtonClick,F.position),B.action){case In.ToggleAutopilot:o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;break;case In.ToggleMute:o.current.isMuted=!o.current.isMuted;break;case In.TogglePause:o.current.isPaused=!o.current.isPaused;break}}})};return window.addEventListener("mousedown",I),()=>{window.removeEventListener("mousedown",I)}},[R]),Se.useEffect(()=>{const I=D=>{if(!R()||o.current.gameOver)return;const A=D.key.toLowerCase();if(A==="m"){o.current.isMuted=!o.current.isMuted,Ea(o.current.masterVolume,o.current.isMuted);return}if(A==="="||A==="+"){const B=Math.min(1,o.current.masterVolume+.1);o.current.masterVolume=parseFloat(B.toFixed(1)),Ea(o.current.masterVolume,o.current.isMuted);return}if(A==="-"){const B=Math.max(0,o.current.masterVolume-.1);o.current.masterVolume=parseFloat(B.toFixed(1)),Ea(o.current.masterVolume,o.current.isMuted);return}if(A==="t"){o.current=wc(o.current,10);return}if(A===" "||A==="p"){D.preventDefault(),o.current.isPaused=!o.current.isPaused;return}if(A==="o"){o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;return}if(A==="§"||A==="`"){c.current=!c.current,c.current||(o.current.debugCharacterId=void 0);return}if(A==="tab"){D.preventDefault(),c.current=!0;const B=Array.from(o.current.entities.entities.values()).filter(F=>F.type==="human");if(B.length>0){const F=B.sort((Q,ke)=>Q.isPlayer?-1:Q.id-ke.id),K=o.current.debugCharacterId,x=((K?F.findIndex(Q=>Q.id===K):-1)+1)%F.length;o.current.debugCharacterId=F[x].id}else o.current.debugCharacterId=void 0;return}if(o.current.isPlayerOnAutopilot)return;l.current.add(A);const k=yr(o.current);if(!k)return;const W={gameState:o.current};if(A==="e"){const B=_e(k,o.current,"berryBush",Nt,M=>M.food.length>0&&k.food.length<k.maxFood),F=_e(k,o.current,"humanCorpse",Nt,M=>M.food.length>0&&k.food.length<k.maxFood);let K=null;B&&F?K=ae(k.position,B.position,o.current.mapDimensions.width,o.current.mapDimensions.height)<=ae(k.position,F.position,o.current.mapDimensions.width,o.current.mapDimensions.height)?B:F:K=B||F,K&&(k.activeAction="gathering",mt(W,Ke.Gather,k.position))}else if(A==="r")_e(k,o.current,"human",Nt,F=>{const K=F;return K.id!==k.id&&K.gender!==k.gender&&K.isAdult&&k.isAdult&&K.hunger<nt&&k.hunger<nt&&(K.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(K.gender==="female"?!K.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",mt(W,Ke.Procreate,k.position));else if(A==="f")k.activeAction="eating",mt(W,Ke.Eat,k.position);else if(A==="arrowup"||A==="w")k.direction.y=-1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(A==="arrowdown"||A==="s")k.direction.y=1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(A==="arrowleft"||A==="a")k.direction.x=-1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(A==="arrowright"||A==="d")k.direction.x=1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(A==="q"){const B=_e(k,o.current,"human",za,F=>F.id!==k.id);B&&(k.activeAction="attacking",k.attackTargetId=B.id)}else if(A==="b"){if(p.current.find(F=>F.type===_n.PlantBush)){const F=rm(k.position,o.current,50,yc);F&&(k.activeAction="planting",k.targetPosition=F,o.current.hasPlayerPlantedBush=!0)}}else if(A==="v")p.current.find(F=>F.type===_n.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=o.current.time+Er,Qe(o.current,ve.CallToAttack,k.position,Er),mt(W,Ke.CallToAttack,k.position));else return},N=D=>{if(!R()||o.current.gameOver)return;const A=D.key.toLowerCase();l.current.delete(A);const k=yr(o.current);!k||o.current.isPlayerOnAutopilot||(A==="arrowup"||A==="w"||A==="arrowdown"||A==="s"?k.direction.y=0:(A==="arrowleft"||A==="a"||A==="arrowright"||A==="d")&&(k.direction.x=0),!l.current.has("arrowup")&&!l.current.has("arrowdown")&&!l.current.has("arrowleft")&&!l.current.has("arrowright")&&!l.current.has("w")&&!l.current.has("a")&&!l.current.has("s")&&!l.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!l.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!l.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!l.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",I),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",N)}},[R,g,m,S,v]),Re.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})},U_=Cn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,F_=Cn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,fa=Cn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,H_=Cn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,B_=()=>{const{setAppState:t,gameOverDetails:r}=La(),o=()=>{t("intro")};return Re.jsxs(U_,{children:[Re.jsx(F_,{children:"Game Over"}),Re.jsx(fa,{children:"Your tribe's lineage has ended."}),r&&Re.jsxs(Re.Fragment,{children:[Re.jsxs(fa,{children:["Generations Survived: ",r.generations]}),Re.jsxs(fa,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Re.jsx(fa,{children:"Game details are unavailable."}),Re.jsx(H_,{onClick:o,children:"Return to Menu"})]})},x_=Ry`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function G_(t,r){Se.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";r(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Se.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const z_=()=>{const{appState:t,setAppState:r}=La();G_(t,r);const o=()=>{switch(t){case"intro":return Re.jsx(qh,{});case"game":return Re.jsx(Jh,{});case"gameOver":return Re.jsxs(Re.Fragment,{children:[Re.jsx(Jh,{}),Re.jsx(B_,{})]});default:return Re.jsx(qh,{})}};return Re.jsxs(Re.Fragment,{children:[Re.jsx(x_,{}),o()]})};tA();const eg=document.getElementById("root");eg?Tv.createRoot(eg).render(Re.jsx(wn.StrictMode,{children:Re.jsx(Cv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Re.jsx(z_,{})})})):console.error("Failed to find the root element");
