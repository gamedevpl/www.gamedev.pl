var lv=Object.defineProperty;var uv=(t,r,o)=>r in t?lv(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var Ge=(t,r,o)=>uv(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function Zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hu={exports:{}},So={},Bu={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function cv(){if(Fp)return me;Fp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function R(_){return _===null||typeof _!="object"?null:(_=E&&_[E]||_["@@iterator"],typeof _=="function"?_:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function w(_,M,V){this.props=_,this.context=M,this.refs=O,this.updater=V||T}w.prototype.isReactComponent={},w.prototype.setState=function(_,M){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,M,"setState")},w.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function k(){}k.prototype=w.prototype;function W(_,M,V){this.props=_,this.context=M,this.refs=O,this.updater=V||T}var B=W.prototype=new k;B.constructor=W,N(B,w.prototype),B.isPureReactComponent=!0;var x=Array.isArray,Z=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function ee(_,M,V){var re,ne={},ue=null,fe=null;if(M!=null)for(re in M.ref!==void 0&&(fe=M.ref),M.key!==void 0&&(ue=""+M.key),M)Z.call(M,re)&&!D.hasOwnProperty(re)&&(ne[re]=M[re]);var pe=arguments.length-2;if(pe===1)ne.children=V;else if(1<pe){for(var K=Array(pe),se=0;se<pe;se++)K[se]=arguments[se+2];ne.children=K}if(_&&_.defaultProps)for(re in pe=_.defaultProps,pe)ne[re]===void 0&&(ne[re]=pe[re]);return{$$typeof:t,type:_,key:ue,ref:fe,props:ne,_owner:L.current}}function Ee(_,M){return{$$typeof:t,type:_.type,key:M,ref:_.ref,props:_.props,_owner:_._owner}}function Re(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function be(_){var M={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(V){return M[V]})}var Te=/\/+/g;function Se(_,M){return typeof _=="object"&&_!==null&&_.key!=null?be(""+_.key):M.toString(36)}function De(_,M,V,re,ne){var ue=typeof _;(ue==="undefined"||ue==="boolean")&&(_=null);var fe=!1;if(_===null)fe=!0;else switch(ue){case"string":case"number":fe=!0;break;case"object":switch(_.$$typeof){case t:case r:fe=!0}}if(fe)return fe=_,ne=ne(fe),_=re===""?"."+Se(fe,0):re,x(ne)?(V="",_!=null&&(V=_.replace(Te,"$&/")+"/"),De(ne,M,V,"",function(se){return se})):ne!=null&&(Re(ne)&&(ne=Ee(ne,V+(!ne.key||fe&&fe.key===ne.key?"":(""+ne.key).replace(Te,"$&/")+"/")+_)),M.push(ne)),1;if(fe=0,re=re===""?".":re+":",x(_))for(var pe=0;pe<_.length;pe++){ue=_[pe];var K=re+Se(ue,pe);fe+=De(ue,M,V,K,ne)}else if(K=R(_),typeof K=="function")for(_=K.call(_),pe=0;!(ue=_.next()).done;)ue=ue.value,K=re+Se(ue,pe++),fe+=De(ue,M,V,K,ne);else if(ue==="object")throw M=String(_),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return fe}function ye(_,M,V){if(_==null)return _;var re=[],ne=0;return De(_,re,"","",function(ue){return M.call(V,ue,ne++)}),re}function he(_){if(_._status===-1){var M=_._result;M=M(),M.then(function(V){(_._status===0||_._status===-1)&&(_._status=1,_._result=V)},function(V){(_._status===0||_._status===-1)&&(_._status=2,_._result=V)}),_._status===-1&&(_._status=0,_._result=M)}if(_._status===1)return _._result.default;throw _._result}var te={current:null},G={transition:null},$={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function j(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:ye,forEach:function(_,M,V){ye(_,function(){M.apply(this,arguments)},V)},count:function(_){var M=0;return ye(_,function(){M++}),M},toArray:function(_){return ye(_,function(M){return M})||[]},only:function(_){if(!Re(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},me.Component=w,me.Fragment=o,me.Profiler=l,me.PureComponent=W,me.StrictMode=a,me.Suspense=g,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,me.act=j,me.cloneElement=function(_,M,V){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var re=N({},_.props),ne=_.key,ue=_.ref,fe=_._owner;if(M!=null){if(M.ref!==void 0&&(ue=M.ref,fe=L.current),M.key!==void 0&&(ne=""+M.key),_.type&&_.type.defaultProps)var pe=_.type.defaultProps;for(K in M)Z.call(M,K)&&!D.hasOwnProperty(K)&&(re[K]=M[K]===void 0&&pe!==void 0?pe[K]:M[K])}var K=arguments.length-2;if(K===1)re.children=V;else if(1<K){pe=Array(K);for(var se=0;se<K;se++)pe[se]=arguments[se+2];re.children=pe}return{$$typeof:t,type:_.type,key:ne,ref:ue,props:re,_owner:fe}},me.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:c,_context:_},_.Consumer=_},me.createElement=ee,me.createFactory=function(_){var M=ee.bind(null,_);return M.type=_,M},me.createRef=function(){return{current:null}},me.forwardRef=function(_){return{$$typeof:p,render:_}},me.isValidElement=Re,me.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:he}},me.memo=function(_,M){return{$$typeof:m,type:_,compare:M===void 0?null:M}},me.startTransition=function(_){var M=G.transition;G.transition={};try{_()}finally{G.transition=M}},me.unstable_act=j,me.useCallback=function(_,M){return te.current.useCallback(_,M)},me.useContext=function(_){return te.current.useContext(_)},me.useDebugValue=function(){},me.useDeferredValue=function(_){return te.current.useDeferredValue(_)},me.useEffect=function(_,M){return te.current.useEffect(_,M)},me.useId=function(){return te.current.useId()},me.useImperativeHandle=function(_,M,V){return te.current.useImperativeHandle(_,M,V)},me.useInsertionEffect=function(_,M){return te.current.useInsertionEffect(_,M)},me.useLayoutEffect=function(_,M){return te.current.useLayoutEffect(_,M)},me.useMemo=function(_,M){return te.current.useMemo(_,M)},me.useReducer=function(_,M,V){return te.current.useReducer(_,M,V)},me.useRef=function(_){return te.current.useRef(_)},me.useState=function(_){return te.current.useState(_)},me.useSyncExternalStore=function(_,M,V){return te.current.useSyncExternalStore(_,M,V)},me.useTransition=function(){return te.current.useTransition()},me.version="18.3.1",me}var Hp;function _c(){return Hp||(Hp=1,Bu.exports=cv()),Bu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function dv(){if(Bp)return So;Bp=1;var t=_c(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var v,E={},R=null,T=null;m!==void 0&&(R=""+m),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(T=g.ref);for(v in g)a.call(g,v)&&!c.hasOwnProperty(v)&&(E[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)E[v]===void 0&&(E[v]=g[v]);return{$$typeof:r,type:p,key:R,ref:T,props:E,_owner:l.current}}return So.Fragment=o,So.jsx=f,So.jsxs=f,So}var xp;function fv(){return xp||(xp=1,Hu.exports=dv()),Hu.exports}var Oe=fv(),Ne=_c();const wn=Zh(Ne);var ea={},xu={exports:{}},kt={},Gu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function pv(){return Gp||(Gp=1,function(t){function r(G,$){var j=G.length;G.push($);e:for(;0<j;){var _=j-1>>>1,M=G[_];if(0<l(M,$))G[_]=$,G[j]=M,j=_;else break e}}function o(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var $=G[0],j=G.pop();if(j!==$){G[0]=j;e:for(var _=0,M=G.length,V=M>>>1;_<V;){var re=2*(_+1)-1,ne=G[re],ue=re+1,fe=G[ue];if(0>l(ne,j))ue<M&&0>l(fe,ne)?(G[_]=fe,G[ue]=j,_=ue):(G[_]=ne,G[re]=j,_=re);else if(ue<M&&0>l(fe,j))G[_]=fe,G[ue]=j,_=ue;else break e}}return $}function l(G,$){var j=G.sortIndex-$.sortIndex;return j!==0?j:G.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,E=null,R=3,T=!1,N=!1,O=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(G){for(var $=o(m);$!==null;){if($.callback===null)a(m);else if($.startTime<=G)a(m),$.sortIndex=$.expirationTime,r(g,$);else break;$=o(m)}}function x(G){if(O=!1,B(G),!N)if(o(g)!==null)N=!0,he(Z);else{var $=o(m);$!==null&&te(x,$.startTime-G)}}function Z(G,$){N=!1,O&&(O=!1,k(ee),ee=-1),T=!0;var j=R;try{for(B($),E=o(g);E!==null&&(!(E.expirationTime>$)||G&&!be());){var _=E.callback;if(typeof _=="function"){E.callback=null,R=E.priorityLevel;var M=_(E.expirationTime<=$);$=t.unstable_now(),typeof M=="function"?E.callback=M:E===o(g)&&a(g),B($)}else a(g);E=o(g)}if(E!==null)var V=!0;else{var re=o(m);re!==null&&te(x,re.startTime-$),V=!1}return V}finally{E=null,R=j,T=!1}}var L=!1,D=null,ee=-1,Ee=5,Re=-1;function be(){return!(t.unstable_now()-Re<Ee)}function Te(){if(D!==null){var G=t.unstable_now();Re=G;var $=!0;try{$=D(!0,G)}finally{$?Se():(L=!1,D=null)}}else L=!1}var Se;if(typeof W=="function")Se=function(){W(Te)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,ye=De.port2;De.port1.onmessage=Te,Se=function(){ye.postMessage(null)}}else Se=function(){w(Te,0)};function he(G){D=G,L||(L=!0,Se())}function te(G,$){ee=w(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){N||T||(N=!0,he(Z))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(G){switch(R){case 1:case 2:case 3:var $=3;break;default:$=R}var j=R;R=$;try{return G()}finally{R=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var j=R;R=G;try{return $()}finally{R=j}},t.unstable_scheduleCallback=function(G,$,j){var _=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?_+j:_):j=_,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=j+M,G={id:v++,callback:$,priorityLevel:G,startTime:j,expirationTime:M,sortIndex:-1},j>_?(G.sortIndex=j,r(m,G),o(g)===null&&G===o(m)&&(O?(k(ee),ee=-1):O=!0,te(x,j-_))):(G.sortIndex=M,r(g,G),N||T||(N=!0,he(Z))),G},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(G){var $=R;return function(){var j=R;R=$;try{return G.apply(this,arguments)}finally{R=j}}}}(zu)),zu}var zp;function hv(){return zp||(zp=1,Gu.exports=pv()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function gv(){if(Wp)return kt;Wp=1;var t=_c(),r=hv();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(l[e]=n,e=0;e<n.length;e++)a.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function R(e){return g.call(E,e)?!0:g.call(v,e)?!1:m.test(e)?E[e]=!0:(v[e]=!0,!1)}function T(e,n,i,s){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,n,i,s){if(n===null||typeof n>"u"||T(e,n,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,i,s,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];w[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(k,W);w[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(k,W);w[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(k,W);w[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,n,i,s){var u=w.hasOwnProperty(n)?w[n]:null;(u!==null?u.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,u,s)&&(i=null),s||u===null?R(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,s=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,s?e.setAttributeNS(s,n,i):e.setAttribute(n,i))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),be=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),G=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,_;function M(e){if(_===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var V=!1;function re(e,n){if(!e||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var s=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){s=P}e.call(n.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),d=s.stack.split(`
`),h=u.length-1,y=d.length-1;1<=h&&0<=y&&u[h]!==d[y];)y--;for(;1<=h&&0<=y;h--,y--)if(u[h]!==d[y]){if(h!==1||y!==1)do if(h--,y--,0>y||u[h]!==d[y]){var S=`
`+u[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=y);break}}}finally{V=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?M(e):""}function ne(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Portal";case Ee:return"Profiler";case ee:return"StrictMode";case Se:return"Suspense";case De:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case Re:return(e._context.displayName||"Context")+".Provider";case Te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function fe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function se(e){var n=K(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){s=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ie(e){e._valueTracker||(e._valueTracker=se(e))}function de(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=K(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Cn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ot(e,n){var i=n.checked;return j({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,n){var i=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;i=pe(n.value!=null?n.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _r(e,n){n=n.checked,n!=null&&B(e,"checked",n,!1)}function Rn(e,n){_r(e,n);var i=pe(n.value),s=n.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Vr(e,n.type,i):n.hasOwnProperty("defaultValue")&&Vr(e,n.type,pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Gn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Vr(e,n,i){(n!=="number"||Cn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var zn=Array.isArray;function Wn(e,n,i,s){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&s&&(e[i].defaultSelected=!0)}else{for(i=""+pe(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function wr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yc(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(zn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:pe(i)}}function Vc(e,n){var i=pe(n.value),s=pe(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Xc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Kc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ka(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Kc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,Qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,s,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,s,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Li(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fm=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(e){fm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ui[n]=Ui[e]})});function bc(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Ui.hasOwnProperty(e)&&Ui[e]?(""+n).trim():n+"px"}function qc(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var s=i.indexOf("--")===0,u=bc(i,n[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,u):e[i]=u}}var pm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(e,n){if(n){if(pm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function ba(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function Za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Xr=null,Kr=null;function Zc(e){if(e=ro(e)){if(typeof Ja!="function")throw Error(o(280));var n=e.stateNode;n&&(n=gs(n),Ja(e.stateNode,e.type,n))}}function Jc(e){Xr?Kr?Kr.push(e):Kr=[e]:Xr=e}function ed(){if(Xr){var e=Xr,n=Kr;if(Kr=Xr=null,Zc(e),n)for(e=0;e<n.length;e++)Zc(n[e])}}function td(e,n){return e(n)}function nd(){}var el=!1;function rd(e,n,i){if(el)return e(n,i);el=!0;try{return td(e,n,i)}finally{el=!1,(Xr!==null||Kr!==null)&&(nd(),ed())}}function Fi(e,n){var i=e.stateNode;if(i===null)return null;var s=gs(i);if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var tl=!1;if(p)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{tl=!1}function hm(e,n,i,s,u,d,h,y,S){var P=Array.prototype.slice.call(arguments,3);try{n.apply(i,P)}catch(F){this.onError(F)}}var Bi=!1,Xo=null,Ko=!1,nl=null,gm={onError:function(e){Bi=!0,Xo=e}};function mm(e,n,i,s,u,d,h,y,S){Bi=!1,Xo=null,hm.apply(gm,arguments)}function vm(e,n,i,s,u,d,h,y,S){if(mm.apply(this,arguments),Bi){if(Bi){var P=Xo;Bi=!1,Xo=null}else throw Error(o(198));Ko||(Ko=!0,nl=P)}}function Ir(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function id(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function od(e){if(Ir(e)!==e)throw Error(o(188))}function ym(e){var n=e.alternate;if(!n){if(n=Ir(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,s=n;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return od(u),e;if(d===s)return od(u),n;d=d.sibling}throw Error(o(188))}if(i.return!==s.return)i=u,s=d;else{for(var h=!1,y=u.child;y;){if(y===i){h=!0,i=u,s=d;break}if(y===s){h=!0,s=u,i=d;break}y=y.sibling}if(!h){for(y=d.child;y;){if(y===i){h=!0,i=d,s=u;break}if(y===s){h=!0,s=d,i=u;break}y=y.sibling}if(!h)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function sd(e){return e=ym(e),e!==null?ad(e):null}function ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ad(e);if(n!==null)return n;e=e.sibling}return null}var ld=r.unstable_scheduleCallback,ud=r.unstable_cancelCallback,Sm=r.unstable_shouldYield,Em=r.unstable_requestPaint,Ye=r.unstable_now,Am=r.unstable_getCurrentPriorityLevel,rl=r.unstable_ImmediatePriority,cd=r.unstable_UserBlockingPriority,Qo=r.unstable_NormalPriority,_m=r.unstable_LowPriority,dd=r.unstable_IdlePriority,bo=null,hn=null;function wm(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Cm,Im=Math.log,Tm=Math.LN2;function Cm(e){return e>>>=0,e===0?32:31-(Im(e)/Tm|0)|0}var qo=64,Zo=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,u=e.suspendedLanes,d=e.pingedLanes,h=i&268435455;if(h!==0){var y=h&~u;y!==0?s=xi(y):(d&=h,d!==0&&(s=xi(d)))}else h=i&~u,h!==0?s=xi(h):d!==0&&(s=xi(d));if(s===0)return 0;if(n!==0&&n!==s&&(n&u)===0&&(u=s&-s,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if((s&4)!==0&&(s|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)i=31-nn(n),u=1<<i,s|=e[i],n&=~u;return s}function Rm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-nn(d),y=1<<h,S=u[h];S===-1?((y&i)===0||(y&s)!==0)&&(u[h]=Rm(y,n)):S<=n&&(e.expiredLanes|=y),d&=~y}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=qo;return qo<<=1,(qo&4194240)===0&&(qo=64),e}function ol(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Gi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-nn(n),e[n]=i}function km(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-nn(i),d=1<<u;n[u]=0,s[u]=-1,e[u]=-1,i&=~d}}function sl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-nn(i),u=1<<s;u&n|e[s]&n&&(e[s]|=n),i&=~u}}var Pe=0;function pd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var hd,al,gd,md,vd,ll=!1,es=[],jn=null,$n=null,Yn=null,zi=new Map,Wi=new Map,Vn=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(e,n){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":zi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(n.pointerId)}}function ji(e,n,i,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},n!==null&&(n=ro(n),n!==null&&al(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Nm(e,n,i,s,u){switch(n){case"focusin":return jn=ji(jn,e,n,i,s,u),!0;case"dragenter":return $n=ji($n,e,n,i,s,u),!0;case"mouseover":return Yn=ji(Yn,e,n,i,s,u),!0;case"pointerover":var d=u.pointerId;return zi.set(d,ji(zi.get(d)||null,e,n,i,s,u)),!0;case"gotpointercapture":return d=u.pointerId,Wi.set(d,ji(Wi.get(d)||null,e,n,i,s,u)),!0}return!1}function Sd(e){var n=Tr(e.target);if(n!==null){var i=Ir(n);if(i!==null){if(n=i.tag,n===13){if(n=id(i),n!==null){e.blockedOn=n,vd(e.priority,function(){gd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=cl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);qa=s,i.target.dispatchEvent(s),qa=null}else return n=ro(i),n!==null&&al(n),e.blockedOn=i,!1;n.shift()}return!0}function Ed(e,n,i){ts(e)&&i.delete(n)}function Om(){ll=!1,jn!==null&&ts(jn)&&(jn=null),$n!==null&&ts($n)&&($n=null),Yn!==null&&ts(Yn)&&(Yn=null),zi.forEach(Ed),Wi.forEach(Ed)}function $i(e,n){e.blockedOn===n&&(e.blockedOn=null,ll||(ll=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Om)))}function Yi(e){function n(u){return $i(u,e)}if(0<es.length){$i(es[0],e);for(var i=1;i<es.length;i++){var s=es[i];s.blockedOn===e&&(s.blockedOn=null)}}for(jn!==null&&$i(jn,e),$n!==null&&$i($n,e),Yn!==null&&$i(Yn,e),zi.forEach(n),Wi.forEach(n),i=0;i<Vn.length;i++)s=Vn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)Sd(i),i.blockedOn===null&&Vn.shift()}var Qr=x.ReactCurrentBatchConfig,ns=!0;function Mm(e,n,i,s){var u=Pe,d=Qr.transition;Qr.transition=null;try{Pe=1,ul(e,n,i,s)}finally{Pe=u,Qr.transition=d}}function Lm(e,n,i,s){var u=Pe,d=Qr.transition;Qr.transition=null;try{Pe=4,ul(e,n,i,s)}finally{Pe=u,Qr.transition=d}}function ul(e,n,i,s){if(ns){var u=cl(e,n,i,s);if(u===null)Rl(e,n,s,rs,i),yd(e,s);else if(Nm(u,e,n,i,s))s.stopPropagation();else if(yd(e,s),n&4&&-1<Dm.indexOf(e)){for(;u!==null;){var d=ro(u);if(d!==null&&hd(d),d=cl(e,n,i,s),d===null&&Rl(e,n,s,rs,i),d===u)break;u=d}u!==null&&s.stopPropagation()}else Rl(e,n,s,null,i)}}var rs=null;function cl(e,n,i,s){if(rs=null,e=Za(s),e=Tr(e),e!==null)if(n=Ir(e),n===null)e=null;else if(i=n.tag,i===13){if(e=id(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return rs=e,null}function Ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Am()){case rl:return 1;case cd:return 4;case Qo:case _m:return 16;case dd:return 536870912;default:return 16}default:return 16}}var Xn=null,dl=null,is=null;function _d(){if(is)return is;var e,n=dl,i=n.length,s,u="value"in Xn?Xn.value:Xn.textContent,d=u.length;for(e=0;e<i&&n[e]===u[e];e++);var h=i-e;for(s=1;s<=h&&n[i-s]===u[d-s];s++);return is=u.slice(e,1<s?1-s:void 0)}function os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function wd(){return!1}function Mt(e){function n(i,s,u,d,h){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ss:wd,this.isPropagationStopped=wd,this}return j(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Mt(br),Vi=j({},br,{view:0,detail:0}),Um=Mt(Vi),pl,hl,Xi,as=j({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(pl=e.screenX-Xi.screenX,hl=e.screenY-Xi.screenY):hl=pl=0,Xi=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Id=Mt(as),Fm=j({},as,{dataTransfer:0}),Hm=Mt(Fm),Bm=j({},Vi,{relatedTarget:0}),gl=Mt(Bm),xm=j({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=Mt(xm),zm=j({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wm=Mt(zm),jm=j({},br,{data:0}),Td=Mt(jm),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vm[e])?!!n[e]:!1}function ml(){return Xm}var Km=j({},Vi,{key:function(e){if(e.key){var n=$m[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qm=Mt(Km),bm=j({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Mt(bm),qm=j({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Zm=Mt(qm),Jm=j({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),e0=Mt(Jm),t0=j({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=Mt(t0),r0=[9,13,27,32],vl=p&&"CompositionEvent"in window,Ki=null;p&&"documentMode"in document&&(Ki=document.documentMode);var i0=p&&"TextEvent"in window&&!Ki,Rd=p&&(!vl||Ki&&8<Ki&&11>=Ki),Pd=" ",kd=!1;function Dd(e,n){switch(e){case"keyup":return r0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function o0(e,n){switch(e){case"compositionend":return Nd(n);case"keypress":return n.which!==32?null:(kd=!0,Pd);case"textInput":return e=n.data,e===Pd&&kd?null:e;default:return null}}function s0(e,n){if(qr)return e==="compositionend"||!vl&&Dd(e,n)?(e=_d(),is=dl=Xn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rd&&n.locale!=="ko"?null:n.data;default:return null}}var a0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!a0[e.type]:n==="textarea"}function Md(e,n,i,s){Jc(s),n=fs(n,"onChange"),0<n.length&&(i=new fl("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Qi=null,bi=null;function l0(e){qd(e,0)}function ls(e){var n=ni(e);if(de(n))return e}function u0(e,n){if(e==="change")return n}var Ld=!1;if(p){var yl;if(p){var Sl="oninput"in document;if(!Sl){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Sl=typeof Ud.oninput=="function"}yl=Sl}else yl=!1;Ld=yl&&(!document.documentMode||9<document.documentMode)}function Fd(){Qi&&(Qi.detachEvent("onpropertychange",Hd),bi=Qi=null)}function Hd(e){if(e.propertyName==="value"&&ls(bi)){var n=[];Md(n,bi,e,Za(e)),rd(l0,n)}}function c0(e,n,i){e==="focusin"?(Fd(),Qi=n,bi=i,Qi.attachEvent("onpropertychange",Hd)):e==="focusout"&&Fd()}function d0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(bi)}function f0(e,n){if(e==="click")return ls(n)}function p0(e,n){if(e==="input"||e==="change")return ls(n)}function h0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rn=typeof Object.is=="function"?Object.is:h0;function qi(e,n){if(rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!g.call(n,u)||!rn(e[u],n[u]))return!1}return!0}function Bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xd(e,n){var i=Bd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Bd(i)}}function Gd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zd(){for(var e=window,n=Cn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Cn(e.document)}return n}function El(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function g0(e){var n=zd(),i=e.focusedElem,s=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Gd(i.ownerDocument.documentElement,i)){if(s!==null&&El(i)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(s.start,u);s=s.end===void 0?d:Math.min(s.end,u),!e.extend&&d>s&&(u=s,s=d,d=u),u=xd(i,d);var h=xd(i,s);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>s?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m0=p&&"documentMode"in document&&11>=document.documentMode,Zr=null,Al=null,Zi=null,_l=!1;function Wd(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;_l||Zr==null||Zr!==Cn(s)||(s=Zr,"selectionStart"in s&&El(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Zi&&qi(Zi,s)||(Zi=s,s=fs(Al,"onSelect"),0<s.length&&(n=new fl("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Zr)))}function us(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Jr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},wl={},jd={};p&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function cs(e){if(wl[e])return wl[e];if(!Jr[e])return e;var n=Jr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in jd)return wl[e]=n[i];return e}var $d=cs("animationend"),Yd=cs("animationiteration"),Vd=cs("animationstart"),Xd=cs("transitionend"),Kd=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,n){Kd.set(e,n),c(n,[e])}for(var Il=0;Il<Qd.length;Il++){var Tl=Qd[Il],v0=Tl.toLowerCase(),y0=Tl[0].toUpperCase()+Tl.slice(1);Kn(v0,"on"+y0)}Kn($d,"onAnimationEnd"),Kn(Yd,"onAnimationIteration"),Kn(Vd,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Xd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function bd(e,n,i){var s=e.type||"unknown-event";e.currentTarget=i,vm(s,n,void 0,e),e.currentTarget=null}function qd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],u=s.event;s=s.listeners;e:{var d=void 0;if(n)for(var h=s.length-1;0<=h;h--){var y=s[h],S=y.instance,P=y.currentTarget;if(y=y.listener,S!==d&&u.isPropagationStopped())break e;bd(u,y,P),d=S}else for(h=0;h<s.length;h++){if(y=s[h],S=y.instance,P=y.currentTarget,y=y.listener,S!==d&&u.isPropagationStopped())break e;bd(u,y,P),d=S}}}if(Ko)throw e=nl,Ko=!1,nl=null,e}function Ue(e,n){var i=n[Ml];i===void 0&&(i=n[Ml]=new Set);var s=e+"__bubble";i.has(s)||(Zd(n,e,2,!1),i.add(s))}function Cl(e,n,i){var s=0;n&&(s|=4),Zd(i,e,s,n)}var ds="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[ds]){e[ds]=!0,a.forEach(function(i){i!=="selectionchange"&&(S0.has(i)||Cl(i,!1,e),Cl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ds]||(n[ds]=!0,Cl("selectionchange",!1,n))}}function Zd(e,n,i,s){switch(Ad(n)){case 1:var u=Mm;break;case 4:u=Lm;break;default:u=ul}i=u.bind(null,n,i,e),u=void 0,!tl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function Rl(e,n,i,s,u){var d=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;h=h.return}for(;y!==null;){if(h=Tr(y),h===null)return;if(S=h.tag,S===5||S===6){s=d=h;continue e}y=y.parentNode}}s=s.return}rd(function(){var P=d,F=Za(i),H=[];e:{var U=Kd.get(e);if(U!==void 0){var Y=fl,Q=e;switch(e){case"keypress":if(os(i)===0)break e;case"keydown":case"keyup":Y=Qm;break;case"focusin":Q="focus",Y=gl;break;case"focusout":Q="blur",Y=gl;break;case"beforeblur":case"afterblur":Y=gl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zm;break;case $d:case Yd:case Vd:Y=Gm;break;case Xd:Y=e0;break;case"scroll":Y=Um;break;case"wheel":Y=n0;break;case"copy":case"cut":case"paste":Y=Wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Cd}var b=(n&4)!==0,Ve=!b&&e==="scroll",I=b?U!==null?U+"Capture":null:U;b=[];for(var A=P,C;A!==null;){C=A;var z=C.stateNode;if(C.tag===5&&z!==null&&(C=z,I!==null&&(z=Fi(A,I),z!=null&&b.push(to(A,z,C)))),Ve)break;A=A.return}0<b.length&&(U=new Y(U,Q,null,i,F),H.push({event:U,listeners:b}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&i!==qa&&(Q=i.relatedTarget||i.fromElement)&&(Tr(Q)||Q[Pn]))break e;if((Y||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(Q=i.relatedTarget||i.toElement,Y=P,Q=Q?Tr(Q):null,Q!==null&&(Ve=Ir(Q),Q!==Ve||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(b=Id,z="onMouseLeave",I="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(b=Cd,z="onPointerLeave",I="onPointerEnter",A="pointer"),Ve=Y==null?U:ni(Y),C=Q==null?U:ni(Q),U=new b(z,A+"leave",Y,i,F),U.target=Ve,U.relatedTarget=C,z=null,Tr(F)===P&&(b=new b(I,A+"enter",Q,i,F),b.target=C,b.relatedTarget=Ve,z=b),Ve=z,Y&&Q)t:{for(b=Y,I=Q,A=0,C=b;C;C=ei(C))A++;for(C=0,z=I;z;z=ei(z))C++;for(;0<A-C;)b=ei(b),A--;for(;0<C-A;)I=ei(I),C--;for(;A--;){if(b===I||I!==null&&b===I.alternate)break t;b=ei(b),I=ei(I)}b=null}else b=null;Y!==null&&Jd(H,U,Y,b,!1),Q!==null&&Ve!==null&&Jd(H,Ve,Q,b,!0)}}e:{if(U=P?ni(P):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var J=u0;else if(Od(U))if(Ld)J=p0;else{J=d0;var ie=c0}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(J=f0);if(J&&(J=J(e,P))){Md(H,J,i,F);break e}ie&&ie(e,U,P),e==="focusout"&&(ie=U._wrapperState)&&ie.controlled&&U.type==="number"&&Vr(U,"number",U.value)}switch(ie=P?ni(P):window,e){case"focusin":(Od(ie)||ie.contentEditable==="true")&&(Zr=ie,Al=P,Zi=null);break;case"focusout":Zi=Al=Zr=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Wd(H,i,F);break;case"selectionchange":if(m0)break;case"keydown":case"keyup":Wd(H,i,F)}var oe;if(vl)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else qr?Dd(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(Rd&&i.locale!=="ko"&&(qr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&qr&&(oe=_d()):(Xn=F,dl="value"in Xn?Xn.value:Xn.textContent,qr=!0)),ie=fs(P,ce),0<ie.length&&(ce=new Td(ce,e,null,i,F),H.push({event:ce,listeners:ie}),oe?ce.data=oe:(oe=Nd(i),oe!==null&&(ce.data=oe)))),(oe=i0?o0(e,i):s0(e,i))&&(P=fs(P,"onBeforeInput"),0<P.length&&(F=new Td("onBeforeInput","beforeinput",null,i,F),H.push({event:F,listeners:P}),F.data=oe))}qd(H,n)})}function to(e,n,i){return{instance:e,listener:n,currentTarget:i}}function fs(e,n){for(var i=n+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Fi(e,i),d!=null&&s.unshift(to(e,d,u)),d=Fi(e,n),d!=null&&s.push(to(e,d,u))),e=e.return}return s}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jd(e,n,i,s,u){for(var d=n._reactName,h=[];i!==null&&i!==s;){var y=i,S=y.alternate,P=y.stateNode;if(S!==null&&S===s)break;y.tag===5&&P!==null&&(y=P,u?(S=Fi(i,d),S!=null&&h.unshift(to(i,S,y))):u||(S=Fi(i,d),S!=null&&h.push(to(i,S,y)))),i=i.return}h.length!==0&&e.push({event:n,listeners:h})}var E0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace(E0,`
`).replace(A0,"")}function ps(e,n,i){if(n=ef(n),ef(e)!==n&&i)throw Error(o(425))}function hs(){}var Pl=null,kl=null;function Dl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(e){return tf.resolve(null).then(e).catch(I0)}:Nl;function I0(e){setTimeout(function(){throw e})}function Ol(e,n){var i=n,s=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(s===0){e.removeChild(u),Yi(n);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=u}while(i);Yi(n)}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function nf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),gn="__reactFiber$"+ti,no="__reactProps$"+ti,Pn="__reactContainer$"+ti,Ml="__reactEvents$"+ti,T0="__reactListeners$"+ti,C0="__reactHandles$"+ti;function Tr(e){var n=e[gn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Pn]||i[gn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=nf(e);e!==null;){if(i=e[gn])return i;e=nf(e)}return n}e=i,i=e.parentNode}return null}function ro(e){return e=e[gn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function gs(e){return e[no]||null}var Ll=[],ri=-1;function bn(e){return{current:e}}function Fe(e){0>ri||(e.current=Ll[ri],Ll[ri]=null,ri--)}function Me(e,n){ri++,Ll[ri]=e.current,e.current=n}var qn={},dt=bn(qn),It=bn(!1),Cr=qn;function ii(e,n){var i=e.type.contextTypes;if(!i)return qn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=n[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Tt(e){return e=e.childContextTypes,e!=null}function ms(){Fe(It),Fe(dt)}function rf(e,n,i){if(dt.current!==qn)throw Error(o(168));Me(dt,n),Me(It,i)}function of(e,n,i){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var u in s)if(!(u in n))throw Error(o(108,fe(e)||"Unknown",u));return j({},i,s)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,Cr=dt.current,Me(dt,e),Me(It,It.current),!0}function sf(e,n,i){var s=e.stateNode;if(!s)throw Error(o(169));i?(e=of(e,n,Cr),s.__reactInternalMemoizedMergedChildContext=e,Fe(It),Fe(dt),Me(dt,e)):Fe(It),Me(It,i)}var kn=null,ys=!1,Ul=!1;function af(e){kn===null?kn=[e]:kn.push(e)}function R0(e){ys=!0,af(e)}function Zn(){if(!Ul&&kn!==null){Ul=!0;var e=0,n=Pe;try{var i=kn;for(Pe=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}kn=null,ys=!1}catch(u){throw kn!==null&&(kn=kn.slice(e+1)),ld(rl,Zn),u}finally{Pe=n,Ul=!1}}return null}var oi=[],si=0,Ss=null,Es=0,Wt=[],jt=0,Rr=null,Dn=1,Nn="";function Pr(e,n){oi[si++]=Es,oi[si++]=Ss,Ss=e,Es=n}function lf(e,n,i){Wt[jt++]=Dn,Wt[jt++]=Nn,Wt[jt++]=Rr,Rr=e;var s=Dn;e=Nn;var u=32-nn(s)-1;s&=~(1<<u),i+=1;var d=32-nn(n)+u;if(30<d){var h=u-u%5;d=(s&(1<<h)-1).toString(32),s>>=h,u-=h,Dn=1<<32-nn(n)+u|i<<u|s,Nn=d+e}else Dn=1<<d|i<<u|s,Nn=e}function Fl(e){e.return!==null&&(Pr(e,1),lf(e,1,0))}function Hl(e){for(;e===Ss;)Ss=oi[--si],oi[si]=null,Es=oi[--si],oi[si]=null;for(;e===Rr;)Rr=Wt[--jt],Wt[jt]=null,Nn=Wt[--jt],Wt[jt]=null,Dn=Wt[--jt],Wt[jt]=null}var Lt=null,Ut=null,xe=!1,on=null;function uf(e,n){var i=Xt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function cf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Lt=e,Ut=Qn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Lt=e,Ut=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Rr!==null?{id:Dn,overflow:Nn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Xt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Lt=e,Ut=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xl(e){if(xe){var n=Ut;if(n){var i=n;if(!cf(e,n)){if(Bl(e))throw Error(o(418));n=Qn(i.nextSibling);var s=Lt;n&&cf(e,n)?uf(s,i):(e.flags=e.flags&-4097|2,xe=!1,Lt=e)}}else{if(Bl(e))throw Error(o(418));e.flags=e.flags&-4097|2,xe=!1,Lt=e}}}function df(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function As(e){if(e!==Lt)return!1;if(!xe)return df(e),xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Dl(e.type,e.memoizedProps)),n&&(n=Ut)){if(Bl(e))throw ff(),Error(o(418));for(;n;)uf(e,n),n=Qn(n.nextSibling)}if(df(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ut=Qn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ut=null}}else Ut=Lt?Qn(e.stateNode.nextSibling):null;return!0}function ff(){for(var e=Ut;e;)e=Qn(e.nextSibling)}function ai(){Ut=Lt=null,xe=!1}function Gl(e){on===null?on=[e]:on.push(e)}var P0=x.ReactCurrentBatchConfig;function io(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var s=i.stateNode}if(!s)throw Error(o(147,e));var u=s,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var y=u.refs;h===null?delete y[d]:y[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function _s(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function pf(e){var n=e._init;return n(e._payload)}function hf(e){function n(I,A){if(e){var C=I.deletions;C===null?(I.deletions=[A],I.flags|=16):C.push(A)}}function i(I,A){if(!e)return null;for(;A!==null;)n(I,A),A=A.sibling;return null}function s(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function u(I,A){return I=sr(I,A),I.index=0,I.sibling=null,I}function d(I,A,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<A?(I.flags|=2,A):C):(I.flags|=2,A)):(I.flags|=1048576,A)}function h(I){return e&&I.alternate===null&&(I.flags|=2),I}function y(I,A,C,z){return A===null||A.tag!==6?(A=Nu(C,I.mode,z),A.return=I,A):(A=u(A,C),A.return=I,A)}function S(I,A,C,z){var J=C.type;return J===D?F(I,A,C.props.children,z,C.key):A!==null&&(A.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===he&&pf(J)===A.type)?(z=u(A,C.props),z.ref=io(I,A,C),z.return=I,z):(z=Vs(C.type,C.key,C.props,null,I.mode,z),z.ref=io(I,A,C),z.return=I,z)}function P(I,A,C,z){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=Ou(C,I.mode,z),A.return=I,A):(A=u(A,C.children||[]),A.return=I,A)}function F(I,A,C,z,J){return A===null||A.tag!==7?(A=Fr(C,I.mode,z,J),A.return=I,A):(A=u(A,C),A.return=I,A)}function H(I,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Nu(""+A,I.mode,C),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Z:return C=Vs(A.type,A.key,A.props,null,I.mode,C),C.ref=io(I,null,A),C.return=I,C;case L:return A=Ou(A,I.mode,C),A.return=I,A;case he:var z=A._init;return H(I,z(A._payload),C)}if(zn(A)||$(A))return A=Fr(A,I.mode,C,null),A.return=I,A;_s(I,A)}return null}function U(I,A,C,z){var J=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:y(I,A,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:return C.key===J?S(I,A,C,z):null;case L:return C.key===J?P(I,A,C,z):null;case he:return J=C._init,U(I,A,J(C._payload),z)}if(zn(C)||$(C))return J!==null?null:F(I,A,C,z,null);_s(I,C)}return null}function Y(I,A,C,z,J){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(C)||null,y(A,I,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return I=I.get(z.key===null?C:z.key)||null,S(A,I,z,J);case L:return I=I.get(z.key===null?C:z.key)||null,P(A,I,z,J);case he:var ie=z._init;return Y(I,A,C,ie(z._payload),J)}if(zn(z)||$(z))return I=I.get(C)||null,F(A,I,z,J,null);_s(A,z)}return null}function Q(I,A,C,z){for(var J=null,ie=null,oe=A,ce=A=0,st=null;oe!==null&&ce<C.length;ce++){oe.index>ce?(st=oe,oe=null):st=oe.sibling;var we=U(I,oe,C[ce],z);if(we===null){oe===null&&(oe=st);break}e&&oe&&we.alternate===null&&n(I,oe),A=d(we,A,ce),ie===null?J=we:ie.sibling=we,ie=we,oe=st}if(ce===C.length)return i(I,oe),xe&&Pr(I,ce),J;if(oe===null){for(;ce<C.length;ce++)oe=H(I,C[ce],z),oe!==null&&(A=d(oe,A,ce),ie===null?J=oe:ie.sibling=oe,ie=oe);return xe&&Pr(I,ce),J}for(oe=s(I,oe);ce<C.length;ce++)st=Y(oe,I,ce,C[ce],z),st!==null&&(e&&st.alternate!==null&&oe.delete(st.key===null?ce:st.key),A=d(st,A,ce),ie===null?J=st:ie.sibling=st,ie=st);return e&&oe.forEach(function(ar){return n(I,ar)}),xe&&Pr(I,ce),J}function b(I,A,C,z){var J=$(C);if(typeof J!="function")throw Error(o(150));if(C=J.call(C),C==null)throw Error(o(151));for(var ie=J=null,oe=A,ce=A=0,st=null,we=C.next();oe!==null&&!we.done;ce++,we=C.next()){oe.index>ce?(st=oe,oe=null):st=oe.sibling;var ar=U(I,oe,we.value,z);if(ar===null){oe===null&&(oe=st);break}e&&oe&&ar.alternate===null&&n(I,oe),A=d(ar,A,ce),ie===null?J=ar:ie.sibling=ar,ie=ar,oe=st}if(we.done)return i(I,oe),xe&&Pr(I,ce),J;if(oe===null){for(;!we.done;ce++,we=C.next())we=H(I,we.value,z),we!==null&&(A=d(we,A,ce),ie===null?J=we:ie.sibling=we,ie=we);return xe&&Pr(I,ce),J}for(oe=s(I,oe);!we.done;ce++,we=C.next())we=Y(oe,I,ce,we.value,z),we!==null&&(e&&we.alternate!==null&&oe.delete(we.key===null?ce:we.key),A=d(we,A,ce),ie===null?J=we:ie.sibling=we,ie=we);return e&&oe.forEach(function(av){return n(I,av)}),xe&&Pr(I,ce),J}function Ve(I,A,C,z){if(typeof C=="object"&&C!==null&&C.type===D&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:e:{for(var J=C.key,ie=A;ie!==null;){if(ie.key===J){if(J=C.type,J===D){if(ie.tag===7){i(I,ie.sibling),A=u(ie,C.props.children),A.return=I,I=A;break e}}else if(ie.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===he&&pf(J)===ie.type){i(I,ie.sibling),A=u(ie,C.props),A.ref=io(I,ie,C),A.return=I,I=A;break e}i(I,ie);break}else n(I,ie);ie=ie.sibling}C.type===D?(A=Fr(C.props.children,I.mode,z,C.key),A.return=I,I=A):(z=Vs(C.type,C.key,C.props,null,I.mode,z),z.ref=io(I,A,C),z.return=I,I=z)}return h(I);case L:e:{for(ie=C.key;A!==null;){if(A.key===ie)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){i(I,A.sibling),A=u(A,C.children||[]),A.return=I,I=A;break e}else{i(I,A);break}else n(I,A);A=A.sibling}A=Ou(C,I.mode,z),A.return=I,I=A}return h(I);case he:return ie=C._init,Ve(I,A,ie(C._payload),z)}if(zn(C))return Q(I,A,C,z);if($(C))return b(I,A,C,z);_s(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,A!==null&&A.tag===6?(i(I,A.sibling),A=u(A,C),A.return=I,I=A):(i(I,A),A=Nu(C,I.mode,z),A.return=I,I=A),h(I)):i(I,A)}return Ve}var li=hf(!0),gf=hf(!1),ws=bn(null),Is=null,ui=null,zl=null;function Wl(){zl=ui=Is=null}function jl(e){var n=ws.current;Fe(ws),e._currentValue=n}function $l(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function ci(e,n){Is=e,zl=ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ct=!0),e.firstContext=null)}function $t(e){var n=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:n,next:null},ui===null){if(Is===null)throw Error(o(308));ui=e,Is.dependencies={lanes:0,firstContext:e}}else ui=ui.next=e;return n}var kr=null;function Yl(e){kr===null?kr=[e]:kr.push(e)}function mf(e,n,i,s){var u=n.interleaved;return u===null?(i.next=i,Yl(n)):(i.next=u.next,u.next=i),n.interleaved=i,On(e,s)}function On(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Jn=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function er(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var u=s.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n,On(e,i)}return u=s.interleaved,u===null?(n.next=n,Yl(s)):(n.next=u.next,u.next=n),s.interleaved=n,On(e,i)}function Ts(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,sl(e,i)}}function yf(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=h:d=d.next=h,i=i.next}while(i!==null);d===null?u=d=n:d=d.next=n}else u=d=n;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Cs(e,n,i,s){var u=e.updateQueue;Jn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var S=y,P=S.next;S.next=null,h===null?d=P:h.next=P,h=S;var F=e.alternate;F!==null&&(F=F.updateQueue,y=F.lastBaseUpdate,y!==h&&(y===null?F.firstBaseUpdate=P:y.next=P,F.lastBaseUpdate=S))}if(d!==null){var H=u.baseState;h=0,F=P=S=null,y=d;do{var U=y.lane,Y=y.eventTime;if((s&U)===U){F!==null&&(F=F.next={eventTime:Y,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Q=e,b=y;switch(U=n,Y=i,b.tag){case 1:if(Q=b.payload,typeof Q=="function"){H=Q.call(Y,H,U);break e}H=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=b.payload,U=typeof Q=="function"?Q.call(Y,H,U):Q,U==null)break e;H=j({},H,U);break e;case 2:Jn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,U=u.effects,U===null?u.effects=[y]:U.push(y))}else Y={eventTime:Y,lane:U,tag:y.tag,payload:y.payload,callback:y.callback,next:null},F===null?(P=F=Y,S=H):F=F.next=Y,h|=U;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;U=y,y=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);if(F===null&&(S=H),u.baseState=S,u.firstBaseUpdate=P,u.lastBaseUpdate=F,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Or|=h,e.lanes=h,e.memoizedState=H}}function Sf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],u=s.callback;if(u!==null){if(s.callback=null,s=i,typeof u!="function")throw Error(o(191,u));u.call(s)}}}var oo={},mn=bn(oo),so=bn(oo),ao=bn(oo);function Dr(e){if(e===oo)throw Error(o(174));return e}function Xl(e,n){switch(Me(ao,n),Me(so,e),Me(mn,oo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ka(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ka(n,e)}Fe(mn),Me(mn,n)}function di(){Fe(mn),Fe(so),Fe(ao)}function Ef(e){Dr(ao.current);var n=Dr(mn.current),i=Ka(n,e.type);n!==i&&(Me(so,e),Me(mn,i))}function Kl(e){so.current===e&&(Fe(mn),Fe(so))}var We=bn(0);function Rs(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ql=[];function bl(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var Ps=x.ReactCurrentDispatcher,ql=x.ReactCurrentBatchConfig,Nr=0,je=null,tt=null,it=null,ks=!1,lo=!1,uo=0,k0=0;function ft(){throw Error(o(321))}function Zl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!rn(e[i],n[i]))return!1;return!0}function Jl(e,n,i,s,u,d){if(Nr=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ps.current=e===null||e.memoizedState===null?M0:L0,e=i(s,u),lo){d=0;do{if(lo=!1,uo=0,25<=d)throw Error(o(301));d+=1,it=tt=null,n.updateQueue=null,Ps.current=U0,e=i(s,u)}while(lo)}if(Ps.current=Os,n=tt!==null&&tt.next!==null,Nr=0,it=tt=je=null,ks=!1,n)throw Error(o(300));return e}function eu(){var e=uo!==0;return uo=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?je.memoizedState=it=e:it=it.next=e,it}function Yt(){if(tt===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=it===null?je.memoizedState:it.next;if(n!==null)it=n,tt=e;else{if(e===null)throw Error(o(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?je.memoizedState=it=e:it=it.next=e}return it}function co(e,n){return typeof n=="function"?n(e):n}function tu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=tt,u=s.baseQueue,d=i.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}s.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,s=s.baseState;var y=h=null,S=null,P=d;do{var F=P.lane;if((Nr&F)===F)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var H={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(y=S=H,h=s):S=S.next=H,je.lanes|=F,Or|=F}P=P.next}while(P!==null&&P!==d);S===null?h=s:S.next=y,rn(s,n.memoizedState)||(Ct=!0),n.memoizedState=s,n.baseState=h,n.baseQueue=S,i.lastRenderedState=s}if(e=i.interleaved,e!==null){u=e;do d=u.lane,je.lanes|=d,Or|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function nu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,u=i.pending,d=n.memoizedState;if(u!==null){i.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);rn(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,s]}function Af(){}function _f(e,n){var i=je,s=Yt(),u=n(),d=!rn(s.memoizedState,u);if(d&&(s.memoizedState=u,Ct=!0),s=s.queue,ru(Tf.bind(null,i,s,e),[e]),s.getSnapshot!==n||d||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,fo(9,If.bind(null,i,s,u,n),void 0,null),ot===null)throw Error(o(349));(Nr&30)!==0||wf(i,n,u)}return u}function wf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function If(e,n,i,s){n.value=i,n.getSnapshot=s,Cf(n)&&Rf(e)}function Tf(e,n,i){return i(function(){Cf(n)&&Rf(e)})}function Cf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!rn(e,i)}catch{return!0}}function Rf(e){var n=On(e,1);n!==null&&un(n,e,1,-1)}function Pf(e){var n=vn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},n.queue=e,e=e.dispatch=O0.bind(null,je,e),[n.memoizedState,e]}function fo(e,n,i,s){return e={tag:e,create:n,destroy:i,deps:s,next:null},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e)),e}function kf(){return Yt().memoizedState}function Ds(e,n,i,s){var u=vn();je.flags|=e,u.memoizedState=fo(1|n,i,void 0,s===void 0?null:s)}function Ns(e,n,i,s){var u=Yt();s=s===void 0?null:s;var d=void 0;if(tt!==null){var h=tt.memoizedState;if(d=h.destroy,s!==null&&Zl(s,h.deps)){u.memoizedState=fo(n,i,d,s);return}}je.flags|=e,u.memoizedState=fo(1|n,i,d,s)}function Df(e,n){return Ds(8390656,8,e,n)}function ru(e,n){return Ns(2048,8,e,n)}function Nf(e,n){return Ns(4,2,e,n)}function Of(e,n){return Ns(4,4,e,n)}function Mf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lf(e,n,i){return i=i!=null?i.concat([e]):null,Ns(4,4,Mf.bind(null,n,e),i)}function iu(){}function Uf(e,n){var i=Yt();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&Zl(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Ff(e,n){var i=Yt();n=n===void 0?null:n;var s=i.memoizedState;return s!==null&&n!==null&&Zl(n,s[1])?s[0]:(e=e(),i.memoizedState=[e,n],e)}function Hf(e,n,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(rn(i,n)||(i=fd(),je.lanes|=i,Or|=i,e.baseState=!0),n)}function D0(e,n){var i=Pe;Pe=i!==0&&4>i?i:4,e(!0);var s=ql.transition;ql.transition={};try{e(!1),n()}finally{Pe=i,ql.transition=s}}function Bf(){return Yt().memoizedState}function N0(e,n,i){var s=ir(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},xf(e))Gf(n,i);else if(i=mf(e,n,i,s),i!==null){var u=Et();un(i,e,s,u),zf(i,n,s)}}function O0(e,n,i){var s=ir(e),u={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(xf(e))Gf(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,y=d(h,i);if(u.hasEagerState=!0,u.eagerState=y,rn(y,h)){var S=n.interleaved;S===null?(u.next=u,Yl(n)):(u.next=S.next,S.next=u),n.interleaved=u;return}}catch{}finally{}i=mf(e,n,u,s),i!==null&&(u=Et(),un(i,e,s,u),zf(i,n,s))}}function xf(e){var n=e.alternate;return e===je||n!==null&&n===je}function Gf(e,n){lo=ks=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function zf(e,n,i){if((i&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,sl(e,i)}}var Os={readContext:$t,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},M0={readContext:$t,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:Df,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ds(4194308,4,Mf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ds(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ds(4,2,e,n)},useMemo:function(e,n){var i=vn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var s=vn();return n=i!==void 0?i(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=N0.bind(null,je,e),[s.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:Pf,useDebugValue:iu,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=Pf(!1),n=e[0];return e=D0.bind(null,e[1]),vn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var s=je,u=vn();if(xe){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ot===null)throw Error(o(349));(Nr&30)!==0||wf(s,n,i)}u.memoizedState=i;var d={value:i,getSnapshot:n};return u.queue=d,Df(Tf.bind(null,s,d,e),[e]),s.flags|=2048,fo(9,If.bind(null,s,d,i,n),void 0,null),i},useId:function(){var e=vn(),n=ot.identifierPrefix;if(xe){var i=Nn,s=Dn;i=(s&~(1<<32-nn(s)-1)).toString(32)+i,n=":"+n+"R"+i,i=uo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=k0++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},L0={readContext:$t,useCallback:Uf,useContext:$t,useEffect:ru,useImperativeHandle:Lf,useInsertionEffect:Nf,useLayoutEffect:Of,useMemo:Ff,useReducer:tu,useRef:kf,useState:function(){return tu(co)},useDebugValue:iu,useDeferredValue:function(e){var n=Yt();return Hf(n,tt.memoizedState,e)},useTransition:function(){var e=tu(co)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:Af,useSyncExternalStore:_f,useId:Bf,unstable_isNewReconciler:!1},U0={readContext:$t,useCallback:Uf,useContext:$t,useEffect:ru,useImperativeHandle:Lf,useInsertionEffect:Nf,useLayoutEffect:Of,useMemo:Ff,useReducer:nu,useRef:kf,useState:function(){return nu(co)},useDebugValue:iu,useDeferredValue:function(e){var n=Yt();return tt===null?n.memoizedState=e:Hf(n,tt.memoizedState,e)},useTransition:function(){var e=nu(co)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:Af,useSyncExternalStore:_f,useId:Bf,unstable_isNewReconciler:!1};function sn(e,n){if(e&&e.defaultProps){n=j({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function ou(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:j({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ms={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Et(),u=ir(e),d=Mn(s,u);d.payload=n,i!=null&&(d.callback=i),n=er(e,d,u),n!==null&&(un(n,e,u,s),Ts(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Et(),u=ir(e),d=Mn(s,u);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=er(e,d,u),n!==null&&(un(n,e,u,s),Ts(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Et(),s=ir(e),u=Mn(i,s);u.tag=2,n!=null&&(u.callback=n),n=er(e,u,s),n!==null&&(un(n,e,s,i),Ts(n,e,s))}};function Wf(e,n,i,s,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,h):n.prototype&&n.prototype.isPureReactComponent?!qi(i,s)||!qi(u,d):!0}function jf(e,n,i){var s=!1,u=qn,d=n.contextType;return typeof d=="object"&&d!==null?d=$t(d):(u=Tt(n)?Cr:dt.current,s=n.contextTypes,d=(s=s!=null)?ii(e,u):qn),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ms,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function $f(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Ms.enqueueReplaceState(n,n.state,null)}function su(e,n,i,s){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},Vl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=$t(d):(d=Tt(n)?Cr:dt.current,u.context=ii(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ou(e,n,d,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ms.enqueueReplaceState(u,u.state,null),Cs(e,i,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function fi(e,n){try{var i="",s=n;do i+=ne(s),s=s.return;while(s);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function au(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function lu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function Yf(e,n,i){i=Mn(-1,i),i.tag=3,i.payload={element:null};var s=n.value;return i.callback=function(){Gs||(Gs=!0,wu=s),lu(e,n)},i}function Vf(e,n,i){i=Mn(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=n.value;i.payload=function(){return s(u)},i.callback=function(){lu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){lu(e,n),typeof s!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),i}function Xf(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new F0;var u=new Set;s.set(n,u)}else u=s.get(n),u===void 0&&(u=new Set,s.set(n,u));u.has(i)||(u.add(i),e=b0.bind(null,e,n,i),n.then(e,e))}function Kf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Qf(e,n,i,s,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Mn(-1,1),n.tag=2,er(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var H0=x.ReactCurrentOwner,Ct=!1;function St(e,n,i,s){n.child=e===null?gf(n,null,i,s):li(n,e.child,i,s)}function bf(e,n,i,s,u){i=i.render;var d=n.ref;return ci(n,u),s=Jl(e,n,i,s,d,u),i=eu(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Ln(e,n,u)):(xe&&i&&Fl(n),n.flags|=1,St(e,n,s,u),n.child)}function qf(e,n,i,s,u){if(e===null){var d=i.type;return typeof d=="function"&&!Du(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,Zf(e,n,d,s,u)):(e=Vs(i.type,null,s,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&u)===0){var h=d.memoizedProps;if(i=i.compare,i=i!==null?i:qi,i(h,s)&&e.ref===n.ref)return Ln(e,n,u)}return n.flags|=1,e=sr(d,s),e.ref=n.ref,e.return=n,n.child=e}function Zf(e,n,i,s,u){if(e!==null){var d=e.memoizedProps;if(qi(d,s)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=s=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,Ln(e,n,u)}return uu(e,n,i,s,u)}function Jf(e,n,i){var s=n.pendingProps,u=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(hi,Ft),Ft|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Me(hi,Ft),Ft|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,Me(hi,Ft),Ft|=s}else d!==null?(s=d.baseLanes|i,n.memoizedState=null):s=i,Me(hi,Ft),Ft|=s;return St(e,n,u,i),n.child}function ep(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function uu(e,n,i,s,u){var d=Tt(i)?Cr:dt.current;return d=ii(n,d),ci(n,u),i=Jl(e,n,i,s,d,u),s=eu(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Ln(e,n,u)):(xe&&s&&Fl(n),n.flags|=1,St(e,n,i,u),n.child)}function tp(e,n,i,s,u){if(Tt(i)){var d=!0;vs(n)}else d=!1;if(ci(n,u),n.stateNode===null)Us(e,n),jf(n,i,s),su(n,i,s,u),s=!0;else if(e===null){var h=n.stateNode,y=n.memoizedProps;h.props=y;var S=h.context,P=i.contextType;typeof P=="object"&&P!==null?P=$t(P):(P=Tt(i)?Cr:dt.current,P=ii(n,P));var F=i.getDerivedStateFromProps,H=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function";H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||S!==P)&&$f(n,h,s,P),Jn=!1;var U=n.memoizedState;h.state=U,Cs(n,s,h,u),S=n.memoizedState,y!==s||U!==S||It.current||Jn?(typeof F=="function"&&(ou(n,i,F,s),S=n.memoizedState),(y=Jn||Wf(n,i,y,s,U,S,P))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=S),h.props=s,h.state=S,h.context=P,s=y):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,vf(e,n),y=n.memoizedProps,P=n.type===n.elementType?y:sn(n.type,y),h.props=P,H=n.pendingProps,U=h.context,S=i.contextType,typeof S=="object"&&S!==null?S=$t(S):(S=Tt(i)?Cr:dt.current,S=ii(n,S));var Y=i.getDerivedStateFromProps;(F=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==H||U!==S)&&$f(n,h,s,S),Jn=!1,U=n.memoizedState,h.state=U,Cs(n,s,h,u);var Q=n.memoizedState;y!==H||U!==Q||It.current||Jn?(typeof Y=="function"&&(ou(n,i,Y,s),Q=n.memoizedState),(P=Jn||Wf(n,i,P,s,U,Q,S)||!1)?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Q,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Q,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=Q),h.props=s,h.state=Q,h.context=S,s=P):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return cu(e,n,i,s,d,u)}function cu(e,n,i,s,u,d){ep(e,n);var h=(n.flags&128)!==0;if(!s&&!h)return u&&sf(n,i,!1),Ln(e,n,d);s=n.stateNode,H0.current=n;var y=h&&typeof i.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&h?(n.child=li(n,e.child,null,d),n.child=li(n,null,y,d)):St(e,n,y,d),n.memoizedState=s.state,u&&sf(n,i,!0),n.child}function np(e){var n=e.stateNode;n.pendingContext?rf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&rf(e,n.context,!1),Xl(e,n.containerInfo)}function rp(e,n,i,s,u){return ai(),Gl(u),n.flags|=256,St(e,n,i,s),n.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ip(e,n,i){var s=n.pendingProps,u=We.current,d=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Me(We,u&1),e===null)return xl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=s.children,e=s.fallback,d?(s=n.mode,d=n.child,h={mode:"hidden",children:h},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Xs(h,s,0,null),e=Fr(e,s,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=fu(i),n.memoizedState=du,e):pu(n,h));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return B0(e,n,h,s,y,u,i);if(d){d=s.fallback,h=n.mode,u=e.child,y=u.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&n.child!==u?(s=n.child,s.childLanes=0,s.pendingProps=S,n.deletions=null):(s=sr(u,S),s.subtreeFlags=u.subtreeFlags&14680064),y!==null?d=sr(y,d):(d=Fr(d,h,i,null),d.flags|=2),d.return=n,s.return=n,s.sibling=d,n.child=s,s=d,d=n.child,h=e.child.memoizedState,h=h===null?fu(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~i,n.memoizedState=du,s}return d=e.child,e=d.sibling,s=sr(d,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=i),s.return=n,s.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=s,n.memoizedState=null,s}function pu(e,n){return n=Xs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ls(e,n,i,s){return s!==null&&Gl(s),li(n,e.child,null,i),e=pu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function B0(e,n,i,s,u,d,h){if(i)return n.flags&256?(n.flags&=-257,s=au(Error(o(422))),Ls(e,n,h,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=s.fallback,u=n.mode,s=Xs({mode:"visible",children:s.children},u,0,null),d=Fr(d,u,h,null),d.flags|=2,s.return=n,d.return=n,s.sibling=d,n.child=s,(n.mode&1)!==0&&li(n,e.child,null,h),n.child.memoizedState=fu(h),n.memoizedState=du,d);if((n.mode&1)===0)return Ls(e,n,h,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var y=s.dgst;return s=y,d=Error(o(419)),s=au(d,s,void 0),Ls(e,n,h,s)}if(y=(h&e.childLanes)!==0,Ct||y){if(s=ot,s!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|h))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,On(e,u),un(s,e,u,-1))}return ku(),s=au(Error(o(421))),Ls(e,n,h,s)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=q0.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,Ut=Qn(u.nextSibling),Lt=n,xe=!0,on=null,e!==null&&(Wt[jt++]=Dn,Wt[jt++]=Nn,Wt[jt++]=Rr,Dn=e.id,Nn=e.overflow,Rr=n),n=pu(n,s.children),n.flags|=4096,n)}function op(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),$l(e.return,n,i)}function hu(e,n,i,s,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=u)}function sp(e,n,i){var s=n.pendingProps,u=s.revealOrder,d=s.tail;if(St(e,n,s.children,i),s=We.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&op(e,i,n);else if(e.tag===19)op(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Me(We,s),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&Rs(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),hu(n,!1,u,i,d);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Rs(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}hu(n,!0,i,null,d);break;case"together":hu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Us(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ln(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=sr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=sr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function x0(e,n,i){switch(n.tag){case 3:np(n),ai();break;case 5:Ef(n);break;case 1:Tt(n.type)&&vs(n);break;case 4:Xl(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,u=n.memoizedProps.value;Me(ws,s._currentValue),s._currentValue=u;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Me(We,We.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?ip(e,n,i):(Me(We,We.current&1),e=Ln(e,n,i),e!==null?e.sibling:null);Me(We,We.current&1);break;case 19:if(s=(i&n.childLanes)!==0,(e.flags&128)!==0){if(s)return sp(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Me(We,We.current),s)break;return null;case 22:case 23:return n.lanes=0,Jf(e,n,i)}return Ln(e,n,i)}var ap,gu,lp,up;ap=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},gu=function(){},lp=function(e,n,i,s){var u=e.memoizedProps;if(u!==s){e=n.stateNode,Dr(mn.current);var d=null;switch(i){case"input":u=Ot(e,u),s=Ot(e,s),d=[];break;case"select":u=j({},u,{value:void 0}),s=j({},s,{value:void 0}),d=[];break;case"textarea":u=wr(e,u),s=wr(e,s),d=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hs)}Qa(i,s);var h;i=null;for(P in u)if(!s.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var y=u[P];for(h in y)y.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in s){var S=s[P];if(y=u!=null?u[P]:void 0,s.hasOwnProperty(P)&&S!==y&&(S!=null||y!=null))if(P==="style")if(y){for(h in y)!y.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in S)S.hasOwnProperty(h)&&y[h]!==S[h]&&(i||(i={}),i[h]=S[h])}else i||(d||(d=[]),d.push(P,i)),i=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,y=y?y.__html:void 0,S!=null&&y!==S&&(d=d||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&Ue("scroll",e),d||y===S||(d=[])):(d=d||[]).push(P,S))}i&&(d=d||[]).push("style",i);var P=d;(n.updateQueue=P)&&(n.flags|=4)}},up=function(e,n,i,s){i!==s&&(n.flags|=4)};function po(e,n){if(!xe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function G0(e,n,i){var s=n.pendingProps;switch(Hl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return Tt(n.type)&&ms(),pt(n),null;case 3:return s=n.stateNode,di(),Fe(It),Fe(dt),bl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(As(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,on!==null&&(Cu(on),on=null))),gu(e,n),pt(n),null;case 5:Kl(n);var u=Dr(ao.current);if(i=n.type,e!==null&&n.stateNode!=null)lp(e,n,i,s,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(o(166));return pt(n),null}if(e=Dr(mn.current),As(n)){s=n.stateNode,i=n.type;var d=n.memoizedProps;switch(s[gn]=n,s[no]=d,e=(n.mode&1)!==0,i){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(u=0;u<Ji.length;u++)Ue(Ji[u],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":zt(s,d),Ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Ue("invalid",s);break;case"textarea":Yc(s,d),Ue("invalid",s)}Qa(i,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var y=d[h];h==="children"?typeof y=="string"?s.textContent!==y&&(d.suppressHydrationWarning!==!0&&ps(s.textContent,y,e),u=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&ps(s.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&Ue("scroll",s)}switch(i){case"input":Ie(s),Gn(s,d,!0);break;case"textarea":Ie(s),Xc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=hs)}s=u,n.updateQueue=s,s!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(i,{is:s.is}):(e=h.createElement(i),i==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,i),e[gn]=n,e[no]=s,ap(e,n,!1,!1),n.stateNode=e;e:{switch(h=ba(i,s),i){case"dialog":Ue("cancel",e),Ue("close",e),u=s;break;case"iframe":case"object":case"embed":Ue("load",e),u=s;break;case"video":case"audio":for(u=0;u<Ji.length;u++)Ue(Ji[u],e);u=s;break;case"source":Ue("error",e),u=s;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),u=s;break;case"details":Ue("toggle",e),u=s;break;case"input":zt(e,s),u=Ot(e,s),Ue("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=j({},s,{value:void 0}),Ue("invalid",e);break;case"textarea":Yc(e,s),u=wr(e,s),Ue("invalid",e);break;default:u=s}Qa(i,u),y=u;for(d in y)if(y.hasOwnProperty(d)){var S=y[d];d==="style"?qc(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Qc(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Li(e,S):typeof S=="number"&&Li(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Ue("scroll",e):S!=null&&B(e,d,S,h))}switch(i){case"input":Ie(e),Gn(e,s,!1);break;case"textarea":Ie(e),Xc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+pe(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?Wn(e,!!s.multiple,d,!1):s.defaultValue!=null&&Wn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=hs)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return pt(n),null;case 6:if(e&&n.stateNode!=null)up(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(i=Dr(ao.current),Dr(mn.current),As(n)){if(s=n.stateNode,i=n.memoizedProps,s[gn]=n,(d=s.nodeValue!==i)&&(e=Lt,e!==null))switch(e.tag){case 3:ps(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ps(s.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[gn]=n,n.stateNode=s}return pt(n),null;case 13:if(Fe(We),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Ut!==null&&(n.mode&1)!==0&&(n.flags&128)===0)ff(),ai(),n.flags|=98560,d=!1;else if(d=As(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[gn]=n}else ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),d=!1}else on!==null&&(Cu(on),on=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(We.current&1)!==0?nt===0&&(nt=3):ku())),n.updateQueue!==null&&(n.flags|=4),pt(n),null);case 4:return di(),gu(e,n),e===null&&eo(n.stateNode.containerInfo),pt(n),null;case 10:return jl(n.type._context),pt(n),null;case 17:return Tt(n.type)&&ms(),pt(n),null;case 19:if(Fe(We),d=n.memoizedState,d===null)return pt(n),null;if(s=(n.flags&128)!==0,h=d.rendering,h===null)if(s)po(d,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Rs(e),h!==null){for(n.flags|=128,po(d,!1),s=h.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=i,i=n.child;i!==null;)d=i,e=s,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Me(We,We.current&1|2),n.child}e=e.sibling}d.tail!==null&&Ye()>gi&&(n.flags|=128,s=!0,po(d,!1),n.lanes=4194304)}else{if(!s)if(e=Rs(h),e!==null){if(n.flags|=128,s=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),po(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!xe)return pt(n),null}else 2*Ye()-d.renderingStartTime>gi&&i!==1073741824&&(n.flags|=128,s=!0,po(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(i=d.last,i!==null?i.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ye(),n.sibling=null,i=We.current,Me(We,s?i&1|2:i&1),n):(pt(n),null);case 22:case 23:return Pu(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Ft&1073741824)!==0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function z0(e,n){switch(Hl(n),n.tag){case 1:return Tt(n.type)&&ms(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return di(),Fe(It),Fe(dt),bl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Kl(n),null;case 13:if(Fe(We),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Fe(We),null;case 4:return di(),null;case 10:return jl(n.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var Fs=!1,ht=!1,W0=typeof WeakSet=="function"?WeakSet:Set,X=null;function pi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){$e(e,n,s)}else i.current=null}function mu(e,n,i){try{i()}catch(s){$e(e,n,s)}}var cp=!1;function j0(e,n){if(Pl=ns,e=zd(),El(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var h=0,y=-1,S=-1,P=0,F=0,H=e,U=null;t:for(;;){for(var Y;H!==i||u!==0&&H.nodeType!==3||(y=h+u),H!==d||s!==0&&H.nodeType!==3||(S=h+s),H.nodeType===3&&(h+=H.nodeValue.length),(Y=H.firstChild)!==null;)U=H,H=Y;for(;;){if(H===e)break t;if(U===i&&++P===u&&(y=h),U===d&&++F===s&&(S=h),(Y=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=Y}i=y===-1||S===-1?null:{start:y,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(kl={focusedElem:e,selectionRange:i},ns=!1,X=n;X!==null;)if(n=X,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,X=e;else for(;X!==null;){n=X;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var b=Q.memoizedProps,Ve=Q.memoizedState,I=n.stateNode,A=I.getSnapshotBeforeUpdate(n.elementType===n.type?b:sn(n.type,b),Ve);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var C=n.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(z){$e(n,n.return,z)}if(e=n.sibling,e!==null){e.return=n.return,X=e;break}X=n.return}return Q=cp,cp=!1,Q}function ho(e,n,i){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&mu(n,i,d)}u=u.next}while(u!==s)}}function Hs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==n)}}function vu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function dp(e){var n=e.alternate;n!==null&&(e.alternate=null,dp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[gn],delete n[no],delete n[Ml],delete n[T0],delete n[C0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fp(e){return e.tag===5||e.tag===3||e.tag===4}function pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=hs));else if(s!==4&&(e=e.child,e!==null))for(yu(e,n,i),e=e.sibling;e!==null;)yu(e,n,i),e=e.sibling}function Su(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Su(e,n,i),e=e.sibling;e!==null;)Su(e,n,i),e=e.sibling}var lt=null,an=!1;function tr(e,n,i){for(i=i.child;i!==null;)hp(e,n,i),i=i.sibling}function hp(e,n,i){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(bo,i)}catch{}switch(i.tag){case 5:ht||pi(i,n);case 6:var s=lt,u=an;lt=null,tr(e,n,i),lt=s,an=u,lt!==null&&(an?(e=lt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):lt.removeChild(i.stateNode));break;case 18:lt!==null&&(an?(e=lt,i=i.stateNode,e.nodeType===8?Ol(e.parentNode,i):e.nodeType===1&&Ol(e,i),Yi(e)):Ol(lt,i.stateNode));break;case 4:s=lt,u=an,lt=i.stateNode.containerInfo,an=!0,tr(e,n,i),lt=s,an=u;break;case 0:case 11:case 14:case 15:if(!ht&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&mu(i,n,h),u=u.next}while(u!==s)}tr(e,n,i);break;case 1:if(!ht&&(pi(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(y){$e(i,n,y)}tr(e,n,i);break;case 21:tr(e,n,i);break;case 22:i.mode&1?(ht=(s=ht)||i.memoizedState!==null,tr(e,n,i),ht=s):tr(e,n,i);break;default:tr(e,n,i)}}function gp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new W0),n.forEach(function(s){var u=Z0.bind(null,e,s);i.has(s)||(i.add(s),s.then(u,u))})}}function ln(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];try{var d=e,h=n,y=h;e:for(;y!==null;){switch(y.tag){case 5:lt=y.stateNode,an=!1;break e;case 3:lt=y.stateNode.containerInfo,an=!0;break e;case 4:lt=y.stateNode.containerInfo,an=!0;break e}y=y.return}if(lt===null)throw Error(o(160));hp(d,h,u),lt=null,an=!1;var S=u.alternate;S!==null&&(S.return=null),u.return=null}catch(P){$e(u,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)mp(n,e),n=n.sibling}function mp(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(n,e),yn(e),s&4){try{ho(3,e,e.return),Hs(3,e)}catch(b){$e(e,e.return,b)}try{ho(5,e,e.return)}catch(b){$e(e,e.return,b)}}break;case 1:ln(n,e),yn(e),s&512&&i!==null&&pi(i,i.return);break;case 5:if(ln(n,e),yn(e),s&512&&i!==null&&pi(i,i.return),e.flags&32){var u=e.stateNode;try{Li(u,"")}catch(b){$e(e,e.return,b)}}if(s&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=i!==null?i.memoizedProps:d,y=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&_r(u,d),ba(y,h);var P=ba(y,d);for(h=0;h<S.length;h+=2){var F=S[h],H=S[h+1];F==="style"?qc(u,H):F==="dangerouslySetInnerHTML"?Qc(u,H):F==="children"?Li(u,H):B(u,F,H,P)}switch(y){case"input":Rn(u,d);break;case"textarea":Vc(u,d);break;case"select":var U=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Wn(u,!!d.multiple,Y,!1):U!==!!d.multiple&&(d.defaultValue!=null?Wn(u,!!d.multiple,d.defaultValue,!0):Wn(u,!!d.multiple,d.multiple?[]:"",!1))}u[no]=d}catch(b){$e(e,e.return,b)}}break;case 6:if(ln(n,e),yn(e),s&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(b){$e(e,e.return,b)}}break;case 3:if(ln(n,e),yn(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Yi(n.containerInfo)}catch(b){$e(e,e.return,b)}break;case 4:ln(n,e),yn(e);break;case 13:ln(n,e),yn(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(_u=Ye())),s&4&&gp(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(ht=(P=ht)||F,ln(n,e),ht=P):ln(n,e),yn(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!F&&(e.mode&1)!==0)for(X=e,F=e.child;F!==null;){for(H=X=F;X!==null;){switch(U=X,Y=U.child,U.tag){case 0:case 11:case 14:case 15:ho(4,U,U.return);break;case 1:pi(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){s=U,i=U.return;try{n=s,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(b){$e(s,i,b)}}break;case 5:pi(U,U.return);break;case 22:if(U.memoizedState!==null){Sp(H);continue}}Y!==null?(Y.return=U,X=Y):Sp(H)}F=F.sibling}e:for(F=null,H=e;;){if(H.tag===5){if(F===null){F=H;try{u=H.stateNode,P?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=H.stateNode,S=H.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,y.style.display=bc("display",h))}catch(b){$e(e,e.return,b)}}}else if(H.tag===6){if(F===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(b){$e(e,e.return,b)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;F===H&&(F=null),H=H.return}F===H&&(F=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:ln(n,e),yn(e),s&4&&gp(e);break;case 21:break;default:ln(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(fp(i)){var s=i;break e}i=i.return}throw Error(o(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Li(u,""),s.flags&=-33);var d=pp(e);Su(e,d,u);break;case 3:case 4:var h=s.stateNode.containerInfo,y=pp(e);yu(e,y,h);break;default:throw Error(o(161))}}catch(S){$e(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $0(e,n,i){X=e,vp(e)}function vp(e,n,i){for(var s=(e.mode&1)!==0;X!==null;){var u=X,d=u.child;if(u.tag===22&&s){var h=u.memoizedState!==null||Fs;if(!h){var y=u.alternate,S=y!==null&&y.memoizedState!==null||ht;y=Fs;var P=ht;if(Fs=h,(ht=S)&&!P)for(X=u;X!==null;)h=X,S=h.child,h.tag===22&&h.memoizedState!==null?Ep(u):S!==null?(S.return=h,X=S):Ep(u);for(;d!==null;)X=d,vp(d),d=d.sibling;X=u,Fs=y,ht=P}yp(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,X=d):yp(e)}}function yp(e){for(;X!==null;){var n=X;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ht||Hs(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!ht)if(i===null)s.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:sn(n.type,i.memoizedProps);s.componentDidUpdate(u,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Sf(n,d,s);break;case 3:var h=n.updateQueue;if(h!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Sf(n,h,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var H=F.dehydrated;H!==null&&Yi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ht||n.flags&512&&vu(n)}catch(U){$e(n,n.return,U)}}if(n===e){X=null;break}if(i=n.sibling,i!==null){i.return=n.return,X=i;break}X=n.return}}function Sp(e){for(;X!==null;){var n=X;if(n===e){X=null;break}var i=n.sibling;if(i!==null){i.return=n.return,X=i;break}X=n.return}}function Ep(e){for(;X!==null;){var n=X;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Hs(4,n)}catch(S){$e(n,i,S)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var u=n.return;try{s.componentDidMount()}catch(S){$e(n,u,S)}}var d=n.return;try{vu(n)}catch(S){$e(n,d,S)}break;case 5:var h=n.return;try{vu(n)}catch(S){$e(n,h,S)}}}catch(S){$e(n,n.return,S)}if(n===e){X=null;break}var y=n.sibling;if(y!==null){y.return=n.return,X=y;break}X=n.return}}var Y0=Math.ceil,Bs=x.ReactCurrentDispatcher,Eu=x.ReactCurrentOwner,Vt=x.ReactCurrentBatchConfig,Ae=0,ot=null,qe=null,ut=0,Ft=0,hi=bn(0),nt=0,go=null,Or=0,xs=0,Au=0,mo=null,Rt=null,_u=0,gi=1/0,Un=null,Gs=!1,wu=null,nr=null,zs=!1,rr=null,Ws=0,vo=0,Iu=null,js=-1,$s=0;function Et(){return(Ae&6)!==0?Ye():js!==-1?js:js=Ye()}function ir(e){return(e.mode&1)===0?1:(Ae&2)!==0&&ut!==0?ut&-ut:P0.transition!==null?($s===0&&($s=fd()),$s):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Ad(e.type)),e)}function un(e,n,i,s){if(50<vo)throw vo=0,Iu=null,Error(o(185));Gi(e,i,s),((Ae&2)===0||e!==ot)&&(e===ot&&((Ae&2)===0&&(xs|=i),nt===4&&or(e,ut)),Pt(e,s),i===1&&Ae===0&&(n.mode&1)===0&&(gi=Ye()+500,ys&&Zn()))}function Pt(e,n){var i=e.callbackNode;Pm(e,n);var s=Jo(e,e===ot?ut:0);if(s===0)i!==null&&ud(i),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(i!=null&&ud(i),n===1)e.tag===0?R0(_p.bind(null,e)):af(_p.bind(null,e)),w0(function(){(Ae&6)===0&&Zn()}),i=null;else{switch(pd(s)){case 1:i=rl;break;case 4:i=cd;break;case 16:i=Qo;break;case 536870912:i=dd;break;default:i=Qo}i=Dp(i,Ap.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Ap(e,n){if(js=-1,$s=0,(Ae&6)!==0)throw Error(o(327));var i=e.callbackNode;if(mi()&&e.callbackNode!==i)return null;var s=Jo(e,e===ot?ut:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=Ys(e,s);else{n=s;var u=Ae;Ae|=2;var d=Ip();(ot!==e||ut!==n)&&(Un=null,gi=Ye()+500,Lr(e,n));do try{K0();break}catch(y){wp(e,y)}while(!0);Wl(),Bs.current=d,Ae=u,qe!==null?n=0:(ot=null,ut=0,n=nt)}if(n!==0){if(n===2&&(u=il(e),u!==0&&(s=u,n=Tu(e,u))),n===1)throw i=go,Lr(e,0),or(e,s),Pt(e,Ye()),i;if(n===6)or(e,s);else{if(u=e.current.alternate,(s&30)===0&&!V0(u)&&(n=Ys(e,s),n===2&&(d=il(e),d!==0&&(s=d,n=Tu(e,d))),n===1))throw i=go,Lr(e,0),or(e,s),Pt(e,Ye()),i;switch(e.finishedWork=u,e.finishedLanes=s,n){case 0:case 1:throw Error(o(345));case 2:Ur(e,Rt,Un);break;case 3:if(or(e,s),(s&130023424)===s&&(n=_u+500-Ye(),10<n)){if(Jo(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){Et(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Nl(Ur.bind(null,e,Rt,Un),n);break}Ur(e,Rt,Un);break;case 4:if(or(e,s),(s&4194240)===s)break;for(n=e.eventTimes,u=-1;0<s;){var h=31-nn(s);d=1<<h,h=n[h],h>u&&(u=h),s&=~d}if(s=u,s=Ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Y0(s/1960))-s,10<s){e.timeoutHandle=Nl(Ur.bind(null,e,Rt,Un),s);break}Ur(e,Rt,Un);break;case 5:Ur(e,Rt,Un);break;default:throw Error(o(329))}}}return Pt(e,Ye()),e.callbackNode===i?Ap.bind(null,e):null}function Tu(e,n){var i=mo;return e.current.memoizedState.isDehydrated&&(Lr(e,n).flags|=256),e=Ys(e,n),e!==2&&(n=Rt,Rt=i,n!==null&&Cu(n)),e}function Cu(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function V0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var u=i[s],d=u.getSnapshot;u=u.value;try{if(!rn(d(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(e,n){for(n&=~Au,n&=~xs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;e[i]=-1,n&=~s}}function _p(e){if((Ae&6)!==0)throw Error(o(327));mi();var n=Jo(e,0);if((n&1)===0)return Pt(e,Ye()),null;var i=Ys(e,n);if(e.tag!==0&&i===2){var s=il(e);s!==0&&(n=s,i=Tu(e,s))}if(i===1)throw i=go,Lr(e,0),or(e,n),Pt(e,Ye()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ur(e,Rt,Un),Pt(e,Ye()),null}function Ru(e,n){var i=Ae;Ae|=1;try{return e(n)}finally{Ae=i,Ae===0&&(gi=Ye()+500,ys&&Zn())}}function Mr(e){rr!==null&&rr.tag===0&&(Ae&6)===0&&mi();var n=Ae;Ae|=1;var i=Vt.transition,s=Pe;try{if(Vt.transition=null,Pe=1,e)return e()}finally{Pe=s,Vt.transition=i,Ae=n,(Ae&6)===0&&Zn()}}function Pu(){Ft=hi.current,Fe(hi)}function Lr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,_0(i)),qe!==null)for(i=qe.return;i!==null;){var s=i;switch(Hl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ms();break;case 3:di(),Fe(It),Fe(dt),bl();break;case 5:Kl(s);break;case 4:di();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:jl(s.type._context);break;case 22:case 23:Pu()}i=i.return}if(ot=e,qe=e=sr(e.current,null),ut=Ft=n,nt=0,go=null,Au=xs=Or=0,Rt=mo=null,kr!==null){for(n=0;n<kr.length;n++)if(i=kr[n],s=i.interleaved,s!==null){i.interleaved=null;var u=s.next,d=i.pending;if(d!==null){var h=d.next;d.next=u,s.next=h}i.pending=s}kr=null}return e}function wp(e,n){do{var i=qe;try{if(Wl(),Ps.current=Os,ks){for(var s=je.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}ks=!1}if(Nr=0,it=tt=je=null,lo=!1,uo=0,Eu.current=null,i===null||i.return===null){nt=1,go=n,qe=null;break}e:{var d=e,h=i.return,y=i,S=n;if(n=ut,y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,F=y,H=F.tag;if((F.mode&1)===0&&(H===0||H===11||H===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var Y=Kf(h);if(Y!==null){Y.flags&=-257,Qf(Y,h,y,d,n),Y.mode&1&&Xf(d,P,n),n=Y,S=P;var Q=n.updateQueue;if(Q===null){var b=new Set;b.add(S),n.updateQueue=b}else Q.add(S);break e}else{if((n&1)===0){Xf(d,P,n),ku();break e}S=Error(o(426))}}else if(xe&&y.mode&1){var Ve=Kf(h);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),Qf(Ve,h,y,d,n),Gl(fi(S,y));break e}}d=S=fi(S,y),nt!==4&&(nt=2),mo===null?mo=[d]:mo.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var I=Yf(d,S,n);yf(d,I);break e;case 1:y=S;var A=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(nr===null||!nr.has(C)))){d.flags|=65536,n&=-n,d.lanes|=n;var z=Vf(d,y,n);yf(d,z);break e}}d=d.return}while(d!==null)}Cp(i)}catch(J){n=J,qe===i&&i!==null&&(qe=i=i.return);continue}break}while(!0)}function Ip(){var e=Bs.current;return Bs.current=Os,e===null?Os:e}function ku(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||(Or&268435455)===0&&(xs&268435455)===0||or(ot,ut)}function Ys(e,n){var i=Ae;Ae|=2;var s=Ip();(ot!==e||ut!==n)&&(Un=null,Lr(e,n));do try{X0();break}catch(u){wp(e,u)}while(!0);if(Wl(),Ae=i,Bs.current=s,qe!==null)throw Error(o(261));return ot=null,ut=0,nt}function X0(){for(;qe!==null;)Tp(qe)}function K0(){for(;qe!==null&&!Sm();)Tp(qe)}function Tp(e){var n=kp(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,n===null?Cp(e):qe=n,Eu.current=null}function Cp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=G0(i,n,Ft),i!==null){qe=i;return}}else{if(i=z0(i,n),i!==null){i.flags&=32767,qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,qe=null;return}}if(n=n.sibling,n!==null){qe=n;return}qe=n=e}while(n!==null);nt===0&&(nt=5)}function Ur(e,n,i){var s=Pe,u=Vt.transition;try{Vt.transition=null,Pe=1,Q0(e,n,i,s)}finally{Vt.transition=u,Pe=s}return null}function Q0(e,n,i,s){do mi();while(rr!==null);if((Ae&6)!==0)throw Error(o(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(km(e,d),e===ot&&(qe=ot=null,ut=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||zs||(zs=!0,Dp(Qo,function(){return mi(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Vt.transition,Vt.transition=null;var h=Pe;Pe=1;var y=Ae;Ae|=4,Eu.current=null,j0(e,i),mp(i,e),g0(kl),ns=!!Pl,kl=Pl=null,e.current=i,$0(i),Em(),Ae=y,Pe=h,Vt.transition=d}else e.current=i;if(zs&&(zs=!1,rr=e,Ws=u),d=e.pendingLanes,d===0&&(nr=null),wm(i.stateNode),Pt(e,Ye()),n!==null)for(s=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],s(u.value,{componentStack:u.stack,digest:u.digest});if(Gs)throw Gs=!1,e=wu,wu=null,e;return(Ws&1)!==0&&e.tag!==0&&mi(),d=e.pendingLanes,(d&1)!==0?e===Iu?vo++:(vo=0,Iu=e):vo=0,Zn(),null}function mi(){if(rr!==null){var e=pd(Ws),n=Vt.transition,i=Pe;try{if(Vt.transition=null,Pe=16>e?16:e,rr===null)var s=!1;else{if(e=rr,rr=null,Ws=0,(Ae&6)!==0)throw Error(o(331));var u=Ae;for(Ae|=4,X=e.current;X!==null;){var d=X,h=d.child;if((X.flags&16)!==0){var y=d.deletions;if(y!==null){for(var S=0;S<y.length;S++){var P=y[S];for(X=P;X!==null;){var F=X;switch(F.tag){case 0:case 11:case 15:ho(8,F,d)}var H=F.child;if(H!==null)H.return=F,X=H;else for(;X!==null;){F=X;var U=F.sibling,Y=F.return;if(dp(F),F===P){X=null;break}if(U!==null){U.return=Y,X=U;break}X=Y}}}var Q=d.alternate;if(Q!==null){var b=Q.child;if(b!==null){Q.child=null;do{var Ve=b.sibling;b.sibling=null,b=Ve}while(b!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,X=h;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ho(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,X=I;break e}X=d.return}}var A=e.current;for(X=A;X!==null;){h=X;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,X=C;else e:for(h=A;X!==null;){if(y=X,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Hs(9,y)}}catch(J){$e(y,y.return,J)}if(y===h){X=null;break e}var z=y.sibling;if(z!==null){z.return=y.return,X=z;break e}X=y.return}}if(Ae=u,Zn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(bo,e)}catch{}s=!0}return s}finally{Pe=i,Vt.transition=n}}return!1}function Rp(e,n,i){n=fi(i,n),n=Yf(e,n,1),e=er(e,n,1),n=Et(),e!==null&&(Gi(e,1,n),Pt(e,n))}function $e(e,n,i){if(e.tag===3)Rp(e,e,i);else for(;n!==null;){if(n.tag===3){Rp(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nr===null||!nr.has(s))){e=fi(i,e),e=Vf(n,e,1),n=er(n,e,1),e=Et(),n!==null&&(Gi(n,1,e),Pt(n,e));break}}n=n.return}}function b0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),n=Et(),e.pingedLanes|=e.suspendedLanes&i,ot===e&&(ut&i)===i&&(nt===4||nt===3&&(ut&130023424)===ut&&500>Ye()-_u?Lr(e,0):Au|=i),Pt(e,n)}function Pp(e,n){n===0&&((e.mode&1)===0?n=1:(n=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var i=Et();e=On(e,n),e!==null&&(Gi(e,n,i),Pt(e,i))}function q0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Pp(e,i)}function Z0(e,n){var i=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(n),Pp(e,i)}var kp;kp=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||It.current)Ct=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Ct=!1,x0(e,n,i);Ct=(e.flags&131072)!==0}else Ct=!1,xe&&(n.flags&1048576)!==0&&lf(n,Es,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;Us(e,n),e=n.pendingProps;var u=ii(n,dt.current);ci(n,i),u=Jl(null,n,s,e,u,i);var d=eu();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Tt(s)?(d=!0,vs(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Vl(n),u.updater=Ms,n.stateNode=u,u._reactInternals=n,su(n,s,e,i),n=cu(null,n,s,!0,d,i)):(n.tag=0,xe&&d&&Fl(n),St(null,n,u,i),n=n.child),n;case 16:s=n.elementType;e:{switch(Us(e,n),e=n.pendingProps,u=s._init,s=u(s._payload),n.type=s,u=n.tag=ev(s),e=sn(s,e),u){case 0:n=uu(null,n,s,e,i);break e;case 1:n=tp(null,n,s,e,i);break e;case 11:n=bf(null,n,s,e,i);break e;case 14:n=qf(null,n,s,sn(s.type,e),i);break e}throw Error(o(306,s,""))}return n;case 0:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),uu(e,n,s,u,i);case 1:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),tp(e,n,s,u,i);case 3:e:{if(np(n),e===null)throw Error(o(387));s=n.pendingProps,d=n.memoizedState,u=d.element,vf(e,n),Cs(n,s,null,i);var h=n.memoizedState;if(s=h.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=fi(Error(o(423)),n),n=rp(e,n,s,i,u);break e}else if(s!==u){u=fi(Error(o(424)),n),n=rp(e,n,s,i,u);break e}else for(Ut=Qn(n.stateNode.containerInfo.firstChild),Lt=n,xe=!0,on=null,i=gf(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ai(),s===u){n=Ln(e,n,i);break e}St(e,n,s,i)}n=n.child}return n;case 5:return Ef(n),e===null&&xl(n),s=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Dl(s,u)?h=null:d!==null&&Dl(s,d)&&(n.flags|=32),ep(e,n),St(e,n,h,i),n.child;case 6:return e===null&&xl(n),null;case 13:return ip(e,n,i);case 4:return Xl(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=li(n,null,s,i):St(e,n,s,i),n.child;case 11:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),bf(e,n,s,u,i);case 7:return St(e,n,n.pendingProps,i),n.child;case 8:return St(e,n,n.pendingProps.children,i),n.child;case 12:return St(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(s=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,Me(ws,s._currentValue),s._currentValue=h,d!==null)if(rn(d.value,h)){if(d.children===u.children&&!It.current){n=Ln(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var y=d.dependencies;if(y!==null){h=d.child;for(var S=y.firstContext;S!==null;){if(S.context===s){if(d.tag===1){S=Mn(-1,i&-i),S.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?S.next=S:(S.next=F.next,F.next=S),P.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),$l(d.return,i,n),y.lanes|=i;break}S=S.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=i,y=h.alternate,y!==null&&(y.lanes|=i),$l(h,i,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}St(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,s=n.pendingProps.children,ci(n,i),u=$t(u),s=s(u),n.flags|=1,St(e,n,s,i),n.child;case 14:return s=n.type,u=sn(s,n.pendingProps),u=sn(s.type,u),qf(e,n,s,u,i);case 15:return Zf(e,n,n.type,n.pendingProps,i);case 17:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:sn(s,u),Us(e,n),n.tag=1,Tt(s)?(e=!0,vs(n)):e=!1,ci(n,i),jf(n,s,u),su(n,s,u,i),cu(null,n,s,!0,e,i);case 19:return sp(e,n,i);case 22:return Jf(e,n,i)}throw Error(o(156,n.tag))};function Dp(e,n){return ld(e,n)}function J0(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,i,s){return new J0(e,n,i,s)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ev(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Te)return 11;if(e===ye)return 14}return 2}function sr(e,n){var i=e.alternate;return i===null?(i=Xt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Vs(e,n,i,s,u,d){var h=2;if(s=e,typeof e=="function")Du(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case D:return Fr(i.children,u,d,n);case ee:h=8,u|=8;break;case Ee:return e=Xt(12,i,n,u|2),e.elementType=Ee,e.lanes=d,e;case Se:return e=Xt(13,i,n,u),e.elementType=Se,e.lanes=d,e;case De:return e=Xt(19,i,n,u),e.elementType=De,e.lanes=d,e;case te:return Xs(i,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Re:h=10;break e;case be:h=9;break e;case Te:h=11;break e;case ye:h=14;break e;case he:h=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Xt(h,i,n,u),n.elementType=e,n.type=s,n.lanes=d,n}function Fr(e,n,i,s){return e=Xt(7,e,s,n),e.lanes=i,e}function Xs(e,n,i,s){return e=Xt(22,e,s,n),e.elementType=te,e.lanes=i,e.stateNode={isHidden:!1},e}function Nu(e,n,i){return e=Xt(6,e,null,n),e.lanes=i,e}function Ou(e,n,i){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function tv(e,n,i,s,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Mu(e,n,i,s,u,d,h,y,S){return e=new tv(e,n,i,y,S),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Xt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(d),e}function nv(e,n,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:s==null?null:""+s,children:e,containerInfo:n,implementation:i}}function Np(e){if(!e)return qn;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Tt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Tt(i))return of(e,i,n)}return n}function Op(e,n,i,s,u,d,h,y,S){return e=Mu(i,s,!0,e,u,d,h,y,S),e.context=Np(null),i=e.current,s=Et(),u=ir(i),d=Mn(s,u),d.callback=n??null,er(i,d,u),e.current.lanes=u,Gi(e,u,s),Pt(e,s),e}function Ks(e,n,i,s){var u=n.current,d=Et(),h=ir(u);return i=Np(i),n.context===null?n.context=i:n.pendingContext=i,n=Mn(d,h),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=er(u,n,h),e!==null&&(un(e,u,h,d),Ts(e,u,h)),h}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Lu(e,n){Mp(e,n),(e=e.alternate)&&Mp(e,n)}function rv(){return null}var Lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}bs.prototype.render=Uu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));Ks(e,n,null,null)},bs.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Mr(function(){Ks(null,e,null,null)}),n[Pn]=null}};function bs(e){this._internalRoot=e}bs.prototype.unstable_scheduleHydration=function(e){if(e){var n=md();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&Sd(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Up(){}function iv(e,n,i,s,u){if(u){if(typeof s=="function"){var d=s;s=function(){var P=Qs(h);d.call(P)}}var h=Op(n,s,e,0,null,!1,!1,"",Up);return e._reactRootContainer=h,e[Pn]=h.current,eo(e.nodeType===8?e.parentNode:e),Mr(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var y=s;s=function(){var P=Qs(S);y.call(P)}}var S=Mu(e,0,!1,null,null,!1,!1,"",Up);return e._reactRootContainer=S,e[Pn]=S.current,eo(e.nodeType===8?e.parentNode:e),Mr(function(){Ks(n,S,i,s)}),S}function Zs(e,n,i,s,u){var d=i._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var y=u;u=function(){var S=Qs(h);y.call(S)}}Ks(n,h,e,u)}else h=iv(i,n,e,u,s);return Qs(h)}hd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=xi(n.pendingLanes);i!==0&&(sl(n,i|1),Pt(n,Ye()),(Ae&6)===0&&(gi=Ye()+500,Zn()))}break;case 13:Mr(function(){var s=On(e,1);if(s!==null){var u=Et();un(s,e,1,u)}}),Lu(e,1)}},al=function(e){if(e.tag===13){var n=On(e,134217728);if(n!==null){var i=Et();un(n,e,134217728,i)}Lu(e,134217728)}},gd=function(e){if(e.tag===13){var n=ir(e),i=On(e,n);if(i!==null){var s=Et();un(i,e,n,s)}Lu(e,n)}},md=function(){return Pe},vd=function(e,n){var i=Pe;try{return Pe=e,n()}finally{Pe=i}},Ja=function(e,n,i){switch(n){case"input":if(Rn(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var u=gs(s);if(!u)throw Error(o(90));de(s),Rn(s,u)}}}break;case"textarea":Vc(e,i);break;case"select":n=i.value,n!=null&&Wn(e,!!i.multiple,n,!1)}},td=Ru,nd=Mr;var ov={usingClientEntryPoint:!1,Events:[ro,ni,gs,Jc,ed,Ru]},yo={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sv={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sd(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{bo=Js.inject(sv),hn=Js}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ov,kt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(n))throw Error(o(200));return nv(e,n,null,i)},kt.createRoot=function(e,n){if(!Fu(e))throw Error(o(299));var i=!1,s="",u=Lp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Mu(e,1,!1,null,null,i,!1,s,u),e[Pn]=n.current,eo(e.nodeType===8?e.parentNode:e),new Uu(n)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=sd(n),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Mr(e)},kt.hydrate=function(e,n,i){if(!qs(n))throw Error(o(200));return Zs(null,e,n,!0,i)},kt.hydrateRoot=function(e,n,i){if(!Fu(e))throw Error(o(405));var s=i!=null&&i.hydratedSources||null,u=!1,d="",h=Lp;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),n=Op(n,null,e,1,i??null,u,!1,d,h),e[Pn]=n.current,eo(e),s)for(e=0;e<s.length;e++)i=s[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new bs(n)},kt.render=function(e,n,i){if(!qs(n))throw Error(o(200));return Zs(null,e,n,!1,i)},kt.unmountComponentAtNode=function(e){if(!qs(e))throw Error(o(40));return e._reactRootContainer?(Mr(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1},kt.unstable_batchedUpdates=Ru,kt.unstable_renderSubtreeIntoContainer=function(e,n,i,s){if(!qs(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Zs(e,n,i,!1,s)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var jp;function mv(){if(jp)return xu.exports;jp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),xu.exports=gv(),xu.exports}var $p;function vv(){if($p)return ea;$p=1;var t=mv();return ea.createRoot=t.createRoot,ea.hydrateRoot=t.hydrateRoot,ea}var yv=vv();const Sv=Zh(yv),Jh=Ne.createContext(void 0),Ev=({initialAppState:t,children:r})=>{const[o,a]=Ne.useState(t),[l,c]=Ne.useState(void 0),f=(p,g)=>{a(p),p==="gameOver"&&g?c(g):p!=="gameOver"&&c(void 0)};return Oe.jsx(Jh.Provider,{value:{appState:o,setAppState:f,gameOverDetails:l},children:r})},Da=()=>{const t=Ne.useContext(Jh);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var vt=function(){return vt=Object.assign||function(r){for(var o,a=1,l=arguments.length;a<l;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},vt.apply(this,arguments)};function Lo(t,r,o){if(o||arguments.length===2)for(var a=0,l=r.length,c;a<l;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return t.concat(c||Array.prototype.slice.call(r))}var He="-ms-",Do="-moz-",Ce="-webkit-",eg="comm",Na="rule",wc="decl",Av="@import",tg="@keyframes",_v="@layer",ng=Math.abs,Ic=String.fromCharCode,sc=Object.assign;function wv(t,r){return at(t,0)^45?(((r<<2^at(t,0))<<2^at(t,1))<<2^at(t,2))<<2^at(t,3):0}function rg(t){return t.trim()}function Hn(t,r){return(t=r.exec(t))?t[0]:t}function ge(t,r,o){return t.replace(r,o)}function da(t,r,o){return t.indexOf(r,o)}function at(t,r){return t.charCodeAt(r)|0}function Ii(t,r,o){return t.slice(r,o)}function An(t){return t.length}function ig(t){return t.length}function Co(t,r){return r.push(t),t}function Iv(t,r){return t.map(r).join("")}function Yp(t,r){return t.filter(function(o){return!Hn(o,r)})}var Oa=1,Ti=1,og=0,Jt=0,Ze=0,Oi="";function Ma(t,r,o,a,l,c,f,p){return{value:t,root:r,parent:o,type:a,props:l,children:c,line:Oa,column:Ti,length:f,return:"",siblings:p}}function pr(t,r){return sc(Ma("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function vi(t){for(;t.root;)t=pr(t.root,{children:[t]});Co(t,t.siblings)}function Tv(){return Ze}function Cv(){return Ze=Jt>0?at(Oi,--Jt):0,Ti--,Ze===10&&(Ti=1,Oa--),Ze}function dn(){return Ze=Jt<og?at(Oi,Jt++):0,Ti++,Ze===10&&(Ti=1,Oa++),Ze}function zr(){return at(Oi,Jt)}function fa(){return Jt}function La(t,r){return Ii(Oi,t,r)}function ac(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rv(t){return Oa=Ti=1,og=An(Oi=t),Jt=0,[]}function Pv(t){return Oi="",t}function Wu(t){return rg(La(Jt-1,lc(t===91?t+2:t===40?t+1:t)))}function kv(t){for(;(Ze=zr())&&Ze<33;)dn();return ac(t)>2||ac(Ze)>3?"":" "}function Dv(t,r){for(;--r&&dn()&&!(Ze<48||Ze>102||Ze>57&&Ze<65||Ze>70&&Ze<97););return La(t,fa()+(r<6&&zr()==32&&dn()==32))}function lc(t){for(;dn();)switch(Ze){case t:return Jt;case 34:case 39:t!==34&&t!==39&&lc(Ze);break;case 40:t===41&&lc(t);break;case 92:dn();break}return Jt}function Nv(t,r){for(;dn()&&t+Ze!==57;)if(t+Ze===84&&zr()===47)break;return"/*"+La(r,Jt-1)+"*"+Ic(t===47?t:dn())}function Ov(t){for(;!ac(zr());)dn();return La(t,Jt)}function Mv(t){return Pv(pa("",null,null,null,[""],t=Rv(t),0,[0],t))}function pa(t,r,o,a,l,c,f,p,g){for(var m=0,v=0,E=f,R=0,T=0,N=0,O=1,w=1,k=1,W=0,B="",x=l,Z=c,L=a,D=B;w;)switch(N=W,W=dn()){case 40:if(N!=108&&at(D,E-1)==58){da(D+=ge(Wu(W),"&","&\f"),"&\f",ng(m?p[m-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:D+=Wu(W);break;case 9:case 10:case 13:case 32:D+=kv(N);break;case 92:D+=Dv(fa()-1,7);continue;case 47:switch(zr()){case 42:case 47:Co(Lv(Nv(dn(),fa()),r,o,g),g);break;default:D+="/"}break;case 123*O:p[m++]=An(D)*k;case 125*O:case 59:case 0:switch(W){case 0:case 125:w=0;case 59+v:k==-1&&(D=ge(D,/\f/g,"")),T>0&&An(D)-E&&Co(T>32?Xp(D+";",a,o,E-1,g):Xp(ge(D," ","")+";",a,o,E-2,g),g);break;case 59:D+=";";default:if(Co(L=Vp(D,r,o,m,v,l,p,B,x=[],Z=[],E,c),c),W===123)if(v===0)pa(D,r,L,L,x,c,E,p,Z);else switch(R===99&&at(D,3)===110?100:R){case 100:case 108:case 109:case 115:pa(t,L,L,a&&Co(Vp(t,L,L,0,0,l,p,B,l,x=[],E,Z),Z),l,Z,E,p,a?x:Z);break;default:pa(D,L,L,L,[""],Z,0,p,Z)}}m=v=T=0,O=k=1,B=D="",E=f;break;case 58:E=1+An(D),T=N;default:if(O<1){if(W==123)--O;else if(W==125&&O++==0&&Cv()==125)continue}switch(D+=Ic(W),W*O){case 38:k=v>0?1:(D+="\f",-1);break;case 44:p[m++]=(An(D)-1)*k,k=1;break;case 64:zr()===45&&(D+=Wu(dn())),R=zr(),v=E=An(B=D+=Ov(fa())),W++;break;case 45:N===45&&An(D)==2&&(O=0)}}return c}function Vp(t,r,o,a,l,c,f,p,g,m,v,E){for(var R=l-1,T=l===0?c:[""],N=ig(T),O=0,w=0,k=0;O<a;++O)for(var W=0,B=Ii(t,R+1,R=ng(w=f[O])),x=t;W<N;++W)(x=rg(w>0?T[W]+" "+B:ge(B,/&\f/g,T[W])))&&(g[k++]=x);return Ma(t,r,o,l===0?Na:p,g,m,v,E)}function Lv(t,r,o,a){return Ma(t,r,o,eg,Ic(Tv()),Ii(t,2,-2),0,a)}function Xp(t,r,o,a,l){return Ma(t,r,o,wc,Ii(t,0,a),Ii(t,a+1,-1),a,l)}function sg(t,r,o){switch(wv(t,r)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 4789:return Do+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+Do+t+He+t+t;case 5936:switch(at(t,r+11)){case 114:return Ce+t+He+ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+He+ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+He+ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ce+t+He+t+t;case 6165:return Ce+t+He+"flex-"+t+t;case 5187:return Ce+t+ge(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+He+"flex-$1$2")+t;case 5443:return Ce+t+He+"flex-item-"+ge(t,/flex-|-self/g,"")+(Hn(t,/flex-|baseline/)?"":He+"grid-row-"+ge(t,/flex-|-self/g,""))+t;case 4675:return Ce+t+He+"flex-line-pack"+ge(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ce+t+He+ge(t,"shrink","negative")+t;case 5292:return Ce+t+He+ge(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+ge(t,"-grow","")+Ce+t+He+ge(t,"grow","positive")+t;case 4554:return Ce+ge(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return ge(ge(ge(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return ge(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return ge(ge(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+He+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4200:if(!Hn(t,/flex-|baseline/))return He+"grid-column-align"+Ii(t,r)+t;break;case 2592:case 3360:return He+ge(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(a,l){return r=l,Hn(a.props,/grid-\w+-end/)})?~da(t+(o=o[r].value),"span",0)?t:He+ge(t,"-start","")+t+He+"grid-row-span:"+(~da(o,"span",0)?Hn(o,/\d+/):+Hn(o,/\d+/)-+Hn(t,/\d+/))+";":He+ge(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(a){return Hn(a.props,/grid-\w+-start/)})?t:He+ge(ge(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ge(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(An(t)-1-r>6)switch(at(t,r+1)){case 109:if(at(t,r+4)!==45)break;case 102:return ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+Do+(at(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~da(t,"stretch",0)?sg(ge(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return ge(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,l,c,f,p,g,m){return He+l+":"+c+m+(f?He+l+"-span:"+(p?g:+g-+c)+m:"")+t});case 4949:if(at(t,r+6)===121)return ge(t,":",":"+Ce)+t;break;case 6444:switch(at(t,at(t,14)===45?18:11)){case 120:return ge(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ce+(at(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+He+"$2box$3")+t;case 100:return ge(t,":",":"+He)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ge(t,"scroll-","scroll-snap-")+t}return t}function Sa(t,r){for(var o="",a=0;a<t.length;a++)o+=r(t[a],a,t,r)||"";return o}function Uv(t,r,o,a){switch(t.type){case _v:if(t.children.length)break;case Av:case wc:return t.return=t.return||t.value;case eg:return"";case tg:return t.return=t.value+"{"+Sa(t.children,a)+"}";case Na:if(!An(t.value=t.props.join(",")))return""}return An(o=Sa(t.children,a))?t.return=t.value+"{"+o+"}":""}function Fv(t){var r=ig(t);return function(o,a,l,c){for(var f="",p=0;p<r;p++)f+=t[p](o,a,l,c)||"";return f}}function Hv(t){return function(r){r.root||(r=r.return)&&t(r)}}function Bv(t,r,o,a){if(t.length>-1&&!t.return)switch(t.type){case wc:t.return=sg(t.value,t.length,o);return;case tg:return Sa([pr(t,{value:ge(t.value,"@","@"+Ce)})],a);case Na:if(t.length)return Iv(o=t.props,function(l){switch(Hn(l,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vi(pr(t,{props:[ge(l,/:(read-\w+)/,":"+Do+"$1")]})),vi(pr(t,{props:[l]})),sc(t,{props:Yp(o,a)});break;case"::placeholder":vi(pr(t,{props:[ge(l,/:(plac\w+)/,":"+Ce+"input-$1")]})),vi(pr(t,{props:[ge(l,/:(plac\w+)/,":"+Do+"$1")]})),vi(pr(t,{props:[ge(l,/:(plac\w+)/,He+"input-$1")]})),vi(pr(t,{props:[l]})),sc(t,{props:Yp(o,a)});break}return""})}}var xv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bt={},Ci=typeof process<"u"&&Bt!==void 0&&(Bt.REACT_APP_SC_ATTR||Bt.SC_ATTR)||"data-styled",ag="active",lg="data-styled-version",Ua="6.1.13",Tc=`/*!sc*/
`,Ea=typeof window<"u"&&"HTMLElement"in window,Gv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Bt.REACT_APP_SC_DISABLE_SPEEDY!==""?Bt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Bt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Bt!==void 0&&Bt.SC_DISABLE_SPEEDY!==void 0&&Bt.SC_DISABLE_SPEEDY!==""&&Bt.SC_DISABLE_SPEEDY!=="false"&&Bt.SC_DISABLE_SPEEDY),zv={},Fa=Object.freeze([]),Ri=Object.freeze({});function ug(t,r,o){return o===void 0&&(o=Ri),t.theme!==o.theme&&t.theme||r||o.theme}var cg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Wv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,jv=/(^-|-$)/g;function Kp(t){return t.replace(Wv,"-").replace(jv,"")}var $v=/(a)(d)/gi,ta=52,Qp=function(t){return String.fromCharCode(t+(t>25?39:97))};function uc(t){var r,o="";for(r=Math.abs(t);r>ta;r=r/ta|0)o=Qp(r%ta)+o;return(Qp(r%ta)+o).replace($v,"$1-$2")}var ju,dg=5381,Ai=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},fg=function(t){return Ai(dg,t)};function pg(t){return uc(fg(t)>>>0)}function Yv(t){return t.displayName||t.name||"Component"}function $u(t){return typeof t=="string"&&!0}var hg=typeof Symbol=="function"&&Symbol.for,gg=hg?Symbol.for("react.memo"):60115,Vv=hg?Symbol.for("react.forward_ref"):60112,Xv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qv=((ju={})[Vv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ju[gg]=mg,ju);function bp(t){return("type"in(r=t)&&r.type.$$typeof)===gg?mg:"$$typeof"in t?Qv[t.$$typeof]:Xv;var r}var bv=Object.defineProperty,qv=Object.getOwnPropertyNames,qp=Object.getOwnPropertySymbols,Zv=Object.getOwnPropertyDescriptor,Jv=Object.getPrototypeOf,Zp=Object.prototype;function vg(t,r,o){if(typeof r!="string"){if(Zp){var a=Jv(r);a&&a!==Zp&&vg(t,a,o)}var l=qv(r);qp&&(l=l.concat(qp(r)));for(var c=bp(t),f=bp(r),p=0;p<l.length;++p){var g=l[p];if(!(g in Kv||o&&o[g]||f&&g in f||c&&g in c)){var m=Zv(r,g);try{bv(t,g,m)}catch{}}}}return t}function Pi(t){return typeof t=="function"}function Cc(t){return typeof t=="object"&&"styledComponentId"in t}function Gr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function cc(t,r){if(t.length===0)return"";for(var o=t[0],a=1;a<t.length;a++)o+=t[a];return o}function Uo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function dc(t,r,o){if(o===void 0&&(o=!1),!o&&!Uo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var a=0;a<r.length;a++)t[a]=dc(t[a],r[a]);else if(Uo(r))for(var a in r)t[a]=dc(t[a],r[a]);return t}function Rc(t,r){Object.defineProperty(t,"toString",{value:r})}function jo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var ey=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,a=0;a<r;a++)o+=this.groupSizes[a];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var a=this.groupSizes,l=a.length,c=l;r>=c;)if((c<<=1)<0)throw jo(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(a),this.length=c;for(var f=l;f<c;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(r+1),g=(f=0,o.length);f<g;f++)this.tag.insertRule(p,o[f])&&(this.groupSizes[r]++,p++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],a=this.indexOfGroup(r),l=a+o;this.groupSizes[r]=0;for(var c=a;c<l;c++)this.tag.deleteRule(a)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var a=this.groupSizes[r],l=this.indexOfGroup(r),c=l+a,f=l;f<c;f++)o+="".concat(this.tag.getRule(f)).concat(Tc);return o},t}(),ha=new Map,Aa=new Map,ga=1,na=function(t){if(ha.has(t))return ha.get(t);for(;Aa.has(ga);)ga++;var r=ga++;return ha.set(t,r),Aa.set(r,t),r},ty=function(t,r){ga=r+1,ha.set(t,r),Aa.set(r,t)},ny="style[".concat(Ci,"][").concat(lg,'="').concat(Ua,'"]'),ry=new RegExp("^".concat(Ci,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),iy=function(t,r,o){for(var a,l=o.split(","),c=0,f=l.length;c<f;c++)(a=l[c])&&t.registerName(r,a)},oy=function(t,r){for(var o,a=((o=r.textContent)!==null&&o!==void 0?o:"").split(Tc),l=[],c=0,f=a.length;c<f;c++){var p=a[c].trim();if(p){var g=p.match(ry);if(g){var m=0|parseInt(g[1],10),v=g[2];m!==0&&(ty(v,m),iy(t,v,g[3]),t.getTag().insertRules(m,l)),l.length=0}else l.push(p)}}},Jp=function(t){for(var r=document.querySelectorAll(ny),o=0,a=r.length;o<a;o++){var l=r[o];l&&l.getAttribute(Ci)!==ag&&(oy(t,l),l.parentNode&&l.parentNode.removeChild(l))}};function sy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var yg=function(t){var r=document.head,o=t||r,a=document.createElement("style"),l=function(p){var g=Array.from(p.querySelectorAll("style[".concat(Ci,"]")));return g[g.length-1]}(o),c=l!==void 0?l.nextSibling:null;a.setAttribute(Ci,ag),a.setAttribute(lg,Ua);var f=sy();return f&&a.setAttribute("nonce",f),o.insertBefore(a,c),a},ay=function(){function t(r){this.element=yg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,l=0,c=a.length;l<c;l++){var f=a[l];if(f.ownerNode===o)return f}throw jo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),ly=function(){function t(r){this.element=yg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),uy=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),eh=Ea,cy={isServer:!Ea,useCSSOMInjection:!Gv},_a=function(){function t(r,o,a){r===void 0&&(r=Ri),o===void 0&&(o={});var l=this;this.options=vt(vt({},cy),r),this.gs=o,this.names=new Map(a),this.server=!!r.isServer,!this.server&&Ea&&eh&&(eh=!1,Jp(this)),Rc(this,function(){return function(c){for(var f=c.getTag(),p=f.length,g="",m=function(E){var R=function(k){return Aa.get(k)}(E);if(R===void 0)return"continue";var T=c.names.get(R),N=f.getGroup(E);if(T===void 0||!T.size||N.length===0)return"continue";var O="".concat(Ci,".g").concat(E,'[id="').concat(R,'"]'),w="";T!==void 0&&T.forEach(function(k){k.length>0&&(w+="".concat(k,","))}),g+="".concat(N).concat(O,'{content:"').concat(w,'"}').concat(Tc)},v=0;v<p;v++)m(v);return g}(l)})}return t.registerId=function(r){return na(r)},t.prototype.rehydrate=function(){!this.server&&Ea&&Jp(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(vt(vt({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var a=o.useCSSOMInjection,l=o.target;return o.isServer?new uy(l):a?new ay(l):new ly(l)}(this.options),new ey(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(na(r),this.names.has(r))this.names.get(r).add(o);else{var a=new Set;a.add(o),this.names.set(r,a)}},t.prototype.insertRules=function(r,o,a){this.registerName(r,o),this.getTag().insertRules(na(r),a)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(na(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),dy=/&/g,fy=/^\s*\/\/.*$/gm;function Sg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(a){return"".concat(r," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Sg(o.children,r)),o})}function py(t){var r,o,a,l=Ri,c=l.options,f=c===void 0?Ri:c,p=l.plugins,g=p===void 0?Fa:p,m=function(R,T,N){return N.startsWith(o)&&N.endsWith(o)&&N.replaceAll(o,"").length>0?".".concat(r):R},v=g.slice();v.push(function(R){R.type===Na&&R.value.includes("&")&&(R.props[0]=R.props[0].replace(dy,o).replace(a,m))}),f.prefix&&v.push(Bv),v.push(Uv);var E=function(R,T,N,O){T===void 0&&(T=""),N===void 0&&(N=""),O===void 0&&(O="&"),r=O,o=T,a=new RegExp("\\".concat(o,"\\b"),"g");var w=R.replace(fy,""),k=Mv(N||T?"".concat(N," ").concat(T," { ").concat(w," }"):w);f.namespace&&(k=Sg(k,f.namespace));var W=[];return Sa(k,Fv(v.concat(Hv(function(B){return W.push(B)})))),W};return E.hash=g.length?g.reduce(function(R,T){return T.name||jo(15),Ai(R,T.name)},dg).toString():"",E}var hy=new _a,fc=py(),Eg=wn.createContext({shouldForwardProp:void 0,styleSheet:hy,stylis:fc});Eg.Consumer;wn.createContext(void 0);function pc(){return Ne.useContext(Eg)}var gy=function(){function t(r,o){var a=this;this.inject=function(l,c){c===void 0&&(c=fc);var f=a.name+c.hash;l.hasNameForId(a.id,f)||l.insertRules(a.id,f,c(a.rules,f,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Rc(this,function(){throw jo(12,String(a.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=fc),this.name+r.hash},t}(),my=function(t){return t>="A"&&t<="Z"};function th(t){for(var r="",o=0;o<t.length;o++){var a=t[o];if(o===1&&a==="-"&&t[0]==="-")return t;my(a)?r+="-"+a.toLowerCase():r+=a}return r.startsWith("ms-")?"-"+r:r}var Ag=function(t){return t==null||t===!1||t===""},_g=function(t){var r,o,a=[];for(var l in t){var c=t[l];t.hasOwnProperty(l)&&!Ag(c)&&(Array.isArray(c)&&c.isCss||Pi(c)?a.push("".concat(th(l),":"),c,";"):Uo(c)?a.push.apply(a,Lo(Lo(["".concat(l," {")],_g(c),!1),["}"],!1)):a.push("".concat(th(l),": ").concat((r=l,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in xv||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function yr(t,r,o,a){if(Ag(t))return[];if(Cc(t))return[".".concat(t.styledComponentId)];if(Pi(t)){if(!Pi(c=t)||c.prototype&&c.prototype.isReactComponent||!r)return[t];var l=t(r);return yr(l,r,o,a)}var c;return t instanceof gy?o?(t.inject(o,a),[t.getName(a)]):[t]:Uo(t)?_g(t):Array.isArray(t)?Array.prototype.concat.apply(Fa,t.map(function(f){return yr(f,r,o,a)})):[t.toString()]}function wg(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Pi(o)&&!Cc(o))return!1}return!0}var vy=fg(Ua),yy=function(){function t(r,o,a){this.rules=r,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&wg(r),this.componentId=o,this.baseHash=Ai(vy,o),this.baseStyle=a,_a.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,a){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))l=Gr(l,this.staticRulesId);else{var c=cc(yr(this.rules,r,o,a)),f=uc(Ai(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var p=a(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,p)}l=Gr(l,f),this.staticRulesId=f}else{for(var g=Ai(this.baseHash,a.hash),m="",v=0;v<this.rules.length;v++){var E=this.rules[v];if(typeof E=="string")m+=E;else if(E){var R=cc(yr(E,r,o,a));g=Ai(g,R+v),m+=R}}if(m){var T=uc(g>>>0);o.hasNameForId(this.componentId,T)||o.insertRules(this.componentId,T,a(m,".".concat(T),void 0,this.componentId)),l=Gr(l,T)}}return l},t}(),Pc=wn.createContext(void 0);Pc.Consumer;var Yu={};function Sy(t,r,o){var a=Cc(t),l=t,c=!$u(t),f=r.attrs,p=f===void 0?Fa:f,g=r.componentId,m=g===void 0?function(x,Z){var L=typeof x!="string"?"sc":Kp(x);Yu[L]=(Yu[L]||0)+1;var D="".concat(L,"-").concat(pg(Ua+L+Yu[L]));return Z?"".concat(Z,"-").concat(D):D}(r.displayName,r.parentComponentId):g,v=r.displayName,E=v===void 0?function(x){return $u(x)?"styled.".concat(x):"Styled(".concat(Yv(x),")")}(t):v,R=r.displayName&&r.componentId?"".concat(Kp(r.displayName),"-").concat(r.componentId):r.componentId||m,T=a&&l.attrs?l.attrs.concat(p).filter(Boolean):p,N=r.shouldForwardProp;if(a&&l.shouldForwardProp){var O=l.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;N=function(x,Z){return O(x,Z)&&w(x,Z)}}else N=O}var k=new yy(o,R,a?l.componentStyle:void 0);function W(x,Z){return function(L,D,ee){var Ee=L.attrs,Re=L.componentStyle,be=L.defaultProps,Te=L.foldedComponentIds,Se=L.styledComponentId,De=L.target,ye=wn.useContext(Pc),he=pc(),te=L.shouldForwardProp||he.shouldForwardProp,G=ug(D,ye,be)||Ri,$=function(ne,ue,fe){for(var pe,K=vt(vt({},ue),{className:void 0,theme:fe}),se=0;se<ne.length;se+=1){var Ie=Pi(pe=ne[se])?pe(K):pe;for(var de in Ie)K[de]=de==="className"?Gr(K[de],Ie[de]):de==="style"?vt(vt({},K[de]),Ie[de]):Ie[de]}return ue.className&&(K.className=Gr(K.className,ue.className)),K}(Ee,D,G),j=$.as||De,_={};for(var M in $)$[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&$.theme===G||(M==="forwardedAs"?_.as=$.forwardedAs:te&&!te(M,j)||(_[M]=$[M]));var V=function(ne,ue){var fe=pc(),pe=ne.generateAndInjectStyles(ue,fe.styleSheet,fe.stylis);return pe}(Re,$),re=Gr(Te,Se);return V&&(re+=" "+V),$.className&&(re+=" "+$.className),_[$u(j)&&!cg.has(j)?"class":"className"]=re,_.ref=ee,Ne.createElement(j,_)}(B,x,Z)}W.displayName=E;var B=wn.forwardRef(W);return B.attrs=T,B.componentStyle=k,B.displayName=E,B.shouldForwardProp=N,B.foldedComponentIds=a?Gr(l.foldedComponentIds,l.styledComponentId):"",B.styledComponentId=R,B.target=a?l.target:t,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=a?function(Z){for(var L=[],D=1;D<arguments.length;D++)L[D-1]=arguments[D];for(var ee=0,Ee=L;ee<Ee.length;ee++)dc(Z,Ee[ee],!0);return Z}({},l.defaultProps,x):x}}),Rc(B,function(){return".".concat(B.styledComponentId)}),c&&vg(B,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function nh(t,r){for(var o=[t[0]],a=0,l=r.length;a<l;a+=1)o.push(r[a],t[a+1]);return o}var rh=function(t){return Object.assign(t,{isCss:!0})};function Ig(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Pi(t)||Uo(t))return rh(yr(nh(Fa,Lo([t],r,!0))));var a=t;return r.length===0&&a.length===1&&typeof a[0]=="string"?yr(a):rh(yr(nh(a,r)))}function hc(t,r,o){if(o===void 0&&(o=Ri),!r)throw jo(1,r);var a=function(l){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return t(r,o,Ig.apply(void 0,Lo([l],c,!1)))};return a.attrs=function(l){return hc(t,r,vt(vt({},o),{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},a.withConfig=function(l){return hc(t,r,vt(vt({},o),l))},a}var Tg=function(t){return hc(Sy,t)},Ar=Tg;cg.forEach(function(t){Ar[t]=Tg(t)});var Ey=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=wg(r),_a.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,a,l){var c=l(cc(yr(this.rules,o,a,l)),""),f=this.componentId+r;a.insertRules(f,f,c)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,a,l){r>2&&_a.registerId(this.componentId+r),this.removeStyles(r,a),this.createStyles(r,o,a,l)},t}();function Ay(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=Ig.apply(void 0,Lo([t],r,!1)),l="sc-global-".concat(pg(JSON.stringify(a))),c=new Ey(a,l),f=function(g){var m=pc(),v=wn.useContext(Pc),E=wn.useRef(m.styleSheet.allocateGSInstance(l)).current;return m.styleSheet.server&&p(E,g,m.styleSheet,v,m.stylis),wn.useLayoutEffect(function(){if(!m.styleSheet.server)return p(E,g,m.styleSheet,v,m.stylis),function(){return c.removeStyles(E,m.styleSheet)}},[E,g,m.styleSheet,v,m.stylis]),null};function p(g,m,v,E,R){if(c.isStatic)c.renderStyles(g,zv,v,R);else{var T=vt(vt({},m),{theme:ug(m,E,f.defaultProps)});c.renderStyles(g,T,v,R)}}return wn.memo(f)}const _y=Ar.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #000;
  text-align: center;
`,wy=Ar.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,Iy=Ar.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,ih=()=>{const{setAppState:t}=Da();return Oe.jsxs(_y,{children:[Oe.jsx(wy,{children:"Welcome to Tribe!"}),Oe.jsx(Iy,{onClick:()=>t("game"),children:"Start Game"})]})};function Ty(t,r){var o=Ne.useRef(null),a=Ne.useRef(!1),l=Ne.useRef(t);l.current=t;var c=Ne.useCallback(function(p){a.current&&(l.current(p),o.current=requestAnimationFrame(c))},[]),f=Ne.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(c))},function(){return a.current}]},[]);return Ne.useEffect(function(){return f[0]},[]),f}function Cy(t,r,o,a,l){var f;(f=t.onExit)==null||f.call(t,a,r);const c=l.find(({id:p})=>p===r);return c!=null&&c.onEnter?c.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function Ry(t,r){return r.find(({id:o})=>o===t)}function Py(t,r){return t!==r}function ky(t){console.warn(`No handler found for state: ${t}`)}const No="bushGrowing",xr="bushFull",ma="bushSpreading",Fo="bushDying",bt=24,qt=10,Vu=3e3,Xu=3e3,Cg=2,Dy=5,Ny=3,Oy=12,My=940,Ly=.4,gc=20,oh=160,Uy=45,Fy=240,Rg=10,Ho=80,Hy=3,Eo=5,wt=150,kc=wt*.8,By=wt*.2,rt=wt*.95,Wr=30,Pg=10,xy=10,Gy=.5,Nt=30,tn=Nt*.75,kg=50,zy=20,Wy=Ho*.8,jy=.7,Ro=16,xt=40,Dc=35,Nc=16,$y=72/3,sh=24,Yy=1.25,Vy=1.5,fn=wt*.6,$r=50,Xy=1,jr=350,Dg=Ho*.65,Ky=80,Qy=50,by=1,qy=128,Ng=10,ah=100,Zy=20,Ha=Nt,Og=.5,Mg=5,Jy=5,eS=.1,tS=.5,nS=1.5,rS=.25,iS=2,oS=45,sS=.05,Lg=1,lh=10,ki=5,aS=.5,lS=6,uS=100,cS=300,dS=30,fS=0,pS=1,mr=wt*.6,Ug=wt*.5,Ba=wt*.7,xa=wt*.8,hS=80,Oc=.1,uh=10,Di=150,Ga=100,Fg=100,Hg=250,za=2,Wa=400,gS=1e3,Bg=wt*.85,mS=100,wa=200,vS=80,xg=100,Gg=3,yS=10,Mc=500,Ia=400,SS=10,ES=-5,zg=1.5,AS=1.5,_S=10,Sr=10,Lc=250,Yr=.3,Uc=200,wS=-25,ch=-10,IS=-10,TS=.5,CS=.5,RS=.1,Er=-50,PS=-5,Tn=30,Wg=Tn*.6,Fc="#4CAF50",jg="#FF5722",$g="#9C27B0",kS="#2196F3",Yg="#FFC107",DS="#FFD700",Vg="#DC143C",NS="#FFFFFF",OS=[5,5],Xg=5,dh=20,MS=20,LS=16,US=10,FS=16,HS=16,fh=["","","","","","","","","",""],ph=8,BS="#FFFFFF",lr=18,Dt=15,xS="rgba(0, 0, 0, 0.7)",GS=4,ur=150,Ht=15,Sn=10,_i="#555",zS="#f44336",WS="#4CAF50",jS="#2196F3",$S="#FFC107",Ao=16,YS=9,Hr=32,ra=28,VS=10,XS=8,KS=8,QS=8,ia=28,oa=40,bS="rgba(255, 215, 0, 0.7)",qS="rgba(0, 0, 0, 0.3)",cr=10,hh=8,Ku=11,dr=20,Qu=40,gh=5,ZS=10,JS="#FFA500",eE="#808080",Oo=120,tE=30,nE=20,bu="#2d3748",rE="#ffffff",qu="#4a5568",iE=60,oE=-50,sE=10,Zu=12,mh=10,aE="rgba(0, 0, 0, 0.5)",vh="#4CAF50",yh="#F44336",Sh="#FFC107",lE="#FFFFFF",uE="#FF6B6B",cE=5,Kg=30,sa=50,aa=8,Eh=10,dE="rgba(0, 0, 0, 0.5)",fE="#FFFFFF",pE=33,hE=400,gE=20,mE=10,vE="rgba(0, 0, 0, 0.7)",yE="#FFFFFF",Ju=20,Ah=16,SE=.5,_h=5,Qg="#FFD700",EE=40,AE=4,_E=3,wE=5,et=1,Po=3,IE=70,wh=600,TE=1.5,CE=.1;function Qe(t,r,o,a,l){const c={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:a,entityId:l};return t.visualEffects.push(c),t.nextVisualEffectId++,c.id}var ve=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t))(ve||{}),pn=(t=>(t.Berry="berry",t.Meat="meat",t))(pn||{});const bg={berry:"",meat:""},RE={id:No,update:(t,r)=>{const{entity:o,updateContext:a}=r,l=a.deltaTime*(bt/qt);return o.age+=l,o.age>=o.lifespan?{nextState:Fo,data:{...t,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Qe(a.gameState,ve.BushClaimLost,o.position,et),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=l,o.timeSinceLastBerryRegen>=Oy&&o.food.length<o.maxFood&&(o.food.push({type:pn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:xr,data:{...t,enteredAt:a.gameState.time,previousState:No}}:{nextState:No,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},PE={id:xr,update:(t,r)=>{const{entity:o,updateContext:a}=r,l=a.deltaTime*(bt/qt);return o.age+=l,o.age>=o.lifespan?{nextState:Fo,data:{...t,enteredAt:a.gameState.time,previousState:xr}}:o.food.length<o.maxFood?{nextState:No,data:{...t,enteredAt:a.gameState.time,previousState:xr}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(Qe(a.gameState,ve.BushClaimLost,o.position,et),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=l,o.timeSinceLastSpreadAttempt>=oh&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=oh&&Math.random()<o.spreadChance)?{nextState:ma,data:{...t,enteredAt:a.gameState.time,previousState:xr}}:{nextState:xr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function Bn(t,r){return{x:t.x+r.x,y:t.y+r.y}}function kE(t,r){return{x:t.x-r.x,y:t.y-r.y}}function cn(t,r){return{x:t.x*r,y:t.y*r}}function Bo(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Be(t){const r=Bo(t);return r===0?{x:0,y:0}:cn(t,1/r)}function qg(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function Le(t,r,o,a){let l=r.x-t.x,c=r.y-t.y;return Math.abs(l)>o/2&&(l=l-Math.sign(l)*o),Math.abs(c)>a/2&&(c=c-Math.sign(c)*a),{x:l,y:c}}function ja(t,r,o){const a=Le(t,r,o.width,o.height);return Be(a)}function ae(t,r,o,a){const l=Le(t,r,o,a);return Bo(l)}function DE(t,r){return t.x*r.x+t.y*r.y}function NE(t,r){const o=DE(t,r),a=Bo(t),l=Bo(r);if(a===0||l===0)return 0;const c=Math.max(-1,Math.min(1,o/(a*l)));return Math.acos(c)}function OE(t,r,o){const a=Math.max(0,Math.min(1,o)),l={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},c={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},f=Math.round(l.r+(c.r-l.r)*a),p=Math.round(l.g+(c.g-l.g)*a),g=Math.round(l.b+(c.b-l.b)*a),m=v=>("00"+v.toString(16)).slice(-2);return`#${m(f)}${m(p)}${m(g)}`}var _n=(t=>(t.GatherFood="GatherFood",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.PlantBush="PlantBush",t.CallToAttack="CallToAttack",t))(_n||{});const ME={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:""};var Ei=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(Ei||{});const _o={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var In=(t=>(t.ToggleAutopilot="ToggleAutopilot",t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t))(In||{});function Zg(t,r){const o=[],a=t;if(r.food.length>0&&r.hunger>kc&&o.push({type:_n.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const f=_e(r,t,"berryBush",Nt,m=>m.food.length>0),p=_e(r,t,"humanCorpse",Nt,m=>m.food.length>0);let g=null;f&&p?g=ae(r.position,f.position,t.mapDimensions.width,t.mapDimensions.height)<=ae(r.position,p.position,t.mapDimensions.width,t.mapDimensions.height)?f:p:g=f||p,g&&o.push({type:_n.GatherFood,action:"gathering",key:"e",targetEntity:g})}const l=_e(r,t,"human",Nt,f=>{const p=f;return(p.id!==r.id&&p.gender!==r.gender&&p.isAdult&&r.isAdult&&p.hunger<rt&&r.hunger<rt&&(p.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant&&p.age<=xt:!r.isPregnant&&r.age<=xt))??!1});l&&o.push({type:_n.Procreate,action:"procreating",key:"r",targetEntity:l});const c=_e(r,t,"human",Ha,f=>f.id!==r.id);return c&&o.push({type:_n.Attack,action:"attacking",key:"q",targetEntity:c}),r.food.filter(f=>f.type===pn.Berry).length>=ki&&o.push({type:_n.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&Mi(r.position,r.id,a,Lc).length>0&&o.push({type:_n.CallToAttack,action:"callingToAttack",key:"v"}),o}function $o(t,r,o,a){const l=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*r,f={x:Math.cos(l)*c,y:Math.sin(l)*c},p=Bn(t,f);return{x:(p.x%o+o)%o,y:(p.y%a+a)%a}}function mc(t,r,o){const a=r,l={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...a.search.human.byRect(l),...a.search.berryBush.byRect(l),...a.search.humanCorpse.byRect(l)];for(const f of c)if(ae(t,f.position,r.mapDimensions.width,r.mapDimensions.height)<o+f.radius)return!0;return!1}function Jg(t,r,o,a){const l=r.mapDimensions.width,c=r.mapDimensions.height;if(!mc(t,r,a))return t;const f=a;for(let p=f;p<=o;p+=f){const g=Math.ceil(2*Math.PI*p/f);for(let m=0;m<g;m++){const v=m/g*2*Math.PI,E={x:Math.cos(v)*p,y:Math.sin(v)*p},R=Bn(t,E),T={x:(R.x%l+l)%l,y:(R.y%c+c)%c};if(!mc(T,r,a))return T}}return null}function Ta(t,r){const o=_e(t,r,"berryBush",void 0,l=>l.ownerId===t.id);return o?Jg(o.position,r,uS,dS):null}function _e(t,r,o,a,l){const c=r,f=a!==void 0?a:Math.max(r.mapDimensions.width,r.mapDimensions.height),p=c.search[o].byRadius(t.position,f);let g=null,m=f;for(const v of p){if(v.id===t.id||l&&!l(v))continue;const E=ae(t.position,v.position,r.mapDimensions.width,r.mapDimensions.height);E<m&&(m=E,g=v)}return g}function $a(t,r,o,a){return r.search[o].byRadius(t,a).length}function Hc(t,r){const o=r,a=o.search.human.byProperty("motherId",t),l=o.search.human.byProperty("fatherId",t);return a.length+l.length}function Ih(t,r,o){return r.search.human.byRadius(t.position,o).filter(c=>{if(c.id===t.id||c.gender===t.gender||!c.isAdult||c.hunger>=rt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const f=c.id===t.motherId||c.id===t.fatherId,p=t.id===c.motherId||t.id===c.fatherId;return!f&&!p})}function vc(t){if(t.length===0)return;const r=t.filter(l=>l.gender==="male"),o=t.filter(l=>l.gender==="female"),a=(l,c)=>l.age!==c.age?c.age-l.age:l.id-c.id;if(r.sort(a),r.length>0)return r[0];if(o.sort(a),o.length>0)return o[0]}function vr(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function en(t,r){const o=t,a=o.search.human.byProperty("motherId",r.id),l=o.search.human.byProperty("fatherId",r.id);return[...a,...l]}function xn(t,r){var f;const a=r.search.human.byProperty("activeAction","attacking");let l=null,c=1/0;for(const p of a){if(p.attackTargetId!==t)continue;const g=ae(p.position,((f=r.entities.entities.get(t))==null?void 0:f.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);g<c&&(l=p,c=g)}return l}function Ya(t,r,o){var l;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(l=t.partnerIds)!=null&&l.includes(r.id))return!0;if(t.motherId){const c=o.entities.entities.get(t.motherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(t.fatherId){const c=o.entities.entities.get(t.fatherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(r.motherId){const c=o.entities.entities.get(r.motherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}if(r.fatherId){const c=o.entities.entities.get(r.fatherId);if(c&&(c.motherId===t.id||c.fatherId===t.id))return!0}return!1}function Th(t,r){var c,f;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,a=r.motherId===t.motherId||r.fatherId===t.fatherId,l=((c=t.ancestorIds)==null?void 0:c.some(p=>r.ancestorIds.includes(p)))||((f=r.ancestorIds)==null?void 0:f.some(p=>t.ancestorIds.includes(p)));return o||a||l}function Yo(t,r){const o=[];if(t.motherId){const a=r.entities.entities.get(t.motherId);a&&o.push(a)}if(t.fatherId){const a=r.entities.entities.get(t.fatherId);a&&o.push(a)}return o}function em(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const a=r.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function Ch(t,r){var a;const o=new Set;if(t.motherId){const l=r.entities.entities.get(t.motherId);l&&o.add(l)}if(t.fatherId){const l=r.entities.entities.get(t.fatherId);l&&o.add(l)}return(a=t.partnerIds)==null||a.forEach(l=>{const c=r.entities.entities.get(l);c&&o.add(c)}),en(r,t).forEach(l=>o.add(l)),Array.from(o)}function tm(t,r,o,a){const c=r.search.human.byRadius(t.position,o);let f=null,p=1/0,g=1/0;for(const m of c){if(m.id===t.id||a&&!a(m))continue;let v=0;for(const R of r.entities.entities.values())R.type==="human"&&R.attackTargetId===m.id&&v++;const E=ae(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);(v<p||v===p&&E<g)&&(p=v,g=E,f=m)}return f}let ec=0;function Ca(){const t=fh[ec];return ec=(ec+1)%fh.length,t}function nm(t,r,o){r.leaderId=t.id,r.tribeBadge=t.tribeBadge,r.gender==="male"&&en(o,r).forEach(a=>{var l;if(nm(t,a,o),a.motherId&&((l=r.partnerIds)!=null&&l.includes(a.motherId))){const c=o.entities.entities.get(a.motherId);c&&(c.leaderId=t.id,c.tribeBadge=t.tribeBadge)}})}function LE(t,r){return r.search.human.byProperty("leaderId",t)}function Mi(t,r,o,a){return o.search.human.byRadius(t,a).filter(c=>c.leaderId!==r&&c.id!==r)}function rm(t,r,o){const a=o.search.human.byProperty("leaderId",t);let l=0;for(const c of a)c.attackTargetId===r&&l++;return l}function UE(t,r){var c;const o=new Map,a=Array.from(t.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(c=o.get(f.leaderId))==null||c.members.push(f));const l=Array.from(o.values()).map(f=>{const p=t.entities.entities.get(f.leaderId),g=f.members.filter(v=>v.isAdult).length,m=f.members.length-g;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:g,childCount:m,isPlayerTribe:f.leaderId===r,leaderAge:(p==null?void 0:p.age)??0,leaderGender:(p==null?void 0:p.gender)??"male"}});return l.sort((f,p)=>f.isPlayerTribe?-1:p.isPlayerTribe?1:p.adultCount+p.childCount-(f.adultCount+f.childCount)),l}function Ra(t,r){const o=r.search.human.byProperty("leaderId",t),a=r.entities.entities.get(t);return a&&(o.some(l=>l.id===t)||o.push(a)),o}function Bc(t,r,o,a){const l=o.search.berryBush.byRadius(t,r),c=o.search.human.byRadius(t,r).filter(g=>g.leaderId!==a);let f=l.length*SS;f+=c.length*ES;let p;if(c.length>0){const g={};for(const v of c)v.leaderId&&(g[v.leaderId]=(g[v.leaderId]||0)+1);let m=0;for(const v in g)g[v]>m&&(m=g[v],p=parseInt(v,10))}return{score:f,occupyingTribeId:p}}function Pa(t,r,o){let a=-1/0,l=null;for(let c=0;c<t.mapDimensions.width;c+=o)for(let f=0;f<t.mapDimensions.height;f+=o){const p={x:c,y:f},{score:g,occupyingTribeId:m}=Bc(p,Mc/2,t,r);g>a&&(a=g,l={position:p,score:g,occupyingTribeId:m})}return l}function Rh(t){return t.length===0?0:t.reduce((r,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,r+a},0)}function xc(t,r){for(const o of t)if(r.search.human.byProperty("attackTargetId",o.id).filter(l=>l.leaderId!==o.leaderId).length>0)return!0;return!1}const FE={id:ma,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:l}=a,c=a.deltaTime*(bt/qt);if(o.age+=c,o.age>=o.lifespan)return{nextState:Fo,data:{...t,enteredAt:l.time,previousState:ma}};const f=$o(o.position,o.spreadRadius,l.mapDimensions.width,l.mapDimensions.height);return mc(f,l,15)||zc(l.entities,f,l.time),{nextState:xr,data:{...t,enteredAt:l.time,previousState:ma}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},HE={id:Fo,update:t=>({nextState:Fo,data:t}),onEnter:(t,r)=>(Wc(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},BE=[RE,PE,FE,HE],ct="humanIdle",Br="humanMoving",ko="humanEating",Va="humanGathering",xo="humanProcreating",Ni="humanAttacking",va="humanPlanting",xE={id:ct,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ni,data:{...t,enteredAt:a.gameState.time,previousState:ct,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=kc?(o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.activeAction==="moving"?{nextState:Br,data:{...t,enteredAt:a.gameState.time,previousState:ct,targetPosition:o.targetPosition}}:o.activeAction==="gathering"?{nextState:Va,data:{...t,enteredAt:a.gameState.time,previousState:ct,targetPosition:o.targetPosition}}:o.activeAction==="eating"?{nextState:ko,data:{...t,enteredAt:a.gameState.time,previousState:ct}}:o.activeAction==="planting"&&o.targetPosition?{nextState:va,data:{...t,enteredAt:a.gameState.time,previousState:ct,plantingSpot:o.targetPosition}}:{nextState:ct,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function im(t){let r=xy;return t.hunger>=kc&&(r*=Gy),t.age>=Wy&&(r*=jy),r}const tc=5;class GE{constructor(){Ge(this,"id",Br)}update(r,o){const{entity:a,updateContext:l}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:Ni,data:{...r,enteredAt:l.gameState.time,previousState:Br,attackTargetId:a.attackTargetId,attackStartTime:l.gameState.time}};if(a.activeAction!=="moving")return{nextState:ct,data:{...r,enteredAt:l.gameState.time,previousState:Br}};let c=r.targetPosition;if(!c&&(a.direction.x!==0||a.direction.y!==0)&&(c={x:a.position.x+a.direction.x*tc*2,y:a.position.y+a.direction.y*tc*2}),!c)return{nextState:ct,data:{...r,enteredAt:l.gameState.time,previousState:Br}};const f=Le(a.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return a.direction=Be(f),a.acceleration=im(a),ae(a.position,c,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<tc?{nextState:ct,data:{...r,enteredAt:l.gameState.time,previousState:Br}}:{nextState:Br,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0,o.targetPosition=void 0}}const zE=new GE,nc=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,WE=""+new URL("gather-CU75596W.mp3",import.meta.url).href,jE=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,$E=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,YE=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,VE=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,XE=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,KE=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,QE=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href;var Ke=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.GameOver=9]="GameOver",t[t.ButtonClick=10]="ButtonClick",t))(Ke||{});const bE=new Map([[0,nc],[1,WE],[2,jE],[3,$E],[4,YE],[5,VE],[6,XE],[9,KE],[10,QE],[7,nc],[8,nc]]);let wo,Go;function qE(){if(!(typeof window>"u"))return Go}function om(){if(!(typeof window>"u"))return!wo&&typeof window.AudioContext=="function"&&(wo=new window.AudioContext,Go=wo.createGain(),Go.connect(wo.destination),ya(.1,!1)),wo}function ya(t,r){Go&&(Go.gain.value=r?0:t/10)}const sm=new Map;let la=!1,Ph=!1;async function ZE(){if(Ph||la)return;const t=om();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),la=!0,console.log("Starting sound loading...");const r=[];bE.forEach((o,a)=>{const l=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>t.decodeAudioData(c)).then(c=>{sm.set(a,c)}).catch(c=>{console.error(`Error loading sound ${Ke[a]} from ${o}:`,c)});r.push(l)});try{await Promise.all(r),Ph=!0,la=!1,console.log("All sounds loaded successfully.")}catch(o){la=!1,console.error("An error occurred while loading sounds:",o)}}function am(t,r){const o=om(),a=qE();if(!o||!a||a.gain.value===0)return;o.state==="suspended"&&o.resume();const l=sm.get(t);if(!l){console.warn(`Sound buffer not found for type: ${Ke[t]}`);return}const c=o.createBufferSource();c.buffer=l;const f=o.createGain(),p=o.createStereoPanner();let g=f;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const m=Le(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),v=ae(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(v>wh)return;const E=1-Math.pow(v/wh,TE);f.gain.value=Math.max(0,E);const R=Math.sin(m.x/v*(Math.PI/2));p.pan.value=isNaN(R)?0:R,f.connect(p),g=p}else{const m=t===Ke.GameOver?.4:.2;f.gain.value=m}c.connect(g),g.connect(a),c.start(0)}function mt(t,r,o){const a=vr(t.gameState);a&&am(r,{position:o,listenerPosition:a.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}const JE={id:ko,update:(t,r)=>{const{entity:o,updateContext:a}=r;return o.activeAction!=="eating"?{nextState:ct,data:{...t,enteredAt:a.gameState.time,previousState:ko}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>Wr&&(o.hunger=Math.max(0,o.hunger-Wr),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,mt(a,Ke.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(Qe(a.gameState,ve.Eating,o.position,et,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ct,data:{...t,enteredAt:a.gameState.time,previousState:ko}}:{nextState:ko,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class eA{constructor(){Ge(this,"id",Va)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const tA=new eA,nA=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),rA=(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:l}=a;if(l.time<(t.procreationEndTime||0))return{nextState:xo,data:t};const c=l.entities.entities.get(t.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<rt&&c.hunger<rt&&!o.procreationCooldown&&!c.procreationCooldown){const f=o.gender==="female"?o:c.gender==="female"?c:void 0,p=o.gender==="male"?o:c.gender==="male"?c:void 0;f&&p&&(f.isPregnant=!0,f.gestationTime=$y,f.fatherId=p.id,o.procreationCooldown=sh,c.procreationCooldown=sh,mt(a,Ke.Procreate,f.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:ct,data:{...t,enteredAt:l.time,previousState:xo}}},iA={id:xo,onEnter:nA,update:rA},oA={id:Ni,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ct,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ct,data:{...t}};const a=ae(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),l=Le(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=Be(l),a>Ha?r.entity.acceleration=im(r.entity):r.entity.acceleration=0,{nextState:Ni,data:t}}},sA={id:va,update:(t,r)=>{const{entity:o,updateContext:a}=r,{gameState:l}=a;if(l.time-t.enteredAt>=aS){if(o.food.filter(p=>p.type===pn.Berry).length>=ki){for(let p=0;p<ki;p++){const g=o.food.findIndex(m=>m.type===pn.Berry);g>-1&&o.food.splice(g,1)}zc(l.entities,t.plantingSpot,l.time)}return{nextState:ct,data:{...t,enteredAt:l.time,previousState:va}}}return{nextState:va,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},aA=[xE,zE,JE,tA,iA,oA,sA],kh=[...BE,...aA];function lA(t,r,o){const a=Ry(t,kh);if(!a)return ky(t),[t,r];const{nextState:l,data:c}=a.update(r,o);return Py(t,l)?[l,Cy(a,l,c,o,kh)]:[l,c]}function ka(t,r,o,a){t.karma[r.id]=(t.karma[r.id]||0)+o,uA(t,r,o*TS,a)}function uA(t,r,o,a){const l=Ch(t,a),c=Ch(r,a);for(const f of l)f.id!==r.id&&(f.karma[r.id]=(f.karma[r.id]||0)+o);for(const f of c)f.id!==t.id&&(t.karma[f.id]=(t.karma[f.id]||0)+o)}function cA(t,r){for(const o in t.karma){const a=t.karma[o],l=RS*r;a>0?t.karma[o]=Math.max(0,a-l):a<0&&(t.karma[o]=Math.min(0,a+l)),t.karma[o]===0&&delete t.karma[o]}}function dA(t,r,o){const a={};for(const l in r.karma)a[l]=(a[l]||0)+r.karma[l];if(o)for(const l in o.karma)a[l]=(a[l]||0)+o.karma[l];for(const l in a){const c=a[l]*CS;Math.abs(c)>.1&&(t.karma[l]=c)}}function fA(t,r,o){const{gameState:a}=r,l=o*(bt/qt);if(t.isAdult=t.age>=Nc,cA(t,l),t.leaderId&&t.leaderId!==t.id&&t.isAdult&&t.gender==="male"&&(!a.entities.entities.get(t.leaderId)||(t.karma[t.leaderId]??0)<=Er)&&(t.leaderId=t.id,t.tribeBadge=Ca(),nm(t,t,a)),t.isCallingToAttack&&t.callToAttackEndTime&&a.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.hitpoints<t.maxHitpoints){const f=1-t.hunger/100*tS,p=eS*f*l;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+p)}if(t.hunger+=o*(Eo/(bt/qt)),t.hunger>IE&&(!t.lastHungerEffectTime||a.time-t.lastHungerEffectTime>Po*2)&&(Qe(a,ve.Hunger,t.position,Po,t.id),t.lastHungerEffectTime=a.time),t.age+=o/Rg,t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=l,t.hunger+=o*((Eo*Yy-Eo)/(bt/qt)),(!t.lastPregnantEffectTime||a.time-t.lastPregnantEffectTime>Po*3)&&(Qe(a,ve.Pregnant,t.position,Po,t.id),t.lastPregnantEffectTime=a.time),t.gestationTime<=0&&(T1(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=l,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=l,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=l,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=l,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=l,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.leaderCallToAttackCooldown&&(t.leaderCallToAttackCooldown-=l,t.leaderCallToAttackCooldown<0&&(t.leaderCallToAttackCooldown=0)),t.isAdult?t.radius===Wg&&(t.radius=Tn):t.hunger+=o*((Eo*Vy-Eo)/(bt/qt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const f=[];if(t.motherId){const p=a.entities.entities.get(t.motherId);p&&f.push(p)}if(t.fatherId){const p=a.entities.entities.get(t.fatherId);p&&f.push(p)}for(const p of f)if(p.age>=Dg&&p.hunger>=Ky&&ae(t.position,p.position,a.mapDimensions.width,a.mapDimensions.height)<=Qy){t.food.pop(),p.hunger=Math.max(0,p.hunger-Wr),t.feedParentCooldownTime=by;break}}let c;if(t.hitpoints<=0?c="killed":t.hunger>=wt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-Wr)):c="hunger":t.age>=t.maxAge&&(c="oldAge"),c){if(t.leaderId===t.id){const f=vc(en(a,t));f?(f.leaderId=f.id,f.tribeBadge=t.tribeBadge,a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;(g.karma[f.id]??0)>Er?g.leaderId=f.id:(g.leaderId=g.id,g.tribeBadge=Ca())}})):a.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===t.id){const g=p;g.leaderId=void 0,g.tribeBadge=void 0}})}if(t.isPlayer){const f=vc(en(a,t));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=c)}I1(a.entities,t.position,t.gender,t.age,t.radius,t.id,a.time,t.food,t.hunger),Wc(a.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function pA(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/qy);const a=Math.floor(Ng*(1-t.decayProgress));t.food.length>a&&t.food.splice(a),t.decayProgress>=1&&t.food.length<=0&&Wc(r.gameState.entities,t.id)}var Qt=(t=>(t[t.StrategyBased=0]="StrategyBased",t[t.UtilityBased=1]="UtilityBased",t[t.BehaviorTreeBased=2]="BehaviorTreeBased",t))(Qt||{});function hA(t,r){t.aiBehaviorTree&&t.aiBlackboard?t.aiBehaviorTree.execute(t,r,t.aiBlackboard):(console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle")}class gA{check(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>xa||r.hitpoints<r.maxHitpoints*Yr)return null;if(r.attackTargetId){const f=a.entities.entities.get(r.attackTargetId);if(f&&ae(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<wa)return f}const l=xn(r.id,a);if(l)return l;for(const f of a.entities.entities.values())if(f.type==="human"){const p=f;if(p.motherId===r.id||p.fatherId===r.id){const g=xn(p.id,a);if(g)return g}}const c=tm(r,a,wa,f=>{const p=f;return(r.karma[p.id]||0)<Er});return c&&a.search.human.byProperty("attackTargetId",c.id).length<Lg?c:null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>et*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,et,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class mA{check(r,o){const{gameState:a}=o,l=a;if(!r.isAdult||r.hunger>mr)return null;const c=l.search.berryBush.byProperty("ownerId",r.id);if(c.length===0)return null;for(const f of c){const p=l.search.human.byRadius(f.position,mS);for(const g of p)if(g.id!==r.id&&!Ya(r,g,a)&&(r.karma[g.id]||0)<Er&&ae(g.position,f.position,a.mapDimensions.width,a.mapDimensions.height)<vS)return g}return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>et*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,et,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class vA{check(r,o){const{gameState:a}=o;if(!r.isAdult||!r.leaderId||r.id===r.leaderId||r.hunger>xa||r.hitpoints<r.maxHitpoints*Yr)return null;const l=a.entities.entities.get(r.leaderId);if(!l||!l.isCallingToAttack)return null;const c=Mi(l.position,l.id,a,xg);if(c.length===0)return null;c.sort((f,p)=>{const g=ae(r.position,f.position,a.mapDimensions.width,a.mapDimensions.height),m=ae(r.position,p.position,a.mapDimensions.width,a.mapDimensions.height);return g-m});for(const f of c)if(rm(l.id,f.id,a)<Gg)return f;return null}execute(r,o,a){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>et*5)&&(Qe(o.gameState,ve.TargetAcquired,r.position,et,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=a.id,r.targetPosition=void 0}}class yA{check(r){if(!r.isAdult||!r.isAdult&&r.activeAction!=="eating")return!1;if(r.activeAction==="eating"){const a=mr-Wr;return r.food.length<=0||r.hunger<=a,!0}return!!(r.isAdult&&r.hunger>=mr&&r.food.length>0)}execute(r){if(r.activeAction==="eating"){const a=mr-Wr;if(r.food.length<=0||r.hunger<=a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}return}r.isAdult&&r.hunger>=mr&&r.food.length>0&&(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating")}}class SA{check(r,o){if(r.isAdult&&r.hitpoints>r.maxHitpoints*Yr||r.isAdult&&r.hunger>Bg)return null;const a=xn(r.id,o.gameState);return a||null}execute(r,o,a){r.activeAction="moving";const l=Le(a.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=Be(l),f=Bn(r.position,cn(c,Uc));r.targetPosition={x:(f.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(f.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c}}class lm{check(r,o,a={onlyBerries:!1,hungerThreshold:Ug}){const l=r.food.length<r.maxFood,f=en(o.gameState,r).length>0?a.hungerThreshold*.5:a.hungerThreshold;if(!r.isAdult||!l||r.hunger<f)return null;const{gameState:p}=o,g=p,m=(O,w)=>{let k=null,W=1/0;for(const B of O){const x=ae(w,B.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);x<W&&(W=x,k=B)}return k},v=(O,w)=>{const k=g.search.berryBush.byRadius(w,O).filter(D=>D.food.length>0),W=a.onlyBerries?[]:g.search.humanCorpse.byRadius(w,O).filter(D=>D.food.length>0),B=[...k,...W],x=B.filter(D=>!("ownerId"in D&&D.ownerId));if(x.length>0)return m(x,r.position);const Z=B.filter(D=>{if("ownerId"in D&&D.ownerId){const ee=p.entities.entities.get(D.ownerId);return ee&&Ya(r,ee,p)}return!1});if(Z.length>0)return m(Z,r.position);if(r.hunger>=hS){const D=B.filter(ee=>{if("ownerId"in ee&&ee.ownerId){const Ee=p.entities.entities.get(ee.ownerId);return Ee&&(Ee.karma[r.id]||0)>Er}return!1});if(D.length>0)return m(D,r.position)}const L=B.filter(D=>{if("ownerId"in D&&D.ownerId){const ee=p.entities.entities.get(D.ownerId);return ee&&(ee.karma[r.id]||0)<=Er}return!1});return L.length>0?m(L,r.position):null},E=Math.max(p.mapDimensions.width,p.mapDimensions.height),R=v(E,r.position);if(R)return R;const T=_e(r,p,"berryBush",void 0,O=>O.food.length>0),N=_e(r,p,"humanCorpse",void 0,O=>O.food.length>0);if(T&&N){const O=ae(r.position,T.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),w=ae(r.position,N.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return O<=w?T:N}return T||N}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Le(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}}}class EA{check(){return!0}execute(r,o){const{gameState:a}=o;if(r.activeAction==="idle"||!r.activeAction){if(r.activeAction="idle",Math.random()<Oc){let l=r.position,c=Di;const f=r.leaderId&&r.leaderId!==r.id?a.entities.entities.get(r.leaderId):void 0;if(f)l=f.position,c=Hg;else if(r.isAdult){if(r.gender==="female"){const g=em(r,a);g&&(l=g.position,c=Fg)}}else{const g=Yo(r,a);g.length>0&&(l=g[0].position,c=Ga)}r.activeAction="moving",r.targetPosition=$o(l,c,a.mapDimensions.width,a.mapDimensions.height);const p=Le(r.position,r.targetPosition,a.mapDimensions.width,a.mapDimensions.height);r.direction=Be(p)}else r.direction={x:0,y:0},r.targetPosition=void 0;return}if(r.activeAction==="moving"&&r.targetPosition){ae(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0});return}r.activeAction!=="moving"&&(r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0)}}class AA{constructor(){Ge(this,"gatheringStrategy",new lm)}check(r,o){const{gameState:a}=o,l=r.food.filter(p=>p.type===pn.Berry).length>=lS,c=r.hunger<Ba;if(!r.isAdult||!c)return null;if(!l){const p=this.gatheringStrategy.check(r,o,{onlyBerries:!0,hungerThreshold:0});return(p==null?void 0:p.type)==="berryBush"?p:null}const f=Ta(r,a);return f||null}execute(r,o,a){"type"in a&&a.type==="berryBush"?this.gatheringStrategy.execute(r,o,a):typeof a=="object"&&"x"in a&&"y"in a&&(r.activeAction="planting",r.targetPosition=a)}}class _A{check(r,o){const{gameState:a}=o,l=r.gender==="male"&&r.age>Dc&&Hc(r.id,a)===0,c=$a(r.position,a,"berryBush",Wa);if(!(r.isAdult&&(l||r.hunger<rt&&(r.procreationCooldown||0)<=0&&c>=za)&&(r.gender==="female"?!r.isPregnant&&r.age<=xt:!0)))return null;const p=v=>{const E=v;return E.type==="human"&&E.id!==r.id&&E.gender!==r.gender&&E.isAdult&&(l||E.hunger<rt&&(E.procreationCooldown||0)<=0&&(r.karma[E.id]||0)>PS)?E.gender==="female"?!E.isPregnant&&E.age<=xt:!0:!1},g=_e(r,a,"human",Di*5,v=>p(v)&&(!v.partnerIds||v.partnerIds.length===0||v.partnerIds.includes(r.id)));return g||(l?null:_e(r,a,"human",Di*10,v=>{if(!p(v)||!v.partnerIds||v.partnerIds.length===0)return!1;const E=v.partnerIds[0];return(r.karma[E]||0)<=Er}))}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn)r.activeAction="procreating",r.targetPosition=a.position;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Le(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}}}class wA{check(r,o){if(r.isAdult||r.hunger<fn)return null;const{gameState:a}=o,l=f=>(f.id===r.motherId||f.id===r.fatherId)&&f.food.length>0;let c=_e(r,a,"human",jr,l);return c||(c=_e(r,a,"human",void 0,l)),c||!0}execute(r,o,a){const{gameState:l}=o;if(typeof a=="object"){const c=a;if(ae(r.position,c.position,l.mapDimensions.width,l.mapDimensions.height)>$r){r.activeAction="moving",r.targetPosition={...c.position};const p=Le(r.position,c.position,l.mapDimensions.width,l.mapDimensions.height);r.direction=Be(p)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}else{const c=Yo(r,l);if(c.length>0){const f=c[0];if(ae(r.position,f.position,l.mapDimensions.width,l.mapDimensions.height)>Ga){r.activeAction="moving",r.targetPosition={...f.position};const g=Le(r.position,f.position,l.mapDimensions.width,l.mapDimensions.height);r.direction=Be(g)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}else if(r.activeAction="idle",r.targetPosition=void 0,Math.random()<.05){r.activeAction="moving",r.targetPosition=$o(r.position,10,l.mapDimensions.width,l.mapDimensions.height);const f=Le(r.position,r.targetPosition,l.mapDimensions.width,l.mapDimensions.height);r.direction=Be(f)}else r.direction={x:0,y:0}}}}class IA{check(r,o){return!r.isAdult||r.food.length<=0||r.feedChildCooldownTime&&r.feedChildCooldownTime>0?null:_e(r,o.gameState,"human",jr,a=>{const l=a;return!l.isAdult&&(l.motherId===r.id||l.fatherId===r.id)&&l.hunger>=fn})}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>$r){r.activeAction="moving",r.targetPosition={...a.position};const c=Le(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}}class TA{check(r,o){if(!r.isAdult||r.food.length>0)return null;const{gameState:a}=o;if(a.search.human.byRadius(r.position,1e3).filter(g=>!g.isAdult&&(g.motherId===r.id||g.fatherId===r.id)&&g.hunger>=fn).length===0)return null;const f=(g,m)=>{const v=_e({...r,position:g},a,"berryBush",m,R=>R.food.length>0),E=_e({...r,position:g},a,"humanCorpse",m,R=>R.food.length>0);if(v&&E){const R=ae(g,v.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),T=ae(g,E.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return R<=T?v:E}return v||E},p=Math.max(a.mapDimensions.width,a.mapDimensions.height);return f(r.position,p)}execute(r,o,a){if(!a){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(ae(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...a.position};const c=Le(r.position,a.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Be(c)}}}class CA{check(r,o){const{gameState:a}=o,l=a;if(r.id!==r.leaderId||(r.leaderMetaStrategyCooldown??0)>0)return null;const c=Ra(r.id,l);if(c.length===0)return null;if(xc(c,l))return{decision:3};const f=Rh(c),{score:p}=Bc(r.position,Mc/2,l,r.id),g=Pa(l,r.id,Ia);if(!g||g.score<=p)return null;const m=g.score>p*zg;if(g.occupyingTribeId){const v=Ra(g.occupyingTribeId,l),E=Rh(v),R=f>E*AS;if(m&&R)return{decision:2,targetPosition:g.position,enemyTribeId:g.occupyingTribeId};{const T=Pa(l,r.id,Ia);if(T&&!T.occupyingTribeId&&T.score>p)return{decision:0,targetPosition:T.position}}}else if(m)return{decision:1,targetPosition:g.position};return null}execute(r,o,a){switch(r.leaderMetaStrategyCooldown=yS,a.decision){case 0:case 1:r.activeAction="moving",r.targetPosition=a.targetPosition;break;case 2:r.activeAction="moving",r.targetPosition=a.targetPosition,r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Sr;break;case 3:r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Sr,r.activeAction="idle",r.targetPosition=void 0;break}}}const RA=[new SA,new CA,new gA,new vA,new mA,new yA,new wA,new TA,new IA,new _A,new lm,new AA,new EA];var ke=(t=>(t.SATISFY_HUNGER="SATISFY_HUNGER",t.MAINTAIN_HEALTH="MAINTAIN_HEALTH",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSHES="PLANT_BUSHES",t.PROCREATE="PROCREATE",t.FEED_CHILDREN="FEED_CHILDREN",t.DEFEND_SELF="DEFEND_SELF",t.DEFEND_TRIBE="DEFEND_TRIBE",t.ELIMINATE_THREATS="ELIMINATE_THREATS",t.EXPLORE_AND_WANDER="EXPLORE_AND_WANDER",t))(ke||{}),Gt=(t=>(t.EAT="EAT",t.GATHER_FOOD="GATHER_FOOD",t.PLANT_BUSH="PLANT_BUSH",t.FLEE="FLEE",t.ATTACK_HUMAN="ATTACK_HUMAN",t.PROCREATE="PROCREATE",t.FEED_CHILD="FEED_CHILD",t.SEEK_FOOD_FROM_PARENT="SEEK_FOOD_FROM_PARENT",t.GATHER_FOOD_FOR_CHILD="GATHER_FOOD_FOR_CHILD",t.CALL_TO_ATTACK="CALL_TO_ATTACK",t.MIGRATE="MIGRATE",t.IDLE_WANDER="IDLE_WANDER",t))(Gt||{});const Dh=(t,r)=>{const{gameState:o}=r;if(!t.isAdult||t.hunger>xa||t.hitpoints<t.maxHitpoints*Yr)return null;const a=xn(t.id,o);if(a)return a;const l=tm(t,o,wa,c=>{const f=c;return(t.karma[f.id]||0)<Er});return l&&o.search.human.byProperty("attackTargetId",l.id).length<Lg?l:null},PA={type:Gt.ATTACK_HUMAN,getUtility(t,r,o){var l;if(o.type!==ke.ELIMINATE_THREATS&&o.type!==ke.DEFEND_SELF&&o.type!==ke.DEFEND_TRIBE)return 0;const a=Dh(t,r);return a?o.type===ke.DEFEND_SELF&&((l=xn(t.id,r.gameState))==null?void 0:l.id)===a.id?1:.8:0},execute(t,r){const o=Dh(t,r);if(!o){t.activeAction="idle";return}(!t.lastTargetAcquiredEffectTime||r.gameState.time-t.lastTargetAcquiredEffectTime>et*5)&&(Qe(r.gameState,ve.TargetAcquired,t.position,et,t.id),t.lastTargetAcquiredEffectTime=r.gameState.time),t.activeAction="attacking",t.attackTargetId=o.id,t.targetPosition=void 0}},kA={type:Gt.CALL_TO_ATTACK,getUtility(t,r,o){if(o.type!==ke.DEFEND_TRIBE&&o.type!==ke.ELIMINATE_THREATS||t.id!==t.leaderId||t.isCallingToAttack)return 0;const a=r.gameState,l=Ra(t.id,a);return o.type===ke.DEFEND_TRIBE&&xc(l,a)?.9:o.type===ke.ELIMINATE_THREATS&&Mi(t.position,t.id,a,Lc).length>0?.6:0},execute(t,r){t.isCallingToAttack=!0,t.callToAttackEndTime=r.gameState.time+Sr,Qe(r.gameState,ve.CallToAttack,t.position,Sr),mt(r,Ke.CallToAttack,t.position),t.activeAction="idle",t.targetPosition=void 0}},DA={type:Gt.EAT,getUtility(t,r,o){if(o.type!==ke.SATISFY_HUNGER)return 0;const a=t.food.length>0,l=t.hunger>=mr;return a&&l?1:0},execute(t){t.activeAction="eating",t.direction={x:0,y:0},t.targetPosition=void 0}},NA={type:Gt.FEED_CHILD,getUtility(t,r,o){return o.type!==ke.FEED_CHILDREN||!t.isAdult||t.food.length<=0||t.feedChildCooldownTime&&t.feedChildCooldownTime>0?0:_e(t,r.gameState,"human",jr,l=>{const c=l;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=fn})?1:0},execute(t,r){const o=_e(t,r.gameState,"human",jr,l=>{const c=l;return!c.isAdult&&(c.motherId===t.id||c.fatherId===t.id)&&c.hunger>=fn});if(!o){t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>$r){t.activeAction="moving",t.targetPosition={...o.position};const l=Le(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(l)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},OA={type:Gt.FLEE,getUtility(t,r,o){if(o.type!==ke.DEFEND_SELF)return 0;const a=t.hitpoints<t.maxHitpoints*Yr,l=xn(t.id,r.gameState);return a&&l?1:0},execute(t,r){const o=xn(t.id,r.gameState);if(!o){t.activeAction="idle";return}t.activeAction="moving";const a=Le(o.position,t.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),l=Be(a),c=Bn(t.position,cn(l,Uc));t.targetPosition={x:(c.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,y:(c.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height},t.direction=l,t.attackTargetId=void 0}};function Nh(t,r){const o=_e(t,r.gameState,"berryBush",void 0,l=>l.food.length>0),a=_e(t,r.gameState,"humanCorpse",void 0,l=>l.food.length>0);if(o&&a){const l=ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),c=ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return l<=c?o:a}return o||a}const MA={type:Gt.GATHER_FOOD,getUtility(t,r,o){return o.type!==ke.GATHER_FOOD||t.food.length>=t.maxFood?0:Nh(t,r)?.7:0},execute(t,r){const o=Nh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<tn)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const l=Le(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(l)}}},Oh=(t,r)=>{const{gameState:o}=r;return(l=>{const c=_e(t,o,"berryBush",l,p=>p.food.length>0),f=_e(t,o,"humanCorpse",l,p=>p.food.length>0);if(c&&f){const p=ae(t.position,c.position,o.mapDimensions.width,o.mapDimensions.height),g=ae(t.position,f.position,o.mapDimensions.width,o.mapDimensions.height);return p<=g?c:f}return c||f})()},LA={type:Gt.GATHER_FOOD_FOR_CHILD,getUtility(t,r,o){return o.type!==ke.FEED_CHILDREN||!t.isAdult||t.food.length>0||en(r.gameState,t).filter(c=>!c.isAdult&&c.hunger>=fn).length===0?0:Oh(t,r)?.8:0},execute(t,r){const o=Oh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<tn)t.activeAction="gathering",t.direction={x:0,y:0},t.targetPosition=void 0;else{t.activeAction="moving",t.targetPosition={...o.position};const l=Le(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(l)}}},UA={type:Gt.IDLE_WANDER,getUtility(t,r,o){return o.type===ke.EXPLORE_AND_WANDER?.1:0},execute(t,r){const{gameState:o}=r;if(t.activeAction==="moving"&&t.targetPosition){ae(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height)<tn&&(t.activeAction="idle",t.targetPosition=void 0,t.direction={x:0,y:0});return}if(t.activeAction==="idle"||!t.activeAction)if(Math.random()<Oc){let a=t.position,l=Di;const c=t.leaderId&&t.leaderId!==t.id?o.entities.entities.get(t.leaderId):void 0;if(c)a=c.position,l=Hg;else if(t.isAdult){if(t.gender==="female"){const p=em(t,o);p&&(a=p.position,l=Fg)}}else{const p=Yo(t,o);p.length>0&&(a=p[0].position,l=Ga)}t.activeAction="moving",t.targetPosition=$o(a,l,o.mapDimensions.width,o.mapDimensions.height);const f=Le(t.position,t.targetPosition,o.mapDimensions.width,o.mapDimensions.height);t.direction=Be(f)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0}},FA={type:Gt.MIGRATE,getUtility(t,r,o){if(o.type!==ke.EXPLORE_AND_WANDER||t.id!==t.leaderId)return 0;const a=r.gameState,{score:l}=Bc(t.position,Mc/2,a,t.id),c=Pa(a,t.id,Ia);return c&&c.score>l*zg?.8:0},execute(t,r){const o=r.gameState,a=Pa(o,t.id,Ia);a&&(t.activeAction="moving",t.targetPosition=a.position)}},HA={type:Gt.PLANT_BUSH,getUtility(t,r,o){if(o.type!==ke.PLANT_BUSHES)return 0;const a=t.food.filter(f=>f.type===pn.Berry).length>=ki;return!(t.hunger<Ba)||!a?0:Ta(t,r.gameState)?.8:0},execute(t,r){const o=Ta(t,r.gameState);o&&(t.activeAction="planting",t.targetPosition=o)}},Mh=(t,r)=>{const{gameState:o}=r,a=o,l=t.gender==="male"&&t.age>Dc&&Hc(t.id,o)===0,c=a.search.berryBush.byRadius(t.position,Wa).length;if(!(t.isAdult&&(l||t.hunger<rt&&(t.procreationCooldown||0)<=0&&c>=za)&&(t.gender==="female"?!t.isPregnant&&t.age<=xt:!0)))return null;const p=g=>{const m=g;return!(m.type==="human"&&m.id!==t.id&&m.gender!==t.gender&&m.isAdult)||!(m.hunger<rt&&(m.procreationCooldown||0)<=0)?!1:m.gender==="female"?!m.isPregnant&&m.age<=xt:!0};return _e(t,o,"human",Di*5,g=>p(g)&&(!g.partnerIds||g.partnerIds.length===0||g.partnerIds.includes(t.id)))},BA={type:Gt.PROCREATE,getUtility(t,r,o){return o.type!==ke.PROCREATE?0:Mh(t,r)?.8:0},execute(t,r){const o=Mh(t,r);if(!o){t.activeAction="idle";return}if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<tn)t.activeAction="procreating",t.targetPosition=o.position;else{t.activeAction="moving",t.targetPosition={...o.position};const l=Le(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(l)}}},xA={type:Gt.SEEK_FOOD_FROM_PARENT,getUtility(t,r,o){return o.type!==ke.SATISFY_HUNGER||t.isAdult||!(t.hunger>=fn)?0:_e(t,r.gameState,"human",jr,c=>(c.id===t.motherId||c.id===t.fatherId)&&c.food.length>0)?.9:0},execute(t,r){const o=_e(t,r.gameState,"human",jr,a=>(a.id===t.motherId||a.id===t.fatherId)&&a.food.length>0);if(o)if(ae(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>$r){t.activeAction="moving",t.targetPosition={...o.position};const l=Le(t.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);t.direction=Be(l)}else t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0;else t.activeAction="idle"}};class GA{constructor(){Ge(this,"type",ke.DEFEND_SELF)}getScore(r,o){if(!xn(r.id,o.gameState))return 0;const l=1-r.hitpoints/r.maxHitpoints;return Math.min(1,.5+l*.5)}}const zA=new GA;class WA{constructor(){Ge(this,"type",ke.DEFEND_TRIBE)}getScore(r,o){if(!r.leaderId)return 0;const a=o.gameState,l=Ra(r.leaderId,a);return xc(l,a)?1:0}}const jA=new WA;class $A{constructor(){Ge(this,"type",ke.ELIMINATE_THREATS)}getScore(r,o){return r.leaderId&&Mi(r.position,r.leaderId,o.gameState,wa).length>0?1:0}}const YA=new $A,VA={type:ke.EXPLORE_AND_WANDER,getScore(){return .05}};class XA{constructor(){Ge(this,"type",ke.FEED_CHILDREN)}getScore(r,o){if(!r.isAdult||r.food.length===0)return 0;const a=en(o.gameState,r);if(a.length===0)return 0;let l=0;for(const c of a)c.hunger>=fn&&c.hunger>l&&(l=c.hunger);return l===0?0:l/wt}}const KA=new XA,QA={type:ke.GATHER_FOOD,getScore(t,r){if(!t.isAdult||t.food.length>=t.maxFood)return 0;const o=1-t.food.length/t.maxFood,a=t.hunger/wt,l=en(r.gameState,t),c=l.length>0?.2*l.length:0,f=o+a+c;return Math.max(0,Math.min(f,1))}},bA={type:ke.MAINTAIN_HEALTH,getScore(t){const o=1-t.hitpoints/t.maxHitpoints;return Math.max(0,Math.min(o,1))}},qA={type:ke.PLANT_BUSHES,getScore(t,r){if(!t.isAdult||!t.leaderId||t.food.filter(m=>m.type===pn.Berry).length<ki||t.hunger>Ba)return 0;const a=LE(t.leaderId,r.gameState),l=new Set(a.map(m=>m.id)),c=r.gameState,p=Array.from(c.entities.entities.values()).filter(m=>m.type==="berryBush").filter(m=>m.ownerId&&l.has(m.ownerId)).length;if(p>=lh)return 0;const g=1-p/lh;return Math.max(0,Math.min(g,1))}};class ZA{constructor(){Ge(this,"type",ke.PROCREATE)}getScore(r,o){const{gameState:a}=o;if(!r.isAdult||r.hunger>=rt||(r.procreationCooldown||0)>0||r.gender==="female"&&(r.isPregnant||r.age>xt)||$a(r.position,a,"berryBush",Wa)<za)return 0;if(r.gender==="male"&&r.age>Dc&&Hc(r.id,a)===0)return 1;let c=0;r.gender==="female"?c=(r.age-Ro)/(xt-Ro):c=(r.age-Ro)/(r.maxAge-Ro);const f=.1+c*.7;return Math.max(0,Math.min(f,1))}}const JA=new ZA;class e1{constructor(){Ge(this,"type",ke.SATISFY_HUNGER)}getScore(r){const o=r.hunger/wt;return Math.max(0,Math.min(o,1))}}const t1=new e1,Lh=[t1,bA,QA,qA,JA,KA,zA,jA,YA,VA],Uh=[DA,MA,HA,OA,PA,BA,NA,xA,LA,kA,FA,UA];function n1(t,r){if(Uh.length===0||Lh.length===0){t.activeAction="idle";return}let o=null,a=-1/0;for(const l of Uh){let c=0;for(const f of Lh){const p=f.getScore(t,r);if(p<=0)continue;const g=l.getUtility(t,r,f);c+=p*g}c>a&&(a=c,o=l)}o&&a>0?o.execute(t,r):(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}function r1(t,r){switch(t.aiType){case Qt.BehaviorTreeBased:hA(t,r);return;case Qt.UtilityBased:n1(t,r);return;case Qt.StrategyBased:default:for(const o of RA){const a=o.check(t,r);if(a){o.execute(t,r,a);return}}t.activeAction||(t.activeAction="idle",t.direction={x:0,y:0},t.targetPosition=void 0)}}function i1(t,r){t.forces.push(cn(t.velocity,-.1));const o=cn(Be(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(a=>{r.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(t.velocity=cn(t.velocity,.5))}),t.debuffs=t.debuffs.filter(a=>r.gameState.time-a.startTime<a.duration),t.velocity=Bn(t.velocity,t.forces.reduce(Bn,{x:0,y:0})),Bo(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=Bn(t.position,cn(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?fA(t,r,r.deltaTime):t.type==="humanCorpse"&&pA(t,r),t.type==="human"&&(!t.isPlayer||r.gameState.isPlayerOnAutopilot)&&r1(t,r),t.stateMachine&&(t.stateMachine=lA(...t.stateMachine,{entity:t,updateContext:r}))}var q=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t))(q||{});function Xa(t){return Array.isArray(t)?t:[t,""]}class Zt{constructor(r,o,a=0){Ge(this,"name");Ge(this,"lastStatus");Ge(this,"depth");this.children=r,this.name=o,this.depth=a,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(r,o,a){for(const l of this.children){const[c,f]=Xa(l.execute(r,o,a));if(c!==q.SUCCESS)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,f),c}return this.lastStatus=q.SUCCESS,this.name&&a.recordNodeExecution(this.name,q.SUCCESS,o.gameState.time,this.depth,""),q.SUCCESS}}class um{constructor(r,o,a=0){Ge(this,"name");Ge(this,"lastStatus");Ge(this,"depth");this.children=r,this.name=o,this.depth=a,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(r,o,a){for(const l of this.children){const[c,f]=Xa(l.execute(r,o,a));if(c!==q.FAILURE)return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,f),c}return this.lastStatus=q.FAILURE,this.name&&a.recordNodeExecution(this.name,q.FAILURE,o.gameState.time,this.depth,""),q.FAILURE}}class yt{constructor(r,o,a=0){Ge(this,"name");Ge(this,"lastStatus");Ge(this,"depth");this.action=r,this.name=o,this.depth=a}execute(r,o,a){const[l,c]=Xa(this.action(r,o,a));return this.lastStatus=l,this.name&&a.recordNodeExecution(this.name,l,o.gameState.time,this.depth,c),l}}class Je{constructor(r,o,a=0){Ge(this,"name");Ge(this,"lastStatus");Ge(this,"depth");this.condition=r,this.name=o,this.depth=a}execute(r,o,a){let[l,c]=Xa(this.condition(r,o,a));const f=l?q.SUCCESS:q.FAILURE;return this.lastStatus=f,this.name&&a.recordNodeExecution(this.name,f,o.gameState.time,this.depth,c),f}}function o1(t){return new Zt([new Je((r,o)=>{const a=r.hunger>=mr,l=r.food.length>0,c=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&a&&l&&c),`${Math.floor(r.hunger-mr)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new yt(r=>(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating",q.RUNNING),"Eat",t+1)],"Eating",t)}function s1(t){return new Zt([new Je((r,o,a)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*Yr||r.isAdult&&r.hunger>Bg)return!1;const l=xn(r.id,o.gameState);return l?(a.set("fleeThreat",l),!0):!1},"Should Flee",t+1),new yt((r,o,a)=>{const l=a.get("fleeThreat");if(!l)return q.FAILURE;r.activeAction="moving";const c=Le(l.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=Be(c),p=Bn(r.position,cn(f,Uc));return r.targetPosition={x:(p.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(p.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=f,q.RUNNING},"Execute Flee",t+1)],"Flee",t)}function a1(t){return new Zt([new Je((r,o,a)=>{const l=r.food.length<r.maxFood;if(!r.isAdult||!l||r.hunger<Ug)return!1;const c=_e(r,o.gameState,"berryBush",void 0,g=>g.food.length>0),f=_e(r,o.gameState,"humanCorpse",void 0,g=>g.food.length>0);let p=null;if(c&&f){const g=ae(r.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=ae(r.position,f.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);p=g<=m?c:f}else p=c||f;return p?(a.set("foodSource",p),!0):!1},"Should Gather Food",t+1),new yt((r,o,a)=>{const l=a.get("foodSource");return l?ae(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<tn?(r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0,q.SUCCESS):(r.activeAction="moving",r.targetPosition={...l.position},r.direction=ja(r.position,l.position,o.gameState.mapDimensions),q.RUNNING):q.FAILURE},"Move To Food and Gather",t+1)],"Gather Food",t)}function l1(t){return new yt((r,o,a)=>{if(r.activeAction==="idle"||!r.activeAction){const l=a.get("lastWanderTime")?Number(a.get("lastWanderTime")):0,c=o.gameState.time-l;if(Math.random()<Oc&&c>uh){r.activeAction="moving";const f=Yo(r,o.gameState)[0];r.targetPosition=$o(!r.isAdult&&f?f.position:r.position,r.isAdult?Di:Ga,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);const p=Le(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=Be(p),a.set("wanderTarget",r.targetPosition),a.set("lastWanderTime",o.gameState.time),q.SUCCESS}else return r.direction={x:0,y:0},r.targetPosition=void 0,[q.FAILURE,String(uh-c<<0)]}if(a.get("wanderTarget")!==r.targetPosition&&(a.set("wanderTarget",void 0),r.targetPosition=void 0,r.activeAction="idle"),r.activeAction==="moving"&&r.targetPosition){const l=ae(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return l<tn?(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0},a.set("wanderTarget",void 0),q.SUCCESS):[q.RUNNING,String(l<<0)]}return q.FAILURE},"Idle/Wander",t)}const Fh=t=>t.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<rt&&(r.gender==="female"?!r.isPregnant&&r.age<=xt:!0));function u1(t){const r=new Je((c,f,p)=>{const g=Ih(c,f.gameState,tn),m=Fh(g);return m?(p.set("procreationPartner",m),!0):!1},"Find Immediate Partner",t+2),o=new yt((c,f,p)=>{var m;const g=p.get("procreationPartner");return g?(c.activeAction="procreating",c.targetPosition=void 0,c.direction={x:0,y:0},(m=c.partnerIds)!=null&&m.includes(g.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,g.id]:[g.id]),q.SUCCESS):q.FAILURE},"Start Procreating",t+2),a=new Je((c,f,p)=>{const g=Ih(c,f.gameState,gS),m=Fh(g);return m?(p.set("procreationPartner",m),!0):!1},"Locate Distant Partner",t+2),l=new yt((c,f,p)=>{const g=p.get("procreationPartner");if(!g)return q.FAILURE;c.activeAction="moving",c.targetPosition={...g.position};const m=Le(c.position,g.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height);return c.direction=Be(m),q.RUNNING},"Move Towards Partner",t+2);return new Zt([new Je(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<Ro||c.gender==="female"&&c.age>xt),"Is Fertile (age, not pregnant)",t+1),new Je(c=>c.hunger<rt,"Is Healthy (hunger)",t+1),new Je(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new Je((c,f)=>$a(c.position,f.gameState,"berryBush",Wa)>=za,"Is Environment Viable (food)",t+1),new um([new Zt([r,o],"Procreate With Immediate Partner",t+2),new Zt([a,l],"Seek Distant Partner",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const Io="attackTarget",rc=150;function yc(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}function c1(t,r,o){let a,l=1/0;for(const c of Object.values(t.entities.entities))if(c.type==="human"&&c.id!==r.id&&c.hitpoints>0&&c.tribeBadge!==r.tribeBadge){const f=yc(r.position,c.position);f<o&&f<l&&(l=f,a=c)}return a}function d1(t){return new Zt([new Je((r,o,a)=>{if(r.activeAction==="attacking"&&r.attackTargetId){const c=o.gameState.entities.entities.get(r.attackTargetId);if(c&&c.hitpoints>0&&yc(r.position,c.position)<=rc)return a.set(Io,c),!0}const l=c1(o.gameState,r,rc);return l?(a.set(Io,l),!0):(a.set(Io,void 0),!1)},"Find Attack Target",t+1),new yt((r,o,a)=>{const l=a.get(Io);return!l||l.hitpoints<=0||yc(r.position,l.position)>rc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),a.set(Io,void 0),q.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===l.id||(r.activeAction="attacking",r.attackTargetId=l.id),q.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const f1=(t,r,o)=>{const a=en(r.gameState,t).filter(f=>!f.isAdult);if(a.length===0)return q.FAILURE;let l=null,c=fn;for(const f of a)f.hunger>=c&&(c=f.hunger,l=f);return l?(o.set("targetChild",l),q.SUCCESS):q.FAILURE},p1=(t,r,o)=>{const a=o.get("targetChild");return a?ae(t.position,a.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>$r?(t.activeAction="moving",t.targetPosition=a.position,t.direction=ja(t.position,a.position,r.gameState.mapDimensions),q.RUNNING):(t.activeAction="idle",t.targetPosition=void 0,o.set("targetChild",void 0),q.SUCCESS):q.FAILURE};function h1(t){return new Zt([new Je(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new yt(f1,"Find Hungriest Child",t+1),new yt(p1,"Move To Child and Feed",t+1)],"Feed Child",t)}function g1(t){return new Zt([new Je(r=>!r.isAdult&&r.hunger>=fn,"Is Hungry Child",t+1),new yt((r,o,a)=>{const l=Yo(r,o.gameState);if(l.length===0)return q.FAILURE;const c=_e(r,o.gameState,"human",jr,f=>l.some(p=>p.id===f.id)&&f.food.length>0);return c?(a.set("targetParent",c),q.SUCCESS):q.FAILURE},"Find Parent With Food",t+1),new yt((r,o,a)=>{const l=a.get("targetParent");if(!l)return q.FAILURE;const c=ae(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",c<=$r?(r.targetPosition=void 0,q.SUCCESS):(r.targetPosition=l.position,r.direction=ja(r.position,l.position,o.gameState.mapDimensions),r.activeAction="moving",q.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}function m1(t){return new Zt([new Je(r=>{const o=r.food.filter(l=>l.type===pn.Berry).length>=ki,a=r.hunger<Ba;return(r.isAdult&&o&&a)??!1},"Can Plant",t+1),new Je((r,o)=>{const a=$a(r.position,o.gameState,"berryBush",cS),l=en(o.gameState,r);return!(l.length===0||a>=l.length*2)},"Has Not Enough Nearby Bushes",t+1),new yt((r,o,a)=>{const l="plantingSpot";let c=a.get(l);if(c&&r.activeAction!=="planting"&&(r.activeAction!=="moving"||r.targetPosition!==c))return a.set(l,void 0),q.FAILURE;if(!c){const p=Ta(r,o.gameState);if(p)a.set(l,p),c=p;else return q.FAILURE}return ae(r.position,c,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>tn?(r.activeAction="moving",r.targetPosition=c,r.direction=ja(r.position,c,o.gameState.mapDimensions),q.RUNNING):(r.activeAction="planting",r.targetPosition=c,q.RUNNING)},"Find, Move, and Plant",t+1)],"Plant Bush",t)}const v1="enemiesNearby";function y1(t){const r=new Je(f=>f.id===f.leaderId,"Is Leader?",t+1),o=new Je(f=>!f.isCallingToAttack,"Is Not Already Calling?",t+1),a=new Je(f=>(f.leaderCallToAttackCooldown??0)<=0,"Is Cooldown Ready?",t+1),l=new yt((f,p,g)=>{const m=Mi(f.position,f.id,p.gameState,Lc);return m.length>0?(g.set(v1,m),q.SUCCESS):q.FAILURE},"Check Enemies Nearby",t+1),c=new yt((f,p)=>(f.isCallingToAttack=!0,f.callToAttackEndTime=p.gameState.time+Sr,f.leaderCallToAttackCooldown=_S,Qe(p.gameState,ve.CallToAttack,f.position,Sr),mt(p,Ke.CallToAttack,f.position),f.activeAction="idle",f.targetPosition=void 0,q.SUCCESS),"Issue Call to Attack",t+1);return new Zt([r,o,a,l,c],"Leader Call to Attack",t)}const Hh="combatTarget";function S1(t){const r=new Je(f=>f.isAdult&&f.leaderId?f.id!==f.leaderId:!1,"Is Tribe Follower?",t+1),o=new Je(f=>f.hunger<xa&&f.hitpoints>=f.maxHitpoints*Yr,"Is Fit for Combat?",t+1),a=new Je((f,p)=>{const g=p.gameState.entities.entities.get(f.leaderId);return!!(g!=null&&g.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),l=new yt((f,p,g)=>{const{gameState:m}=p,v=m.entities.entities.get(f.leaderId);if(!v)return q.FAILURE;const E=Mi(v.position,v.id,m,xg);if(E.length===0)return q.FAILURE;E.sort((R,T)=>{const N=ae(f.position,R.position,m.mapDimensions.width,m.mapDimensions.height),O=ae(f.position,T.position,m.mapDimensions.width,m.mapDimensions.height);return N-O});for(const R of E)if(rm(v.id,R.id,m)<Gg)return g.set(Hh,R),q.SUCCESS;return q.FAILURE},"Find Best Target",t+1),c=new yt((f,p,g)=>{const m=g.get(Hh);return m?((!f.lastTargetAcquiredEffectTime||p.gameState.time-f.lastTargetAcquiredEffectTime>et*5)&&(Qe(p.gameState,ve.TargetAcquired,f.position,et,f.id),f.lastTargetAcquiredEffectTime=p.gameState.time),f.activeAction="attacking",f.attackTargetId=m.id,f.targetPosition=void 0,q.SUCCESS):q.FAILURE},"Attack Target",t+1);return new Zt([r,o,a,l,c],"Tribe Member Combat",t)}function E1(){return new um([s1(1),y1(1),S1(1),d1(1),h1(1),g1(1),o1(1),a1(1),m1(1),u1(1),l1(1)],"Human Behavior",0)}class A1{constructor(){Ge(this,"data",new Map);Ge(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}recordNodeExecution(r,o,a,l,c){const f=this.nodeExecutionData.get(r)||{lastExecuted:0,status:q.FAILURE,depth:0,debugInfo:"",executionHistory:[]};f.executionHistory.push({time:a,status:o});const p=Kg/qt*bt,g=a-p;f.executionHistory=f.executionHistory.filter(v=>v.time>=g);const m={...f,lastExecuted:a,status:o,depth:l,debugInfo:c};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}}function _1(t){t.gameState.entities.entities.forEach(o=>{i1(o,t)})}function w1(){return{entities:new Map,nextEntityId:1}}function Gc(t,r,o){const a={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(a.id,a),a}function zc(t,r,o){return Gc(t,"berryBush",{position:r,radius:gc,food:Array.from({length:Ny},()=>({type:pn.Berry})).map(l=>({...l,id:t.nextEntityId++})),maxFood:Dy,lifespan:My,age:0,spreadChance:Ly,spreadRadius:gc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[No,{enteredAt:o,previousState:void 0}]})}function Sc(t,r,o,a,l=!1,c=zy,f=kg,p,g,m=[],v,E){const R=c>=Nc;let T;return Math.random()<pS?T=Qt.BehaviorTreeBased:T=Math.random()<fS?Qt.UtilityBased:Qt.StrategyBased,Gc(t,"human",{position:r,radius:R?Tn:Wg,hunger:f,hitpoints:ah,maxHitpoints:ah,age:c,gender:a,isPlayer:l,food:[],maxFood:Pg,maxAge:Ho,isAdult:R,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:p,fatherId:g,ancestorIds:m,karma:{},stateMachine:[ct,{enteredAt:o,previousState:void 0}],leaderId:v,tribeBadge:E,aiType:T,aiBehaviorTree:T===Qt.BehaviorTreeBased?E1():void 0,aiBlackboard:T===Qt.BehaviorTreeBased?new A1:void 0})}function I1(t,r,o,a,l,c,f,p,g){return Gc(t,"humanCorpse",{position:r,radius:l,gender:o,age:a,originalHumanId:c,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(Ng*Math.max(rt-g,0)/rt,1)},()=>({type:pn.Meat})),...p].map(v=>({...v,id:t.nextEntityId++})),stateMachine:void 0})}function T1(t,r,o){const a=r?o.gameState.entities.entities.get(r):void 0,l=[...t.ancestorIds||[],t.id],c=a?[...a.ancestorIds||[],a.id]:[],f=[...l,...c],p=[...new Set(f)],g=p.slice(Math.max(p.length-Hy,0)),m=Math.random()<.5?"male":"female",v=Bn(t.position,{x:5,y:5}),E=Sc(o.gameState.entities,v,o.gameState.time,m,!1,0,kg/2,t.id,r,g,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return dA(E,t,a),mt(o,Ke.Birth,t.position),E}function Wc(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class C1{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let a=this.length++;for(;a>0;){const l=a-1>>1,c=this.values[l];if(o>=c)break;this.ids[a]=this.ids[l],this.values[a]=c,a=l}this.ids[a]=r,this.values[a]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],l=this.length>>1;let c=0;for(;c<l;){let f=(c<<1)+1;const p=f+1;let g=this.ids[f],m=this.values[f];const v=this.values[p];if(p<this.length&&v<m&&(f=p,g=this.ids[p],m=v),m>=a)break;this.ids[c]=g,this.values[c]=m,c=f}this.ids[c]=o,this.values[c]=a}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Bh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ic=3;class jc{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,l]=new Uint8Array(r,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=l>>4;if(c!==ic)throw new Error(`Got v${c} data when expected v${ic}.`);const f=Bh[l&15];if(!f)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(r,o+2,1),[g]=new Uint32Array(r,o+4,1);return new jc(g,p,f,void 0,r,o)}constructor(r,o=16,a=Float64Array,l=ArrayBuffer,c,f=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let p=r,g=p;this._levelBounds=[p*4];do p=Math.ceil(p/this.nodeSize),g+=p,this._levelBounds.push(g*4);while(p!==1);this.ArrayType=a,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const m=Bh.indexOf(this.ArrayType),v=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(m<0)throw new Error(`Unexpected typed array class: ${a}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,f+8,g*4),this._indices=new this.IndexArrayType(this.data,f+8+v,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new l(8+v+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+v,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(ic<<4)+m]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new C1}add(r,o,a=r,l=o){const c=this._pos>>2,f=this._boxes;return this._indices[c]=c,f[this._pos++]=r,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=l,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),l>this.maxY&&(this.maxY=l),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,l=new Uint32Array(this.numItems),c=65535;for(let f=0,p=0;f<this.numItems;f++){const g=r[p++],m=r[p++],v=r[p++],E=r[p++],R=Math.floor(c*((g+v)/2-this.minX)/o),T=Math.floor(c*((m+E)/2-this.minY)/a);l[f]=P1(R,T)}Ec(l,r,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,p=0;f<this._levelBounds.length-1;f++){const g=this._levelBounds[f];for(;p<g;){const m=p;let v=r[p++],E=r[p++],R=r[p++],T=r[p++];for(let N=1;N<this.nodeSize&&p<g;N++)v=Math.min(v,r[p++]),E=Math.min(E,r[p++]),R=Math.max(R,r[p++]),T=Math.max(T,r[p++]);this._indices[this._pos>>2]=m,r[this._pos++]=v,r[this._pos++]=E,r[this._pos++]=R,r[this._pos++]=T}}}search(r,o,a,l,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=[],g=[];for(;f!==void 0;){const m=Math.min(f+this.nodeSize*4,Gh(f,this._levelBounds));for(let v=f;v<m;v+=4){if(a<this._boxes[v]||l<this._boxes[v+1]||r>this._boxes[v+2]||o>this._boxes[v+3])continue;const E=this._indices[v>>2]|0;f>=this.numItems*4?p.push(E):(c===void 0||c(E))&&g.push(E)}f=p.pop()}return g}neighbors(r,o,a=1/0,l=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=this._queue,g=[],m=l*l;e:for(;f!==void 0;){const v=Math.min(f+this.nodeSize*4,Gh(f,this._levelBounds));for(let E=f;E<v;E+=4){const R=this._indices[E>>2]|0,T=xh(r,this._boxes[E],this._boxes[E+2]),N=xh(o,this._boxes[E+1],this._boxes[E+3]),O=T*T+N*N;O>m||(f>=this.numItems*4?p.push(R<<1,O):(c===void 0||c(R))&&p.push((R<<1)+1,O))}for(;p.length&&p.peek()&1;)if(p.peekValue()>m||(g.push(p.pop()>>1),g.length===a))break e;f=p.length?p.pop()>>1:void 0}return p.clear(),g}}function xh(t,r,o){return t<r?r-t:t<=o?0:t-o}function Gh(t,r){let o=0,a=r.length-1;for(;o<a;){const l=o+a>>1;r[l]>t?a=l:o=l+1}return r[o]}function Ec(t,r,o,a,l,c){if(Math.floor(a/c)>=Math.floor(l/c))return;const f=t[a+l>>1];let p=a-1,g=l+1;for(;;){do p++;while(t[p]<f);do g--;while(t[g]>f);if(p>=g)break;R1(t,r,o,p,g)}Ec(t,r,o,a,g,c),Ec(t,r,o,g+1,l,c)}function R1(t,r,o,a,l){const c=t[a];t[a]=t[l],t[l]=c;const f=4*a,p=4*l,g=r[f],m=r[f+1],v=r[f+2],E=r[f+3];r[f]=r[p],r[f+1]=r[p+1],r[f+2]=r[p+2],r[f+3]=r[p+3],r[p]=g,r[p+1]=m,r[p+2]=v,r[p+3]=E;const R=o[a];o[a]=o[l],o[l]=R}function P1(t,r){let o=t^r,a=65535^o,l=65535^(t|r),c=t&(r^65535),f=o|a>>1,p=o>>1^o,g=l>>1^a&c>>1^l,m=o&l>>1^c>>1^c;o=f,a=p,l=g,c=m,f=o&o>>2^a&a>>2,p=o&a>>2^a&(o^a)>>2,g^=o&l>>2^a&c>>2,m^=a&l>>2^(o^a)&c>>2,o=f,a=p,l=g,c=m,f=o&o>>4^a&a>>4,p=o&a>>4^a&(o^a)>>4,g^=o&l>>4^a&c>>4,m^=a&l>>4^(o^a)&c>>4,o=f,a=p,l=g,c=m,g^=o&l>>8^a&c>>8,m^=a&l>>8^(o^a)&c>>8,o=g^g>>1,a=m^m>>1;let v=t^r,E=a|65535^(v|o);return v=(v|v<<8)&16711935,v=(v|v<<4)&252645135,v=(v|v<<2)&858993459,v=(v|v<<1)&1431655765,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,(E<<1|v)>>>0}function oc(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new jc(t.length),a=new Map;for(const c of t)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(p=>t[p])},byRadius(c,f){return o.neighbors(c.x,c.y,void 0,f).map(g=>t[g])},byProperty(c,f){var p;if(!a.has(c)){const g=new Map;for(const m of t){const v=m[c];g.has(v)||g.set(v,[]),g.get(v).push(m)}a.set(c,g)}return((p=a.get(c))==null?void 0:p.get(f))||[]},resetPropertyCache(){a.clear()}}}function cm(t){const r=Array.from(t.entities.entities.values()),o=r.filter(f=>f.type==="human"),a=r.filter(f=>f.type==="berryBush"),l=r.filter(f=>f.type==="humanCorpse");return{...t,search:{human:oc(o),berryBush:oc(a),humanCorpse:oc(l)}}}var hr=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t))(hr||{}),zo=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t))(zo||{}),_t=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(_t||{});const k1=[{key:hr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:hr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>By,isCompleted:!1,minDisplayTime:_h,highlightedUIElements:[zo.HUNGER_BAR]},{key:hr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!_e(r,t,"berryBush",Nt*5,a=>a.food.length>0),getTargets:(t,r)=>{const o=[];for(const a of t.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&ae(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:_h},{key:hr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=_e(r,t,"berryBush",Nt,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:hr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[zo.FOOD_BAR]},{key:hr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>en(t,r).length>0,getTargets:(t,r)=>{const o=_e(r,t,"human",Nt,a=>{const l=a;return(l.id!==r.id&&l.gender!==r.gender&&l.isAdult&&r.isAdult&&l.hunger<rt&&r.hunger<rt&&(l.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(l.gender==="female"?!l.isPregnant&&l.age<=xt:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:hr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>Zg(t,r).some(a=>a.type===_n.PlantBush)&&t.hasPlayerPlantedBush===!0,isCompleted:!1}];function D1(){return{steps:k1.map(t=>({...t,isCompleted:!1}))}}function N1(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:_t.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function O1(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function M1(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=vr(t);if(!a){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=t.tutorial.steps[o.currentStepIndex];if(!l){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/SE;switch(o.transitionState){case _t.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=c*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=_t.ACTIVE);break;case _t.ACTIVE:{(t.time-(o.stepStartTime||t.time)>=(l.minDisplayTime||0)&&l.condition(t,a)||t.isPlayerOnAutopilot)&&(l.isCompleted=!0,o.completedSteps.add(l.key),o.transitionState=_t.FADING_OUT);break}case _t.FADING_OUT:if(o.transitionAlpha-=c*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const p=O1(t);p!==null?(o.currentStepIndex=p,o.transitionState=_t.FADING_IN):(o.isActive=!1,o.transitionState=_t.INACTIVE)}break}o.transitionState!==_t.FADING_OUT&&o.transitionState!==_t.INACTIVE?(l.getTargets?o.highlightedEntityIds=new Set(l.getTargets(t,a)):o.highlightedEntityIds.clear(),l.highlightedUIElements?o.activeUIHighlights=new Set(l.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function L1(){const t=w1(),r=0;for(let v=0;v<Uy;v++){const E={x:Math.random()*Vu,y:Math.random()*Xu};zc(t,E,r)}const o=Vu/2,a=Xu/2,l=Sc(t,{x:o,y:a},r,"male",!0);Sc(t,{x:o+50,y:a},r,"female",!1);const c=[{id:"autopilotButton",action:In.ToggleAutopilot,currentWidth:Oo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:In.ToggleMute,currentWidth:Oo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:In.TogglePause,currentWidth:Oo,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=D1(),p=N1(),g={time:r,entities:t,mapDimensions:{width:Vu,height:Xu},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...l.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:CE,isMuted:!1,uiButtons:c,tutorial:f,tutorialState:p},m=cm(g);return console.log("Game world initialized:",m),m}function U1(){return console.log("Tribe game initialized with detailed 2D world state."),L1()}const F1="humanProcreation",H1="human",B1="human",x1=Nt,G1=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(a,l)=>a.isAdult&&a.hunger<rt&&(a.procreationCooldown||0)<=0?l?!a.isPregnant&&a.age<=xt:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},z1=(t,r,o)=>{var v,E;const{gameState:a}=o,l={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},c=[...t.partnerIds||[]],f=[...r.partnerIds||[]],p=t.gender==="male"?t:r,g=t.gender==="female"?t:r,m=(p.partnerIds||[]).length===0;t.stateMachine=[xo,{partnerId:r.id,previousState:(v=t.stateMachine)==null?void 0:v[0]}],r.stateMachine=[xo,{partnerId:t.id,previousState:(E=r.stateMachine)==null?void 0:E[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id);for(const R of c)if(R!==r.id){const T=a.entities.entities.get(R);T&&ka(t,T,ch,a)}for(const R of f)if(R!==t.id){const T=a.entities.entities.get(R);T&&ka(r,T,ch,a)}if(m&&p.leaderId&&p.leaderId!==p.id){const R=a.entities.entities.get(p.leaderId);if(R){const T=Th(p,R),N=Th(g,R);if(!T&&!N){const O=Ca();p.leaderId=p.id,p.tribeBadge=O,g.leaderId=p.id,g.tribeBadge=O}}}else if(!t.leaderId&&!r.leaderId&&p&&g){const R=Ca();p.leaderId=p.id,p.tribeBadge=R,g.leaderId=p.id,g.tribeBadge=R}t.activeAction=void 0,Qe(a,ve.Procreation,l,Po),Qe(a,ve.Partnered,t.position,et,t.id),Qe(a,ve.Partnered,r.position,et,r.id),t.lastPartneredEffectTime=a.time,r.lastPartneredEffectTime=a.time,r.activeAction=void 0,mt(o,Ke.Procreate,l)},W1={id:F1,sourceType:H1,targetType:B1,maxDistance:x1,checker:G1,perform:z1},j1={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:$r,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=fn,perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-Wr),t.feedChildCooldownTime=Xy,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(Qe(o.gameState,ve.ChildFed,r.position,et,r.id),r.lastChildFedEffectTime=o.gameState.time),mt(o,Ke.ChildFed,r.position)}},$1={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Ha,checker:(t,r,o)=>{var c;if(((c=t.stateMachine)==null?void 0:c[0])!==Ni||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const a=t.stateMachine[1];return o.gameState.time-a.attackStartTime>=Og},perform:(t,r,o)=>{ka(t,r,wS,o.gameState);const a=Le(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),l=NE(Be(a),r.direction);if(Math.abs(l)<oS*Math.PI/180&&Math.random()<sS)Qe(o.gameState,ve.AttackDeflected,r.position,et,r.id);else{let p=Zy;t.gender==="male"&&(p*=nS),t.isAdult||(p*=rS),(!r.isAdult||r.age>=Dg)&&t.isAdult&&(p*=iS),r.hitpoints-=p,Qe(o.gameState,ve.Hit,r.position,et,r.id);const m=Le(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),v=cn(m,Jy);r.forces.push(v),r.hitpoints<=0?mt(o,Ke.HumanDeath,r.position):mt(o,Ke.Attack,t.position)}t.attackCooldown=Mg;const f=t.stateMachine[1];f.attackStartTime=o.gameState.time,Qe(o.gameState,ve.Attack,t.position,et,t.id)}},Y1={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Tn*2,checker:(t,r,{gameState:o})=>ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const a=ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const c=(t.radius+r.radius-a)*.05,f=Be(kE(t.position,r.position)),p=cn(f,c);t.forces.push(p),r.forces.push(cn(p,-1))}},V1={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Nt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===Va&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();if(a&&t.food.push(a),r.ownerId&&r.ownerId!==t.id){const l=o.gameState.entities.entities.get(r.ownerId);l&&!Ya(t,l,o.gameState)&&ka(l,t,IS,o.gameState)}t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+Fy,Qe(o.gameState,ve.BushClaimed,r.position,et),mt(o,Ke.Gather,t.position)}},X1={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Nt,checker:(t,r,o)=>{var a;return t.isAdult&&r.food.length>0&&((a=t.stateMachine)==null?void 0:a[0])===Va&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const a=r.food.pop();a&&t.food.push(a),t.gatheringCooldownTime=o.gameState.time+1,mt(o,Ke.Gather,t.position)}},K1=[V1,X1],Q1=[Y1,...K1,W1,j1,$1];function b1(t){const{gameState:r}=t,o=r,a=Array.from(r.entities.entities.values());for(const l of Q1)for(const c of a){if(l.sourceType&&c.type!==l.sourceType)continue;const f=o.search[l.targetType].byRadius(c.position,l.maxDistance);for(const p of f){if(c.id===p.id)continue;ae(c.position,p.position,r.mapDimensions.width,r.mapDimensions.height)<=l.maxDistance&&l.checker(c,p,t)&&l.perform(c,p,t)}}}function q1(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const Z1=1/60;function J1(t,r){const o=vr(t);o&&(t.viewportCenter=qg(t.viewportCenter,o.position,Cg*r))}function zh(t,r){if(t.isPaused)return t;for(;r>0;){const o=cm(t),a=Math.min(r,Z1);if(o.gameOver)return o;const l=a*(bt/qt);o.time+=l,J1(o,a),_1({gameState:o,deltaTime:a}),b1({gameState:o,deltaTime:a}),q1(o),M1(o,a),t=o,r-=a}return t}const Ac=10,e_=3,Wh=Ac*.7;function t_(t,r,o,a,l){const{position:c,food:f,maxFood:p,ownerId:g,claimedUntil:m}=r;if(t.beginPath(),t.arc(c.x,c.y,Ac,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),g&&m&&m>l&&a){const v=o.entities.entities.get(g);if(v){let E;v.id===a.id?E=Fc:Ya(a,v,o)?E=DS:E=Vg,E&&(t.strokeStyle=E,t.lineWidth=1+Math.sin(l*2)*.5,t.beginPath(),t.arc(c.x,c.y,Ac+2,0,Math.PI*2),t.stroke())}}if(f.length>0){const v=Math.PI*2/Math.min(f.length,p);for(let E=0;E<f.length;E++){const R=E*v,T=c.x+Wh*Math.cos(R),N=c.y+Wh*Math.sin(R);t.beginPath(),t.arc(T,N,e_,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}const le=(t,r,o,a,l,c,f)=>{c==="transparent"||a<=0||l<=0||(t.fillStyle=c,t.fillRect(Math.floor(r*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(l*f)))},jh=10,$h=10,En=6,Fn=4,ua=2,n_=5,Kt=4,r_=2,gt=4,i_=2,ze=3,yi=2,gr=0,Mo=gr+Fn-1,At=Mo,Xe=Mo+Kt-1,o_="rgba(0, 0, 0, 0.4)",s_=4,a_=1,$c={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,a,l,c,f,p="male",g=20,m=[1,0],v=!1,E=0){const R=["dead","stunned"].includes(f),T=R?$h+4:jh,N=R?jh+4:$h+ze,O=.15,w=Math.min(a*(1-2*O)/T,l*(1-2*O)/N),k=T*w,W=N*w,B=r+(a-k)/2,x=o+(l-W)/2;t.save(),m[0]<0&&!R?(t.translate(B+k,x),t.scale(-1,1)):t.translate(B,x);const L="#D09A5A",D=g>50?"#BDBDBD":"#281808",ee="#7F5C4A",Ee="#6B4F3A",Re="#E0D8C0",be="#A0522D",Te=1-Math.max(0,Math.min(100,E))/100*.2,Se=p==="male"?1.1:.9,De=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let ye=n_*Te*Se*De,he=r_*Te*Se*De,te=i_*Te*De;v&&p==="female"&&(ye*=1.5);const G=Math.round((T-ye)/2),$=Math.round((T-En)/2),j=G-he,_=G+ye,M=1,V=G+(ye/2-M/2)-te,re=G+(ye/2+M/2),ne=m[1]<-.2&&Math.abs(m[0])<.7,ue=K=>{t.fillStyle=o_,t.beginPath();const se=T/2,Ie=K;t.ellipse(Math.floor(se*w),Math.floor(Ie*w),Math.max(1,Math.floor(s_*w)),Math.max(1,Math.floor(a_*w)),0,0,2*Math.PI),t.fill()},fe=(K,se)=>{p==="male"?(le(t,G,Mo+K,ye,Kt-yi,se,w),le(t,G,Mo+Kt-yi+K,ye,yi,ee,w)):le(t,G,Mo+K,ye,Kt,Ee,w)},pe=(K,se)=>{ne?le(t,$,gr+K,En,Fn,D,w):(le(t,$,gr+K,En,Fn,se,w),le(t,$,gr+K,En,ua,D,w),p==="female"?(le(t,$-1,gr+ua+K,1,Fn,D,w),le(t,$+En,gr+ua+K,1,Fn,D,w)):le(t,$+1,gr+2+K,En-2,Fn-2,D,w))};switch(f){case"idle":{const K=c*Math.PI*2,se=Math.sin(K)*.5,de=(Math.cos(K*2)+1)*.25;ue(Xe+ze+1),le(t,V+se,Xe+de,te,ze,L,w),le(t,re-se,Xe+de,te,ze,L,w),fe(de,L),le(t,j,At+de,he,gt,L,w),le(t,_,At+de,he,gt,L,w),pe(de,L);break}case"walk":{const K=c*Math.PI*2,se=Math.sin(K)*2,de=Math.abs(Math.cos(K))*1;ue(Xe+ze+1),le(t,V+se,Xe+de,te,ze,L,w),le(t,re-se,Xe+de,te,ze,L,w),fe(de,L),le(t,j-se,At+de,he,gt,L,w),le(t,_+se,At+de,he,gt,L,w),pe(de,L);break}case"gathering":{const K=c*Math.PI*2,se=1,Ie=(Math.sin(K)+1)/2*2,de=se+Math.abs(Math.cos(K))*.5;ue(Xe+ze+1),le(t,V,Xe+de,te,ze-se,L,w),le(t,re,Xe+de,te,ze-se,L,w),fe(de,L),le(t,j+1,At+de-Ie,he,gt,L,w),le(t,_-1,At+de-Ie,he,gt,L,w),pe(de,L);break}case"eat":{ue(Xe+ze+1),le(t,V,Xe+1,te,ze-1,L,w),le(t,re,Xe+1,te,ze-1,L,w),fe(1,L);const Ie=(Math.sin(c*Math.PI*4)+1)/2,de=$+En/2,Cn=gr+Fn/2,Ot=_+(de-_)*Ie,zt=At+1+(Cn-(At+1))*Ie;le(t,j,At+1,he,gt,L,w),le(t,Ot,zt,he,gt,L,w),le(t,Ot,zt-1,1,1,be,w),pe(1,L);break}case"procreate":{const K=(Math.sin(c*Math.PI*8)+1)/4,se=(Math.sin(c*Math.PI*6)+1)*.5,Ie=1.5,de=Ie-se;ue(Xe+ze+1),le(t,V,Xe+de,te,ze-Ie,L,w),le(t,re,Xe+de,te,ze-Ie,L,w),fe(de,L),le(t,j,At+de,he,gt,L,w),le(t,_,At+de,he,gt,L,w),pe(de,L),t.globalAlpha=K,fe(de,"white"),t.globalAlpha=1;break}case"attacking":{const K=Math.sin(c*Math.PI)*1.5,se=Math.abs(Math.sin(c*Math.PI));ue(Xe+ze+1),le(t,V-K,Xe+se,te,ze,L,w),le(t,re+K*.5,Xe+se,te,ze,L,w),fe(se,L),le(t,j,At+se-2,he,gt,L,w),le(t,_,At+se-2.5,he,gt,L,w),pe(se,L);break}case"defending":{ue(Xe+ze+1),le(t,V,Xe+1,te,ze-1,L,w),le(t,re,Xe+1,te,ze-1,L,w),fe(1,L),le(t,j-1,At+1-1,he,gt,L,w),le(t,_+1,At+1-1,he,gt,L,w),pe(1,L);break}case"stunned":case"dead":{const K=f==="dead",se=K?Math.min(1,c):0,Ie=se>.5?Re:L,de=p==="male"?ee:Ee,Cn=se>.8?"transparent":D,Ot=T/2,zt=N/2,_r=2;ue(N-1),le(t,Ot-te-_r,zt,te,ze,Ie,w),le(t,Ot+_r,zt,te,ze,Ie,w),le(t,Ot-he-_r,zt-Kt+1,he,gt,Ie,w),le(t,Ot+_r,zt-Kt+1,he,gt,Ie,w);const Rn=Ot-ye/2,Gn=zt-Kt/2;p==="male"?(se<.7&&le(t,Rn,Gn+Kt-yi,ye,yi,de,w),le(t,Rn,Gn,ye,Kt-yi,Ie,w)):se<.7?le(t,Rn,Gn,ye,Kt,de,w):le(t,Rn,Gn,ye,Kt,Ie,w);const Vr=Ot-En/2,zn=zt-Kt/2-Fn+1;if(le(t,Vr,zn,En,Fn,Ie,w),Cn!=="transparent"&&le(t,Vr,zn,En,ua,Cn,w),K&&se>.6){const Wn="#B0A890";for(let wr=0;wr<3;wr++)le(t,Rn+1,Gn+wr*1+1,ye-2,.5,Wn,w)}break}default:le(t,0,0,T,N,"magenta",w);break}t.restore()}};function l_(t,r){const{position:o,gender:a,age:l,decayProgress:c,food:f,radius:p}=r;if(t.save(),t.globalAlpha=1-c,$c.render(t,o.x-p,o.y-p,p*2,p*2,c,"dead",a,l,[0,0],!1,0),t.restore(),f.length>0){t.save(),t.font=`${YS}px Arial`,t.textAlign="center",t.textBaseline="middle";const g=Tn*.9,m=Math.PI/Pg*3;f.forEach((v,E)=>{const R=E*m,T=o.x+g*Math.cos(R)*Math.atan2(E,E),N=o.y+g*Math.sin(R)*Math.atan2(E,E),O=bg[v.type];t.fillText(O,T,N)}),t.restore()}}const u_=25,c_=0,Yh=28;function d_(t,r,o,a,l,c,f,p,g){t.save();const m=r.x-f.x+p/2,v=r.y-f.y+g/2;t.strokeStyle=a,t.lineWidth=c,t.setLineDash(l),t.beginPath(),t.arc(m,v,o+Xg,0,2*Math.PI),t.stroke(),t.restore()}function f_(t,r,o,a,l,c){if(r.length===0)return;t.save(),r.forEach(v=>{v.targetEntity&&d_(t,v.targetEntity.position,v.targetEntity.radius,NS,OS,2,a,l,c)}),t.font=`${dh}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const f=o.position.x-a.x+l/2,p=o.position.y-a.y+c/2;let g=0,m={};r.forEach(v=>{const E=ME[v.type];if(v.targetEntity){m[v.targetEntity.id]=(m[v.targetEntity.id]||0)+1;const R=v.targetEntity.position.x-a.x+l/2,T=v.targetEntity.position.y-a.y+c/2,N=`${E}${v.key.toUpperCase()}`,O=T-v.targetEntity.radius-Xg-dh/2-(m[v.targetEntity.id]-1)*Yh;t.fillText(N,R,O)}else{t.textAlign="left";const R=`${E}${v.key.toUpperCase()}`,T=f+u_,O=p+c_+g*Yh;t.fillText(R,T,O),g++,t.textAlign="center"}}),t.restore()}function p_(t,r){t.save(),t.fillStyle=r.backgroundColor,t.fillRect(r.rect.x,r.rect.y,r.rect.width,r.rect.height),t.fillStyle=r.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,r.rect.x+r.rect.width/2,r.rect.y+r.rect.height/2),t.restore()}function wi(t,r,o,a,l,c,f,p){t.save(),t.fillStyle=f,t.fillRect(r,o,a,l),t.fillStyle=p,t.fillRect(r,o,a*Math.max(0,c),l),t.restore()}function h_(t,r,o,a,l,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*l;let p;f>c||f+(a.length-1)*4>c?p=(c-f)/(a.length-1):p=4,a.length===1&&(p=0);for(let g=0;g<a.length;g++){const m=bg[a[g].type];t.fillText(m,r+g*(l+p),o)}t.restore()}function g_(t,r,o,a,l){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=l,t.strokeStyle=l,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function Wo(t,r,o,a,l,c=!1,f=!1,p=!1,g=!1){a<Nc&&(o=o*.75),$c.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",l,a,[0,0],!1,0);let m,v;c?(m=VS,v=Fc):f?(m=XS,v=Yg):p?(m=KS,v=$g):g&&(m=QS,v=jg),m&&v&&g_(t,r,o/2,m,v)}function m_(t,r,o,a,l,c){if(t.save(),a.length===0){t.restore();return}const f=a.length*l,p=4;let g;const m=f+(a.length-1)*p;a.length>1&&m>c?g=(c-f)/(a.length-1):g=p,a.length<=1&&(g=0);for(let v=0;v<a.length;v++){const{member:E,isPlayer:R,isHeir:T,isPartner:N,isParent:O}=a[v],w=r+v*(l+g)+l/2,k=o+l/4;Wo(t,{x:w,y:k},l,E.age,E.gender,R,T,N,O)}t.restore()}function v_(t,r,o,a){if(r.length===0)return;t.save();const l=cr,c=" 00",f=" 00";t.font=`${Ku}px "Press Start 2P", Arial`;const p=t.measureText(c).width,g=t.measureText(f).width,m=cr+ia+cr+dr+p+cr/2+dr+g,v=r.length*oa+(r.length-1)*hh,E=a-v-cr;t.fillStyle=qS,t.fillRect(l,E,m,v);for(let R=0;R<r.length;R++){const T=r[R],N=E+R*(oa+hh),O=N+oa/2;T.isPlayerTribe&&(t.fillStyle=bS,t.fillRect(l,N,m,oa));let w=l+cr;t.font=`${ia}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(T.tribeBadge,w,O-ia/4),w+=ia+cr*1.1,T.adultCount>0&&(Wo(t,{x:w+dr/2,y:O},dr,25,"male"),w+=dr/2,t.font=`${Ku}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${T.adultCount}`,w,O),w+=t.measureText(` ${T.adultCount}`).width+cr/2),T.childCount>0&&(Wo(t,{x:w+dr/2,y:O},dr,1,"female"),w+=dr/2,t.font=`${Ku}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${T.childCount}`,w,O))}t.restore()}function y_(t,r,o,a,l){t.save();const{position:c}=r;t.strokeStyle=a,t.lineWidth=2+Math.sin(l*5)*1.5,t.setLineDash([8,8]),t.beginPath(),t.arc(c.x,c.y,o,0,2*Math.PI),t.stroke(),t.restore()}function S_(t,r,o,a,l){if(r.transitionState===_t.INACTIVE)return;const c=o.steps[r.currentStepIndex];if(!c)return;t.save(),t.globalAlpha=r.transitionAlpha;const f=hE,p=gE,g=mE,m=`${Ju}px "Press Start 2P", Arial`,v=`${Ah}px "Press Start 2P", Arial`,E=yE,R=Ah*1.5;t.font=v;const T=c.text.split(" ");let N="";const O=[];for(let x=0;x<T.length;x++){const Z=N+T[x]+" ";t.measureText(Z).width>f-p*2&&x>0?(O.push(N),N=T[x]+" "):N=Z}O.push(N);const w=p*2+Ju+p/2+O.length*R,k=(a-f)/2,W=l-w-20;t.fillStyle=vE,t.beginPath(),t.moveTo(k+g,W),t.lineTo(k+f-g,W),t.quadraticCurveTo(k+f,W,k+f,W+g),t.lineTo(k+f,W+w-g),t.quadraticCurveTo(k+f,W+w,k+f-g,W+w),t.lineTo(k+g,W+w),t.quadraticCurveTo(k,W+w,k,W+w-g),t.lineTo(k,W+g),t.quadraticCurveTo(k,W,k+g,W),t.closePath(),t.fill(),t.fillStyle=E,t.textAlign="center",t.textBaseline="top",t.font=m,t.fillText(c.title,k+f/2,W+p),t.font=v;let B=W+p+Ju+p/2;for(const x of O)t.fillText(x,k+f/2,B),B+=R;t.restore()}function Vh(t,r,o){t.save();const a=wE,l={x:r.x-a,y:r.y-a,width:r.width+a*2,height:r.height+a*2};t.strokeStyle=Qg,t.lineWidth=_E+Math.sin(o*AE)*1.5,t.setLineDash([8,8]),t.strokeRect(l.x,l.y,l.width,l.height),t.restore()}function E_(t){t.save(),t.fillStyle=dE,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=fE,t.font=`${pE}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const A_={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle"};function __(t,r){var p;const{radius:o,position:a,activeAction:l="idle"}=r,c=((p=r.stateMachine)==null?void 0:p[0])||"N/A",f=r.isAdult?Tn+20:Tn*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${l}`,a.x,a.y-f),t.fillText(`State: ${c}`,a.x,a.y-f+10),t.fillText(`HP: ${r.hitpoints}`,a.x,a.y-f+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,a.x,a.y-f+30),t.restore(),t.beginPath(),t.arc(a.x,a.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function w_(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const a=r.aiBlackboard.getNodeExecutionData();if(a.size===0)return;t.save(),t.font=`${sE}px Arial`,t.textAlign="left",t.textBaseline="top";const l=(v,E,R)=>{let T=E;const N=v.name?a.get(v.name):void 0;if(v.name&&N){const{lastExecuted:O,status:w,depth:k,executionHistory:W}=N,B=cE/qt*bt,x=o-O,Z=Math.max(0,1-x/B),L=OE(lE,uE,Z);let D;switch(w){case q.SUCCESS:D=vh;break;case q.FAILURE:D=yh;break;case q.RUNNING:D=Sh;break;default:D="grey"}const ee=R+2+(k??0)*mh;t.fillStyle=D,t.fillText("",ee,T),t.fillStyle=L;const Ee=` ${v.name}`+(N!=null&&N.debugInfo?`: ${N.debugInfo}`:"");if(t.fillText(Ee,ee+8,T),W&&W.length>0){const Re=Kg/qt*bt,be=o,Te=be-Re,Se=t.measureText(Ee).width;let De=ee+8+Se+Eh;const ye=T+(Zu-aa)/2,he=De,te=W.filter(ne=>ne.time<Te);let G=te.length>0?te[te.length-1].status:null,$=Te;const j=W.filter(ne=>ne.time>=Te&&ne.time<=be),_=ne=>{if(ne===null)return"rgba(255, 255, 255, 0.1)";switch(ne){case q.SUCCESS:return vh;case q.FAILURE:return yh;case q.RUNNING:return Sh;default:return"rgba(255, 255, 255, 0.1)"}},M=sa/Re;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(De,ye,sa,aa);for(const ne of j){const fe=(ne.time-$)*M;fe>0&&(t.fillStyle=_(G),t.fillRect(De,ye,fe,aa),De+=fe),G=ne.status,$=ne.time}const re=(be-$)*M;if(re>0){t.fillStyle=_(G);const ne=he+sa-De;t.fillRect(De,ye,Math.min(re,ne),aa)}}T+=Zu}if(v.children)for(const O of v.children)T=l(O,T,R);else v.child&&(T=l(v.child,T,R));return T},c=v=>{let E=0,R=0;const T=v.name?a.get(v.name):void 0;if(v.name&&T){const N=` ${v.name}`+(T!=null&&T.debugInfo?`: ${T.debugInfo}`:""),O=t.measureText(N).width,w=(T.depth??0)*mh+8+O+Eh+sa+20;E=Math.max(E,w),R+=Zu}if(v.children)for(const N of v.children){const O=c(N);E=Math.max(E,O.width),R+=O.height}else if(v.child){const N=c(v.child);E=Math.max(E,N.width),R+=N.height}return{width:E,height:R}},{width:f,height:p}=c(r.aiBehaviorTree),g=r.position.x+iE,m=r.position.y+oE-p/2;t.fillStyle=aE,t.fillRect(g,m,f,p+4),l(r.aiBehaviorTree,m+2,g),t.restore()}function I_(t,r,o){t.save(),t.font=`${ph}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-Tn-ph-18),t.restore()}function T_(t,r,o,a,l){const c=r.x,f=r.y-o-a/2;t.save(),t.fillStyle=l,t.strokeStyle=l,t.lineWidth=1.5,t.beginPath(),t.rect(c-a/2,f,a,a/2),t.fill(),t.beginPath(),t.moveTo(c-a/2,f),t.lineTo(c-a/4,f-a/3),t.lineTo(c-a/6,f),t.moveTo(c-a/6,f),t.lineTo(c,f-a/2),t.lineTo(c+a/6,f),t.moveTo(c+a/6,f),t.lineTo(c+a/4,f-a/3),t.lineTo(c+a/2,f),t.stroke(),t.restore()}function C_(t,r,o){var p;const{position:a,radius:l}=r,c=a.x-Qu/2,f=a.y-l-ZS;if(((p=r.stateMachine)==null?void 0:p[0])===Ni){const g=r.stateMachine[1],m=o-g.attackStartTime,v=Math.min(m/Og,1);wi(t,c,f,Qu,gh,v,_i,JS)}else if(r.attackCooldown&&r.attackCooldown>0){const g=1-r.attackCooldown/Mg;wi(t,c,f,Qu,gh,g,_i,eE)}}function R_(t,r,o=!1,a=!1,l=!1,c=!1,f=!1,p=!1,g=!1,m,v){const{position:E,activeAction:R="idle"}=r,T=r.isAdult?Tn:Tn*.6,N=A_[R]||"idle";$c.render(t,E.x-T,E.y-T,T*2,T*2,r.animationProgress||0,N,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),p&&(t.save(),t.strokeStyle=Vg,t.lineWidth=2,t.beginPath(),t.arc(E.x,E.y,T+3,0,2*Math.PI),t.stroke(),t.restore());let O,w;if(f?(O=LS,w=Yg):o?(O=MS,w=Fc):l?(O=US,w=kS):a?(O=FS,w=jg):c&&(O=HS,w=$g),O&&w&&T_(t,E,T,O,w),r.tribeBadge&&I_(t,E,r.tribeBadge),r.aiType!==void 0){t.save();const W=3,B=T+5;let x;switch(r.aiType){case Qt.UtilityBased:x="blue";break;case Qt.BehaviorTreeBased:x="purple";break;case Qt.StrategyBased:default:x="red";break}t.fillStyle=x,t.beginPath(),t.arc(E.x,E.y-B,W,0,Math.PI*2),t.fill(),t.restore()}const k=g&&(v===void 0||r.id===v);k&&r.aiBlackboard&&w_(t,r,m),C_(t,r,m),k&&__(t,r)}const dm=15;function Xh(t,r,o,a,l=1.5){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,m=1+Math.sin(f*Math.PI*2)*(l-1),v=dm*m;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,v),0,Math.PI*2),t.fillStyle=a,t.fill(),t.restore()}function Si(t,r,o,a,l=2){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,g=dm*2*f;t.save(),t.globalAlpha=p,t.beginPath(),t.arc(r.position.x,r.position.y,g,0,Math.PI*2),t.strokeStyle=a,t.lineWidth=l,t.stroke(),t.restore()}function fr(t,r,o,a){const l=o-r.startTime,c=Math.min(l/r.duration,1),f=1-c,p=-20*c;t.save(),t.globalAlpha=f,t.font="20px Arial",t.textAlign="center",t.fillText(a,r.position.x,r.position.y+p),t.restore()}function P_(t,r,o){switch(r.type){case ve.Hunger:Xh(t,r,o,"rgba(255, 165, 0, 0.7)");break;case ve.Procreation:fr(t,r,o,"");break;case ve.Pregnant:Xh(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case ve.TargetAcquired:Si(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case ve.Attack:fr(t,r,o,"");break;case ve.Partnered:fr(t,r,o,"");break;case ve.BushClaimed:Si(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case ve.BushClaimLost:Si(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case ve.Eating:fr(t,r,o,"");break;case ve.ChildFed:fr(t,r,o,"");break;case ve.AttackDeflected:fr(t,r,o,"");break;case ve.AttackResisted:fr(t,r,o,"");break;case ve.Hit:fr(t,r,o,"");break;case ve.SeizeBuildup:Si(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case ve.Seize:Si(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case ve.CallToAttack:Si(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function To(t,r,o,a,l,...c){const f={...l.position};for(let p=-o;p<=o;p+=o)for(let g=-r;g<=r;g+=r)l.position.x=f.x+g,l.position.y=f.y+p,a(t,l,...c);l.position=f}function Kh(t,r,o,a,l){var L;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-a.x,t.canvas.height/2-a.y),r.gameOver){t.restore(),t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20);return}const c=vr(r),f=c?en(r,c):[],p=vc(f),g=((L=c==null?void 0:c.partnerIds)==null?void 0:L.map(D=>r.entities.entities.get(D)).filter(D=>D!==void 0))||[],{width:m,height:v}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((D,ee)=>D.position.y-ee.position.y||D.id-ee.id).forEach(D=>{var ee,Ee;if(D.type==="berryBush")To(t,m,v,t_,D,r,c,r.time);else if(D.type==="human"){const Re=D,be=Re.id===(c==null?void 0:c.id),Te=f.some(te=>te.id===Re.id),Se=Re.id===(p==null?void 0:p.id),De=c&&(Re.id===c.motherId||Re.id===c.fatherId),ye=c&&(((ee=Re.partnerIds)==null?void 0:ee.includes(c.id))||((Ee=c.partnerIds)==null?void 0:Ee.includes(Re.id))),he=(c==null?void 0:c.attackTargetId)===Re.id;To(t,m,v,R_,Re,be,De,Te,ye,Se,he,o,r.time,r.debugCharacterId)}else D.type==="humanCorpse"&&To(t,m,v,l_,D)}),r.visualEffects.forEach(D=>{To(t,m,v,P_,D,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const D of r.tutorialState.highlightedEntityIds){const ee=r.entities.entities.get(D);ee&&To(t,m,v,y_,ee,EE,Qg,r.time)}t.restore();let R=null,T=null;t.fillStyle=BS,t.font=`${lr}px "Press Start 2P", Arial`,t.shadowColor=xS,t.shadowBlur=GS,t.textAlign="left";let N=Dt+lr;const w=r.time/(bt/qt)/Rg%1,k=_o[Ei.Time],W=25,B=Dt+W;if(t.fillText(k,Dt,N+Ht/2+lr/3),wi(t,B,N,ur,Ht,w,_i,$S),N+=Ht+Sn,c){const D=N+Hr/2,ee=N+(Hr-Ht)/2,Ee=5;Wo(t,{x:Dt*2,y:D},Hr,5,c.gender,!1,!1,!1);const Re=Dt+Hr+Ee,be=ur+W-(Hr+Ee)*2;wi(t,Re,ee,be,Ht,Math.floor(c.age)/Ho,_i,jS),Wo(t,{x:Re+be+Ee+Hr/2,y:D},Hr,Ho,c.gender,!1,!1,!1),N+=Ht+Sn*2;const Te=[],Se=new Set;if(Te.push({member:c,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),Se.add(c.id),p&&!Se.has(p.id)&&(Te.push({member:p,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),Se.add(p.id)),g.forEach(V=>{Se.has(V.id)||(Te.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),Se.add(V.id))}),f.forEach(V=>{Se.has(V.id)||(Te.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),Se.add(V.id))}),c.motherId&&!Se.has(c.motherId)){const V=r.entities.entities.get(c.motherId);V&&(Te.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),Se.add(V.id))}if(c.fatherId&&!Se.has(c.fatherId)){const V=r.entities.entities.get(c.fatherId);V&&(Te.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),Se.add(V.id))}const De=_o[Ei.Family],ye=10,he=Dt+lr+ye,te=ur+W-(lr+ye),G=N+ra/2;t.font=`${lr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(De,Dt,G);const $=N+ra/2;m_(t,he,$,Te,ra,te),N+=ra+Sn,t.textBaseline="alphabetic";const j=_o[Ei.Hitpoints];t.fillText(j,Dt,N+Ht/2+lr/3),wi(t,B,N,ur,Ht,c.hitpoints/c.maxHitpoints,_i,WS),N+=Ht+Sn;const _=_o[Ei.Hunger];t.fillText(_,Dt,N+Ht/2+lr/3),wi(t,B,N,ur,Ht,(wt-c.hunger)/wt,_i,zS),R={x:Dt,y:N-Sn/2,width:ur+W,height:Ht+Sn},N+=Ht+Sn,t.textBaseline="middle";const M=_o[Ei.Food];t.fillText(M,Dt,N+Ao/2),h_(t,B,N+Ao/2,c.food,Ao,ur),T={x:Dt,y:N-Sn/5,width:ur+W,height:Ao+Sn},t.textBaseline="alphabetic",N+=Ao+Sn*2}t.textAlign="right";let x=t.canvas.width-Dt;r.uiButtons.forEach(D=>{const ee=Dt,Ee=x-D.currentWidth;switch(D.rect={x:Ee,y:ee,width:D.currentWidth,height:tE},D.textColor=rE,D.action){case In.ToggleAutopilot:D.text="AUT[O]",D.backgroundColor=r.isPlayerOnAutopilot?qu:bu;break;case In.ToggleMute:D.text=r.isMuted?"UN[M]UTE":"[M]UTE",D.backgroundColor=r.isMuted?qu:bu;break;case In.TogglePause:D.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",D.backgroundColor=r.isPaused?qu:bu,r.isPaused?D.currentWidth=Oo*1.4:D.currentWidth=Oo*1.1;break}p_(t,D),x-=D.currentWidth+nE});const Z=UE(r,c==null?void 0:c.leaderId);if(v_(t,Z,t.canvas.width,t.canvas.height),t.shadowColor="transparent",t.shadowBlur=0,c&&l.length>0&&f_(t,l,c,a,t.canvas.width,t.canvas.height),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:D}=r.tutorialState;D.has(zo.HUNGER_BAR)&&R&&Vh(t,R,r.time),D.has(zo.FOOD_BAR)&&T&&Vh(t,T,r.time)}r.tutorialState.isActive&&S_(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),r.isPaused&&E_(t)}const Qh=U1(),bh=()=>{const t=Ne.useRef(null),r=Ne.useRef(null),o=Ne.useRef(Qh),a=Ne.useRef(),l=Ne.useRef(new Set),c=Ne.useRef(!1),f=Ne.useRef(Qh.viewportCenter),p=Ne.useRef([]),{appState:g,setAppState:m}=Da();Ne.useEffect(()=>{const T=t.current;if(!T)return;r.current=T.getContext("2d");const N=()=>{T&&r.current&&(T.width=window.innerWidth,T.height=window.innerHeight,Kh(r.current,o.current,c.current,f.current,p.current))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[v,E,R]=Ty(T=>{if(!r.current||!a.current){a.current=T;return}const N=(T-a.current)/1e3;o.current=zh(o.current,N);const O=vr(o.current);if(O?p.current=Zg(o.current,O):p.current=[],O){const{mapDimensions:w}=o.current,{width:k,height:W}=w;let B={...O.position};if(o.current.debugCharacterId){const D=o.current.entities.entities.get(o.current.debugCharacterId);D&&(B={...D.position})}const x=B.x-f.current.x;Math.abs(x)>k/2&&(x>0?B.x-=k:B.x+=k);const Z=B.y-f.current.y;Math.abs(Z)>W/2&&(Z>0?B.y-=W:B.y+=W);let L=qg(f.current,B,Cg*N);L={x:(L.x%k+k)%k,y:(L.y%W+W)%W},f.current=L}else f.current=o.current.viewportCenter;Kh(r.current,o.current,c.current,f.current,p.current),a.current=T,o.current.gameOver&&g!=="gameOver"&&(am(Ke.GameOver,{masterVolume:o.current.masterVolume,isMuted:o.current.isMuted}),m("gameOver",{generations:o.current.generationCount,cause:o.current.causeOfGameOver||"Unknown"}))});return Ne.useEffect(()=>(E(),v),[E,v]),Ne.useEffect(()=>{const T=N=>{if(!R()||o.current.gameOver||!t.current)return;const O=t.current.getBoundingClientRect(),w=N.clientX-O.left,k=N.clientY-O.top,W={gameState:o.current};o.current.uiButtons.forEach(B=>{if(w>=B.rect.x&&w<=B.rect.x+B.rect.width&&k>=B.rect.y&&k<=B.rect.y+B.rect.height){const x=vr(o.current);switch(x&&mt(W,Ke.ButtonClick,x.position),B.action){case In.ToggleAutopilot:o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;break;case In.ToggleMute:o.current.isMuted=!o.current.isMuted;break;case In.TogglePause:o.current.isPaused=!o.current.isPaused;break}}})};return window.addEventListener("mousedown",T),()=>{window.removeEventListener("mousedown",T)}},[R]),Ne.useEffect(()=>{const T=O=>{if(!R()||o.current.gameOver)return;const w=O.key.toLowerCase();if(w==="m"){o.current.isMuted=!o.current.isMuted,ya(o.current.masterVolume,o.current.isMuted);return}if(w==="="||w==="+"){const B=Math.min(1,o.current.masterVolume+.1);o.current.masterVolume=parseFloat(B.toFixed(1)),ya(o.current.masterVolume,o.current.isMuted);return}if(w==="-"){const B=Math.max(0,o.current.masterVolume-.1);o.current.masterVolume=parseFloat(B.toFixed(1)),ya(o.current.masterVolume,o.current.isMuted);return}if(w==="t"){o.current=zh(o.current,10);return}if(w===" "||w==="p"){O.preventDefault(),o.current.isPaused=!o.current.isPaused;return}if(w==="o"){o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;return}if(w===""||w==="`"){c.current=!c.current,c.current||(o.current.debugCharacterId=void 0);return}if(w==="tab"){O.preventDefault(),c.current=!0;const B=Array.from(o.current.entities.entities.values()).filter(x=>x.type==="human");if(B.length>0){const x=B.sort((ee,Ee)=>ee.isPlayer?-1:ee.id-Ee.id),Z=o.current.debugCharacterId,D=((Z?x.findIndex(ee=>ee.id===Z):-1)+1)%x.length;o.current.debugCharacterId=x[D].id}else o.current.debugCharacterId=void 0;return}if(o.current.isPlayerOnAutopilot)return;l.current.add(w);const k=vr(o.current);if(!k)return;const W={gameState:o.current};if(w==="e"){const B=_e(k,o.current,"berryBush",Nt,L=>L.food.length>0&&k.food.length<k.maxFood),x=_e(k,o.current,"humanCorpse",Nt,L=>L.food.length>0&&k.food.length<k.maxFood);let Z=null;B&&x?Z=ae(k.position,B.position,o.current.mapDimensions.width,o.current.mapDimensions.height)<=ae(k.position,x.position,o.current.mapDimensions.width,o.current.mapDimensions.height)?B:x:Z=B||x,Z&&(k.activeAction="gathering",mt(W,Ke.Gather,k.position))}else if(w==="r")_e(k,o.current,"human",Nt,x=>{const Z=x;return Z.id!==k.id&&Z.gender!==k.gender&&Z.isAdult&&k.isAdult&&Z.hunger<rt&&k.hunger<rt&&(Z.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(Z.gender==="female"?!Z.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",mt(W,Ke.Procreate,k.position));else if(w==="f")k.activeAction="eating",mt(W,Ke.Eat,k.position);else if(w==="arrowup"||w==="w")k.direction.y=-1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowdown"||w==="s")k.direction.y=1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowleft"||w==="a")k.direction.x=-1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowright"||w==="d")k.direction.x=1,k.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="q"){const B=_e(k,o.current,"human",Ha,x=>x.id!==k.id);B&&(k.activeAction="attacking",k.attackTargetId=B.id)}else if(w==="b"){if(p.current.find(x=>x.type===_n.PlantBush)){const x=Jg(k.position,o.current,50,gc);x&&(k.activeAction="planting",k.targetPosition=x,o.current.hasPlayerPlantedBush=!0)}}else if(w==="v")p.current.find(x=>x.type===_n.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=o.current.time+Sr,Qe(o.current,ve.CallToAttack,k.position,Sr),mt(W,Ke.CallToAttack,k.position));else return},N=O=>{if(!R()||o.current.gameOver)return;const w=O.key.toLowerCase();l.current.delete(w);const k=vr(o.current);!k||o.current.isPlayerOnAutopilot||(w==="arrowup"||w==="w"||w==="arrowdown"||w==="s"?k.direction.y=0:(w==="arrowleft"||w==="a"||w==="arrowright"||w==="d")&&(k.direction.x=0),!l.current.has("arrowup")&&!l.current.has("arrowdown")&&!l.current.has("arrowleft")&&!l.current.has("arrowright")&&!l.current.has("w")&&!l.current.has("a")&&!l.current.has("s")&&!l.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!l.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!l.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!l.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",T),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",T),window.removeEventListener("keyup",N)}},[R,g,m,E,v]),Oe.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})},k_=Ar.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,D_=Ar.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,ca=Ar.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,N_=Ar.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,O_=()=>{const{setAppState:t,gameOverDetails:r}=Da(),o=()=>{t("intro")};return Oe.jsxs(k_,{children:[Oe.jsx(D_,{children:"Game Over"}),Oe.jsx(ca,{children:"Your tribe's lineage has ended."}),r&&Oe.jsxs(Oe.Fragment,{children:[Oe.jsxs(ca,{children:["Generations Survived: ",r.generations]}),Oe.jsxs(ca,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Oe.jsx(ca,{children:"Game details are unavailable."}),Oe.jsx(N_,{onClick:o,children:"Return to Menu"})]})},M_=Ay`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function L_(t,r){Ne.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";r(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Ne.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const U_=()=>{const{appState:t,setAppState:r}=Da();L_(t,r);const o=()=>{switch(t){case"intro":return Oe.jsx(ih,{});case"game":return Oe.jsx(bh,{});case"gameOver":return Oe.jsxs(Oe.Fragment,{children:[Oe.jsx(bh,{}),Oe.jsx(O_,{})]});default:return Oe.jsx(ih,{})}};return Oe.jsxs(Oe.Fragment,{children:[Oe.jsx(M_,{}),o()]})};ZE();const qh=document.getElementById("root");qh?Sv.createRoot(qh).render(Oe.jsx(wn.StrictMode,{children:Oe.jsx(Ev,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Oe.jsx(U_,{})})})):console.error("Failed to find the root element");
