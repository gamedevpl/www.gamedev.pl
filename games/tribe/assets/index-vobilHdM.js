var dv=Object.defineProperty;var fv=(n,i,o)=>i in n?dv(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var _e=(n,i,o)=>fv(n,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function ig(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bu={exports:{}},mo={},Hu={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function hv(){if($h)return Se;$h=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function A(T,U,re){this.props=T,this.context=U,this.refs=N,this.updater=re||R}A.prototype.isReactComponent={},A.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function D(){}D.prototype=A.prototype;function k(T,U,re){this.props=T,this.context=U,this.refs=N,this.updater=re||R}var z=k.prototype=new D;z.constructor=k,O(z,A.prototype),z.isPureReactComponent=!0;var W=Array.isArray,Z=Object.prototype.hasOwnProperty,F={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function b(T,U,re){var ee,me={},ae=null,he=null;if(U!=null)for(ee in U.ref!==void 0&&(he=U.ref),U.key!==void 0&&(ae=""+U.key),U)Z.call(U,ee)&&!x.hasOwnProperty(ee)&&(me[ee]=U[ee]);var ce=arguments.length-2;if(ce===1)me.children=re;else if(1<ce){for(var X=Array(ce),ie=0;ie<ce;ie++)X[ie]=arguments[ie+2];me.children=X}if(T&&T.defaultProps)for(ee in ce=T.defaultProps,ce)me[ee]===void 0&&(me[ee]=ce[ee]);return{$$typeof:n,type:T,key:ae,ref:he,props:me,_owner:F.current}}function ge(T,U){return{$$typeof:n,type:T.type,key:U,ref:T.ref,props:T.props,_owner:T._owner}}function Ge(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function Je(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(re){return U[re]})}var Me=/\/+/g;function Fe(T,U){return typeof T=="object"&&T!==null&&T.key!=null?Je(""+T.key):U.toString(36)}function Ee(T,U,re,ee,me){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var he=!1;if(T===null)he=!0;else switch(ae){case"string":case"number":he=!0;break;case"object":switch(T.$$typeof){case n:case i:he=!0}}if(he)return he=T,me=me(he),T=ee===""?"."+Fe(he,0):ee,W(me)?(re="",T!=null&&(re=T.replace(Me,"$&/")+"/"),Ee(me,U,re,"",function(ie){return ie})):me!=null&&(Ge(me)&&(me=ge(me,re+(!me.key||he&&he.key===me.key?"":(""+me.key).replace(Me,"$&/")+"/")+T)),U.push(me)),1;if(he=0,ee=ee===""?".":ee+":",W(T))for(var ce=0;ce<T.length;ce++){ae=T[ce];var X=ee+Fe(ae,ce);he+=Ee(ae,U,re,X,me)}else if(X=w(T),typeof X=="function")for(T=X.call(T),ce=0;!(ae=T.next()).done;)ae=ae.value,X=ee+Fe(ae,ce++),he+=Ee(ae,U,re,X,me);else if(ae==="object")throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return he}function Ce(T,U,re){if(T==null)return T;var ee=[],me=0;return Ee(T,ee,"","",function(ae){return U.call(re,ae,me++)}),ee}function fe(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(re){(T._status===0||T._status===-1)&&(T._status=1,T._result=re)},function(re){(T._status===0||T._status===-1)&&(T._status=2,T._result=re)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var se={current:null},$={transition:null},V={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:$,ReactCurrentOwner:F};function j(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Ce,forEach:function(T,U,re){Ce(T,function(){U.apply(this,arguments)},re)},count:function(T){var U=0;return Ce(T,function(){U++}),U},toArray:function(T){return Ce(T,function(U){return U})||[]},only:function(T){if(!Ge(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Se.Component=A,Se.Fragment=o,Se.Profiler=l,Se.PureComponent=k,Se.StrictMode=s,Se.Suspense=g,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Se.act=j,Se.cloneElement=function(T,U,re){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ee=O({},T.props),me=T.key,ae=T.ref,he=T._owner;if(U!=null){if(U.ref!==void 0&&(ae=U.ref,he=F.current),U.key!==void 0&&(me=""+U.key),T.type&&T.type.defaultProps)var ce=T.type.defaultProps;for(X in U)Z.call(U,X)&&!x.hasOwnProperty(X)&&(ee[X]=U[X]===void 0&&ce!==void 0?ce[X]:U[X])}var X=arguments.length-2;if(X===1)ee.children=re;else if(1<X){ce=Array(X);for(var ie=0;ie<X;ie++)ce[ie]=arguments[ie+2];ee.children=ce}return{$$typeof:n,type:T.type,key:me,ref:ae,props:ee,_owner:he}},Se.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},Se.createElement=b,Se.createFactory=function(T){var U=b.bind(null,T);return U.type=T,U},Se.createRef=function(){return{current:null}},Se.forwardRef=function(T){return{$$typeof:h,render:T}},Se.isValidElement=Ge,Se.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:fe}},Se.memo=function(T,U){return{$$typeof:v,type:T,compare:U===void 0?null:U}},Se.startTransition=function(T){var U=$.transition;$.transition={};try{T()}finally{$.transition=U}},Se.unstable_act=j,Se.useCallback=function(T,U){return se.current.useCallback(T,U)},Se.useContext=function(T){return se.current.useContext(T)},Se.useDebugValue=function(){},Se.useDeferredValue=function(T){return se.current.useDeferredValue(T)},Se.useEffect=function(T,U){return se.current.useEffect(T,U)},Se.useId=function(){return se.current.useId()},Se.useImperativeHandle=function(T,U,re){return se.current.useImperativeHandle(T,U,re)},Se.useInsertionEffect=function(T,U){return se.current.useInsertionEffect(T,U)},Se.useLayoutEffect=function(T,U){return se.current.useLayoutEffect(T,U)},Se.useMemo=function(T,U){return se.current.useMemo(T,U)},Se.useReducer=function(T,U,re){return se.current.useReducer(T,U,re)},Se.useRef=function(T){return se.current.useRef(T)},Se.useState=function(T){return se.current.useState(T)},Se.useSyncExternalStore=function(T,U,re){return se.current.useSyncExternalStore(T,U,re)},Se.useTransition=function(){return se.current.useTransition()},Se.version="18.3.1",Se}var Wh;function Tc(){return Wh||(Wh=1,Hu.exports=hv()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function pv(){if(jh)return mo;jh=1;var n=Tc(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,g,v){var m,S={},w=null,R=null;v!==void 0&&(w=""+v),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(R=g.ref);for(m in g)s.call(g,m)&&!c.hasOwnProperty(m)&&(S[m]=g[m]);if(h&&h.defaultProps)for(m in g=h.defaultProps,g)S[m]===void 0&&(S[m]=g[m]);return{$$typeof:i,type:h,key:w,ref:R,props:S,_owner:l.current}}return mo.Fragment=o,mo.jsx=d,mo.jsxs=d,mo}var Yh;function gv(){return Yh||(Yh=1,Bu.exports=pv()),Bu.exports}var Ne=gv(),ve=Tc();const vn=ig(ve);var ea={},xu={exports:{}},kt={},Gu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function mv(){return Vh||(Vh=1,function(n){function i($,V){var j=$.length;$.push(V);e:for(;0<j;){var T=j-1>>>1,U=$[T];if(0<l(U,V))$[T]=V,$[j]=U,j=T;else break e}}function o($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var V=$[0],j=$.pop();if(j!==V){$[0]=j;e:for(var T=0,U=$.length,re=U>>>1;T<re;){var ee=2*(T+1)-1,me=$[ee],ae=ee+1,he=$[ae];if(0>l(me,j))ae<U&&0>l(he,me)?($[T]=he,$[ae]=j,T=ae):($[T]=me,$[ee]=j,T=ee);else if(ae<U&&0>l(he,j))$[T]=he,$[ae]=j,T=ae;else break e}}return V}function l($,V){var j=$.sortIndex-V.sortIndex;return j!==0?j:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],v=[],m=1,S=null,w=3,R=!1,O=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z($){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=$)s(v),V.sortIndex=V.expirationTime,i(g,V);else break;V=o(v)}}function W($){if(N=!1,z($),!O)if(o(g)!==null)O=!0,fe(Z);else{var V=o(v);V!==null&&se(W,V.startTime-$)}}function Z($,V){O=!1,N&&(N=!1,D(b),b=-1),R=!0;var j=w;try{for(z(V),S=o(g);S!==null&&(!(S.expirationTime>V)||$&&!Je());){var T=S.callback;if(typeof T=="function"){S.callback=null,w=S.priorityLevel;var U=T(S.expirationTime<=V);V=n.unstable_now(),typeof U=="function"?S.callback=U:S===o(g)&&s(g),z(V)}else s(g);S=o(g)}if(S!==null)var re=!0;else{var ee=o(v);ee!==null&&se(W,ee.startTime-V),re=!1}return re}finally{S=null,w=j,R=!1}}var F=!1,x=null,b=-1,ge=5,Ge=-1;function Je(){return!(n.unstable_now()-Ge<ge)}function Me(){if(x!==null){var $=n.unstable_now();Ge=$;var V=!0;try{V=x(!0,$)}finally{V?Fe():(F=!1,x=null)}}else F=!1}var Fe;if(typeof k=="function")Fe=function(){k(Me)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ce=Ee.port2;Ee.port1.onmessage=Me,Fe=function(){Ce.postMessage(null)}}else Fe=function(){A(Me,0)};function fe($){x=$,F||(F=!0,Fe())}function se($,V){b=A(function(){$(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){O||R||(O=!0,fe(Z))},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return o(g)},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var j=w;w=V;try{return $()}finally{w=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var j=w;w=$;try{return V()}finally{w=j}},n.unstable_scheduleCallback=function($,V,j){var T=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?T+j:T):j=T,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=j+U,$={id:m++,callback:V,priorityLevel:$,startTime:j,expirationTime:U,sortIndex:-1},j>T?($.sortIndex=j,i(v,$),o(g)===null&&$===o(v)&&(N?(D(b),b=-1):N=!0,se(W,j-T))):($.sortIndex=U,i(g,$),O||R||(O=!0,fe(Z))),$},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function($){var V=w;return function(){var j=w;w=V;try{return $.apply(this,arguments)}finally{w=j}}}}(zu)),zu}var Kh;function vv(){return Kh||(Kh=1,Gu.exports=mv()),Gu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function yv(){if(Xh)return kt;Xh=1;var n=Tc(),i=vv();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},S={};function w(e){return g.call(S,e)?!0:g.call(m,e)?!1:v.test(e)?S[e]=!0:(m[e]=!0,!1)}function R(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,a){if(t===null||typeof t>"u"||R(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,a,u,f,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=p}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,k);A[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,k);A[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,k);A[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,r,a){var u=A.hasOwnProperty(t)?A[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,u,a)&&(r=null),a||u===null?w(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,a=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),F=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),$=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,T;function U(e){if(T===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var re=!1;function ee(e,t){if(!e||re)return"";re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),f=a.stack.split(`
`),p=u.length-1,y=f.length-1;1<=p&&0<=y&&u[p]!==f[y];)y--;for(;1<=p&&0<=y;p--,y--)if(u[p]!==f[y]){if(p!==1||y!==1)do if(p--,y--,0>y||u[p]!==f[y]){var E=`
`+u[p].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=p&&0<=y);break}}}finally{re=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function me(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case F:return"Portal";case ge:return"Profiler";case b:return"StrictMode";case Fe:return"Suspense";case Ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case Ge:return(e._context.displayName||"Context")+".Provider";case Me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function he(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=X(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ke(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function _n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dt(e,t){var r=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gt(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=ce(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pr(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function Tn(e,t){pr(e,t);var r=ce(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zr(e,t.type,r):t.hasOwnProperty("defaultValue")&&zr(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fn(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zr(e,t,r){(t!=="number"||_n(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function Bn(e,t,r,a){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ce(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function gr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(Ln(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ce(r)}}function Jc(e,t){var r=ce(t.value),a=ce(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function bc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ed(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ed(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,td=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gm=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){gm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function nd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function rd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,u=nd(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,u):e[r]=u}}var mm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(e,t){if(t){if(mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Za(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qa=null;function Ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,$r=null,Wr=null;function id(e){if(e=eo(e)){if(typeof ba!="function")throw Error(o(280));var t=e.stateNode;t&&(t=gs(t),ba(e.stateNode,e.type,t))}}function od(e){$r?Wr?Wr.push(e):Wr=[e]:$r=e}function sd(){if($r){var e=$r,t=Wr;if(Wr=$r=null,id(e),t)for(e=0;e<t.length;e++)id(t[e])}}function ad(e,t){return e(t)}function ld(){}var el=!1;function ud(e,t,r){if(el)return e(t,r);el=!0;try{return ad(e,t,r)}finally{el=!1,($r!==null||Wr!==null)&&(ld(),sd())}}function Mi(e,t){var r=e.stateNode;if(r===null)return null;var a=gs(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var tl=!1;if(h)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{tl=!1}function vm(e,t,r,a,u,f,p,y,E){var P=Array.prototype.slice.call(arguments,3);try{t.apply(r,P)}catch(B){this.onError(B)}}var Fi=!1,Ko=null,Xo=!1,nl=null,ym={onError:function(e){Fi=!0,Ko=e}};function Sm(e,t,r,a,u,f,p,y,E){Fi=!1,Ko=null,vm.apply(ym,arguments)}function Em(e,t,r,a,u,f,p,y,E){if(Sm.apply(this,arguments),Fi){if(Fi){var P=Ko;Fi=!1,Ko=null}else throw Error(o(198));Xo||(Xo=!0,nl=P)}}function mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(mr(e)!==e)throw Error(o(188))}function _m(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,a=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){r=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return dd(u),e;if(f===a)return dd(u),t;f=f.sibling}throw Error(o(188))}if(r.return!==a.return)r=u,a=f;else{for(var p=!1,y=u.child;y;){if(y===r){p=!0,r=u,a=f;break}if(y===a){p=!0,a=u,r=f;break}y=y.sibling}if(!p){for(y=f.child;y;){if(y===r){p=!0,r=f,a=u;break}if(y===a){p=!0,a=f,r=u;break}y=y.sibling}if(!p)throw Error(o(189))}}if(r.alternate!==a)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function fd(e){return e=_m(e),e!==null?hd(e):null}function hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hd(e);if(t!==null)return t;e=e.sibling}return null}var pd=i.unstable_scheduleCallback,gd=i.unstable_cancelCallback,Tm=i.unstable_shouldYield,wm=i.unstable_requestPaint,Ke=i.unstable_now,Am=i.unstable_getCurrentPriorityLevel,rl=i.unstable_ImmediatePriority,md=i.unstable_UserBlockingPriority,Qo=i.unstable_NormalPriority,Im=i.unstable_LowPriority,vd=i.unstable_IdlePriority,Zo=null,cn=null;function Cm(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Pm,Rm=Math.log,km=Math.LN2;function Pm(e){return e>>>=0,e===0?32:31-(Rm(e)/km|0)|0}var qo=64,Jo=4194304;function Li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bo(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,p=r&268435455;if(p!==0){var y=p&~u;y!==0?a=Li(y):(f&=p,f!==0&&(a=Li(f)))}else p=r&~u,p!==0?a=Li(p):f!==0&&(a=Li(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-en(t),u=1<<r,a|=e[r],t&=~u;return a}function Nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-en(f),y=1<<p,E=u[p];E===-1?((y&r)===0||(y&a)!==0)&&(u[p]=Nm(y,t)):E<=t&&(e.expiredLanes|=y),f&=~y}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yd(){var e=qo;return qo<<=1,(qo&4194240)===0&&(qo=64),e}function ol(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=r}function Dm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-en(r),f=1<<u;t[u]=0,a[u]=-1,e[u]=-1,r&=~f}}function sl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-en(r),u=1<<a;u&t|e[a]&t&&(e[a]|=t),r&=~u}}var Oe=0;function Sd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ed,al,_d,Td,wd,ll=!1,es=[],Hn=null,xn=null,Gn=null,Hi=new Map,xi=new Map,zn=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(t.pointerId)}}function Gi(e,t,r,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},t!==null&&(t=eo(t),t!==null&&al(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Um(e,t,r,a,u){switch(t){case"focusin":return Hn=Gi(Hn,e,t,r,a,u),!0;case"dragenter":return xn=Gi(xn,e,t,r,a,u),!0;case"mouseover":return Gn=Gi(Gn,e,t,r,a,u),!0;case"pointerover":var f=u.pointerId;return Hi.set(f,Gi(Hi.get(f)||null,e,t,r,a,u)),!0;case"gotpointercapture":return f=u.pointerId,xi.set(f,Gi(xi.get(f)||null,e,t,r,a,u)),!0}return!1}function Id(e){var t=vr(e.target);if(t!==null){var r=mr(t);if(r!==null){if(t=r.tag,t===13){if(t=cd(r),t!==null){e.blockedOn=t,wd(e.priority,function(){_d(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);qa=a,r.target.dispatchEvent(a),qa=null}else return t=eo(r),t!==null&&al(t),e.blockedOn=r,!1;t.shift()}return!0}function Cd(e,t,r){ts(e)&&r.delete(t)}function Fm(){ll=!1,Hn!==null&&ts(Hn)&&(Hn=null),xn!==null&&ts(xn)&&(xn=null),Gn!==null&&ts(Gn)&&(Gn=null),Hi.forEach(Cd),xi.forEach(Cd)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,ll||(ll=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Fm)))}function $i(e){function t(u){return zi(u,e)}if(0<es.length){zi(es[0],e);for(var r=1;r<es.length;r++){var a=es[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Hn!==null&&zi(Hn,e),xn!==null&&zi(xn,e),Gn!==null&&zi(Gn,e),Hi.forEach(t),xi.forEach(t),r=0;r<zn.length;r++)a=zn[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<zn.length&&(r=zn[0],r.blockedOn===null);)Id(r),r.blockedOn===null&&zn.shift()}var jr=W.ReactCurrentBatchConfig,ns=!0;function Lm(e,t,r,a){var u=Oe,f=jr.transition;jr.transition=null;try{Oe=1,ul(e,t,r,a)}finally{Oe=u,jr.transition=f}}function Bm(e,t,r,a){var u=Oe,f=jr.transition;jr.transition=null;try{Oe=4,ul(e,t,r,a)}finally{Oe=u,jr.transition=f}}function ul(e,t,r,a){if(ns){var u=cl(e,t,r,a);if(u===null)Rl(e,t,a,rs,r),Ad(e,a);else if(Um(u,e,t,r,a))a.stopPropagation();else if(Ad(e,a),t&4&&-1<Mm.indexOf(e)){for(;u!==null;){var f=eo(u);if(f!==null&&Ed(f),f=cl(e,t,r,a),f===null&&Rl(e,t,a,rs,r),f===u)break;u=f}u!==null&&a.stopPropagation()}else Rl(e,t,a,null,r)}}var rs=null;function cl(e,t,r,a){if(rs=null,e=Ja(a),e=vr(e),e!==null)if(t=mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function Rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Am()){case rl:return 1;case md:return 4;case Qo:case Im:return 16;case vd:return 536870912;default:return 16}default:return 16}}var $n=null,dl=null,is=null;function kd(){if(is)return is;var e,t=dl,r=t.length,a,u="value"in $n?$n.value:$n.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var p=r-e;for(a=1;a<=p&&t[r-a]===u[f-a];a++);return is=u.slice(e,1<a?1-a:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function Pd(){return!1}function Mt(e){function t(r,a,u,f,p){this._reactName=r,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:Pd,this.isPropagationStopped=Pd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Mt(Yr),Wi=j({},Yr,{view:0,detail:0}),Hm=Mt(Wi),hl,pl,ji,as=j({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(hl=e.screenX-ji.screenX,pl=e.screenY-ji.screenY):pl=hl=0,ji=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),Nd=Mt(as),xm=j({},as,{dataTransfer:0}),Gm=Mt(xm),zm=j({},Wi,{relatedTarget:0}),gl=Mt(zm),$m=j({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=Mt($m),jm=j({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ym=Mt(jm),Vm=j({},Yr,{data:0}),Od=Mt(Vm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qm[e])?!!t[e]:!1}function ml(){return Zm}var qm=j({},Wi,{key:function(e){if(e.key){var t=Km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jm=Mt(qm),bm=j({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=Mt(bm),e0=j({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),t0=Mt(e0),n0=j({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=Mt(n0),i0=j({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=Mt(i0),s0=[9,13,27,32],vl=h&&"CompositionEvent"in window,Yi=null;h&&"documentMode"in document&&(Yi=document.documentMode);var a0=h&&"TextEvent"in window&&!Yi,Md=h&&(!vl||Yi&&8<Yi&&11>=Yi),Ud=" ",Fd=!1;function Ld(e,t){switch(e){case"keyup":return s0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function l0(e,t){switch(e){case"compositionend":return Bd(t);case"keypress":return t.which!==32?null:(Fd=!0,Ud);case"textInput":return e=t.data,e===Ud&&Fd?null:e;default:return null}}function u0(e,t){if(Vr)return e==="compositionend"||!vl&&Ld(e,t)?(e=kd(),is=dl=$n=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c0[e.type]:t==="textarea"}function xd(e,t,r,a){od(a),t=fs(t,"onChange"),0<t.length&&(r=new fl("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Vi=null,Ki=null;function d0(e){rf(e,0)}function ls(e){var t=qr(e);if(ue(t))return e}function f0(e,t){if(e==="change")return t}var Gd=!1;if(h){var yl;if(h){var Sl="oninput"in document;if(!Sl){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Sl=typeof zd.oninput=="function"}yl=Sl}else yl=!1;Gd=yl&&(!document.documentMode||9<document.documentMode)}function $d(){Vi&&(Vi.detachEvent("onpropertychange",Wd),Ki=Vi=null)}function Wd(e){if(e.propertyName==="value"&&ls(Ki)){var t=[];xd(t,Ki,e,Ja(e)),ud(d0,t)}}function h0(e,t,r){e==="focusin"?($d(),Vi=t,Ki=r,Vi.attachEvent("onpropertychange",Wd)):e==="focusout"&&$d()}function p0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(Ki)}function g0(e,t){if(e==="click")return ls(t)}function m0(e,t){if(e==="input"||e==="change")return ls(t)}function v0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:v0;function Xi(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var u=r[a];if(!g.call(t,u)||!tn(e[u],t[u]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var r=jd(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jd(r)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kd(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_n(e.document)}return t}function El(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y0(e){var t=Kd(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vd(r.ownerDocument.documentElement,r)){if(a!==null&&El(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=Yd(r,f);var p=Yd(r,a);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S0=h&&"documentMode"in document&&11>=document.documentMode,Kr=null,_l=null,Qi=null,Tl=!1;function Xd(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tl||Kr==null||Kr!==_n(a)||(a=Kr,"selectionStart"in a&&El(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Qi&&Xi(Qi,a)||(Qi=a,a=fs(_l,"onSelect"),0<a.length&&(t=new fl("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Kr)))}function us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},wl={},Qd={};h&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function cs(e){if(wl[e])return wl[e];if(!Xr[e])return e;var t=Xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qd)return wl[e]=t[r];return e}var Zd=cs("animationend"),qd=cs("animationiteration"),Jd=cs("animationstart"),bd=cs("transitionend"),ef=new Map,tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){ef.set(e,t),c(t,[e])}for(var Al=0;Al<tf.length;Al++){var Il=tf[Al],E0=Il.toLowerCase(),_0=Il[0].toUpperCase()+Il.slice(1);Wn(E0,"on"+_0)}Wn(Zd,"onAnimationEnd"),Wn(qd,"onAnimationIteration"),Wn(Jd,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(bd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function nf(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Em(a,t,void 0,e),e.currentTarget=null}function rf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],u=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var p=a.length-1;0<=p;p--){var y=a[p],E=y.instance,P=y.currentTarget;if(y=y.listener,E!==f&&u.isPropagationStopped())break e;nf(u,y,P),f=E}else for(p=0;p<a.length;p++){if(y=a[p],E=y.instance,P=y.currentTarget,y=y.listener,E!==f&&u.isPropagationStopped())break e;nf(u,y,P),f=E}}}if(Xo)throw e=nl,Xo=!1,nl=null,e}function Be(e,t){var r=t[Ml];r===void 0&&(r=t[Ml]=new Set);var a=e+"__bubble";r.has(a)||(of(t,e,2,!1),r.add(a))}function Cl(e,t,r){var a=0;t&&(a|=4),of(r,e,a,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[ds]){e[ds]=!0,s.forEach(function(r){r!=="selectionchange"&&(T0.has(r)||Cl(r,!1,e),Cl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Cl("selectionchange",!1,t))}}function of(e,t,r,a){switch(Rd(t)){case 1:var u=Lm;break;case 4:u=Bm;break;default:u=ul}r=u.bind(null,t,r,e),u=void 0,!tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Rl(e,t,r,a,u){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var y=a.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(p===4)for(p=a.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;p=p.return}for(;y!==null;){if(p=vr(y),p===null)return;if(E=p.tag,E===5||E===6){a=f=p;continue e}y=y.parentNode}}a=a.return}ud(function(){var P=f,B=Ja(r),H=[];e:{var L=ef.get(e);if(L!==void 0){var Y=fl,Q=e;switch(e){case"keypress":if(os(r)===0)break e;case"keydown":case"keyup":Y=Jm;break;case"focusin":Q="focus",Y=gl;break;case"focusout":Q="blur",Y=gl;break;case"beforeblur":case"afterblur":Y=gl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=t0;break;case Zd:case qd:case Jd:Y=Wm;break;case bd:Y=r0;break;case"scroll":Y=Hm;break;case"wheel":Y=o0;break;case"copy":case"cut":case"paste":Y=Ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Dd}var q=(t&4)!==0,Xe=!q&&e==="scroll",I=q?L!==null?L+"Capture":null:L;q=[];for(var _=P,C;_!==null;){C=_;var G=C.stateNode;if(C.tag===5&&G!==null&&(C=G,I!==null&&(G=Mi(_,I),G!=null&&q.push(Ji(_,G,C)))),Xe)break;_=_.return}0<q.length&&(L=new Y(L,Q,null,r,B),H.push({event:L,listeners:q}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",L&&r!==qa&&(Q=r.relatedTarget||r.fromElement)&&(vr(Q)||Q[wn]))break e;if((Y||L)&&(L=B.window===B?B:(L=B.ownerDocument)?L.defaultView||L.parentWindow:window,Y?(Q=r.relatedTarget||r.toElement,Y=P,Q=Q?vr(Q):null,Q!==null&&(Xe=mr(Q),Q!==Xe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(q=Nd,G="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(q=Dd,G="onPointerLeave",I="onPointerEnter",_="pointer"),Xe=Y==null?L:qr(Y),C=Q==null?L:qr(Q),L=new q(G,_+"leave",Y,r,B),L.target=Xe,L.relatedTarget=C,G=null,vr(B)===P&&(q=new q(I,_+"enter",Q,r,B),q.target=C,q.relatedTarget=Xe,G=q),Xe=G,Y&&Q)t:{for(q=Y,I=Q,_=0,C=q;C;C=Qr(C))_++;for(C=0,G=I;G;G=Qr(G))C++;for(;0<_-C;)q=Qr(q),_--;for(;0<C-_;)I=Qr(I),C--;for(;_--;){if(q===I||I!==null&&q===I.alternate)break t;q=Qr(q),I=Qr(I)}q=null}else q=null;Y!==null&&sf(H,L,Y,q,!1),Q!==null&&Xe!==null&&sf(H,Xe,Q,q,!0)}}e:{if(L=P?qr(P):window,Y=L.nodeName&&L.nodeName.toLowerCase(),Y==="select"||Y==="input"&&L.type==="file")var J=f0;else if(Hd(L))if(Gd)J=m0;else{J=p0;var te=h0}else(Y=L.nodeName)&&Y.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(J=g0);if(J&&(J=J(e,P))){xd(H,J,r,B);break e}te&&te(e,L,P),e==="focusout"&&(te=L._wrapperState)&&te.controlled&&L.type==="number"&&zr(L,"number",L.value)}switch(te=P?qr(P):window,e){case"focusin":(Hd(te)||te.contentEditable==="true")&&(Kr=te,_l=P,Qi=null);break;case"focusout":Qi=_l=Kr=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Xd(H,r,B);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":Xd(H,r,B)}var ne;if(vl)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Vr?Ld(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Md&&r.locale!=="ko"&&(Vr||le!=="onCompositionStart"?le==="onCompositionEnd"&&Vr&&(ne=kd()):($n=B,dl="value"in $n?$n.value:$n.textContent,Vr=!0)),te=fs(P,le),0<te.length&&(le=new Od(le,e,null,r,B),H.push({event:le,listeners:te}),ne?le.data=ne:(ne=Bd(r),ne!==null&&(le.data=ne)))),(ne=a0?l0(e,r):u0(e,r))&&(P=fs(P,"onBeforeInput"),0<P.length&&(B=new Od("onBeforeInput","beforeinput",null,r,B),H.push({event:B,listeners:P}),B.data=ne))}rf(H,t)})}function Ji(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fs(e,t){for(var r=t+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Mi(e,r),f!=null&&a.unshift(Ji(e,f,u)),f=Mi(e,t),f!=null&&a.push(Ji(e,f,u))),e=e.return}return a}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sf(e,t,r,a,u){for(var f=t._reactName,p=[];r!==null&&r!==a;){var y=r,E=y.alternate,P=y.stateNode;if(E!==null&&E===a)break;y.tag===5&&P!==null&&(y=P,u?(E=Mi(r,f),E!=null&&p.unshift(Ji(r,E,y))):u||(E=Mi(r,f),E!=null&&p.push(Ji(r,E,y)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var w0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function af(e){return(typeof e=="string"?e:""+e).replace(w0,`
`).replace(A0,"")}function hs(e,t,r){if(t=af(t),af(e)!==t&&r)throw Error(o(425))}function ps(){}var kl=null,Pl=null;function Nl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,I0=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(R0)}:Ol;function R0(e){setTimeout(function(){throw e})}function Dl(e,t){var r=t,a=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(a===0){e.removeChild(u),$i(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=u}while(r);$i(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Zr,bi="__reactProps$"+Zr,wn="__reactContainer$"+Zr,Ml="__reactEvents$"+Zr,k0="__reactListeners$"+Zr,P0="__reactHandles$"+Zr;function vr(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uf(e);e!==null;){if(r=e[dn])return r;e=uf(e)}return t}e=r,r=e.parentNode}return null}function eo(e){return e=e[dn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function gs(e){return e[bi]||null}var Ul=[],Jr=-1;function Yn(e){return{current:e}}function He(e){0>Jr||(e.current=Ul[Jr],Ul[Jr]=null,Jr--)}function Le(e,t){Jr++,Ul[Jr]=e.current,e.current=t}var Vn={},dt=Yn(Vn),wt=Yn(!1),yr=Vn;function br(e,t){var r=e.type.contextTypes;if(!r)return Vn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function At(e){return e=e.childContextTypes,e!=null}function ms(){He(wt),He(dt)}function cf(e,t,r){if(dt.current!==Vn)throw Error(o(168));Le(dt,t),Le(wt,r)}function df(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(o(108,he(e)||"Unknown",u));return j({},r,a)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,yr=dt.current,Le(dt,e),Le(wt,wt.current),!0}function ff(e,t,r){var a=e.stateNode;if(!a)throw Error(o(169));r?(e=df(e,t,yr),a.__reactInternalMemoizedMergedChildContext=e,He(wt),He(dt),Le(dt,e)):He(wt),Le(wt,r)}var An=null,ys=!1,Fl=!1;function hf(e){An===null?An=[e]:An.push(e)}function N0(e){ys=!0,hf(e)}function Kn(){if(!Fl&&An!==null){Fl=!0;var e=0,t=Oe;try{var r=An;for(Oe=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}An=null,ys=!1}catch(u){throw An!==null&&(An=An.slice(e+1)),pd(rl,Kn),u}finally{Oe=t,Fl=!1}}return null}var ei=[],ti=0,Ss=null,Es=0,zt=[],$t=0,Sr=null,In=1,Cn="";function Er(e,t){ei[ti++]=Es,ei[ti++]=Ss,Ss=e,Es=t}function pf(e,t,r){zt[$t++]=In,zt[$t++]=Cn,zt[$t++]=Sr,Sr=e;var a=In;e=Cn;var u=32-en(a)-1;a&=~(1<<u),r+=1;var f=32-en(t)+u;if(30<f){var p=u-u%5;f=(a&(1<<p)-1).toString(32),a>>=p,u-=p,In=1<<32-en(t)+u|r<<u|a,Cn=f+e}else In=1<<f|r<<u|a,Cn=e}function Ll(e){e.return!==null&&(Er(e,1),pf(e,1,0))}function Bl(e){for(;e===Ss;)Ss=ei[--ti],ei[ti]=null,Es=ei[--ti],ei[ti]=null;for(;e===Sr;)Sr=zt[--$t],zt[$t]=null,Cn=zt[--$t],zt[$t]=null,In=zt[--$t],zt[$t]=null}var Ut=null,Ft=null,ze=!1,nn=null;function gf(e,t){var r=Vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,Ft=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sr!==null?{id:In,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ut=e,Ft=null,!0):!1;default:return!1}}function Hl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xl(e){if(ze){var t=Ft;if(t){var r=t;if(!mf(e,t)){if(Hl(e))throw Error(o(418));t=jn(r.nextSibling);var a=Ut;t&&mf(e,t)?gf(a,r):(e.flags=e.flags&-4097|2,ze=!1,Ut=e)}}else{if(Hl(e))throw Error(o(418));e.flags=e.flags&-4097|2,ze=!1,Ut=e}}}function vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function _s(e){if(e!==Ut)return!1;if(!ze)return vf(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nl(e.type,e.memoizedProps)),t&&(t=Ft)){if(Hl(e))throw yf(),Error(o(418));for(;t;)gf(e,t),t=jn(t.nextSibling)}if(vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ft=jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Ut?jn(e.stateNode.nextSibling):null;return!0}function yf(){for(var e=Ft;e;)e=jn(e.nextSibling)}function ni(){Ft=Ut=null,ze=!1}function Gl(e){nn===null?nn=[e]:nn.push(e)}var O0=W.ReactCurrentBatchConfig;function to(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var a=r.stateNode}if(!a)throw Error(o(147,e));var u=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(p){var y=u.refs;p===null?delete y[f]:y[f]=p},t._stringRef=f,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sf(e){var t=e._init;return t(e._payload)}function Ef(e){function t(I,_){if(e){var C=I.deletions;C===null?(I.deletions=[_],I.flags|=16):C.push(_)}}function r(I,_){if(!e)return null;for(;_!==null;)t(I,_),_=_.sibling;return null}function a(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function u(I,_){return I=tr(I,_),I.index=0,I.sibling=null,I}function f(I,_,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<_?(I.flags|=2,_):C):(I.flags|=2,_)):(I.flags|=1048576,_)}function p(I){return e&&I.alternate===null&&(I.flags|=2),I}function y(I,_,C,G){return _===null||_.tag!==6?(_=Ou(C,I.mode,G),_.return=I,_):(_=u(_,C),_.return=I,_)}function E(I,_,C,G){var J=C.type;return J===x?B(I,_,C.props.children,G,C.key):_!==null&&(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===fe&&Sf(J)===_.type)?(G=u(_,C.props),G.ref=to(I,_,C),G.return=I,G):(G=Vs(C.type,C.key,C.props,null,I.mode,G),G.ref=to(I,_,C),G.return=I,G)}function P(I,_,C,G){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Du(C,I.mode,G),_.return=I,_):(_=u(_,C.children||[]),_.return=I,_)}function B(I,_,C,G,J){return _===null||_.tag!==7?(_=kr(C,I.mode,G,J),_.return=I,_):(_=u(_,C),_.return=I,_)}function H(I,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ou(""+_,I.mode,C),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Z:return C=Vs(_.type,_.key,_.props,null,I.mode,C),C.ref=to(I,null,_),C.return=I,C;case F:return _=Du(_,I.mode,C),_.return=I,_;case fe:var G=_._init;return H(I,G(_._payload),C)}if(Ln(_)||V(_))return _=kr(_,I.mode,C,null),_.return=I,_;Ts(I,_)}return null}function L(I,_,C,G){var J=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:y(I,_,""+C,G);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:return C.key===J?E(I,_,C,G):null;case F:return C.key===J?P(I,_,C,G):null;case fe:return J=C._init,L(I,_,J(C._payload),G)}if(Ln(C)||V(C))return J!==null?null:B(I,_,C,G,null);Ts(I,C)}return null}function Y(I,_,C,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(C)||null,y(_,I,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return I=I.get(G.key===null?C:G.key)||null,E(_,I,G,J);case F:return I=I.get(G.key===null?C:G.key)||null,P(_,I,G,J);case fe:var te=G._init;return Y(I,_,C,te(G._payload),J)}if(Ln(G)||V(G))return I=I.get(C)||null,B(_,I,G,J,null);Ts(_,G)}return null}function Q(I,_,C,G){for(var J=null,te=null,ne=_,le=_=0,rt=null;ne!==null&&le<C.length;le++){ne.index>le?(rt=ne,ne=null):rt=ne.sibling;var Re=L(I,ne,C[le],G);if(Re===null){ne===null&&(ne=rt);break}e&&ne&&Re.alternate===null&&t(I,ne),_=f(Re,_,le),te===null?J=Re:te.sibling=Re,te=Re,ne=rt}if(le===C.length)return r(I,ne),ze&&Er(I,le),J;if(ne===null){for(;le<C.length;le++)ne=H(I,C[le],G),ne!==null&&(_=f(ne,_,le),te===null?J=ne:te.sibling=ne,te=ne);return ze&&Er(I,le),J}for(ne=a(I,ne);le<C.length;le++)rt=Y(ne,I,le,C[le],G),rt!==null&&(e&&rt.alternate!==null&&ne.delete(rt.key===null?le:rt.key),_=f(rt,_,le),te===null?J=rt:te.sibling=rt,te=rt);return e&&ne.forEach(function(nr){return t(I,nr)}),ze&&Er(I,le),J}function q(I,_,C,G){var J=V(C);if(typeof J!="function")throw Error(o(150));if(C=J.call(C),C==null)throw Error(o(151));for(var te=J=null,ne=_,le=_=0,rt=null,Re=C.next();ne!==null&&!Re.done;le++,Re=C.next()){ne.index>le?(rt=ne,ne=null):rt=ne.sibling;var nr=L(I,ne,Re.value,G);if(nr===null){ne===null&&(ne=rt);break}e&&ne&&nr.alternate===null&&t(I,ne),_=f(nr,_,le),te===null?J=nr:te.sibling=nr,te=nr,ne=rt}if(Re.done)return r(I,ne),ze&&Er(I,le),J;if(ne===null){for(;!Re.done;le++,Re=C.next())Re=H(I,Re.value,G),Re!==null&&(_=f(Re,_,le),te===null?J=Re:te.sibling=Re,te=Re);return ze&&Er(I,le),J}for(ne=a(I,ne);!Re.done;le++,Re=C.next())Re=Y(ne,I,le,Re.value,G),Re!==null&&(e&&Re.alternate!==null&&ne.delete(Re.key===null?le:Re.key),_=f(Re,_,le),te===null?J=Re:te.sibling=Re,te=Re);return e&&ne.forEach(function(cv){return t(I,cv)}),ze&&Er(I,le),J}function Xe(I,_,C,G){if(typeof C=="object"&&C!==null&&C.type===x&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:e:{for(var J=C.key,te=_;te!==null;){if(te.key===J){if(J=C.type,J===x){if(te.tag===7){r(I,te.sibling),_=u(te,C.props.children),_.return=I,I=_;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===fe&&Sf(J)===te.type){r(I,te.sibling),_=u(te,C.props),_.ref=to(I,te,C),_.return=I,I=_;break e}r(I,te);break}else t(I,te);te=te.sibling}C.type===x?(_=kr(C.props.children,I.mode,G,C.key),_.return=I,I=_):(G=Vs(C.type,C.key,C.props,null,I.mode,G),G.ref=to(I,_,C),G.return=I,I=G)}return p(I);case F:e:{for(te=C.key;_!==null;){if(_.key===te)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){r(I,_.sibling),_=u(_,C.children||[]),_.return=I,I=_;break e}else{r(I,_);break}else t(I,_);_=_.sibling}_=Du(C,I.mode,G),_.return=I,I=_}return p(I);case fe:return te=C._init,Xe(I,_,te(C._payload),G)}if(Ln(C))return Q(I,_,C,G);if(V(C))return q(I,_,C,G);Ts(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(r(I,_.sibling),_=u(_,C),_.return=I,I=_):(r(I,_),_=Ou(C,I.mode,G),_.return=I,I=_),p(I)):r(I,_)}return Xe}var ri=Ef(!0),_f=Ef(!1),ws=Yn(null),As=null,ii=null,zl=null;function $l(){zl=ii=As=null}function Wl(e){var t=ws.current;He(ws),e._currentValue=t}function jl(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function oi(e,t){As=e,zl=ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:t,next:null},ii===null){if(As===null)throw Error(o(308));ii=e,As.dependencies={lanes:0,firstContext:e}}else ii=ii.next=e;return t}var _r=null;function Yl(e){_r===null?_r=[e]:_r.push(e)}function Tf(e,t,r,a){var u=t.interleaved;return u===null?(r.next=r,Yl(t)):(r.next=u.next,u.next=r),t.interleaved=r,Rn(e,a)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(we&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Rn(e,r)}return u=a.interleaved,u===null?(t.next=t,Yl(a)):(t.next=u.next,u.next=t),a.interleaved=t,Rn(e,r)}function Is(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,sl(e,r)}}function Af(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cs(e,t,r,a){var u=e.updateQueue;Xn=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var E=y,P=E.next;E.next=null,p===null?f=P:p.next=P,p=E;var B=e.alternate;B!==null&&(B=B.updateQueue,y=B.lastBaseUpdate,y!==p&&(y===null?B.firstBaseUpdate=P:y.next=P,B.lastBaseUpdate=E))}if(f!==null){var H=u.baseState;p=0,B=P=E=null,y=f;do{var L=y.lane,Y=y.eventTime;if((a&L)===L){B!==null&&(B=B.next={eventTime:Y,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Q=e,q=y;switch(L=t,Y=r,q.tag){case 1:if(Q=q.payload,typeof Q=="function"){H=Q.call(Y,H,L);break e}H=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=q.payload,L=typeof Q=="function"?Q.call(Y,H,L):Q,L==null)break e;H=j({},H,L);break e;case 2:Xn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,L=u.effects,L===null?u.effects=[y]:L.push(y))}else Y={eventTime:Y,lane:L,tag:y.tag,payload:y.payload,callback:y.callback,next:null},B===null?(P=B=Y,E=H):B=B.next=Y,p|=L;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;L=y,y=L.next,L.next=null,u.lastBaseUpdate=L,u.shared.pending=null}}while(!0);if(B===null&&(E=H),u.baseState=E,u.firstBaseUpdate=P,u.lastBaseUpdate=B,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);Ar|=p,e.lanes=p,e.memoizedState=H}}function If(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=r,typeof u!="function")throw Error(o(191,u));u.call(a)}}}var no={},fn=Yn(no),ro=Yn(no),io=Yn(no);function Tr(e){if(e===no)throw Error(o(174));return e}function Kl(e,t){switch(Le(io,t),Le(ro,e),Le(fn,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xa(t,e)}He(fn),Le(fn,t)}function si(){He(fn),He(ro),He(io)}function Cf(e){Tr(io.current);var t=Tr(fn.current),r=Xa(t,e.type);t!==r&&(Le(ro,e),Le(fn,r))}function Xl(e){ro.current===e&&(He(fn),He(ro))}var We=Yn(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ql=[];function Zl(){for(var e=0;e<Ql.length;e++)Ql[e]._workInProgressVersionPrimary=null;Ql.length=0}var ks=W.ReactCurrentDispatcher,ql=W.ReactCurrentBatchConfig,wr=0,je=null,be=null,tt=null,Ps=!1,oo=!1,so=0,D0=0;function ft(){throw Error(o(321))}function Jl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tn(e[r],t[r]))return!1;return!0}function bl(e,t,r,a,u,f){if(wr=f,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?L0:B0,e=r(a,u),oo){f=0;do{if(oo=!1,so=0,25<=f)throw Error(o(301));f+=1,tt=be=null,t.updateQueue=null,ks.current=H0,e=r(a,u)}while(oo)}if(ks.current=Ds,t=be!==null&&be.next!==null,wr=0,tt=be=je=null,Ps=!1,t)throw Error(o(300));return e}function eu(){var e=so!==0;return so=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?je.memoizedState=tt=e:tt=tt.next=e,tt}function jt(){if(be===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=tt===null?je.memoizedState:tt.next;if(t!==null)tt=t,be=e;else{if(e===null)throw Error(o(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tt===null?je.memoizedState=tt=e:tt=tt.next=e}return tt}function ao(e,t){return typeof t=="function"?t(e):t}function tu(e){var t=jt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var a=be,u=a.baseQueue,f=r.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}a.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,a=a.baseState;var y=p=null,E=null,P=f;do{var B=P.lane;if((wr&B)===B)E!==null&&(E=E.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var H={lane:B,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};E===null?(y=E=H,p=a):E=E.next=H,je.lanes|=B,Ar|=B}P=P.next}while(P!==null&&P!==f);E===null?p=a:E.next=y,tn(a,t.memoizedState)||(It=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=E,r.lastRenderedState=a}if(e=r.interleaved,e!==null){u=e;do f=u.lane,je.lanes|=f,Ar|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nu(e){var t=jt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var a=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);tn(f,t.memoizedState)||(It=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,a]}function Rf(){}function kf(e,t){var r=je,a=jt(),u=t(),f=!tn(a.memoizedState,u);if(f&&(a.memoizedState=u,It=!0),a=a.queue,ru(Of.bind(null,r,a,e),[e]),a.getSnapshot!==t||f||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,lo(9,Nf.bind(null,r,a,u,t),void 0,null),nt===null)throw Error(o(349));(wr&30)!==0||Pf(r,t,u)}return u}function Pf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nf(e,t,r,a){t.value=r,t.getSnapshot=a,Df(t)&&Mf(e)}function Of(e,t,r){return r(function(){Df(t)&&Mf(e)})}function Df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tn(e,r)}catch{return!0}}function Mf(e){var t=Rn(e,1);t!==null&&an(t,e,1,-1)}function Uf(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:e},t.queue=e,e=e.dispatch=F0.bind(null,je,e),[t.memoizedState,e]}function lo(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function Ff(){return jt().memoizedState}function Ns(e,t,r,a){var u=hn();je.flags|=e,u.memoizedState=lo(1|t,r,void 0,a===void 0?null:a)}function Os(e,t,r,a){var u=jt();a=a===void 0?null:a;var f=void 0;if(be!==null){var p=be.memoizedState;if(f=p.destroy,a!==null&&Jl(a,p.deps)){u.memoizedState=lo(t,r,f,a);return}}je.flags|=e,u.memoizedState=lo(1|t,r,f,a)}function Lf(e,t){return Ns(8390656,8,e,t)}function ru(e,t){return Os(2048,8,e,t)}function Bf(e,t){return Os(4,2,e,t)}function Hf(e,t){return Os(4,4,e,t)}function xf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gf(e,t,r){return r=r!=null?r.concat([e]):null,Os(4,4,xf.bind(null,t,e),r)}function iu(){}function zf(e,t){var r=jt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Jl(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function $f(e,t){var r=jt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Jl(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Wf(e,t,r){return(wr&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=r):(tn(r,t)||(r=yd(),je.lanes|=r,Ar|=r,e.baseState=!0),t)}function M0(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var a=ql.transition;ql.transition={};try{e(!1),t()}finally{Oe=r,ql.transition=a}}function jf(){return jt().memoizedState}function U0(e,t,r){var a=bn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Yf(e))Vf(t,r);else if(r=Tf(e,t,r,a),r!==null){var u=Et();an(r,e,a,u),Kf(r,t,a)}}function F0(e,t,r){var a=bn(e),u={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yf(e))Vf(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,y=f(p,r);if(u.hasEagerState=!0,u.eagerState=y,tn(y,p)){var E=t.interleaved;E===null?(u.next=u,Yl(t)):(u.next=E.next,E.next=u),t.interleaved=u;return}}catch{}finally{}r=Tf(e,t,u,a),r!==null&&(u=Et(),an(r,e,a,u),Kf(r,t,a))}}function Yf(e){var t=e.alternate;return e===je||t!==null&&t===je}function Vf(e,t){oo=Ps=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kf(e,t,r){if((r&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,sl(e,r)}}var Ds={readContext:Wt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},L0={readContext:Wt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Lf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ns(4194308,4,xf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=hn();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=U0.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Uf,useDebugValue:iu,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Uf(!1),t=e[0];return e=M0.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=je,u=hn();if(ze){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),nt===null)throw Error(o(349));(wr&30)!==0||Pf(a,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Lf(Of.bind(null,a,f,e),[e]),a.flags|=2048,lo(9,Nf.bind(null,a,f,r,t),void 0,null),r},useId:function(){var e=hn(),t=nt.identifierPrefix;if(ze){var r=Cn,a=In;r=(a&~(1<<32-en(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=so++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=D0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B0={readContext:Wt,useCallback:zf,useContext:Wt,useEffect:ru,useImperativeHandle:Gf,useInsertionEffect:Bf,useLayoutEffect:Hf,useMemo:$f,useReducer:tu,useRef:Ff,useState:function(){return tu(ao)},useDebugValue:iu,useDeferredValue:function(e){var t=jt();return Wf(t,be.memoizedState,e)},useTransition:function(){var e=tu(ao)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:kf,useId:jf,unstable_isNewReconciler:!1},H0={readContext:Wt,useCallback:zf,useContext:Wt,useEffect:ru,useImperativeHandle:Gf,useInsertionEffect:Bf,useLayoutEffect:Hf,useMemo:$f,useReducer:nu,useRef:Ff,useState:function(){return nu(ao)},useDebugValue:iu,useDeferredValue:function(e){var t=jt();return be===null?t.memoizedState=e:Wf(t,be.memoizedState,e)},useTransition:function(){var e=nu(ao)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:kf,useId:jf,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ou(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:j({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ms={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Et(),u=bn(e),f=kn(a,u);f.payload=t,r!=null&&(f.callback=r),t=Qn(e,f,u),t!==null&&(an(t,e,u,a),Is(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Et(),u=bn(e),f=kn(a,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Qn(e,f,u),t!==null&&(an(t,e,u,a),Is(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Et(),a=bn(e),u=kn(r,a);u.tag=2,t!=null&&(u.callback=t),t=Qn(e,u,a),t!==null&&(an(t,e,a,r),Is(t,e,a))}};function Xf(e,t,r,a,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,p):t.prototype&&t.prototype.isPureReactComponent?!Xi(r,a)||!Xi(u,f):!0}function Qf(e,t,r){var a=!1,u=Vn,f=t.contextType;return typeof f=="object"&&f!==null?f=Wt(f):(u=At(t)?yr:dt.current,a=t.contextTypes,f=(a=a!=null)?br(e,u):Vn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ms,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Zf(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Ms.enqueueReplaceState(t,t.state,null)}function su(e,t,r,a){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},Vl(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=Wt(f):(f=At(t)?yr:dt.current,u.context=br(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ou(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Ms.enqueueReplaceState(u,u.state,null),Cs(e,r,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t){try{var r="",a=t;do r+=me(a),a=a.return;while(a);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function au(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function qf(e,t,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Gs||(Gs=!0,wu=a),lu(e,t)},r}function Jf(e,t,r){r=kn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;r.payload=function(){return a(u)},r.callback=function(){lu(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){lu(e,t),typeof a!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function bf(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new x0;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(r)||(u.add(r),e=b0.bind(null,e,t,r),t.then(e,e))}function eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function th(e,t,r,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kn(-1,1),t.tag=2,Qn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var G0=W.ReactCurrentOwner,It=!1;function St(e,t,r,a){t.child=e===null?_f(t,null,r,a):ri(t,e.child,r,a)}function nh(e,t,r,a,u){r=r.render;var f=t.ref;return oi(t,u),a=bl(e,t,r,a,f,u),r=eu(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Pn(e,t,u)):(ze&&r&&Ll(t),t.flags|=1,St(e,t,a,u),t.child)}function rh(e,t,r,a,u){if(e===null){var f=r.type;return typeof f=="function"&&!Nu(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,ih(e,t,f,a,u)):(e=Vs(r.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&u)===0){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(p,a)&&e.ref===t.ref)return Pn(e,t,u)}return t.flags|=1,e=tr(f,a),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,r,a,u){if(e!==null){var f=e.memoizedProps;if(Xi(f,a)&&e.ref===t.ref)if(It=!1,t.pendingProps=a=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,Pn(e,t,u)}return uu(e,t,r,a,u)}function oh(e,t,r){var a=t.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ui,Lt),Lt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(ui,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:r,Le(ui,Lt),Lt|=a}else f!==null?(a=f.baseLanes|r,t.memoizedState=null):a=r,Le(ui,Lt),Lt|=a;return St(e,t,u,r),t.child}function sh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,r,a,u){var f=At(r)?yr:dt.current;return f=br(t,f),oi(t,u),r=bl(e,t,r,a,f,u),a=eu(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Pn(e,t,u)):(ze&&a&&Ll(t),t.flags|=1,St(e,t,r,u),t.child)}function ah(e,t,r,a,u){if(At(r)){var f=!0;vs(t)}else f=!1;if(oi(t,u),t.stateNode===null)Fs(e,t),Qf(t,r,a),su(t,r,a,u),a=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var E=p.context,P=r.contextType;typeof P=="object"&&P!==null?P=Wt(P):(P=At(r)?yr:dt.current,P=br(t,P));var B=r.getDerivedStateFromProps,H=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function";H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==a||E!==P)&&Zf(t,p,a,P),Xn=!1;var L=t.memoizedState;p.state=L,Cs(t,a,p,u),E=t.memoizedState,y!==a||L!==E||wt.current||Xn?(typeof B=="function"&&(ou(t,r,B,a),E=t.memoizedState),(y=Xn||Xf(t,r,y,a,L,E,P))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),p.props=a,p.state=E,p.context=P,a=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,wf(e,t),y=t.memoizedProps,P=t.type===t.elementType?y:rn(t.type,y),p.props=P,H=t.pendingProps,L=p.context,E=r.contextType,typeof E=="object"&&E!==null?E=Wt(E):(E=At(r)?yr:dt.current,E=br(t,E));var Y=r.getDerivedStateFromProps;(B=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==H||L!==E)&&Zf(t,p,a,E),Xn=!1,L=t.memoizedState,p.state=L,Cs(t,a,p,u);var Q=t.memoizedState;y!==H||L!==Q||wt.current||Xn?(typeof Y=="function"&&(ou(t,r,Y,a),Q=t.memoizedState),(P=Xn||Xf(t,r,P,a,L,Q,E)||!1)?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,Q,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,Q,E)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),p.props=a,p.state=Q,p.context=E,a=P):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return cu(e,t,r,a,f,u)}function cu(e,t,r,a,u,f){sh(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return u&&ff(t,r,!1),Pn(e,t,f);a=t.stateNode,G0.current=t;var y=p&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=ri(t,e.child,null,f),t.child=ri(t,null,y,f)):St(e,t,y,f),t.memoizedState=a.state,u&&ff(t,r,!0),t.child}function lh(e){var t=e.stateNode;t.pendingContext?cf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cf(e,t.context,!1),Kl(e,t.containerInfo)}function uh(e,t,r,a,u){return ni(),Gl(u),t.flags|=256,St(e,t,r,a),t.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ch(e,t,r){var a=t.pendingProps,u=We.current,f=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Le(We,u&1),e===null)return xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,f?(a=t.mode,f=t.child,p={mode:"hidden",children:p},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Ks(p,a,0,null),e=kr(e,a,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=fu(r),t.memoizedState=du,e):hu(t,p));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return z0(e,t,p,a,y,u,r);if(f){f=a.fallback,p=t.mode,u=e.child,y=u.sibling;var E={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=E,t.deletions=null):(a=tr(u,E),a.subtreeFlags=u.subtreeFlags&14680064),y!==null?f=tr(y,f):(f=kr(f,p,r,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,p=e.child.memoizedState,p=p===null?fu(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~r,t.memoizedState=du,a}return f=e.child,e=f.sibling,a=tr(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function hu(e,t){return t=Ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,r,a){return a!==null&&Gl(a),ri(t,e.child,null,r),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z0(e,t,r,a,u,f,p){if(r)return t.flags&256?(t.flags&=-257,a=au(Error(o(422))),Us(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,u=t.mode,a=Ks({mode:"visible",children:a.children},u,0,null),f=kr(f,u,p,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&ri(t,e.child,null,p),t.child.memoizedState=fu(p),t.memoizedState=du,f);if((t.mode&1)===0)return Us(e,t,p,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var y=a.dgst;return a=y,f=Error(o(419)),a=au(f,a,void 0),Us(e,t,p,a)}if(y=(p&e.childLanes)!==0,It||y){if(a=nt,a!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|p))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Rn(e,u),an(a,e,u,-1))}return Pu(),a=au(Error(o(421))),Us(e,t,p,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=ev.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,Ft=jn(u.nextSibling),Ut=t,ze=!0,nn=null,e!==null&&(zt[$t++]=In,zt[$t++]=Cn,zt[$t++]=Sr,In=e.id,Cn=e.overflow,Sr=t),t=hu(t,a.children),t.flags|=4096,t)}function dh(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),jl(e.return,t,r)}function pu(e,t,r,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=r,f.tailMode=u)}function fh(e,t,r){var a=t.pendingProps,u=a.revealOrder,f=a.tail;if(St(e,t,a.children,r),a=We.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,r,t);else if(e.tag===19)dh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(We,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Rs(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),pu(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Rs(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}pu(t,!0,r,null,f);break;case"together":pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $0(e,t,r){switch(t.tag){case 3:lh(t),ni();break;case 5:Cf(t);break;case 1:At(t.type)&&vs(t);break;case 4:Kl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;Le(ws,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(We,We.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?ch(e,t,r):(Le(We,We.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);Le(We,We.current&1);break;case 19:if(a=(r&t.childLanes)!==0,(e.flags&128)!==0){if(a)return fh(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Le(We,We.current),a)break;return null;case 22:case 23:return t.lanes=0,oh(e,t,r)}return Pn(e,t,r)}var hh,gu,ph,gh;hh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},gu=function(){},ph=function(e,t,r,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,Tr(fn.current);var f=null;switch(r){case"input":u=Dt(e,u),a=Dt(e,a),f=[];break;case"select":u=j({},u,{value:void 0}),a=j({},a,{value:void 0}),f=[];break;case"textarea":u=gr(e,u),a=gr(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ps)}Qa(r,a);var p;r=null;for(P in u)if(!a.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var y=u[P];for(p in y)y.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in a){var E=a[P];if(y=u!=null?u[P]:void 0,a.hasOwnProperty(P)&&E!==y&&(E!=null||y!=null))if(P==="style")if(y){for(p in y)!y.hasOwnProperty(p)||E&&E.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in E)E.hasOwnProperty(p)&&y[p]!==E[p]&&(r||(r={}),r[p]=E[p])}else r||(f||(f=[]),f.push(P,r)),r=E;else P==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,y=y?y.__html:void 0,E!=null&&y!==E&&(f=f||[]).push(P,E)):P==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(P,""+E):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(E!=null&&P==="onScroll"&&Be("scroll",e),f||y===E||(f=[])):(f=f||[]).push(P,E))}r&&(f=f||[]).push("style",r);var P=f;(t.updateQueue=P)&&(t.flags|=4)}},gh=function(e,t,r,a){r!==a&&(t.flags|=4)};function uo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function W0(e,t,r){var a=t.pendingProps;switch(Bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return At(t.type)&&ms(),ht(t),null;case 3:return a=t.stateNode,si(),He(wt),He(dt),Zl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nn!==null&&(Cu(nn),nn=null))),gu(e,t),ht(t),null;case 5:Xl(t);var u=Tr(io.current);if(r=t.type,e!==null&&t.stateNode!=null)ph(e,t,r,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ht(t),null}if(e=Tr(fn.current),_s(t)){a=t.stateNode,r=t.type;var f=t.memoizedProps;switch(a[dn]=t,a[bi]=f,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(u=0;u<Zi.length;u++)Be(Zi[u],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Gt(a,f),Be("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Be("invalid",a);break;case"textarea":qc(a,f),Be("invalid",a)}Qa(r,f),u=null;for(var p in f)if(f.hasOwnProperty(p)){var y=f[p];p==="children"?typeof y=="string"?a.textContent!==y&&(f.suppressHydrationWarning!==!0&&hs(a.textContent,y,e),u=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&hs(a.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&Be("scroll",a)}switch(r){case"input":ke(a),Fn(a,f,!0);break;case"textarea":ke(a),bc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ps)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ed(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(r,{is:a.is}):(e=p.createElement(r),r==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,r),e[dn]=t,e[bi]=a,hh(e,t,!1,!1),t.stateNode=e;e:{switch(p=Za(r,a),r){case"dialog":Be("cancel",e),Be("close",e),u=a;break;case"iframe":case"object":case"embed":Be("load",e),u=a;break;case"video":case"audio":for(u=0;u<Zi.length;u++)Be(Zi[u],e);u=a;break;case"source":Be("error",e),u=a;break;case"img":case"image":case"link":Be("error",e),Be("load",e),u=a;break;case"details":Be("toggle",e),u=a;break;case"input":Gt(e,a),u=Dt(e,a),Be("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=j({},a,{value:void 0}),Be("invalid",e);break;case"textarea":qc(e,a),u=gr(e,a),Be("invalid",e);break;default:u=a}Qa(r,u),y=u;for(f in y)if(y.hasOwnProperty(f)){var E=y[f];f==="style"?rd(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&td(e,E)):f==="children"?typeof E=="string"?(r!=="textarea"||E!=="")&&Oi(e,E):typeof E=="number"&&Oi(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?E!=null&&f==="onScroll"&&Be("scroll",e):E!=null&&z(e,f,E,p))}switch(r){case"input":ke(e),Fn(e,a,!1);break;case"textarea":ke(e),bc(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ce(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Bn(e,!!a.multiple,f,!1):a.defaultValue!=null&&Bn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ps)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)gh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(r=Tr(io.current),Tr(fn.current),_s(t)){if(a=t.stateNode,r=t.memoizedProps,a[dn]=t,(f=a.nodeValue!==r)&&(e=Ut,e!==null))switch(e.tag){case 3:hs(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hs(a.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[dn]=t,t.stateNode=a}return ht(t),null;case 13:if(He(We),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)yf(),ni(),t.flags|=98560,f=!1;else if(f=_s(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[dn]=t}else ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),f=!1}else nn!==null&&(Cu(nn),nn=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(We.current&1)!==0?et===0&&(et=3):Pu())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return si(),gu(e,t),e===null&&qi(t.stateNode.containerInfo),ht(t),null;case 10:return Wl(t.type._context),ht(t),null;case 17:return At(t.type)&&ms(),ht(t),null;case 19:if(He(We),f=t.memoizedState,f===null)return ht(t),null;if(a=(t.flags&128)!==0,p=f.rendering,p===null)if(a)uo(f,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Rs(e),p!==null){for(t.flags|=128,uo(f,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)f=r,e=a,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(We,We.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ke()>ci&&(t.flags|=128,a=!0,uo(f,!1),t.lanes=4194304)}else{if(!a)if(e=Rs(p),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!ze)return ht(t),null}else 2*Ke()-f.renderingStartTime>ci&&r!==1073741824&&(t.flags|=128,a=!0,uo(f,!1),t.lanes=4194304);f.isBackwards?(p.sibling=t.child,t.child=p):(r=f.last,r!==null?r.sibling=p:t.child=p,f.last=p)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ke(),t.sibling=null,r=We.current,Le(We,a?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return ku(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function j0(e,t){switch(Bl(t),t.tag){case 1:return At(t.type)&&ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),He(wt),He(dt),Zl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Xl(t),null;case 13:if(He(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(We),null;case 4:return si(),null;case 10:return Wl(t.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Ls=!1,pt=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,K=null;function li(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Ye(e,t,a)}else r.current=null}function mu(e,t,r){try{r()}catch(a){Ye(e,t,a)}}var mh=!1;function V0(e,t){if(kl=ns,e=Kd(),El(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,y=-1,E=-1,P=0,B=0,H=e,L=null;t:for(;;){for(var Y;H!==r||u!==0&&H.nodeType!==3||(y=p+u),H!==f||a!==0&&H.nodeType!==3||(E=p+a),H.nodeType===3&&(p+=H.nodeValue.length),(Y=H.firstChild)!==null;)L=H,H=Y;for(;;){if(H===e)break t;if(L===r&&++P===u&&(y=p),L===f&&++B===a&&(E=p),(Y=H.nextSibling)!==null)break;H=L,L=H.parentNode}H=Y}r=y===-1||E===-1?null:{start:y,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pl={focusedElem:e,selectionRange:r},ns=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var q=Q.memoizedProps,Xe=Q.memoizedState,I=t.stateNode,_=I.getSnapshotBeforeUpdate(t.elementType===t.type?q:rn(t.type,q),Xe);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(G){Ye(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return Q=mh,mh=!1,Q}function co(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&mu(t,r,f)}u=u.next}while(u!==a)}}function Bs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function vu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vh(e){var t=e.alternate;t!==null&&(e.alternate=null,vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[bi],delete t[Ml],delete t[k0],delete t[P0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yh(e){return e.tag===5||e.tag===3||e.tag===4}function Sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ps));else if(a!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}function Su(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Su(e,t,r),e=e.sibling;e!==null;)Su(e,t,r),e=e.sibling}var st=null,on=!1;function Zn(e,t,r){for(r=r.child;r!==null;)Eh(e,t,r),r=r.sibling}function Eh(e,t,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Zo,r)}catch{}switch(r.tag){case 5:pt||li(r,t);case 6:var a=st,u=on;st=null,Zn(e,t,r),st=a,on=u,st!==null&&(on?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(on?(e=st,r=r.stateNode,e.nodeType===8?Dl(e.parentNode,r):e.nodeType===1&&Dl(e,r),$i(e)):Dl(st,r.stateNode));break;case 4:a=st,u=on,st=r.stateNode.containerInfo,on=!0,Zn(e,t,r),st=a,on=u;break;case 0:case 11:case 14:case 15:if(!pt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,p=f.destroy;f=f.tag,p!==void 0&&((f&2)!==0||(f&4)!==0)&&mu(r,t,p),u=u.next}while(u!==a)}Zn(e,t,r);break;case 1:if(!pt&&(li(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(y){Ye(r,t,y)}Zn(e,t,r);break;case 21:Zn(e,t,r);break;case 22:r.mode&1?(pt=(a=pt)||r.memoizedState!==null,Zn(e,t,r),pt=a):Zn(e,t,r);break;default:Zn(e,t,r)}}function _h(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Y0),t.forEach(function(a){var u=tv.bind(null,e,a);r.has(a)||(r.add(a),a.then(u,u))})}}function sn(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];try{var f=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:st=y.stateNode,on=!1;break e;case 3:st=y.stateNode.containerInfo,on=!0;break e;case 4:st=y.stateNode.containerInfo,on=!0;break e}y=y.return}if(st===null)throw Error(o(160));Eh(f,p,u),st=null,on=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(P){Ye(u,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Th(t,e),t=t.sibling}function Th(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),pn(e),a&4){try{co(3,e,e.return),Bs(3,e)}catch(q){Ye(e,e.return,q)}try{co(5,e,e.return)}catch(q){Ye(e,e.return,q)}}break;case 1:sn(t,e),pn(e),a&512&&r!==null&&li(r,r.return);break;case 5:if(sn(t,e),pn(e),a&512&&r!==null&&li(r,r.return),e.flags&32){var u=e.stateNode;try{Oi(u,"")}catch(q){Ye(e,e.return,q)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,p=r!==null?r.memoizedProps:f,y=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&pr(u,f),Za(y,p);var P=Za(y,f);for(p=0;p<E.length;p+=2){var B=E[p],H=E[p+1];B==="style"?rd(u,H):B==="dangerouslySetInnerHTML"?td(u,H):B==="children"?Oi(u,H):z(u,B,H,P)}switch(y){case"input":Tn(u,f);break;case"textarea":Jc(u,f);break;case"select":var L=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Bn(u,!!f.multiple,Y,!1):L!==!!f.multiple&&(f.defaultValue!=null?Bn(u,!!f.multiple,f.defaultValue,!0):Bn(u,!!f.multiple,f.multiple?[]:"",!1))}u[bi]=f}catch(q){Ye(e,e.return,q)}}break;case 6:if(sn(t,e),pn(e),a&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(q){Ye(e,e.return,q)}}break;case 3:if(sn(t,e),pn(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(q){Ye(e,e.return,q)}break;case 4:sn(t,e),pn(e);break;case 13:sn(t,e),pn(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Tu=Ke())),a&4&&_h(e);break;case 22:if(B=r!==null&&r.memoizedState!==null,e.mode&1?(pt=(P=pt)||B,sn(t,e),pt=P):sn(t,e),pn(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!B&&(e.mode&1)!==0)for(K=e,B=e.child;B!==null;){for(H=K=B;K!==null;){switch(L=K,Y=L.child,L.tag){case 0:case 11:case 14:case 15:co(4,L,L.return);break;case 1:li(L,L.return);var Q=L.stateNode;if(typeof Q.componentWillUnmount=="function"){a=L,r=L.return;try{t=a,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(q){Ye(a,r,q)}}break;case 5:li(L,L.return);break;case 22:if(L.memoizedState!==null){Ih(H);continue}}Y!==null?(Y.return=L,K=Y):Ih(H)}B=B.sibling}e:for(B=null,H=e;;){if(H.tag===5){if(B===null){B=H;try{u=H.stateNode,P?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=H.stateNode,E=H.memoizedProps.style,p=E!=null&&E.hasOwnProperty("display")?E.display:null,y.style.display=nd("display",p))}catch(q){Ye(e,e.return,q)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(q){Ye(e,e.return,q)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:sn(t,e),pn(e),a&4&&_h(e);break;case 21:break;default:sn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yh(r)){var a=r;break e}r=r.return}throw Error(o(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Oi(u,""),a.flags&=-33);var f=Sh(e);Su(e,f,u);break;case 3:case 4:var p=a.stateNode.containerInfo,y=Sh(e);yu(e,y,p);break;default:throw Error(o(161))}}catch(E){Ye(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K0(e,t,r){K=e,wh(e)}function wh(e,t,r){for(var a=(e.mode&1)!==0;K!==null;){var u=K,f=u.child;if(u.tag===22&&a){var p=u.memoizedState!==null||Ls;if(!p){var y=u.alternate,E=y!==null&&y.memoizedState!==null||pt;y=Ls;var P=pt;if(Ls=p,(pt=E)&&!P)for(K=u;K!==null;)p=K,E=p.child,p.tag===22&&p.memoizedState!==null?Ch(u):E!==null?(E.return=p,K=E):Ch(u);for(;f!==null;)K=f,wh(f),f=f.sibling;K=u,Ls=y,pt=P}Ah(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,K=f):Ah(e)}}function Ah(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||Bs(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!pt)if(r===null)a.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:rn(t.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&If(t,f,a);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}If(t,p,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&r.focus();break;case"img":E.src&&(r.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var B=P.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&$i(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}pt||t.flags&512&&vu(t)}catch(L){Ye(t,t.return,L)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Ih(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function Ch(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bs(4,t)}catch(E){Ye(t,r,E)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(E){Ye(t,u,E)}}var f=t.return;try{vu(t)}catch(E){Ye(t,f,E)}break;case 5:var p=t.return;try{vu(t)}catch(E){Ye(t,p,E)}}}catch(E){Ye(t,t.return,E)}if(t===e){K=null;break}var y=t.sibling;if(y!==null){y.return=t.return,K=y;break}K=t.return}}var X0=Math.ceil,Hs=W.ReactCurrentDispatcher,Eu=W.ReactCurrentOwner,Yt=W.ReactCurrentBatchConfig,we=0,nt=null,Ze=null,at=0,Lt=0,ui=Yn(0),et=0,fo=null,Ar=0,xs=0,_u=0,ho=null,Ct=null,Tu=0,ci=1/0,Nn=null,Gs=!1,wu=null,qn=null,zs=!1,Jn=null,$s=0,po=0,Au=null,Ws=-1,js=0;function Et(){return(we&6)!==0?Ke():Ws!==-1?Ws:Ws=Ke()}function bn(e){return(e.mode&1)===0?1:(we&2)!==0&&at!==0?at&-at:O0.transition!==null?(js===0&&(js=yd()),js):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Rd(e.type)),e)}function an(e,t,r,a){if(50<po)throw po=0,Au=null,Error(o(185));Bi(e,r,a),((we&2)===0||e!==nt)&&(e===nt&&((we&2)===0&&(xs|=r),et===4&&er(e,at)),Rt(e,a),r===1&&we===0&&(t.mode&1)===0&&(ci=Ke()+500,ys&&Kn()))}function Rt(e,t){var r=e.callbackNode;Om(e,t);var a=bo(e,e===nt?at:0);if(a===0)r!==null&&gd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&gd(r),t===1)e.tag===0?N0(kh.bind(null,e)):hf(kh.bind(null,e)),C0(function(){(we&6)===0&&Kn()}),r=null;else{switch(Sd(a)){case 1:r=rl;break;case 4:r=md;break;case 16:r=Qo;break;case 536870912:r=vd;break;default:r=Qo}r=Lh(r,Rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rh(e,t){if(Ws=-1,js=0,(we&6)!==0)throw Error(o(327));var r=e.callbackNode;if(di()&&e.callbackNode!==r)return null;var a=bo(e,e===nt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ys(e,a);else{t=a;var u=we;we|=2;var f=Nh();(nt!==e||at!==t)&&(Nn=null,ci=Ke()+500,Cr(e,t));do try{q0();break}catch(y){Ph(e,y)}while(!0);$l(),Hs.current=f,we=u,Ze!==null?t=0:(nt=null,at=0,t=et)}if(t!==0){if(t===2&&(u=il(e),u!==0&&(a=u,t=Iu(e,u))),t===1)throw r=fo,Cr(e,0),er(e,a),Rt(e,Ke()),r;if(t===6)er(e,a);else{if(u=e.current.alternate,(a&30)===0&&!Q0(u)&&(t=Ys(e,a),t===2&&(f=il(e),f!==0&&(a=f,t=Iu(e,f))),t===1))throw r=fo,Cr(e,0),er(e,a),Rt(e,Ke()),r;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Rr(e,Ct,Nn);break;case 3:if(er(e,a),(a&130023424)===a&&(t=Tu+500-Ke(),10<t)){if(bo(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Et(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ol(Rr.bind(null,e,Ct,Nn),t);break}Rr(e,Ct,Nn);break;case 4:if(er(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var p=31-en(a);f=1<<p,p=t[p],p>u&&(u=p),a&=~f}if(a=u,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*X0(a/1960))-a,10<a){e.timeoutHandle=Ol(Rr.bind(null,e,Ct,Nn),a);break}Rr(e,Ct,Nn);break;case 5:Rr(e,Ct,Nn);break;default:throw Error(o(329))}}}return Rt(e,Ke()),e.callbackNode===r?Rh.bind(null,e):null}function Iu(e,t){var r=ho;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=Ct,Ct=r,t!==null&&Cu(t)),e}function Cu(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function Q0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var u=r[a],f=u.getSnapshot;u=u.value;try{if(!tn(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~_u,t&=~xs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-en(t),a=1<<r;e[r]=-1,t&=~a}}function kh(e){if((we&6)!==0)throw Error(o(327));di();var t=bo(e,0);if((t&1)===0)return Rt(e,Ke()),null;var r=Ys(e,t);if(e.tag!==0&&r===2){var a=il(e);a!==0&&(t=a,r=Iu(e,a))}if(r===1)throw r=fo,Cr(e,0),er(e,t),Rt(e,Ke()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,Ct,Nn),Rt(e,Ke()),null}function Ru(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(ci=Ke()+500,ys&&Kn())}}function Ir(e){Jn!==null&&Jn.tag===0&&(we&6)===0&&di();var t=we;we|=1;var r=Yt.transition,a=Oe;try{if(Yt.transition=null,Oe=1,e)return e()}finally{Oe=a,Yt.transition=r,we=t,(we&6)===0&&Kn()}}function ku(){Lt=ui.current,He(ui)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,I0(r)),Ze!==null)for(r=Ze.return;r!==null;){var a=r;switch(Bl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ms();break;case 3:si(),He(wt),He(dt),Zl();break;case 5:Xl(a);break;case 4:si();break;case 13:He(We);break;case 19:He(We);break;case 10:Wl(a.type._context);break;case 22:case 23:ku()}r=r.return}if(nt=e,Ze=e=tr(e.current,null),at=Lt=t,et=0,fo=null,_u=xs=Ar=0,Ct=ho=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],a=r.interleaved,a!==null){r.interleaved=null;var u=a.next,f=r.pending;if(f!==null){var p=f.next;f.next=u,a.next=p}r.pending=a}_r=null}return e}function Ph(e,t){do{var r=Ze;try{if($l(),ks.current=Ds,Ps){for(var a=je.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Ps=!1}if(wr=0,tt=be=je=null,oo=!1,so=0,Eu.current=null,r===null||r.return===null){et=1,fo=t,Ze=null;break}e:{var f=e,p=r.return,y=r,E=t;if(t=at,y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=E,B=y,H=B.tag;if((B.mode&1)===0&&(H===0||H===11||H===15)){var L=B.alternate;L?(B.updateQueue=L.updateQueue,B.memoizedState=L.memoizedState,B.lanes=L.lanes):(B.updateQueue=null,B.memoizedState=null)}var Y=eh(p);if(Y!==null){Y.flags&=-257,th(Y,p,y,f,t),Y.mode&1&&bf(f,P,t),t=Y,E=P;var Q=t.updateQueue;if(Q===null){var q=new Set;q.add(E),t.updateQueue=q}else Q.add(E);break e}else{if((t&1)===0){bf(f,P,t),Pu();break e}E=Error(o(426))}}else if(ze&&y.mode&1){var Xe=eh(p);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),th(Xe,p,y,f,t),Gl(ai(E,y));break e}}f=E=ai(E,y),et!==4&&(et=2),ho===null?ho=[f]:ho.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=qf(f,E,t);Af(f,I);break e;case 1:y=E;var _=f.type,C=f.stateNode;if((f.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(qn===null||!qn.has(C)))){f.flags|=65536,t&=-t,f.lanes|=t;var G=Jf(f,y,t);Af(f,G);break e}}f=f.return}while(f!==null)}Dh(r)}catch(J){t=J,Ze===r&&r!==null&&(Ze=r=r.return);continue}break}while(!0)}function Nh(){var e=Hs.current;return Hs.current=Ds,e===null?Ds:e}function Pu(){(et===0||et===3||et===2)&&(et=4),nt===null||(Ar&268435455)===0&&(xs&268435455)===0||er(nt,at)}function Ys(e,t){var r=we;we|=2;var a=Nh();(nt!==e||at!==t)&&(Nn=null,Cr(e,t));do try{Z0();break}catch(u){Ph(e,u)}while(!0);if($l(),we=r,Hs.current=a,Ze!==null)throw Error(o(261));return nt=null,at=0,et}function Z0(){for(;Ze!==null;)Oh(Ze)}function q0(){for(;Ze!==null&&!Tm();)Oh(Ze)}function Oh(e){var t=Fh(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?Dh(e):Ze=t,Eu.current=null}function Dh(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=W0(r,t,Lt),r!==null){Ze=r;return}}else{if(r=j0(r,t),r!==null){r.flags&=32767,Ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ze=null;return}}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);et===0&&(et=5)}function Rr(e,t,r){var a=Oe,u=Yt.transition;try{Yt.transition=null,Oe=1,J0(e,t,r,a)}finally{Yt.transition=u,Oe=a}return null}function J0(e,t,r,a){do di();while(Jn!==null);if((we&6)!==0)throw Error(o(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Dm(e,f),e===nt&&(Ze=nt=null,at=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||zs||(zs=!0,Lh(Qo,function(){return di(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=Yt.transition,Yt.transition=null;var p=Oe;Oe=1;var y=we;we|=4,Eu.current=null,V0(e,r),Th(r,e),y0(Pl),ns=!!kl,Pl=kl=null,e.current=r,K0(r),wm(),we=y,Oe=p,Yt.transition=f}else e.current=r;if(zs&&(zs=!1,Jn=e,$s=u),f=e.pendingLanes,f===0&&(qn=null),Cm(r.stateNode),Rt(e,Ke()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],a(u.value,{componentStack:u.stack,digest:u.digest});if(Gs)throw Gs=!1,e=wu,wu=null,e;return($s&1)!==0&&e.tag!==0&&di(),f=e.pendingLanes,(f&1)!==0?e===Au?po++:(po=0,Au=e):po=0,Kn(),null}function di(){if(Jn!==null){var e=Sd($s),t=Yt.transition,r=Oe;try{if(Yt.transition=null,Oe=16>e?16:e,Jn===null)var a=!1;else{if(e=Jn,Jn=null,$s=0,(we&6)!==0)throw Error(o(331));var u=we;for(we|=4,K=e.current;K!==null;){var f=K,p=f.child;if((K.flags&16)!==0){var y=f.deletions;if(y!==null){for(var E=0;E<y.length;E++){var P=y[E];for(K=P;K!==null;){var B=K;switch(B.tag){case 0:case 11:case 15:co(8,B,f)}var H=B.child;if(H!==null)H.return=B,K=H;else for(;K!==null;){B=K;var L=B.sibling,Y=B.return;if(vh(B),B===P){K=null;break}if(L!==null){L.return=Y,K=L;break}K=Y}}}var Q=f.alternate;if(Q!==null){var q=Q.child;if(q!==null){Q.child=null;do{var Xe=q.sibling;q.sibling=null,q=Xe}while(q!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&p!==null)p.return=f,K=p;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:co(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,K=I;break e}K=f.return}}var _=e.current;for(K=_;K!==null;){p=K;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,K=C;else e:for(p=_;K!==null;){if(y=K,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Bs(9,y)}}catch(J){Ye(y,y.return,J)}if(y===p){K=null;break e}var G=y.sibling;if(G!==null){G.return=y.return,K=G;break e}K=y.return}}if(we=u,Kn(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Zo,e)}catch{}a=!0}return a}finally{Oe=r,Yt.transition=t}}return!1}function Mh(e,t,r){t=ai(r,t),t=qf(e,t,1),e=Qn(e,t,1),t=Et(),e!==null&&(Bi(e,1,t),Rt(e,t))}function Ye(e,t,r){if(e.tag===3)Mh(e,e,r);else for(;t!==null;){if(t.tag===3){Mh(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qn===null||!qn.has(a))){e=ai(r,e),e=Jf(t,e,1),t=Qn(t,e,1),e=Et(),t!==null&&(Bi(t,1,e),Rt(t,e));break}}t=t.return}}function b0(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&r,nt===e&&(at&r)===r&&(et===4||et===3&&(at&130023424)===at&&500>Ke()-Tu?Cr(e,0):_u|=r),Rt(e,t)}function Uh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Jo,Jo<<=1,(Jo&130023424)===0&&(Jo=4194304)));var r=Et();e=Rn(e,t),e!==null&&(Bi(e,t,r),Rt(e,r))}function ev(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uh(e,r)}function tv(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),Uh(e,r)}var Fh;Fh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)It=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return It=!1,$0(e,t,r);It=(e.flags&131072)!==0}else It=!1,ze&&(t.flags&1048576)!==0&&pf(t,Es,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Fs(e,t),e=t.pendingProps;var u=br(t,dt.current);oi(t,r),u=bl(null,t,a,e,u,r);var f=eu();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(a)?(f=!0,vs(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Vl(t),u.updater=Ms,t.stateNode=u,u._reactInternals=t,su(t,a,e,r),t=cu(null,t,a,!0,f,r)):(t.tag=0,ze&&f&&Ll(t),St(null,t,u,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=rv(a),e=rn(a,e),u){case 0:t=uu(null,t,a,e,r);break e;case 1:t=ah(null,t,a,e,r);break e;case 11:t=nh(null,t,a,e,r);break e;case 14:t=rh(null,t,a,rn(a.type,e),r);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:rn(a,u),uu(e,t,a,u,r);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:rn(a,u),ah(e,t,a,u,r);case 3:e:{if(lh(t),e===null)throw Error(o(387));a=t.pendingProps,f=t.memoizedState,u=f.element,wf(e,t),Cs(t,a,null,r);var p=t.memoizedState;if(a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=ai(Error(o(423)),t),t=uh(e,t,a,r,u);break e}else if(a!==u){u=ai(Error(o(424)),t),t=uh(e,t,a,r,u);break e}else for(Ft=jn(t.stateNode.containerInfo.firstChild),Ut=t,ze=!0,nn=null,r=_f(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ni(),a===u){t=Pn(e,t,r);break e}St(e,t,a,r)}t=t.child}return t;case 5:return Cf(t),e===null&&xl(t),a=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,p=u.children,Nl(a,u)?p=null:f!==null&&Nl(a,f)&&(t.flags|=32),sh(e,t),St(e,t,p,r),t.child;case 6:return e===null&&xl(t),null;case 13:return ch(e,t,r);case 4:return Kl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ri(t,null,a,r):St(e,t,a,r),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:rn(a,u),nh(e,t,a,u,r);case 7:return St(e,t,t.pendingProps,r),t.child;case 8:return St(e,t,t.pendingProps.children,r),t.child;case 12:return St(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,f=t.memoizedProps,p=u.value,Le(ws,a._currentValue),a._currentValue=p,f!==null)if(tn(f.value,p)){if(f.children===u.children&&!wt.current){t=Pn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var y=f.dependencies;if(y!==null){p=f.child;for(var E=y.firstContext;E!==null;){if(E.context===a){if(f.tag===1){E=kn(-1,r&-r),E.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var B=P.pending;B===null?E.next=E:(E.next=B.next,B.next=E),P.pending=E}}f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),jl(f.return,r,t),y.lanes|=r;break}E=E.next}}else if(f.tag===10)p=f.type===t.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(o(341));p.lanes|=r,y=p.alternate,y!==null&&(y.lanes|=r),jl(p,r,t),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===t){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}St(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,oi(t,r),u=Wt(u),a=a(u),t.flags|=1,St(e,t,a,r),t.child;case 14:return a=t.type,u=rn(a,t.pendingProps),u=rn(a.type,u),rh(e,t,a,u,r);case 15:return ih(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:rn(a,u),Fs(e,t),t.tag=1,At(a)?(e=!0,vs(t)):e=!1,oi(t,r),Qf(t,a,u),su(t,a,u,r),cu(null,t,a,!0,e,r);case 19:return fh(e,t,r);case 22:return oh(e,t,r)}throw Error(o(156,t.tag))};function Lh(e,t){return pd(e,t)}function nv(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,r,a){return new nv(e,t,r,a)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rv(e){if(typeof e=="function")return Nu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Me)return 11;if(e===Ce)return 14}return 2}function tr(e,t){var r=e.alternate;return r===null?(r=Vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vs(e,t,r,a,u,f){var p=2;if(a=e,typeof e=="function")Nu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case x:return kr(r.children,u,f,t);case b:p=8,u|=8;break;case ge:return e=Vt(12,r,t,u|2),e.elementType=ge,e.lanes=f,e;case Fe:return e=Vt(13,r,t,u),e.elementType=Fe,e.lanes=f,e;case Ee:return e=Vt(19,r,t,u),e.elementType=Ee,e.lanes=f,e;case se:return Ks(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ge:p=10;break e;case Je:p=9;break e;case Me:p=11;break e;case Ce:p=14;break e;case fe:p=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Vt(p,r,t,u),t.elementType=e,t.type=a,t.lanes=f,t}function kr(e,t,r,a){return e=Vt(7,e,a,t),e.lanes=r,e}function Ks(e,t,r,a){return e=Vt(22,e,a,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function Ou(e,t,r){return e=Vt(6,e,null,t),e.lanes=r,e}function Du(e,t,r){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iv(e,t,r,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Mu(e,t,r,a,u,f,p,y,E){return e=new iv(e,t,r,y,E),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Vt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(f),e}function ov(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Bh(e){if(!e)return Vn;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(At(r))return df(e,r,t)}return t}function Hh(e,t,r,a,u,f,p,y,E){return e=Mu(r,a,!0,e,u,f,p,y,E),e.context=Bh(null),r=e.current,a=Et(),u=bn(r),f=kn(a,u),f.callback=t??null,Qn(r,f,u),e.current.lanes=u,Bi(e,u,a),Rt(e,a),e}function Xs(e,t,r,a){var u=t.current,f=Et(),p=bn(u);return r=Bh(r),t.context===null?t.context=r:t.pendingContext=r,t=kn(f,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Qn(u,t,p),e!==null&&(an(e,u,p,f),Is(e,u,p)),p}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Uu(e,t){xh(e,t),(e=e.alternate)&&xh(e,t)}function sv(){return null}var Gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}Zs.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Xs(e,t,null,null)},Zs.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){Xs(null,e,null,null)}),t[wn]=null}};function Zs(e){this._internalRoot=e}Zs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Td();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zn.length&&t!==0&&t<zn[r].priority;r++);zn.splice(r,0,e),r===0&&Id(e)}};function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function av(e,t,r,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var P=Qs(p);f.call(P)}}var p=Hh(t,a,e,0,null,!1,!1,"",zh);return e._reactRootContainer=p,e[wn]=p.current,qi(e.nodeType===8?e.parentNode:e),Ir(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var y=a;a=function(){var P=Qs(E);y.call(P)}}var E=Mu(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=E,e[wn]=E.current,qi(e.nodeType===8?e.parentNode:e),Ir(function(){Xs(t,E,r,a)}),E}function Js(e,t,r,a,u){var f=r._reactRootContainer;if(f){var p=f;if(typeof u=="function"){var y=u;u=function(){var E=Qs(p);y.call(E)}}Xs(t,p,e,u)}else p=av(r,t,e,u,a);return Qs(p)}Ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Li(t.pendingLanes);r!==0&&(sl(t,r|1),Rt(t,Ke()),(we&6)===0&&(ci=Ke()+500,Kn()))}break;case 13:Ir(function(){var a=Rn(e,1);if(a!==null){var u=Et();an(a,e,1,u)}}),Uu(e,1)}},al=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=Et();an(t,e,134217728,r)}Uu(e,134217728)}},_d=function(e){if(e.tag===13){var t=bn(e),r=Rn(e,t);if(r!==null){var a=Et();an(r,e,t,a)}Uu(e,t)}},Td=function(){return Oe},wd=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}},ba=function(e,t,r){switch(t){case"input":if(Tn(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var u=gs(a);if(!u)throw Error(o(90));ue(a),Tn(a,u)}}}break;case"textarea":Jc(e,r);break;case"select":t=r.value,t!=null&&Bn(e,!!r.multiple,t,!1)}},ad=Ru,ld=Ir;var lv={usingClientEntryPoint:!1,Events:[eo,qr,gs,od,sd,Ru]},go={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uv={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fd(e),e===null?null:e.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||sv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Zo=bs.inject(uv),cn=bs}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lv,kt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(t))throw Error(o(200));return ov(e,t,null,r)},kt.createRoot=function(e,t){if(!Lu(e))throw Error(o(299));var r=!1,a="",u=Gh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Mu(e,1,!1,null,null,r,!1,a,u),e[wn]=t.current,qi(e.nodeType===8?e.parentNode:e),new Fu(t)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=fd(t),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Ir(e)},kt.hydrate=function(e,t,r){if(!qs(t))throw Error(o(200));return Js(null,e,t,!0,r)},kt.hydrateRoot=function(e,t,r){if(!Lu(e))throw Error(o(405));var a=r!=null&&r.hydratedSources||null,u=!1,f="",p=Gh;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Hh(t,null,e,1,r??null,u,!1,f,p),e[wn]=t.current,qi(e),a)for(e=0;e<a.length;e++)r=a[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Zs(t)},kt.render=function(e,t,r){if(!qs(t))throw Error(o(200));return Js(null,e,t,!1,r)},kt.unmountComponentAtNode=function(e){if(!qs(e))throw Error(o(40));return e._reactRootContainer?(Ir(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},kt.unstable_batchedUpdates=Ru,kt.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!qs(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Js(e,t,r,!1,a)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Qh;function Sv(){if(Qh)return xu.exports;Qh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),xu.exports=yv(),xu.exports}var Zh;function Ev(){if(Zh)return ea;Zh=1;var n=Sv();return ea.createRoot=n.createRoot,ea.hydrateRoot=n.hydrateRoot,ea}var _v=Ev();const Tv=ig(_v),og=ve.createContext(void 0),wv=({initialAppState:n,children:i})=>{const[o,s]=ve.useState(n),[l,c]=ve.useState(void 0),d=(h,g)=>{s(h),h==="gameOver"&&g?c(g):h!=="gameOver"&&c(void 0)};return Ne.jsx(og.Provider,{value:{appState:o,setAppState:d,gameOverDetails:l},children:i})},Ba=()=>{const n=ve.useContext(og);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var mt=function(){return mt=Object.assign||function(i){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i},mt.apply(this,arguments)};function Do(n,i,o){if(o||arguments.length===2)for(var s=0,l=i.length,c;s<l;s++)(c||!(s in i))&&(c||(c=Array.prototype.slice.call(i,0,s)),c[s]=i[s]);return n.concat(c||Array.prototype.slice.call(i))}var xe="-ms-",Ro="-moz-",Pe="-webkit-",sg="comm",Ha="rule",wc="decl",Av="@import",ag="@keyframes",Iv="@layer",lg=Math.abs,Ac=String.fromCharCode,ac=Object.assign;function Cv(n,i){return it(n,0)^45?(((i<<2^it(n,0))<<2^it(n,1))<<2^it(n,2))<<2^it(n,3):0}function ug(n){return n.trim()}function Mn(n,i){return(n=i.exec(n))?n[0]:n}function pe(n,i,o){return n.replace(i,o)}function ya(n,i,o){return n.indexOf(i,o)}function it(n,i){return n.charCodeAt(i)|0}function Ti(n,i,o){return n.slice(i,o)}function mn(n){return n.length}function cg(n){return n.length}function wo(n,i){return i.push(n),n}function Rv(n,i){return n.map(i).join("")}function qh(n,i){return n.filter(function(o){return!Mn(o,i)})}var xa=1,wi=1,dg=0,qt=0,qe=0,Ni="";function Ga(n,i,o,s,l,c,d,h){return{value:n,root:i,parent:o,type:s,props:l,children:c,line:xa,column:wi,length:d,return:"",siblings:h}}function ar(n,i){return ac(Ga("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},i)}function fi(n){for(;n.root;)n=ar(n.root,{children:[n]});wo(n,n.siblings)}function kv(){return qe}function Pv(){return qe=qt>0?it(Ni,--qt):0,wi--,qe===10&&(wi=1,xa--),qe}function un(){return qe=qt<dg?it(Ni,qt++):0,wi++,qe===10&&(wi=1,xa++),qe}function Hr(){return it(Ni,qt)}function Sa(){return qt}function za(n,i){return Ti(Ni,n,i)}function lc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Nv(n){return xa=wi=1,dg=mn(Ni=n),qt=0,[]}function Ov(n){return Ni="",n}function $u(n){return ug(za(qt-1,uc(n===91?n+2:n===40?n+1:n)))}function Dv(n){for(;(qe=Hr())&&qe<33;)un();return lc(n)>2||lc(qe)>3?"":" "}function Mv(n,i){for(;--i&&un()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return za(n,Sa()+(i<6&&Hr()==32&&un()==32))}function uc(n){for(;un();)switch(qe){case n:return qt;case 34:case 39:n!==34&&n!==39&&uc(qe);break;case 40:n===41&&uc(n);break;case 92:un();break}return qt}function Uv(n,i){for(;un()&&n+qe!==57;)if(n+qe===84&&Hr()===47)break;return"/*"+za(i,qt-1)+"*"+Ac(n===47?n:un())}function Fv(n){for(;!lc(Hr());)un();return za(n,qt)}function Lv(n){return Ov(Ea("",null,null,null,[""],n=Nv(n),0,[0],n))}function Ea(n,i,o,s,l,c,d,h,g){for(var v=0,m=0,S=d,w=0,R=0,O=0,N=1,A=1,D=1,k=0,z="",W=l,Z=c,F=s,x=z;A;)switch(O=k,k=un()){case 40:if(O!=108&&it(x,S-1)==58){ya(x+=pe($u(k),"&","&\f"),"&\f",lg(v?h[v-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:x+=$u(k);break;case 9:case 10:case 13:case 32:x+=Dv(O);break;case 92:x+=Mv(Sa()-1,7);continue;case 47:switch(Hr()){case 42:case 47:wo(Bv(Uv(un(),Sa()),i,o,g),g);break;default:x+="/"}break;case 123*N:h[v++]=mn(x)*D;case 125*N:case 59:case 0:switch(k){case 0:case 125:A=0;case 59+m:D==-1&&(x=pe(x,/\f/g,"")),R>0&&mn(x)-S&&wo(R>32?bh(x+";",s,o,S-1,g):bh(pe(x," ","")+";",s,o,S-2,g),g);break;case 59:x+=";";default:if(wo(F=Jh(x,i,o,v,m,l,h,z,W=[],Z=[],S,c),c),k===123)if(m===0)Ea(x,i,F,F,W,c,S,h,Z);else switch(w===99&&it(x,3)===110?100:w){case 100:case 108:case 109:case 115:Ea(n,F,F,s&&wo(Jh(n,F,F,0,0,l,h,z,l,W=[],S,Z),Z),l,Z,S,h,s?W:Z);break;default:Ea(x,F,F,F,[""],Z,0,h,Z)}}v=m=R=0,N=D=1,z=x="",S=d;break;case 58:S=1+mn(x),R=O;default:if(N<1){if(k==123)--N;else if(k==125&&N++==0&&Pv()==125)continue}switch(x+=Ac(k),k*N){case 38:D=m>0?1:(x+="\f",-1);break;case 44:h[v++]=(mn(x)-1)*D,D=1;break;case 64:Hr()===45&&(x+=$u(un())),w=Hr(),m=S=mn(z=x+=Fv(Sa())),k++;break;case 45:O===45&&mn(x)==2&&(N=0)}}return c}function Jh(n,i,o,s,l,c,d,h,g,v,m,S){for(var w=l-1,R=l===0?c:[""],O=cg(R),N=0,A=0,D=0;N<s;++N)for(var k=0,z=Ti(n,w+1,w=lg(A=d[N])),W=n;k<O;++k)(W=ug(A>0?R[k]+" "+z:pe(z,/&\f/g,R[k])))&&(g[D++]=W);return Ga(n,i,o,l===0?Ha:h,g,v,m,S)}function Bv(n,i,o,s){return Ga(n,i,o,sg,Ac(kv()),Ti(n,2,-2),0,s)}function bh(n,i,o,s,l){return Ga(n,i,o,wc,Ti(n,0,s),Ti(n,s+1,-1),s,l)}function fg(n,i,o){switch(Cv(n,i)){case 5103:return Pe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+n+n;case 4789:return Ro+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+n+Ro+n+xe+n+n;case 5936:switch(it(n,i+11)){case 114:return Pe+n+xe+pe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Pe+n+xe+pe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Pe+n+xe+pe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Pe+n+xe+n+n;case 6165:return Pe+n+xe+"flex-"+n+n;case 5187:return Pe+n+pe(n,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+xe+"flex-$1$2")+n;case 5443:return Pe+n+xe+"flex-item-"+pe(n,/flex-|-self/g,"")+(Mn(n,/flex-|baseline/)?"":xe+"grid-row-"+pe(n,/flex-|-self/g,""))+n;case 4675:return Pe+n+xe+"flex-line-pack"+pe(n,/align-content|flex-|-self/g,"")+n;case 5548:return Pe+n+xe+pe(n,"shrink","negative")+n;case 5292:return Pe+n+xe+pe(n,"basis","preferred-size")+n;case 6060:return Pe+"box-"+pe(n,"-grow","")+Pe+n+xe+pe(n,"grow","positive")+n;case 4554:return Pe+pe(n,/([^-])(transform)/g,"$1"+Pe+"$2")+n;case 6187:return pe(pe(pe(n,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),n,"")+n;case 5495:case 3959:return pe(n,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return pe(pe(n,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+n+n;case 4200:if(!Mn(n,/flex-|baseline/))return xe+"grid-column-align"+Ti(n,i)+n;break;case 2592:case 3360:return xe+pe(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(s,l){return i=l,Mn(s.props,/grid-\w+-end/)})?~ya(n+(o=o[i].value),"span",0)?n:xe+pe(n,"-start","")+n+xe+"grid-row-span:"+(~ya(o,"span",0)?Mn(o,/\d+/):+Mn(o,/\d+/)-+Mn(n,/\d+/))+";":xe+pe(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(s){return Mn(s.props,/grid-\w+-start/)})?n:xe+pe(pe(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return pe(n,/(.+)-inline(.+)/,Pe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mn(n)-1-i>6)switch(it(n,i+1)){case 109:if(it(n,i+4)!==45)break;case 102:return pe(n,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+Ro+(it(n,i+3)==108?"$3":"$2-$3"))+n;case 115:return~ya(n,"stretch",0)?fg(pe(n,"stretch","fill-available"),i,o)+n:n}break;case 5152:case 5920:return pe(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,d,h,g,v){return xe+l+":"+c+v+(d?xe+l+"-span:"+(h?g:+g-+c)+v:"")+n});case 4949:if(it(n,i+6)===121)return pe(n,":",":"+Pe)+n;break;case 6444:switch(it(n,it(n,14)===45?18:11)){case 120:return pe(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pe+(it(n,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+xe+"$2box$3")+n;case 100:return pe(n,":",":"+xe)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return pe(n,"scroll-","scroll-snap-")+n}return n}function Ra(n,i){for(var o="",s=0;s<n.length;s++)o+=i(n[s],s,n,i)||"";return o}function Hv(n,i,o,s){switch(n.type){case Iv:if(n.children.length)break;case Av:case wc:return n.return=n.return||n.value;case sg:return"";case ag:return n.return=n.value+"{"+Ra(n.children,s)+"}";case Ha:if(!mn(n.value=n.props.join(",")))return""}return mn(o=Ra(n.children,s))?n.return=n.value+"{"+o+"}":""}function xv(n){var i=cg(n);return function(o,s,l,c){for(var d="",h=0;h<i;h++)d+=n[h](o,s,l,c)||"";return d}}function Gv(n){return function(i){i.root||(i=i.return)&&n(i)}}function zv(n,i,o,s){if(n.length>-1&&!n.return)switch(n.type){case wc:n.return=fg(n.value,n.length,o);return;case ag:return Ra([ar(n,{value:pe(n.value,"@","@"+Pe)})],s);case Ha:if(n.length)return Rv(o=n.props,function(l){switch(Mn(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":fi(ar(n,{props:[pe(l,/:(read-\w+)/,":"+Ro+"$1")]})),fi(ar(n,{props:[l]})),ac(n,{props:qh(o,s)});break;case"::placeholder":fi(ar(n,{props:[pe(l,/:(plac\w+)/,":"+Pe+"input-$1")]})),fi(ar(n,{props:[pe(l,/:(plac\w+)/,":"+Ro+"$1")]})),fi(ar(n,{props:[pe(l,/:(plac\w+)/,xe+"input-$1")]})),fi(ar(n,{props:[l]})),ac(n,{props:qh(o,s)});break}return""})}}var $v={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Ai=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",hg="active",pg="data-styled-version",$a="6.1.13",Ic=`/*!sc*/
`,ka=typeof window<"u"&&"HTMLElement"in window,Wv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),jv={},Wa=Object.freeze([]),Ii=Object.freeze({});function gg(n,i,o){return o===void 0&&(o=Ii),n.theme!==o.theme&&n.theme||i||o.theme}var mg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Yv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Vv=/(^-|-$)/g;function ep(n){return n.replace(Yv,"-").replace(Vv,"")}var Kv=/(a)(d)/gi,ta=52,tp=function(n){return String.fromCharCode(n+(n>25?39:97))};function cc(n){var i,o="";for(i=Math.abs(n);i>ta;i=i/ta|0)o=tp(i%ta)+o;return(tp(i%ta)+o).replace(Kv,"$1-$2")}var Wu,vg=5381,Si=function(n,i){for(var o=i.length;o;)n=33*n^i.charCodeAt(--o);return n},yg=function(n){return Si(vg,n)};function Sg(n){return cc(yg(n)>>>0)}function Xv(n){return n.displayName||n.name||"Component"}function ju(n){return typeof n=="string"&&!0}var Eg=typeof Symbol=="function"&&Symbol.for,_g=Eg?Symbol.for("react.memo"):60115,Qv=Eg?Symbol.for("react.forward_ref"):60112,Zv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Jv=((Wu={})[Qv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wu[_g]=Tg,Wu);function np(n){return("type"in(i=n)&&i.type.$$typeof)===_g?Tg:"$$typeof"in n?Jv[n.$$typeof]:Zv;var i}var bv=Object.defineProperty,ey=Object.getOwnPropertyNames,rp=Object.getOwnPropertySymbols,ty=Object.getOwnPropertyDescriptor,ny=Object.getPrototypeOf,ip=Object.prototype;function wg(n,i,o){if(typeof i!="string"){if(ip){var s=ny(i);s&&s!==ip&&wg(n,s,o)}var l=ey(i);rp&&(l=l.concat(rp(i)));for(var c=np(n),d=np(i),h=0;h<l.length;++h){var g=l[h];if(!(g in qv||o&&o[g]||d&&g in d||c&&g in c)){var v=ty(i,g);try{bv(n,g,v)}catch{}}}}return n}function Ci(n){return typeof n=="function"}function Cc(n){return typeof n=="object"&&"styledComponentId"in n}function Ur(n,i){return n&&i?"".concat(n," ").concat(i):n||i||""}function dc(n,i){if(n.length===0)return"";for(var o=n[0],s=1;s<n.length;s++)o+=n[s];return o}function Mo(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function fc(n,i,o){if(o===void 0&&(o=!1),!o&&!Mo(n)&&!Array.isArray(n))return i;if(Array.isArray(i))for(var s=0;s<i.length;s++)n[s]=fc(n[s],i[s]);else if(Mo(i))for(var s in i)n[s]=fc(n[s],i[s]);return n}function Rc(n,i){Object.defineProperty(n,"toString",{value:i})}function jo(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var ry=function(){function n(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return n.prototype.indexOfGroup=function(i){for(var o=0,s=0;s<i;s++)o+=this.groupSizes[s];return o},n.prototype.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;i>=c;)if((c<<=1)<0)throw jo(16,"".concat(i));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var d=l;d<c;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(i+1),g=(d=0,o.length);d<g;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[i]++,h++)},n.prototype.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],s=this.indexOfGroup(i),l=s+o;this.groupSizes[i]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var s=this.groupSizes[i],l=this.indexOfGroup(i),c=l+s,d=l;d<c;d++)o+="".concat(this.tag.getRule(d)).concat(Ic);return o},n}(),_a=new Map,Pa=new Map,Ta=1,na=function(n){if(_a.has(n))return _a.get(n);for(;Pa.has(Ta);)Ta++;var i=Ta++;return _a.set(n,i),Pa.set(i,n),i},iy=function(n,i){Ta=i+1,_a.set(n,i),Pa.set(i,n)},oy="style[".concat(Ai,"][").concat(pg,'="').concat($a,'"]'),sy=new RegExp("^".concat(Ai,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ay=function(n,i,o){for(var s,l=o.split(","),c=0,d=l.length;c<d;c++)(s=l[c])&&n.registerName(i,s)},ly=function(n,i){for(var o,s=((o=i.textContent)!==null&&o!==void 0?o:"").split(Ic),l=[],c=0,d=s.length;c<d;c++){var h=s[c].trim();if(h){var g=h.match(sy);if(g){var v=0|parseInt(g[1],10),m=g[2];v!==0&&(iy(m,v),ay(n,m,g[3]),n.getTag().insertRules(v,l)),l.length=0}else l.push(h)}}},op=function(n){for(var i=document.querySelectorAll(oy),o=0,s=i.length;o<s;o++){var l=i[o];l&&l.getAttribute(Ai)!==hg&&(ly(n,l),l.parentNode&&l.parentNode.removeChild(l))}};function uy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ag=function(n){var i=document.head,o=n||i,s=document.createElement("style"),l=function(h){var g=Array.from(h.querySelectorAll("style[".concat(Ai,"]")));return g[g.length-1]}(o),c=l!==void 0?l.nextSibling:null;s.setAttribute(Ai,hg),s.setAttribute(pg,$a);var d=uy();return d&&s.setAttribute("nonce",d),o.insertBefore(s,c),s},cy=function(){function n(i){this.element=Ag(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var d=s[l];if(d.ownerNode===o)return d}throw jo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},n.prototype.getRule=function(i){var o=this.sheet.cssRules[i];return o&&o.cssText?o.cssText:""},n}(),dy=function(){function n(i){this.element=Ag(i),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(i,o){if(i<=this.length&&i>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[i]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},n.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},n}(),fy=function(){function n(i){this.rules=[],this.length=0}return n.prototype.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},n.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},n.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},n}(),sp=ka,hy={isServer:!ka,useCSSOMInjection:!Wv},Na=function(){function n(i,o,s){i===void 0&&(i=Ii),o===void 0&&(o={});var l=this;this.options=mt(mt({},hy),i),this.gs=o,this.names=new Map(s),this.server=!!i.isServer,!this.server&&ka&&sp&&(sp=!1,op(this)),Rc(this,function(){return function(c){for(var d=c.getTag(),h=d.length,g="",v=function(S){var w=function(D){return Pa.get(D)}(S);if(w===void 0)return"continue";var R=c.names.get(w),O=d.getGroup(S);if(R===void 0||!R.size||O.length===0)return"continue";var N="".concat(Ai,".g").concat(S,'[id="').concat(w,'"]'),A="";R!==void 0&&R.forEach(function(D){D.length>0&&(A+="".concat(D,","))}),g+="".concat(O).concat(N,'{content:"').concat(A,'"}').concat(Ic)},m=0;m<h;m++)v(m);return g}(l)})}return n.registerId=function(i){return na(i)},n.prototype.rehydrate=function(){!this.server&&ka&&op(this)},n.prototype.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new n(mt(mt({},this.options),i),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(i=function(o){var s=o.useCSSOMInjection,l=o.target;return o.isServer?new fy(l):s?new cy(l):new dy(l)}(this.options),new ry(i)));var i},n.prototype.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},n.prototype.registerName=function(i,o){if(na(i),this.names.has(i))this.names.get(i).add(o);else{var s=new Set;s.add(o),this.names.set(i,s)}},n.prototype.insertRules=function(i,o,s){this.registerName(i,o),this.getTag().insertRules(na(i),s)},n.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},n.prototype.clearRules=function(i){this.getTag().clearGroup(na(i)),this.clearNames(i)},n.prototype.clearTag=function(){this.tag=void 0},n}(),py=/&/g,gy=/^\s*\/\/.*$/gm;function Ig(n,i){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(i," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(i," ")),o.props=o.props.map(function(s){return"".concat(i," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Ig(o.children,i)),o})}function my(n){var i,o,s,l=Ii,c=l.options,d=c===void 0?Ii:c,h=l.plugins,g=h===void 0?Wa:h,v=function(w,R,O){return O.startsWith(o)&&O.endsWith(o)&&O.replaceAll(o,"").length>0?".".concat(i):w},m=g.slice();m.push(function(w){w.type===Ha&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(py,o).replace(s,v))}),d.prefix&&m.push(zv),m.push(Hv);var S=function(w,R,O,N){R===void 0&&(R=""),O===void 0&&(O=""),N===void 0&&(N="&"),i=N,o=R,s=new RegExp("\\".concat(o,"\\b"),"g");var A=w.replace(gy,""),D=Lv(O||R?"".concat(O," ").concat(R," { ").concat(A," }"):A);d.namespace&&(D=Ig(D,d.namespace));var k=[];return Ra(D,xv(m.concat(Gv(function(z){return k.push(z)})))),k};return S.hash=g.length?g.reduce(function(w,R){return R.name||jo(15),Si(w,R.name)},vg).toString():"",S}var vy=new Na,hc=my(),Cg=vn.createContext({shouldForwardProp:void 0,styleSheet:vy,stylis:hc});Cg.Consumer;vn.createContext(void 0);function pc(){return ve.useContext(Cg)}var yy=function(){function n(i,o){var s=this;this.inject=function(l,c){c===void 0&&(c=hc);var d=s.name+c.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,c(s.rules,d,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=o,Rc(this,function(){throw jo(12,String(s.name))})}return n.prototype.getName=function(i){return i===void 0&&(i=hc),this.name+i.hash},n}(),Sy=function(n){return n>="A"&&n<="Z"};function ap(n){for(var i="",o=0;o<n.length;o++){var s=n[o];if(o===1&&s==="-"&&n[0]==="-")return n;Sy(s)?i+="-"+s.toLowerCase():i+=s}return i.startsWith("ms-")?"-"+i:i}var Rg=function(n){return n==null||n===!1||n===""},kg=function(n){var i,o,s=[];for(var l in n){var c=n[l];n.hasOwnProperty(l)&&!Rg(c)&&(Array.isArray(c)&&c.isCss||Ci(c)?s.push("".concat(ap(l),":"),c,";"):Mo(c)?s.push.apply(s,Do(Do(["".concat(l," {")],kg(c),!1),["}"],!1)):s.push("".concat(ap(l),": ").concat((i=l,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||i in $v||i.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function dr(n,i,o,s){if(Rg(n))return[];if(Cc(n))return[".".concat(n.styledComponentId)];if(Ci(n)){if(!Ci(c=n)||c.prototype&&c.prototype.isReactComponent||!i)return[n];var l=n(i);return dr(l,i,o,s)}var c;return n instanceof yy?o?(n.inject(o,s),[n.getName(s)]):[n]:Mo(n)?kg(n):Array.isArray(n)?Array.prototype.concat.apply(Wa,n.map(function(d){return dr(d,i,o,s)})):[n.toString()]}function Pg(n){for(var i=0;i<n.length;i+=1){var o=n[i];if(Ci(o)&&!Cc(o))return!1}return!0}var Ey=yg($a),_y=function(){function n(i,o,s){this.rules=i,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Pg(i),this.componentId=o,this.baseHash=Si(Ey,o),this.baseStyle=s,Na.registerId(o)}return n.prototype.generateAndInjectStyles=function(i,o,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))l=Ur(l,this.staticRulesId);else{var c=dc(dr(this.rules,i,o,s)),d=cc(Si(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(c,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}l=Ur(l,d),this.staticRulesId=d}else{for(var g=Si(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var S=this.rules[m];if(typeof S=="string")v+=S;else if(S){var w=dc(dr(S,i,o,s));g=Si(g,w+m),v+=w}}if(v){var R=cc(g>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,s(v,".".concat(R),void 0,this.componentId)),l=Ur(l,R)}}return l},n}(),kc=vn.createContext(void 0);kc.Consumer;var Yu={};function Ty(n,i,o){var s=Cc(n),l=n,c=!ju(n),d=i.attrs,h=d===void 0?Wa:d,g=i.componentId,v=g===void 0?function(W,Z){var F=typeof W!="string"?"sc":ep(W);Yu[F]=(Yu[F]||0)+1;var x="".concat(F,"-").concat(Sg($a+F+Yu[F]));return Z?"".concat(Z,"-").concat(x):x}(i.displayName,i.parentComponentId):g,m=i.displayName,S=m===void 0?function(W){return ju(W)?"styled.".concat(W):"Styled(".concat(Xv(W),")")}(n):m,w=i.displayName&&i.componentId?"".concat(ep(i.displayName),"-").concat(i.componentId):i.componentId||v,R=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,O=i.shouldForwardProp;if(s&&l.shouldForwardProp){var N=l.shouldForwardProp;if(i.shouldForwardProp){var A=i.shouldForwardProp;O=function(W,Z){return N(W,Z)&&A(W,Z)}}else O=N}var D=new _y(o,w,s?l.componentStyle:void 0);function k(W,Z){return function(F,x,b){var ge=F.attrs,Ge=F.componentStyle,Je=F.defaultProps,Me=F.foldedComponentIds,Fe=F.styledComponentId,Ee=F.target,Ce=vn.useContext(kc),fe=pc(),se=F.shouldForwardProp||fe.shouldForwardProp,$=gg(x,Ce,Je)||Ii,V=function(me,ae,he){for(var ce,X=mt(mt({},ae),{className:void 0,theme:he}),ie=0;ie<me.length;ie+=1){var ke=Ci(ce=me[ie])?ce(X):ce;for(var ue in ke)X[ue]=ue==="className"?Ur(X[ue],ke[ue]):ue==="style"?mt(mt({},X[ue]),ke[ue]):ke[ue]}return ae.className&&(X.className=Ur(X.className,ae.className)),X}(ge,x,$),j=V.as||Ee,T={};for(var U in V)V[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&V.theme===$||(U==="forwardedAs"?T.as=V.forwardedAs:se&&!se(U,j)||(T[U]=V[U]));var re=function(me,ae){var he=pc(),ce=me.generateAndInjectStyles(ae,he.styleSheet,he.stylis);return ce}(Ge,V),ee=Ur(Me,Fe);return re&&(ee+=" "+re),V.className&&(ee+=" "+V.className),T[ju(j)&&!mg.has(j)?"class":"className"]=ee,T.ref=b,ve.createElement(j,T)}(z,W,Z)}k.displayName=S;var z=vn.forwardRef(k);return z.attrs=R,z.componentStyle=D,z.displayName=S,z.shouldForwardProp=O,z.foldedComponentIds=s?Ur(l.foldedComponentIds,l.styledComponentId):"",z.styledComponentId=w,z.target=s?l.target:n,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(W){this._foldedDefaultProps=s?function(Z){for(var F=[],x=1;x<arguments.length;x++)F[x-1]=arguments[x];for(var b=0,ge=F;b<ge.length;b++)fc(Z,ge[b],!0);return Z}({},l.defaultProps,W):W}}),Rc(z,function(){return".".concat(z.styledComponentId)}),c&&wg(z,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function lp(n,i){for(var o=[n[0]],s=0,l=i.length;s<l;s+=1)o.push(i[s],n[s+1]);return o}var up=function(n){return Object.assign(n,{isCss:!0})};function Ng(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(Ci(n)||Mo(n))return up(dr(lp(Wa,Do([n],i,!0))));var s=n;return i.length===0&&s.length===1&&typeof s[0]=="string"?dr(s):up(dr(lp(s,i)))}function gc(n,i,o){if(o===void 0&&(o=Ii),!i)throw jo(1,i);var s=function(l){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return n(i,o,Ng.apply(void 0,Do([l],c,!1)))};return s.attrs=function(l){return gc(n,i,mt(mt({},o),{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return gc(n,i,mt(mt({},o),l))},s}var Og=function(n){return gc(Ty,n)},En=Og;mg.forEach(function(n){En[n]=Og(n)});var wy=function(){function n(i,o){this.rules=i,this.componentId=o,this.isStatic=Pg(i),Na.registerId(this.componentId+1)}return n.prototype.createStyles=function(i,o,s,l){var c=l(dc(dr(this.rules,o,s,l)),""),d=this.componentId+i;s.insertRules(d,d,c)},n.prototype.removeStyles=function(i,o){o.clearRules(this.componentId+i)},n.prototype.renderStyles=function(i,o,s,l){i>2&&Na.registerId(this.componentId+i),this.removeStyles(i,s),this.createStyles(i,o,s,l)},n}();function Ay(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=Ng.apply(void 0,Do([n],i,!1)),l="sc-global-".concat(Sg(JSON.stringify(s))),c=new wy(s,l),d=function(g){var v=pc(),m=vn.useContext(kc),S=vn.useRef(v.styleSheet.allocateGSInstance(l)).current;return v.styleSheet.server&&h(S,g,v.styleSheet,m,v.stylis),vn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(S,g,v.styleSheet,m,v.stylis),function(){return c.removeStyles(S,v.styleSheet)}},[S,g,v.styleSheet,m,v.stylis]),null};function h(g,v,m,S,w){if(c.isStatic)c.renderStyles(g,jv,m,w);else{var R=mt(mt({},v),{theme:gg(v,S,d.defaultProps)});c.renderStyles(g,R,m,w)}}return vn.memo(d)}function Dg(n,i){var o=ve.useRef(null),s=ve.useRef(!1),l=ve.useRef(n);l.current=n;var c=ve.useCallback(function(h){s.current&&(l.current(h),o.current=requestAnimationFrame(c))},[]),d=ve.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(c))},function(){return s.current}]},[]);return ve.useEffect(function(){return d[0]},[]),d}function Iy(n,i,o,s,l){var d;(d=n.onExit)==null||d.call(n,s,i);const c=l.find(({id:h})=>h===i);return c!=null&&c.onEnter?c.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function Cy(n,i){return i.find(({id:o})=>o===n)}function Ry(n,i){return n!==i}function ky(n){console.warn(`No handler found for state: ${n}`)}const ko="bushGrowing",Mr="bushFull",wa="bushSpreading",Uo="bushDying",Xt=24,Qt=10,Fr=3e3,Lr=3e3,Pc=2,Py=5,Ny=3,Oy=12,Dy=940,My=.7,mc=20,cp=90,Mg=45,Ug=240,Fg=10,Fo=80,Uy=3,vo=5,Jt=150,Nc=Jt*.8,Fy=Jt*.2,Nt=Jt*.95,Lo=30,Lg=10,Ly=10,By=.5,ct=30,Ri=ct*.75,Bg=50,Hy=20,xy=Fo*.8,Gy=.7,zy=16,ki=40,$y=24,Oc=16,Wy=72/3,dp=24,jy=1.25,Yy=1.5,ja=Jt*.6,Dc=50,Vy=1,Ky=350,Hg=Fo*.65,Xy=80,Qy=50,Zy=1,qy=128,xg=10,fp=100,Jy=35,Ya=ct,Gg=.5,zg=2.5,by=5,eS=.5,tS=1.5,nS=.1,rS=.5,iS=1.5,oS=.25,sS=2.5,aS=45,lS=.05,Oa=5,uS=.5,hp=100,cS=300,$g=30,Bo=1,pp=Jt*.6,dS=Jt*.25,fS=Jt*.7,hS=Jt*.8,pS=100,gS=2,mS=400,vS=1e3,yS=Jt*.85,SS=100,ES=3,_S=96,TS=24,wS=600,Wg=600,AS=1,IS=24,CS=1,RS=.5,gp=24,mp=12,vp=40,kS=.35,PS=24,yp=500,NS=1.2,OS=10,DS=150,MS=200,US=100,FS=100,LS=.7,BS=300,HS=100,xS=120,Sp=300,Da=10,jg=250,Ep=10,GS=20,Yg=.15,Vg=200,Sn=30,Mc=Sn*.6,Uc="#4CAF50",Kg="#FF5722",Xg="#9C27B0",zS="#2196F3",Qg="#FFC107",$S="#FFD700",Zg="#DC143C",WS="#FFFFFF",jS=[5,5],qg=5,_p=20,YS=20,VS=16,KS=10,XS=16,QS=16,Tp=["","","","","","","","","",""],wp=8,ZS="#FFFFFF",lr=18,Pt=15,qS="rgba(0, 0, 0, 0.7)",JS=4,rr=150,Bt=15,On=10,Ei="#555",bS="#f44336",e1="#4CAF50",t1="#2196F3",n1="#FFC107",ra=16,r1=9,Pr=32,ia=28,i1=10,o1=8,s1=8,a1=8,oa=28,sa=40,l1="rgba(255, 215, 0, 0.7)",u1="rgba(0, 0, 0, 0.3)",ir=10,Ap=8,Vu=11,or=20,Ku=40,Ip=5,c1=10,d1="#FFA500",f1="#808080",Br=120,h1=30,p1=20,vi="#2d3748",Po="#ffffff",Aa="#4a5568",g1=5,m1="#3a445892",v1="rgba(0, 0, 0, 0.8)",y1="#FFFFFF",Cp=14,Rp=8,kp=-15,S1=60,E1=-50,_1=10,Xu=12,Pp=10,T1="rgba(0, 0, 0, 0.5)",w1="#4CAF50",A1="#F44336",I1="#FFC107",C1="rgba(255, 255, 255, 0.2)",Np="#FFFFFF",R1="#FF6B6B",k1=5,Jg=30,yo=50,aa=8,Op=10,P1="rgba(0, 0, 0, 0.5)",N1="#FFFFFF",O1=33,D1=400,M1=20,U1=10,F1="rgba(0, 0, 0, 0.7)",L1="#FFFFFF",Qu=20,Dp=16,B1=.5,Mp=5,bg="#FFD700",H1=40,x1=4,G1=3,z1=5,Zt=1,Ao=3,$1=70,Up=600,W1=1.5,em=.1,j1=15,Y1=5e3,Nr=80,la=10;function vt(n,i,o,s,l){const c={id:n.nextVisualEffectId,type:i,position:o,startTime:n.time,duration:s,entityId:l};return n.visualEffects.push(c),n.nextVisualEffectId++,c.id}var Ae=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n[n.AutopilotMoveTarget=16]="AutopilotMoveTarget",n))(Ae||{}),hr=(n=>(n.Berry="berry",n.Meat="meat",n))(hr||{});const tm={berry:"",meat:""},V1={id:ko,update:(n,i)=>{const{entity:o,updateContext:s}=i,l=s.deltaTime*(Xt/Qt);return o.age+=l,o.age>=o.lifespan?{nextState:Uo,data:{...n,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Ae.BushClaimLost,o.position,Zt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=l,o.timeSinceLastBerryRegen>=Oy&&o.food.length<o.maxFood&&(o.food.push({type:hr.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Mr,data:{...n,enteredAt:s.gameState.time,previousState:ko}}:{nextState:ko,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},K1={id:Mr,update:(n,i)=>{const{entity:o,updateContext:s}=i,l=s.deltaTime*(Xt/Qt);return o.age+=l,o.age>=o.lifespan?{nextState:Uo,data:{...n,enteredAt:s.gameState.time,previousState:Mr}}:o.food.length<o.maxFood?{nextState:ko,data:{...n,enteredAt:s.gameState.time,previousState:Mr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Ae.BushClaimLost,o.position,Zt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=l,o.timeSinceLastSpreadAttempt>=cp&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=cp&&Math.random()<o.spreadChance)?{nextState:wa,data:{...n,enteredAt:s.gameState.time,previousState:Mr}}:{nextState:Mr,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})};function fr(n,i){return{x:n.x+i.x,y:n.y+i.y}}function X1(n,i){return{x:n.x-i.x,y:n.y-i.y}}function yn(n,i){return{x:n.x*i,y:n.y*i}}function Ho(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function bt(n){const i=Ho(n);return i===0?{x:0,y:0}:yn(n,1/i)}function Fc(n,i,o){return{x:n.x+(i.x-n.x)*o,y:n.y+(i.y-n.y)*o}}function Lc(n){if(n.length===0)return{x:0,y:0};const i=n.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:i.x/n.length,y:i.y/n.length}}function xt(n,i,o,s){let l=i.x-n.x,c=i.y-n.y;return Math.abs(l)>o/2&&(l=l-Math.sign(l)*o),Math.abs(c)>s/2&&(c=c-Math.sign(c)*s),{x:l,y:c}}function Bc(n,i,o){const s=xt(n,i,o.width,o.height);return bt(s)}function ye(n,i,o,s){const l=xt(n,i,o,s);return Ho(l)}function Q1(n,i){return n.x*i.x+n.y*i.y}function Z1(n,i){const o=Q1(n,i),s=Ho(n),l=Ho(i);if(s===0||l===0)return 0;const c=Math.max(-1,Math.min(1,o/(s*l)));return Math.acos(c)}function q1(n,i,o){const s=Math.max(0,Math.min(1,o)),l={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},c={r:parseInt(i.substring(1,3),16),g:parseInt(i.substring(3,5),16),b:parseInt(i.substring(5,7),16)},d=Math.round(l.r+(c.r-l.r)*s),h=Math.round(l.g+(c.g-l.g)*s),g=Math.round(l.b+(c.b-l.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(g)}`}var ot=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n.FeedChildren="FeedChildren",n.AutopilotMove="AutopilotMove",n))(ot||{});const nm={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:"",TribeSplit:"",FeedChildren:"",AutopilotMove:""};var yi=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(yi||{});const So={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var de=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n.ToggleProcreationBehavior="ToggleProcreationBehavior",n.TogglePlantingBehavior="TogglePlantingBehavior",n.ToggleGatheringBehavior="ToggleGatheringBehavior",n.ToggleAttackBehavior="ToggleAttackBehavior",n.ToggleCallToAttackBehavior="ToggleCallToAttackBehavior",n.ToggleFeedChildrenBehavior="ToggleFeedChildrenBehavior",n.FastForward="FastForward",n))(de||{});const Zu=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,J1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,b1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,Fp=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,eE=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,tE=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,nE=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,rE=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,iE=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,oE=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var De=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.GameOver=10]="GameOver",n[n.ButtonClick=11]="ButtonClick",n[n.SoundTrack1=12]="SoundTrack1",n))(De||{});const sE=new Map([[0,Zu],[1,J1],[2,b1],[3,Fp],[4,eE],[5,tE],[6,nE],[10,rE],[11,iE],[7,Zu],[8,Zu],[9,Fp],[12,oE]]);let Eo,xo;function aE(){if(!(typeof window>"u"))return xo}function Hc(){if(!(typeof window>"u"))return!Eo&&typeof window.AudioContext=="function"&&(Eo=new window.AudioContext,xo=Eo.createGain(),xo.connect(Eo.destination),Io(.1,!1)),Eo}function Io(n,i){xo&&(xo.gain.value=i?0:n/10)}const rm=new Map;let ua=!1,Lp=!1;async function lE(){if(Lp||ua)return;const n=Hc();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),ua=!0,console.log("Starting sound loading...");const i=[];sE.forEach((o,s)=>{const l=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>n.decodeAudioData(c)).then(c=>{rm.set(s,c)}).catch(c=>{console.error(`Error loading sound ${De[s]} from ${o}:`,c)});i.push(l)});try{await Promise.all(i),Lp=!0,ua=!1,console.log("All sounds loaded successfully.")}catch(o){ua=!1,console.error("An error occurred while loading sounds:",o)}}const No=new Map;function xc(n,i){const o=Hc(),s=aE();if(!o||!s||s.gain.value===0&&(i==null?void 0:i.trackId)===void 0)return;o.state==="suspended"&&o.resume();const l=rm.get(n);if(!l){console.warn(`Sound buffer not found for type: ${De[n]}`);return}if(i!=null&&i.trackId&&No.has(i.trackId))return;const c=o.createBufferSource();c.buffer=l,c.loop=(i==null?void 0:i.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let g=d;if(i!=null&&i.position&&(i!=null&&i.listenerPosition)&&(i!=null&&i.worldDimensions)){const v=xt(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height),m=ye(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height);if(m>Up)return;const S=1-Math.pow(m/Up,W1);d.gain.value=Math.max(0,S);const w=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(w)?0:w,d.connect(h),g=h}else{const v=n===De.GameOver?.4:n===De.SoundTrack1?1:.2;d.gain.value=v}c.connect(g),g.connect(s),c.start(0),i!=null&&i.trackId&&(No.set(i.trackId,{sourceNode:c,gainNode:d}),c.onended=()=>{No.delete(i.trackId)})}function Bp(n,i=1){const o=No.get(n),s=Hc();if(o&&s){const{sourceNode:l,gainNode:c}=o,d=s.currentTime;c.gain.setValueAtTime(c.gain.value,d),c.gain.linearRampToValueAtTime(0,d+i),l.stop(d+i),l.onended=null,No.delete(n)}}function Ve(n,i,o){const s=ln(n.gameState);s&&xc(i,{position:o,listenerPosition:s.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function im(n,i){const o=[],s=n;if(i.food.length>0&&i.hunger>Nc&&o.push({type:ot.Eat,action:"eating",key:"f"}),i.food.length<i.maxFood){const d=ut(i,n,"berryBush",ct,v=>v.food.length>0),h=ut(i,n,"humanCorpse",ct,v=>v.food.length>0);let g=null;d&&h?g=ye(i.position,d.position,n.mapDimensions.width,n.mapDimensions.height)<=ye(i.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?d:h:g=d||h,g&&o.push({type:ot.GatherFood,action:"gathering",key:"e",targetEntity:g})}const l=ut(i,n,"human",ct,d=>{const h=d;return(h.id!==i.id&&h.gender!==i.gender&&h.isAdult&&i.isAdult&&h.hunger<Nt&&i.hunger<Nt&&(h.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=ki:!i.isPregnant&&i.age<=ki))??!1});l&&o.push({type:ot.Procreate,action:"procreating",key:"r",targetEntity:l});const c=ut(i,n,"human",Ya,d=>d.id!==i.id&&d.leaderId!==i.leaderId);return c&&o.push({type:ot.Attack,action:"attacking",key:"q",targetEntity:c}),i.food.filter(d=>d.type===hr.Berry).length>=Oa&&o.push({type:ot.PlantBush,action:"planting",key:"b"}),i.leaderId===i.id&&!i.isCallingToAttack&&Wc(i.position,i.id,s,jg).length>0&&o.push({type:ot.CallToAttack,action:"callingToAttack",key:"v"}),zc(i,n).canSplit&&o.push({type:ot.TribeSplit,action:"tribeSplitting",key:"k"}),o}function uE(n,i,o){return i.search.human.byRadius(n.position,o).filter(l=>{var c;return l.activeAction==="procreating"&&l.gender===n.gender&&typeof l.target=="number"&&((c=n.partnerIds)==null?void 0:c.includes(l.target))})[0]}function cE(n,i,o){if(!n.leaderId)return;const s=i,l=s.search.berryBush.byRadius(n.position,o).filter(c=>c.ownerId===n.id);for(const c of l)if(c.claimedUntil&&i.time<c.claimedUntil){const d=s.search.human.byRadius(c.position,ct);for(const h of d)if(!vc(h,n)&&h.activeAction==="gathering"&&h.target===c.id)return h}}function dE(n,i,o){const s=Ma(n,i),l=i;for(const c of s){if(ye(n.position,c.position,i.mapDimensions.width,i.mapDimensions.height)>o)continue;const h=l.search.human.byProperty("attackTargetId",c.id);for(const g of h)if(g.leaderId!==n.leaderId)return{familyMember:c,aggressor:g}}}function fE(n,i){const s=i.search.human.byRadius(n.position,BS);let l,c=1/0;for(const d of s){if(d.id===n.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>LS||am(n,d,i))continue;const h=ye(n.position,d.position,i.mapDimensions.width,i.mapDimensions.height);h<c&&(c=h,l=d)}return l}function Gc(n,i,o,s){const l=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*i,d={x:Math.cos(l)*c,y:Math.sin(l)*c},h=fr(n,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Go(n,i,o,s){const l=i,c={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},d=[...l.search.human.byRect(c),...l.search.berryBush.byRect(c),...l.search.humanCorpse.byRect(c)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(ye(n,h.position,i.mapDimensions.width,i.mapDimensions.height)<o+h.radius)return!0}return!1}function om(n,i,o,s,l){const c=i.mapDimensions.width,d=i.mapDimensions.height;if(!Go(n,i,s,l))return n;const h=s;for(let g=h;g<=o;g+=h){const v=Math.ceil(2*Math.PI*g/h);for(let m=0;m<v;m++){const S=m/v*2*Math.PI,w={x:Math.cos(S)*g,y:Math.sin(S)*g},R=fr(n,w),O={x:(R.x%c+c)%c,y:(R.y%d+d)%d};if(!Go(O,i,s,l))return O}}return null}function hE(n,i){const o=ut(n,i,"berryBush",hp,l=>l.ownerId===n.id);return o?om(o.position,i,hp,$g,o.id):null}function ut(n,i,o,s,l){const c=i,d=s,h=c.search[o].byRadius(n.position,d);let g=null,v=d;for(const m of h){if(m.id===n.id||l&&!l(m))continue;const S=ye(n.position,m.position,i.mapDimensions.width,i.mapDimensions.height);S<v&&(v=S,g=m)}return g}function sm(n,i,o,s){return i.search[o].byRadius(n,s).length}function Hp(n,i,o){return i.search.human.byRadius(n.position,o).filter(c=>{if(c.id===n.id||c.gender===n.gender||!c.isAdult||c.hunger>=Nt||(c.procreationCooldown||0)>0||c.gender==="female"&&c.isPregnant)return!1;const d=c.id===n.motherId||c.id===n.fatherId,h=n.id===c.motherId||n.id===c.fatherId;return!d&&!h})}function xr(n){if(n.length===0)return;const i=n.filter(l=>l.gender==="male"),o=n.filter(l=>l.gender==="female"),s=(l,c)=>l.age!==c.age?c.age-l.age:l.id-c.id;if(i.sort(s),i.length>0)return i[0];if(o.sort(s),o.length>0)return o[0]}function ln(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Ot(n,i){const o=n,s=o.search.human.byProperty("motherId",i.id),l=o.search.human.byProperty("fatherId",i.id);return[...s,...l]}function pE(n,i){var d;const s=i.search.human.byProperty("activeAction","attacking");let l=null,c=1/0;for(const h of s){if(h.attackTargetId!==n)continue;const g=ye(h.position,((d=i.entities.entities.get(n))==null?void 0:d.position)||{x:0,y:0},i.mapDimensions.width,i.mapDimensions.height);g<c&&(l=h,c=g)}return l}function am(n,i,o){var l;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id||n.motherId&&n.motherId===i.motherId||n.fatherId&&n.fatherId===i.fatherId||(l=n.partnerIds)!=null&&l.includes(i.id))return!0;if(n.motherId){const c=o.entities.entities.get(n.motherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(n.fatherId){const c=o.entities.entities.get(n.fatherId);if(c&&(c.motherId===i.id||c.fatherId===i.id))return!0}if(i.motherId){const c=o.entities.entities.get(i.motherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}if(i.fatherId){const c=o.entities.entities.get(i.fatherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}return!1}function vc(n,i){var c,d;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id)return!0;const o=n.motherId===i.motherId||n.fatherId===i.fatherId,s=i.motherId===n.motherId||i.fatherId===n.fatherId,l=((c=n.ancestorIds)==null?void 0:c.some(h=>i.ancestorIds.includes(h)))||((d=i.ancestorIds)==null?void 0:d.some(h=>n.ancestorIds.includes(h)));return o||s||l}function gE(n,i){const o=[];if(n.motherId){const s=i.entities.entities.get(n.motherId);s&&o.push(s)}if(n.fatherId){const s=i.entities.entities.get(n.fatherId);s&&o.push(s)}return o}function mE(n,i){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const s=i.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function vE(n,i){if(!n.isAdult&&n.fatherId){const o=i.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?mE(n,i):null}function Ma(n,i){var s;const o=new Set;if(n.motherId){const l=i.entities.entities.get(n.motherId);l&&o.add(l)}if(n.fatherId){const l=i.entities.entities.get(n.fatherId);l&&o.add(l)}return(s=n.partnerIds)==null||s.forEach(l=>{const c=i.entities.entities.get(l);c&&o.add(c)}),Ot(i,n).forEach(l=>o.add(l)),Array.from(o)}let qu=0;function yc(){const n=Tp[qu];return qu=(qu+1)%Tp.length,n}function yE(n,i,o){const s=o.mapDimensions.width,l=o.mapDimensions.height,c=i.radius*2;for(let d=yp;d<s/2;d+=50)for(let h=0;h<10;h++){const g=Gc(n,d,s,l);if(!(ye(n,g,s,l)<yp)&&!Go(g,o,c,i.id))return g}return null}function lm(n,i){const o=new Map;function s(l){const c=Ot(i,l);for(const d of c)o.has(d.id)||(o.set(d.id,d),s(d))}return s(n),Array.from(o.values())}function zc(n,i){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=i.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=xr(Ot(i,o));if(s&&s.id===n.id)return{canSplit:!1};const l=$c(n.leaderId,i);if(l.length<vp)return{canSplit:!1};const d=lm(n,i).length+1,h=Math.min(l.length*kS,vp);return{canSplit:d>=h,progress:d/h}}function um(n,i){if(!zc(n,i).canSplit)return;const o=yc(),s=lm(n,i);n.leaderId=n.id,n.tribeBadge=o;for(const c of s)c.leaderId=n.id,c.tribeBadge=o;Ve({gameState:i},De.TribeSplit,n.position)}function $c(n,i){return i.search.human.byProperty("leaderId",n)}function Wc(n,i,o,s){return o.search.human.byRadius(n,s).filter(c=>c.leaderId!==i&&c.id!==i)}function SE(n,i,o){const s=o.search.human.byProperty("leaderId",n);let l=0;for(const c of s)c.attackTargetId===i&&l++;return l}function EE(n,i){var c;const o=new Map,s=Array.from(n.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(c=o.get(d.leaderId))==null||c.members.push(d));const l=Array.from(o.values()).map(d=>{const h=n.entities.entities.get(d.leaderId),g=d.members.filter(m=>m.isAdult).length,v=d.members.length-g;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:g,childCount:v,isPlayerTribe:d.leaderId===i,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return l.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),l}function xp(n){return n.filter(i=>i.isAdult).reduce((i,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,i+s},0)}function cm(n){return Array.from(n.entities.entities.values()).filter(i=>i.type==="human")}function Ua(n,i){const o=$c(n,i);if(o.length===0){const l=i.entities.entities.get(n);return l?l.position:{x:0,y:0}}const s=o.map(l=>l.position);return Lc(s)}function Gp(n,i){const s=[...Ma(n,i),n].map(l=>l.position);return Lc(s)}function _E(n,i,o,s){const l=i.x-o.width/2,c=i.y-o.height/2,d=l+n.x,h=c+n.y,g=(d%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:g,y:v}}const TE={id:wa,update:(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s,c=s.deltaTime*(Xt/Qt);if(o.age+=c,o.age>=o.lifespan)return{nextState:Uo,data:{...n,enteredAt:l.time,previousState:wa}};const d=Gc(o.position,o.spreadRadius,l.mapDimensions.width,l.mapDimensions.height);return Go(d,l,15)||Ka(l.entities,d,l.time),{nextState:Mr,data:{...n,enteredAt:l.time,previousState:wa}}},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},wE={id:Uo,update:n=>({nextState:Uo,data:n}),onEnter:(n,i)=>(Vc(n.updateContext.gameState.entities,n.entity.id),{...i,enteredAt:n.updateContext.gameState.time})},AE=[V1,K1,TE,wE],lt="humanIdle",Dr="humanMoving",Co="humanEating",Va="humanGathering",zo="humanProcreating",Pi="humanAttacking",Ia="humanPlanting",IE={id:lt,update:(n,i)=>{const{entity:o,updateContext:s}=i;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Pi,data:{...n,enteredAt:s.gameState.time,previousState:lt,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=Nc?(o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.activeAction==="moving"?{nextState:Dr,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="gathering"?{nextState:Va,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="eating"?{nextState:Co,data:{...n,enteredAt:s.gameState.time,previousState:lt}}:o.activeAction==="planting"&&o.target?{nextState:Ia,data:{...n,enteredAt:s.gameState.time,previousState:lt,plantingSpot:o.target}}:{nextState:lt,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};function dm(n){let i=Ly;return n.hunger>=Nc&&(i*=By),n.age>=xy&&(i*=Gy),n.movementSlowdown&&(i*=n.movementSlowdown.modifier),i}const Ju=7.5;class CE{constructor(){_e(this,"id",Dr)}update(i,o){var g;const{entity:s,updateContext:l}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Pi,data:{...i,enteredAt:l.gameState.time,previousState:Dr,attackTargetId:s.attackTargetId,attackStartTime:l.gameState.time}};if(s.activeAction!=="moving")return{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Dr}};let c;if(typeof s.target=="object"?c=s.target:typeof s.target=="number"&&(c=(g=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:g.position),!c&&(s.direction.x!==0||s.direction.y!==0)&&(c={x:s.position.x+s.direction.x*Ju*2,y:s.position.y+s.direction.y*Ju*2}),!c)return{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Dr}};const d=xt(s.position,c,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=bt(d),s.acceleration=dm(s),ye(s.position,c,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<Ju?{nextState:lt,data:{...i,enteredAt:l.gameState.time,previousState:Dr}}:{nextState:Dr,data:i}}onExit(i){const{entity:o}=i;o.acceleration=0,o.target=void 0}}const RE=new CE,kE={id:Co,update:(n,i)=>{const{entity:o,updateContext:s}=i;return o.activeAction!=="eating"?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:Co}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>Lo&&(o.hunger=Math.max(0,o.hunger-Lo),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,Ve(s,De.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(vt(s.gameState,Ae.Eating,o.position,Zt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:Co}}:{nextState:Co,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};class PE{constructor(){_e(this,"id",Va)}update(i,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...i,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:i}}}const NE=new PE,OE=(n,i)=>(i.procreationEndTime=n.updateContext.gameState.time+(i.duration||2),i),DE=(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s;if(l.time<(n.procreationEndTime||0))return{nextState:zo,data:n};const c=l.entities.entities.get(n.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<Nt&&c.hunger<Nt&&!o.procreationCooldown&&!c.procreationCooldown){const d=o.gender==="female"?o:c.gender==="female"?c:void 0,h=o.gender==="male"?o:c.gender==="male"?c:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=Wy,d.fatherId=h.id,o.procreationCooldown=dp,c.procreationCooldown=dp,Ve(s,De.Procreate,d.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:lt,data:{...n,enteredAt:l.time,previousState:zo}}},ME={id:zo,onEnter:OE,update:DE},UE={id:Pi,onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,i)=>{if(i.entity.activeAction!=="attacking"||!i.entity.attackTargetId)return i.entity.activeAction="idle",{nextState:lt,data:{...n}};const o=i.updateContext.gameState.entities.entities.get(i.entity.attackTargetId);if(!o||o.type!=="human")return i.entity.activeAction="idle",{nextState:lt,data:{...n}};const s=ye(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height),l=xt(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height);return i.entity.direction=bt(l),s>Ya?i.entity.acceleration=dm(i.entity):i.entity.acceleration=0,{nextState:Pi,data:n}}},FE={id:Ia,update:(n,i)=>{const{entity:o,updateContext:s}=i,{gameState:l}=s;if(l.time-n.enteredAt>=uS){if(o.food.filter(h=>h.type===hr.Berry).length>=Oa){for(let g=0;g<Oa;g++){const v=o.food.findIndex(m=>m.type===hr.Berry);v>-1&&o.food.splice(v,1)}const h=Ka(l.entities,n.plantingSpot,l.time);h.ownerId=o.id,h.claimedUntil=l.time+Ug}return{nextState:lt,data:{...n,enteredAt:l.time,previousState:Ia}}}return{nextState:Ia,data:n}},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})},LE=[IE,RE,kE,NE,ME,UE,FE],zp=[...AE,...LE];function BE(n,i,o){const s=Cy(n,zp);if(!s)return ky(n),[n,i];const{nextState:l,data:c}=s.update(i,o);return Ry(n,l)?[l,Iy(s,l,c,o,zp)]:[l,c]}function HE(n,i,o){const{gameState:s}=i,l=o*(Xt/Qt);if(n.isAdult=n.age>=Oc,n.isCallingToAttack&&n.callToAttackEndTime&&s.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.movementSlowdown&&s.time>n.movementSlowdown.endTime&&(n.movementSlowdown=void 0),n.hitpoints<n.maxHitpoints){const d=1-n.hunger/100*rS,h=nS*d*l;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(vo/(Xt/Qt)),n.hunger>$1&&(!n.lastHungerEffectTime||s.time-n.lastHungerEffectTime>Ao*2)&&(vt(s,Ae.Hunger,n.position,Ao,n.id),n.lastHungerEffectTime=s.time),n.age+=o/Fg,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=l,n.hunger+=o*((vo*jy-vo)/(Xt/Qt)),(!n.lastPregnantEffectTime||s.time-n.lastPregnantEffectTime>Ao*3)&&(vt(s,Ae.Pregnant,n.position,Ao,n.id),n.lastPregnantEffectTime=s.time),n.gestationTime<=0&&(v_(n,n.fatherId,i),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=l,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=l,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=l,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=l,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=l,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===Mc&&(n.radius=Sn):n.hunger+=o*((vo*Yy-vo)/(Xt/Qt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const d=[];if(n.motherId){const h=s.entities.entities.get(n.motherId);h&&d.push(h)}if(n.fatherId){const h=s.entities.entities.get(n.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=Hg&&h.hunger>=Xy&&ye(n.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=Qy){n.food.pop(),h.hunger=Math.max(0,h.hunger-Lo),n.feedParentCooldownTime=Zy;break}}let c;if(n.hitpoints<=0?c="killed":n.hunger>=Jt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Lo)):c="hunger":n.age>=n.maxAge&&(c="oldAge"),c){if(n.leaderId===n.id){const d=xr(Ot(s,n));d?(d.leaderId=d.id,d.tribeBadge=n.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const g=h;g.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const g=h;g.leaderId=void 0,g.tribeBadge=void 0}})}if(n.isPlayer){const d=xr(Ot(s,n));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=c)}m_(s.entities,n.position,n.gender,n.age,n.radius,n.id,s.time,n.food,n.hunger),Vc(s.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function xE(n,i){const o=i.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/qy);const s=Math.floor(xg*(1-n.decayProgress));n.food.length>s&&n.food.splice(s),n.decayProgress>=1&&n.food.length<=0&&Vc(i.gameState.entities,n.id)}var jc=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(jc||{});function GE(n,i){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;i.gameState.time-o>=Bo&&(n.aiBehaviorTree.execute(n,i,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",i.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function zE(n,i){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(i.gameState.time),n.aiType){case jc.BehaviorTreeBased:default:GE(n,i);break}}function $E(n,i){n.forces.push(yn(n.velocity,-.1));const o=yn(bt(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(s=>{i.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(n.velocity=yn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(s=>i.gameState.time-s.startTime<s.duration),n.velocity=fr(n.velocity,n.forces.reduce(fr,{x:0,y:0})),Ho(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=fr(n.position,yn(n.velocity,i.deltaTime)),n.position.x=(n.position.x%i.gameState.mapDimensions.width+i.gameState.mapDimensions.width)%i.gameState.mapDimensions.width,n.position.y=(n.position.y%i.gameState.mapDimensions.height+i.gameState.mapDimensions.height)%i.gameState.mapDimensions.height,n.forces=[],n.type==="human"?HE(n,i,i.deltaTime):n.type==="humanCorpse"&&xE(n,i),n.type==="human"&&(!n.isPlayer||i.gameState.autopilotControls.isActive)&&zE(n,i),n.stateMachine&&(n.stateMachine=BE(...n.stateMachine,{entity:n,updateContext:i}))}var M=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(M||{});const $p="Human Behavior",WE=1;class jE{constructor(){_e(this,"nodeData",new Map);_e(this,"pathStack",[]);_e(this,"startTimeStack",[])}nodeStart(i){this.pathStack.push(i),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const i=performance.now(),o=this.startTimeStack.pop(),s=i-o,l=this.pathStack.join(" > "),c=this.nodeData.get(l)??{path:l,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};c.totalTime+=s,c.callCount++,c.minTime=Math.min(c.minTime,s),c.maxTime=Math.max(c.maxTime,s),this.nodeData.set(l,c),this.pathStack.pop()}report(i={}){const{showAll:o=!1}=i,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let l=s,c="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get($p);if(h){const g=h.totalTime*WE/100;l=s.filter(v=>v.totalTime>g&&v.path!==$p),c="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),c="--- Behavior Tree Full Report (Root Not Found) ---"}const d=l.sort((h,g)=>g.totalTime-h.totalTime);console.log(c),d.length>0?console.table(d.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const yt=new jE;function Un(n){return Array.isArray(n)?n:[n,""]}class Ue{constructor(i,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.children=i,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(i,o,s){this.name&&yt.nodeStart(this.name);try{for(const l of this.children){const[c,d]=Un(l.execute(i,o,s));if(c!==M.SUCCESS)return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,c,o.gameState.time,this.depth,d),c}return this.lastStatus=M.SUCCESS,this.name&&s.recordNodeExecution(this.name,M.SUCCESS,o.gameState.time,this.depth,""),M.SUCCESS}finally{this.name&&yt.nodeEnd()}}}class Gr{constructor(i,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"runningChildIndex");this.children=i,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(i,o,s){this.name&&yt.nodeStart(this.name);try{const l=this.runningChildIndex??0;for(let c=l;c<this.children.length;c++){const d=this.children[c],[h,g]=Un(d.execute(i,o,s));if(h!==M.FAILURE){if(h===M.SUCCESS)return delete this.runningChildIndex,this.lastStatus=M.SUCCESS,this.name&&s.recordNodeExecution(this.name,M.SUCCESS,o.gameState.time,this.depth,g),M.SUCCESS;if(h===M.RUNNING)return this.runningChildIndex=c,this.lastStatus=M.RUNNING,this.name&&s.recordNodeExecution(this.name,M.RUNNING,o.gameState.time,this.depth,g),M.RUNNING}}return delete this.runningChildIndex,this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,M.FAILURE,o.gameState.time,this.depth,""),M.FAILURE}finally{this.name&&yt.nodeEnd()}}}class Ie{constructor(i,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.action=i,this.name=o,this.depth=s}execute(i,o,s){this.name&&yt.nodeStart(this.name);try{const[l,c]=Un(this.action(i,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,c),l}finally{this.name&&yt.nodeEnd()}}}class Te{constructor(i,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.condition=i,this.name=o,this.depth=s}execute(i,o,s){this.name&&yt.nodeStart(this.name);try{const[l,c]=Un(this.condition(i,o,s)),d=l?M.SUCCESS:M.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,c),d}finally{this.name&&yt.nodeEnd()}}}class Wp{constructor(i,o,s,l=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"startTimeKey");this.child=i,this.timeoutDurationHours=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(i,o,s){yt.nodeStart(this.name);try{const l=o.gameState.time;let c=s.get(this.startTimeKey);const[d,h]=Un(this.child.execute(i,o,s));if(d===M.RUNNING){c===void 0&&(s.set(this.startTimeKey,l),c=l);const g=l-c;if(g>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=M.FAILURE;const m=`Timed out after ${g.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m),this.lastStatus}this.lastStatus=M.RUNNING;const v=`Running for ${g.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}return c!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}finally{yt.nodeEnd()}}}class Sc{constructor(i,o,s,l=0,c){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"statusKey");_e(this,"timestampKey");this.child=i,this.cacheDurationHours=o,this.validityCheck=c,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(i,o,s){yt.nodeStart(this.name);try{const l=o.gameState.time,c=s.get(this.statusKey),d=s.get(this.timestampKey);if(c!==void 0&&d!==void 0){const m=l-d>this.cacheDurationHours,S=this.validityCheck?this.validityCheck(i,o,s):!0;if(!m&&S){const w=(d+this.cacheDurationHours-l).toFixed(2),R=`Cache hit. Status: ${M[c]}. ${w}h left.`;return this.lastStatus=c,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,R),this.lastStatus}}const[h,g]=Un(this.child.execute(i,o,s));(h===M.SUCCESS||h===M.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,l)),this.lastStatus=h;const v=`Cache miss. Child returned ${M[h]}. ${g}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}finally{yt.nodeEnd()}}}class Yo{constructor(i,o,s,l=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"cooldownKey");this.cooldownDurationHours=i,this.child=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(i,o,s){yt.nodeStart(this.name);try{const l=o.gameState.time,c=s.get(this.cooldownKey);if(this.child.lastStatus===M.RUNNING){const[g,v]=Un(this.child.execute(i,o,s));if(this.lastStatus=g,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m)}return this.lastStatus}if(c!==void 0&&l<c){const v=`Cooldown active, ${(c-l).toFixed(2)}h left`;return this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}const[d,h]=Un(this.child.execute(i,o,s));return(d===M.SUCCESS||d===M.RUNNING)&&s.set(this.cooldownKey,l+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}finally{yt.nodeEnd()}}}class hi{constructor(i,o,s,l=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.child=i,this.behaviorKey=o,this.name=s,this.depth=l;const c=(d,h)=>{d.depth=h,d.children?d.children.forEach(g=>c(g,h+1)):d.child&&c(d.child,h+1)};c(this.child,(this.depth??0)+1)}execute(i,o,s){this.name&&yt.nodeStart(this.name);try{if(i.isPlayer&&o.gameState.autopilotControls.isActive&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=M.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[c,d]=Un(this.child.execute(i,o,s));return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}finally{this.name&&yt.nodeEnd()}}}function YE(n){return new Ue([new Te((i,o)=>{const s=i.hunger>=pp,l=i.food.length>0,c=!i.eatingCooldownTime||o.gameState.time>=i.eatingCooldownTime;return[!!(i.isAdult&&s&&l&&c),`${Math.floor(i.hunger-pp)}, ${i.food.length}, ${i.eatingCooldownTime?Math.floor(i.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new Ie(i=>(i.direction={x:0,y:0},i.target=void 0,i.activeAction="eating",M.RUNNING),"Eat",n+1)],"Eating",n)}function VE(n){return new Ue([new Te((i,o,s)=>{if(i.isAdult&&i.hitpoints>i.maxHitpoints*Yg||i.isAdult&&i.hunger>yS)return!1;const l=pE(i.id,o.gameState);return l?(s.set("fleeThreat",l),!0):!1},"Should Flee",n+1),new Ie((i,o,s)=>{const l=s.get("fleeThreat");if(!l)return M.FAILURE;i.activeAction="moving";const c=xt(l.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=bt(c),h=fr(i.position,yn(d,Vg));return i.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},i.direction=d,M.RUNNING},"Execute Flee",n+1)],"Flee",n)}const _o="foodSource";function KE(n){const i=new Ie((s,l,c)=>{const d=new Map,h=ut(s,l.gameState,"berryBush",Sp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||l.gameState.time>=m.claimedUntil)return!0;const S=l.gameState.entities.entities.get(m.ownerId);if(!S||S.leaderId===s.leaderId)return!0;const w=d.get(S.id)??ye(s.position,S.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height);return d.set(S.id,w),w>xS}),g=ut(s,l.gameState,"humanCorpse",Sp,m=>m.food.length>0);let v=null;if(h&&g){const m=ye(s.position,h.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height),S=ye(s.position,g.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height);v=m<=S?h:g}else v=h||g;return v?(c.set(_o,v),[M.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[M.FAILURE,"No food source found"]},"Find Closest Food Source",n+4),o=new Ie((s,l,c)=>{const d=c.get(_o);return!d||d.food.length===0?(c.delete(_o),[M.FAILURE,"Food source is invalid or depleted"]):ye(s.position,d.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<Ri?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,c.delete(_o),[M.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=Bc(s.position,d.position,l.gameState.mapDimensions),[M.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",n+3);return new Ue([new Te((s,l)=>{const c=s.food.length<s.maxFood,d=s.hunger>dS,h=Ot(l.gameState,s).filter(g=>g.hunger>ja);return[(s.isAdult&&c&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",n+1),new Gr([new Ue([new Te((s,l,c)=>c.has(_o),"Has Food Source?",n+2),o],"Continue Gathering Action",n+2),new Ue([new Sc(i,RS,"Cache Food Source Search",n+3),o],"Find New Food Source and Gather",n+2)],"Perform or Start Gathering",n+1)],"Gather Food",n)}function XE(n){return new Ie((i,o,s)=>(i.activeAction="idle",i.direction={x:0,y:0},i.target=void 0,s.set("wanderTarget",void 0),M.SUCCESS),"Idle",n)}const ca="procreationWanderStartTime",jp=n=>n.find(i=>(i.procreationCooldown||0)<=0&&i.hunger<Nt&&(i.gender==="female"?!i.isPregnant&&i.age<=ki:!0));function QE(n){const i=new Te((c,d,h)=>{const g=Hp(c,d.gameState,Ri),v=jp(g);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new Ie((c,d,h)=>{var v;const g=h.get("procreationPartner");return g?(c.activeAction="procreating",c.target=void 0,h.delete("procreationPartner"),h.delete(ca),(v=c.partnerIds)!=null&&v.includes(g.id)||(c.partnerIds=c.partnerIds?[...c.partnerIds,g.id]:[g.id]),M.SUCCESS):M.FAILURE},"Start Procreating"),s=new Te((c,d,h)=>{const g=Hp(c,d.gameState,vS),v=jp(g);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),l=new Ie((c,d,h)=>{const g=h.get("procreationPartner");if(!g)return M.FAILURE;if(ye(c.position,g.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<Ri)return M.SUCCESS;c.activeAction="moving",c.target=g.id;const m=xt(c.position,g.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return c.direction=bt(m),M.RUNNING},"Move Towards Partner");return new Ue([new Te(c=>!(!c.isAdult||c.gender==="female"&&c.isPregnant||c.age<zy||c.gender==="female"&&c.age>ki),"Is Fertile (age, not pregnant)",n+1),new Te(c=>c.hunger<Nt,"Is Healthy (hunger)",n+1),new Te(c=>(c.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new Gr([new Ue([new Te((c,d)=>sm(c.position,d.gameState,"berryBush",mS)>=gS,"Is Environment Viable (food)",n+3),new Ie((c,d,h)=>(h.delete(ca),M.SUCCESS),"Clear Wander Timer",n+3)],"Sufficient Food Path",n+2),new Ue([new Te((c,d)=>{if(c.gender==="male"){const h=Ot(d.gameState,c);return!xr(h)}return!1},"Is Male Without Heir",n+3),new Ie((c,d,h)=>{const g=h.get(ca);if(g===void 0)return h.set(ca,d.gameState.time),[M.FAILURE,"Starting heirless wander timer"];const v=d.gameState.time-g;return v>=$y?[M.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[M.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",n+3)],"Heirless Desperation Path",n+2)],"Check Environment Or Desperation",n+1),new Te((c,d,h)=>{var v;const g=h.get("procreationPartner");return g&&((v=g.partnerIds)!=null&&v.length)&&!g.partnerIds.includes(c.id)&&g.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ye(c.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<HS)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",n+1),new Gr([new Ue([i,o],"Procreate With Immediate Partner",n+2),new Yo(AS,new Ue([s,l],"Seek Distant Partner Action",n+3),"Seek Distant Partner Cooldown",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const pi="attackTarget",Or="homeCenter",bu=150;function ZE(n,i,o){let s,l=1/0;for(const c of Object.values(n.entities.entities))if(c.type==="human"&&c.id!==i.id&&c.hitpoints>0&&c.leaderId!==i.leaderId){const d=ye(i.position,c.position,n.mapDimensions.width,n.mapDimensions.height);d<o&&d<l&&(l=d,s=c)}return s}function qE(n){return new Ue([new Te((i,o,s)=>{const{gameState:l}=o;if(i.activeAction==="attacking"&&i.attackTargetId){const d=l.entities.entities.get(i.attackTargetId);if(d&&d.hitpoints>0&&ye(i.position,d.position,l.mapDimensions.width,l.mapDimensions.height)<=bu){if(s.set(pi,d),!s.get(Or)){const h=i.leaderId?Ua(i.leaderId,l):Ma(i,l).length>0?Gp(i,l):i.position;s.set(Or,h)}return!0}}const c=ZE(l,i,bu);if(c){s.set(pi,c);const d=i.leaderId?Ua(i.leaderId,l):Ma(i,l).length>0?Gp(i,l):i.position;return s.set(Or,d),!0}return s.set(pi,void 0),s.set(Or,void 0),!1},"Find Attack Target",n+1),new Ie((i,o,s)=>{const l=s.get(pi),c=s.get(Or);if(!l||!c)return M.FAILURE;const{gameState:d}=o;return ye(i.position,c,d.mapDimensions.width,d.mapDimensions.height)>Wg?(i.activeAction="idle",i.attackTargetId=void 0,s.set(pi,void 0),s.set(Or,void 0),M.FAILURE):l.hitpoints<=0||ye(i.position,l.position,d.mapDimensions.width,d.mapDimensions.height)>bu?(i.activeAction==="attacking"&&(i.activeAction="idle",i.attackTargetId=void 0),s.set(pi,void 0),s.set(Or,void 0),M.SUCCESS):(i.activeAction==="attacking"&&i.attackTargetId===l.id||(i.activeAction="attacking",i.attackTargetId=l.id),M.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const JE=(n,i,o)=>{const s=Ot(i.gameState,n).filter(d=>!d.isAdult);if(s.length===0)return M.FAILURE;let l=null,c=ja;for(const d of s)d.hunger>=c&&(c=d.hunger,l=d);return l?(o.set("targetChild",l),M.SUCCESS):M.FAILURE},bE=(n,i,o)=>{const s=o.get("targetChild");return s?ye(n.position,s.position,i.gameState.mapDimensions.width,i.gameState.mapDimensions.height)>Dc?(n.activeAction="moving",n.target=s.id,n.direction=Bc(n.position,s.position,i.gameState.mapDimensions),M.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),M.SUCCESS):M.FAILURE};function e_(n){return new Ue([new Te(i=>(i.isAdult&&i.food.length>0&&(!i.feedChildCooldownTime||i.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new Ie(JE,"Find Hungriest Child",n+1),new Ie(bE,"Move To Child and Feed",n+1)],"Feed Child",n)}function t_(n){return new Ue([new Te(i=>!i.isAdult&&i.hunger>=ja,"Is Hungry Child",n+1),new Ie((i,o,s)=>{const l=gE(i,o.gameState);if(l.length===0)return M.FAILURE;const c=ut(i,o.gameState,"human",Ky,d=>l.some(h=>h.id===d.id)&&d.food.length>0);return c?(s.set("targetParent",c),M.SUCCESS):M.FAILURE},"Find Parent With Food",n+1),new Ie((i,o,s)=>{const l=s.get("targetParent");if(!l)return M.FAILURE;const c=ye(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.activeAction="idle",c<=Dc?(i.target=void 0,M.SUCCESS):(i.target=l.id,i.activeAction="moving",M.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}const da="plantingSpot";function n_(n){const i=new Ie((s,l,c)=>{const d=c.get(da);return!d||Go(d,l.gameState,$g,s.id)?(c.delete(da),[M.FAILURE,"Planting spot is invalid or now occupied"]):ye(s.position,d,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)>Ri?(s.activeAction="moving",s.target=d,s.direction=Bc(s.position,d,l.gameState.mapDimensions),[M.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[M.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",n+3),o=new Ie((s,l,c)=>{const d=hE(s,l.gameState);return d?(c.set(da,d),[M.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[M.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",n+3);return new Ue([new Te(s=>{const l=s.food.filter(d=>d.type===hr.Berry).length>=Oa,c=s.hunger<fS;return(s.isAdult&&l&&c)??!1},"Can Plant",n+1),new Te((s,l)=>{const c=sm(s.position,l.gameState,"berryBush",cS),d=Ot(l.gameState,s);return!(d.length===0||c>=d.length*2)},"Has Not Enough Nearby Bushes",n+1),new Gr([new Ue([new Te((s,l,c)=>c.has(da),"Has Planting Spot?",n+2),i],"Continue Planting Action",n+2),new Yo(CS,o,"Find Planting Spot Cooldown",n+2)],"Perform or Start Planting",n+1)],"Plant Bush",n)}const ec="enemiesNearby";function r_(n){const i=new Te(c=>c.id===c.leaderId,"Is Leader?",n+1),o=new Te(c=>!c.isCallingToAttack,"Is Not Already Calling?",n+1),s=new Ie((c,d,h)=>{const g=Wc(c.position,c.id,d.gameState,jg);return g.length>0?(h.set(ec,g),M.SUCCESS):M.FAILURE},"Find Nearby Enemies",n+1),l=new Gr([new Ue([new Te((c,d,h)=>{const g=h.get(ec);if(!g||g.length===0)return!1;const v=$c(c.id,d.gameState),m=xp(v),S=xp(g);return m>S*NS},"Is Strong Enough?",n+3),new Ie((c,d)=>(c.isCallingToAttack=!0,c.callToAttackEndTime=d.gameState.time+Da,vt(d.gameState,Ae.CallToAttack,c.position,Da),Ve(d,De.CallToAttack,c.position),c.activeAction="idle",c.target=void 0,M.SUCCESS),"Issue Call to Attack",n+3)],"Attack",n+2),new Ie((c,d,h)=>{const g=h.get(ec);if(!g||g.length===0)return M.FAILURE;const v=g.map(O=>O.position),m=Lc(v),S=xt(m,c.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),w=bt(S),R=fr(c.position,yn(w,Vg*2));return c.activeAction="moving",c.target={x:(R.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(R.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},c.direction=w,M.SUCCESS},"Retreat",n+2)],"Attack or Retreat",n+2);return new Ue([i,o,s,new Yo(OS,l,"Leader Combat Cooldown",n+1)],"Leader Combat Strategy",n)}const tc="combatTarget",nc="homeCenter";function i_(n){const i=new Te(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",n+1),o=new Te(d=>d.hunger<hS&&d.hitpoints>=d.maxHitpoints*Yg,"Is Fit for Combat?",n+1),s=new Te((d,h)=>{const g=h.gameState.entities.entities.get(d.leaderId);return!!(g!=null&&g.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),l=new Ie((d,h,g)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return M.FAILURE;const S=Wc(m.position,m.id,v,SS);if(S.length===0)return M.FAILURE;S.sort((w,R)=>{const O=ye(d.position,w.position,v.mapDimensions.width,v.mapDimensions.height),N=ye(d.position,R.position,v.mapDimensions.width,v.mapDimensions.height);return O-N});for(const w of S)if(SE(m.id,w.id,v)<ES){g.set(tc,w);const O=Ua(m.id,v);return g.set(nc,O),M.SUCCESS}return M.FAILURE},"Find Best Target",n+1),c=new Ie((d,h,g)=>{const v=g.get(tc),m=g.get(nc);if(!v||!m)return M.FAILURE;const{gameState:S}=h;return ye(d.position,m,S.mapDimensions.width,S.mapDimensions.height)>Wg?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),g.set(tc,void 0),g.set(nc,void 0),M.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>Zt*5)&&(vt(h.gameState,Ae.TargetAcquired,d.position,Zt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,M.RUNNING)},"Attack Target",n+1);return new Ue([i,o,s,l,c],"Tribe Member Combat",n)}function o_(n){const i=new Te((m,S)=>{if(!m.isAdult||m.gender!=="male")return!1;const w=m.partnerIds&&m.partnerIds.length>0,R=Ot(S.gameState,m).length>0;return w||R},"Is Adult Male With Family?",n+1),o=new Te((m,S)=>{var O;if(!m.fatherId)return!1;const w=S.gameState.entities.entities.get(m.fatherId);return!w||((O=xr(Ot(S.gameState,w)))==null?void 0:O.id)===m.id?!1:ye(m.position,w.position,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<wS},"Is Too Close To Father?",n+1),s=new Te((m,S,w)=>w.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),l=new Ie((m,S,w)=>{const R=w.get("territoryMoveTarget"),O=w.get("territoryMoveStartTime");if(!R||!O)return[M.FAILURE,"Missing move data"];if(S.gameState.time-O>_S)return w.delete("territoryMoveTarget"),w.delete("territoryMoveStartTime"),[M.FAILURE,"Territory move timed out"];if(ye(m.position,R,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<Ri)return w.delete("territoryMoveTarget"),w.delete("territoryMoveStartTime"),[M.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const D=xt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=bt(D),[M.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),c=new Ue([s,l],"Handle In-Progress Move",n+2),d=new Te((m,S,w)=>w.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+4),h=new Ie((m,S,w)=>{const R=Gc(m.position,S.gameState.mapDimensions.width/4,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);w.set("territoryMoveTarget",R),w.set("territoryMoveStartTime",S.gameState.time),m.activeAction="moving",m.target=R;const O=xt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=bt(O),[M.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+4),g=new Ue([d,h],"Start New Territory Move Action",n+3),v=new Gr([c,new Yo(IS,g,"Establish Territory Cooldown",n+2)],"Establish or Continue Move",n+1);return new Ue([i,o,v],"Establish Family Territory",n)}function s_(n){return new Ue([new Ie((i,o,s)=>{const l=vE(i,o.gameState);return l?(s.set("patriarchTarget",l),[M.SUCCESS,`Found patriarch: ${l.id}`]):(s.delete("patriarchTarget"),[M.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new Ie((i,o,s)=>{const l=s.get("patriarchTarget");if(!l)return[M.FAILURE,"Patriarch target missing from blackboard"];const c=ye(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(c>pS){i.activeAction="moving",i.target=l.id;const d=xt(i.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.direction=bt(d),[M.RUNNING,`Moving to patriarch at ${c.toFixed(0)}`]}return i.activeAction="idle",i.target=void 0,i.direction={x:0,y:0},[M.SUCCESS,`Arrived at patriarch at ${c.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}const rc="tribeSplitMigrationTarget";function a_(n){const i=new Ue([new Te((o,s)=>{const{canSplit:l,progress:c}=zc(o,s.gameState);return l?[!0,`Progress: ${(c??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",n+2),new Ie((o,s,l)=>{const{gameState:c}=s;let d=l.get(rc);if(!d){if(!o.leaderId)return M.FAILURE;const g=Ua(o.leaderId,c),v=yE(g,o,c);if(v)l.set(rc,v),d=v;else return M.FAILURE}return ye(o.position,d,c.mapDimensions.width,c.mapDimensions.height)<Ri?(l.delete(rc),o.activeAction="idle",o.target=void 0,M.SUCCESS):(o.activeAction="moving",o.target=d,M.RUNNING)},"Move to New Territory",n+2),new Ie((o,s)=>(um(o,s.gameState),M.SUCCESS),"Perform Tribe Split",n+2)],"Tribe Split Action",n+1);return new Yo(PS,i,"Tribe Split Cooldown",n)}const fa="jealousyAttackTarget";function l_(n){return new Ue([new Te((i,o,s)=>{const l=uE(i,o.gameState,DS);return l?(s.set(fa,l),[!0,`Partner cheating with ${l.id}`]):(s.delete(fa),!1)},"Check for Infidelity",n+1),new Ie((i,o,s)=>{const l=s.get(fa);return!l||l.hitpoints<=0?(s.delete(fa),[M.FAILURE,"Target is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking ${l.id}`])},"Execute Jealousy Attack",n+1)],"Jealousy Attack",n)}const ha="defendAggressor";function u_(n){return new Ue([new Te((i,o,s)=>{const l=dE(i,o.gameState,MS);return l?(s.set(ha,l.aggressor),[!0,`Family member ${l.familyMember.id} attacked by ${l.aggressor.id}`]):(s.delete(ha),!1)},"Check Family Under Attack",n+1),new Ie((i,o,s)=>{const l=s.get(ha);return!l||l.hitpoints<=0?(s.delete(ha),[M.FAILURE,"Target invalid/dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking aggressor ${l.id}`])},"Execute Family Defense Attack",n+1)],"Defend Family",n)}const pa="bushIntruder";function c_(n){return new Ue([new Te((i,o,s)=>{const l=cE(i,o.gameState,US);return l?(s.set(pa,l),[!0,`Intruder ${l.id} stealing berries`]):(s.delete(pa),!1)},"Check For Intruders on Bushes",n+1),new Ie((i,o,s)=>{const l=s.get(pa);return!l||l.hitpoints<=0?(s.delete(pa),[M.FAILURE,"Intruder is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Attacking intruder ${l.id}`])},"Execute Bush Defense Attack",n+1)],"Defend Claimed Bush",n)}const ga="desperateAttackTarget";function d_(n){return new Ue([new Te(i=>i.hunger>FS,"Is Starving",n+1),new Te((i,o)=>{const s=ut(i,o.gameState,"berryBush",ct,c=>c.food.length>0),l=ut(i,o.gameState,"humanCorpse",ct,c=>c.food.length>0);return!s&&!l},"No Other Food Available",n+1),new Te((i,o,s)=>{const l=fE(i,o.gameState);return l?(s.set(ga,l),[!0,`Found weak target ${l.id}`]):(s.delete(ga),!1)},"Find Weak Target",n+1),new Ie((i,o,s)=>{const l=s.get(ga);return!l||l.hitpoints<=0?(s.delete(ga),[M.FAILURE,"Target is invalid or dead"]):i.activeAction==="attacking"&&i.attackTargetId===l.id?M.RUNNING:(i.activeAction="attacking",i.attackTargetId=l.id,[M.RUNNING,`Desperately attacking ${l.id}`])},"Execute Desperate Attack",n+1)],"Desperate Attack",n)}function f_(n){return new Ue([new Te((i,o)=>i.isPlayer===!0&&o.gameState.autopilotControls.isActive,"Is Autopilot Active?",n+1),new Te((i,o)=>[!!o.gameState.autopilotControls.autopilotMoveTarget,`Target: ${JSON.stringify(o.gameState.autopilotControls.autopilotMoveTarget)}`],"Has Autopilot Move Target",n+1),new Ie((i,o)=>{const s=o.gameState.autopilotControls.autopilotMoveTarget;return s?(i.activeAction="moving",i.target=s,[M.SUCCESS,`Set target to ${s.x.toFixed(0)},${s.y.toFixed(0)}`]):[M.FAILURE,"Target disappeared unexpectedly"]},"Set Autopilot Move Action",n+1),new Ie((i,o)=>{const s=o.gameState.autopilotControls.autopilotMoveTarget;if(!s)return i.activeAction==="moving"&&(i.activeAction="idle"),[M.SUCCESS,"Target cleared externally"];const l=ye(i.position,s,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return l<GS?(o.gameState.autopilotControls.autopilotMoveTarget=void 0,i.target=void 0,i.activeAction==="moving"&&(i.activeAction="idle"),[M.SUCCESS,"Arrived at autopilot target"]):[M.RUNNING,`Moving to target, ${l.toFixed(0)}px away`]},"Check Arrival at Autopilot Target",n+1)],"Autopilot Move To Target",n)}function h_(){return new Gr([VE(1),u_(1),l_(1),c_(1),d_(1),f_(1),new hi(r_(2),"callToAttack","Gated Leader Combat",1),i_(1),new hi(qE(2),"attack","Gated Attacking",1),YE(1),new hi(new Wp(KE(3),gp,"Timeout Gathering",2),"gathering","Gated Gathering",1),new hi(e_(2),"feedChildren","Gated Feed Child",1),t_(1),new hi(new Wp(n_(3),gp,"Timeout Planting",2),"planting","Gated Planting",1),new hi(QE(2),"procreation","Gated Procreation",1),new Sc(a_(2),mp,"Cache Tribe Split",1),new Sc(o_(2),mp,"Cache Establish Territory",1),s_(1),XE(1)],"Human Behavior",0)}class p_{constructor(){_e(this,"data",new Map);_e(this,"nodeExecutionData",new Map)}set(i,o){this.data.set(i,o)}get(i){return this.data.get(i)}delete(i){this.data.delete(i)}has(i){return this.data.has(i)}recordNodeExecution(i,o,s,l,c){const d=this.nodeExecutionData.get(i)||{lastExecuted:0,status:M.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Bo&&d.executionHistory.push({time:h.time+Bo,status:M.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const g=Jg/Qt*Xt,v=s-g;d.executionHistory=d.executionHistory.filter(S=>S.time>=v);const m={...d,lastExecuted:s,status:o,depth:l,debugInfo:c};this.nodeExecutionData.set(i,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(i){const o=TS,s=[];for(const[l,c]of this.nodeExecutionData.entries())i-c.lastExecuted>o&&s.push(l);for(const l of s)this.nodeExecutionData.delete(l)}}function g_(n){n.gameState.entities.entities.forEach(o=>{$E(o,n)})}function fm(){return{entities:new Map,nextEntityId:1}}function Yc(n,i,o){const s={id:n.nextEntityId++,type:i,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(s.id,s),s}function Ka(n,i,o){return Yc(n,"berryBush",{position:i,radius:mc,food:Array.from({length:Ny},()=>({type:hr.Berry})).map(l=>({...l,id:n.nextEntityId++})),maxFood:Py,lifespan:Dy,age:0,spreadChance:My,spreadRadius:mc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[ko,{enteredAt:o,previousState:void 0}]})}function Fa(n,i,o,s,l=!1,c=Hy,d=Bg,h,g,v=[],m,S){const w=c>=Oc;return Yc(n,"human",{position:i,radius:w?Sn:Mc,hunger:d,hitpoints:fp,maxHitpoints:fp,age:c,gender:s,isPlayer:l,food:[],maxFood:Lg,maxAge:Fo,isAdult:w,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:g,ancestorIds:v,stateMachine:[lt,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:S,aiType:jc.BehaviorTreeBased,aiBehaviorTree:h_(),aiBlackboard:new p_})}function m_(n,i,o,s,l,c,d,h,g){return Yc(n,"humanCorpse",{position:i,radius:l,gender:o,age:s,originalHumanId:c,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(xg*Math.max(Nt-g,0)/Nt,1)},()=>({type:hr.Meat})),...h].map(m=>({...m,id:n.nextEntityId++})),stateMachine:void 0})}function v_(n,i,o){const s=i?o.gameState.entities.entities.get(i):void 0,l=[...n.ancestorIds||[],n.id],c=s?[...s.ancestorIds||[],s.id]:[],d=[...l,...c],h=[...new Set(d)],g=h.slice(Math.max(h.length-Uy,0)),v=Math.random()<.5?"male":"female",m=fr(n.position,{x:5,y:5}),S=Fa(o.gameState.entities,m,o.gameState.time,v,!1,0,Bg/2,n.id,i,g,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return Ve(o,De.Birth,n.position),S}function Vc(n,i){return n.entities.get(i)?(n.entities.delete(i),!0):!1}class y_{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(i,o){let s=this.length++;for(;s>0;){const l=s-1>>1,c=this.values[l];if(o>=c)break;this.ids[s]=this.ids[l],this.values[s]=c,s=l}this.ids[s]=i,this.values[s]=o}pop(){if(this.length===0)return;const i=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],l=this.length>>1;let c=0;for(;c<l;){let d=(c<<1)+1;const h=d+1;let g=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,g=this.ids[h],v=m),v>=s)break;this.ids[c]=g,this.values[c]=v,c=d}this.ids[c]=o,this.values[c]=s}return i}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Yp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ic=3;class Kc{static from(i,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!i||i.byteLength===void 0||i.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,l]=new Uint8Array(i,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=l>>4;if(c!==ic)throw new Error(`Got v${c} data when expected v${ic}.`);const d=Yp[l&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(i,o+2,1),[g]=new Uint32Array(i,o+4,1);return new Kc(g,h,d,void 0,i,o)}constructor(i,o=16,s=Float64Array,l=ArrayBuffer,c,d=0){if(i===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(i)||i<=0)throw new Error(`Unexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=i,g=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),g+=h,this._levelBounds.push(g*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const v=Yp.indexOf(this.ArrayType),m=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,d+8,g*4),this._indices=new this.IndexArrayType(this.data,d+8+m,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new l(8+m+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+m,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(ic<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=i),this._queue=new y_}add(i,o,s=i,l=o){const c=this._pos>>2,d=this._boxes;return this._indices[c]=c,d[this._pos++]=i,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=l,i<this.minX&&(this.minX=i),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),l>this.maxY&&(this.maxY=l),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const i=this._boxes;if(this.numItems<=this.nodeSize){i[this._pos++]=this.minX,i[this._pos++]=this.minY,i[this._pos++]=this.maxX,i[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,l=new Uint32Array(this.numItems),c=65535;for(let d=0,h=0;d<this.numItems;d++){const g=i[h++],v=i[h++],m=i[h++],S=i[h++],w=Math.floor(c*((g+m)/2-this.minX)/o),R=Math.floor(c*((v+S)/2-this.minY)/s);l[d]=E_(w,R)}Ec(l,i,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const g=this._levelBounds[d];for(;h<g;){const v=h;let m=i[h++],S=i[h++],w=i[h++],R=i[h++];for(let O=1;O<this.nodeSize&&h<g;O++)m=Math.min(m,i[h++]),S=Math.min(S,i[h++]),w=Math.max(w,i[h++]),R=Math.max(R,i[h++]);this._indices[this._pos>>2]=v,i[this._pos++]=m,i[this._pos++]=S,i[this._pos++]=w,i[this._pos++]=R}}}search(i,o,s,l,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],g=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,Kp(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||l<this._boxes[m+1]||i>this._boxes[m+2]||o>this._boxes[m+3])continue;const S=this._indices[m>>2]|0;d>=this.numItems*4?h.push(S):(c===void 0||c(S))&&g.push(S)}d=h.pop()}return g}neighbors(i,o,s=1/0,l=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,g=[],v=l*l;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,Kp(d,this._levelBounds));for(let S=d;S<m;S+=4){const w=this._indices[S>>2]|0,R=Vp(i,this._boxes[S],this._boxes[S+2]),O=Vp(o,this._boxes[S+1],this._boxes[S+3]),N=R*R+O*O;N>v||(d>=this.numItems*4?h.push(w<<1,N):(c===void 0||c(w))&&h.push((w<<1)+1,N))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(g.push(h.pop()>>1),g.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),g}}function Vp(n,i,o){return n<i?i-n:n<=o?0:n-o}function Kp(n,i){let o=0,s=i.length-1;for(;o<s;){const l=o+s>>1;i[l]>n?s=l:o=l+1}return i[o]}function Ec(n,i,o,s,l,c){if(Math.floor(s/c)>=Math.floor(l/c))return;const d=n[s+l>>1];let h=s-1,g=l+1;for(;;){do h++;while(n[h]<d);do g--;while(n[g]>d);if(h>=g)break;S_(n,i,o,h,g)}Ec(n,i,o,s,g,c),Ec(n,i,o,g+1,l,c)}function S_(n,i,o,s,l){const c=n[s];n[s]=n[l],n[l]=c;const d=4*s,h=4*l,g=i[d],v=i[d+1],m=i[d+2],S=i[d+3];i[d]=i[h],i[d+1]=i[h+1],i[d+2]=i[h+2],i[d+3]=i[h+3],i[h]=g,i[h+1]=v,i[h+2]=m,i[h+3]=S;const w=o[s];o[s]=o[l],o[l]=w}function E_(n,i){let o=n^i,s=65535^o,l=65535^(n|i),c=n&(i^65535),d=o|s>>1,h=o>>1^o,g=l>>1^s&c>>1^l,v=o&l>>1^c>>1^c;o=d,s=h,l=g,c=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,g^=o&l>>2^s&c>>2,v^=s&l>>2^(o^s)&c>>2,o=d,s=h,l=g,c=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,g^=o&l>>4^s&c>>4,v^=s&l>>4^(o^s)&c>>4,o=d,s=h,l=g,c=v,g^=o&l>>8^s&c>>8,v^=s&l>>8^(o^s)&c>>8,o=g^g>>1,s=v^v>>1;let m=n^i,S=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,(S<<1|m)>>>0}function oc(n,i){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Kc(n.length),s=new Map;for(const c of n)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(h=>n[h])},byRadius(c,d){return o.neighbors(c.x,c.y,void 0,d).map(g=>n[g])},byProperty(c,d){var h;if(!s.has(c)){const g=new Map;for(const v of n){const m=v[c];g.has(m)||g.set(m,[]),g.get(m).push(v)}s.set(c,g)}return((h=s.get(c))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function Xc(n){const i=Array.from(n.entities.entities.values()),o=i.filter(d=>d.type==="human"),s=i.filter(d=>d.type==="berryBush"),l=i.filter(d=>d.type==="humanCorpse");return{...n,search:{human:oc(o),berryBush:oc(s),humanCorpse:oc(l)}}}var ur=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(ur||{}),$o=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))($o||{}),Tt=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(Tt||{});const __=[{key:ur.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:ur.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,i)=>i.hunger>Fy,isCompleted:!1,minDisplayTime:Mp,highlightedUIElements:[$o.HUNGER_BAR]},{key:ur.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,i)=>!!ut(i,n,"berryBush",ct*5,s=>s.food.length>0),getTargets:(n,i)=>{const o=[];for(const s of n.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ye(i.position,s.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Mp},{key:ur.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,i)=>i.food.length>0,getTargets:(n,i)=>{const o=ut(i,n,"berryBush",ct,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:ur.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,i)=>i.activeAction==="eating",isCompleted:!1,highlightedUIElements:[$o.FOOD_BAR]},{key:ur.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,i)=>Ot(n,i).length>0,getTargets:(n,i)=>{const o=ut(i,n,"human",ct,s=>{const l=s;return(l.id!==i.id&&l.gender!==i.gender&&l.isAdult&&i.isAdult&&l.hunger<Nt&&i.hunger<Nt&&(l.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(l.gender==="female"?!l.isPregnant&&l.age<=ki:!i.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:ur.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,i)=>im(n,i).some(s=>s.type===ot.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function hm(){return{steps:__.map(n=>({...n,isCompleted:!1}))}}function pm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Tt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function T_(n){for(let i=0;i<n.tutorial.steps.length;i++){const o=n.tutorial.steps[i];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return i}else return i}return null}function w_(n,i){const o=n.tutorialState;if(!o.isActive){o.transitionState=Tt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=ln(n);if(!s){o.isActive=!1,o.transitionState=Tt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=n.tutorial.steps[o.currentStepIndex];if(!l){o.isActive=!1,o.transitionState=Tt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/B1;switch(o.transitionState){case Tt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=c*i,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Tt.ACTIVE);break;case Tt.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(l.minDisplayTime||0)&&l.condition(n,s)||n.autopilotControls.isActive)&&(l.isCompleted=!0,o.completedSteps.add(l.key),o.transitionState=Tt.FADING_OUT);break}case Tt.FADING_OUT:if(o.transitionAlpha-=c*i,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=T_(n);h!==null?(o.currentStepIndex=h,o.transitionState=Tt.FADING_IN):(o.isActive=!1,o.transitionState=Tt.INACTIVE)}break}o.transitionState!==Tt.FADING_OUT&&o.transitionState!==Tt.INACTIVE?(l.getTargets?o.highlightedEntityIds=new Set(l.getTargets(n,s)):o.highlightedEntityIds.clear(),l.highlightedUIElements?o.activeUIHighlights=new Set(l.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function A_(){const n=fm(),i=0;for(let m=0;m<Mg;m++){const S={x:Math.random()*Fr,y:Math.random()*Lr};Ka(n,S,i)}const o=Fr/2,s=Lr/2,l=Fa(n,{x:o,y:s},i,"male",!0);Fa(n,{x:o+50,y:s},i,"female",!1);const c=[{id:"autopilotButton",action:de.ToggleAutopilot,currentWidth:Br,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Po},{id:"muteButton",action:de.ToggleMute,currentWidth:Br,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Po},{id:"pauseButton",action:de.TogglePause,currentWidth:Br,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Po}],d=hm(),h=pm(),g={time:i,entities:n,mapDimensions:{width:Fr,height:Lr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...l.position},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!1,gathering:!0,attack:!1,callToAttack:!1,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:em,isMuted:!1,uiButtons:c,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},v=Xc(g);return console.log("Game world initialized:",v),v}function I_(){const n=fm(),i=0;for(let c=0;c<Mg;c++){const d={x:Math.random()*Fr,y:Math.random()*Lr};Ka(n,d,i)}for(let c=0;c<j1;c++){const d={x:Math.random()*Fr,y:Math.random()*Lr},h=Math.random()<.5?"male":"female";Fa(n,d,i,h,!1)}const o=hm(),s=pm(),l={time:i,entities:n,mapDimensions:{width:Fr,height:Lr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Fr/2,y:Lr/2},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0,gathering:!0,attack:!1,callToAttack:!0,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:em,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return Xc(l)}const C_="humanProcreation",R_="human",k_="human",P_=ct,N_=(n,i)=>{if(n.id===i.id||n.gender===i.gender)return!1;const o=(s,l)=>s.isAdult&&s.hunger<Nt&&(s.procreationCooldown||0)<=0?l?!s.isPregnant&&s.age<=ki:!0:!1;return n.gender==="male"?!o(n,!1)||!o(i,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(i,!1)?!1:n.activeAction==="procreating"&&i.activeAction==="procreating"},O_=(n,i,o)=>{var g,v;const{gameState:s}=o,l={x:(n.position.x+i.position.x)/2,y:(n.position.y+i.position.y)/2},c=n.gender==="male"?n:i,d=n.gender==="female"?n:i,h=(c.partnerIds||[]).length===0;if(n.stateMachine=[zo,{partnerId:i.id,previousState:(g=n.stateMachine)==null?void 0:g[0]}],i.stateMachine=[zo,{partnerId:n.id,previousState:(v=i.stateMachine)==null?void 0:v[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(i.id)||n.partnerIds.push(i.id),i.partnerIds||(i.partnerIds=[]),i.partnerIds.includes(n.id)||i.partnerIds.push(n.id),h&&c.leaderId&&c.leaderId!==c.id){const m=s.entities.entities.get(c.leaderId);if(m){const S=vc(c,m),w=vc(d,m);if(!S&&!w){const R=yc();c.leaderId=c.id,c.tribeBadge=R,d.leaderId=c.id,d.tribeBadge=R}}}else if(!n.leaderId&&!i.leaderId&&c&&d){const m=yc();c.leaderId=c.id,c.tribeBadge=m,d.leaderId=c.id,d.tribeBadge=m}n.activeAction=void 0,vt(s,Ae.Procreation,l,Ao),vt(s,Ae.Partnered,n.position,Zt,n.id),vt(s,Ae.Partnered,i.position,Zt,i.id),n.lastPartneredEffectTime=s.time,i.lastPartneredEffectTime=s.time,i.activeAction=void 0,Ve(o,De.Procreate,l)},D_={id:C_,sourceType:R_,targetType:k_,maxDistance:P_,checker:N_,perform:O_},M_={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Dc,checker:(n,i)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&i.isAdult===!1&&(i.motherId===n.id||i.fatherId===n.id)&&i.hunger>=ja,perform:(n,i,o)=>{n.food.pop(),i.hunger=Math.max(0,i.hunger-Lo),n.feedChildCooldownTime=Vy,(!i.lastChildFedEffectTime||o.gameState.time-i.lastChildFedEffectTime>2)&&(vt(o.gameState,Ae.ChildFed,i.position,Zt,i.id),i.lastChildFedEffectTime=o.gameState.time),Ve(o,De.ChildFed,i.position)}},U_={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Ya,checker:(n,i,o)=>{var c;if(((c=n.stateMachine)==null?void 0:c[0])!==Pi||n.attackTargetId!==i.id||(n.attackCooldown||0)>0)return!1;const s=n.stateMachine[1];return o.gameState.time-s.attackStartTime>=Gg},perform:(n,i,o)=>{const s=xt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),l=Z1(bt(s),i.direction);if(Math.abs(l)<aS*Math.PI/180&&Math.random()<lS)vt(o.gameState,Ae.AttackDeflected,i.position,Zt,i.id);else{let h=Jy;n.gender==="male"&&(h*=iS),n.isAdult||(h*=oS),(!i.isAdult||i.age>=Hg)&&n.isAdult&&(h*=sS),i.hitpoints-=h,i.movementSlowdown={modifier:eS,endTime:o.gameState.time+tS},vt(o.gameState,Ae.Hit,i.position,Zt,i.id);const v=xt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=yn(v,by);i.forces.push(m),i.hitpoints<=0?Ve(o,De.HumanDeath,i.position):Ve(o,De.Attack,n.position)}n.attackCooldown=zg;const d=n.stateMachine[1];d.attackStartTime=o.gameState.time,vt(o.gameState,Ae.Attack,n.position,Zt,n.id)}},F_={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Sn*2,checker:(n,i,{gameState:o})=>ye(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+i.radius)/3,perform:(n,i,{gameState:o})=>{const s=ye(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){n.forces.push({x:.1,y:0}),i.forces.push({x:-.1,y:0});return}const c=(n.radius+i.radius-s)*.05,d=bt(X1(n.position,i.position)),h=yn(d,c);n.forces.push(h),i.forces.push(yn(h,-1))}},L_={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ct,checker:(n,i,o)=>{var s;return n.isAdult&&i.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Va&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const s=i.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,i.timeSinceLastHarvest=o.gameState.time,i.ownerId=n.id,i.claimedUntil=o.gameState.time+Ug,vt(o.gameState,Ae.BushClaimed,i.position,Zt),Ve(o,De.Gather,n.position)}},B_={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ct,checker:(n,i,o)=>{var s;return n.isAdult&&i.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Va&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const s=i.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,Ve(o,De.Gather,n.position)}},H_=[L_,B_],x_=[F_,...H_,D_,M_,U_];function G_(n){const{gameState:i}=n,o=i,s=Array.from(i.entities.entities.values());for(const l of x_)for(const c of s){if(l.sourceType&&c.type!==l.sourceType)continue;const d=o.search[l.targetType].byRadius(c.position,l.maxDistance);for(const h of d){if(c.id===h.id)continue;ye(c.position,h.position,i.mapDimensions.width,i.mapDimensions.height)<=l.maxDistance&&l.checker(c,h,n)&&l.perform(c,h,n)}}}function z_(n){n.visualEffects=n.visualEffects.filter(i=>n.time-i.startTime<=i.duration)}const $_=1/60;function W_(n,i){const o=ln(n);o&&(n.viewportCenter=Fc(n.viewportCenter,o.position,Pc*i))}function Ca(n,i){if(n.isPaused)return n;for(;i>0;){const o=Xc(n),s=Math.min(i,$_);if(o.gameOver)return o;const l=s*(Xt/Qt);o.time+=l,W_(o,s),g_({gameState:o,deltaTime:s}),G_({gameState:o,deltaTime:s}),z_(o),w_(o,s),n=o,i-=s}return n}function Xp(n,i,o){n.save();const{x:s,y:l,width:c,height:d}=i.rect,h=g1;n.fillStyle=i.backgroundColor,n.beginPath(),n.moveTo(s+h,l),n.lineTo(s+c-h,l),n.quadraticCurveTo(s+c,l,s+c,l+h),n.lineTo(s+c,l+d-h),n.quadraticCurveTo(s+c,l+d,s+c-h,l+d),n.lineTo(s+h,l+d),n.quadraticCurveTo(s,l+d,s,l+d-h),n.lineTo(s,l+h),n.quadraticCurveTo(s,l,s+h,l),n.closePath(),n.fill(),o&&(n.fillStyle=m1,n.globalAlpha=.5,n.fill(),n.globalAlpha=1),n.fillStyle=i.textColor,i.icon?(n.font=`${d*.55}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(i.icon,s+c/2,l+d/2),i.text&&(n.font=`${d*.18}px "Press Start 2P", Arial`,n.textAlign="right",n.textBaseline="bottom",n.fillText(i.text,s+c-4,l+d-2))):(n.textAlign="center",n.textBaseline="middle",n.fillText(i.text,s+c/2,l+d/2)),n.restore()}function j_(n,i,o,s){n.save(),n.font=`${Cp}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="bottom";const c=n.measureText(o).width,d=Cp,h=c+Rp*2,g=d+Rp*2,v=s.x-h/2,m=n.canvas.height,S=i.y<m/2?i.y+i.height-kp:i.y-g+kp;n.fillStyle=v1,n.fillRect(v,S,h,g),n.fillStyle=y1,n.fillText(o,s.x,S+g/2+d/2),n.restore()}function Y_(n,i,o){if(n.uiButtons=n.uiButtons.filter(s=>![de.ToggleProcreationBehavior,de.TogglePlantingBehavior,de.ToggleGatheringBehavior,de.ToggleAttackBehavior,de.ToggleCallToAttackBehavior,de.ToggleFeedChildrenBehavior].includes(s.action)),n.autopilotControls.isActive){const s=[{key:"gathering",action:de.ToggleGatheringBehavior,emoji:ot.GatherFood,shortcut:"G",name:"Gathering"},{key:"attack",action:de.ToggleAttackBehavior,emoji:ot.Attack,shortcut:"Q",name:"Attack"},{key:"callToAttack",action:de.ToggleCallToAttackBehavior,emoji:ot.CallToAttack,shortcut:"V",name:"Call to Attack"},{key:"procreation",action:de.ToggleProcreationBehavior,emoji:ot.Procreate,shortcut:"R",name:"Procreation"},{key:"planting",action:de.TogglePlantingBehavior,emoji:ot.PlantBush,shortcut:"B",name:"Planting"},{key:"feedChildren",action:de.ToggleFeedChildrenBehavior,emoji:ot.FeedChildren,shortcut:"H",name:"Feed Children"}],l=3,c=2,d=l*Nr+(l-1)*la,h=c*Nr+(c-1)*la,g=(i-d)/2,v=o-h-20;s.forEach((m,S)=>{const w=S%l,R=Math.floor(S/l),O=g+w*(Nr+la),N=v+R*(Nr+la),A=n.autopilotControls.behaviors[m.key],D={id:`toggle${m.name}Button`,action:m.action,rect:{x:O,y:N,width:Nr,height:Nr},icon:nm[m.emoji],text:m.shortcut,backgroundColor:A?Aa:vi,textColor:Po,currentWidth:Nr,tooltip:`${m.name}: ${A?"ON":"OFF"}`};n.uiButtons.push(D)})}}function V_(n,i,o){n.save(),i.uiButtons.some(v=>v.action===de.FastForward)||i.uiButtons.push({id:"fastForwardButton",action:de.FastForward,rect:{x:0,y:0,width:0,height:0},text:"FFWD [T]",currentWidth:Br,backgroundColor:vi,textColor:Po,tooltip:"Fast-forward time"}),n.textAlign="right";let s=o-Pt;const l=i.uiButtons.find(v=>v.action===de.ToggleAutopilot);l&&(l.text="AUT[O]",l.backgroundColor=i.autopilotControls.isActive?Aa:vi,l.tooltip=`Toggle Autopilot (${i.autopilotControls.isActive?"ON":"OFF"})`);const c=i.uiButtons.find(v=>v.action===de.ToggleMute);c&&(c.text=i.isMuted?"UN[M]UTE":"[M]UTE",c.backgroundColor=i.isMuted?Aa:vi,c.tooltip=`Toggle Sound (${i.isMuted?"Muted":"Enabled"})`);const d=i.uiButtons.find(v=>v.action===de.TogglePause);d&&(d.text=i.isPaused?"UN[P]AUSE":"[P]AUSE",d.backgroundColor=i.isPaused?Aa:vi,d.currentWidth=i.isPaused?Br*1.4:Br*1.1,d.tooltip=i.isPaused?"Resume Game":"Pause Game");const h=i.uiButtons.find(v=>v.action===de.FastForward);h&&(h.text="FFWD [T]",h.backgroundColor=vi,h.currentWidth=Br*1.3,h.tooltip="Fast-forward time"),Y_(i,o,n.canvas.height),i.uiButtons.filter(v=>v.action===de.FastForward||v.action===de.ToggleAutopilot||v.action===de.ToggleMute||v.action===de.TogglePause).forEach(v=>{const m=Pt,S=s-v.currentWidth;v.rect={x:S,y:m,width:v.currentWidth,height:h1},Xp(n,v,i.hoveredButtonId===v.id),s-=v.currentWidth+p1}),i.uiButtons.filter(v=>[de.ToggleProcreationBehavior,de.TogglePlantingBehavior,de.ToggleGatheringBehavior,de.ToggleAttackBehavior,de.ToggleCallToAttackBehavior,de.ToggleFeedChildrenBehavior].includes(v.action)).forEach(v=>{Xp(n,v,i.hoveredButtonId===v.id)});const g=i.hoveredButtonId?i.uiButtons.find(v=>v.id===i.hoveredButtonId):void 0;g&&g.tooltip&&i.mousePosition&&j_(n,g.rect,g.tooltip,i.mousePosition),n.restore()}function K_(n){n.save(),n.fillStyle=P1,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=N1,n.font=`${O1}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const X_=25,Q_=0,Qp=28;function Z_(n,i,o,s,l,c,d,h,g){n.save();const v=i.x-d.x+h/2,m=i.y-d.y+g/2;n.strokeStyle=s,n.lineWidth=c,n.setLineDash(l),n.beginPath(),n.arc(v,m,o+qg,0,2*Math.PI),n.stroke(),n.restore()}function q_(n,i,o,s,l,c){if(i.length===0)return;n.save(),i.forEach(m=>{m.targetEntity&&Z_(n,m.targetEntity.position,m.targetEntity.radius,WS,jS,2,s,l,c)}),n.font=`${_p}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const d=o.position.x-s.x+l/2,h=o.position.y-s.y+c/2;let g=0,v={};i.forEach(m=>{const S=nm[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const w=m.targetEntity.position.x-s.x+l/2,R=m.targetEntity.position.y-s.y+c/2,O=`${S}${m.key.toUpperCase()}`,N=R-m.targetEntity.radius-qg-_p/2-(v[m.targetEntity.id]-1)*Qp;n.fillText(O,w,N)}else{n.textAlign="left";const w=`${S}${m.key.toUpperCase()}`,R=d+X_,N=h+Q_+g*Qp;n.fillText(w,R,N),g++,n.textAlign="center"}}),n.restore()}const oe=(n,i,o,s,l,c,d)=>{c==="transparent"||s<=0||l<=0||(n.fillStyle=c,n.fillRect(Math.floor(i*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(l*d)))},Zp=10,qp=10,gn=6,Dn=4,ma=2,J_=5,Kt=4,b_=2,gt=4,eT=2,$e=3,gi=2,cr=0,Oo=cr+Dn-1,_t=Oo,Qe=Oo+Kt-1,tT="rgba(0, 0, 0, 0.4)",nT=4,rT=1,Qc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,i,o,s,l,c,d,h="male",g=20,v=[1,0],m=!1,S=0){const w=["dead","stunned"].includes(d),R=w?qp+4:Zp,O=w?Zp+4:qp+$e,N=.15,A=Math.min(s*(1-2*N)/R,l*(1-2*N)/O),D=R*A,k=O*A,z=i+(s-D)/2,W=o+(l-k)/2;n.save(),v[0]<0&&!w?(n.translate(z+D,W),n.scale(-1,1)):n.translate(z,W);const F="#D09A5A",x=g>50?"#BDBDBD":"#281808",b="#7F5C4A",ge="#6B4F3A",Ge="#E0D8C0",Je="#A0522D",Me=1-Math.max(0,Math.min(100,S))/100*.2,Fe=h==="male"?1.1:.9,Ee=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let Ce=J_*Me*Fe*Ee,fe=b_*Me*Fe*Ee,se=eT*Me*Ee;m&&h==="female"&&(Ce*=1.5);const $=Math.round((R-Ce)/2),V=Math.round((R-gn)/2),j=$-fe,T=$+Ce,U=1,re=$+(Ce/2-U/2)-se,ee=$+(Ce/2+U/2),me=v[1]<-.2&&Math.abs(v[0])<.7,ae=X=>{n.fillStyle=tT,n.beginPath();const ie=R/2,ke=X;n.ellipse(Math.floor(ie*A),Math.floor(ke*A),Math.max(1,Math.floor(nT*A)),Math.max(1,Math.floor(rT*A)),0,0,2*Math.PI),n.fill()},he=(X,ie)=>{h==="male"?(oe(n,$,Oo+X,Ce,Kt-gi,ie,A),oe(n,$,Oo+Kt-gi+X,Ce,gi,b,A)):oe(n,$,Oo+X,Ce,Kt,ge,A)},ce=(X,ie)=>{me?oe(n,V,cr+X,gn,Dn,x,A):(oe(n,V,cr+X,gn,Dn,ie,A),oe(n,V,cr+X,gn,ma,x,A),h==="female"?(oe(n,V-1,cr+ma+X,1,Dn,x,A),oe(n,V+gn,cr+ma+X,1,Dn,x,A)):oe(n,V+1,cr+2+X,gn-2,Dn-2,x,A))};switch(d){case"idle":{const X=c*Math.PI*2,ie=Math.sin(X)*.5,ue=(Math.cos(X*2)+1)*.25;ae(Qe+$e+1),oe(n,re+ie,Qe+ue,se,$e,F,A),oe(n,ee-ie,Qe+ue,se,$e,F,A),he(ue,F),oe(n,j,_t+ue,fe,gt,F,A),oe(n,T,_t+ue,fe,gt,F,A),ce(ue,F);break}case"walk":{const X=c*Math.PI*2,ie=Math.sin(X)*2,ue=Math.abs(Math.cos(X))*1;ae(Qe+$e+1),oe(n,re+ie,Qe+ue,se,$e,F,A),oe(n,ee-ie,Qe+ue,se,$e,F,A),he(ue,F),oe(n,j-ie,_t+ue,fe,gt,F,A),oe(n,T+ie,_t+ue,fe,gt,F,A),ce(ue,F);break}case"gathering":{const X=c*Math.PI*2,ie=1,ke=(Math.sin(X)+1)/2*2,ue=ie+Math.abs(Math.cos(X))*.5;ae(Qe+$e+1),oe(n,re,Qe+ue,se,$e-ie,F,A),oe(n,ee,Qe+ue,se,$e-ie,F,A),he(ue,F),oe(n,j+1,_t+ue-ke,fe,gt,F,A),oe(n,T-1,_t+ue-ke,fe,gt,F,A),ce(ue,F);break}case"eat":{ae(Qe+$e+1),oe(n,re,Qe+1,se,$e-1,F,A),oe(n,ee,Qe+1,se,$e-1,F,A),he(1,F);const ke=(Math.sin(c*Math.PI*4)+1)/2,ue=V+gn/2,_n=cr+Dn/2,Dt=T+(ue-T)*ke,Gt=_t+1+(_n-(_t+1))*ke;oe(n,j,_t+1,fe,gt,F,A),oe(n,Dt,Gt,fe,gt,F,A),oe(n,Dt,Gt-1,1,1,Je,A),ce(1,F);break}case"procreate":{const X=(Math.sin(c*Math.PI*8)+1)/4,ie=(Math.sin(c*Math.PI*6)+1)*.5,ke=1.5,ue=ke-ie;ae(Qe+$e+1),oe(n,re,Qe+ue,se,$e-ke,F,A),oe(n,ee,Qe+ue,se,$e-ke,F,A),he(ue,F),oe(n,j,_t+ue,fe,gt,F,A),oe(n,T,_t+ue,fe,gt,F,A),ce(ue,F),n.globalAlpha=X,he(ue,"white"),n.globalAlpha=1;break}case"attacking":{const X=Math.sin(c*Math.PI)*1.5,ie=Math.abs(Math.sin(c*Math.PI));ae(Qe+$e+1),oe(n,re-X,Qe+ie,se,$e,F,A),oe(n,ee+X*.5,Qe+ie,se,$e,F,A),he(ie,F),oe(n,j,_t+ie-2,fe,gt,F,A),oe(n,T,_t+ie-2.5,fe,gt,F,A),ce(ie,F);break}case"defending":{ae(Qe+$e+1),oe(n,re,Qe+1,se,$e-1,F,A),oe(n,ee,Qe+1,se,$e-1,F,A),he(1,F),oe(n,j-1,_t+1-1,fe,gt,F,A),oe(n,T+1,_t+1-1,fe,gt,F,A),ce(1,F);break}case"stunned":case"dead":{const X=d==="dead",ie=X?Math.min(1,c):0,ke=ie>.5?Ge:F,ue=h==="male"?b:ge,_n=ie>.8?"transparent":x,Dt=R/2,Gt=O/2,pr=2;ae(O-1),oe(n,Dt-se-pr,Gt,se,$e,ke,A),oe(n,Dt+pr,Gt,se,$e,ke,A),oe(n,Dt-fe-pr,Gt-Kt+1,fe,gt,ke,A),oe(n,Dt+pr,Gt-Kt+1,fe,gt,ke,A);const Tn=Dt-Ce/2,Fn=Gt-Kt/2;h==="male"?(ie<.7&&oe(n,Tn,Fn+Kt-gi,Ce,gi,ue,A),oe(n,Tn,Fn,Ce,Kt-gi,ke,A)):ie<.7?oe(n,Tn,Fn,Ce,Kt,ue,A):oe(n,Tn,Fn,Ce,Kt,ke,A);const zr=Dt-gn/2,Ln=Gt-Kt/2-Dn+1;if(oe(n,zr,Ln,gn,Dn,ke,A),_n!=="transparent"&&oe(n,zr,Ln,gn,ma,_n,A),X&&ie>.6){const Bn="#B0A890";for(let gr=0;gr<3;gr++)oe(n,Tn+1,Fn+gr*1+1,Ce-2,.5,Bn,A)}break}default:oe(n,0,0,R,O,"magenta",A);break}n.restore()}};function iT(n,i,o,s,l){const c=i.x,d=i.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(c-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(c-s/2,d),n.lineTo(c-s/4,d-s/3),n.lineTo(c-s/6,d),n.moveTo(c-s/6,d),n.lineTo(c,d-s/2),n.lineTo(c+s/6,d),n.moveTo(c+s/6,d),n.lineTo(c+s/4,d-s/3),n.lineTo(c+s/2,d),n.stroke(),n.restore()}function Wo(n,i,o,s,l,c=!1,d=!1,h=!1,g=!1){s<Oc&&(o=o*.75),Qc.render(n,i.x-o/2,i.y-o/2,o,o,0,"idle",l,s,[0,0],!1,0);let v,m;c?(v=i1,m=Uc):d?(v=o1,m=Qg):h?(v=s1,m=Xg):g&&(v=a1,m=Kg),v&&m&&iT(n,i,o/2,v,m)}function oT(n,i,o,s,l,c){if(n.save(),s.length===0){n.restore();return}const d=s.length*l,h=4;let g;const v=d+(s.length-1)*h;s.length>1&&v>c?g=(c-d)/(s.length-1):g=h,s.length<=1&&(g=0);for(let m=0;m<s.length;m++){const{member:S,isPlayer:w,isHeir:R,isPartner:O,isParent:N}=s[m],A=i+m*(l+g)+l/2,D=o+l/4;Wo(n,{x:A,y:D},l,S.age,S.gender,w,R,O,N)}n.restore()}function sT(n,i,o,s){if(i.length===0)return;n.save();const l=ir,c=" 00",d=" 00";n.font=`${Vu}px "Press Start 2P", Arial`;const h=n.measureText(c).width,g=n.measureText(d).width,v=ir+oa+ir+or+h+ir/2+or+g,m=i.length*sa+(i.length-1)*Ap,S=s-m-ir;n.fillStyle=u1,n.fillRect(l,S,v,m);for(let w=0;w<i.length;w++){const R=i[w],O=S+w*(sa+Ap),N=O+sa/2;R.isPlayerTribe&&(n.fillStyle=l1,n.fillRect(l,O,v,sa));let A=l+ir;n.font=`${oa}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(R.tribeBadge,A,N-oa/4),A+=oa+ir*1.1,R.adultCount>0&&(Wo(n,{x:A+or/2,y:N},or,25,"male"),A+=or/2,n.font=`${Vu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.adultCount}`,A,N),A+=n.measureText(` ${R.adultCount}`).width+ir/2),R.childCount>0&&(Wo(n,{x:A+or/2,y:N},or,1,"female"),A+=or/2,n.font=`${Vu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.childCount}`,A,N))}n.restore()}function aT(n,i,o,s,l){n.save();const{position:c}=i;n.strokeStyle=s,n.lineWidth=2+Math.sin(l*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(c.x,c.y,o,0,2*Math.PI),n.stroke(),n.restore()}function lT(n,i,o,s,l){if(i.transitionState===Tt.INACTIVE)return;const c=o.steps[i.currentStepIndex];if(!c)return;n.save(),n.globalAlpha=i.transitionAlpha;const d=D1,h=M1,g=U1,v=`${Qu}px "Press Start 2P", Arial`,m=`${Dp}px "Press Start 2P", Arial`,S=L1,w=Dp*1.5;n.font=m;const R=c.text.split(" ");let O="";const N=[];for(let W=0;W<R.length;W++){const Z=O+R[W]+" ";n.measureText(Z).width>d-h*2&&W>0?(N.push(O),O=R[W]+" "):O=Z}N.push(O);const A=h*2+Qu+h/2+N.length*w,D=(s-d)/2,k=l-A-20;n.fillStyle=F1,n.beginPath(),n.moveTo(D+g,k),n.lineTo(D+d-g,k),n.quadraticCurveTo(D+d,k,D+d,k+g),n.lineTo(D+d,k+A-g),n.quadraticCurveTo(D+d,k+A,D+d-g,k+A),n.lineTo(D+g,k+A),n.quadraticCurveTo(D,k+A,D,k+A-g),n.lineTo(D,k+g),n.quadraticCurveTo(D,k,D+g,k),n.closePath(),n.fill(),n.fillStyle=S,n.textAlign="center",n.textBaseline="top",n.font=v,n.fillText(c.title,D+d/2,k+h),n.font=m;let z=k+h+Qu+h/2;for(const W of N)n.fillText(W,D+d/2,z),z+=w;n.restore()}function Jp(n,i,o){n.save();const s=z1,l={x:i.x-s,y:i.y-s,width:i.width+s*2,height:i.height+s*2};n.strokeStyle=bg,n.lineWidth=G1+Math.sin(o*x1)*1.5,n.setLineDash([8,8]),n.strokeRect(l.x,l.y,l.width,l.height),n.restore()}function uT(n,i){n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${i.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20)}const _c=10,cT=3,bp=_c*.7;function dT(n,i,o,s,l){const{position:c,food:d,maxFood:h,ownerId:g,claimedUntil:v}=i;if(n.beginPath(),n.arc(c.x,c.y,_c,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),g&&v&&v>l&&s){const m=o.entities.entities.get(g);if(m){let S;m.id===s.id?S=Uc:am(s,m,o)?S=$S:S=Zg,S&&(n.strokeStyle=S,n.lineWidth=1+Math.sin(l*2)*.5,n.beginPath(),n.arc(c.x,c.y,_c+2,0,Math.PI*2),n.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let S=0;S<d.length;S++){const w=S*m,R=c.x+bp*Math.cos(w),O=c.y+bp*Math.sin(w);n.beginPath(),n.arc(R,O,cT,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}function fT(n,i){const{position:o,gender:s,age:l,decayProgress:c,food:d,radius:h}=i;if(n.save(),n.globalAlpha=1-c,Qc.render(n,o.x-h,o.y-h,h*2,h*2,c,"dead",s,l,[0,0],!1,0),n.restore(),d.length>0){n.save(),n.font=`${r1}px Arial`,n.textAlign="center",n.textBaseline="middle";const g=Sn*.9,v=Math.PI/Lg*3;d.forEach((m,S)=>{const w=S*v,R=o.x+g*Math.cos(w)*Math.atan2(S,S),O=o.y+g*Math.sin(w)*Math.atan2(S,S),N=tm[m.type];n.fillText(N,R,O)}),n.restore()}}function _i(n,i,o,s,l,c,d,h){n.save(),n.fillStyle=d,n.fillRect(i,o,s,l),n.fillStyle=h,n.fillRect(i,o,s*Math.max(0,c),l),n.restore()}function hT(n,i,o,s,l,c){if(n.save(),s.length===0){n.restore();return}const d=s.length*l;let h;d>c||d+(s.length-1)*4>c?h=(c-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let g=0;g<s.length;g++){const v=tm[s[g].type];n.fillText(v,i+g*(l+h),o)}n.restore()}const pT={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",tribeSplitting:"idle"};function gT(n,i){var h;const{radius:o,position:s,activeAction:l="idle"}=i,c=((h=i.stateMachine)==null?void 0:h[0])||"N/A",d=i.isAdult?Sn+20:Sn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${l}`,s.x,s.y-d),n.fillText(`State: ${c}`,s.x,s.y-d+10),n.fillText(`HP: ${i.hitpoints}`,s.x,s.y-d+20),n.fillText(`Cooldown: ${i.attackCooldown||"N/A"}`,s.x,s.y-d+30),n.restore(),n.beginPath(),n.arc(s.x,s.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function mT(n,i,o){if(!i.aiBehaviorTree||!i.aiBlackboard)return;const s=i.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${_1}px Arial`,n.textAlign="left",n.textBaseline="top";const l=S=>{switch(S){case M.SUCCESS:return w1;case M.FAILURE:return A1;case M.RUNNING:return I1;case M.NOT_EVALUATED:case null:default:return C1}},c=S=>{if(!S.name||!s.has(S.name))return{width:0,height:0};let w=0,R=0;const O=s.get(S.name),N=` ${S.name}`+(O!=null&&O.debugInfo?`: ${O.debugInfo}`:""),A=n.measureText(N).width,D=(S.depth??0)*Pp+8+A+Op+yo+20;if(w=Math.max(w,D),R+=Xu,S.children)for(const k of S.children){const z=c(k);w=Math.max(w,z.width),R+=z.height}else if(S.child){const k=c(S.child);w=Math.max(w,k.width),R+=k.height}return{width:w,height:R}},d=(S,w,R,O)=>{if(!S.name||!s.has(S.name))return w;let N=w;const A=s.get(S.name),D=R+2+(S.depth??0)*Pp;let k=M.NOT_EVALUATED,z=Np,W="";if(A){k=A.status,W=A.debugInfo;const x=k1/Qt*Xt,b=o-A.lastExecuted,ge=Math.max(0,1-b/x);z=q1(Np,R1,ge),b>Bo&&(k=M.NOT_EVALUATED)}const Z=l(k);n.fillStyle=Z,n.fillText("",D,N),n.fillStyle=z;const F=` ${S.name}`+(W?`: ${W}`:"");if(n.fillText(F,D+8,N),A&&A.executionHistory.length>0){const{executionHistory:x}=A,b=Jg/Qt*Xt,ge=o,Ge=ge-b,Je=R+O-yo-Op;let Me=Je;const Fe=N+(Xu-aa)/2,Ee=x.filter(U=>U.time<Ge);let Ce=Ee.length>0?Ee[Ee.length-1].status:null,fe=Ge;const se=x.filter(U=>U.time>=Ge&&U.time<=ge),$=yo/b;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Je,Fe,yo,aa);for(const U of se){const ee=(U.time-fe)*$;ee>0&&(n.fillStyle=l(Ce),n.fillRect(Me,Fe,ee,aa),Me+=ee),Ce=U.status,fe=U.time}o-fe>Bo&&(Ce=M.NOT_EVALUATED);const j=(ge-fe)*$;n.fillStyle=l(Ce);const T=Je+yo-Me;n.fillRect(Me,Fe,Math.min(j,T),aa)}if(N+=Xu,S.children)for(const x of S.children)N=d(x,N,R,O);else S.child&&(N=d(S.child,N,R,O));return N},{width:h,height:g}=c(i.aiBehaviorTree);if(g===0){n.restore();return}const v=i.position.x+S1,m=i.position.y+E1-g/2;n.fillStyle=T1,n.fillRect(v,m,h,g+4),d(i.aiBehaviorTree,m+2,v,h),n.restore()}function vT(n,i,o,s,l){n.save(),n.font=`${wp}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,i.x,i.y-(s?Sn:Mc)-wp-l),n.restore()}function yT(n,i,o,s,l){const c=i.x,d=i.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(c-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(c-s/2,d),n.lineTo(c-s/4,d-s/3),n.lineTo(c-s/6,d),n.moveTo(c-s/6,d),n.lineTo(c,d-s/2),n.lineTo(c+s/6,d),n.moveTo(c+s/6,d),n.lineTo(c+s/4,d-s/3),n.lineTo(c+s/2,d),n.stroke(),n.restore()}function ST(n,i,o){var h;const{position:s,radius:l}=i,c=s.x-Ku/2,d=s.y-l-c1;if(((h=i.stateMachine)==null?void 0:h[0])===Pi){const g=i.stateMachine[1],v=o-g.attackStartTime,m=Math.min(v/Gg,1);_i(n,c,d,Ku,Ip,m,Ei,d1)}else if(i.attackCooldown&&i.attackCooldown>0){const g=1-i.attackCooldown/zg;_i(n,c,d,Ku,Ip,g,Ei,f1)}}function ET(n,i,o=!1,s=!1,l=!1,c=!1,d=!1,h=!1,g=!1,v,m){const{position:S,activeAction:w="idle"}=i,R=i.isAdult?Sn:Sn*.6,O=pT[w]||"idle";Qc.render(n,S.x-R,S.y-R,R*2,R*2,i.animationProgress||0,O,i.gender,i.age,[i.direction.x,i.direction.y],i.isPregnant??!1,i.hunger),h&&(n.save(),n.strokeStyle=Zg,n.lineWidth=2,n.beginPath(),n.arc(S.x,S.y,R+3,0,2*Math.PI),n.stroke(),n.restore());let N,A;d?(N=VS,A=Qg):o?(N=YS,A=Uc):l?(N=KS,A=zS):s?(N=XS,A=Kg):c&&(N=QS,A=Xg),N&&A&&yT(n,S,R,N,A),i.tribeBadge&&vT(n,S,i.tribeBadge,i.isAdult??!1,N??0);const D=g&&(m===void 0||i.id===m);D&&i.aiBlackboard&&mT(n,i,v),ST(n,i,v),D&&gT(n,i)}const Zc=15;function _T(n,i,o){const s="rgba(0, 191, 255, 0.8)",d=.25+Math.sin(o*5)*.25,h=Zc*d;n.save(),n.beginPath(),n.arc(i.x,i.y,Math.max(0,h),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function eg(n,i,o,s,l=1.5){const c=o-i.startTime,d=Math.min(c/i.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(l-1),m=Zc*v;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,Math.max(0,m),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function mi(n,i,o,s,l=2){const c=o-i.startTime,d=Math.min(c/i.duration,1),h=1-d,g=Zc*2*d;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,g,0,Math.PI*2),n.strokeStyle=s,n.lineWidth=l,n.stroke(),n.restore()}function sr(n,i,o,s){const l=o-i.startTime,c=Math.min(l/i.duration,1),d=1-c,h=-20*c;n.save(),n.globalAlpha=d,n.font="20px Arial",n.textAlign="center",n.fillText(s,i.position.x,i.position.y+h),n.restore()}function TT(n,i,o){switch(i.type){case Ae.Hunger:eg(n,i,o,"rgba(255, 165, 0, 0.7)",1);break;case Ae.Procreation:sr(n,i,o,"");break;case Ae.Pregnant:eg(n,i,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ae.TargetAcquired:mi(n,i,o,"rgba(255, 0, 0, 0.8)",3);break;case Ae.Attack:sr(n,i,o,"");break;case Ae.Partnered:sr(n,i,o,"");break;case Ae.BushClaimed:mi(n,i,o,"rgba(0, 255, 0, 0.7)",2);break;case Ae.BushClaimLost:mi(n,i,o,"rgba(128, 128, 128, 0.7)",2);break;case Ae.Eating:sr(n,i,o,"");break;case Ae.ChildFed:sr(n,i,o,"");break;case Ae.AttackDeflected:sr(n,i,o,"");break;case Ae.AttackResisted:sr(n,i,o,"");break;case Ae.Hit:sr(n,i,o,"");break;case Ae.SeizeBuildup:mi(n,i,o,"rgba(255, 215, 0, 0.8)",4);break;case Ae.Seize:mi(n,i,o,"rgba(148, 0, 211, 0.8)",4);break;case Ae.CallToAttack:mi(n,i,o,"rgba(255, 255, 0, 0.8)",4);break}}function To(n,i,o,s,l,...c){const d={...l.position};for(let h=-o;h<=o;h+=o)for(let g=-i;g<=i;g+=i)l.position.x=d.x+g,l.position.y=d.y+h,s(n,l,...c);l.position=d}function wT(n,i,o){const s=ln(i),l=s?Ot(i,s):[],c=xr(l),{width:d,height:h}=i.mapDimensions;if(Array.from(i.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,S;if(v.type==="berryBush")To(n,d,h,dT,v,i,s,i.time);else if(v.type==="human"){const w=v,R=w.id===(s==null?void 0:s.id),O=l.some(z=>z.id===w.id),N=w.id===(c==null?void 0:c.id),A=s&&(w.id===s.motherId||w.id===s.fatherId),D=s&&(((m=w.partnerIds)==null?void 0:m.includes(s.id))||((S=s.partnerIds)==null?void 0:S.includes(w.id))),k=(s==null?void 0:s.attackTargetId)===w.id;To(n,d,h,ET,w,R,A,O,D,N,k,o,i.time,i.debugCharacterId)}else v.type==="humanCorpse"&&To(n,d,h,fT,v)}),i.visualEffects.forEach(v=>{To(n,d,h,TT,v,i.time)}),i.tutorialState.isActive&&i.tutorialState.highlightedEntityIds.size>0)for(const v of i.tutorialState.highlightedEntityIds){const m=i.entities.entities.get(v);m&&To(n,d,h,aT,m,H1,bg,i.time)}}function AT(n,i,o,s,l,c){let d=null,h=null;n.textAlign="left";let g=Pt+lr;const m=i.time/(Xt/Qt)/Fg%1,S=So[yi.Time],w=25,R=Pt+w;n.fillText(S,Pt,g+Bt/2+lr/3),_i(n,R,g,rr,Bt,m,Ei,n1),g+=Bt+On;const O=g+Pr/2,N=g+(Pr-Bt)/2,A=5;Wo(n,{x:Pt*2,y:O},Pr,5,o.gender,!1,!1,!1);const D=Pt+Pr+A,k=rr+w-(Pr+A)*2;_i(n,D,N,k,Bt,Math.floor(o.age)/Fo,Ei,t1),Wo(n,{x:D+k+A+Pr/2,y:O},Pr,Fo,o.gender,!1,!1,!1),g+=Bt+On*2;const z=[],W=new Set;if(z.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),W.add(o.id),s&&!W.has(s.id)&&(z.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),W.add(s.id)),l.forEach(Ee=>{W.has(Ee.id)||(z.push({member:Ee,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),W.add(Ee.id))}),c.forEach(Ee=>{W.has(Ee.id)||(z.push({member:Ee,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),W.add(Ee.id))}),o.motherId&&!W.has(o.motherId)){const Ee=i.entities.entities.get(o.motherId);Ee&&(z.push({member:Ee,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),W.add(Ee.id))}if(o.fatherId&&!W.has(o.fatherId)){const Ee=i.entities.entities.get(o.fatherId);Ee&&(z.push({member:Ee,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),W.add(Ee.id))}const Z=So[yi.Family],F=10,x=Pt+lr+F,b=rr+w-(lr+F),ge=g+ia/2;n.font=`${lr}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(Z,Pt,ge);const Ge=g+ia/2;oT(n,x,Ge,z,ia,b),g+=ia+On,n.textBaseline="alphabetic";const Je=So[yi.Hitpoints];n.fillText(Je,Pt,g+Bt/2+lr/3),_i(n,R,g,rr,Bt,o.hitpoints/o.maxHitpoints,Ei,e1),g+=Bt+On;const Me=So[yi.Hunger];n.fillText(Me,Pt,g+Bt/2+lr/3),_i(n,R,g,rr,Bt,(Jt-o.hunger)/Jt,Ei,bS),d={x:Pt,y:g-On/2,width:rr+w,height:Bt+On},g+=Bt+On,n.textBaseline="middle";const Fe=So[yi.Food];return n.fillText(Fe,Pt,g+ra/2),hT(n,R,g+ra/2,o.food,ra,rr),h={x:Pt,y:g-On/5,width:rr+w,height:ra+On},n.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function La(n,i,o,s,l,c=!1){var d;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-s.x,n.canvas.height/2-s.y),!c&&i.gameOver){n.restore(),uT(n,i);return}if(wT(n,i,o),i.autopilotControls.autopilotMoveTarget&&_T(n,i.autopilotControls.autopilotMoveTarget,i.time),n.restore(),!c){n.fillStyle=ZS,n.font=`${lr}px "Press Start 2P", Arial`,n.shadowColor=qS,n.shadowBlur=JS;const h=ln(i);let g=null,v=null;if(h){const S=Ot(i,h),w=xr(S),R=((d=h.partnerIds)==null?void 0:d.map(N=>i.entities.entities.get(N)).filter(N=>N!==void 0))||[],O=AT(n,i,h,w,R,S);g=O.hungerBarRect,v=O.foodBarRect}const m=EE(i,h==null?void 0:h.leaderId);if(sT(n,m,n.canvas.width,n.canvas.height),V_(n,i,n.canvas.width),n.shadowColor="transparent",n.shadowBlur=0,h&&l.length>0&&q_(n,l,h,s,n.canvas.width,n.canvas.height),i.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:S}=i.tutorialState;S.has($o.HUNGER_BAR)&&g&&Jp(n,g,i.time),S.has($o.FOOD_BAR)&&v&&Jp(n,v,i.time)}i.tutorialState.isActive&&lT(n,i.tutorialState,i.tutorial,n.canvas.width,n.canvas.height),i.isPaused&&K_(n)}}const IT=En.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,CT=En.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,RT=En.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,kT=En.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,PT=En.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,sc="intro-soundtrack",tg=()=>{const{setAppState:n}=Ba(),i=ve.useRef(null),o=ve.useRef(null),s=ve.useRef(I_()),l=ve.useRef(),c=ve.useRef(s.current.viewportCenter),d=ve.useRef();ve.useEffect(()=>(xc(De.SoundTrack1,{loop:!0,trackId:sc}),()=>{Bp(sc,2)}),[]),ve.useEffect(()=>{const m=i.current;if(!m)return;o.current=m.getContext("2d");const S=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,La(o.current,s.current,!1,c.current,[],!0))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),ve.useEffect(()=>{const m=()=>{const w=cm(s.current);if(w.length>0){const R=Math.floor(Math.random()*w.length);d.current=w[R].id}};m();const S=setInterval(m,Y1);return()=>clearInterval(S)},[]);const[h,g]=Dg(m=>{if(!o.current)return;if(l.current===void 0){l.current=m;return}const S=Math.min((m-l.current)/1e3,1);s.current=Ca(s.current,S);const w=d.current?s.current.entities.entities.get(d.current):void 0;if(w){const{mapDimensions:R}=s.current,{width:O,height:N}=R;let A={...w.position};const D=A.x-c.current.x;Math.abs(D)>O/2&&(D>0?A.x-=O:A.x+=O);const k=A.y-c.current.y;Math.abs(k)>N/2&&(k>0?A.y-=N:A.y+=N);let z=Fc(c.current,A,Pc*S);z={x:(z.x%O+O)%O,y:(z.y%N+N)%N},c.current=z}La(o.current,s.current,!1,c.current,[],!0),l.current=m});ve.useEffect(()=>(g(),h),[g,h]);const v=()=>{Bp(sc,2),n("game")};return Ne.jsxs(IT,{children:[Ne.jsx(CT,{ref:i}),Ne.jsxs(RT,{children:[Ne.jsx(kT,{children:"Tribe"}),Ne.jsx(PT,{onClick:v,children:"Start Game"})]})]})};function NT(){return console.log("Tribe game initialized with detailed 2D world state."),A_()}const ng=()=>{const[n]=ve.useState(()=>NT());return Ne.jsx(OT,{initialState:n})},OT=({initialState:n})=>{const i=ve.useRef(null),o=ve.useRef(null),s=ve.useRef(n),l=ve.useRef(),c=ve.useRef(new Set),d=ve.useRef(!1),h=ve.useRef(n.viewportCenter),g=ve.useRef([]),{appState:v,setAppState:m}=Ba();ve.useEffect(()=>{const O=i.current;if(!O)return;o.current=O.getContext("2d");const N=()=>{O&&o.current&&(O.width=window.innerWidth,O.height=window.innerHeight,La(o.current,s.current,d.current,h.current,g.current,!1))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[S,w,R]=Dg(O=>{if(!o.current||!l.current){l.current=O;return}const N=Math.min(O-l.current,1e3)/1e3;s.current=Ca(s.current,N);const A=ln(s.current);if(A?g.current=im(s.current,A):g.current=[],A){const{mapDimensions:D}=s.current,{width:k,height:z}=D;let W={...A.position};if(s.current.debugCharacterId){const b=s.current.entities.entities.get(s.current.debugCharacterId);b&&(W={...b.position})}const Z=W.x-h.current.x;Math.abs(Z)>k/2&&(Z>0?W.x-=k:W.x+=k);const F=W.y-h.current.y;Math.abs(F)>z/2&&(F>0?W.y-=z:W.y+=z);let x=Fc(h.current,W,Pc*N);x={x:(x.x%k+k)%k,y:(x.y%z+z)%z},h.current=x}else h.current=s.current.viewportCenter;La(o.current,s.current,d.current,h.current,g.current,!1),l.current=O,s.current.gameOver&&v!=="gameOver"&&(xc(De.GameOver,{masterVolume:s.current.masterVolume,isMuted:s.current.isMuted}),m("gameOver",{generations:s.current.generationCount,cause:s.current.causeOfGameOver||"Unknown"}))});return ve.useEffect(()=>(w(),S),[w,S]),ve.useEffect(()=>{const O=N=>{if(!R()||s.current.gameOver||!i.current||!N.target||N.target!==i.current)return;const A=i.current.getBoundingClientRect(),D=N.clientX-A.left,k=N.clientY-A.top,z={gameState:s.current};let W=!1;if(s.current.uiButtons.forEach(Z=>{if(D>=Z.rect.x&&D<=Z.rect.x+Z.rect.width&&k>=Z.rect.y&&k<=Z.rect.y+Z.rect.height){W=!0;const F=ln(s.current);switch(F&&Ve(z,De.ButtonClick,F.position),Z.action){case de.ToggleAutopilot:s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;break;case de.ToggleMute:s.current.isMuted=!s.current.isMuted,Io(s.current.masterVolume,s.current.isMuted);break;case de.TogglePause:s.current.isPaused=!s.current.isPaused;break;case de.FastForward:s.current=Ca(s.current,Ep);break;case de.ToggleProcreationBehavior:s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation;break;case de.TogglePlantingBehavior:s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting;break;case de.ToggleGatheringBehavior:s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering;break;case de.ToggleAttackBehavior:s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack;break;case de.ToggleCallToAttackBehavior:s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack;break;case de.ToggleFeedChildrenBehavior:s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren;break}}}),!W&&s.current.autopilotControls.isActive&&!s.current.isPaused&&ln(s.current)){const F=_E({x:D,y:k},h.current,{width:i.current.width,height:i.current.height},s.current.mapDimensions);s.current.autopilotControls.autopilotMoveTarget=F}};return window.addEventListener("mousedown",O),()=>{window.removeEventListener("mousedown",O)}},[R]),ve.useEffect(()=>{const O=N=>{if(!R()||!i.current)return;const A=i.current.getBoundingClientRect(),D=N.clientX-A.left,k=N.clientY-A.top;s.current.mousePosition={x:D,y:k};let z;for(let W=s.current.uiButtons.length-1;W>=0;W--){const Z=s.current.uiButtons[W];if(D>=Z.rect.x&&D<=Z.rect.x+Z.rect.width&&k>=Z.rect.y&&k<=Z.rect.y+Z.rect.height){z=Z.id;break}}s.current.hoveredButtonId=z};return window.addEventListener("mousemove",O),()=>{window.removeEventListener("mousemove",O)}},[R]),ve.useEffect(()=>{const O=A=>{var W,Z,F;if(!R()||s.current.gameOver)return;const D=A.key.toLowerCase();if(D==="escape"){s.current.autopilotControls.autopilotMoveTarget=void 0;return}if(D==="m"){s.current.isMuted=!s.current.isMuted,Io(s.current.masterVolume,s.current.isMuted);return}if(D==="="||D==="+"){const x=Math.min(1,s.current.masterVolume+.1);s.current.masterVolume=parseFloat(x.toFixed(1)),Io(s.current.masterVolume,s.current.isMuted);return}if(D==="-"){const x=Math.max(0,s.current.masterVolume-.1);s.current.masterVolume=parseFloat(x.toFixed(1)),Io(s.current.masterVolume,s.current.isMuted);return}if(D==="t"){s.current=Ca(s.current,Ep);return}if(D===" "||D==="p"){A.preventDefault(),s.current.isPaused=!s.current.isPaused;return}if(D==="o"){s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;return}if(D===""||D==="`"){d.current=!d.current,d.current?s.current.debugCharacterId=((W=ln(s.current))==null?void 0:W.id)??((F=(Z=cm(s.current))==null?void 0:Z[0])==null?void 0:F.id):s.current.debugCharacterId=void 0;return}if(D==="tab"){A.preventDefault(),d.current=!0;const x=Array.from(s.current.entities.entities.values()).filter(b=>b.type==="human");if(x.length>0){const b=x.sort((Me,Fe)=>Me.isPlayer?-1:Me.id-Fe.id),ge=s.current.debugCharacterId,Je=((ge?b.findIndex(Me=>Me.id===ge):-1)+1)%b.length;s.current.debugCharacterId=b[Je].id}else s.current.debugCharacterId=void 0;return}const k=ln(s.current);if(!k)return;const z={gameState:s.current};if(s.current.autopilotControls.isActive){D==="r"?(s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation,Ve(z,De.ButtonClick,k.position)):D==="b"?(s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting,Ve(z,De.ButtonClick,k.position)):D==="g"?(s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering,Ve(z,De.ButtonClick,k.position)):D==="q"?(s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack,Ve(z,De.ButtonClick,k.position)):D==="v"?(s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack,Ve(z,De.ButtonClick,k.position)):D==="h"&&(s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren,Ve(z,De.ButtonClick,k.position));return}if(c.current.add(D),D==="e"){const x=ut(k,s.current,"berryBush",ct,Ge=>Ge.food.length>0&&k.food.length<k.maxFood),b=ut(k,s.current,"humanCorpse",ct,Ge=>Ge.food.length>0&&k.food.length<k.maxFood);let ge=null;x&&b?ge=ye(k.position,x.position,s.current.mapDimensions.width,s.current.mapDimensions.height)<=ye(k.position,b.position,s.current.mapDimensions.width,s.current.mapDimensions.height)?x:b:ge=x||b,ge&&(k.activeAction="gathering",Ve(z,De.Gather,k.position))}else if(D==="r")ut(k,s.current,"human",ct,b=>{const ge=b;return ge.id!==k.id&&ge.gender!==k.gender&&ge.isAdult&&k.isAdult&&ge.hunger<Nt&&k.hunger<Nt&&(ge.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(ge.gender==="female"?!ge.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",Ve(z,De.Procreate,k.position));else if(D==="f")k.activeAction="eating",Ve(z,De.Eat,k.position);else if(D==="arrowup"||D==="w")k.direction.y=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowdown"||D==="s")k.direction.y=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowleft"||D==="a")k.direction.x=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="arrowright"||D==="d")k.direction.x=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(D==="q"){const x=ut(k,s.current,"human",Ya,b=>b.id!==k.id&&b.leaderId!==k.leaderId);x&&(k.activeAction="attacking",k.attackTargetId=x.id)}else if(D==="b"){if(g.current.find(b=>b.type===ot.PlantBush)){const b=om(k.position,s.current,50,mc);b&&(k.activeAction="planting",k.target=b,s.current.hasPlayerPlantedBush=!0)}}else if(D==="v")g.current.find(b=>b.type===ot.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=s.current.time+Da,vt(s.current,Ae.CallToAttack,k.position,Da),Ve(z,De.CallToAttack,k.position));else if(D==="k")g.current.find(b=>b.type===ot.TribeSplit)&&um(k,s.current);else return},N=A=>{if(!R()||s.current.gameOver)return;const D=A.key.toLowerCase();c.current.delete(D);const k=ln(s.current);!k||s.current.autopilotControls.isActive||(D==="arrowup"||D==="w"||D==="arrowdown"||D==="s"?k.direction.y=0:(D==="arrowleft"||D==="a"||D==="arrowright"||D==="d")&&(k.direction.x=0),!c.current.has("arrowup")&&!c.current.has("arrowdown")&&!c.current.has("arrowleft")&&!c.current.has("arrowright")&&!c.current.has("w")&&!c.current.has("a")&&!c.current.has("s")&&!c.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!c.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!c.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!c.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",O),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",O),window.removeEventListener("keyup",N)}},[R,v,m,w,S]),Ne.jsx("canvas",{ref:i,style:{display:"block",background:"#2c5234"}})},DT=En.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,MT=En.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,va=En.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,UT=En.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,FT=()=>{const{setAppState:n,gameOverDetails:i}=Ba(),o=()=>{n("intro")};return Ne.jsxs(DT,{children:[Ne.jsx(MT,{children:"Game Over"}),Ne.jsx(va,{children:"Your tribe's lineage has ended."}),i&&Ne.jsxs(Ne.Fragment,{children:[Ne.jsxs(va,{children:["Generations Survived: ",i.generations]}),Ne.jsxs(va,{children:["Cause of Extinction: ",i.cause]})]}),!i&&Ne.jsx(va,{children:"Game details are unavailable."}),Ne.jsx(UT,{onClick:o,children:"Return to Menu"})]})},LT=Ay`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function BT(n,i){ve.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";i(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),ve.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const HT=()=>{const{appState:n,setAppState:i}=Ba();BT(n,i);const o=()=>{switch(n){case"intro":return Ne.jsx(tg,{});case"game":return Ne.jsx(ng,{});case"gameOver":return Ne.jsxs(Ne.Fragment,{children:[Ne.jsx(ng,{}),Ne.jsx(FT,{})]});default:return Ne.jsx(tg,{})}};return Ne.jsxs(Ne.Fragment,{children:[Ne.jsx(LT,{}),o()]})},rg=document.getElementById("root");rg?lE().then(()=>{Tv.createRoot(rg).render(Ne.jsx(vn.StrictMode,{children:Ne.jsx(wv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Ne.jsx(HT,{})})}))}):console.error("Failed to find the root element");
