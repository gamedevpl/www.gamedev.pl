var Gv=Object.defineProperty;var zv=(t,r,o)=>r in t?Gv(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var de=(t,r,o)=>zv(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(u){if(u.ep)return;u.ep=!0;const l=o(u);fetch(u.href,l)}})();function Og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qu={exports:{}},Ro={},bu={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function Wv(){if(cp)return Ie;cp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function w(E,D,te){this.props=E,this.context=D,this.refs=O,this.updater=te||T}w.prototype.isReactComponent={},w.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},w.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function G(){}G.prototype=w.prototype;function B(E,D,te){this.props=E,this.context=D,this.refs=O,this.updater=te||T}var $=B.prototype=new G;$.constructor=B,k($,w.prototype),$.isPureReactComponent=!0;var W=Array.isArray,le=Object.prototype.hasOwnProperty,F={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function Se(E,D,te){var q,ye={},oe=null,ge=null;if(D!=null)for(q in D.ref!==void 0&&(ge=D.ref),D.key!==void 0&&(oe=""+D.key),D)le.call(D,q)&&!j.hasOwnProperty(q)&&(ye[q]=D[q]);var ce=arguments.length-2;if(ce===1)ye.children=te;else if(1<ce){for(var X=Array(ce),ne=0;ne<ce;ne++)X[ne]=arguments[ne+2];ye.children=X}if(E&&E.defaultProps)for(q in ce=E.defaultProps,ce)ye[q]===void 0&&(ye[q]=ce[q]);return{$$typeof:t,type:E,key:oe,ref:ge,props:ye,_owner:F.current}}function Oe(E,D){return{$$typeof:t,type:E.type,key:D,ref:E.ref,props:E.props,_owner:E._owner}}function Ve(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function et(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(te){return D[te]})}var Be=/\/+/g;function Fe(E,D){return typeof E=="object"&&E!==null&&E.key!=null?et(""+E.key):D.toString(36)}function ve(E,D,te,q,ye){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(oe){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case t:case r:ge=!0}}if(ge)return ge=E,ye=ye(ge),E=q===""?"."+Fe(ge,0):q,W(ye)?(te="",E!=null&&(te=E.replace(Be,"$&/")+"/"),ve(ye,D,te,"",function(ne){return ne})):ye!=null&&(Ve(ye)&&(ye=Oe(ye,te+(!ye.key||ge&&ge.key===ye.key?"":(""+ye.key).replace(Be,"$&/")+"/")+E)),D.push(ye)),1;if(ge=0,q=q===""?".":q+":",W(E))for(var ce=0;ce<E.length;ce++){oe=E[ce];var X=q+Fe(oe,ce);ge+=ve(oe,D,te,X,ye)}else if(X=I(E),typeof X=="function")for(E=X.call(E),ce=0;!(oe=E.next()).done;)oe=oe.value,X=q+Fe(oe,ce++),ge+=ve(oe,D,te,X,ye);else if(oe==="object")throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ge}function Ce(E,D,te){if(E==null)return E;var q=[],ye=0;return ve(E,q,"","",function(oe){return D.call(te,oe,ye++)}),q}function pe(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(te){(E._status===0||E._status===-1)&&(E._status=1,E._result=te)},function(te){(E._status===0||E._status===-1)&&(E._status=2,E._result=te)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var ie={current:null},x={transition:null},V={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:x,ReactCurrentOwner:F};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ce,forEach:function(E,D,te){Ce(E,function(){D.apply(this,arguments)},te)},count:function(E){var D=0;return Ce(E,function(){D++}),D},toArray:function(E){return Ce(E,function(D){return D})||[]},only:function(E){if(!Ve(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ie.Component=w,Ie.Fragment=o,Ie.Profiler=u,Ie.PureComponent=B,Ie.StrictMode=s,Ie.Suspense=p,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ie.act=z,Ie.cloneElement=function(E,D,te){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var q=k({},E.props),ye=E.key,oe=E.ref,ge=E._owner;if(D!=null){if(D.ref!==void 0&&(oe=D.ref,ge=F.current),D.key!==void 0&&(ye=""+D.key),E.type&&E.type.defaultProps)var ce=E.type.defaultProps;for(X in D)le.call(D,X)&&!j.hasOwnProperty(X)&&(q[X]=D[X]===void 0&&ce!==void 0?ce[X]:D[X])}var X=arguments.length-2;if(X===1)q.children=te;else if(1<X){ce=Array(X);for(var ne=0;ne<X;ne++)ce[ne]=arguments[ne+2];q.children=ce}return{$$typeof:t,type:E.type,key:ye,ref:oe,props:q,_owner:ge}},Ie.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},Ie.createElement=Se,Ie.createFactory=function(E){var D=Se.bind(null,E);return D.type=E,D},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(E){return{$$typeof:h,render:E}},Ie.isValidElement=Ve,Ie.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:pe}},Ie.memo=function(E,D){return{$$typeof:v,type:E,compare:D===void 0?null:D}},Ie.startTransition=function(E){var D=x.transition;x.transition={};try{E()}finally{x.transition=D}},Ie.unstable_act=z,Ie.useCallback=function(E,D){return ie.current.useCallback(E,D)},Ie.useContext=function(E){return ie.current.useContext(E)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(E){return ie.current.useDeferredValue(E)},Ie.useEffect=function(E,D){return ie.current.useEffect(E,D)},Ie.useId=function(){return ie.current.useId()},Ie.useImperativeHandle=function(E,D,te){return ie.current.useImperativeHandle(E,D,te)},Ie.useInsertionEffect=function(E,D){return ie.current.useInsertionEffect(E,D)},Ie.useLayoutEffect=function(E,D){return ie.current.useLayoutEffect(E,D)},Ie.useMemo=function(E,D){return ie.current.useMemo(E,D)},Ie.useReducer=function(E,D,te){return ie.current.useReducer(E,D,te)},Ie.useRef=function(E){return ie.current.useRef(E)},Ie.useState=function(E){return ie.current.useState(E)},Ie.useSyncExternalStore=function(E,D,te){return ie.current.useSyncExternalStore(E,D,te)},Ie.useTransition=function(){return ie.current.useTransition()},Ie.version="18.3.1",Ie}var dp;function zc(){return dp||(dp=1,bu.exports=Wv()),bu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function $v(){if(fp)return Ro;fp=1;var t=zc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var m,y={},I=null,T=null;v!==void 0&&(I=""+v),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(T=p.ref);for(m in p)s.call(p,m)&&!l.hasOwnProperty(m)&&(y[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)y[m]===void 0&&(y[m]=p[m]);return{$$typeof:r,type:h,key:I,ref:T,props:y,_owner:u.current}}return Ro.Fragment=o,Ro.jsx=c,Ro.jsxs=c,Ro}var hp;function jv(){return hp||(hp=1,Qu.exports=$v()),Qu.exports}var Ee=jv(),Ae=zc();const In=Og(Ae);var la={},Zu={exports:{}},kt={},qu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function Yv(){return pp||(pp=1,function(t){function r(x,V){var z=x.length;x.push(V);e:for(;0<z;){var E=z-1>>>1,D=x[E];if(0<u(D,V))x[E]=V,x[z]=D,z=E;else break e}}function o(x){return x.length===0?null:x[0]}function s(x){if(x.length===0)return null;var V=x[0],z=x.pop();if(z!==V){x[0]=z;e:for(var E=0,D=x.length,te=D>>>1;E<te;){var q=2*(E+1)-1,ye=x[q],oe=q+1,ge=x[oe];if(0>u(ye,z))oe<D&&0>u(ge,ye)?(x[E]=ge,x[oe]=z,E=oe):(x[E]=ye,x[q]=z,E=q);else if(oe<D&&0>u(ge,z))x[E]=ge,x[oe]=z,E=oe;else break e}}return V}function u(x,V){var z=x.sortIndex-V.sortIndex;return z!==0?z:x.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],v=[],m=1,y=null,I=3,T=!1,k=!1,O=!1,w=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(x){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=x)s(v),V.sortIndex=V.expirationTime,r(p,V);else break;V=o(v)}}function W(x){if(O=!1,$(x),!k)if(o(p)!==null)k=!0,pe(le);else{var V=o(v);V!==null&&ie(W,V.startTime-x)}}function le(x,V){k=!1,O&&(O=!1,G(Se),Se=-1),T=!0;var z=I;try{for($(V),y=o(p);y!==null&&(!(y.expirationTime>V)||x&&!et());){var E=y.callback;if(typeof E=="function"){y.callback=null,I=y.priorityLevel;var D=E(y.expirationTime<=V);V=t.unstable_now(),typeof D=="function"?y.callback=D:y===o(p)&&s(p),$(V)}else s(p);y=o(p)}if(y!==null)var te=!0;else{var q=o(v);q!==null&&ie(W,q.startTime-V),te=!1}return te}finally{y=null,I=z,T=!1}}var F=!1,j=null,Se=-1,Oe=5,Ve=-1;function et(){return!(t.unstable_now()-Ve<Oe)}function Be(){if(j!==null){var x=t.unstable_now();Ve=x;var V=!0;try{V=j(!0,x)}finally{V?Fe():(F=!1,j=null)}}else F=!1}var Fe;if(typeof B=="function")Fe=function(){B(Be)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ce=ve.port2;ve.port1.onmessage=Be,Fe=function(){Ce.postMessage(null)}}else Fe=function(){w(Be,0)};function pe(x){j=x,F||(F=!0,Fe())}function ie(x,V){Se=w(function(){x(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,pe(le))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(x){switch(I){case 1:case 2:case 3:var V=3;break;default:V=I}var z=I;I=V;try{return x()}finally{I=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,V){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var z=I;I=x;try{return V()}finally{I=z}},t.unstable_scheduleCallback=function(x,V,z){var E=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?E+z:E):z=E,x){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=z+D,x={id:m++,callback:V,priorityLevel:x,startTime:z,expirationTime:D,sortIndex:-1},z>E?(x.sortIndex=z,r(v,x),o(p)===null&&x===o(v)&&(O?(G(Se),Se=-1):O=!0,ie(W,z-E))):(x.sortIndex=D,r(p,x),k||T||(k=!0,pe(le))),x},t.unstable_shouldYield=et,t.unstable_wrapCallback=function(x){var V=I;return function(){var z=I;I=V;try{return x.apply(this,arguments)}finally{I=z}}}}(Ju)),Ju}var gp;function Vv(){return gp||(gp=1,qu.exports=Yv()),qu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Kv(){if(mp)return kt;mp=1;var t=zc(),r=Vv();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(u[e]=n,e=0;e<n.length;e++)s.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function I(e){return p.call(y,e)?!0:p.call(m,e)?!1:v.test(e)?y[e]=!0:(m[e]=!0,!1)}function T(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,i,a){if(n===null||typeof n>"u"||T(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function O(e,n,i,a,d,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];w[n]=new O(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(G,B);w[n]=new O(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(G,B);w[n]=new O(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(G,B);w[n]=new O(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,n,i,a){var d=w.hasOwnProperty(n)?w[n]:null;(d!==null?d.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,i,d,a)&&(i=null),a||d===null?I(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,a=d.attributeNamespace,i===null?e.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),F=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),Ve=Symbol.for("react.provider"),et=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),x=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,E;function D(e){if(E===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var te=!1;function q(e,n){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(P){var a=P}Reflect.construct(e,[],n)}else{try{n.call()}catch(P){a=P}e.call(n.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),f=a.stack.split(`
`),g=d.length-1,A=f.length-1;1<=g&&0<=A&&d[g]!==f[A];)A--;for(;1<=g&&0<=A;g--,A--)if(d[g]!==f[A]){if(g!==1||A!==1)do if(g--,A--,0>A||d[g]!==f[A]){var S=`
`+d[g].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=g&&0<=A);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function ye(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1),e;case 11:return e=q(e.type.render,!1),e;case 1:return e=q(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case F:return"Portal";case Oe:return"Profiler";case Se:return"StrictMode";case Fe:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case et:return(e.displayName||"Context")+".Consumer";case Ve:return(e._context.displayName||"Context")+".Provider";case Be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(e){var n=X(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ne(e){e._valueTracker||(e._valueTracker=ne(e))}function ue(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function Tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ut(e,n){var i=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Wt(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=ce(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ar(e,n){n=n.checked,n!=null&&$(e,"checked",n,!1)}function wn(e,n){Ar(e,n);var i=ce(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Kr(e,n.type,i):n.hasOwnProperty("defaultValue")&&Kr(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Gn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Kr(e,n,i){(n!=="number"||Tn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var zn=Array.isArray;function Wn(e,n,i,a){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Sr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ad(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(zn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ce(i)}}function Sd(e,n){var i=ce(n.value),a=ce(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Id(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_d(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var es,Ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,d){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,d)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Wi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jm=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(e){jm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),$i[n]=$i[e]})});function Td(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||$i.hasOwnProperty(e)&&$i[e]?(""+n).trim():n+"px"}function wd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,d=Td(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,d):e[i]=d}}var Ym=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(e,n){if(n){if(Ym[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function ll(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dl=null,Xr=null,Qr=null;function Cd(e){if(e=fo(e)){if(typeof dl!="function")throw Error(o(280));var n=e.stateNode;n&&(n=Es(n),dl(e.stateNode,e.type,n))}}function Rd(e){Xr?Qr?Qr.push(e):Qr=[e]:Xr=e}function Nd(){if(Xr){var e=Xr,n=Qr;if(Qr=Xr=null,Cd(e),n)for(e=0;e<n.length;e++)Cd(n[e])}}function Pd(e,n){return e(n)}function Od(){}var fl=!1;function kd(e,n,i){if(fl)return e(n,i);fl=!0;try{return Pd(e,n,i)}finally{fl=!1,(Xr!==null||Qr!==null)&&(Od(),Nd())}}function ji(e,n){var i=e.stateNode;if(i===null)return null;var a=Es(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var hl=!1;if(h)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{hl=!1}function Vm(e,n,i,a,d,f,g,A,S){var P=Array.prototype.slice.call(arguments,3);try{n.apply(i,P)}catch(M){this.onError(M)}}var Vi=!1,ts=null,ns=!1,pl=null,Km={onError:function(e){Vi=!0,ts=e}};function Xm(e,n,i,a,d,f,g,A,S){Vi=!1,ts=null,Vm.apply(Km,arguments)}function Qm(e,n,i,a,d,f,g,A,S){if(Xm.apply(this,arguments),Vi){if(Vi){var P=ts;Vi=!1,ts=null}else throw Error(o(198));ns||(ns=!0,pl=P)}}function Ir(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Dd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ud(e){if(Ir(e)!==e)throw Error(o(188))}function bm(e){var n=e.alternate;if(!n){if(n=Ir(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,a=n;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Ud(d),e;if(f===a)return Ud(d),n;f=f.sibling}throw Error(o(188))}if(i.return!==a.return)i=d,a=f;else{for(var g=!1,A=d.child;A;){if(A===i){g=!0,i=d,a=f;break}if(A===a){g=!0,a=d,i=f;break}A=A.sibling}if(!g){for(A=f.child;A;){if(A===i){g=!0,i=f,a=d;break}if(A===a){g=!0,a=f,i=d;break}A=A.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Md(e){return e=bm(e),e!==null?Fd(e):null}function Fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Fd(e);if(n!==null)return n;e=e.sibling}return null}var Ld=r.unstable_scheduleCallback,Bd=r.unstable_cancelCallback,Zm=r.unstable_shouldYield,qm=r.unstable_requestPaint,Ke=r.unstable_now,Jm=r.unstable_getCurrentPriorityLevel,gl=r.unstable_ImmediatePriority,Hd=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,e0=r.unstable_LowPriority,xd=r.unstable_IdlePriority,is=null,hn=null;function t0(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:i0,n0=Math.log,r0=Math.LN2;function i0(e){return e>>>=0,e===0?32:31-(n0(e)/r0|0)|0}var os=64,ss=4194304;function Ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function as(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var A=g&~d;A!==0?a=Ki(A):(f&=g,f!==0&&(a=Ki(f)))}else g=i&~d,g!==0?a=Ki(g):f!==0&&(a=Ki(f));if(a===0)return 0;if(n!==0&&n!==a&&(n&d)===0&&(d=a&-a,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-nn(n),d=1<<i,a|=e[i],n&=~d;return a}function o0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s0(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-nn(f),A=1<<g,S=d[g];S===-1?((A&i)===0||(A&a)!==0)&&(d[g]=o0(A,n)):S<=n&&(e.expiredLanes|=A),f&=~A}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=os;return os<<=1,(os&4194240)===0&&(os=64),e}function vl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Xi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-nn(n),e[n]=i}function a0(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-nn(i),f=1<<d;n[d]=0,a[d]=-1,e[d]=-1,i&=~f}}function yl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-nn(i),d=1<<a;d&n|e[a]&n&&(e[a]|=n),i&=~d}}var Ue=0;function zd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Wd,Al,$d,jd,Yd,Sl=!1,ls=[],$n=null,jn=null,Yn=null,Qi=new Map,bi=new Map,Vn=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(e,n){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Qi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(n.pointerId)}}function Zi(e,n,i,a,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[d]},n!==null&&(n=fo(n),n!==null&&Al(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function u0(e,n,i,a,d){switch(n){case"focusin":return $n=Zi($n,e,n,i,a,d),!0;case"dragenter":return jn=Zi(jn,e,n,i,a,d),!0;case"mouseover":return Yn=Zi(Yn,e,n,i,a,d),!0;case"pointerover":var f=d.pointerId;return Qi.set(f,Zi(Qi.get(f)||null,e,n,i,a,d)),!0;case"gotpointercapture":return f=d.pointerId,bi.set(f,Zi(bi.get(f)||null,e,n,i,a,d)),!0}return!1}function Kd(e){var n=_r(e.target);if(n!==null){var i=Ir(n);if(i!==null){if(n=i.tag,n===13){if(n=Dd(i),n!==null){e.blockedOn=n,Yd(e.priority,function(){$d(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=_l(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);ul=a,i.target.dispatchEvent(a),ul=null}else return n=fo(i),n!==null&&Al(n),e.blockedOn=i,!1;n.shift()}return!0}function Xd(e,n,i){us(e)&&i.delete(n)}function c0(){Sl=!1,$n!==null&&us($n)&&($n=null),jn!==null&&us(jn)&&(jn=null),Yn!==null&&us(Yn)&&(Yn=null),Qi.forEach(Xd),bi.forEach(Xd)}function qi(e,n){e.blockedOn===n&&(e.blockedOn=null,Sl||(Sl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,c0)))}function Ji(e){function n(d){return qi(d,e)}if(0<ls.length){qi(ls[0],e);for(var i=1;i<ls.length;i++){var a=ls[i];a.blockedOn===e&&(a.blockedOn=null)}}for($n!==null&&qi($n,e),jn!==null&&qi(jn,e),Yn!==null&&qi(Yn,e),Qi.forEach(n),bi.forEach(n),i=0;i<Vn.length;i++)a=Vn[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)Kd(i),i.blockedOn===null&&Vn.shift()}var br=W.ReactCurrentBatchConfig,cs=!0;function d0(e,n,i,a){var d=Ue,f=br.transition;br.transition=null;try{Ue=1,Il(e,n,i,a)}finally{Ue=d,br.transition=f}}function f0(e,n,i,a){var d=Ue,f=br.transition;br.transition=null;try{Ue=4,Il(e,n,i,a)}finally{Ue=d,br.transition=f}}function Il(e,n,i,a){if(cs){var d=_l(e,n,i,a);if(d===null)xl(e,n,a,ds,i),Vd(e,a);else if(u0(d,e,n,i,a))a.stopPropagation();else if(Vd(e,a),n&4&&-1<l0.indexOf(e)){for(;d!==null;){var f=fo(d);if(f!==null&&Wd(f),f=_l(e,n,i,a),f===null&&xl(e,n,a,ds,i),f===d)break;d=f}d!==null&&a.stopPropagation()}else xl(e,n,a,null,i)}}var ds=null;function _l(e,n,i,a){if(ds=null,e=cl(a),e=_r(e),e!==null)if(n=Ir(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Dd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ds=e,null}function Qd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jm()){case gl:return 1;case Hd:return 4;case rs:case e0:return 16;case xd:return 536870912;default:return 16}default:return 16}}var Kn=null,El=null,fs=null;function bd(){if(fs)return fs;var e,n=El,i=n.length,a,d="value"in Kn?Kn.value:Kn.textContent,f=d.length;for(e=0;e<i&&n[e]===d[e];e++);var g=i-e;for(a=1;a<=g&&n[i-a]===d[f-a];a++);return fs=d.slice(e,1<a?1-a:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Zd(){return!1}function Mt(e){function n(i,a,d,f,g){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(i=e[A],this[A]=i?i(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ps:Zd,this.isPropagationStopped=Zd,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),n}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Mt(Zr),eo=z({},Zr,{view:0,detail:0}),h0=Mt(eo),wl,Cl,to,gs=z({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(wl=e.screenX-to.screenX,Cl=e.screenY-to.screenY):Cl=wl=0,to=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),qd=Mt(gs),p0=z({},gs,{dataTransfer:0}),g0=Mt(p0),m0=z({},eo,{relatedTarget:0}),Rl=Mt(m0),v0=z({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=Mt(v0),A0=z({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S0=Mt(A0),I0=z({},Zr,{data:0}),Jd=Mt(I0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=T0[e])?!!n[e]:!1}function Nl(){return w0}var C0=z({},eo,{key:function(e){if(e.key){var n=_0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R0=Mt(C0),N0=z({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=Mt(N0),P0=z({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),O0=Mt(P0),k0=z({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=Mt(k0),U0=z({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=Mt(U0),F0=[9,13,27,32],Pl=h&&"CompositionEvent"in window,no=null;h&&"documentMode"in document&&(no=document.documentMode);var L0=h&&"TextEvent"in window&&!no,tf=h&&(!Pl||no&&8<no&&11>=no),nf=" ",rf=!1;function of(e,n){switch(e){case"keyup":return F0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function B0(e,n){switch(e){case"compositionend":return sf(n);case"keypress":return n.which!==32?null:(rf=!0,nf);case"textInput":return e=n.data,e===nf&&rf?null:e;default:return null}}function H0(e,n){if(qr)return e==="compositionend"||!Pl&&of(e,n)?(e=bd(),fs=El=Kn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tf&&n.locale!=="ko"?null:n.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!x0[e.type]:n==="textarea"}function lf(e,n,i,a){Rd(a),n=Ss(n,"onChange"),0<n.length&&(i=new Tl("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var ro=null,io=null;function G0(e){Cf(e,0)}function ms(e){var n=ri(e);if(ue(n))return e}function z0(e,n){if(e==="change")return n}var uf=!1;if(h){var Ol;if(h){var kl="oninput"in document;if(!kl){var cf=document.createElement("div");cf.setAttribute("oninput","return;"),kl=typeof cf.oninput=="function"}Ol=kl}else Ol=!1;uf=Ol&&(!document.documentMode||9<document.documentMode)}function df(){ro&&(ro.detachEvent("onpropertychange",ff),io=ro=null)}function ff(e){if(e.propertyName==="value"&&ms(io)){var n=[];lf(n,io,e,cl(e)),kd(G0,n)}}function W0(e,n,i){e==="focusin"?(df(),ro=n,io=i,ro.attachEvent("onpropertychange",ff)):e==="focusout"&&df()}function $0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(io)}function j0(e,n){if(e==="click")return ms(n)}function Y0(e,n){if(e==="input"||e==="change")return ms(n)}function V0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rn=typeof Object.is=="function"?Object.is:V0;function oo(e,n){if(rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!p.call(n,d)||!rn(e[d],n[d]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,n){var i=hf(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hf(i)}}function gf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mf(){for(var e=window,n=Tn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Tn(e.document)}return n}function Dl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function K0(e){var n=mf(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&gf(i.ownerDocument.documentElement,i)){if(a!==null&&Dl(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(a.start,d);a=a.end===void 0?f:Math.min(a.end,d),!e.extend&&f>a&&(d=a,a=f,f=d),d=pf(i,f);var g=pf(i,a);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X0=h&&"documentMode"in document&&11>=document.documentMode,Jr=null,Ul=null,so=null,Ml=!1;function vf(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ml||Jr==null||Jr!==Tn(a)||(a=Jr,"selectionStart"in a&&Dl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),so&&oo(so,a)||(so=a,a=Ss(Ul,"onSelect"),0<a.length&&(n=new Tl("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Jr)))}function vs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ei={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Fl={},yf={};h&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function ys(e){if(Fl[e])return Fl[e];if(!ei[e])return e;var n=ei[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in yf)return Fl[e]=n[i];return e}var Af=ys("animationend"),Sf=ys("animationiteration"),If=ys("animationstart"),_f=ys("transitionend"),Ef=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,n){Ef.set(e,n),l(n,[e])}for(var Ll=0;Ll<Tf.length;Ll++){var Bl=Tf[Ll],Q0=Bl.toLowerCase(),b0=Bl[0].toUpperCase()+Bl.slice(1);Xn(Q0,"on"+b0)}Xn(Af,"onAnimationEnd"),Xn(Sf,"onAnimationIteration"),Xn(If,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(_f,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function wf(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Qm(a,n,void 0,e),e.currentTarget=null}function Cf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],d=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var g=a.length-1;0<=g;g--){var A=a[g],S=A.instance,P=A.currentTarget;if(A=A.listener,S!==f&&d.isPropagationStopped())break e;wf(d,A,P),f=S}else for(g=0;g<a.length;g++){if(A=a[g],S=A.instance,P=A.currentTarget,A=A.listener,S!==f&&d.isPropagationStopped())break e;wf(d,A,P),f=S}}}if(ns)throw e=pl,ns=!1,pl=null,e}function He(e,n){var i=n[Yl];i===void 0&&(i=n[Yl]=new Set);var a=e+"__bubble";i.has(a)||(Rf(n,e,2,!1),i.add(a))}function Hl(e,n,i){var a=0;n&&(a|=4),Rf(i,e,a,n)}var As="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[As]){e[As]=!0,s.forEach(function(i){i!=="selectionchange"&&(Z0.has(i)||Hl(i,!1,e),Hl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[As]||(n[As]=!0,Hl("selectionchange",!1,n))}}function Rf(e,n,i,a){switch(Qd(n)){case 1:var d=d0;break;case 4:d=f0;break;default:d=Il}i=d.bind(null,n,i,e),d=void 0,!hl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function xl(e,n,i,a,d){var f=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var A=a.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(g===4)for(g=a.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;g=g.return}for(;A!==null;){if(g=_r(A),g===null)return;if(S=g.tag,S===5||S===6){a=f=g;continue e}A=A.parentNode}}a=a.return}kd(function(){var P=f,M=cl(i),L=[];e:{var U=Ef.get(e);if(U!==void 0){var Y=Tl,Q=e;switch(e){case"keypress":if(hs(i)===0)break e;case"keydown":case"keyup":Y=R0;break;case"focusin":Q="focus",Y=Rl;break;case"focusout":Q="blur",Y=Rl;break;case"beforeblur":case"afterblur":Y=Rl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=O0;break;case Af:case Sf:case If:Y=y0;break;case _f:Y=D0;break;case"scroll":Y=h0;break;case"wheel":Y=M0;break;case"copy":case"cut":case"paste":Y=S0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ef}var b=(n&4)!==0,Xe=!b&&e==="scroll",C=b?U!==null?U+"Capture":null:U;b=[];for(var _=P,R;_!==null;){R=_;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,C!==null&&(H=ji(_,C),H!=null&&b.push(uo(_,H,R)))),Xe)break;_=_.return}0<b.length&&(U=new Y(U,Q,null,i,M),L.push({event:U,listeners:b}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&i!==ul&&(Q=i.relatedTarget||i.fromElement)&&(_r(Q)||Q[Cn]))break e;if((Y||U)&&(U=M.window===M?M:(U=M.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(Q=i.relatedTarget||i.toElement,Y=P,Q=Q?_r(Q):null,Q!==null&&(Xe=Ir(Q),Q!==Xe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=P),Y!==Q)){if(b=qd,H="onMouseLeave",C="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=ef,H="onPointerLeave",C="onPointerEnter",_="pointer"),Xe=Y==null?U:ri(Y),R=Q==null?U:ri(Q),U=new b(H,_+"leave",Y,i,M),U.target=Xe,U.relatedTarget=R,H=null,_r(M)===P&&(b=new b(C,_+"enter",Q,i,M),b.target=R,b.relatedTarget=Xe,H=b),Xe=H,Y&&Q)t:{for(b=Y,C=Q,_=0,R=b;R;R=ti(R))_++;for(R=0,H=C;H;H=ti(H))R++;for(;0<_-R;)b=ti(b),_--;for(;0<R-_;)C=ti(C),R--;for(;_--;){if(b===C||C!==null&&b===C.alternate)break t;b=ti(b),C=ti(C)}b=null}else b=null;Y!==null&&Nf(L,U,Y,b,!1),Q!==null&&Xe!==null&&Nf(L,Xe,Q,b,!0)}}e:{if(U=P?ri(P):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var Z=z0;else if(af(U))if(uf)Z=Y0;else{Z=$0;var J=W0}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=j0);if(Z&&(Z=Z(e,P))){lf(L,Z,i,M);break e}J&&J(e,U,P),e==="focusout"&&(J=U._wrapperState)&&J.controlled&&U.type==="number"&&Kr(U,"number",U.value)}switch(J=P?ri(P):window,e){case"focusin":(af(J)||J.contentEditable==="true")&&(Jr=J,Ul=P,so=null);break;case"focusout":so=Ul=Jr=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,vf(L,i,M);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":vf(L,i,M)}var ee;if(Pl)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else qr?of(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(tf&&i.locale!=="ko"&&(qr||se!=="onCompositionStart"?se==="onCompositionEnd"&&qr&&(ee=bd()):(Kn=M,El="value"in Kn?Kn.value:Kn.textContent,qr=!0)),J=Ss(P,se),0<J.length&&(se=new Jd(se,e,null,i,M),L.push({event:se,listeners:J}),ee?se.data=ee:(ee=sf(i),ee!==null&&(se.data=ee)))),(ee=L0?B0(e,i):H0(e,i))&&(P=Ss(P,"onBeforeInput"),0<P.length&&(M=new Jd("onBeforeInput","beforeinput",null,i,M),L.push({event:M,listeners:P}),M.data=ee))}Cf(L,n)})}function uo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ss(e,n){for(var i=n+"Capture",a=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=ji(e,i),f!=null&&a.unshift(uo(e,f,d)),f=ji(e,n),f!=null&&a.push(uo(e,f,d))),e=e.return}return a}function ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nf(e,n,i,a,d){for(var f=n._reactName,g=[];i!==null&&i!==a;){var A=i,S=A.alternate,P=A.stateNode;if(S!==null&&S===a)break;A.tag===5&&P!==null&&(A=P,d?(S=ji(i,f),S!=null&&g.unshift(uo(i,S,A))):d||(S=ji(i,f),S!=null&&g.push(uo(i,S,A)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var q0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(q0,`
`).replace(J0,"")}function Is(e,n,i){if(n=Pf(n),Pf(e)!==n&&i)throw Error(o(425))}function _s(){}var Gl=null,zl=null;function Wl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(e){return Of.resolve(null).then(e).catch(nv)}:$l;function nv(e){setTimeout(function(){throw e})}function jl(e,n){var i=n,a=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(a===0){e.removeChild(d),Ji(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=d}while(i);Ji(n)}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function kf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),pn="__reactFiber$"+ni,co="__reactProps$"+ni,Cn="__reactContainer$"+ni,Yl="__reactEvents$"+ni,rv="__reactListeners$"+ni,iv="__reactHandles$"+ni;function _r(e){var n=e[pn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Cn]||i[pn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=kf(e);e!==null;){if(i=e[pn])return i;e=kf(e)}return n}e=i,i=e.parentNode}return null}function fo(e){return e=e[pn]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Es(e){return e[co]||null}var Vl=[],ii=-1;function bn(e){return{current:e}}function xe(e){0>ii||(e.current=Vl[ii],Vl[ii]=null,ii--)}function Le(e,n){ii++,Vl[ii]=e.current,e.current=n}var Zn={},ht=bn(Zn),Ct=bn(!1),Er=Zn;function oi(e,n){var i=e.type.contextTypes;if(!i)return Zn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Rt(e){return e=e.childContextTypes,e!=null}function Ts(){xe(Ct),xe(ht)}function Df(e,n,i){if(ht.current!==Zn)throw Error(o(168));Le(ht,n),Le(Ct,i)}function Uf(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var d in a)if(!(d in n))throw Error(o(108,ge(e)||"Unknown",d));return z({},i,a)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,Er=ht.current,Le(ht,e),Le(Ct,Ct.current),!0}function Mf(e,n,i){var a=e.stateNode;if(!a)throw Error(o(169));i?(e=Uf(e,n,Er),a.__reactInternalMemoizedMergedChildContext=e,xe(Ct),xe(ht),Le(ht,e)):xe(Ct),Le(Ct,i)}var Rn=null,Cs=!1,Kl=!1;function Ff(e){Rn===null?Rn=[e]:Rn.push(e)}function ov(e){Cs=!0,Ff(e)}function qn(){if(!Kl&&Rn!==null){Kl=!0;var e=0,n=Ue;try{var i=Rn;for(Ue=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Rn=null,Cs=!1}catch(d){throw Rn!==null&&(Rn=Rn.slice(e+1)),Ld(gl,qn),d}finally{Ue=n,Kl=!1}}return null}var si=[],ai=0,Rs=null,Ns=0,$t=[],jt=0,Tr=null,Nn=1,Pn="";function wr(e,n){si[ai++]=Ns,si[ai++]=Rs,Rs=e,Ns=n}function Lf(e,n,i){$t[jt++]=Nn,$t[jt++]=Pn,$t[jt++]=Tr,Tr=e;var a=Nn;e=Pn;var d=32-nn(a)-1;a&=~(1<<d),i+=1;var f=32-nn(n)+d;if(30<f){var g=d-d%5;f=(a&(1<<g)-1).toString(32),a>>=g,d-=g,Nn=1<<32-nn(n)+d|i<<d|a,Pn=f+e}else Nn=1<<f|i<<d|a,Pn=e}function Xl(e){e.return!==null&&(wr(e,1),Lf(e,1,0))}function Ql(e){for(;e===Rs;)Rs=si[--ai],si[ai]=null,Ns=si[--ai],si[ai]=null;for(;e===Tr;)Tr=$t[--jt],$t[jt]=null,Pn=$t[--jt],$t[jt]=null,Nn=$t[--jt],$t[jt]=null}var Ft=null,Lt=null,ze=!1,on=null;function Bf(e,n){var i=Xt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Hf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ft=e,Lt=Qn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ft=e,Lt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Tr!==null?{id:Nn,overflow:Pn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Xt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Ft=e,Lt=null,!0):!1;default:return!1}}function bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zl(e){if(ze){var n=Lt;if(n){var i=n;if(!Hf(e,n)){if(bl(e))throw Error(o(418));n=Qn(i.nextSibling);var a=Ft;n&&Hf(e,n)?Bf(a,i):(e.flags=e.flags&-4097|2,ze=!1,Ft=e)}}else{if(bl(e))throw Error(o(418));e.flags=e.flags&-4097|2,ze=!1,Ft=e}}}function xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function Ps(e){if(e!==Ft)return!1;if(!ze)return xf(e),ze=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Wl(e.type,e.memoizedProps)),n&&(n=Lt)){if(bl(e))throw Gf(),Error(o(418));for(;n;)Bf(e,n),n=Qn(n.nextSibling)}if(xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Lt=Qn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Lt=null}}else Lt=Ft?Qn(e.stateNode.nextSibling):null;return!0}function Gf(){for(var e=Lt;e;)e=Qn(e.nextSibling)}function li(){Lt=Ft=null,ze=!1}function ql(e){on===null?on=[e]:on.push(e)}var sv=W.ReactCurrentBatchConfig;function ho(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,e));var d=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var A=d.refs;g===null?delete A[f]:A[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Os(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function zf(e){var n=e._init;return n(e._payload)}function Wf(e){function n(C,_){if(e){var R=C.deletions;R===null?(C.deletions=[_],C.flags|=16):R.push(_)}}function i(C,_){if(!e)return null;for(;_!==null;)n(C,_),_=_.sibling;return null}function a(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function d(C,_){return C=sr(C,_),C.index=0,C.sibling=null,C}function f(C,_,R){return C.index=R,e?(R=C.alternate,R!==null?(R=R.index,R<_?(C.flags|=2,_):R):(C.flags|=2,_)):(C.flags|=1048576,_)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function A(C,_,R,H){return _===null||_.tag!==6?(_=$u(R,C.mode,H),_.return=C,_):(_=d(_,R),_.return=C,_)}function S(C,_,R,H){var Z=R.type;return Z===j?M(C,_,R.props.children,H,R.key):_!==null&&(_.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&zf(Z)===_.type)?(H=d(_,R.props),H.ref=ho(C,_,R),H.return=C,H):(H=ea(R.type,R.key,R.props,null,C.mode,H),H.ref=ho(C,_,R),H.return=C,H)}function P(C,_,R,H){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=ju(R,C.mode,H),_.return=C,_):(_=d(_,R.children||[]),_.return=C,_)}function M(C,_,R,H,Z){return _===null||_.tag!==7?(_=Ur(R,C.mode,H,Z),_.return=C,_):(_=d(_,R),_.return=C,_)}function L(C,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=$u(""+_,C.mode,R),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case le:return R=ea(_.type,_.key,_.props,null,C.mode,R),R.ref=ho(C,null,_),R.return=C,R;case F:return _=ju(_,C.mode,R),_.return=C,_;case pe:var H=_._init;return L(C,H(_._payload),R)}if(zn(_)||V(_))return _=Ur(_,C.mode,R,null),_.return=C,_;Os(C,_)}return null}function U(C,_,R,H){var Z=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Z!==null?null:A(C,_,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case le:return R.key===Z?S(C,_,R,H):null;case F:return R.key===Z?P(C,_,R,H):null;case pe:return Z=R._init,U(C,_,Z(R._payload),H)}if(zn(R)||V(R))return Z!==null?null:M(C,_,R,H,null);Os(C,R)}return null}function Y(C,_,R,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number")return C=C.get(R)||null,A(_,C,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case le:return C=C.get(H.key===null?R:H.key)||null,S(_,C,H,Z);case F:return C=C.get(H.key===null?R:H.key)||null,P(_,C,H,Z);case pe:var J=H._init;return Y(C,_,R,J(H._payload),Z)}if(zn(H)||V(H))return C=C.get(R)||null,M(_,C,H,Z,null);Os(_,H)}return null}function Q(C,_,R,H){for(var Z=null,J=null,ee=_,se=_=0,st=null;ee!==null&&se<R.length;se++){ee.index>se?(st=ee,ee=null):st=ee.sibling;var Re=U(C,ee,R[se],H);if(Re===null){ee===null&&(ee=st);break}e&&ee&&Re.alternate===null&&n(C,ee),_=f(Re,_,se),J===null?Z=Re:J.sibling=Re,J=Re,ee=st}if(se===R.length)return i(C,ee),ze&&wr(C,se),Z;if(ee===null){for(;se<R.length;se++)ee=L(C,R[se],H),ee!==null&&(_=f(ee,_,se),J===null?Z=ee:J.sibling=ee,J=ee);return ze&&wr(C,se),Z}for(ee=a(C,ee);se<R.length;se++)st=Y(ee,C,se,R[se],H),st!==null&&(e&&st.alternate!==null&&ee.delete(st.key===null?se:st.key),_=f(st,_,se),J===null?Z=st:J.sibling=st,J=st);return e&&ee.forEach(function(ar){return n(C,ar)}),ze&&wr(C,se),Z}function b(C,_,R,H){var Z=V(R);if(typeof Z!="function")throw Error(o(150));if(R=Z.call(R),R==null)throw Error(o(151));for(var J=Z=null,ee=_,se=_=0,st=null,Re=R.next();ee!==null&&!Re.done;se++,Re=R.next()){ee.index>se?(st=ee,ee=null):st=ee.sibling;var ar=U(C,ee,Re.value,H);if(ar===null){ee===null&&(ee=st);break}e&&ee&&ar.alternate===null&&n(C,ee),_=f(ar,_,se),J===null?Z=ar:J.sibling=ar,J=ar,ee=st}if(Re.done)return i(C,ee),ze&&wr(C,se),Z;if(ee===null){for(;!Re.done;se++,Re=R.next())Re=L(C,Re.value,H),Re!==null&&(_=f(Re,_,se),J===null?Z=Re:J.sibling=Re,J=Re);return ze&&wr(C,se),Z}for(ee=a(C,ee);!Re.done;se++,Re=R.next())Re=Y(ee,C,se,Re.value,H),Re!==null&&(e&&Re.alternate!==null&&ee.delete(Re.key===null?se:Re.key),_=f(Re,_,se),J===null?Z=Re:J.sibling=Re,J=Re);return e&&ee.forEach(function(xv){return n(C,xv)}),ze&&wr(C,se),Z}function Xe(C,_,R,H){if(typeof R=="object"&&R!==null&&R.type===j&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case le:e:{for(var Z=R.key,J=_;J!==null;){if(J.key===Z){if(Z=R.type,Z===j){if(J.tag===7){i(C,J.sibling),_=d(J,R.props.children),_.return=C,C=_;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&zf(Z)===J.type){i(C,J.sibling),_=d(J,R.props),_.ref=ho(C,J,R),_.return=C,C=_;break e}i(C,J);break}else n(C,J);J=J.sibling}R.type===j?(_=Ur(R.props.children,C.mode,H,R.key),_.return=C,C=_):(H=ea(R.type,R.key,R.props,null,C.mode,H),H.ref=ho(C,_,R),H.return=C,C=H)}return g(C);case F:e:{for(J=R.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){i(C,_.sibling),_=d(_,R.children||[]),_.return=C,C=_;break e}else{i(C,_);break}else n(C,_);_=_.sibling}_=ju(R,C.mode,H),_.return=C,C=_}return g(C);case pe:return J=R._init,Xe(C,_,J(R._payload),H)}if(zn(R))return Q(C,_,R,H);if(V(R))return b(C,_,R,H);Os(C,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(i(C,_.sibling),_=d(_,R),_.return=C,C=_):(i(C,_),_=$u(R,C.mode,H),_.return=C,C=_),g(C)):i(C,_)}return Xe}var ui=Wf(!0),$f=Wf(!1),ks=bn(null),Ds=null,ci=null,Jl=null;function eu(){Jl=ci=Ds=null}function tu(e){var n=ks.current;xe(ks),e._currentValue=n}function nu(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function di(e,n){Ds=e,Jl=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Nt=!0),e.firstContext=null)}function Yt(e){var n=e._currentValue;if(Jl!==e)if(e={context:e,memoizedValue:n,next:null},ci===null){if(Ds===null)throw Error(o(308));ci=e,Ds.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return n}var Cr=null;function ru(e){Cr===null?Cr=[e]:Cr.push(e)}function jf(e,n,i,a){var d=n.interleaved;return d===null?(i.next=i,ru(n)):(i.next=d.next,d.next=i),n.interleaved=i,On(e,a)}function On(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Jn=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function er(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(we&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,On(e,i)}return d=a.interleaved,d===null?(n.next=n,ru(a)):(n.next=d.next,d.next=n),a.interleaved=n,On(e,i)}function Us(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,yl(e,i)}}function Vf(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=n:f=f.next=n}else d=f=n;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ms(e,n,i,a){var d=e.updateQueue;Jn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var S=A,P=S.next;S.next=null,g===null?f=P:g.next=P,g=S;var M=e.alternate;M!==null&&(M=M.updateQueue,A=M.lastBaseUpdate,A!==g&&(A===null?M.firstBaseUpdate=P:A.next=P,M.lastBaseUpdate=S))}if(f!==null){var L=d.baseState;g=0,M=P=S=null,A=f;do{var U=A.lane,Y=A.eventTime;if((a&U)===U){M!==null&&(M=M.next={eventTime:Y,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Q=e,b=A;switch(U=n,Y=i,b.tag){case 1:if(Q=b.payload,typeof Q=="function"){L=Q.call(Y,L,U);break e}L=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=b.payload,U=typeof Q=="function"?Q.call(Y,L,U):Q,U==null)break e;L=z({},L,U);break e;case 2:Jn=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[A]:U.push(A))}else Y={eventTime:Y,lane:U,tag:A.tag,payload:A.payload,callback:A.callback,next:null},M===null?(P=M=Y,S=L):M=M.next=Y,g|=U;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;U=A,A=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(M===null&&(S=L),d.baseState=S,d.firstBaseUpdate=P,d.lastBaseUpdate=M,n=d.shared.interleaved,n!==null){d=n;do g|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);Pr|=g,e.lanes=g,e.memoizedState=L}}function Kf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],d=a.callback;if(d!==null){if(a.callback=null,a=i,typeof d!="function")throw Error(o(191,d));d.call(a)}}}var po={},gn=bn(po),go=bn(po),mo=bn(po);function Rr(e){if(e===po)throw Error(o(174));return e}function ou(e,n){switch(Le(mo,n),Le(go,e),Le(gn,po),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:sl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=sl(n,e)}xe(gn),Le(gn,n)}function fi(){xe(gn),xe(go),xe(mo)}function Xf(e){Rr(mo.current);var n=Rr(gn.current),i=sl(n,e.type);n!==i&&(Le(go,e),Le(gn,i))}function su(e){go.current===e&&(xe(gn),xe(go))}var $e=bn(0);function Fs(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var au=[];function lu(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var Ls=W.ReactCurrentDispatcher,uu=W.ReactCurrentBatchConfig,Nr=0,je=null,tt=null,it=null,Bs=!1,vo=!1,yo=0,av=0;function pt(){throw Error(o(321))}function cu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!rn(e[i],n[i]))return!1;return!0}function du(e,n,i,a,d,f){if(Nr=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ls.current=e===null||e.memoizedState===null?dv:fv,e=i(a,d),vo){f=0;do{if(vo=!1,yo=0,25<=f)throw Error(o(301));f+=1,it=tt=null,n.updateQueue=null,Ls.current=hv,e=i(a,d)}while(vo)}if(Ls.current=Gs,n=tt!==null&&tt.next!==null,Nr=0,it=tt=je=null,Bs=!1,n)throw Error(o(300));return e}function fu(){var e=yo!==0;return yo=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?je.memoizedState=it=e:it=it.next=e,it}function Vt(){if(tt===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=it===null?je.memoizedState:it.next;if(n!==null)it=n,tt=e;else{if(e===null)throw Error(o(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?je.memoizedState=it=e:it=it.next=e}return it}function Ao(e,n){return typeof n=="function"?n(e):n}function hu(e){var n=Vt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=tt,d=a.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}a.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,a=a.baseState;var A=g=null,S=null,P=f;do{var M=P.lane;if((Nr&M)===M)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var L={lane:M,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(A=S=L,g=a):S=S.next=L,je.lanes|=M,Pr|=M}P=P.next}while(P!==null&&P!==f);S===null?g=a:S.next=A,rn(a,n.memoizedState)||(Nt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=S,i.lastRenderedState=a}if(e=i.interleaved,e!==null){d=e;do f=d.lane,je.lanes|=f,Pr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function pu(e){var n=Vt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=i.dispatch,d=i.pending,f=n.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);rn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function Qf(){}function bf(e,n){var i=je,a=Vt(),d=n(),f=!rn(a.memoizedState,d);if(f&&(a.memoizedState=d,Nt=!0),a=a.queue,gu(Jf.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,So(9,qf.bind(null,i,a,d,n),void 0,null),ot===null)throw Error(o(349));(Nr&30)!==0||Zf(i,n,d)}return d}function Zf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function qf(e,n,i,a){n.value=i,n.getSnapshot=a,eh(n)&&th(e)}function Jf(e,n,i){return i(function(){eh(n)&&th(e)})}function eh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!rn(e,i)}catch{return!0}}function th(e){var n=On(e,1);n!==null&&un(n,e,1,-1)}function nh(e){var n=mn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},n.queue=e,e=e.dispatch=cv.bind(null,je,e),[n.memoizedState,e]}function So(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function rh(){return Vt().memoizedState}function Hs(e,n,i,a){var d=mn();je.flags|=e,d.memoizedState=So(1|n,i,void 0,a===void 0?null:a)}function xs(e,n,i,a){var d=Vt();a=a===void 0?null:a;var f=void 0;if(tt!==null){var g=tt.memoizedState;if(f=g.destroy,a!==null&&cu(a,g.deps)){d.memoizedState=So(n,i,f,a);return}}je.flags|=e,d.memoizedState=So(1|n,i,f,a)}function ih(e,n){return Hs(8390656,8,e,n)}function gu(e,n){return xs(2048,8,e,n)}function oh(e,n){return xs(4,2,e,n)}function sh(e,n){return xs(4,4,e,n)}function ah(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lh(e,n,i){return i=i!=null?i.concat([e]):null,xs(4,4,ah.bind(null,n,e),i)}function mu(){}function uh(e,n){var i=Vt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&cu(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function ch(e,n){var i=Vt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&cu(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function dh(e,n,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=i):(rn(i,n)||(i=Gd(),je.lanes|=i,Pr|=i,e.baseState=!0),n)}function lv(e,n){var i=Ue;Ue=i!==0&&4>i?i:4,e(!0);var a=uu.transition;uu.transition={};try{e(!1),n()}finally{Ue=i,uu.transition=a}}function fh(){return Vt().memoizedState}function uv(e,n,i){var a=ir(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},hh(e))ph(n,i);else if(i=jf(e,n,i,a),i!==null){var d=_t();un(i,e,a,d),gh(i,n,a)}}function cv(e,n,i){var a=ir(e),d={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(hh(e))ph(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,A=f(g,i);if(d.hasEagerState=!0,d.eagerState=A,rn(A,g)){var S=n.interleaved;S===null?(d.next=d,ru(n)):(d.next=S.next,S.next=d),n.interleaved=d;return}}catch{}finally{}i=jf(e,n,d,a),i!==null&&(d=_t(),un(i,e,a,d),gh(i,n,a))}}function hh(e){var n=e.alternate;return e===je||n!==null&&n===je}function ph(e,n){vo=Bs=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function gh(e,n,i){if((i&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,yl(e,i)}}var Gs={readContext:Yt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},dv={readContext:Yt,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:Yt,useEffect:ih,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Hs(4194308,4,ah.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Hs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Hs(4,2,e,n)},useMemo:function(e,n){var i=mn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=mn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=uv.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:nh,useDebugValue:mu,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=nh(!1),n=e[0];return e=lv.bind(null,e[1]),mn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=je,d=mn();if(ze){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ot===null)throw Error(o(349));(Nr&30)!==0||Zf(a,n,i)}d.memoizedState=i;var f={value:i,getSnapshot:n};return d.queue=f,ih(Jf.bind(null,a,f,e),[e]),a.flags|=2048,So(9,qf.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=mn(),n=ot.identifierPrefix;if(ze){var i=Pn,a=Nn;i=(a&~(1<<32-nn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=yo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=av++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},fv={readContext:Yt,useCallback:uh,useContext:Yt,useEffect:gu,useImperativeHandle:lh,useInsertionEffect:oh,useLayoutEffect:sh,useMemo:ch,useReducer:hu,useRef:rh,useState:function(){return hu(Ao)},useDebugValue:mu,useDeferredValue:function(e){var n=Vt();return dh(n,tt.memoizedState,e)},useTransition:function(){var e=hu(Ao)[0],n=Vt().memoizedState;return[e,n]},useMutableSource:Qf,useSyncExternalStore:bf,useId:fh,unstable_isNewReconciler:!1},hv={readContext:Yt,useCallback:uh,useContext:Yt,useEffect:gu,useImperativeHandle:lh,useInsertionEffect:oh,useLayoutEffect:sh,useMemo:ch,useReducer:pu,useRef:rh,useState:function(){return pu(Ao)},useDebugValue:mu,useDeferredValue:function(e){var n=Vt();return tt===null?n.memoizedState=e:dh(n,tt.memoizedState,e)},useTransition:function(){var e=pu(Ao)[0],n=Vt().memoizedState;return[e,n]},useMutableSource:Qf,useSyncExternalStore:bf,useId:fh,unstable_isNewReconciler:!1};function sn(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function vu(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:z({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var zs={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=_t(),d=ir(e),f=kn(a,d);f.payload=n,i!=null&&(f.callback=i),n=er(e,f,d),n!==null&&(un(n,e,d,a),Us(n,e,d))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=_t(),d=ir(e),f=kn(a,d);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=er(e,f,d),n!==null&&(un(n,e,d,a),Us(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=_t(),a=ir(e),d=kn(i,a);d.tag=2,n!=null&&(d.callback=n),n=er(e,d,a),n!==null&&(un(n,e,a,i),Us(n,e,a))}};function mh(e,n,i,a,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):n.prototype&&n.prototype.isPureReactComponent?!oo(i,a)||!oo(d,f):!0}function vh(e,n,i){var a=!1,d=Zn,f=n.contextType;return typeof f=="object"&&f!==null?f=Yt(f):(d=Rt(n)?Er:ht.current,a=n.contextTypes,f=(a=a!=null)?oi(e,d):Zn),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=zs,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function yh(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&zs.enqueueReplaceState(n,n.state,null)}function yu(e,n,i,a){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},iu(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Yt(f):(f=Rt(n)?Er:ht.current,d.context=oi(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(vu(e,n,f,i),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&zs.enqueueReplaceState(d,d.state,null),Ms(e,i,d,a),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,n){try{var i="",a=n;do i+=ye(a),a=a.return;while(a);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function Au(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Su(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var pv=typeof WeakMap=="function"?WeakMap:Map;function Ah(e,n,i){i=kn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Xs||(Xs=!0,Fu=a),Su(e,n)},i}function Sh(e,n,i){i=kn(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var d=n.value;i.payload=function(){return a(d)},i.callback=function(){Su(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Su(e,n),typeof a!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function Ih(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new pv;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(i)||(d.add(i),e=Nv.bind(null,e,n,i),n.then(e,e))}function _h(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Eh(e,n,i,a,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=kn(-1,1),n.tag=2,er(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var gv=W.ReactCurrentOwner,Nt=!1;function It(e,n,i,a){n.child=e===null?$f(n,null,i,a):ui(n,e.child,i,a)}function Th(e,n,i,a,d){i=i.render;var f=n.ref;return di(n,d),a=du(e,n,i,a,f,d),i=fu(),e!==null&&!Nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Dn(e,n,d)):(ze&&i&&Xl(n),n.flags|=1,It(e,n,a,d),n.child)}function wh(e,n,i,a,d){if(e===null){var f=i.type;return typeof f=="function"&&!Wu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Ch(e,n,f,a,d)):(e=ea(i.type,null,a,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:oo,i(g,a)&&e.ref===n.ref)return Dn(e,n,d)}return n.flags|=1,e=sr(f,a),e.ref=n.ref,e.return=n,n.child=e}function Ch(e,n,i,a,d){if(e!==null){var f=e.memoizedProps;if(oo(f,a)&&e.ref===n.ref)if(Nt=!1,n.pendingProps=a=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Nt=!0);else return n.lanes=e.lanes,Dn(e,n,d)}return Iu(e,n,i,a,d)}function Rh(e,n,i){var a=n.pendingProps,d=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(gi,Bt),Bt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Le(gi,Bt),Bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Le(gi,Bt),Bt|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,Le(gi,Bt),Bt|=a;return It(e,n,d,i),n.child}function Nh(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Iu(e,n,i,a,d){var f=Rt(i)?Er:ht.current;return f=oi(n,f),di(n,d),i=du(e,n,i,a,f,d),a=fu(),e!==null&&!Nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Dn(e,n,d)):(ze&&a&&Xl(n),n.flags|=1,It(e,n,i,d),n.child)}function Ph(e,n,i,a,d){if(Rt(i)){var f=!0;ws(n)}else f=!1;if(di(n,d),n.stateNode===null)$s(e,n),vh(n,i,a),yu(n,i,a,d),a=!0;else if(e===null){var g=n.stateNode,A=n.memoizedProps;g.props=A;var S=g.context,P=i.contextType;typeof P=="object"&&P!==null?P=Yt(P):(P=Rt(i)?Er:ht.current,P=oi(n,P));var M=i.getDerivedStateFromProps,L=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function";L||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==a||S!==P)&&yh(n,g,a,P),Jn=!1;var U=n.memoizedState;g.state=U,Ms(n,a,g,d),S=n.memoizedState,A!==a||U!==S||Ct.current||Jn?(typeof M=="function"&&(vu(n,i,M,a),S=n.memoizedState),(A=Jn||mh(n,i,A,a,U,S,P))?(L||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=S),g.props=a,g.state=S,g.context=P,a=A):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,Yf(e,n),A=n.memoizedProps,P=n.type===n.elementType?A:sn(n.type,A),g.props=P,L=n.pendingProps,U=g.context,S=i.contextType,typeof S=="object"&&S!==null?S=Yt(S):(S=Rt(i)?Er:ht.current,S=oi(n,S));var Y=i.getDerivedStateFromProps;(M=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==L||U!==S)&&yh(n,g,a,S),Jn=!1,U=n.memoizedState,g.state=U,Ms(n,a,g,d);var Q=n.memoizedState;A!==L||U!==Q||Ct.current||Jn?(typeof Y=="function"&&(vu(n,i,Y,a),Q=n.memoizedState),(P=Jn||mh(n,i,P,a,U,Q,S)||!1)?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Q,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Q,S)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=Q),g.props=a,g.state=Q,g.context=S,a=P):(typeof g.componentDidUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),a=!1)}return _u(e,n,i,a,f,d)}function _u(e,n,i,a,d,f){Nh(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return d&&Mf(n,i,!1),Dn(e,n,f);a=n.stateNode,gv.current=n;var A=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=ui(n,e.child,null,f),n.child=ui(n,null,A,f)):It(e,n,A,f),n.memoizedState=a.state,d&&Mf(n,i,!0),n.child}function Oh(e){var n=e.stateNode;n.pendingContext?Df(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Df(e,n.context,!1),ou(e,n.containerInfo)}function kh(e,n,i,a,d){return li(),ql(d),n.flags|=256,It(e,n,i,a),n.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dh(e,n,i){var a=n.pendingProps,d=$e.current,f=!1,g=(n.flags&128)!==0,A;if((A=g)||(A=e!==null&&e.memoizedState===null?!1:(d&2)!==0),A?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Le($e,d&1),e===null)return Zl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=n.mode,f=n.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ta(g,a,0,null),e=Ur(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Tu(i),n.memoizedState=Eu,e):wu(n,g));if(d=e.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return mv(e,n,g,a,A,d,i);if(f){f=a.fallback,g=n.mode,d=e.child,A=d.sibling;var S={mode:"hidden",children:a.children};return(g&1)===0&&n.child!==d?(a=n.child,a.childLanes=0,a.pendingProps=S,n.deletions=null):(a=sr(d,S),a.subtreeFlags=d.subtreeFlags&14680064),A!==null?f=sr(A,f):(f=Ur(f,g,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,g=e.child.memoizedState,g=g===null?Tu(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Eu,a}return f=e.child,e=f.sibling,a=sr(f,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function wu(e,n){return n=ta({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ws(e,n,i,a){return a!==null&&ql(a),ui(n,e.child,null,i),e=wu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mv(e,n,i,a,d,f,g){if(i)return n.flags&256?(n.flags&=-257,a=Au(Error(o(422))),Ws(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,d=n.mode,a=ta({mode:"visible",children:a.children},d,0,null),f=Ur(f,d,g,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,(n.mode&1)!==0&&ui(n,e.child,null,g),n.child.memoizedState=Tu(g),n.memoizedState=Eu,f);if((n.mode&1)===0)return Ws(e,n,g,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var A=a.dgst;return a=A,f=Error(o(419)),a=Au(f,a,void 0),Ws(e,n,g,a)}if(A=(g&e.childLanes)!==0,Nt||A){if(a=ot,a!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,On(e,d),un(a,e,d,-1))}return zu(),a=Au(Error(o(421))),Ws(e,n,g,a)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Pv.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Lt=Qn(d.nextSibling),Ft=n,ze=!0,on=null,e!==null&&($t[jt++]=Nn,$t[jt++]=Pn,$t[jt++]=Tr,Nn=e.id,Pn=e.overflow,Tr=n),n=wu(n,a.children),n.flags|=4096,n)}function Uh(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),nu(e.return,n,i)}function Cu(e,n,i,a,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=d)}function Mh(e,n,i){var a=n.pendingProps,d=a.revealOrder,f=a.tail;if(It(e,n,a.children,i),a=$e.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uh(e,i,n);else if(e.tag===19)Uh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le($e,a),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Fs(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Cu(n,!1,d,i,f);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Fs(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Cu(n,!0,i,null,f);break;case"together":Cu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Dn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Pr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=sr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=sr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function vv(e,n,i){switch(n.tag){case 3:Oh(n),li();break;case 5:Xf(n);break;case 1:Rt(n.type)&&ws(n);break;case 4:ou(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,d=n.memoizedProps.value;Le(ks,a._currentValue),a._currentValue=d;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Le($e,$e.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Dh(e,n,i):(Le($e,$e.current&1),e=Dn(e,n,i),e!==null?e.sibling:null);Le($e,$e.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Mh(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Le($e,$e.current),a)break;return null;case 22:case 23:return n.lanes=0,Rh(e,n,i)}return Dn(e,n,i)}var Fh,Ru,Lh,Bh;Fh=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ru=function(){},Lh=function(e,n,i,a){var d=e.memoizedProps;if(d!==a){e=n.stateNode,Rr(gn.current);var f=null;switch(i){case"input":d=Ut(e,d),a=Ut(e,a),f=[];break;case"select":d=z({},d,{value:void 0}),a=z({},a,{value:void 0}),f=[];break;case"textarea":d=Sr(e,d),a=Sr(e,a),f=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=_s)}al(i,a);var g;i=null;for(P in d)if(!a.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var A=d[P];for(g in A)A.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in a){var S=a[P];if(A=d!=null?d[P]:void 0,a.hasOwnProperty(P)&&S!==A&&(S!=null||A!=null))if(P==="style")if(A){for(g in A)!A.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in S)S.hasOwnProperty(g)&&A[g]!==S[g]&&(i||(i={}),i[g]=S[g])}else i||(f||(f=[]),f.push(P,i)),i=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,A=A?A.__html:void 0,S!=null&&A!==S&&(f=f||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&He("scroll",e),f||A===S||(f=[])):(f=f||[]).push(P,S))}i&&(f=f||[]).push("style",i);var P=f;(n.updateQueue=P)&&(n.flags|=4)}},Bh=function(e,n,i,a){i!==a&&(n.flags|=4)};function Io(e,n){if(!ze)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function yv(e,n,i){var a=n.pendingProps;switch(Ql(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return Rt(n.type)&&Ts(),gt(n),null;case 3:return a=n.stateNode,fi(),xe(Ct),xe(ht),lu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ps(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,on!==null&&(Hu(on),on=null))),Ru(e,n),gt(n),null;case 5:su(n);var d=Rr(mo.current);if(i=n.type,e!==null&&n.stateNode!=null)Lh(e,n,i,a,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(o(166));return gt(n),null}if(e=Rr(gn.current),Ps(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[pn]=n,a[co]=f,e=(n.mode&1)!==0,i){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(d=0;d<ao.length;d++)He(ao[d],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":Wt(a,f),He("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},He("invalid",a);break;case"textarea":Ad(a,f),He("invalid",a)}al(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var A=f[g];g==="children"?typeof A=="string"?a.textContent!==A&&(f.suppressHydrationWarning!==!0&&Is(a.textContent,A,e),d=["children",A]):typeof A=="number"&&a.textContent!==""+A&&(f.suppressHydrationWarning!==!0&&Is(a.textContent,A,e),d=["children",""+A]):u.hasOwnProperty(g)&&A!=null&&g==="onScroll"&&He("scroll",a)}switch(i){case"input":Ne(a),Gn(a,f,!0);break;case"textarea":Ne(a),Id(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=_s)}a=d,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_d(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[pn]=n,e[co]=a,Fh(e,n,!1,!1),n.stateNode=e;e:{switch(g=ll(i,a),i){case"dialog":He("cancel",e),He("close",e),d=a;break;case"iframe":case"object":case"embed":He("load",e),d=a;break;case"video":case"audio":for(d=0;d<ao.length;d++)He(ao[d],e);d=a;break;case"source":He("error",e),d=a;break;case"img":case"image":case"link":He("error",e),He("load",e),d=a;break;case"details":He("toggle",e),d=a;break;case"input":Wt(e,a),d=Ut(e,a),He("invalid",e);break;case"option":d=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},d=z({},a,{value:void 0}),He("invalid",e);break;case"textarea":Ad(e,a),d=Sr(e,a),He("invalid",e);break;default:d=a}al(i,d),A=d;for(f in A)if(A.hasOwnProperty(f)){var S=A[f];f==="style"?wd(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Ed(e,S)):f==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Wi(e,S):typeof S=="number"&&Wi(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?S!=null&&f==="onScroll"&&He("scroll",e):S!=null&&$(e,f,S,g))}switch(i){case"input":Ne(e),Gn(e,a,!1);break;case"textarea":Ne(e),Id(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ce(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Wn(e,!!a.multiple,f,!1):a.defaultValue!=null&&Wn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=_s)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return gt(n),null;case 6:if(e&&n.stateNode!=null)Bh(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(i=Rr(mo.current),Rr(gn.current),Ps(n)){if(a=n.stateNode,i=n.memoizedProps,a[pn]=n,(f=a.nodeValue!==i)&&(e=Ft,e!==null))switch(e.tag){case 3:Is(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[pn]=n,n.stateNode=a}return gt(n),null;case 13:if(xe($e),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Lt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Gf(),li(),n.flags|=98560,f=!1;else if(f=Ps(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[pn]=n}else li(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),f=!1}else on!==null&&(Hu(on),on=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||($e.current&1)!==0?nt===0&&(nt=3):zu())),n.updateQueue!==null&&(n.flags|=4),gt(n),null);case 4:return fi(),Ru(e,n),e===null&&lo(n.stateNode.containerInfo),gt(n),null;case 10:return tu(n.type._context),gt(n),null;case 17:return Rt(n.type)&&Ts(),gt(n),null;case 19:if(xe($e),f=n.memoizedState,f===null)return gt(n),null;if(a=(n.flags&128)!==0,g=f.rendering,g===null)if(a)Io(f,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Fs(e),g!==null){for(n.flags|=128,Io(f,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Le($e,$e.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ke()>mi&&(n.flags|=128,a=!0,Io(f,!1),n.lanes=4194304)}else{if(!a)if(e=Fs(g),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Io(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ze)return gt(n),null}else 2*Ke()-f.renderingStartTime>mi&&i!==1073741824&&(n.flags|=128,a=!0,Io(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ke(),n.sibling=null,i=$e.current,Le($e,a?i&1|2:i&1),n):(gt(n),null);case 22:case 23:return Gu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(Bt&1073741824)!==0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function Av(e,n){switch(Ql(n),n.tag){case 1:return Rt(n.type)&&Ts(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fi(),xe(Ct),xe(ht),lu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return su(n),null;case 13:if(xe($e),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));li()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return xe($e),null;case 4:return fi(),null;case 10:return tu(n.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var js=!1,mt=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,K=null;function pi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ye(e,n,a)}else i.current=null}function Nu(e,n,i){try{i()}catch(a){Ye(e,n,a)}}var Hh=!1;function Iv(e,n){if(Gl=cs,e=mf(),Dl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,A=-1,S=-1,P=0,M=0,L=e,U=null;t:for(;;){for(var Y;L!==i||d!==0&&L.nodeType!==3||(A=g+d),L!==f||a!==0&&L.nodeType!==3||(S=g+a),L.nodeType===3&&(g+=L.nodeValue.length),(Y=L.firstChild)!==null;)U=L,L=Y;for(;;){if(L===e)break t;if(U===i&&++P===d&&(A=g),U===f&&++M===a&&(S=g),(Y=L.nextSibling)!==null)break;L=U,U=L.parentNode}L=Y}i=A===-1||S===-1?null:{start:A,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(zl={focusedElem:e,selectionRange:i},cs=!1,K=n;K!==null;)if(n=K,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,K=e;else for(;K!==null;){n=K;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var b=Q.memoizedProps,Xe=Q.memoizedState,C=n.stateNode,_=C.getSnapshotBeforeUpdate(n.elementType===n.type?b:sn(n.type,b),Xe);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(H){Ye(n,n.return,H)}if(e=n.sibling,e!==null){e.return=n.return,K=e;break}K=n.return}return Q=Hh,Hh=!1,Q}function _o(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Nu(n,i,f)}d=d.next}while(d!==a)}}function Ys(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Pu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function xh(e){var n=e.alternate;n!==null&&(e.alternate=null,xh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[pn],delete n[co],delete n[Yl],delete n[rv],delete n[iv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gh(e){return e.tag===5||e.tag===3||e.tag===4}function zh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=_s));else if(a!==4&&(e=e.child,e!==null))for(Ou(e,n,i),e=e.sibling;e!==null;)Ou(e,n,i),e=e.sibling}function ku(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(ku(e,n,i),e=e.sibling;e!==null;)ku(e,n,i),e=e.sibling}var ct=null,an=!1;function tr(e,n,i){for(i=i.child;i!==null;)Wh(e,n,i),i=i.sibling}function Wh(e,n,i){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(is,i)}catch{}switch(i.tag){case 5:mt||pi(i,n);case 6:var a=ct,d=an;ct=null,tr(e,n,i),ct=a,an=d,ct!==null&&(an?(e=ct,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ct.removeChild(i.stateNode));break;case 18:ct!==null&&(an?(e=ct,i=i.stateNode,e.nodeType===8?jl(e.parentNode,i):e.nodeType===1&&jl(e,i),Ji(e)):jl(ct,i.stateNode));break;case 4:a=ct,d=an,ct=i.stateNode.containerInfo,an=!0,tr(e,n,i),ct=a,an=d;break;case 0:case 11:case 14:case 15:if(!mt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Nu(i,n,g),d=d.next}while(d!==a)}tr(e,n,i);break;case 1:if(!mt&&(pi(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(A){Ye(i,n,A)}tr(e,n,i);break;case 21:tr(e,n,i);break;case 22:i.mode&1?(mt=(a=mt)||i.memoizedState!==null,tr(e,n,i),mt=a):tr(e,n,i);break;default:tr(e,n,i)}}function $h(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Sv),n.forEach(function(a){var d=Ov.bind(null,e,a);i.has(a)||(i.add(a),a.then(d,d))})}}function ln(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a];try{var f=e,g=n,A=g;e:for(;A!==null;){switch(A.tag){case 5:ct=A.stateNode,an=!1;break e;case 3:ct=A.stateNode.containerInfo,an=!0;break e;case 4:ct=A.stateNode.containerInfo,an=!0;break e}A=A.return}if(ct===null)throw Error(o(160));Wh(f,g,d),ct=null,an=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(P){Ye(d,n,P)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)jh(n,e),n=n.sibling}function jh(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(n,e),vn(e),a&4){try{_o(3,e,e.return),Ys(3,e)}catch(b){Ye(e,e.return,b)}try{_o(5,e,e.return)}catch(b){Ye(e,e.return,b)}}break;case 1:ln(n,e),vn(e),a&512&&i!==null&&pi(i,i.return);break;case 5:if(ln(n,e),vn(e),a&512&&i!==null&&pi(i,i.return),e.flags&32){var d=e.stateNode;try{Wi(d,"")}catch(b){Ye(e,e.return,b)}}if(a&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,A=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{A==="input"&&f.type==="radio"&&f.name!=null&&Ar(d,f),ll(A,g);var P=ll(A,f);for(g=0;g<S.length;g+=2){var M=S[g],L=S[g+1];M==="style"?wd(d,L):M==="dangerouslySetInnerHTML"?Ed(d,L):M==="children"?Wi(d,L):$(d,M,L,P)}switch(A){case"input":wn(d,f);break;case"textarea":Sd(d,f);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?Wn(d,!!f.multiple,Y,!1):U!==!!f.multiple&&(f.defaultValue!=null?Wn(d,!!f.multiple,f.defaultValue,!0):Wn(d,!!f.multiple,f.multiple?[]:"",!1))}d[co]=f}catch(b){Ye(e,e.return,b)}}break;case 6:if(ln(n,e),vn(e),a&4){if(e.stateNode===null)throw Error(o(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(b){Ye(e,e.return,b)}}break;case 3:if(ln(n,e),vn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ji(n.containerInfo)}catch(b){Ye(e,e.return,b)}break;case 4:ln(n,e),vn(e);break;case 13:ln(n,e),vn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Mu=Ke())),a&4&&$h(e);break;case 22:if(M=i!==null&&i.memoizedState!==null,e.mode&1?(mt=(P=mt)||M,ln(n,e),mt=P):ln(n,e),vn(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!M&&(e.mode&1)!==0)for(K=e,M=e.child;M!==null;){for(L=K=M;K!==null;){switch(U=K,Y=U.child,U.tag){case 0:case 11:case 14:case 15:_o(4,U,U.return);break;case 1:pi(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){a=U,i=U.return;try{n=a,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(b){Ye(a,i,b)}}break;case 5:pi(U,U.return);break;case 22:if(U.memoizedState!==null){Kh(L);continue}}Y!==null?(Y.return=U,K=Y):Kh(L)}M=M.sibling}e:for(M=null,L=e;;){if(L.tag===5){if(M===null){M=L;try{d=L.stateNode,P?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(A=L.stateNode,S=L.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,A.style.display=Td("display",g))}catch(b){Ye(e,e.return,b)}}}else if(L.tag===6){if(M===null)try{L.stateNode.nodeValue=P?"":L.memoizedProps}catch(b){Ye(e,e.return,b)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;M===L&&(M=null),L=L.return}M===L&&(M=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:ln(n,e),vn(e),a&4&&$h(e);break;case 21:break;default:ln(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Gh(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(Wi(d,""),a.flags&=-33);var f=zh(e);ku(e,f,d);break;case 3:case 4:var g=a.stateNode.containerInfo,A=zh(e);Ou(e,A,g);break;default:throw Error(o(161))}}catch(S){Ye(e,e.return,S)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _v(e,n,i){K=e,Yh(e)}function Yh(e,n,i){for(var a=(e.mode&1)!==0;K!==null;){var d=K,f=d.child;if(d.tag===22&&a){var g=d.memoizedState!==null||js;if(!g){var A=d.alternate,S=A!==null&&A.memoizedState!==null||mt;A=js;var P=mt;if(js=g,(mt=S)&&!P)for(K=d;K!==null;)g=K,S=g.child,g.tag===22&&g.memoizedState!==null?Xh(d):S!==null?(S.return=g,K=S):Xh(d);for(;f!==null;)K=f,Yh(f),f=f.sibling;K=d,js=A,mt=P}Vh(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,K=f):Vh(e)}}function Vh(e){for(;K!==null;){var n=K;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:mt||Ys(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!mt)if(i===null)a.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:sn(n.type,i.memoizedProps);a.componentDidUpdate(d,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Kf(n,f,a);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Kf(n,g,i)}break;case 5:var A=n.stateNode;if(i===null&&n.flags&4){i=A;var S=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var P=n.alternate;if(P!==null){var M=P.memoizedState;if(M!==null){var L=M.dehydrated;L!==null&&Ji(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}mt||n.flags&512&&Pu(n)}catch(U){Ye(n,n.return,U)}}if(n===e){K=null;break}if(i=n.sibling,i!==null){i.return=n.return,K=i;break}K=n.return}}function Kh(e){for(;K!==null;){var n=K;if(n===e){K=null;break}var i=n.sibling;if(i!==null){i.return=n.return,K=i;break}K=n.return}}function Xh(e){for(;K!==null;){var n=K;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ys(4,n)}catch(S){Ye(n,i,S)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var d=n.return;try{a.componentDidMount()}catch(S){Ye(n,d,S)}}var f=n.return;try{Pu(n)}catch(S){Ye(n,f,S)}break;case 5:var g=n.return;try{Pu(n)}catch(S){Ye(n,g,S)}}}catch(S){Ye(n,n.return,S)}if(n===e){K=null;break}var A=n.sibling;if(A!==null){A.return=n.return,K=A;break}K=n.return}}var Ev=Math.ceil,Vs=W.ReactCurrentDispatcher,Du=W.ReactCurrentOwner,Kt=W.ReactCurrentBatchConfig,we=0,ot=null,Ze=null,dt=0,Bt=0,gi=bn(0),nt=0,Eo=null,Pr=0,Ks=0,Uu=0,To=null,Pt=null,Mu=0,mi=1/0,Un=null,Xs=!1,Fu=null,nr=null,Qs=!1,rr=null,bs=0,wo=0,Lu=null,Zs=-1,qs=0;function _t(){return(we&6)!==0?Ke():Zs!==-1?Zs:Zs=Ke()}function ir(e){return(e.mode&1)===0?1:(we&2)!==0&&dt!==0?dt&-dt:sv.transition!==null?(qs===0&&(qs=Gd()),qs):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:Qd(e.type)),e)}function un(e,n,i,a){if(50<wo)throw wo=0,Lu=null,Error(o(185));Xi(e,i,a),((we&2)===0||e!==ot)&&(e===ot&&((we&2)===0&&(Ks|=i),nt===4&&or(e,dt)),Ot(e,a),i===1&&we===0&&(n.mode&1)===0&&(mi=Ke()+500,Cs&&qn()))}function Ot(e,n){var i=e.callbackNode;s0(e,n);var a=as(e,e===ot?dt:0);if(a===0)i!==null&&Bd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&Bd(i),n===1)e.tag===0?ov(bh.bind(null,e)):Ff(bh.bind(null,e)),tv(function(){(we&6)===0&&qn()}),i=null;else{switch(zd(a)){case 1:i=gl;break;case 4:i=Hd;break;case 16:i=rs;break;case 536870912:i=xd;break;default:i=rs}i=ip(i,Qh.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Qh(e,n){if(Zs=-1,qs=0,(we&6)!==0)throw Error(o(327));var i=e.callbackNode;if(vi()&&e.callbackNode!==i)return null;var a=as(e,e===ot?dt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=Js(e,a);else{n=a;var d=we;we|=2;var f=qh();(ot!==e||dt!==n)&&(Un=null,mi=Ke()+500,kr(e,n));do try{Cv();break}catch(A){Zh(e,A)}while(!0);eu(),Vs.current=f,we=d,Ze!==null?n=0:(ot=null,dt=0,n=nt)}if(n!==0){if(n===2&&(d=ml(e),d!==0&&(a=d,n=Bu(e,d))),n===1)throw i=Eo,kr(e,0),or(e,a),Ot(e,Ke()),i;if(n===6)or(e,a);else{if(d=e.current.alternate,(a&30)===0&&!Tv(d)&&(n=Js(e,a),n===2&&(f=ml(e),f!==0&&(a=f,n=Bu(e,f))),n===1))throw i=Eo,kr(e,0),or(e,a),Ot(e,Ke()),i;switch(e.finishedWork=d,e.finishedLanes=a,n){case 0:case 1:throw Error(o(345));case 2:Dr(e,Pt,Un);break;case 3:if(or(e,a),(a&130023424)===a&&(n=Mu+500-Ke(),10<n)){if(as(e,0)!==0)break;if(d=e.suspendedLanes,(d&a)!==a){_t(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=$l(Dr.bind(null,e,Pt,Un),n);break}Dr(e,Pt,Un);break;case 4:if(or(e,a),(a&4194240)===a)break;for(n=e.eventTimes,d=-1;0<a;){var g=31-nn(a);f=1<<g,g=n[g],g>d&&(d=g),a&=~f}if(a=d,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ev(a/1960))-a,10<a){e.timeoutHandle=$l(Dr.bind(null,e,Pt,Un),a);break}Dr(e,Pt,Un);break;case 5:Dr(e,Pt,Un);break;default:throw Error(o(329))}}}return Ot(e,Ke()),e.callbackNode===i?Qh.bind(null,e):null}function Bu(e,n){var i=To;return e.current.memoizedState.isDehydrated&&(kr(e,n).flags|=256),e=Js(e,n),e!==2&&(n=Pt,Pt=i,n!==null&&Hu(n)),e}function Hu(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function Tv(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var d=i[a],f=d.getSnapshot;d=d.value;try{if(!rn(f(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(e,n){for(n&=~Uu,n&=~Ks,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-nn(n),a=1<<i;e[i]=-1,n&=~a}}function bh(e){if((we&6)!==0)throw Error(o(327));vi();var n=as(e,0);if((n&1)===0)return Ot(e,Ke()),null;var i=Js(e,n);if(e.tag!==0&&i===2){var a=ml(e);a!==0&&(n=a,i=Bu(e,a))}if(i===1)throw i=Eo,kr(e,0),or(e,n),Ot(e,Ke()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Dr(e,Pt,Un),Ot(e,Ke()),null}function xu(e,n){var i=we;we|=1;try{return e(n)}finally{we=i,we===0&&(mi=Ke()+500,Cs&&qn())}}function Or(e){rr!==null&&rr.tag===0&&(we&6)===0&&vi();var n=we;we|=1;var i=Kt.transition,a=Ue;try{if(Kt.transition=null,Ue=1,e)return e()}finally{Ue=a,Kt.transition=i,we=n,(we&6)===0&&qn()}}function Gu(){Bt=gi.current,xe(gi)}function kr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ev(i)),Ze!==null)for(i=Ze.return;i!==null;){var a=i;switch(Ql(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ts();break;case 3:fi(),xe(Ct),xe(ht),lu();break;case 5:su(a);break;case 4:fi();break;case 13:xe($e);break;case 19:xe($e);break;case 10:tu(a.type._context);break;case 22:case 23:Gu()}i=i.return}if(ot=e,Ze=e=sr(e.current,null),dt=Bt=n,nt=0,Eo=null,Uu=Ks=Pr=0,Pt=To=null,Cr!==null){for(n=0;n<Cr.length;n++)if(i=Cr[n],a=i.interleaved,a!==null){i.interleaved=null;var d=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,a.next=g}i.pending=a}Cr=null}return e}function Zh(e,n){do{var i=Ze;try{if(eu(),Ls.current=Gs,Bs){for(var a=je.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Bs=!1}if(Nr=0,it=tt=je=null,vo=!1,yo=0,Du.current=null,i===null||i.return===null){nt=1,Eo=n,Ze=null;break}e:{var f=e,g=i.return,A=i,S=n;if(n=dt,A.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,M=A,L=M.tag;if((M.mode&1)===0&&(L===0||L===11||L===15)){var U=M.alternate;U?(M.updateQueue=U.updateQueue,M.memoizedState=U.memoizedState,M.lanes=U.lanes):(M.updateQueue=null,M.memoizedState=null)}var Y=_h(g);if(Y!==null){Y.flags&=-257,Eh(Y,g,A,f,n),Y.mode&1&&Ih(f,P,n),n=Y,S=P;var Q=n.updateQueue;if(Q===null){var b=new Set;b.add(S),n.updateQueue=b}else Q.add(S);break e}else{if((n&1)===0){Ih(f,P,n),zu();break e}S=Error(o(426))}}else if(ze&&A.mode&1){var Xe=_h(g);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Eh(Xe,g,A,f,n),ql(hi(S,A));break e}}f=S=hi(S,A),nt!==4&&(nt=2),To===null?To=[f]:To.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var C=Ah(f,S,n);Vf(f,C);break e;case 1:A=S;var _=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(nr===null||!nr.has(R)))){f.flags|=65536,n&=-n,f.lanes|=n;var H=Sh(f,A,n);Vf(f,H);break e}}f=f.return}while(f!==null)}ep(i)}catch(Z){n=Z,Ze===i&&i!==null&&(Ze=i=i.return);continue}break}while(!0)}function qh(){var e=Vs.current;return Vs.current=Gs,e===null?Gs:e}function zu(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||(Pr&268435455)===0&&(Ks&268435455)===0||or(ot,dt)}function Js(e,n){var i=we;we|=2;var a=qh();(ot!==e||dt!==n)&&(Un=null,kr(e,n));do try{wv();break}catch(d){Zh(e,d)}while(!0);if(eu(),we=i,Vs.current=a,Ze!==null)throw Error(o(261));return ot=null,dt=0,nt}function wv(){for(;Ze!==null;)Jh(Ze)}function Cv(){for(;Ze!==null&&!Zm();)Jh(Ze)}function Jh(e){var n=rp(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,n===null?ep(e):Ze=n,Du.current=null}function ep(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=yv(i,n,Bt),i!==null){Ze=i;return}}else{if(i=Av(i,n),i!==null){i.flags&=32767,Ze=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Ze=null;return}}if(n=n.sibling,n!==null){Ze=n;return}Ze=n=e}while(n!==null);nt===0&&(nt=5)}function Dr(e,n,i){var a=Ue,d=Kt.transition;try{Kt.transition=null,Ue=1,Rv(e,n,i,a)}finally{Kt.transition=d,Ue=a}return null}function Rv(e,n,i,a){do vi();while(rr!==null);if((we&6)!==0)throw Error(o(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(a0(e,f),e===ot&&(Ze=ot=null,dt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Qs||(Qs=!0,ip(rs,function(){return vi(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Kt.transition,Kt.transition=null;var g=Ue;Ue=1;var A=we;we|=4,Du.current=null,Iv(e,i),jh(i,e),K0(zl),cs=!!Gl,zl=Gl=null,e.current=i,_v(i),qm(),we=A,Ue=g,Kt.transition=f}else e.current=i;if(Qs&&(Qs=!1,rr=e,bs=d),f=e.pendingLanes,f===0&&(nr=null),t0(i.stateNode),Ot(e,Ke()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)d=n[i],a(d.value,{componentStack:d.stack,digest:d.digest});if(Xs)throw Xs=!1,e=Fu,Fu=null,e;return(bs&1)!==0&&e.tag!==0&&vi(),f=e.pendingLanes,(f&1)!==0?e===Lu?wo++:(wo=0,Lu=e):wo=0,qn(),null}function vi(){if(rr!==null){var e=zd(bs),n=Kt.transition,i=Ue;try{if(Kt.transition=null,Ue=16>e?16:e,rr===null)var a=!1;else{if(e=rr,rr=null,bs=0,(we&6)!==0)throw Error(o(331));var d=we;for(we|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var A=f.deletions;if(A!==null){for(var S=0;S<A.length;S++){var P=A[S];for(K=P;K!==null;){var M=K;switch(M.tag){case 0:case 11:case 15:_o(8,M,f)}var L=M.child;if(L!==null)L.return=M,K=L;else for(;K!==null;){M=K;var U=M.sibling,Y=M.return;if(xh(M),M===P){K=null;break}if(U!==null){U.return=Y,K=U;break}K=Y}}}var Q=f.alternate;if(Q!==null){var b=Q.child;if(b!==null){Q.child=null;do{var Xe=b.sibling;b.sibling=null,b=Xe}while(b!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:_o(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,K=C;break e}K=f.return}}var _=e.current;for(K=_;K!==null;){g=K;var R=g.child;if((g.subtreeFlags&2064)!==0&&R!==null)R.return=g,K=R;else e:for(g=_;K!==null;){if(A=K,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ys(9,A)}}catch(Z){Ye(A,A.return,Z)}if(A===g){K=null;break e}var H=A.sibling;if(H!==null){H.return=A.return,K=H;break e}K=A.return}}if(we=d,qn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(is,e)}catch{}a=!0}return a}finally{Ue=i,Kt.transition=n}}return!1}function tp(e,n,i){n=hi(i,n),n=Ah(e,n,1),e=er(e,n,1),n=_t(),e!==null&&(Xi(e,1,n),Ot(e,n))}function Ye(e,n,i){if(e.tag===3)tp(e,e,i);else for(;n!==null;){if(n.tag===3){tp(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(nr===null||!nr.has(a))){e=hi(i,e),e=Sh(n,e,1),n=er(n,e,1),e=_t(),n!==null&&(Xi(n,1,e),Ot(n,e));break}}n=n.return}}function Nv(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=_t(),e.pingedLanes|=e.suspendedLanes&i,ot===e&&(dt&i)===i&&(nt===4||nt===3&&(dt&130023424)===dt&&500>Ke()-Mu?kr(e,0):Uu|=i),Ot(e,n)}function np(e,n){n===0&&((e.mode&1)===0?n=1:(n=ss,ss<<=1,(ss&130023424)===0&&(ss=4194304)));var i=_t();e=On(e,n),e!==null&&(Xi(e,n,i),Ot(e,i))}function Pv(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),np(e,i)}function Ov(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(n),np(e,i)}var rp;rp=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ct.current)Nt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Nt=!1,vv(e,n,i);Nt=(e.flags&131072)!==0}else Nt=!1,ze&&(n.flags&1048576)!==0&&Lf(n,Ns,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;$s(e,n),e=n.pendingProps;var d=oi(n,ht.current);di(n,i),d=du(null,n,a,e,d,i);var f=fu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Rt(a)?(f=!0,ws(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,iu(n),d.updater=zs,n.stateNode=d,d._reactInternals=n,yu(n,a,e,i),n=_u(null,n,a,!0,f,i)):(n.tag=0,ze&&f&&Xl(n),It(null,n,d,i),n=n.child),n;case 16:a=n.elementType;e:{switch($s(e,n),e=n.pendingProps,d=a._init,a=d(a._payload),n.type=a,d=n.tag=Dv(a),e=sn(a,e),d){case 0:n=Iu(null,n,a,e,i);break e;case 1:n=Ph(null,n,a,e,i);break e;case 11:n=Th(null,n,a,e,i);break e;case 14:n=wh(null,n,a,sn(a.type,e),i);break e}throw Error(o(306,a,""))}return n;case 0:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:sn(a,d),Iu(e,n,a,d,i);case 1:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:sn(a,d),Ph(e,n,a,d,i);case 3:e:{if(Oh(n),e===null)throw Error(o(387));a=n.pendingProps,f=n.memoizedState,d=f.element,Yf(e,n),Ms(n,a,null,i);var g=n.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=hi(Error(o(423)),n),n=kh(e,n,a,i,d);break e}else if(a!==d){d=hi(Error(o(424)),n),n=kh(e,n,a,i,d);break e}else for(Lt=Qn(n.stateNode.containerInfo.firstChild),Ft=n,ze=!0,on=null,i=$f(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(li(),a===d){n=Dn(e,n,i);break e}It(e,n,a,i)}n=n.child}return n;case 5:return Xf(n),e===null&&Zl(n),a=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,Wl(a,d)?g=null:f!==null&&Wl(a,f)&&(n.flags|=32),Nh(e,n),It(e,n,g,i),n.child;case 6:return e===null&&Zl(n),null;case 13:return Dh(e,n,i);case 4:return ou(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=ui(n,null,a,i):It(e,n,a,i),n.child;case 11:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:sn(a,d),Th(e,n,a,d,i);case 7:return It(e,n,n.pendingProps,i),n.child;case 8:return It(e,n,n.pendingProps.children,i),n.child;case 12:return It(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,d=n.pendingProps,f=n.memoizedProps,g=d.value,Le(ks,a._currentValue),a._currentValue=g,f!==null)if(rn(f.value,g)){if(f.children===d.children&&!Ct.current){n=Dn(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var A=f.dependencies;if(A!==null){g=f.child;for(var S=A.firstContext;S!==null;){if(S.context===a){if(f.tag===1){S=kn(-1,i&-i),S.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var M=P.pending;M===null?S.next=S:(S.next=M.next,M.next=S),P.pending=S}}f.lanes|=i,S=f.alternate,S!==null&&(S.lanes|=i),nu(f.return,i,n),A.lanes|=i;break}S=S.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=i,A=g.alternate,A!==null&&(A.lanes|=i),nu(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}It(e,n,d.children,i),n=n.child}return n;case 9:return d=n.type,a=n.pendingProps.children,di(n,i),d=Yt(d),a=a(d),n.flags|=1,It(e,n,a,i),n.child;case 14:return a=n.type,d=sn(a,n.pendingProps),d=sn(a.type,d),wh(e,n,a,d,i);case 15:return Ch(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,d=n.pendingProps,d=n.elementType===a?d:sn(a,d),$s(e,n),n.tag=1,Rt(a)?(e=!0,ws(n)):e=!1,di(n,i),vh(n,a,d),yu(n,a,d,i),_u(null,n,a,!0,e,i);case 19:return Mh(e,n,i);case 22:return Rh(e,n,i)}throw Error(o(156,n.tag))};function ip(e,n){return Ld(e,n)}function kv(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,i,a){return new kv(e,n,i,a)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dv(e){if(typeof e=="function")return Wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===Ce)return 14}return 2}function sr(e,n){var i=e.alternate;return i===null?(i=Xt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ea(e,n,i,a,d,f){var g=2;if(a=e,typeof e=="function")Wu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case j:return Ur(i.children,d,f,n);case Se:g=8,d|=8;break;case Oe:return e=Xt(12,i,n,d|2),e.elementType=Oe,e.lanes=f,e;case Fe:return e=Xt(13,i,n,d),e.elementType=Fe,e.lanes=f,e;case ve:return e=Xt(19,i,n,d),e.elementType=ve,e.lanes=f,e;case ie:return ta(i,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ve:g=10;break e;case et:g=9;break e;case Be:g=11;break e;case Ce:g=14;break e;case pe:g=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Xt(g,i,n,d),n.elementType=e,n.type=a,n.lanes=f,n}function Ur(e,n,i,a){return e=Xt(7,e,a,n),e.lanes=i,e}function ta(e,n,i,a){return e=Xt(22,e,a,n),e.elementType=ie,e.lanes=i,e.stateNode={isHidden:!1},e}function $u(e,n,i){return e=Xt(6,e,null,n),e.lanes=i,e}function ju(e,n,i){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Uv(e,n,i,a,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Yu(e,n,i,a,d,f,g,A,S){return e=new Uv(e,n,i,A,S),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Xt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},iu(f),e}function Mv(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function op(e){if(!e)return Zn;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Rt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Rt(i))return Uf(e,i,n)}return n}function sp(e,n,i,a,d,f,g,A,S){return e=Yu(i,a,!0,e,d,f,g,A,S),e.context=op(null),i=e.current,a=_t(),d=ir(i),f=kn(a,d),f.callback=n??null,er(i,f,d),e.current.lanes=d,Xi(e,d,a),Ot(e,a),e}function na(e,n,i,a){var d=n.current,f=_t(),g=ir(d);return i=op(i),n.context===null?n.context=i:n.pendingContext=i,n=kn(f,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=er(d,n,g),e!==null&&(un(e,d,g,f),Us(e,d,g)),g}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ap(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Vu(e,n){ap(e,n),(e=e.alternate)&&ap(e,n)}function Fv(){return null}var lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}ia.prototype.render=Ku.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));na(e,n,null,null)},ia.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Or(function(){na(null,e,null,null)}),n[Cn]=null}};function ia(e){this._internalRoot=e}ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=jd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&Kd(e)}};function Xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function up(){}function Lv(e,n,i,a,d){if(d){if(typeof a=="function"){var f=a;a=function(){var P=ra(g);f.call(P)}}var g=sp(n,a,e,0,null,!1,!1,"",up);return e._reactRootContainer=g,e[Cn]=g.current,lo(e.nodeType===8?e.parentNode:e),Or(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof a=="function"){var A=a;a=function(){var P=ra(S);A.call(P)}}var S=Yu(e,0,!1,null,null,!1,!1,"",up);return e._reactRootContainer=S,e[Cn]=S.current,lo(e.nodeType===8?e.parentNode:e),Or(function(){na(n,S,i,a)}),S}function sa(e,n,i,a,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var A=d;d=function(){var S=ra(g);A.call(S)}}na(n,g,e,d)}else g=Lv(i,n,e,d,a);return ra(g)}Wd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ki(n.pendingLanes);i!==0&&(yl(n,i|1),Ot(n,Ke()),(we&6)===0&&(mi=Ke()+500,qn()))}break;case 13:Or(function(){var a=On(e,1);if(a!==null){var d=_t();un(a,e,1,d)}}),Vu(e,1)}},Al=function(e){if(e.tag===13){var n=On(e,134217728);if(n!==null){var i=_t();un(n,e,134217728,i)}Vu(e,134217728)}},$d=function(e){if(e.tag===13){var n=ir(e),i=On(e,n);if(i!==null){var a=_t();un(i,e,n,a)}Vu(e,n)}},jd=function(){return Ue},Yd=function(e,n){var i=Ue;try{return Ue=e,n()}finally{Ue=i}},dl=function(e,n,i){switch(n){case"input":if(wn(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var d=Es(a);if(!d)throw Error(o(90));ue(a),wn(a,d)}}}break;case"textarea":Sd(e,i);break;case"select":n=i.value,n!=null&&Wn(e,!!i.multiple,n,!1)}},Pd=xu,Od=Or;var Bv={usingClientEntryPoint:!1,Events:[fo,ri,Es,Rd,Nd,xu]},Co={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hv={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Md(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{is=aa.inject(Hv),hn=aa}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv,kt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(n))throw Error(o(200));return Mv(e,n,null,i)},kt.createRoot=function(e,n){if(!Xu(e))throw Error(o(299));var i=!1,a="",d=lp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Yu(e,1,!1,null,null,i,!1,a,d),e[Cn]=n.current,lo(e.nodeType===8?e.parentNode:e),new Ku(n)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Md(n),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Or(e)},kt.hydrate=function(e,n,i){if(!oa(n))throw Error(o(200));return sa(null,e,n,!0,i)},kt.hydrateRoot=function(e,n,i){if(!Xu(e))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,d=!1,f="",g=lp;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=sp(n,null,e,1,i??null,d,!1,f,g),e[Cn]=n.current,lo(e),a)for(e=0;e<a.length;e++)i=a[e],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new ia(n)},kt.render=function(e,n,i){if(!oa(n))throw Error(o(200));return sa(null,e,n,!1,i)},kt.unmountComponentAtNode=function(e){if(!oa(e))throw Error(o(40));return e._reactRootContainer?(Or(function(){sa(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1},kt.unstable_batchedUpdates=xu,kt.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!oa(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return sa(e,n,i,!1,a)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var vp;function Xv(){if(vp)return Zu.exports;vp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Zu.exports=Kv(),Zu.exports}var yp;function Qv(){if(yp)return la;yp=1;var t=Xv();return la.createRoot=t.createRoot,la.hydrateRoot=t.hydrateRoot,la}var bv=Qv();const Zv=Og(bv),kg=Ae.createContext(void 0),qv=({initialAppState:t,children:r})=>{const[o,s]=Ae.useState(t),[u,l]=Ae.useState(void 0),c=(h,p)=>{s(h),h==="gameOver"&&p?l(p):h!=="gameOver"&&l(void 0)};return Ee.jsx(kg.Provider,{value:{appState:o,setAppState:c,gameOverDetails:u},children:r})},Ya=()=>{const t=Ae.useContext(kg);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var yt=function(){return yt=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},yt.apply(this,arguments)};function zo(t,r,o){if(o||arguments.length===2)for(var s=0,u=r.length,l;s<u;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return t.concat(l||Array.prototype.slice.call(r))}var Ge="-ms-",Lo="-moz-",ke="-webkit-",Dg="comm",Va="rule",Wc="decl",Jv="@import",Ug="@keyframes",ey="@layer",Mg=Math.abs,$c=String.fromCharCode,Tc=Object.assign;function ty(t,r){return at(t,0)^45?(((r<<2^at(t,0))<<2^at(t,1))<<2^at(t,2))<<2^at(t,3):0}function Fg(t){return t.trim()}function Bn(t,r){return(t=r.exec(t))?t[0]:t}function me(t,r,o){return t.replace(r,o)}function Oa(t,r,o){return t.indexOf(r,o)}function at(t,r){return t.charCodeAt(r)|0}function Oi(t,r,o){return t.slice(r,o)}function Sn(t){return t.length}function Lg(t){return t.length}function Uo(t,r){return r.push(t),t}function ny(t,r){return t.map(r).join("")}function Ap(t,r){return t.filter(function(o){return!Bn(o,r)})}var Ka=1,ki=1,Bg=0,en=0,qe=0,Gi="";function Xa(t,r,o,s,u,l,c,h){return{value:t,root:r,parent:o,type:s,props:u,children:l,line:Ka,column:ki,length:c,return:"",siblings:h}}function fr(t,r){return Tc(Xa("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function yi(t){for(;t.root;)t=fr(t.root,{children:[t]});Uo(t,t.siblings)}function ry(){return qe}function iy(){return qe=en>0?at(Gi,--en):0,ki--,qe===10&&(ki=1,Ka--),qe}function dn(){return qe=en<Bg?at(Gi,en++):0,ki++,qe===10&&(ki=1,Ka++),qe}function $r(){return at(Gi,en)}function ka(){return en}function Qa(t,r){return Oi(Gi,t,r)}function wc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oy(t){return Ka=ki=1,Bg=Sn(Gi=t),en=0,[]}function sy(t){return Gi="",t}function ec(t){return Fg(Qa(en-1,Cc(t===91?t+2:t===40?t+1:t)))}function ay(t){for(;(qe=$r())&&qe<33;)dn();return wc(t)>2||wc(qe)>3?"":" "}function ly(t,r){for(;--r&&dn()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return Qa(t,ka()+(r<6&&$r()==32&&dn()==32))}function Cc(t){for(;dn();)switch(qe){case t:return en;case 34:case 39:t!==34&&t!==39&&Cc(qe);break;case 40:t===41&&Cc(t);break;case 92:dn();break}return en}function uy(t,r){for(;dn()&&t+qe!==57;)if(t+qe===84&&$r()===47)break;return"/*"+Qa(r,en-1)+"*"+$c(t===47?t:dn())}function cy(t){for(;!wc($r());)dn();return Qa(t,en)}function dy(t){return sy(Da("",null,null,null,[""],t=oy(t),0,[0],t))}function Da(t,r,o,s,u,l,c,h,p){for(var v=0,m=0,y=c,I=0,T=0,k=0,O=1,w=1,G=1,B=0,$="",W=u,le=l,F=s,j=$;w;)switch(k=B,B=dn()){case 40:if(k!=108&&at(j,y-1)==58){Oa(j+=me(ec(B),"&","&\f"),"&\f",Mg(v?h[v-1]:0))!=-1&&(G=-1);break}case 34:case 39:case 91:j+=ec(B);break;case 9:case 10:case 13:case 32:j+=ay(k);break;case 92:j+=ly(ka()-1,7);continue;case 47:switch($r()){case 42:case 47:Uo(fy(uy(dn(),ka()),r,o,p),p);break;default:j+="/"}break;case 123*O:h[v++]=Sn(j)*G;case 125*O:case 59:case 0:switch(B){case 0:case 125:w=0;case 59+m:G==-1&&(j=me(j,/\f/g,"")),T>0&&Sn(j)-y&&Uo(T>32?Ip(j+";",s,o,y-1,p):Ip(me(j," ","")+";",s,o,y-2,p),p);break;case 59:j+=";";default:if(Uo(F=Sp(j,r,o,v,m,u,h,$,W=[],le=[],y,l),l),B===123)if(m===0)Da(j,r,F,F,W,l,y,h,le);else switch(I===99&&at(j,3)===110?100:I){case 100:case 108:case 109:case 115:Da(t,F,F,s&&Uo(Sp(t,F,F,0,0,u,h,$,u,W=[],y,le),le),u,le,y,h,s?W:le);break;default:Da(j,F,F,F,[""],le,0,h,le)}}v=m=T=0,O=G=1,$=j="",y=c;break;case 58:y=1+Sn(j),T=k;default:if(O<1){if(B==123)--O;else if(B==125&&O++==0&&iy()==125)continue}switch(j+=$c(B),B*O){case 38:G=m>0?1:(j+="\f",-1);break;case 44:h[v++]=(Sn(j)-1)*G,G=1;break;case 64:$r()===45&&(j+=ec(dn())),I=$r(),m=y=Sn($=j+=cy(ka())),B++;break;case 45:k===45&&Sn(j)==2&&(O=0)}}return l}function Sp(t,r,o,s,u,l,c,h,p,v,m,y){for(var I=u-1,T=u===0?l:[""],k=Lg(T),O=0,w=0,G=0;O<s;++O)for(var B=0,$=Oi(t,I+1,I=Mg(w=c[O])),W=t;B<k;++B)(W=Fg(w>0?T[B]+" "+$:me($,/&\f/g,T[B])))&&(p[G++]=W);return Xa(t,r,o,u===0?Va:h,p,v,m,y)}function fy(t,r,o,s){return Xa(t,r,o,Dg,$c(ry()),Oi(t,2,-2),0,s)}function Ip(t,r,o,s,u){return Xa(t,r,o,Wc,Oi(t,0,s),Oi(t,s+1,-1),s,u)}function Hg(t,r,o){switch(ty(t,r)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 4789:return Lo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Lo+t+Ge+t+t;case 5936:switch(at(t,r+11)){case 114:return ke+t+Ge+me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Ge+me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Ge+me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ke+t+Ge+t+t;case 6165:return ke+t+Ge+"flex-"+t+t;case 5187:return ke+t+me(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Ge+"flex-$1$2")+t;case 5443:return ke+t+Ge+"flex-item-"+me(t,/flex-|-self/g,"")+(Bn(t,/flex-|baseline/)?"":Ge+"grid-row-"+me(t,/flex-|-self/g,""))+t;case 4675:return ke+t+Ge+"flex-line-pack"+me(t,/align-content|flex-|-self/g,"")+t;case 5548:return ke+t+Ge+me(t,"shrink","negative")+t;case 5292:return ke+t+Ge+me(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+me(t,"-grow","")+ke+t+Ge+me(t,"grow","positive")+t;case 4554:return ke+me(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return me(me(me(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return me(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return me(me(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4200:if(!Bn(t,/flex-|baseline/))return Ge+"grid-column-align"+Oi(t,r)+t;break;case 2592:case 3360:return Ge+me(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(s,u){return r=u,Bn(s.props,/grid-\w+-end/)})?~Oa(t+(o=o[r].value),"span",0)?t:Ge+me(t,"-start","")+t+Ge+"grid-row-span:"+(~Oa(o,"span",0)?Bn(o,/\d+/):+Bn(o,/\d+/)-+Bn(t,/\d+/))+";":Ge+me(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(s){return Bn(s.props,/grid-\w+-start/)})?t:Ge+me(me(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return me(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sn(t)-1-r>6)switch(at(t,r+1)){case 109:if(at(t,r+4)!==45)break;case 102:return me(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Lo+(at(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Oa(t,"stretch",0)?Hg(me(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return me(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,u,l,c,h,p,v){return Ge+u+":"+l+v+(c?Ge+u+"-span:"+(h?p:+p-+l)+v:"")+t});case 4949:if(at(t,r+6)===121)return me(t,":",":"+ke)+t;break;case 6444:switch(at(t,at(t,14)===45?18:11)){case 120:return me(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ke+(at(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Ge+"$2box$3")+t;case 100:return me(t,":",":"+Ge)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return me(t,"scroll-","scroll-snap-")+t}return t}function Ba(t,r){for(var o="",s=0;s<t.length;s++)o+=r(t[s],s,t,r)||"";return o}function hy(t,r,o,s){switch(t.type){case ey:if(t.children.length)break;case Jv:case Wc:return t.return=t.return||t.value;case Dg:return"";case Ug:return t.return=t.value+"{"+Ba(t.children,s)+"}";case Va:if(!Sn(t.value=t.props.join(",")))return""}return Sn(o=Ba(t.children,s))?t.return=t.value+"{"+o+"}":""}function py(t){var r=Lg(t);return function(o,s,u,l){for(var c="",h=0;h<r;h++)c+=t[h](o,s,u,l)||"";return c}}function gy(t){return function(r){r.root||(r=r.return)&&t(r)}}function my(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case Wc:t.return=Hg(t.value,t.length,o);return;case Ug:return Ba([fr(t,{value:me(t.value,"@","@"+ke)})],s);case Va:if(t.length)return ny(o=t.props,function(u){switch(Bn(u,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":yi(fr(t,{props:[me(u,/:(read-\w+)/,":"+Lo+"$1")]})),yi(fr(t,{props:[u]})),Tc(t,{props:Ap(o,s)});break;case"::placeholder":yi(fr(t,{props:[me(u,/:(plac\w+)/,":"+ke+"input-$1")]})),yi(fr(t,{props:[me(u,/:(plac\w+)/,":"+Lo+"$1")]})),yi(fr(t,{props:[me(u,/:(plac\w+)/,Ge+"input-$1")]})),yi(fr(t,{props:[u]})),Tc(t,{props:Ap(o,s)});break}return""})}}var vy={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xt={},Di=typeof process<"u"&&xt!==void 0&&(xt.REACT_APP_SC_ATTR||xt.SC_ATTR)||"data-styled",xg="active",Gg="data-styled-version",ba="6.1.13",jc=`/*!sc*/
`,Ha=typeof window<"u"&&"HTMLElement"in window,yy=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xt!==void 0&&xt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xt.REACT_APP_SC_DISABLE_SPEEDY!==""?xt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xt!==void 0&&xt.SC_DISABLE_SPEEDY!==void 0&&xt.SC_DISABLE_SPEEDY!==""&&xt.SC_DISABLE_SPEEDY!=="false"&&xt.SC_DISABLE_SPEEDY),Ay={},Za=Object.freeze([]),Ui=Object.freeze({});function zg(t,r,o){return o===void 0&&(o=Ui),t.theme!==o.theme&&t.theme||r||o.theme}var Wg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Sy=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Iy=/(^-|-$)/g;function _p(t){return t.replace(Sy,"-").replace(Iy,"")}var _y=/(a)(d)/gi,ua=52,Ep=function(t){return String.fromCharCode(t+(t>25?39:97))};function Rc(t){var r,o="";for(r=Math.abs(t);r>ua;r=r/ua|0)o=Ep(r%ua)+o;return(Ep(r%ua)+o).replace(_y,"$1-$2")}var tc,$g=5381,wi=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},jg=function(t){return wi($g,t)};function Yg(t){return Rc(jg(t)>>>0)}function Ey(t){return t.displayName||t.name||"Component"}function nc(t){return typeof t=="string"&&!0}var Vg=typeof Symbol=="function"&&Symbol.for,Kg=Vg?Symbol.for("react.memo"):60115,Ty=Vg?Symbol.for("react.forward_ref"):60112,wy={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Cy={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Xg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ry=((tc={})[Ty]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tc[Kg]=Xg,tc);function Tp(t){return("type"in(r=t)&&r.type.$$typeof)===Kg?Xg:"$$typeof"in t?Ry[t.$$typeof]:wy;var r}var Ny=Object.defineProperty,Py=Object.getOwnPropertyNames,wp=Object.getOwnPropertySymbols,Oy=Object.getOwnPropertyDescriptor,ky=Object.getPrototypeOf,Cp=Object.prototype;function Qg(t,r,o){if(typeof r!="string"){if(Cp){var s=ky(r);s&&s!==Cp&&Qg(t,s,o)}var u=Py(r);wp&&(u=u.concat(wp(r)));for(var l=Tp(t),c=Tp(r),h=0;h<u.length;++h){var p=u[h];if(!(p in Cy||o&&o[p]||c&&p in c||l&&p in l)){var v=Oy(r,p);try{Ny(t,p,v)}catch{}}}}return t}function Mi(t){return typeof t=="function"}function Yc(t){return typeof t=="object"&&"styledComponentId"in t}function Gr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Nc(t,r){if(t.length===0)return"";for(var o=t[0],s=1;s<t.length;s++)o+=t[s];return o}function Wo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Pc(t,r,o){if(o===void 0&&(o=!1),!o&&!Wo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)t[s]=Pc(t[s],r[s]);else if(Wo(r))for(var s in r)t[s]=Pc(t[s],r[s]);return t}function Vc(t,r){Object.defineProperty(t,"toString",{value:r})}function Jo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Dy=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,u=s.length,l=u;r>=l;)if((l<<=1)<0)throw Jo(16,"".concat(r));this.groupSizes=new Uint32Array(l),this.groupSizes.set(s),this.length=l;for(var c=u;c<l;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(r+1),p=(c=0,o.length);c<p;c++)this.tag.insertRule(h,o[c])&&(this.groupSizes[r]++,h++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),u=s+o;this.groupSizes[r]=0;for(var l=s;l<u;l++)this.tag.deleteRule(s)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],u=this.indexOfGroup(r),l=u+s,c=u;c<l;c++)o+="".concat(this.tag.getRule(c)).concat(jc);return o},t}(),Ua=new Map,xa=new Map,Ma=1,ca=function(t){if(Ua.has(t))return Ua.get(t);for(;xa.has(Ma);)Ma++;var r=Ma++;return Ua.set(t,r),xa.set(r,t),r},Uy=function(t,r){Ma=r+1,Ua.set(t,r),xa.set(r,t)},My="style[".concat(Di,"][").concat(Gg,'="').concat(ba,'"]'),Fy=new RegExp("^".concat(Di,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ly=function(t,r,o){for(var s,u=o.split(","),l=0,c=u.length;l<c;l++)(s=u[l])&&t.registerName(r,s)},By=function(t,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(jc),u=[],l=0,c=s.length;l<c;l++){var h=s[l].trim();if(h){var p=h.match(Fy);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(Uy(m,v),Ly(t,m,p[3]),t.getTag().insertRules(v,u)),u.length=0}else u.push(h)}}},Rp=function(t){for(var r=document.querySelectorAll(My),o=0,s=r.length;o<s;o++){var u=r[o];u&&u.getAttribute(Di)!==xg&&(By(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function Hy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var bg=function(t){var r=document.head,o=t||r,s=document.createElement("style"),u=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Di,"]")));return p[p.length-1]}(o),l=u!==void 0?u.nextSibling:null;s.setAttribute(Di,xg),s.setAttribute(Gg,ba);var c=Hy();return c&&s.setAttribute("nonce",c),o.insertBefore(s,l),s},xy=function(){function t(r){this.element=bg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,u=0,l=s.length;u<l;u++){var c=s[u];if(c.ownerNode===o)return c}throw Jo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),Gy=function(){function t(r){this.element=bg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),zy=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),Np=Ha,Wy={isServer:!Ha,useCSSOMInjection:!yy},Ga=function(){function t(r,o,s){r===void 0&&(r=Ui),o===void 0&&(o={});var u=this;this.options=yt(yt({},Wy),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&Ha&&Np&&(Np=!1,Rp(this)),Vc(this,function(){return function(l){for(var c=l.getTag(),h=c.length,p="",v=function(y){var I=function(G){return xa.get(G)}(y);if(I===void 0)return"continue";var T=l.names.get(I),k=c.getGroup(y);if(T===void 0||!T.size||k.length===0)return"continue";var O="".concat(Di,".g").concat(y,'[id="').concat(I,'"]'),w="";T!==void 0&&T.forEach(function(G){G.length>0&&(w+="".concat(G,","))}),p+="".concat(k).concat(O,'{content:"').concat(w,'"}').concat(jc)},m=0;m<h;m++)v(m);return p}(u)})}return t.registerId=function(r){return ca(r)},t.prototype.rehydrate=function(){!this.server&&Ha&&Rp(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(yt(yt({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,u=o.target;return o.isServer?new zy(u):s?new xy(u):new Gy(u)}(this.options),new Dy(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(ca(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},t.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(ca(r),s)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(ca(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),$y=/&/g,jy=/^\s*\/\/.*$/gm;function Zg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Zg(o.children,r)),o})}function Yy(t){var r,o,s,u=Ui,l=u.options,c=l===void 0?Ui:l,h=u.plugins,p=h===void 0?Za:h,v=function(I,T,k){return k.startsWith(o)&&k.endsWith(o)&&k.replaceAll(o,"").length>0?".".concat(r):I},m=p.slice();m.push(function(I){I.type===Va&&I.value.includes("&")&&(I.props[0]=I.props[0].replace($y,o).replace(s,v))}),c.prefix&&m.push(my),m.push(hy);var y=function(I,T,k,O){T===void 0&&(T=""),k===void 0&&(k=""),O===void 0&&(O="&"),r=O,o=T,s=new RegExp("\\".concat(o,"\\b"),"g");var w=I.replace(jy,""),G=dy(k||T?"".concat(k," ").concat(T," { ").concat(w," }"):w);c.namespace&&(G=Zg(G,c.namespace));var B=[];return Ba(G,py(m.concat(gy(function($){return B.push($)})))),B};return y.hash=p.length?p.reduce(function(I,T){return T.name||Jo(15),wi(I,T.name)},$g).toString():"",y}var Vy=new Ga,Oc=Yy(),qg=In.createContext({shouldForwardProp:void 0,styleSheet:Vy,stylis:Oc});qg.Consumer;In.createContext(void 0);function kc(){return Ae.useContext(qg)}var Ky=function(){function t(r,o){var s=this;this.inject=function(u,l){l===void 0&&(l=Oc);var c=s.name+l.hash;u.hasNameForId(s.id,c)||u.insertRules(s.id,c,l(s.rules,c,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Vc(this,function(){throw Jo(12,String(s.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=Oc),this.name+r.hash},t}(),Xy=function(t){return t>="A"&&t<="Z"};function Pp(t){for(var r="",o=0;o<t.length;o++){var s=t[o];if(o===1&&s==="-"&&t[0]==="-")return t;Xy(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var Jg=function(t){return t==null||t===!1||t===""},em=function(t){var r,o,s=[];for(var u in t){var l=t[u];t.hasOwnProperty(u)&&!Jg(l)&&(Array.isArray(l)&&l.isCss||Mi(l)?s.push("".concat(Pp(u),":"),l,";"):Wo(l)?s.push.apply(s,zo(zo(["".concat(u," {")],em(l),!1),["}"],!1)):s.push("".concat(Pp(u),": ").concat((r=u,(o=l)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in vy||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function gr(t,r,o,s){if(Jg(t))return[];if(Yc(t))return[".".concat(t.styledComponentId)];if(Mi(t)){if(!Mi(l=t)||l.prototype&&l.prototype.isReactComponent||!r)return[t];var u=t(r);return gr(u,r,o,s)}var l;return t instanceof Ky?o?(t.inject(o,s),[t.getName(s)]):[t]:Wo(t)?em(t):Array.isArray(t)?Array.prototype.concat.apply(Za,t.map(function(c){return gr(c,r,o,s)})):[t.toString()]}function tm(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Mi(o)&&!Yc(o))return!1}return!0}var Qy=jg(ba),by=function(){function t(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&tm(r),this.componentId=o,this.baseHash=wi(Qy,o),this.baseStyle=s,Ga.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,s){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Gr(u,this.staticRulesId);else{var l=Nc(gr(this.rules,r,o,s)),c=Rc(wi(this.baseHash,l)>>>0);if(!o.hasNameForId(this.componentId,c)){var h=s(l,".".concat(c),void 0,this.componentId);o.insertRules(this.componentId,c,h)}u=Gr(u,c),this.staticRulesId=c}else{for(var p=wi(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")v+=y;else if(y){var I=Nc(gr(y,r,o,s));p=wi(p,I+m),v+=I}}if(v){var T=Rc(p>>>0);o.hasNameForId(this.componentId,T)||o.insertRules(this.componentId,T,s(v,".".concat(T),void 0,this.componentId)),u=Gr(u,T)}}return u},t}(),Kc=In.createContext(void 0);Kc.Consumer;var rc={};function Zy(t,r,o){var s=Yc(t),u=t,l=!nc(t),c=r.attrs,h=c===void 0?Za:c,p=r.componentId,v=p===void 0?function(W,le){var F=typeof W!="string"?"sc":_p(W);rc[F]=(rc[F]||0)+1;var j="".concat(F,"-").concat(Yg(ba+F+rc[F]));return le?"".concat(le,"-").concat(j):j}(r.displayName,r.parentComponentId):p,m=r.displayName,y=m===void 0?function(W){return nc(W)?"styled.".concat(W):"Styled(".concat(Ey(W),")")}(t):m,I=r.displayName&&r.componentId?"".concat(_p(r.displayName),"-").concat(r.componentId):r.componentId||v,T=s&&u.attrs?u.attrs.concat(h).filter(Boolean):h,k=r.shouldForwardProp;if(s&&u.shouldForwardProp){var O=u.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;k=function(W,le){return O(W,le)&&w(W,le)}}else k=O}var G=new by(o,I,s?u.componentStyle:void 0);function B(W,le){return function(F,j,Se){var Oe=F.attrs,Ve=F.componentStyle,et=F.defaultProps,Be=F.foldedComponentIds,Fe=F.styledComponentId,ve=F.target,Ce=In.useContext(Kc),pe=kc(),ie=F.shouldForwardProp||pe.shouldForwardProp,x=zg(j,Ce,et)||Ui,V=function(ye,oe,ge){for(var ce,X=yt(yt({},oe),{className:void 0,theme:ge}),ne=0;ne<ye.length;ne+=1){var Ne=Mi(ce=ye[ne])?ce(X):ce;for(var ue in Ne)X[ue]=ue==="className"?Gr(X[ue],Ne[ue]):ue==="style"?yt(yt({},X[ue]),Ne[ue]):Ne[ue]}return oe.className&&(X.className=Gr(X.className,oe.className)),X}(Oe,j,x),z=V.as||ve,E={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===x||(D==="forwardedAs"?E.as=V.forwardedAs:ie&&!ie(D,z)||(E[D]=V[D]));var te=function(ye,oe){var ge=kc(),ce=ye.generateAndInjectStyles(oe,ge.styleSheet,ge.stylis);return ce}(Ve,V),q=Gr(Be,Fe);return te&&(q+=" "+te),V.className&&(q+=" "+V.className),E[nc(z)&&!Wg.has(z)?"class":"className"]=q,E.ref=Se,Ae.createElement(z,E)}($,W,le)}B.displayName=y;var $=In.forwardRef(B);return $.attrs=T,$.componentStyle=G,$.displayName=y,$.shouldForwardProp=k,$.foldedComponentIds=s?Gr(u.foldedComponentIds,u.styledComponentId):"",$.styledComponentId=I,$.target=s?u.target:t,Object.defineProperty($,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(W){this._foldedDefaultProps=s?function(le){for(var F=[],j=1;j<arguments.length;j++)F[j-1]=arguments[j];for(var Se=0,Oe=F;Se<Oe.length;Se++)Pc(le,Oe[Se],!0);return le}({},u.defaultProps,W):W}}),Vc($,function(){return".".concat($.styledComponentId)}),l&&Qg($,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),$}function Op(t,r){for(var o=[t[0]],s=0,u=r.length;s<u;s+=1)o.push(r[s],t[s+1]);return o}var kp=function(t){return Object.assign(t,{isCss:!0})};function nm(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Mi(t)||Wo(t))return kp(gr(Op(Za,zo([t],r,!0))));var s=t;return r.length===0&&s.length===1&&typeof s[0]=="string"?gr(s):kp(gr(Op(s,r)))}function Dc(t,r,o){if(o===void 0&&(o=Ui),!r)throw Jo(1,r);var s=function(u){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];return t(r,o,nm.apply(void 0,zo([u],l,!1)))};return s.attrs=function(u){return Dc(t,r,yt(yt({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},s.withConfig=function(u){return Dc(t,r,yt(yt({},o),u))},s}var rm=function(t){return Dc(Zy,t)},En=rm;Wg.forEach(function(t){En[t]=rm(t)});var qy=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=tm(r),Ga.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,s,u){var l=u(Nc(gr(this.rules,o,s,u)),""),c=this.componentId+r;s.insertRules(c,c,l)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,s,u){r>2&&Ga.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,u)},t}();function Jy(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=nm.apply(void 0,zo([t],r,!1)),u="sc-global-".concat(Yg(JSON.stringify(s))),l=new qy(s,u),c=function(p){var v=kc(),m=In.useContext(Kc),y=In.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&h(y,p,v.styleSheet,m,v.stylis),In.useLayoutEffect(function(){if(!v.styleSheet.server)return h(y,p,v.styleSheet,m,v.stylis),function(){return l.removeStyles(y,v.styleSheet)}},[y,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,y,I){if(l.isStatic)l.renderStyles(p,Ay,m,I);else{var T=yt(yt({},v),{theme:zg(v,y,c.defaultProps)});l.renderStyles(p,T,m,I)}}return In.memo(c)}function im(t,r){var o=Ae.useRef(null),s=Ae.useRef(!1),u=Ae.useRef(t);u.current=t;var l=Ae.useCallback(function(h){s.current&&(u.current(h),o.current=requestAnimationFrame(l))},[]),c=Ae.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(l))},function(){return s.current}]},[]);return Ae.useEffect(function(){return c[0]},[]),c}function eA(t,r,o,s,u){var c;(c=t.onExit)==null||c.call(t,s,r);const l=u.find(({id:h})=>h===r);return l!=null&&l.onEnter?l.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function tA(t,r){return r.find(({id:o})=>o===t)}function nA(t,r){return t!==r}function rA(t){console.warn(`No handler found for state: ${t}`)}const Bo="bushGrowing",xr="bushFull",Fa="bushSpreading",$o="bushDying",bt=24,Zt=10,zr=3e3,Wr=3e3,Xc=2,iA=5,oA=3,sA=12,aA=940,lA=.7,Uc=20,Dp=90,om=45,sm=240,am=10,jo=80,uA=3,No=5,Gt=150,lm=Gt*.8,cA=Gt*.2,St=Gt*.95,vr=30,um=10,dA=10,fA=.5,ut=30,yr=ut*.75,cm=50,hA=20,pA=jo*.8,gA=.7,mA=16,Hn=40,vA=24,Qc=16,yA=72/3,Up=24,AA=1.25,SA=1.5,bc=Gt*.6,Zc=50,IA=1,_A=350,dm=jo*.65,EA=80,TA=50,wA=1,CA=128,fm=10,Mp=100,RA=35,qa=ut,hm=.5,pm=2.5,NA=5,PA=.5,OA=1.5,kA=.1,DA=.5,UA=1.5,MA=.25,FA=2.5,LA=45,BA=.05,Yo=5,HA=.5,Fp=100,xA=300,Ja=30,Vo=1,Lp=Gt*.6,GA=Gt*.25,zA=Gt*.7,WA=Gt*.8,gm=100,$A=250,jA=120,YA=2,VA=400,KA=1e3,XA=Gt*.85,QA=100,bA=3,ZA=96,qA=24,JA=600,mm=600,eS=1,tS=24,nS=1,rS=.5,Bp=24,Mc=12,Hp=40,iS=.3,oS=24,xp=300,Gp=24,sS=1500,ic=500,aS=400,lS=10,uS=-5,cS=1.5,dS=1.2,fS=10,hS=150,pS=200,gS=100,mS=100,vS=.7,yS=300,AS=100,SS=120,zp=400,Fi=10,vm=250,Ko=12,da=yr*1.2,ym=10,IS=20,Am=.15,Sm=200,qt=30,el=qt*.6,qc="#4CAF50",Im="#FF5722",_m="#9C27B0",_S="#2196F3",Em="#FFC107",ES="#FFD700",Tm="#DC143C",Jc="#FFFFFF",ed=[5,5],tl=5,Li=15,TS=20,wS=16,CS=10,RS=16,NS=16,Wp=["","","","","","","","","",""],Fc=8,PS="#FFFFFF",hr=18,Dt=15,OS="rgba(0, 0, 0, 0.7)",kS=4,lr=150,Ht=15,Mn=10,Ci="#555",DS="#f44336",US="#4CAF50",MS="#2196F3",FS="#FFC107",fa=16,LS=9,Mr=32,ha=28,BS=10,HS=8,xS=8,GS=8,pa=28,ga=40,zS="rgba(255, 215, 0, 0.7)",WS="rgba(0, 0, 0, 0.3)",ur=10,$p=8,oc=11,cr=20,sc=40,jp=5,$S=10,jS="#FFA500",YS="#808080",Ri=120,VS=30,KS=20,ma="#2d3748",Ni="#ffffff",ac="#4a5568",XS=5,QS="#bdc9f792",bS="#272c36ff",ZS="#a0aec0",Yp=300,qS="rgba(255, 255, 255, 0.5)",JS="rgba(0, 0, 0, 0.8)",eI="#FFFFFF",Vp=14,Kp=8,Xp=-15,tI="#FFD700",nI=5,rI=60,iI=-50,oI=10,lc=12,Qp=10,sI="rgba(0, 0, 0, 0.5)",aI="#4CAF50",lI="#F44336",uI="#FFC107",cI="rgba(255, 255, 255, 0.2)",bp="#FFFFFF",dI="#FF6B6B",fI=5,wm=30,Po=50,va=8,Zp=10,hI="rgba(0, 0, 0, 0.5)",pI="#FFFFFF",gI=33,mI=400,vI=20,yI=10,AI="rgba(0, 0, 0, 0.7)",SI="#FFFFFF",uc=20,qp=16,II=.5,Jp=5,Cm="#FFD700",_I=40,td=4,Rm=3,EI=5,Jt=1,Mo=3,TI=70,eg=600,wI=1.5,Nm=.1,CI=15,RI=5e3,Fr=80,ya=10,NI=12,PI=24,OI=Gt*.75,kI=24,Aa=300,Lr=15,DI=8,UI="rgba(0, 0, 0, 0.8)",MI="#FFFFFF",cc=14,tg=10,yn=20,FI="#FF6B6B",LI="#4CAF50",ng="#FFD700",BI="rgba(255, 255, 0, 0.3)",HI=2,xI=500,GI=120,zI=45,WI="#FFD700",$I=3,jI=4;function rt(t,r,o,s,u){const l={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:s,entityId:u};return t.visualEffects.push(l),t.nextVisualEffectId++,l.id}var _e=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t[t.CallToFollow=16]="CallToFollow",t[t.AutopilotMoveTarget=17]="AutopilotMoveTarget",t))(_e||{}),xn=(t=>(t.Berry="berry",t.Meat="meat",t))(xn||{});const Pm={berry:"",meat:""},YI={id:Bo,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(bt/Zt);return o.age+=u,o.age>=o.lifespan?{nextState:$o,data:{...t,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(rt(s.gameState,_e.BushClaimLost,o.position,Jt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=sA&&o.food.length<o.maxFood&&(o.food.push({type:xn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:xr,data:{...t,enteredAt:s.gameState.time,previousState:Bo}}:{nextState:Bo,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},VI={id:xr,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(bt/Zt);return o.age+=u,o.age>=o.lifespan?{nextState:$o,data:{...t,enteredAt:s.gameState.time,previousState:xr}}:o.food.length<o.maxFood?{nextState:Bo,data:{...t,enteredAt:s.gameState.time,previousState:xr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(rt(s.gameState,_e.BushClaimLost,o.position,Jt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=Dp&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=Dp&&Math.random()<o.spreadChance)?{nextState:Fa,data:{...t,enteredAt:s.gameState.time,previousState:xr}}:{nextState:xr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function mr(t,r){return{x:t.x+r.x,y:t.y+r.y}}function Om(t,r){return{x:t.x-r.x,y:t.y-r.y}}function _n(t,r){return{x:t.x*r,y:t.y*r}}function Bi(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function tn(t){const r=Bi(t);return r===0?{x:0,y:0}:_n(t,1/r)}function KI(t,r){return Bi(Om(t,r))}function nd(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function rd(t){if(t.length===0)return{x:0,y:0};const r=t.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/t.length,y:r.y/t.length}}function zt(t,r,o,s){let u=r.x-t.x,l=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(l)>s/2&&(l=l-Math.sign(l)*s),{x:u,y:l}}function cn(t,r,o){const s=zt(t,r,o.width,o.height);return tn(s)}function ae(t,r,o,s){const u=zt(t,r,o,s);return Bi(u)}function XI(t,r){return t.x*r.x+t.y*r.y}function QI(t,r){const o=XI(t,r),s=Bi(t),u=Bi(r);if(s===0||u===0)return 0;const l=Math.max(-1,Math.min(1,o/(s*u)));return Math.acos(l)}function bI(t,r,o){const s=Math.max(0,Math.min(1,o)),u={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},l={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},c=Math.round(u.r+(l.r-u.r)*s),h=Math.round(u.g+(l.g-u.g)*s),p=Math.round(u.b+(l.b-u.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(c)}${v(h)}${v(p)}`}var fe=(t=>(t.Gather="Gather",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.Plant="Plant",t.CallToAttack="CallToAttack",t.TribeSplit="TribeSplit",t.FollowMe="FollowMe",t.FeedChild="FeedChild",t.AutopilotMove="AutopilotMove",t.AutopilotGather="AutopilotGather",t.AutopilotAttack="AutopilotAttack",t.AutopilotProcreate="AutopilotProcreate",t.AutopilotPlant="AutopilotPlant",t.AutopilotFeedChild="AutopilotFeedChild",t.AutopilotFollowMe="AutopilotFollowMe",t))(fe||{});const nl={Gather:"",Eat:"",Procreate:"",Attack:"",Plant:"",CallToAttack:"",TribeSplit:"",FollowMe:"",FeedChild:"",AutopilotMove:"",AutopilotGather:"",AutopilotAttack:"",AutopilotProcreate:"",AutopilotPlant:"",AutopilotFeedChild:"",AutopilotFollowMe:""},km={Gather:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",Plant:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FollowMe:"Follow Me",FeedChild:"Feed Child",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChild:"Feed",AutopilotFollowMe:"Follow"};var Ti=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(Ti||{});const Oo={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var Pe=(t=>(t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t.FastForward="FastForward",t.CommandEat="CommandEat",t.CommandPlant="CommandPlant",t.CommandCallToAttack="CommandCallToAttack",t.CommandFollowMe="CommandFollowMe",t.CommandGather="CommandGather",t.CommandTribeSplit="CommandTribeSplit",t.ToggleProcreationBehavior="ToggleProcreationBehavior",t.ToggleAttackBehavior="ToggleAttackBehavior",t.ToggleFeedChildBehavior="ToggleFeedChildBehavior",t.TogglePlantingBehavior="TogglePlantingBehavior",t.ToggleGatheringBehavior="ToggleGatheringBehavior",t.ToggleAutopilotFollowLeaderBehavior="ToggleAutopilotFollowLeaderBehavior",t))(Pe||{});const dc=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,ZI=""+new URL("gather-CU75596W.mp3",import.meta.url).href,qI=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,fc=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,JI=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,e_=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,t_=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,n_=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,r_=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,i_=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Me=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.TribeSplit=9]="TribeSplit",t[t.CallToFollow=10]="CallToFollow",t[t.GameOver=11]="GameOver",t[t.ButtonClick=12]="ButtonClick",t[t.SoundTrack1=13]="SoundTrack1",t))(Me||{});const o_=new Map([[0,dc],[1,ZI],[2,qI],[3,fc],[4,JI],[5,e_],[6,t_],[11,n_],[12,r_],[7,dc],[8,dc],[9,fc],[10,fc],[13,i_]]);let ko,Xo;function s_(){if(!(typeof window>"u"))return Xo}function id(){if(!(typeof window>"u"))return!ko&&typeof window.AudioContext=="function"&&(ko=new window.AudioContext,Xo=ko.createGain(),Xo.connect(ko.destination),Ho(.1,!1)),ko}function Ho(t,r){Xo&&(Xo.gain.value=r?0:t/10)}const Dm=new Map;let Sa=!1,rg=!1;async function a_(){if(rg||Sa)return;const t=id();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),Sa=!0,console.log("Starting sound loading...");const r=[];o_.forEach((o,s)=>{const u=fetch(o).then(l=>{if(!l.ok)throw new Error(`Failed to fetch sound: ${o}`);return l.arrayBuffer()}).then(l=>t.decodeAudioData(l)).then(l=>{Dm.set(s,l)}).catch(l=>{console.error(`Error loading sound ${Me[s]} from ${o}:`,l)});r.push(u)});try{await Promise.all(r),rg=!0,Sa=!1,console.log("All sounds loaded successfully.")}catch(o){Sa=!1,console.error("An error occurred while loading sounds:",o)}}const xo=new Map;function od(t,r){const o=id(),s=s_();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const u=Dm.get(t);if(!u){console.warn(`Sound buffer not found for type: ${Me[t]}`);return}if(r!=null&&r.trackId&&xo.has(r.trackId))return;const l=o.createBufferSource();l.buffer=u,l.loop=(r==null?void 0:r.loop)??!1;const c=o.createGain(),h=o.createStereoPanner();let p=c;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=zt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=ae(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>eg)return;const y=1-Math.pow(m/eg,wI);c.gain.value=Math.max(0,y);const I=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(I)?0:I,c.connect(h),p=h}else{const v=t===Me.GameOver?.4:t===Me.SoundTrack1?1:.2;c.gain.value=v}l.connect(p),p.connect(s),l.start(0),r!=null&&r.trackId&&(xo.set(r.trackId,{sourceNode:l,gainNode:c}),l.onended=()=>{xo.delete(r.trackId)})}function ig(t,r=1){const o=xo.get(t),s=id();if(o&&s){const{sourceNode:u,gainNode:l}=o,c=s.currentTime;l.gain.setValueAtTime(l.gain.value,c),l.gain.linearRampToValueAtTime(0,c+r),u.stop(c+r),u.onended=null,xo.delete(t)}}function be(t,r,o){const s=At(t.gameState);s&&od(r,{position:o,listenerPosition:s.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}let l_=0;function u_(){return`notification-${Date.now()}-${l_++}`}function Lc(t,r){if(r.identifier){const s=t.notifications.find(u=>u.identifier===r.identifier);if(s){if(s.dismissedUntil&&t.time<s.dismissedUntil)return;s.message=r.message,s.timestamp=t.time,s.creationTime=Date.now(),s.duration=r.duration,s.targetEntityIds=r.targetEntityIds,s.highlightedEntityIds=r.highlightedEntityIds,s.targetPosition=r.targetPosition,s.targetArea=r.targetArea,s.targetRadius=r.targetRadius,s.isDismissed=!1,s.dismissedUntil=void 0;return}}const o={...r,id:u_(),timestamp:t.time,creationTime:Date.now(),isDismissed:!1};t.notifications.push(o)}function Um(t,r){const o=t.notifications.find(s=>s.id===r);o&&(o.isDismissed=!0,o.identifier&&(o.dismissedUntil=t.time+kI))}function c_(t){const r=t.time;t.notifications=t.notifications.filter(o=>o.duration===0?!0:!(r-o.timestamp>o.duration))}var Qo=(t=>(t.Hello="HELLO",t.NewTribeFormed="NEW_TRIBE_FORMED",t.NoHeir="NO_HEIR",t.ChildrenStarving="CHILDREN_STARVING",t))(Qo||{});function sd(t,r){const o=[];if(r.food.length>0&&r.hunger>vr&&o.push({type:fe.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const l=lt(r,t,"berryBush",ut,p=>p.food.length>0),c=lt(r,t,"humanCorpse",ut,p=>p.food.length>0);let h=null;l&&c?h=ae(r.position,l.position,t.mapDimensions.width,t.mapDimensions.height)<=ae(r.position,c.position,t.mapDimensions.width,t.mapDimensions.height)?l:c:h=l||c,h&&o.push({type:fe.Gather,action:"gathering",key:"e",targetEntity:h})}const s=lt(r,t,"human",ut,l=>{const c=l;return(c.id!==r.id&&c.gender!==r.gender&&c.isAdult&&r.isAdult&&c.hunger<St&&r.hunger<St&&(c.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(c.gender==="female"?!c.isPregnant&&c.age<=Hn:!r.isPregnant&&r.age<=Hn))??!1});if(s&&o.push({type:fe.Procreate,action:"procreating",key:"r",targetEntity:s}),r.food.length>0&&r.isAdult){const l=lt(r,t,"human",ut,c=>{const h=c;return!h.isAdult&&(h.motherId===r.id||h.fatherId===r.id)&&h.hunger>=vr});l&&o.push({type:fe.FeedChild,action:"feeding",key:"h",targetEntity:l})}const u=lt(r,t,"human",qa,l=>l.id!==r.id&&l.leaderId!==r.leaderId);if(u&&o.push({type:fe.Attack,action:"attacking",key:"q",targetEntity:u}),r.food.filter(l=>l.type===xn.Berry).length>=Yo&&o.push({type:fe.Plant,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack){const l=t;fd(r.position,r.id,l,vm).length>0&&o.push({type:fe.CallToAttack,action:"idle",key:"v"})}return ud(r,t).canSplit&&o.push({type:fe.TribeSplit,action:"idle",key:"k"}),r.leaderId===r.id&&!r.isCallingToFollow&&o.push({type:fe.FollowMe,action:"idle",key:"c"}),o}function d_(t,r,o){return r.search.human.byRadius(t.position,o).filter(u=>{var l;return u.activeAction==="procreating"&&u.gender===t.gender&&typeof u.target=="number"&&((l=t.partnerIds)==null?void 0:l.includes(u.target))})[0]}function f_(t,r,o){if(!t.leaderId)return;const s=r,u=s.search.berryBush.byRadius(t.position,o).filter(l=>l.ownerId===t.id);for(const l of u)if(l.claimedUntil&&r.time<l.claimedUntil){const c=s.search.human.byRadius(l.position,ut);for(const h of c)if(!Bc(h,t)&&h.activeAction==="gathering"&&h.target===l.id)return h}}function h_(t,r,o){const s=za(t,r),u=r;for(const l of s){if(ae(t.position,l.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=u.search.human.byProperty("attackTargetId",l.id);for(const p of h)if(p.leaderId!==t.leaderId)return{familyMember:l,aggressor:p}}}function p_(t,r){const s=r.search.human.byRadius(t.position,yS);let u,l=1/0;for(const c of s){if(c.id===t.id||c.hitpoints<=0||c.hitpoints/c.maxHitpoints>vS||Fm(t,c,r))continue;const h=ae(t.position,c.position,r.mapDimensions.width,r.mapDimensions.height);h<l&&(l=h,u=c)}return u}function ad(t,r,o,s){const u=Math.random()*Math.PI*2,l=Math.sqrt(Math.random())*r,c={x:Math.cos(u)*l,y:Math.sin(u)*l},h=mr(t,c);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Hi(t,r,o,s){const u=r,l={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...u.search.human.byRect(l),...u.search.berryBush.byRect(l),...u.search.humanCorpse.byRect(l)];for(const h of c){if(s!==void 0&&h.id===s)continue;if(ae(t,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function ld(t,r,o,s,u){const l=r.mapDimensions.width,c=r.mapDimensions.height;if(!Hi(t,r,s,u))return t;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const y=m/v*2*Math.PI,I={x:Math.cos(y)*p,y:Math.sin(y)*p},T=mr(t,I),k={x:(T.x%l+l)%l,y:(T.y%c+c)%c};if(!Hi(k,r,s,u))return k}}return null}function g_(t,r){const o=lt(t,r,"berryBush",Fp,u=>u.ownerId===t.id);return o?ld(o.position,r,Fp,Ja,o.id):null}function lt(t,r,o,s,u){const l=r,c=s,h=l.search[o].byRadius(t.position,c);let p=null,v=c;for(const m of h){if(m.id===t.id||u&&!u(m))continue;const y=ae(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);y<v&&(v=y,p=m)}return p}function Mm(t,r,o,s){return r.search[o].byRadius(t,s).length}function og(t,r,o){return r.search.human.byRadius(t.position,o).filter(l=>{if(l.id===t.id||l.gender===t.gender||!l.isAdult||l.hunger>=St||(l.procreationCooldown||0)>0||l.gender==="female"&&l.isPregnant)return!1;const c=l.id===t.motherId||l.id===t.fatherId,h=t.id===l.motherId||t.id===l.fatherId;return!c&&!h})}function Yr(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),s=(u,l)=>u.age!==l.age?l.age-u.age:u.id-l.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function At(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function wt(t,r){const o=t,s=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...s,...u]}function m_(t,r){var c;const s=r.search.human.byProperty("activeAction","attacking");let u=null,l=1/0;for(const h of s){if(h.attackTargetId!==t)continue;const p=ae(h.position,((c=r.entities.entities.get(t))==null?void 0:c.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);p<l&&(u=h,l=p)}return u}function Fm(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const l=o.entities.entities.get(t.motherId);if(l&&(l.motherId===r.id||l.fatherId===r.id))return!0}if(t.fatherId){const l=o.entities.entities.get(t.fatherId);if(l&&(l.motherId===r.id||l.fatherId===r.id))return!0}if(r.motherId){const l=o.entities.entities.get(r.motherId);if(l&&(l.motherId===t.id||l.fatherId===t.id))return!0}if(r.fatherId){const l=o.entities.entities.get(r.fatherId);if(l&&(l.motherId===t.id||l.fatherId===t.id))return!0}return!1}function Bc(t,r){var l,c;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,s=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((l=t.ancestorIds)==null?void 0:l.some(h=>r.ancestorIds.includes(h)))||((c=r.ancestorIds)==null?void 0:c.some(h=>t.ancestorIds.includes(h)));return o||s||u}function v_(t,r){const o=[];if(t.motherId){const s=r.entities.entities.get(t.motherId);s&&o.push(s)}if(t.fatherId){const s=r.entities.entities.get(t.fatherId);s&&o.push(s)}return o}function y_(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function A_(t,r){if(!t.isAdult&&t.fatherId){const o=r.entities.entities.get(t.fatherId);if(o&&o.type==="human")return o}return t.isAdult&&t.gender==="female"&&t.partnerIds&&t.partnerIds.length>0?y_(t,r):null}function za(t,r){var s;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(s=t.partnerIds)==null||s.forEach(u=>{const l=r.entities.entities.get(u);l&&o.add(l)}),wt(r,t).forEach(u=>o.add(u)),Array.from(o)}let hc=0;function Hc(){const t=Wp[hc];return hc=(hc+1)%Wp.length,t}function S_(t,r,o){const s=o.mapDimensions.width,u=o.mapDimensions.height,l=r.radius*2;for(let c=xp;c<s/2;c+=50)for(let h=0;h<10;h++){const p=ad(t,c,s,u);if(!(ae(t,p,s,u)<xp)&&!Hi(p,o,l,r.id))return p}return null}function Lm(t,r){const o=new Map;function s(u){const l=wt(r,u);for(const c of l)o.has(c.id)||(o.set(c.id,c),s(c))}return s(t),Array.from(o.values())}function ud(t,r){if(!t.isAdult||t.gender!=="male"||t.leaderId===t.id||!t.leaderId)return{canSplit:!1};if(!t.leaderId)return{canSplit:!1};const o=r.entities.entities.get(t.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=Yr(wt(r,o));if(s&&s.id===t.id)return{canSplit:!1};const u=dd(t.leaderId,r);if(u.length<Hp)return{canSplit:!1};const c=Lm(t,r).length+1,h=Math.min(u.length*iS,Hp);return{canSplit:c>=h,progress:c/h}}function cd(t,r){if(!ud(t,r).canSplit)return;const o=Hc(),s=Lm(t,r);t.leaderId=t.id,t.tribeBadge=o;for(const l of s)l.leaderId=t.id,l.tribeBadge=o;Lc(r,{type:Qo.NewTribeFormed,message:`A new tribe has formed! ${o}`,duration:PI,targetEntityIds:[t.id],highlightedEntityIds:[t.id,...s.map(l=>l.id)]}),be({gameState:r},Me.TribeSplit,t.position)}function dd(t,r){return r.search.human.byProperty("leaderId",t)}function fd(t,r,o,s){return o.search.human.byRadius(t,s).filter(l=>l.leaderId!==r&&l.id!==r)}function I_(t,r,o){const s=o.search.human.byProperty("leaderId",t);let u=0;for(const l of s)l.attackTargetId===r&&u++;return u}function __(t,r){var l;const o=new Map,s=Array.from(t.entities.entities.values()).filter(c=>c.type==="human");for(const c of s)c.leaderId&&(o.has(c.leaderId)||o.set(c.leaderId,{leaderId:c.leaderId,tribeBadge:c.tribeBadge||"?",members:[]}),(l=o.get(c.leaderId))==null||l.members.push(c));const u=Array.from(o.values()).map(c=>{const h=t.entities.entities.get(c.leaderId),p=c.members.filter(m=>m.isAdult).length,v=c.members.length-p;return{leaderId:c.leaderId,tribeBadge:c.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:c.leaderId===r,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return u.sort((c,h)=>c.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(c.adultCount+c.childCount)),u}function sg(t,r,o,s){const u=o.search.berryBush.byRadius(t,r),l=o.search.human.byRadius(t,r).filter(p=>p.leaderId!==s);let c=u.length*lS;c+=l.length*uS;let h;if(l.length>0){const p={};for(const m of l)m.leaderId&&(p[m.leaderId]=(p[m.leaderId]||0)+1);let v=0;for(const m in p)p[m]>v&&(v=p[m],h=parseInt(m,10))}return{score:c,occupyingTribeId:h}}function ag(t){return t.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function Bm(t){return Array.from(t.entities.entities.values()).filter(r=>r.type==="human")}function bo(t,r){const o=dd(t,r);if(o.length===0){const u=r.entities.entities.get(t);return u?u.position:{x:0,y:0}}const s=o.map(u=>u.position);return rd(s)}function lg(t,r){const s=[...za(t,r),t].map(u=>u.position);return rd(s)}function ug(t,r,o,s){const u=r.x-o.width/2,l=r.y-o.height/2,c=u+t.x,h=l+t.y,p=(c%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}function E_(t,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const u of s)if(KI(t,u.position)<u.radius)return u}function T_(t,r){if(t.id!==t.leaderId)return null;const o=r,s=bo(t.id,r),{score:u}=sg(s,ic/2,o,t.id);let l=null,c=u;const h=aS,p=sS;for(let v=t.position.x-p;v<t.position.x+p;v+=h)for(let m=t.position.y-p;m<t.position.y+p;m+=h){const y={x:(v%r.mapDimensions.width+r.mapDimensions.width)%r.mapDimensions.width,y:(m%r.mapDimensions.height+r.mapDimensions.height)%r.mapDimensions.height};if(ae(s,y,r.mapDimensions.width,r.mapDimensions.height)<ic*2)continue;const{score:T}=sg(y,ic/2,o,t.id);T>c*cS&&(c=T,l=y)}return l}const w_={id:Fa,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s,l=s.deltaTime*(bt/Zt);if(o.age+=l,o.age>=o.lifespan)return{nextState:$o,data:{...t,enteredAt:u.time,previousState:Fa}};const c=ad(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return Hi(c,u,15)||il(u.entities,c,u.time),{nextState:xr,data:{...t,enteredAt:u.time,previousState:Fa}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},C_={id:$o,update:t=>({nextState:$o,data:t}),onEnter:(t,r)=>(gd(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},R_=[YI,VI,w_,C_],ft="humanIdle",Hr="humanMoving",Fo="humanEating",rl="humanGathering",Zo="humanProcreating",xi="humanAttacking",La="humanPlanting",N_={id:ft,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:xi,data:{...t,enteredAt:s.gameState.time,previousState:ft,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=lm?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Hr,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="gathering"?{nextState:rl,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="eating"?{nextState:Fo,data:{...t,enteredAt:s.gameState.time,previousState:ft}}:o.activeAction==="planting"&&o.target?{nextState:La,data:{...t,enteredAt:s.gameState.time,previousState:ft,plantingSpot:o.target}}:{nextState:ft,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function Hm(t){let r=dA;return t.hunger>=lm&&(r*=fA),t.age>=pA&&(r*=gA),t.movementSlowdown&&(r*=t.movementSlowdown.modifier),r}const pc=7.5;class P_{constructor(){de(this,"id",Hr)}update(r,o){var p;const{entity:s,updateContext:u}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:xi,data:{...r,enteredAt:u.gameState.time,previousState:Hr,attackTargetId:s.attackTargetId,attackStartTime:u.gameState.time}};if(s.activeAction!=="moving")return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Hr}};let l;if(typeof s.target=="object"?l=s.target:typeof s.target=="number"&&(l=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!l&&(s.direction.x!==0||s.direction.y!==0)&&(l={x:s.position.x+s.direction.x*pc*2,y:s.position.y+s.direction.y*pc*2}),!l)return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Hr}};const c=zt(s.position,l,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=tn(c),s.acceleration=Hm(s),ae(s.position,l,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<pc?{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Hr}}:{nextState:Hr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const O_=new P_,k_={id:Fo,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:Fo}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>vr&&(o.hunger=Math.max(0,o.hunger-vr),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,be(s,Me.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(rt(s.gameState,_e.Eating,o.position,Jt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:Fo}}:{nextState:Fo,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class D_{constructor(){de(this,"id",rl)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const U_=new D_,M_=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),F_=(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time<(t.procreationEndTime||0))return{nextState:Zo,data:t};const l=u.entities.entities.get(t.partnerId);if(l&&l.type==="human"&&!l.isPregnant&&o.hunger<St&&l.hunger<St&&!o.procreationCooldown&&!l.procreationCooldown){const c=o.gender==="female"?o:l.gender==="female"?l:void 0,h=o.gender==="male"?o:l.gender==="male"?l:void 0;c&&h&&(c.isPregnant=!0,c.gestationTime=yA,c.fatherId=h.id,o.procreationCooldown=Up,l.procreationCooldown=Up,be(s,Me.Procreate,c.position))}return o.activeAction="idle",l&&(l.activeAction="idle"),{nextState:ft,data:{...t,enteredAt:u.time,previousState:Zo}}},L_={id:Zo,onEnter:M_,update:F_},B_={id:xi,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const s=ae(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=zt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=tn(u),s>qa?r.entity.acceleration=Hm(r.entity):r.entity.acceleration=0,{nextState:xi,data:t}}},H_={id:La,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time-t.enteredAt>=HA){if(o.food.filter(h=>h.type===xn.Berry).length>=Yo){for(let p=0;p<Yo;p++){const v=o.food.findIndex(m=>m.type===xn.Berry);v>-1&&o.food.splice(v,1)}const h=il(u.entities,t.plantingSpot,u.time);h.ownerId=o.id,h.claimedUntil=u.time+sm}return{nextState:ft,data:{...t,enteredAt:u.time,previousState:La}}}return{nextState:La,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},x_=[N_,O_,k_,U_,L_,B_,H_],cg=[...R_,...x_];function G_(t,r,o){const s=tA(t,cg);if(!s)return rA(t),[t,r];const{nextState:u,data:l}=s.update(r,o);return nA(t,u)?[u,eA(s,u,l,o,cg)]:[u,l]}function z_(t,r,o){const{gameState:s}=r,u=o*(bt/Zt);if(t.isAdult=t.age>=Qc,t.isCallingToAttack&&t.callToAttackEndTime&&s.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.isCallingToFollow&&t.callToFollowEndTime&&s.time>t.callToFollowEndTime&&(t.isCallingToFollow=!1,t.callToFollowEndTime=void 0),t.movementSlowdown&&s.time>t.movementSlowdown.endTime&&(t.movementSlowdown=void 0),t.hitpoints<t.maxHitpoints){const c=1-t.hunger/100*DA,h=kA*c*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+h)}if(t.hunger+=o*(No/(bt/Zt)),t.hunger>TI&&(!t.lastHungerEffectTime||s.time-t.lastHungerEffectTime>Mo*2)&&(rt(s,_e.Hunger,t.position,Mo,t.id),t.lastHungerEffectTime=s.time),t.age+=o/am,t.isPlayer){const c=wt(s,t).filter(p=>p.hunger>=OI),h=s.notifications.find(p=>p.identifier==="children_starving");if(c.length>0){const p=c.map(v=>v.id);Lc(s,{identifier:"children_starving",type:Qo.ChildrenStarving,message:"Your children are starving!",duration:NI,targetEntityIds:p,highlightedEntityIds:p})}else h&&!h.isDismissed&&Um(s,h.id)}if(t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((No*AA-No)/(bt/Zt)),(!t.lastPregnantEffectTime||s.time-t.lastPregnantEffectTime>Mo*3)&&(rt(s,_e.Pregnant,t.position,Mo,t.id),t.lastPregnantEffectTime=s.time),t.gestationTime<=0&&(EE(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.isAdult?t.radius===el&&(t.radius=qt):t.hunger+=o*((No*SA-No)/(bt/Zt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const c=[];if(t.motherId){const h=s.entities.entities.get(t.motherId);h&&c.push(h)}if(t.fatherId){const h=s.entities.entities.get(t.fatherId);h&&c.push(h)}for(const h of c)if(h.age>=dm&&h.hunger>=EA&&ae(t.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=TA){t.food.pop(),h.hunger=Math.max(0,h.hunger-vr),t.feedParentCooldownTime=wA;break}}let l;if(t.hitpoints<=0?l="killed":t.hunger>=Gt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-vr)):l="hunger":t.age>=t.maxAge&&(l="oldAge"),l){if(t.leaderId===t.id){const c=Yr(wt(s,t));c?(c.leaderId=c.id,c.tribeBadge=t.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=c.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(t.isPlayer){const c=Yr(wt(s,t));c?(c.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=l,Lc(s,{identifier:"no_heir",type:Qo.NoHeir,message:"Your lineage has ended. You have no heir.",duration:0}))}_E(s.entities,t.position,t.gender,t.age,t.radius,t.id,s.time,t.food,t.hunger),gd(s.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function W_(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/CA);const s=Math.floor(fm*(1-t.decayProgress));t.food.length>s&&t.food.splice(s),t.decayProgress>=1&&t.food.length<=0&&gd(r.gameState.entities,t.id)}var hd=(t=>(t[t.BehaviorTreeBased=0]="BehaviorTreeBased",t))(hd||{});function $_(t,r){if(t.aiBehaviorTree&&t.aiBlackboard){const o=t.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=Vo&&(t.aiBehaviorTree.execute(t,r,t.aiBlackboard),t.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle"}function j_(t,r){switch(t.aiBlackboard&&t.aiBlackboard.cleanupOldEntries(r.gameState.time),t.aiType){case hd.BehaviorTreeBased:default:$_(t,r);break}}function Y_(t,r){t.forces.push(_n(t.velocity,-.1));const o=_n(tn(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(t.velocity=_n(t.velocity,.5))}),t.debuffs=t.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),t.velocity=mr(t.velocity,t.forces.reduce(mr,{x:0,y:0})),Bi(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=mr(t.position,_n(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?z_(t,r,r.deltaTime):t.type==="humanCorpse"&&W_(t,r),t.type==="human"&&j_(t,r),t.stateMachine&&(t.stateMachine=G_(...t.stateMachine,{entity:t,updateContext:r}))}var N=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t[t.NOT_EVALUATED=3]="NOT_EVALUATED",t))(N||{});const dg="Human Behavior",V_=1;class K_{constructor(){de(this,"nodeData",new Map);de(this,"pathStack",[]);de(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,u=this.pathStack.join(" > "),l=this.nodeData.get(u)??{path:u,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};l.totalTime+=s,l.callCount++,l.minTime=Math.min(l.minTime,s),l.maxTime=Math.max(l.maxTime,s),this.nodeData.set(u,l),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let u=s,l="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(dg);if(h){const p=h.totalTime*V_/100;u=s.filter(v=>v.totalTime>p&&v.path!==dg),l="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),l="--- Behavior Tree Full Report (Root Not Found) ---"}const c=u.sort((h,p)=>p.totalTime-h.totalTime);console.log(l),c.length>0?console.table(c.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const Je=new K_;function fn(t){return Array.isArray(t)?t:[t,""]}class De{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{for(const u of this.children){const[l,c]=fn(u.execute(r,o,s));if(l!==N.SUCCESS)return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,c),l}return this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,""),N.SUCCESS}finally{this.name&&Je.nodeEnd()}}}class Vr{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{const u=this.runningChildIndex??0;for(let l=u;l<this.children.length;l++){const c=this.children[l],[h,p]=fn(c.execute(r,o,s));if(h!==N.FAILURE){if(h===N.SUCCESS)return delete this.runningChildIndex,this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,p),N.SUCCESS;if(h===N.RUNNING)return this.runningChildIndex=l,this.lastStatus=N.RUNNING,this.name&&s.recordNodeExecution(this.name,N.RUNNING,o.gameState.time,this.depth,p),N.RUNNING}}return delete this.runningChildIndex,this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,N.FAILURE,o.gameState.time,this.depth,""),N.FAILURE}finally{this.name&&Je.nodeEnd()}}}class Te{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{const[u,l]=fn(this.action(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,l),u}finally{this.name&&Je.nodeEnd()}}}class he{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{const[u,l]=fn(this.condition(r,o,s)),c=u?N.SUCCESS:N.FAILURE;return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,c,o.gameState.time,this.depth,l),c}finally{this.name&&Je.nodeEnd()}}}class fg{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){Je.nodeStart(this.name);try{const u=o.gameState.time;let l=s.get(this.startTimeKey);const[c,h]=fn(this.child.execute(r,o,s));if(c===N.RUNNING){l===void 0&&(s.set(this.startTimeKey,u),l=u);const p=u-l;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=N.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m),this.lastStatus}this.lastStatus=N.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}return l!==void 0&&s.delete(this.startTimeKey),this.lastStatus=c,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{Je.nodeEnd()}}}class Wa{constructor(r,o,s,u=0,l){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"statusKey");de(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=l,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){Je.nodeStart(this.name);try{const u=o.gameState.time,l=s.get(this.statusKey),c=s.get(this.timestampKey);if(l!==void 0&&c!==void 0){const m=u-c>this.cacheDurationHours,y=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&y){const I=(c+this.cacheDurationHours-u).toFixed(2),T=`Cache hit. Status: ${N[l]}. ${I}h left.`;return this.lastStatus=l,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,T),this.lastStatus}}const[h,p]=fn(this.child.execute(r,o,s));(h===N.SUCCESS||h===N.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,u)),this.lastStatus=h;const v=`Cache miss. Child returned ${N[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}finally{Je.nodeEnd()}}}class zi{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){Je.nodeStart(this.name);try{const u=o.gameState.time,l=s.get(this.cooldownKey);if(this.child.lastStatus===N.RUNNING){const[p,v]=fn(this.child.execute(r,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m)}return this.lastStatus}if(l!==void 0&&u<l){const v=`Cooldown active, ${(l-u).toFixed(2)}h left`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}const[c,h]=fn(this.child.execute(r,o,s));return(c===N.SUCCESS||c===N.RUNNING)&&s.set(this.cooldownKey,u+this.cooldownDurationHours),this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{Je.nodeEnd()}}}class Ai{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=u;const l=(c,h)=>{c.depth=h,c.children?c.children.forEach(p=>l(p,h+1)):c.child&&l(c.child,h+1)};l(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{if(r.isPlayer&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[l,c]=fn(this.child.execute(r,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,c),this.lastStatus}finally{this.name&&Je.nodeEnd()}}}class X_{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(l,c)=>{l.depth=c,l.children?l.children.forEach(h=>u(h,c+1)):l.child&&u(l.child,c+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isManuallyMoving)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Manual movement active, AI blocked."),this.lastStatus;const[u,l]=fn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,l),this.lastStatus}finally{this.name&&Je.nodeEnd()}}}class Ia{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(l,c)=>{l.depth=c,l.children?l.children.forEach(h=>u(h,c+1)):l.child&&u(l.child,c+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&Je.nodeStart(this.name);try{if(r.isPlayer)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Player controlled, AI blocked."),this.lastStatus;const[u,l]=fn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,l),this.lastStatus}finally{this.name&&Je.nodeEnd()}}}function Q_(t){return new De([new he((r,o)=>{const s=r.hunger>=Lp,u=r.food.length>0,l=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&u&&l),`${Math.floor(r.hunger-Lp)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new Te(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",N.RUNNING),"Eat",t+1)],"Eating",t)}function b_(t){return new De([new he((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*Am||r.isAdult&&r.hunger>XA)return!1;const u=m_(r.id,o.gameState);return u?(s.set("fleeThreat",u),!0):!1},"Should Flee",t+1),new Te((r,o,s)=>{const u=s.get("fleeThreat");if(!u)return N.FAILURE;r.activeAction="moving";const l=zt(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=tn(l),h=mr(r.position,_n(c,Sm));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c,N.RUNNING},"Execute Flee",t+1)],"Flee",t)}const Do="foodSource";function Z_(t){const r=new Te((s,u,l)=>{const c=new Map,h=lt(s,u.gameState,"berryBush",zp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||u.gameState.time>=m.claimedUntil)return!0;const y=u.gameState.entities.entities.get(m.ownerId);if(!y||y.leaderId===s.leaderId)return!0;const I=c.get(y.id)??ae(s.position,y.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);return c.set(y.id,I),I>SS}),p=lt(s,u.gameState,"humanCorpse",zp,m=>m.food.length>0);let v=null;if(h&&p){const m=ae(s.position,h.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height),y=ae(s.position,p.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);v=m<=y?h:p}else v=h||p;return v?(l.set(Do,v),[N.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[N.FAILURE,"No food source found"]},"Find Closest Food Source",t+4),o=new Te((s,u,l)=>{const c=l.get(Do);return!c||c.food.length===0?(l.delete(Do),[N.FAILURE,"Food source is invalid or depleted"]):ae(s.position,c.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<yr?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=c.id,l.delete(Do),[N.SUCCESS,`Gathering from ${c.type}`]):(s.activeAction="moving",s.target=c.id,s.direction=cn(s.position,c.position,u.gameState.mapDimensions),[N.RUNNING,`Moving to ${c.type}`])},"Move To Food and Gather",t+3);return new De([new he((s,u)=>{const l=s.food.length<s.maxFood,c=s.hunger>GA,h=wt(u.gameState,s).filter(p=>p.hunger>bc);return[(s.isAdult&&l&&(c||h.length>0))??!1,`${c?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",t+1),new Vr([new De([new he((s,u,l)=>l.has(Do),"Has Food Source?",t+2),o],"Continue Gathering Action",t+2),new De([new Wa(r,rS,"Cache Food Source Search",t+3),o],"Find New Food Source and Gather",t+2)],"Perform or Start Gathering",t+1)],"Gather Food",t)}function q_(t){return new Te((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),N.SUCCESS),"Idle",t)}const _a="procreationWanderStartTime",hg=t=>t.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<St&&(r.gender==="female"?!r.isPregnant&&r.age<=Hn:!0));function J_(t){const r=new he((l,c,h)=>{const p=og(l,c.gameState,yr),v=hg(p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new Te((l,c,h)=>{var v;const p=h.get("procreationPartner");return p?(l.activeAction="procreating",l.target=void 0,h.delete("procreationPartner"),h.delete(_a),(v=l.partnerIds)!=null&&v.includes(p.id)||(l.partnerIds=l.partnerIds?[...l.partnerIds,p.id]:[p.id]),N.SUCCESS):N.FAILURE},"Start Procreating"),s=new he((l,c,h)=>{const p=og(l,c.gameState,KA),v=hg(p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),u=new Te((l,c,h)=>{const p=h.get("procreationPartner");if(!p)return N.FAILURE;if(ae(l.position,p.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<yr)return N.SUCCESS;l.activeAction="moving",l.target=p.id;const m=zt(l.position,p.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height);return l.direction=tn(m),N.RUNNING},"Move Towards Partner");return new De([new he(l=>!(!l.isAdult||l.gender==="female"&&l.isPregnant||l.age<mA||l.gender==="female"&&l.age>Hn),"Is Fertile (age, not pregnant)",t+1),new he(l=>l.hunger<St,"Is Healthy (hunger)",t+1),new he(l=>(l.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new Vr([new De([new he((l,c)=>Mm(l.position,c.gameState,"berryBush",VA)>=YA,"Is Environment Viable (food)",t+3),new Te((l,c,h)=>(h.delete(_a),N.SUCCESS),"Clear Wander Timer",t+3)],"Sufficient Food Path",t+2),new De([new he((l,c)=>{if(l.gender==="male"){const h=wt(c.gameState,l);return!Yr(h)}return!1},"Is Male Without Heir",t+3),new Te((l,c,h)=>{const p=h.get(_a);if(p===void 0)return h.set(_a,c.gameState.time),[N.FAILURE,"Starting heirless wander timer"];const v=c.gameState.time-p;return v>=vA?[N.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[N.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",t+3)],"Heirless Desperation Path",t+2)],"Check Environment Or Desperation",t+1),new he((l,c,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(l.id)&&p.partnerIds.map(m=>c.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ae(l.position,m.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<AS)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",t+1),new Vr([new De([r,o],"Procreate With Immediate Partner",t+2),new zi(eS,new De([s,u],"Seek Distant Partner Action",t+3),"Seek Distant Partner Cooldown",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const Si="attackTarget",Br="homeCenter",gc=150;function eE(t,r,o){let s,u=1/0;for(const l of Object.values(t.entities.entities))if(l.type==="human"&&l.id!==r.id&&l.hitpoints>0&&l.leaderId!==r.leaderId){const c=ae(r.position,l.position,t.mapDimensions.width,t.mapDimensions.height);c<o&&c<u&&(u=c,s=l)}return s}function tE(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const{gameState:u}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const c=u.entities.entities.get(r.attackTargetId);if(c&&c.hitpoints>0&&ae(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height)<=gc){if(s.set(Si,c),!s.get(Br)){const h=r.leaderId?bo(r.leaderId,u):za(r,u).length>0?lg(r,u):r.position;s.set(Br,h)}return!0}}const l=eE(u,r,gc);if(l){s.set(Si,l);const c=r.leaderId?bo(r.leaderId,u):za(r,u).length>0?lg(r,u):r.position;return s.set(Br,c),!0}return s.set(Si,void 0),s.set(Br,void 0),!1},"Find Attack Target",t+1),new Te((r,o,s)=>{const u=s.get(Si),l=s.get(Br);if(!u||!l)return N.FAILURE;const{gameState:c}=o;return ae(r.position,l,c.mapDimensions.width,c.mapDimensions.height)>mm?(r.activeAction="idle",r.attackTargetId=void 0,s.set(Si,void 0),s.set(Br,void 0),N.FAILURE):u.hitpoints<=0||ae(r.position,u.position,c.mapDimensions.width,c.mapDimensions.height)>gc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(Si,void 0),s.set(Br,void 0),N.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),N.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const nE=(t,r,o)=>{const s=wt(r.gameState,t).filter(c=>!c.isAdult);if(s.length===0)return N.FAILURE;let u=null,l=bc;for(const c of s)c.hunger>=l&&(l=c.hunger,u=c);return u?(o.set("targetChild",u),N.SUCCESS):N.FAILURE},rE=(t,r,o)=>{const s=o.get("targetChild");return s?ae(t.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Zc?(t.activeAction="moving",t.target=s.id,t.direction=cn(t.position,s.position,r.gameState.mapDimensions),N.RUNNING):(t.activeAction="feeding",t.target=void 0,o.set("targetChild",void 0),N.SUCCESS):N.FAILURE};function iE(t){return new De([new he(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new Te(nE,"Find Hungriest Child",t+1),new Te(rE,"Move To Child and Feed",t+1)],"Feed Child",t)}function oE(t){return new De([new he(r=>!r.isAdult&&r.hunger>=bc,"Is Hungry Child",t+1),new Te((r,o,s)=>{const u=v_(r,o.gameState);if(u.length===0)return N.FAILURE;const l=lt(r,o.gameState,"human",_A,c=>u.some(h=>h.id===c.id)&&c.food.length>0);return l?(s.set("targetParent",l),N.SUCCESS):N.FAILURE},"Find Parent With Food",t+1),new Te((r,o,s)=>{const u=s.get("targetParent");if(!u)return N.FAILURE;const l=ae(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",l<=Zc?(r.target=void 0,N.SUCCESS):(r.target=u.id,r.activeAction="moving",N.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}const Ea="plantingSpot";function sE(t){const r=new Te((s,u,l)=>{const c=l.get(Ea);return!c||Hi(c,u.gameState,Ja,s.id)?(l.delete(Ea),[N.FAILURE,"Planting spot is invalid or now occupied"]):ae(s.position,c,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)>yr?(s.activeAction="moving",s.target=c,s.direction=cn(s.position,c,u.gameState.mapDimensions),[N.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=c,[N.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",t+3),o=new Te((s,u,l)=>{const c=g_(s,u.gameState);return c?(l.set(Ea,c),[N.SUCCESS,`Found new spot at ${c.x.toFixed(0)}, ${c.y.toFixed(0)}`]):[N.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",t+3);return new De([new he(s=>{const u=s.food.filter(c=>c.type===xn.Berry).length>=Yo,l=s.hunger<zA;return(s.isAdult&&u&&l)??!1},"Can Plant",t+1),new he((s,u)=>{const l=Mm(s.position,u.gameState,"berryBush",xA),c=wt(u.gameState,s);return!(c.length===0||l>=c.length*5)},"Has Not Enough Nearby Bushes",t+1),new Vr([new De([new he((s,u,l)=>l.has(Ea),"Has Planting Spot?",t+2),r],"Continue Planting Action",t+2),new zi(nS,o,"Find Planting Spot Cooldown",t+2)],"Perform or Start Planting",t+1)],"Plant Bush",t)}const mc="enemiesNearby";function aE(t){const r=new he(l=>l.id===l.leaderId,"Is Leader?",t+1),o=new he(l=>!l.isCallingToAttack,"Is Not Already Calling?",t+1),s=new Te((l,c,h)=>{const p=fd(l.position,l.id,c.gameState,vm);return p.length>0?(h.set(mc,p),N.SUCCESS):N.FAILURE},"Find Nearby Enemies",t+1),u=new Vr([new De([new he((l,c,h)=>{const p=h.get(mc);if(!p||p.length===0)return!1;const v=dd(l.id,c.gameState),m=ag(v),y=ag(p);return m>y*dS},"Is Strong Enough?",t+3),new Te((l,c)=>(l.isCallingToAttack=!0,l.callToAttackEndTime=c.gameState.time+Fi,rt(c.gameState,_e.CallToAttack,l.position,Fi),be(c,Me.CallToAttack,l.position),l.activeAction="idle",l.target=void 0,N.SUCCESS),"Issue Call to Attack",t+3)],"Attack",t+2),new Te((l,c,h)=>{const p=h.get(mc);if(!p||p.length===0)return N.FAILURE;const v=p.map(k=>k.position),m=rd(v),y=zt(m,l.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height),I=tn(y),T=mr(l.position,_n(I,Sm*2));return l.activeAction="moving",l.target={x:(T.x%c.gameState.mapDimensions.width+c.gameState.mapDimensions.width)%c.gameState.mapDimensions.width,y:(T.y%c.gameState.mapDimensions.height+c.gameState.mapDimensions.height)%c.gameState.mapDimensions.height},l.direction=I,N.SUCCESS},"Retreat",t+2)],"Attack or Retreat",t+2);return new De([r,o,s,new zi(fS,u,"Leader Combat Cooldown",t+1)],"Leader Combat Strategy",t)}const vc="combatTarget",yc="homeCenter";function lE(t){const r=new he(c=>c.isAdult&&c.leaderId?c.id!==c.leaderId:!1,"Is Tribe Follower?",t+1),o=new he(c=>c.hunger<WA&&c.hitpoints>=c.maxHitpoints*Am,"Is Fit for Combat?",t+1),s=new he((c,h)=>{const p=h.gameState.entities.entities.get(c.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),u=new Te((c,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(c.leaderId);if(!m)return N.FAILURE;const y=fd(m.position,m.id,v,QA);if(y.length===0)return N.FAILURE;y.sort((I,T)=>{const k=ae(c.position,I.position,v.mapDimensions.width,v.mapDimensions.height),O=ae(c.position,T.position,v.mapDimensions.width,v.mapDimensions.height);return k-O});for(const I of y)if(I_(m.id,I.id,v)<bA){p.set(vc,I);const k=bo(m.id,v);return p.set(yc,k),N.SUCCESS}return N.FAILURE},"Find Best Target",t+1),l=new Te((c,h,p)=>{const v=p.get(vc),m=p.get(yc);if(!v||!m)return N.FAILURE;const{gameState:y}=h;return ae(c.position,m,y.mapDimensions.width,y.mapDimensions.height)>mm?(c.activeAction==="attacking"&&c.attackTargetId===v.id&&(c.activeAction="idle",c.attackTargetId=void 0),p.set(vc,void 0),p.set(yc,void 0),N.FAILURE):((!c.lastTargetAcquiredEffectTime||h.gameState.time-c.lastTargetAcquiredEffectTime>Jt*5)&&(rt(h.gameState,_e.TargetAcquired,c.position,Jt,c.id),c.lastTargetAcquiredEffectTime=h.gameState.time),c.activeAction="attacking",c.attackTargetId=v.id,c.target=void 0,N.RUNNING)},"Attack Target",t+1);return new De([r,o,s,u,l],"Tribe Member Combat",t)}function uE(t){const r=new he((m,y)=>{if(!m.isAdult||m.gender!=="male")return!1;const I=m.partnerIds&&m.partnerIds.length>0,T=wt(y.gameState,m).length>0;return I||T},"Is Adult Male With Family?",t+1),o=new he((m,y)=>{var k;if(!m.fatherId)return!1;const I=y.gameState.entities.entities.get(m.fatherId);return!I||((k=Yr(wt(y.gameState,I)))==null?void 0:k.id)===m.id?!1:ae(m.position,I.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<JA},"Is Too Close To Father?",t+1),s=new he((m,y,I)=>I.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",t+3),u=new Te((m,y,I)=>{const T=I.get("territoryMoveTarget"),k=I.get("territoryMoveStartTime");if(!T||!k)return[N.FAILURE,"Missing move data"];if(y.gameState.time-k>ZA)return I.delete("territoryMoveTarget"),I.delete("territoryMoveStartTime"),[N.FAILURE,"Territory move timed out"];if(ae(m.position,T,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<yr)return I.delete("territoryMoveTarget"),I.delete("territoryMoveStartTime"),[N.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=T;const G=zt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=tn(G),[N.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",t+3),l=new De([s,u],"Handle In-Progress Move",t+2),c=new he((m,y,I)=>I.get("territoryMoveTarget")===void 0,"Should Start New Move?",t+4),h=new Te((m,y,I)=>{const T=ad(m.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);I.set("territoryMoveTarget",T),I.set("territoryMoveStartTime",y.gameState.time),m.activeAction="moving",m.target=T;const k=zt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=tn(k),[N.RUNNING,"Started moving to new territory"]},"Start New Territory Move",t+4),p=new De([c,h],"Start New Territory Move Action",t+3),v=new Vr([l,new zi(tS,p,"Establish Territory Cooldown",t+2)],"Establish or Continue Move",t+1);return new De([r,o,v],"Establish Family Territory",t)}function cE(t){return new De([new Te((r,o,s)=>{const u=A_(r,o.gameState);return u?(s.set("patriarchTarget",u),[N.SUCCESS,`Found patriarch: ${u.id}`]):(s.delete("patriarchTarget"),[N.FAILURE,"No patriarch found"])},"Find Patriarch",t+1),new Te((r,o,s)=>{const u=s.get("patriarchTarget");if(!u)return[N.FAILURE,"Patriarch target missing from blackboard"];const l=ae(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(l>gm){r.activeAction="moving",r.target=u.id;const c=zt(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=tn(c),[N.RUNNING,`Moving to patriarch at ${l.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[N.SUCCESS,`Arrived at patriarch at ${l.toFixed(0)}`]},"Move Towards Patriarch",t+1)],"Follow Patriarch",t)}const Ac="tribeSplitMigrationTarget";function dE(t){const r=new De([new he((o,s)=>{const{canSplit:u,progress:l}=ud(o,s.gameState);return u?[!0,`Progress: ${(l??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",t+2),new Te((o,s,u)=>{const{gameState:l}=s;let c=u.get(Ac);if(!c){if(!o.leaderId)return N.FAILURE;const p=bo(o.leaderId,l),v=S_(p,o,l);if(v)u.set(Ac,v),c=v;else return N.FAILURE}return ae(o.position,c,l.mapDimensions.width,l.mapDimensions.height)<yr?(u.delete(Ac),o.activeAction="idle",o.target=void 0,N.SUCCESS):(o.activeAction="moving",o.target=c,N.RUNNING)},"Move to New Territory",t+2),new Te((o,s)=>(cd(o,s.gameState),N.SUCCESS),"Perform Tribe Split",t+2)],"Tribe Split Action",t+1);return new zi(oS,r,"Tribe Split Cooldown",t)}const Ta="jealousyAttackTarget";function fE(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=d_(r,o.gameState,hS);return u?(s.set(Ta,u),[!0,`Partner cheating with ${u.id}`]):(s.delete(Ta),!1)},"Check for Infidelity",t+1),new Te((r,o,s)=>{const u=s.get(Ta);return!u||u.hitpoints<=0?(s.delete(Ta),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking ${u.id}`])},"Execute Jealousy Attack",t+1)],"Jealousy Attack",t)}const wa="defendAggressor";function hE(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=h_(r,o.gameState,pS);return u?(s.set(wa,u.aggressor),[!0,`Family member ${u.familyMember.id} attacked by ${u.aggressor.id}`]):(s.delete(wa),!1)},"Check Family Under Attack",t+1),new Te((r,o,s)=>{const u=s.get(wa);return!u||u.hitpoints<=0?(s.delete(wa),[N.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking aggressor ${u.id}`])},"Execute Family Defense Attack",t+1)],"Defend Family",t)}const Ca="bushIntruder";function pE(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=f_(r,o.gameState,gS);return u?(s.set(Ca,u),[!0,`Intruder ${u.id} stealing berries`]):(s.delete(Ca),!1)},"Check For Intruders on Bushes",t+1),new Te((r,o,s)=>{const u=s.get(Ca);return!u||u.hitpoints<=0?(s.delete(Ca),[N.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking intruder ${u.id}`])},"Execute Bush Defense Attack",t+1)],"Defend Claimed Bush",t)}const Ra="desperateAttackTarget";function gE(t){return new De([new he(r=>r.hunger>mS,"Is Starving",t+1),new he((r,o)=>{if(!r.isAdult)return[!1,"Not an adult"];const s=lt(r,o.gameState,"berryBush",ut,l=>l.food.length>0),u=lt(r,o.gameState,"humanCorpse",ut,l=>l.food.length>0);return!s&&!u},"No Other Food Available",t+1),new he((r,o,s)=>{const u=p_(r,o.gameState);return u?(s.set(Ra,u),[!0,`Found weak target ${u.id}`]):(s.delete(Ra),!1)},"Find Weak Target",t+1),new Te((r,o,s)=>{const u=s.get(Ra);return!u||u.hitpoints<=0?(s.delete(Ra),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Desperately attacking ${u.id}`])},"Execute Desperate Attack",t+1)],"Desperate Attack",t)}function mE(t){return new De([new he((r,o)=>r.isPlayer===!0&&!!o.gameState.autopilotControls.activeAutopilotAction,"Has Player Command",t+1),new Te((r,o)=>{const{gameState:s}=o,u=s.autopilotControls.activeAutopilotAction;if(!u)return N.FAILURE;switch(u.action){case fe.AutopilotMove:{const l=u.position;return ae(r.position,l,s.mapDimensions.width,s.mapDimensions.height)<IS?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):(r.activeAction="moving",r.target=l,r.direction=cn(r.position,l,s.mapDimensions),N.RUNNING)}case fe.AutopilotGather:{const l=s.entities.entities.get(u.targetEntityId);return!l||l.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,l.position,s.mapDimensions.width,s.mapDimensions.height)>yr?(r.activeAction="moving",r.target=l.id,r.direction=cn(r.position,l.position,s.mapDimensions),N.RUNNING):(r.activeAction="gathering",r.target=l.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS)}case fe.AutopilotAttack:{const l=s.entities.entities.get(u.targetEntityId);return!l||l.type!=="human"||l.hitpoints<=0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,l.position,s.mapDimensions.width,s.mapDimensions.height)<=da?(r.activeAction="attacking",r.attackTargetId=l.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=cn(r.position,l.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotProcreate:{const l=s.entities.entities.get(u.targetEntityId);return!l||l.type!=="human"||l.gender===r.gender||!l.isAdult||!r.isAdult||l.gender==="female"&&(l.isPregnant||l.age>Hn)||r.gender==="female"&&(r.isPregnant||r.age>Hn)||(l.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||l.hunger>=St||r.hunger>=St?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,l.position,s.mapDimensions.width,s.mapDimensions.height)<=da?(r.activeAction="procreating",s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=cn(r.position,l.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotPlant:{if(r.activeAction==="planting")return N.RUNNING;const l=u.position;return Hi(l,s,Ja,r.id)?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,l,s.mapDimensions.width,s.mapDimensions.height)<=da?(r.activeAction="planting",r.target=l,s.autopilotControls.activeAutopilotAction=void 0,s.hasPlayerPlantedBush=!0,N.RUNNING):(r.activeAction="moving",r.target=l,r.direction=cn(r.position,l,s.mapDimensions),N.RUNNING)}case fe.AutopilotFeedChild:{const l=s.entities.entities.get(u.targetEntityId);return!l||l.type!=="human"||l.isAdult||r.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,l.position,s.mapDimensions.width,s.mapDimensions.height)<=da?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction="feeding",N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=cn(r.position,l.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotFollowMe:{const l=s.entities.entities.get(u.targetEntityId);return!l||l.type!=="human"||l.id!==l.leaderId?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,l.position,s.mapDimensions.width,s.mapDimensions.height)<=gm?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=cn(r.position,l.position,s.mapDimensions),N.RUNNING)}default:return s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE}},"Execute Player Command",t+1)],"Player Command Handler",t)}function vE(t){return new De([new he(r=>!!r.leaderId&&r.leaderId!==r.id,"Is Follower",t+1),new he((r,o)=>{if(!r.leaderId)return!1;const s=o.gameState.entities.entities.get(r.leaderId);return!!s&&s.isCallingToFollow===!0},"Is Leader Calling To Follow",t+1),new he(r=>r.hunger<jA,"Is Not Critically Hungry",t+1),new Te((r,o)=>{if(!r.leaderId)return N.FAILURE;const s=o.gameState.entities.entities.get(r.leaderId);return s?ae(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>$A?(r.activeAction="moving",r.target=s.id,r.direction=cn(r.position,s.position,o.gameState.mapDimensions),N.RUNNING):(r.activeAction==="moving"&&r.target===s.id&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):N.FAILURE},"Execute Follow Leader",t+1)],"Follow Leader Command",t)}const pg="tribeMigrationCheckCooldown";function yE(t){const r=new De([new he(s=>!!s.leaderId&&s.leaderId===s.id,"Is Tribe Leader",t+2),new he((s,u)=>{var c;const l=(c=s.aiBlackboard)==null?void 0:c.get(pg);return l?u.gameState.time-l>=Gp:!0},"Is Migration Check Cooldown Over",t+2),new Te((s,u)=>{var c;(c=s.aiBlackboard)==null||c.set(pg,u.gameState.time);const l=T_(s,u.gameState);return l?(s.isCallingToFollow=!0,s.callToFollowEndTime=u.gameState.time+Ko,s.target=l,s.activeAction="moving",console.log(`Tribe ${s.tribeBadge} led by ${s.id} is migrating to`,l),N.SUCCESS):N.FAILURE},"Execute Tribe Migration",t+2)],"Tribe Migration Strategy",t+1),o=new Wa(r,Mc,"Cache Tribe Migration",t+1);return new zi(Gp,o,"Tribe Migration Cooldown",t)}function AE(){const t=new Vr([b_(2),hE(2),fE(2),pE(2),gE(2),mE(2),new Ia(aE(3),"Gated Leader Combat Strategy",2),lE(2),new Ai(tE(3),"attack","Gated Attacking",2),Q_(2),new fg(new Ai(Z_(4),"gathering","Gated Gathering",3),Bp,"Timeout Gathering",2),new Ai(iE(3),"feedChildren","Gated Feed Child",2),oE(2),new fg(new Ai(sE(4),"planting","Gated Planting",3),Bp,"Timeout Planting",2),new Ai(J_(3),"procreation","Gated Procreation",2),new Wa(dE(3),Mc,"Cache Tribe Split",2),new Ia(yE(3),"Gated Tribe Migration",2),new Wa(uE(3),Mc,"Cache Establish Territory",2),new Ai(vE(3),"followLeader","Gated Follow Leader",2),new Ia(cE(2),"Gated Follow Patriarch",2),new Ia(q_(2),"Gated Idle Wander",2)],"AI Root Selector",1);return new X_(t,"Manual Control Gate",0)}class SE{constructor(){de(this,"data",new Map);de(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,u,l){const c=this.nodeExecutionData.get(r)||{lastExecuted:0,status:N.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=c.executionHistory[c.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Vo&&c.executionHistory.push({time:h.time+Vo,status:N.NOT_EVALUATED}),c.executionHistory.push({time:s,status:o});const p=wm/Zt*bt,v=s-p;c.executionHistory=c.executionHistory.filter(y=>y.time>=v);const m={...c,lastExecuted:s,status:o,depth:u,debugInfo:l};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=qA,s=[];for(const[u,l]of this.nodeExecutionData.entries())r-l.lastExecuted>o&&s.push(u);for(const u of s)this.nodeExecutionData.delete(u)}}function IE(t){t.gameState.entities.entities.forEach(o=>{Y_(o,t)})}function xm(){return{entities:new Map,nextEntityId:1}}function pd(t,r,o){const s={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(s.id,s),s}function il(t,r,o){return pd(t,"berryBush",{position:r,radius:Uc,food:Array.from({length:oA},()=>({type:xn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:iA,lifespan:aA,age:0,spreadChance:lA,spreadRadius:Uc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Bo,{enteredAt:o,previousState:void 0}]})}function $a(t,r,o,s,u=!1,l=hA,c=cm,h,p,v=[],m,y){const I=l>=Qc;return pd(t,"human",{position:r,radius:I?qt:el,hunger:c,hitpoints:Mp,maxHitpoints:Mp,age:l,gender:s,isPlayer:u,food:[],maxFood:um,maxAge:jo,isAdult:I,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[ft,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:y,aiType:hd.BehaviorTreeBased,aiBehaviorTree:AE(),aiBlackboard:new SE})}function _E(t,r,o,s,u,l,c,h,p){return pd(t,"humanCorpse",{position:r,radius:u,gender:o,age:s,originalHumanId:l,timeOfDeath:c,decayProgress:0,food:[...Array.from({length:Math.max(fm*Math.max(St-p,0)/St,1)},()=>({type:xn.Meat})),...h].map(m=>({...m,id:t.nextEntityId++})),stateMachine:void 0})}function EE(t,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],l=s?[...s.ancestorIds||[],s.id]:[],c=[...u,...l],h=[...new Set(c)],p=h.slice(Math.max(h.length-uA,0)),v=Math.random()<.5?"male":"female",m=mr(t.position,{x:5,y:5}),y=$a(o.gameState.entities,m,o.gameState.time,v,!1,0,cm/2,t.id,r,p,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return be(o,Me.Birth,t.position),y}function gd(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class TE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const u=s-1>>1,l=this.values[u];if(o>=l)break;this.ids[s]=this.ids[u],this.values[s]=l,s=u}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],u=this.length>>1;let l=0;for(;l<u;){let c=(l<<1)+1;const h=c+1;let p=this.ids[c],v=this.values[c];const m=this.values[h];if(h<this.length&&m<v&&(c=h,p=this.ids[h],v=m),v>=s)break;this.ids[l]=p,this.values[l]=v,l=c}this.ids[l]=o,this.values[l]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const gg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Sc=3;class md{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,u]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const l=u>>4;if(l!==Sc)throw new Error(`Got v${l} data when expected v${Sc}.`);const c=gg[u&15];if(!c)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[p]=new Uint32Array(r,o+4,1);return new md(p,h,c,void 0,r,o)}constructor(r,o=16,s=Float64Array,u=ArrayBuffer,l,c=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=c;let h=r,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=gg.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);l&&l.byteLength!==void 0&&!l.buffer?(this.data=l,this._boxes=new this.ArrayType(this.data,c+8,p*4),this._indices=new this.IndexArrayType(this.data,c+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Sc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new TE}add(r,o,s=r,u=o){const l=this._pos>>2,c=this._boxes;return this._indices[l]=l,c[this._pos++]=r,c[this._pos++]=o,c[this._pos++]=s,c[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),u>this.maxY&&(this.maxY=u),l}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),l=65535;for(let c=0,h=0;c<this.numItems;c++){const p=r[h++],v=r[h++],m=r[h++],y=r[h++],I=Math.floor(l*((p+m)/2-this.minX)/o),T=Math.floor(l*((v+y)/2-this.minY)/s);u[c]=CE(I,T)}xc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let c=0,h=0;c<this._levelBounds.length-1;c++){const p=this._levelBounds[c];for(;h<p;){const v=h;let m=r[h++],y=r[h++],I=r[h++],T=r[h++];for(let k=1;k<this.nodeSize&&h<p;k++)m=Math.min(m,r[h++]),y=Math.min(y,r[h++]),I=Math.max(I,r[h++]),T=Math.max(T,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=y,r[this._pos++]=I,r[this._pos++]=T}}}search(r,o,s,u,l){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const h=[],p=[];for(;c!==void 0;){const v=Math.min(c+this.nodeSize*4,vg(c,this._levelBounds));for(let m=c;m<v;m+=4){if(s<this._boxes[m]||u<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const y=this._indices[m>>2]|0;c>=this.numItems*4?h.push(y):(l===void 0||l(y))&&p.push(y)}c=h.pop()}return p}neighbors(r,o,s=1/0,u=1/0,l){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const h=this._queue,p=[],v=u*u;e:for(;c!==void 0;){const m=Math.min(c+this.nodeSize*4,vg(c,this._levelBounds));for(let y=c;y<m;y+=4){const I=this._indices[y>>2]|0,T=mg(r,this._boxes[y],this._boxes[y+2]),k=mg(o,this._boxes[y+1],this._boxes[y+3]),O=T*T+k*k;O>v||(c>=this.numItems*4?h.push(I<<1,O):(l===void 0||l(I))&&h.push((I<<1)+1,O))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;c=h.length?h.pop()>>1:void 0}return h.clear(),p}}function mg(t,r,o){return t<r?r-t:t<=o?0:t-o}function vg(t,r){let o=0,s=r.length-1;for(;o<s;){const u=o+s>>1;r[u]>t?s=u:o=u+1}return r[o]}function xc(t,r,o,s,u,l){if(Math.floor(s/l)>=Math.floor(u/l))return;const c=t[s+u>>1];let h=s-1,p=u+1;for(;;){do h++;while(t[h]<c);do p--;while(t[p]>c);if(h>=p)break;wE(t,r,o,h,p)}xc(t,r,o,s,p,l),xc(t,r,o,p+1,u,l)}function wE(t,r,o,s,u){const l=t[s];t[s]=t[u],t[u]=l;const c=4*s,h=4*u,p=r[c],v=r[c+1],m=r[c+2],y=r[c+3];r[c]=r[h],r[c+1]=r[h+1],r[c+2]=r[h+2],r[c+3]=r[h+3],r[h]=p,r[h+1]=v,r[h+2]=m,r[h+3]=y;const I=o[s];o[s]=o[u],o[u]=I}function CE(t,r){let o=t^r,s=65535^o,u=65535^(t|r),l=t&(r^65535),c=o|s>>1,h=o>>1^o,p=u>>1^s&l>>1^u,v=o&u>>1^l>>1^l;o=c,s=h,u=p,l=v,c=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&u>>2^s&l>>2,v^=s&u>>2^(o^s)&l>>2,o=c,s=h,u=p,l=v,c=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&u>>4^s&l>>4,v^=s&u>>4^(o^s)&l>>4,o=c,s=h,u=p,l=v,p^=o&u>>8^s&l>>8,v^=s&u>>8^(o^s)&l>>8,o=p^p>>1,s=v^v>>1;let m=t^r,y=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|m)>>>0}function Ic(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new md(t.length),s=new Map;for(const l of t)o.add(l.position.x,l.position.y,l.position.x,l.position.y);return o.finish(),{byRect(l){return o.search(l.left,l.top,l.right,l.bottom).map(h=>t[h])},byRadius(l,c){return o.neighbors(l.x,l.y,void 0,c).map(p=>t[p])},byProperty(l,c){var h;if(!s.has(l)){const p=new Map;for(const v of t){const m=v[l];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(l,p)}return((h=s.get(l))==null?void 0:h.get(c))||[]},resetPropertyCache(){s.clear()}}}function vd(t){const r=Array.from(t.entities.entities.values()),o=r.filter(c=>c.type==="human"),s=r.filter(c=>c.type==="berryBush"),u=r.filter(c=>c.type==="humanCorpse");return{...t,search:{human:Ic(o),berryBush:Ic(s),humanCorpse:Ic(u)}}}var Fn=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t.AUTOPILOT="AUTOPILOT",t))(Fn||{}),jr=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t.COMMAND_BUTTONS="COMMAND_BUTTONS",t))(jr||{}),Tt=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(Tt||{});const RE=[{key:Fn.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:Fn.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>cA,isCompleted:!1,minDisplayTime:Jp,highlightedUIElements:[jr.HUNGER_BAR]},{key:Fn.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!lt(r,t,"berryBush",ut*5,s=>s.food.length>0),getTargets:(t,r)=>{const o=[];for(const s of t.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ae(r.position,s.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Jp},{key:Fn.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=lt(r,t,"berryBush",ut,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:Fn.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[jr.FOOD_BAR]},{key:Fn.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>wt(t,r).length>0,getTargets:(t,r)=>{const o=lt(r,t,"human",ut,s=>{const u=s;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<St&&r.hunger<St&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=Hn:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:Fn.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>sd(t,r).some(s=>s.type===fe.Plant)||t.hasPlayerPlantedBush===!0,isCompleted:!1},{key:Fn.AUTOPILOT,title:"Autopilot!",text:"You can turn autopilot for specific actions, press Shift and click on the action button to enable it.",condition:t=>t.hasPlayerEnabledAutopilot>1,highlightedUIElements:[jr.COMMAND_BUTTONS],isCompleted:!1}];function Gm(){return{steps:RE.map(t=>({...t,isCompleted:!1}))}}function zm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Tt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function NE(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function PE(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=Tt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=At(t);if(!s){o.isActive=!1,o.transitionState=Tt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=Tt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=1/II;switch(o.transitionState){case Tt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=l*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Tt.ACTIVE);break;case Tt.ACTIVE:{t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,s)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=Tt.FADING_OUT);break}case Tt.FADING_OUT:if(o.transitionAlpha-=l*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=NE(t);h!==null?(o.currentStepIndex=h,o.transitionState=Tt.FADING_IN):(o.isActive=!1,o.transitionState=Tt.INACTIVE)}break}o.transitionState!==Tt.FADING_OUT&&o.transitionState!==Tt.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,s)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function OE(){const t=xm(),r=0;for(let m=0;m<om;m++){const y={x:Math.random()*zr,y:Math.random()*Wr};il(t,y,r)}const o=zr/2,s=Wr/2,u=$a(t,{x:o,y:s},r,"male",!0);$a(t,{x:o+50,y:s},r,"female",!1);const l=[{id:"muteButton",action:Pe.ToggleMute,currentWidth:Ri,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ni},{id:"pauseButton",action:Pe.TogglePause,currentWidth:Ri,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ni}],c=Gm(),h=zm(),p={time:r,entities:t,mapDimensions:{width:zr,height:Wr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,hasPlayerPlantedBush:!1,hasPlayerEnabledAutopilot:0,masterVolume:Nm,isMuted:!1,uiButtons:l,tutorial:c,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0},notifications:[{id:"welcome",type:Qo.Hello,message:"Welcome to the game!",duration:5e3,targetEntityIds:[u.id],highlightedEntityIds:[u.id],timestamp:0,isDismissed:!1,creationTime:Date.now()}]},v=vd(p);return console.log("Game world initialized:",v),v}function kE(){const t=xm(),r=0;for(let l=0;l<om;l++){const c={x:Math.random()*zr,y:Math.random()*Wr};il(t,c,r)}for(let l=0;l<CI;l++){const c={x:Math.random()*zr,y:Math.random()*Wr},h=Math.random()<.5?"male":"female";$a(t,c,r,h,!1)}const o=Gm(),s=zm(),u={time:r,entities:t,mapDimensions:{width:zr,height:Wr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:zr/2,y:Wr/2},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,hasPlayerPlantedBush:!1,hasPlayerEnabledAutopilot:0,masterVolume:Nm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0},notifications:[]};return vd(u)}const DE="humanProcreation",UE="human",ME="human",FE=ut,LE=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(s,u)=>s.isAdult&&s.hunger<St&&(s.procreationCooldown||0)<=0?u?!s.isPregnant&&s.age<=Hn:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},BE=(t,r,o)=>{var p,v;const{gameState:s}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},l=t.gender==="male"?t:r,c=t.gender==="female"?t:r,h=(l.partnerIds||[]).length===0;if(t.stateMachine=[Zo,{partnerId:r.id,previousState:(p=t.stateMachine)==null?void 0:p[0]}],r.stateMachine=[Zo,{partnerId:t.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id),h&&l.leaderId&&l.leaderId!==l.id){const m=s.entities.entities.get(l.leaderId);if(m){const y=Bc(l,m),I=Bc(c,m);if(!y&&!I){const T=Hc();l.leaderId=l.id,l.tribeBadge=T,c.leaderId=l.id,c.tribeBadge=T}}}else if(!t.leaderId&&!r.leaderId&&l&&c){const m=Hc();l.leaderId=l.id,l.tribeBadge=m,c.leaderId=l.id,c.tribeBadge=m}t.activeAction=void 0,rt(s,_e.Procreation,u,Mo),rt(s,_e.Partnered,t.position,Jt,t.id),rt(s,_e.Partnered,r.position,Jt,r.id),t.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,be(o,Me.Procreate,u)},HE={id:DE,sourceType:UE,targetType:ME,maxDistance:FE,checker:LE,perform:BE},xE={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Zc,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=vr&&t.activeAction==="feeding",perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-vr),t.feedChildCooldownTime=IA,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(rt(o.gameState,_e.ChildFed,r.position,Jt,r.id),r.lastChildFedEffectTime=o.gameState.time),be(o,Me.ChildFed,r.position)}},GE={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:qa,checker:(t,r,o)=>{var l;if(((l=t.stateMachine)==null?void 0:l[0])!==xi||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const s=t.stateMachine[1];return o.gameState.time-s.attackStartTime>=hm},perform:(t,r,o)=>{const s=zt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=QI(tn(s),r.direction);if(Math.abs(u)<LA*Math.PI/180&&Math.random()<BA)rt(o.gameState,_e.AttackDeflected,r.position,Jt,r.id);else{let h=RA;t.gender==="male"&&(h*=UA),t.isAdult||(h*=MA),(!r.isAdult||r.age>=dm)&&t.isAdult&&(h*=FA),r.hitpoints-=h,r.movementSlowdown={modifier:PA,endTime:o.gameState.time+OA},rt(o.gameState,_e.Hit,r.position,Jt,r.id);const v=zt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=_n(v,NA);r.forces.push(m),r.hitpoints<=0?be(o,Me.HumanDeath,r.position):be(o,Me.Attack,t.position)}t.attackCooldown=pm;const c=t.stateMachine[1];c.attackStartTime=o.gameState.time,rt(o.gameState,_e.Attack,t.position,Jt,t.id)}},zE={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:qt*2,checker:(t,r,{gameState:o})=>ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const s=ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const l=(t.radius+r.radius-s)*.05,c=tn(Om(t.position,r.position)),h=_n(c,l);t.forces.push(h),r.forces.push(_n(h,-1))}},WE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===rl&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+sm,rt(o.gameState,_e.BushClaimed,r.position,Jt),be(o,Me.Gather,t.position)}},$E={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===rl&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,be(o,Me.Gather,t.position)}},jE=[WE,$E],YE=[zE,...jE,HE,xE,GE];function VE(t){const{gameState:r}=t,o=r,s=Array.from(r.entities.entities.values());for(const u of YE)for(const l of s){if(u.sourceType&&l.type!==u.sourceType)continue;const c=o.search[u.targetType].byRadius(l.position,u.maxDistance);for(const h of c){if(l.id===h.id)continue;ae(l.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(l,h,t)&&u.perform(l,h,t)}}}function KE(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const XE=1/60;function QE(t,r){const o=At(t);o&&(t.viewportCenter=nd(t.viewportCenter,o.position,Xc*r))}function bE(t){for(const o of t.entities.entities.values())o.isHighlighted=!1;const r=t.notifications.filter(o=>!o.isDismissed);for(const o of r)if(o.highlightedEntityIds)for(const s of o.highlightedEntityIds){const u=t.entities.entities.get(s);u&&(u.isHighlighted=!0)}}function ol(t,r){if(t.isPaused)return t;for(;r>0;){const o=vd(t),s=Math.min(r,XE);if(o.gameOver)return o;const u=s*(bt/Zt);o.time+=u,QE(o,s),c_(o),bE(o),IE({gameState:o,deltaTime:s}),VE({gameState:o,deltaTime:s}),KE(o),PE(o,s),t=o,r-=s}return t}function yg(t,r,o){t.save();const{x:s,y:u,width:l,height:c}=r.rect,h=XS;if(t.beginPath(),t.moveTo(s+h,u),t.lineTo(s+l-h,u),t.quadraticCurveTo(s+l,u,s+l,u+h),t.lineTo(s+l,u+c-h),t.quadraticCurveTo(s+l,u+c,s+l-h,u+c),t.lineTo(s+h,u+c),t.quadraticCurveTo(s,u+c,s,u+c-h),t.lineTo(s,u+h),t.quadraticCurveTo(s,u,s+h,u),t.closePath(),t.fillStyle=r.isDisabled?bS:r.backgroundColor,t.fill(),r.activated){t.save();const p=(Math.sin(Date.now()/1e3*nI)+1)/2;t.strokeStyle=tI,t.lineWidth=2+p*2,t.globalAlpha=.7+p*.3,t.stroke(),t.restore()}if(r.lastActivated){const p=Date.now()-r.lastActivated;if(p<Yp){const v=1-p/Yp;t.fillStyle=qS,t.globalAlpha=v,t.fill(),t.globalAlpha=1}}o&&!r.isDisabled&&(t.fillStyle=QS,t.globalAlpha=.5,t.fill(),t.globalAlpha=1),t.fillStyle=r.isDisabled?ZS:r.textColor,r.icon?(t.font=`${c*.55}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(r.icon,s+l/2,u+c/2),r.text&&(t.font=`${c*.18}px "Press Start 2P", Arial`,t.textAlign="right",t.textBaseline="bottom",t.fillText(r.text,s+l-4,u+c-2))):(t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,s+l/2,u+c/2)),t.restore()}function ZE(t,r,o,s){t.save(),t.font=`${Vp}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="bottom";const l=t.measureText(o).width,c=Vp,h=l+Kp*2,p=c+Kp*2,v=s.x-h/2,m=t.canvas.height,y=r.y<m/2?r.y+r.height-Xp:r.y-p+Xp;t.fillStyle=JS,t.fillRect(v,y,h,p),t.fillStyle=eI,t.fillText(o,s.x,y+p/2+c/2),t.restore()}function qE(t,r,o){t.save();const s=At(r);r.uiButtons=[];const u=[{id:"fastForwardButton",action:Pe.FastForward,text:"FFWD [T]",currentWidth:Ri*1.3,backgroundColor:ma,textColor:Ni,tooltip:"Fast-forward time",rect:{x:0,y:0,width:0,height:0}},{id:"pauseButton",action:Pe.TogglePause,text:r.isPaused?"UN[P]AUSE":"[P]AUSE",backgroundColor:r.isPaused?ac:ma,currentWidth:r.isPaused?Ri*1.4:Ri*1.1,tooltip:r.isPaused?"Resume Game":"Pause Game",rect:{x:0,y:0,width:0,height:0},textColor:Ni},{id:"muteButton",action:Pe.ToggleMute,text:r.isMuted?"UN[M]UTE":"[M]UTE",backgroundColor:r.isMuted?ac:ma,tooltip:`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`,currentWidth:Ri,rect:{x:0,y:0,width:0,height:0},textColor:Ni}];if(r.uiButtons.push(...u),s){const v=sd(r,s),m=new Set(v.map(B=>B.type));let y=[{playerAction:fe.Gather,buttonAction:Pe.CommandGather,shortcut:"E",name:"Gather",toggleKey:"gathering",condition:()=>s.isAdult===!0},{playerAction:fe.Eat,buttonAction:Pe.CommandEat,shortcut:"F",name:"Eat"},{playerAction:fe.Plant,buttonAction:Pe.CommandPlant,shortcut:"B",name:"Plant",toggleKey:"planting",condition:()=>s.isAdult===!0},{playerAction:fe.Procreate,buttonAction:Pe.ToggleProcreationBehavior,shortcut:"R",name:"Procreation",toggleKey:"procreation",condition:()=>s.isAdult===!0},{playerAction:fe.FeedChild,buttonAction:Pe.ToggleFeedChildBehavior,shortcut:"H",name:"Feed Child",toggleKey:"feedChildren",condition:()=>s.isAdult===!0},{playerAction:fe.Attack,buttonAction:Pe.ToggleAttackBehavior,shortcut:"Q",name:"Attack",toggleKey:"attack",condition:()=>s.isAdult===!0},{playerAction:fe.FollowMe,buttonAction:Pe.CommandFollowMe,shortcut:"C",name:"Follow Me",toggleKey:"followLeader",condition:()=>s.isAdult===!0},{playerAction:fe.CallToAttack,buttonAction:Pe.CommandCallToAttack,shortcut:"V",name:"Call to Attack",condition:()=>s.isAdult===!0},{playerAction:fe.TribeSplit,buttonAction:Pe.CommandTribeSplit,shortcut:"K",name:"Split Tribe",condition:()=>s.leaderId!==void 0&&s.leaderId!==s.id&&s.isAdult===!0}];y=y.filter(B=>B.condition?B.condition():!0);const I=1,T=y.length,k=T*Fr+(T-1)*ya,O=I*Fr+(I-1)*ya,w=(o-k)/2,G=t.canvas.height-O-20;y.forEach((B,$)=>{const W=$%T,le=Math.floor($/T),F=w+W*(Fr+ya),j=G+le*(Fr+ya),Se=!!B.toggleKey,Oe=Se&&r.autopilotControls.behaviors[B.toggleKey],Ve=!m.has(B.playerAction),et=!r.hasPlayerEnabledAutopilot||r.hasPlayerEnabledAutopilot<3?" (Press Shift to toggle Auto)":"",Be=Se?`${B.name}${et}`:B.name,Fe=Oe?ac:ma,ve={id:`commandButton_${B.name}`,action:B.buttonAction,rect:{x:F,y:j,width:Fr,height:Fr},icon:nl[B.playerAction],text:B.shortcut,backgroundColor:Fe,textColor:Ni,currentWidth:Fr,tooltip:Be,isDisabled:Ve,activated:Oe};r.uiButtons.push(ve)})}let l=o-Dt;u.forEach(v=>{const m=Dt,y=l-v.currentWidth;v.rect={x:y,y:m,width:v.currentWidth,height:VS},yg(t,v,r.hoveredButtonId===v.id),l-=v.currentWidth+KS});let c=null;r.uiButtons.filter(v=>v.id.startsWith("commandButton_")).forEach(v=>{c||(c={x:v.rect.x,y:v.rect.y,width:v.rect.width,height:v.rect.height}),c.x=Math.min(c.x,v.rect.x),c.y=Math.min(c.y,v.rect.y),c.width=Math.max(c.width,v.rect.x+v.rect.width-c.x),c.height=Math.max(c.height,v.rect.y+v.rect.height-c.y),yg(t,v,r.hoveredButtonId===v.id)});const p=r.hoveredButtonId?r.uiButtons.find(v=>v.id===r.hoveredButtonId):void 0;return p&&p.tooltip&&r.mousePosition&&ZE(t,p.rect,p.tooltip,r.mousePosition),t.restore(),{commandButtonsRect:c}}function JE(t){t.save(),t.fillStyle=hI,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=pI,t.font=`${gI}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const eT=25,tT=0,Ag=28;function Wm(t,r,o,s,u,l,c,h,p){t.save();const v=r.x-c.x+h/2,m=r.y-c.y+p/2;t.strokeStyle=s,t.lineWidth=l,t.setLineDash(u),t.beginPath(),t.arc(v,m,o+tl,0,2*Math.PI),t.stroke(),t.restore()}function nT(t,r,o,s,u,l){if(r=r.filter(m=>m.type!==fe.FollowMe),r.length===0)return;t.save(),r.forEach(m=>{m.targetEntity&&Wm(t,m.targetEntity.position,m.targetEntity.radius,Jc,ed,2,s,u,l)}),t.font=`${Li}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const c=o.position.x-s.x+u/2,h=o.position.y-s.y+l/2;let p=0,v={};r.forEach(m=>{const y=nl[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const I=m.targetEntity.position.x-s.x+u/2,T=m.targetEntity.position.y-s.y+l/2,k=`${y}${m.key.toUpperCase()}`,O=T-m.targetEntity.radius-tl-Li/2-(v[m.targetEntity.id]-1)*Ag;t.fillText(k,I,O)}else{t.textAlign="left";const I=`${y}${m.key.toUpperCase()}`,T=c+eT,O=h+tT+p*Ag;t.fillText(I,T,O),p++,t.textAlign="center"}}),t.restore()}const re=(t,r,o,s,u,l,c)=>{l==="transparent"||s<=0||u<=0||(t.fillStyle=l,t.fillRect(Math.floor(r*c),Math.floor(o*c),Math.ceil(s*c),Math.ceil(u*c)))},Sg=10,Ig=10,An=6,Ln=4,Na=2,rT=5,Qt=4,iT=2,vt=4,oT=2,We=3,Ii=2,pr=0,Go=pr+Ln-1,Et=Go,Qe=Go+Qt-1,sT="rgba(0, 0, 0, 0.4)",aT=4,lT=1,yd={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,s,u,l,c,h="male",p=20,v=[1,0],m=!1,y=0){const I=["dead","stunned"].includes(c),T=I?Ig+4:Sg,k=I?Sg+4:Ig+We,O=.15,w=Math.min(s*(1-2*O)/T,u*(1-2*O)/k),G=T*w,B=k*w,$=r+(s-G)/2,W=o+(u-B)/2;t.save(),v[0]<0&&!I?(t.translate($+G,W),t.scale(-1,1)):t.translate($,W);const F="#D09A5A",j=p>50?"#BDBDBD":"#281808",Se="#7F5C4A",Oe="#6B4F3A",Ve="#E0D8C0",et="#A0522D",Be=1-Math.max(0,Math.min(100,y))/100*.2,Fe=h==="male"?1.1:.9,ve=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Ce=rT*Be*Fe*ve,pe=iT*Be*Fe*ve,ie=oT*Be*ve;m&&h==="female"&&(Ce*=1.5);const x=Math.round((T-Ce)/2),V=Math.round((T-An)/2),z=x-pe,E=x+Ce,D=1,te=x+(Ce/2-D/2)-ie,q=x+(Ce/2+D/2),ye=v[1]<-.2&&Math.abs(v[0])<.7,oe=X=>{t.fillStyle=sT,t.beginPath();const ne=T/2,Ne=X;t.ellipse(Math.floor(ne*w),Math.floor(Ne*w),Math.max(1,Math.floor(aT*w)),Math.max(1,Math.floor(lT*w)),0,0,2*Math.PI),t.fill()},ge=(X,ne)=>{h==="male"?(re(t,x,Go+X,Ce,Qt-Ii,ne,w),re(t,x,Go+Qt-Ii+X,Ce,Ii,Se,w)):re(t,x,Go+X,Ce,Qt,Oe,w)},ce=(X,ne)=>{ye?re(t,V,pr+X,An,Ln,j,w):(re(t,V,pr+X,An,Ln,ne,w),re(t,V,pr+X,An,Na,j,w),h==="female"?(re(t,V-1,pr+Na+X,1,Ln,j,w),re(t,V+An,pr+Na+X,1,Ln,j,w)):re(t,V+1,pr+2+X,An-2,Ln-2,j,w))};switch(c){case"idle":{const X=l*Math.PI*2,ne=Math.sin(X)*.5,ue=(Math.cos(X*2)+1)*.25;oe(Qe+We+1),re(t,te+ne,Qe+ue,ie,We,F,w),re(t,q-ne,Qe+ue,ie,We,F,w),ge(ue,F),re(t,z,Et+ue,pe,vt,F,w),re(t,E,Et+ue,pe,vt,F,w),ce(ue,F);break}case"walk":{const X=l*Math.PI*2,ne=Math.sin(X)*2,ue=Math.abs(Math.cos(X))*1;oe(Qe+We+1),re(t,te+ne,Qe+ue,ie,We,F,w),re(t,q-ne,Qe+ue,ie,We,F,w),ge(ue,F),re(t,z-ne,Et+ue,pe,vt,F,w),re(t,E+ne,Et+ue,pe,vt,F,w),ce(ue,F);break}case"gathering":{const X=l*Math.PI*2,ne=1,Ne=(Math.sin(X)+1)/2*2,ue=ne+Math.abs(Math.cos(X))*.5;oe(Qe+We+1),re(t,te,Qe+ue,ie,We-ne,F,w),re(t,q,Qe+ue,ie,We-ne,F,w),ge(ue,F),re(t,z+1,Et+ue-Ne,pe,vt,F,w),re(t,E-1,Et+ue-Ne,pe,vt,F,w),ce(ue,F);break}case"eat":{oe(Qe+We+1),re(t,te,Qe+1,ie,We-1,F,w),re(t,q,Qe+1,ie,We-1,F,w),ge(1,F);const Ne=(Math.sin(l*Math.PI*4)+1)/2,ue=V+An/2,Tn=pr+Ln/2,Ut=E+(ue-E)*Ne,Wt=Et+1+(Tn-(Et+1))*Ne;re(t,z,Et+1,pe,vt,F,w),re(t,Ut,Wt,pe,vt,F,w),re(t,Ut,Wt-1,1,1,et,w),ce(1,F);break}case"procreate":{const X=(Math.sin(l*Math.PI*8)+1)/4,ne=(Math.sin(l*Math.PI*6)+1)*.5,Ne=1.5,ue=Ne-ne;oe(Qe+We+1),re(t,te,Qe+ue,ie,We-Ne,F,w),re(t,q,Qe+ue,ie,We-Ne,F,w),ge(ue,F),re(t,z,Et+ue,pe,vt,F,w),re(t,E,Et+ue,pe,vt,F,w),ce(ue,F),t.globalAlpha=X,ge(ue,"white"),t.globalAlpha=1;break}case"attacking":{const X=Math.sin(l*Math.PI)*1.5,ne=Math.abs(Math.sin(l*Math.PI));oe(Qe+We+1),re(t,te-X,Qe+ne,ie,We,F,w),re(t,q+X*.5,Qe+ne,ie,We,F,w),ge(ne,F),re(t,z,Et+ne-2,pe,vt,F,w),re(t,E,Et+ne-2.5,pe,vt,F,w),ce(ne,F);break}case"defending":{oe(Qe+We+1),re(t,te,Qe+1,ie,We-1,F,w),re(t,q,Qe+1,ie,We-1,F,w),ge(1,F),re(t,z-1,Et+1-1,pe,vt,F,w),re(t,E+1,Et+1-1,pe,vt,F,w),ce(1,F);break}case"stunned":case"dead":{const X=c==="dead",ne=X?Math.min(1,l):0,Ne=ne>.5?Ve:F,ue=h==="male"?Se:Oe,Tn=ne>.8?"transparent":j,Ut=T/2,Wt=k/2,Ar=2;oe(k-1),re(t,Ut-ie-Ar,Wt,ie,We,Ne,w),re(t,Ut+Ar,Wt,ie,We,Ne,w),re(t,Ut-pe-Ar,Wt-Qt+1,pe,vt,Ne,w),re(t,Ut+Ar,Wt-Qt+1,pe,vt,Ne,w);const wn=Ut-Ce/2,Gn=Wt-Qt/2;h==="male"?(ne<.7&&re(t,wn,Gn+Qt-Ii,Ce,Ii,ue,w),re(t,wn,Gn,Ce,Qt-Ii,Ne,w)):ne<.7?re(t,wn,Gn,Ce,Qt,ue,w):re(t,wn,Gn,Ce,Qt,Ne,w);const Kr=Ut-An/2,zn=Wt-Qt/2-Ln+1;if(re(t,Kr,zn,An,Ln,Ne,w),Tn!=="transparent"&&re(t,Kr,zn,An,Na,Tn,w),X&&ne>.6){const Wn="#B0A890";for(let Sr=0;Sr<3;Sr++)re(t,wn+1,Gn+Sr*1+1,Ce-2,.5,Wn,w)}break}default:re(t,0,0,T,k,"magenta",w);break}t.restore()}};function uT(t,r,o,s,u){const l=r.x,c=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(l-s/2,c,s,s/2),t.fill(),t.beginPath(),t.moveTo(l-s/2,c),t.lineTo(l-s/4,c-s/3),t.lineTo(l-s/6,c),t.moveTo(l-s/6,c),t.lineTo(l,c-s/2),t.lineTo(l+s/6,c),t.moveTo(l+s/6,c),t.lineTo(l+s/4,c-s/3),t.lineTo(l+s/2,c),t.stroke(),t.restore()}function qo(t,r,o,s,u,l=!1,c=!1,h=!1,p=!1){s<Qc&&(o=o*.75),yd.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,s,[0,0],!1,0);let v,m;l?(v=BS,m=qc):c?(v=HS,m=Em):h?(v=xS,m=_m):p&&(v=GS,m=Im),v&&m&&uT(t,r,o/2,v,m)}function cT(t,r,o,s,u,l){if(t.save(),s.length===0){t.restore();return}const c=s.length*u,h=4;let p;const v=c+(s.length-1)*h;s.length>1&&v>l?p=(l-c)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:y,isPlayer:I,isHeir:T,isPartner:k,isParent:O}=s[m],w=r+m*(u+p)+u/2,G=o+u/4;qo(t,{x:w,y:G},u,y.age,y.gender,I,T,k,O)}t.restore()}function dT(t,r,o,s){if(r.length===0)return;t.save();const u=ur,l=" 00",c=" 00";t.font=`${oc}px "Press Start 2P", Arial`;const h=t.measureText(l).width,p=t.measureText(c).width,v=ur+pa+ur+cr+h+ur/2+cr+p,m=r.length*ga+(r.length-1)*$p,y=s-m-ur;t.fillStyle=WS,t.fillRect(u,y,v,m);for(let I=0;I<r.length;I++){const T=r[I],k=y+I*(ga+$p),O=k+ga/2;T.isPlayerTribe&&(t.fillStyle=zS,t.fillRect(u,k,v,ga));let w=u+ur;t.font=`${pa}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(T.tribeBadge,w,O-pa/4),w+=pa+ur*1.1,T.adultCount>0&&(qo(t,{x:w+cr/2,y:O},cr,25,"male"),w+=cr/2,t.font=`${oc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${T.adultCount}`,w,O),w+=t.measureText(` ${T.adultCount}`).width+ur/2),T.childCount>0&&(qo(t,{x:w+cr/2,y:O},cr,1,"female"),w+=cr/2,t.font=`${oc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${T.childCount}`,w,O))}t.restore()}function fT(t,r,o,s,u){if(r.transitionState===Tt.INACTIVE)return;const l=o.steps[r.currentStepIndex];if(!l)return;t.save(),t.globalAlpha=r.transitionAlpha;const c=mI,h=vI,p=yI,v=`${uc}px "Press Start 2P", Arial`,m=`${qp}px "Press Start 2P", Arial`,y=SI,I=qp*1.5;t.font=m;const T=l.text.split(" ");let k="";const O=[];for(let W=0;W<T.length;W++){const le=k+T[W]+" ";t.measureText(le).width>c-h*2&&W>0?(O.push(k),k=T[W]+" "):k=le}O.push(k);const w=h*2+uc+h/2+O.length*I,G=(s-c)/2,B=u-w-160;t.fillStyle=AI,t.beginPath(),t.moveTo(G+p,B),t.lineTo(G+c-p,B),t.quadraticCurveTo(G+c,B,G+c,B+p),t.lineTo(G+c,B+w-p),t.quadraticCurveTo(G+c,B+w,G+c-p,B+w),t.lineTo(G+p,B+w),t.quadraticCurveTo(G,B+w,G,B+w-p),t.lineTo(G,B+p),t.quadraticCurveTo(G,B,G+p,B),t.closePath(),t.fill(),t.fillStyle=y,t.textAlign="center",t.textBaseline="top",t.font=v,t.fillText(l.title,G+c/2,B+h),t.font=m;let $=B+h+uc+h/2;for(const W of O)t.fillText(W,G+c/2,$),$+=I;t.restore()}function _c(t,r,o){t.save();const s=EI,u={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};t.strokeStyle=Cm,t.lineWidth=Rm+Math.sin(o*td)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function hT(t,r){t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20)}const Gc=10,pT=3,_g=Gc*.7;function gT(t,r,o,s,u){const{position:l,food:c,maxFood:h,ownerId:p,claimedUntil:v}=r;if(t.beginPath(),t.arc(l.x,l.y,Gc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),p&&v&&v>u&&s){const m=o.entities.entities.get(p);if(m){let y;m.id===s.id?y=qc:Fm(s,m,o)?y=ES:y=Tm,y&&(t.strokeStyle=y,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(l.x,l.y,Gc+2,0,Math.PI*2),t.stroke())}}if(c.length>0){const m=Math.PI*2/Math.min(c.length,h);for(let y=0;y<c.length;y++){const I=y*m,T=l.x+_g*Math.cos(I),k=l.y+_g*Math.sin(I);t.beginPath(),t.arc(T,k,pT,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}function mT(t,r){const{position:o,gender:s,age:u,decayProgress:l,food:c,radius:h}=r;if(t.save(),t.globalAlpha=1-l,yd.render(t,o.x-h,o.y-h,h*2,h*2,l,"dead",s,u,[0,0],!1,0),t.restore(),c.length>0){t.save(),t.font=`${LS}px Arial`,t.textAlign="center",t.textBaseline="middle";const p=qt*.9,v=Math.PI/um*3;c.forEach((m,y)=>{const I=y*v,T=o.x+p*Math.cos(I)*Math.atan2(y,y),k=o.y+p*Math.sin(I)*Math.atan2(y,y),O=Pm[m.type];t.fillText(O,T,k)}),t.restore()}}function Pi(t,r,o,s,u,l,c,h){t.save(),t.fillStyle=c,t.fillRect(r,o,s,u),t.fillStyle=h,t.fillRect(r,o,s*Math.max(0,l),u),t.restore()}function vT(t,r,o,s,u,l){if(t.save(),s.length===0){t.restore();return}const c=s.length*u;let h;c>l||c+(s.length-1)*4>l?h=(l-c)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=Pm[s[p].type];t.fillText(v,r+p*(u+h),o)}t.restore()}function yT(t,r,o,s,u){const l=r.autopilotControls.hoveredAutopilotAction;if(!l)return;let c,h=qt/2;const p=nl[l.action],v=km[l.action],m=`${p} ${v}`;if("targetEntityId"in l){const y=r.entities.entities.get(l.targetEntityId);y&&(c=y.position,h=y.radius)}else"position"in l&&(c=l.position);if(c){Wm(t,c,h,Jc,ed,2,o,s,u),t.save(),t.font=`${Li}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const y=c.x-o.x+s/2,T=c.y-o.y+u/2-h-tl-Li/2;t.fillText(m,y,T),t.restore()}}function AT(t,r,o,s,u){t.save();const l=(Math.sin(u*td)+1)/2,c=o+tl+l*5;t.strokeStyle=Jc,t.lineWidth=2,t.setLineDash(ed),t.beginPath(),t.arc(r.x,r.y,c,0,Math.PI*2),t.stroke(),t.setLineDash([]);const h=nl[s],p=km[s];if(h){t.font=`${Li*1.5}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle";const v=r.y-c-25;t.fillText(h,r.x,v),t.font=`${Li*.8}px "Press Start 2P", Arial`,t.fillText(p,r.x,v+25)}t.restore()}function Eg(t,r,o){t.save();const s=30,u=70,l=3,c=u/l;for(let h=0;h<l;h++){const p=h*c,v=(o*s+p)%u,m=1-v/u;t.strokeStyle=`rgba(255, 215, 0, ${m*.7})`,t.lineWidth=1+(1-m)*2,t.beginPath(),t.arc(r.x,r.y,v,0,Math.PI*2),t.stroke()}t.restore()}function ST(t,r){const{activeAutopilotAction:o,behaviors:s}=r.autopilotControls,u=At(r);if(u&&(u.isCallingToFollow&&Eg(t,u.position,r.time),s.followLeader&&!o&&Eg(t,u.position,r.time),o)){let l,c=15;if("position"in o)l=o.position;else if("targetEntityId"in o){const h=r.entities.entities.get(o.targetEntityId);h&&(l=h.position,c=h.radius||30)}l&&o.action!==fe.AutopilotFollowMe&&!u.isCallingToFollow&&AT(t,l,c,o.action,r.time)}}function Tg(t,r,o,s,u,l,c=!0){const h=r.split(" ");let p="";const v=[];for(let m=0;m<h.length;m++){const y=p+h[m]+" ";t.measureText(y).width>u&&m>0?(v.push(p),p=h[m]+" "):p=y}if(v.push(p),c)for(let m=0;m<v.length;m++)t.fillText(v[m],o,s+m*l);return v.length*l}function IT(t){return 1-Math.pow(1-t,3)}function _T(t,r,o,s){r.notificationButtonRects={dismiss:new Map,view:new Map};const u=r.notifications.filter(c=>!c.isDismissed);if(u.length===0)return;t.save();let l=s-GI;for(const c of u){const h=o-Aa-Lr;t.font=`${cc}px "Press Start 2P", Arial`;const p=h+Lr,v=Aa-Lr*2,m=Tg(t,c.message,-9999,-9999,v,cc*1.2,!1),y=Lr*2+m+yn,I=l-y,T=Date.now()-c.creationTime,k=Math.min(T/xI,1),O=IT(k),w=s,G=w+(I-w)*O;t.fillStyle=UI,t.beginPath(),t.roundRect(h,G,Aa,y,DI),t.fill(),t.fillStyle=MI,t.textBaseline="top",Tg(t,c.message,p,G+Lr,v,cc*1.2,!0);const B=G+y-yn-Lr/2,$=h+Aa-yn-Lr/2,W={x:$,y:B,width:yn,height:yn};r.notificationButtonRects.dismiss.set(c.id,W);const le=r.hoveredButtonId===`notification-dismiss-${c.id}`;if(t.fillStyle=le?ng:FI,t.font=`${yn}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("",W.x+W.width/2,W.y+W.height/2),c.targetEntityIds||c.targetPosition||c.targetArea||c.targetRadius){const Se={x:$-yn-tg,y:B,width:yn,height:yn};r.notificationButtonRects.view.set(c.id,Se);const Oe=r.hoveredButtonId===`notification-view-${c.id}`;t.fillStyle=Oe?ng:LI,t.font=`${yn*(Oe?1.5:1.2)}px Arial`,t.fillText("",Se.x+Se.width/2,Se.y+Se.height/2)}l-=y+tg}t.restore()}const ET={moving:"walk",gathering:"gathering",eating:"eat",feeding:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering"};function TT(t,r){var h;const{radius:o,position:s,activeAction:u="idle"}=r,l=((h=r.stateMachine)==null?void 0:h[0])||"N/A",c=r.isAdult?qt+20:qt*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,s.x,s.y-c),t.fillText(`State: ${l}`,s.x,s.y-c+10),t.fillText(`HP: ${r.hitpoints}`,s.x,s.y-c+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-c+30),t.restore(),t.beginPath(),t.arc(s.x,s.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function wT(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();t.save(),t.font=`${oI}px Arial`,t.textAlign="left",t.textBaseline="top";const u=y=>{switch(y){case N.SUCCESS:return aI;case N.FAILURE:return lI;case N.RUNNING:return uI;case N.NOT_EVALUATED:case null:default:return cI}},l=y=>{if(!y.name||!s.has(y.name))return{width:0,height:0};let I=0,T=0;const k=s.get(y.name),O=` ${y.name}`+(k!=null&&k.debugInfo?`: ${k.debugInfo}`:""),w=t.measureText(O).width,G=(y.depth??0)*Qp+8+w+Zp+Po+20;if(I=Math.max(I,G),T+=lc,y.children)for(const B of y.children){const $=l(B);I=Math.max(I,$.width),T+=$.height}else if(y.child){const B=l(y.child);I=Math.max(I,B.width),T+=B.height}return{width:I,height:T}},c=(y,I,T,k)=>{if(!y.name||!s.has(y.name))return I;let O=I;const w=s.get(y.name),G=T+2+(y.depth??0)*Qp;let B=N.NOT_EVALUATED,$=bp,W="";if(w){B=w.status,W=w.debugInfo;const j=fI/Zt*bt,Se=o-w.lastExecuted,Oe=Math.max(0,1-Se/j);$=bI(bp,dI,Oe),Se>Vo&&(B=N.NOT_EVALUATED)}const le=u(B);t.fillStyle=le,t.fillText("",G,O),t.fillStyle=$;const F=` ${y.name}`+(W?`: ${W}`:"");if(t.fillText(F,G+8,O),w&&w.executionHistory.length>0){const{executionHistory:j}=w,Se=wm/Zt*bt,Oe=o,Ve=Oe-Se,et=T+k-Po-Zp;let Be=et;const Fe=O+(lc-va)/2,ve=j.filter(D=>D.time<Ve);let Ce=ve.length>0?ve[ve.length-1].status:null,pe=Ve;const ie=j.filter(D=>D.time>=Ve&&D.time<=Oe),x=Po/Se;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(et,Fe,Po,va);for(const D of ie){const q=(D.time-pe)*x;q>0&&(t.fillStyle=u(Ce),t.fillRect(Be,Fe,q,va),Be+=q),Ce=D.status,pe=D.time}o-pe>Vo&&(Ce=N.NOT_EVALUATED);const z=(Oe-pe)*x;t.fillStyle=u(Ce);const E=et+Po-Be;t.fillRect(Be,Fe,Math.min(z,E),va)}if(O+=lc,y.children)for(const j of y.children)O=c(j,O,T,k);else y.child&&(O=c(y.child,O,T,k));return O},{width:h,height:p}=l(r.aiBehaviorTree);if(p===0){t.restore();return}const v=r.position.x+rI,m=r.position.y+iI-p/2;t.fillStyle=sI,t.fillRect(v,m,h,p+4),c(r.aiBehaviorTree,m+2,v,h),t.restore()}function CT(t,r,o,s,u){t.save(),t.font=`${Fc}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-(s?qt:el)-Fc-u),t.restore()}function RT(t,r,o,s,u){const l=r.x,c=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(l-s/2,c,s,s/2),t.fill(),t.beginPath(),t.moveTo(l-s/2,c),t.lineTo(l-s/4,c-s/3),t.lineTo(l-s/6,c),t.moveTo(l-s/6,c),t.lineTo(l,c-s/2),t.lineTo(l+s/6,c),t.moveTo(l+s/6,c),t.lineTo(l+s/4,c-s/3),t.lineTo(l+s/2,c),t.stroke(),t.restore()}function NT(t,r,o){var h;const{position:s,radius:u}=r,l=s.x-sc/2,c=s.y-u-$S;if(((h=r.stateMachine)==null?void 0:h[0])===xi){const p=r.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/hm,1);Pi(t,l,c,sc,jp,m,Ci,jS)}else if(r.attackCooldown&&r.attackCooldown>0){const p=1-r.attackCooldown/pm;Pi(t,l,c,sc,jp,p,Ci,YS)}}function PT(t,r,o){const u="";t.save(),t.font="15px Arial",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=3,t.fillText(u,r.x,r.y-o),t.restore()}function OT(t,r,o=!1,s=!1,u=!1,l=!1,c=!1,h=!1,p=!1,v=!1,m,y){const{position:I,activeAction:T="idle"}=r,k=r.isAdult?qt:qt*.6,O=ET[T]||"idle";yd.render(t,I.x-k,I.y-k,k*2,k*2,r.animationProgress||0,O,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(t.save(),t.strokeStyle=Tm,t.lineWidth=2,t.beginPath(),t.arc(I.x,I.y,k+3,0,2*Math.PI),t.stroke(),t.restore());let w,G;if(c?(w=wS,G=Em):o?(w=TS,G=qc):u?(w=CS,G=_S):s?(w=RS,G=Im):l&&(w=NS,G=_m),w&&G&&RT(t,I,k,w,G),r.tribeBadge&&CT(t,I,r.tribeBadge,r.isAdult??!1,w??0),p){let $=(r.isAdult?qt:el)+5;w&&($+=w),r.tribeBadge&&($+=Fc),PT(t,I,$)}const B=v&&(y===void 0||r.id===y);B&&r.aiBlackboard&&wT(t,r,m),NT(t,r,m),B&&TT(t,r)}const $m=15;function wg(t,r,o,s,u=1.5){const l=o-r.startTime,c=Math.min(l/r.duration,1),h=1-c,v=1+Math.sin(c*Math.PI*2)*(u-1),m=$m*v;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),t.fillStyle=s,t.fill(),t.restore()}function _i(t,r,o,s,u=2){const l=o-r.startTime,c=Math.min(l/r.duration,1),h=1-c,p=$m*2*c;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,p,0,Math.PI*2),t.strokeStyle=s,t.lineWidth=u,t.stroke(),t.restore()}function dr(t,r,o,s){const u=o-r.startTime,l=Math.min(u/r.duration,1),c=1-l,h=-20*l;t.save(),t.globalAlpha=c,t.font="20px Arial",t.textAlign="center",t.fillText(s,r.position.x,r.position.y+h),t.restore()}function kT(t,r,o){switch(r.type){case _e.Hunger:wg(t,r,o,"rgba(255, 165, 0, 0.7)",1);break;case _e.Procreation:dr(t,r,o,"");break;case _e.Pregnant:wg(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case _e.TargetAcquired:_i(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case _e.Attack:dr(t,r,o,"");break;case _e.Partnered:dr(t,r,o,"");break;case _e.BushClaimed:_i(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case _e.BushClaimLost:_i(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case _e.Eating:dr(t,r,o,"");break;case _e.ChildFed:dr(t,r,o,"");break;case _e.AttackDeflected:dr(t,r,o,"");break;case _e.AttackResisted:dr(t,r,o,"");break;case _e.Hit:dr(t,r,o,"");break;case _e.SeizeBuildup:_i(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case _e.Seize:_i(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case _e.CallToAttack:_i(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Cg(t,r,o,s,u,l,c){t.save();const{position:h}=r;t.strokeStyle=s,t.lineWidth=u+Math.sin(c*l)*(u/2),t.setLineDash([8,8]),t.beginPath(),t.arc(h.x,h.y,o,0,2*Math.PI),t.stroke(),t.restore()}function Ei(t,r,o,s,u,...l){const c={...u.position};for(let h=-o;h<=o;h+=o)for(let p=-r;p<=r;p+=r)u.position.x=c.x+p,u.position.y=c.y+h,s(t,u,...l);u.position=c}function DT(t,r,o){const s=At(r),u=s?wt(r,s):[],l=Yr(u),{width:c,height:h}=r.mapDimensions;Array.from(r.entities.entities.values()).sort((m,y)=>m.position.y-y.position.y||m.id-y.id).forEach(m=>{var y,I;if(m.type==="berryBush")Ei(t,c,h,gT,m,r,s,r.time);else if(m.type==="human"){const T=m,k=T.id===(s==null?void 0:s.id),O=u.some(F=>F.id===T.id),w=T.id===(l==null?void 0:l.id),G=s&&(T.id===s.motherId||T.id===s.fatherId),B=s&&(((y=T.partnerIds)==null?void 0:y.includes(s.id))||((I=s.partnerIds)==null?void 0:I.includes(T.id))),$=(s==null?void 0:s.attackTargetId)===T.id,W=T.leaderId?r.entities.entities.get(T.leaderId):void 0,le=s?T.leaderId===s.id&&T.activeAction==="moving"&&T.target===T.leaderId&&(W==null?void 0:W.isCallingToFollow):!1;Ei(t,c,h,OT,T,k,G,O,B,w,$,le,o,r.time,r.debugCharacterId)}else m.type==="humanCorpse"&&Ei(t,c,h,mT,m)}),r.visualEffects.forEach(m=>{Ei(t,c,h,kT,m,r.time)});const v=r.notifications.filter(m=>!m.isDismissed);for(const m of v)if(m.highlightedEntityIds&&m.renderHighlights)for(const y of m.highlightedEntityIds){const I=r.entities.entities.get(y);I&&Ei(t,c,h,Cg,I,zI,WI,jI,$I,r.time)}if(r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const m of r.tutorialState.highlightedEntityIds){const y=r.entities.entities.get(m);y&&Ei(t,c,h,Cg,y,_I,Cm,Rm,td,r.time)}}function UT(t,r,o,s,u,l){let c=null,h=null;t.textAlign="left";let p=Dt+hr;const m=r.time/(bt/Zt)/am%1,y=Oo[Ti.Time],I=25,T=Dt+I;t.fillText(y,Dt,p+Ht/2+hr/3),Pi(t,T,p,lr,Ht,m,Ci,FS),p+=Ht+Mn;const k=p+Mr/2,O=p+(Mr-Ht)/2,w=5;qo(t,{x:Dt*2,y:k},Mr,5,o.gender,!1,!1,!1);const G=Dt+Mr+w,B=lr+I-(Mr+w)*2;Pi(t,G,O,B,Ht,Math.floor(o.age)/jo,Ci,MS),qo(t,{x:G+B+w+Mr/2,y:k},Mr,jo,o.gender,!1,!1,!1),p+=Ht+Mn*2;const $=[],W=new Set;if($.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),W.add(o.id),s&&!W.has(s.id)&&($.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),W.add(s.id)),u.forEach(ve=>{W.has(ve.id)||($.push({member:ve,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),W.add(ve.id))}),l.forEach(ve=>{W.has(ve.id)||($.push({member:ve,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),W.add(ve.id))}),o.motherId&&!W.has(o.motherId)){const ve=r.entities.entities.get(o.motherId);ve&&($.push({member:ve,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),W.add(ve.id))}if(o.fatherId&&!W.has(o.fatherId)){const ve=r.entities.entities.get(o.fatherId);ve&&($.push({member:ve,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),W.add(ve.id))}const le=Oo[Ti.Family],F=10,j=Dt+hr+F,Se=lr+I-(hr+F),Oe=p+ha/2;t.font=`${hr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(le,Dt,Oe);const Ve=p+ha/2;cT(t,j,Ve,$,ha,Se),p+=ha+Mn,t.textBaseline="alphabetic";const et=Oo[Ti.Hitpoints];t.fillText(et,Dt,p+Ht/2+hr/3),Pi(t,T,p,lr,Ht,o.hitpoints/o.maxHitpoints,Ci,US),p+=Ht+Mn;const Be=Oo[Ti.Hunger];t.fillText(Be,Dt,p+Ht/2+hr/3),Pi(t,T,p,lr,Ht,(Gt-o.hunger)/Gt,Ci,DS),c={x:Dt,y:p-Mn/2,width:lr+I,height:Ht+Mn},p+=Ht+Mn,t.textBaseline="middle";const Fe=Oo[Ti.Food];return t.fillText(Fe,Dt,p+fa/2),vT(t,T,p+fa/2,o.food,fa,lr),h={x:Dt,y:p-Mn/5,width:lr+I,height:fa+Mn},t.textBaseline="alphabetic",{hungerBarRect:c,foodBarRect:h}}function ja(t,r,o,s,u,l=!1){var h;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-s.x,t.canvas.height/2-s.y),!l&&r.gameOver){t.restore(),hT(t,r);return}DT(t,r,o);const c=r.notifications.filter(p=>!p.isDismissed);for(const p of c){const v=(Math.sin(r.time*HI)+1)/2;t.globalAlpha=v*.5+.25,t.fillStyle=BI,p.targetArea&&t.fillRect(p.targetArea.x,p.targetArea.y,p.targetArea.width,p.targetArea.height),p.targetRadius&&(t.beginPath(),t.arc(p.targetRadius.x,p.targetRadius.y,p.targetRadius.radius,0,Math.PI*2),t.fill())}if(t.globalAlpha=1,ST(t,r),t.restore(),!l){t.fillStyle=PS,t.font=`${hr}px "Press Start 2P", Arial`,t.shadowColor=OS,t.shadowBlur=kS;const p=At(r);let v=null,m=null;if(p){const T=wt(r,p),k=Yr(T),O=((h=p.partnerIds)==null?void 0:h.map(G=>r.entities.entities.get(G)).filter(G=>G!==void 0))||[],w=UT(t,r,p,k,O,T);v=w.hungerBarRect,m=w.foodBarRect}const y=__(r,p==null?void 0:p.leaderId);dT(t,y,t.canvas.width,t.canvas.height);const{commandButtonsRect:I}=qE(t,r,t.canvas.width);if(t.shadowColor="transparent",t.shadowBlur=0,p&&(yT(t,r,s,t.canvas.width,t.canvas.height),u.length>0&&nT(t,u,p,s,t.canvas.width,t.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:T}=r.tutorialState;T.has(jr.HUNGER_BAR)&&v&&_c(t,v,r.time),T.has(jr.FOOD_BAR)&&m&&_c(t,m,r.time),T.has(jr.COMMAND_BUTTONS)&&I&&_c(t,I,r.time)}r.tutorialState.isActive&&fT(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),_T(t,r,t.canvas.width,t.canvas.height),r.isPaused&&JE(t)}}const MT=En.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,FT=En.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,LT=En.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,BT=En.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,HT=En.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Ec="intro-soundtrack",Rg=()=>{const{setAppState:t}=Ya(),r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(kE()),u=Ae.useRef(),l=Ae.useRef(s.current.viewportCenter),c=Ae.useRef();Ae.useEffect(()=>(od(Me.SoundTrack1,{loop:!0,trackId:Ec}),()=>{ig(Ec,2)}),[]),Ae.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const y=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,ja(o.current,s.current,!1,l.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),Ae.useEffect(()=>{const m=()=>{const I=Bm(s.current);if(I.length>0){const T=Math.floor(Math.random()*I.length);c.current=I[T].id}};m();const y=setInterval(m,RI);return()=>clearInterval(y)},[]);const[h,p]=im(m=>{if(!o.current)return;if(u.current===void 0){u.current=m;return}const y=Math.min((m-u.current)/1e3,1);s.current=ol(s.current,y);const I=c.current?s.current.entities.entities.get(c.current):void 0;if(I){const{mapDimensions:T}=s.current,{width:k,height:O}=T;let w={...I.position};const G=w.x-l.current.x;Math.abs(G)>k/2&&(G>0?w.x-=k:w.x+=k);const B=w.y-l.current.y;Math.abs(B)>O/2&&(B>0?w.y-=O:w.y+=O);let $=nd(l.current,w,Xc*y);$={x:($.x%k+k)%k,y:($.y%O+O)%O},l.current=$}ja(o.current,s.current,!1,l.current,[],!0),u.current=m});Ae.useEffect(()=>(p(),h),[p,h]);const v=()=>{ig(Ec,2),t("game")};return Ee.jsxs(MT,{children:[Ee.jsx(FT,{ref:r}),Ee.jsxs(LT,{children:[Ee.jsx(BT,{children:"Tribe"}),Ee.jsx(HT,{onClick:v,children:"Start Game"})]})]})};function xT(){return console.log("Tribe game initialized with detailed 2D world state."),OE()}const GT=({canvasRef:t,ctxRef:r,gameStateRef:o,isDebugOnRef:s,viewportCenterRef:u,playerActionHintsRef:l})=>(Ae.useEffect(()=>{const c=t.current;if(!c)return;r.current=c.getContext("2d");const h=()=>{c&&r.current&&o.current&&(c.width=window.innerWidth,c.height=window.innerHeight,ja(r.current,o.current,s.current===!0,u.current,l.current,!1))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),Ee.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})),zT=(t,r,o)=>{let s;const u=E_(t,o);if(u){if(r.isAdult&&u.type==="berryBush"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(r.isAdult&&u.type==="humanCorpse"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(u.type==="human"){const l=u;l.id!==r.id&&l.leaderId!==r.leaderId&&r.isAdult?s={action:fe.AutopilotAttack,targetEntityId:l.id}:l.id!==r.id&&l.gender!==r.gender&&l.isAdult&&r.isAdult&&(l.procreationCooldown||0)<=0&&l.gender==="female"&&l.age<=Hn?s={action:fe.AutopilotProcreate,targetEntityId:l.id}:r.food.length>0&&!l.isAdult&&(l.motherId===r.id||l.fatherId===r.id)&&(s={action:fe.AutopilotFeedChild,targetEntityId:l.id})}}else o.autopilotControls.isManuallyPlanting&&r.food.filter(l=>l.type===xn.Berry).length>=Yo&&ld(t,o,1,Ja,r.id)?s={action:fe.AutopilotPlant,position:t}:s={action:fe.AutopilotMove,position:t};return s},WT=(t,r)=>{if(t.isPaused||!At(t))return;const s=t.autopilotControls.hoveredAutopilotAction;t.autopilotControls.activeAutopilotAction=void 0,s?(t.autopilotControls.activeAutopilotAction=s,(s.action===fe.AutopilotMove||s.action===fe.AutopilotGather)&&(t.hasPlayerMovedEver=!0),s.action===fe.AutopilotPlant&&(t.hasPlayerPlantedBush=!0)):t.autopilotControls.activeAutopilotAction={action:fe.AutopilotMove,position:r},t.autopilotControls.isManuallyMoving=!1,t.autopilotControls.isManuallyPlanting=!1},$T=(t,r,o)=>{var l,c,h;let s=!0,u=r;switch(t){case"m":r.isMuted=!r.isMuted,Ho(r.masterVolume,r.isMuted);break;case"=":case"+":const p=Math.min(1,r.masterVolume+.1);r.masterVolume=parseFloat(p.toFixed(1)),Ho(r.masterVolume,r.isMuted);break;case"-":const v=Math.max(0,r.masterVolume-.1);r.masterVolume=parseFloat(v.toFixed(1)),Ho(r.masterVolume,r.isMuted);break;case"t":u=ol(r,ym);break;case" ":case"p":r.isPaused=!r.isPaused;break;case"":case"`":o.current=!o.current,o.current?u.debugCharacterId=((l=At(u))==null?void 0:l.id)??((h=(c=Bm(u))==null?void 0:c[0])==null?void 0:h.id):u.debugCharacterId=void 0;break;case"tab":o.current=!0;const m=Array.from(u.entities.entities.values()).filter(y=>y.type==="human");if(m.length>0){const y=m.sort((O,w)=>O.isPlayer?-1:O.id-w.id),I=u.debugCharacterId,k=((I?y.findIndex(O=>O.id===I):-1)+1)%y.length;u.debugCharacterId=y[k].id}else u.debugCharacterId=void 0;break;default:s=!1;break}return{newState:u,handled:s}},jT=(t,r,o,s,u)=>{const l={gameState:o};if(r&&["e","b","r","h"].includes(t)&&o.hasPlayerEnabledAutopilot++,t==="e"){if(r){o.autopilotControls.behaviors.gathering=!o.autopilotControls.behaviors.gathering;return}const c=lt(s,o,"berryBush",ut,v=>v.food.length>0&&s.food.length<s.maxFood),h=lt(s,o,"humanCorpse",ut,v=>v.food.length>0&&s.food.length<s.maxFood);let p=null;c&&h?p=ae(s.position,c.position,o.mapDimensions.width,o.mapDimensions.height)<=ae(s.position,h.position,o.mapDimensions.width,o.mapDimensions.height)?c:h:p=c||h,p&&(s.activeAction="gathering",be(l,Me.Gather,s.position))}else if(t==="r"){if(r){o.autopilotControls.behaviors.procreation=!o.autopilotControls.behaviors.procreation;return}lt(s,o,"human",ut,h=>{const p=h;return p.id!==s.id&&p.gender!==s.gender&&p.isAdult&&s.isAdult&&p.hunger<St&&s.hunger<St&&(p.procreationCooldown||0)<=0&&(s.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant:!s.isPregnant)||!1})&&(s.activeAction="procreating",be(l,Me.Procreate,s.position))}else if(t==="f")s.food.length>0&&(s.activeAction="eating",be(l,Me.Eat,s.position));else if(t==="h"){if(r){o.autopilotControls.behaviors.feedChildren=!o.autopilotControls.behaviors.feedChildren;return}const c=u.find(h=>h.type===fe.FeedChild);c&&c.targetEntity&&(s.activeAction="feeding",s.target=c.targetEntity.id)}else if(t==="arrowup"||t==="w")s.direction.y=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowdown"||t==="s")s.direction.y=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowleft"||t==="a")s.direction.x=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowright"||t==="d")s.direction.x=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="q"){if(r){o.autopilotControls.behaviors.attack=!o.autopilotControls.behaviors.attack;return}const c=lt(s,o,"human",qa,h=>h.id!==s.id&&h.leaderId!==s.leaderId);c&&(s.activeAction="attacking",s.attackTargetId=c.id)}else if(t==="b"){if(r){o.autopilotControls.behaviors.planting=!o.autopilotControls.behaviors.planting;return}if(u.find(h=>h.type===fe.Plant)){const h=ld(s.position,o,50,Uc);h&&(s.activeAction="planting",s.target=h,o.hasPlayerPlantedBush=!0)}}else t==="v"?(s.isCallingToAttack=!0,s.callToAttackEndTime=o.time+Fi,rt(o,_e.CallToAttack,s.position,Fi),be(l,Me.CallToAttack,s.position)):t==="c"?(s.isCallingToFollow=!0,s.callToFollowEndTime=o.time+Ko,rt(o,_e.CallToFollow,s.position,Ko),be(l,Me.CallToFollow,s.position)):t==="k"&&cd(s,o)},YT=(t,r,o,s)=>{t==="arrowup"||t==="w"||t==="arrowdown"||t==="s"?r.direction.y=0:(t==="arrowleft"||t==="a"||t==="arrowright"||t==="d")&&(r.direction.x=0),!s.current.has("arrowup")&&!s.current.has("arrowdown")&&!s.current.has("arrowleft")&&!s.current.has("arrowright")&&!s.current.has("w")&&!s.current.has("a")&&!s.current.has("s")&&!s.current.has("d")&&(r.activeAction==="moving"&&(r.activeAction="idle"),o.autopilotControls.isManuallyMoving=!1),!s.current.has("e")&&r.activeAction==="gathering"&&(r.activeAction="idle"),!s.current.has("f")&&r.activeAction==="eating"&&(r.activeAction="idle"),!s.current.has("r")&&r.activeAction==="procreating"&&(r.activeAction="idle"),!s.current.has("h")&&r.activeAction==="feeding"&&(r.activeAction="idle")},VT=(t,r,o)=>{let u=At(t);if(t.debugCharacterId){const l=t.entities.entities.get(t.debugCharacterId);l&&"position"in l&&(u=l)}if(u){const{mapDimensions:l}=t,{width:c,height:h}=l;let p={...u.position};const v=p.x-r.x;Math.abs(v)>c/2&&(v>0?p.x-=c:p.x+=c);const m=p.y-r.y;Math.abs(m)>h/2&&(m>0?p.y-=h:p.y+=h);let y=nd(r,p,Xc*o);return y={x:(y.x%c+c)%c,y:(y.y%h+h)%h},y}return t.viewportCenter};function KT(t,r){const{width:o,height:s}=t.mapDimensions;t.viewportCenter={x:(r.x%o+o)%o,y:(r.y%s+s)%s}}const XT=(t,r,o)=>{const s={gameState:o},u=At(o);u&&be(s,Me.ButtonClick,u.position);const l=o.uiButtons.find(h=>h.id===t.id);l&&(l.lastActivated=Date.now()),r&&[Pe.CommandGather,Pe.CommandPlant,Pe.ToggleProcreationBehavior].includes(t.action)&&o.hasPlayerEnabledAutopilot++;const{behaviors:c}=o.autopilotControls;switch(t.action){case Pe.ToggleMute:o.isMuted=!o.isMuted,Ho(o.masterVolume,o.isMuted);break;case Pe.TogglePause:o.isPaused=!o.isPaused;break;case Pe.FastForward:return ol(o,ym);case Pe.CommandEat:u&&u.food.length>0&&(u.activeAction="eating");break;case Pe.CommandGather:r?c.gathering=!c.gathering:u&&(u.activeAction="gathering");break;case Pe.CommandPlant:r?c.planting=!c.planting:u&&(o.autopilotControls.isManuallyPlanting=!0);break;case Pe.ToggleProcreationBehavior:c.procreation=!c.procreation;break;case Pe.ToggleAttackBehavior:c.attack=!c.attack;break;case Pe.ToggleFeedChildBehavior:c.feedChildren=!c.feedChildren;break;case Pe.ToggleAutopilotFollowLeaderBehavior:c.followLeader=!c.followLeader;break;case Pe.CommandCallToAttack:u&&u.leaderId===u.id&&(u.isCallingToAttack=!0,u.callToAttackEndTime=o.time+Fi,rt(o,_e.CallToAttack,u.position,Fi),be(s,Me.CallToAttack,u.position));break;case Pe.CommandFollowMe:r?c.followLeader=!c.followLeader:u&&u.leaderId===u.id&&(u.isCallingToFollow=!0,u.callToFollowEndTime=o.time+Ko,rt(o,_e.CallToFollow,u.position,Ko),be(s,Me.CallToFollow,u.position));break;case Pe.CommandTribeSplit:u&&cd(u,o);break}return o};function QT(t,r,o){if(!t.notificationButtonRects)return!1;const s=At(t);for(const[u,l]of t.notificationButtonRects.dismiss.entries())if(r>=l.x&&r<=l.x+l.width&&o>=l.y&&o<=l.y+l.height)return Um(t,u),s&&be({gameState:t},Me.ButtonClick,s.position),!0;for(const[u,l]of t.notificationButtonRects.view.entries())if(r>=l.x&&r<=l.x+l.width&&o>=l.y&&o<=l.y+l.height){const c=t.notifications.find(h=>h.id===u);if(c){let h=c.targetPosition;if(!h&&c.targetEntityIds&&c.targetEntityIds.length>0){const p=t.entities.entities.get(c.targetEntityIds[0]);p&&(h=p.position)}return h&&KT(t,h),s&&be({gameState:t},Me.ButtonClick,s.position),c.highlightedEntityIds&&(c.renderHighlights=!c.renderHighlights),!0}}return!1}const bT=({isActive:t,gameStateRef:r,canvasRef:o,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:l,keysPressed:c})=>(Ae.useEffect(()=>{const h=p=>{if(!t()||r.current.gameOver||!o.current||!p.target||p.target!==o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;if(QT(r.current,m,y))return;const T=r.current.uiButtons.find(O=>m>=O.rect.x&&m<=O.rect.x+O.rect.width&&y>=O.rect.y&&y<=O.rect.y+O.rect.height);if(T){r.current=XT(T,p.shiftKey,r.current);return}const k=ug({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);WT(r.current,k)};return window.addEventListener("mousedown",h),()=>{window.removeEventListener("mousedown",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=p=>{if(!t()||!o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;r.current.mousePosition={x:m,y};let I;if(r.current.notificationButtonRects){for(const[k,O]of r.current.notificationButtonRects.dismiss.entries())if(m>=O.x&&m<=O.x+O.width&&y>=O.y&&y<=O.y+O.height){I=`notification-dismiss-${k}`;break}if(!I){for(const[k,O]of r.current.notificationButtonRects.view.entries())if(m>=O.x&&m<=O.x+O.width&&y>=O.y&&y<=O.y+O.height){I=`notification-view-${k}`;break}}}if(!I)for(let k=r.current.uiButtons.length-1;k>=0;k--){const O=r.current.uiButtons[k];if(m>=O.rect.x&&m<=O.rect.x+O.rect.width&&y>=O.rect.y&&y<=O.rect.y+O.rect.height){I=O.id;break}}if(r.current.hoveredButtonId=I,I){r.current.autopilotControls.hoveredAutopilotAction=void 0;return}const T=At(r.current);if(T){const k=ug({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);r.current.autopilotControls.hoveredAutopilotAction=zT(k,T,r.current)}else r.current.autopilotControls.hoveredAutopilotAction=void 0};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();if((m===" "||m==="p"||m==="tab")&&v.preventDefault(),m==="escape"){r.current.autopilotControls.activeAutopilotAction=void 0;return}const y=$T(m,r.current,l);if(r.current=y.newState,y.handled)return;const I=At(r.current);I&&(c.current.add(m),jT(m,v.shiftKey,r.current,I,u.current))},p=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();c.current.delete(m);const y=At(r.current);y&&YT(m,y,r.current,c)};return window.addEventListener("keydown",h),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",p)}},[t,r,u,l,c]),null),ZT=({gameStateRef:t,ctxRef:r,isDebugOnRef:o,viewportCenterRef:s,playerActionHintsRef:u,keysPressed:l,canvasRef:c,setAppState:h,appState:p})=>{const v=Ae.useRef(),[m,y,I]=im(T=>{if(!r.current||!v.current){v.current=T;return}const k=Math.min(T-v.current,1e3)/1e3;t.current=ol(t.current,k);const O=At(t.current);O?u.current=sd(t.current,O):u.current=[],s.current=VT(t.current,s.current,k),ja(r.current,t.current,o.current,s.current,u.current,!1),v.current=T,t.current.gameOver&&p!=="gameOver"&&(od(Me.GameOver,{masterVolume:t.current.masterVolume,isMuted:t.current.isMuted}),h("gameOver",{generations:t.current.generationCount,cause:t.current.causeOfGameOver||"Unknown"}))});return Ae.useEffect(()=>(y(),m),[y,m]),Ee.jsx(bT,{isActive:I,gameStateRef:t,canvasRef:c,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:o,keysPressed:l})},Ng=()=>{const[t]=Ae.useState(()=>xT());return Ee.jsx(qT,{initialState:t})},qT=({initialState:t})=>{const r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(t),u=Ae.useRef(new Set),l=Ae.useRef(!1),c=Ae.useRef(t.viewportCenter),h=Ae.useRef([]),{appState:p,setAppState:v}=Ya();return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(GT,{canvasRef:r,ctxRef:o,gameStateRef:s,isDebugOnRef:l,viewportCenterRef:c,playerActionHintsRef:h}),Ee.jsx(ZT,{gameStateRef:s,ctxRef:o,isDebugOnRef:l,viewportCenterRef:c,playerActionHintsRef:h,keysPressed:u,canvasRef:r,setAppState:v,appState:p})]})},JT=En.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,ew=En.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Pa=En.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,tw=En.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,nw=()=>{const{setAppState:t,gameOverDetails:r}=Ya(),o=()=>{t("intro")};return Ee.jsxs(JT,{children:[Ee.jsx(ew,{children:"Game Over"}),Ee.jsx(Pa,{children:"Your tribe's lineage has ended."}),r&&Ee.jsxs(Ee.Fragment,{children:[Ee.jsxs(Pa,{children:["Generations Survived: ",r.generations]}),Ee.jsxs(Pa,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Ee.jsx(Pa,{children:"Game details are unavailable."}),Ee.jsx(tw,{onClick:o,children:"Return to Menu"})]})},rw=Jy`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function iw(t,r){Ae.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Ae.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const ow=()=>{const{appState:t,setAppState:r}=Ya();iw(t,r);const o=()=>{switch(t){case"intro":return Ee.jsx(Rg,{});case"game":return Ee.jsx(Ng,{});case"gameOver":return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Ng,{}),Ee.jsx(nw,{})]});default:return Ee.jsx(Rg,{})}};return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(rw,{}),o()]})},Pg=document.getElementById("root");Pg?a_().then(()=>{Zv.createRoot(Pg).render(Ee.jsx(In.StrictMode,{children:Ee.jsx(qv,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Ee.jsx(ow,{})})}))}):console.error("Failed to find the root element");
