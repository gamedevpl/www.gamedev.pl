var G0=Object.defineProperty;var z0=(n,r,o)=>r in n?G0(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o;var $t=(n,r,o)=>z0(n,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=o(u);fetch(u.href,c)}})();function Mh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iu={exports:{}},po={},Tu={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function j0(){if(Cp)return ge;Cp=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function w(A,O,V){this.props=A,this.context=O,this.refs=M,this.updater=V||R}w.prototype.isReactComponent={},w.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function P(){}P.prototype=w.prototype;function z(A,O,V){this.props=A,this.context=O,this.refs=M,this.updater=V||R}var x=z.prototype=new P;x.constructor=z,N(x,w.prototype),x.isPureReactComponent=!0;var j=Array.isArray,b=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function ue(A,O,V){var ie,he={},oe=null,de=null;if(O!=null)for(ie in O.ref!==void 0&&(de=O.ref),O.key!==void 0&&(oe=""+O.key),O)b.call(O,ie)&&!D.hasOwnProperty(ie)&&(he[ie]=O[ie]);var ce=arguments.length-2;if(ce===1)he.children=V;else if(1<ce){for(var K=Array(ce),te=0;te<ce;te++)K[te]=arguments[te+2];he.children=K}if(A&&A.defaultProps)for(ie in ce=A.defaultProps,ce)he[ie]===void 0&&(he[ie]=ce[ie]);return{$$typeof:n,type:A,key:oe,ref:de,props:he,_owner:L.current}}function Ce(A,O){return{$$typeof:n,type:A.type,key:O,ref:A.ref,props:A.props,_owner:A._owner}}function Pe(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function st(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return O[V]})}var De=/\/+/g;function ye(A,O){return typeof A=="object"&&A!==null&&A.key!=null?st(""+A.key):O.toString(36)}function je(A,O,V,ie,he){var oe=typeof A;(oe==="undefined"||oe==="boolean")&&(A=null);var de=!1;if(A===null)de=!0;else switch(oe){case"string":case"number":de=!0;break;case"object":switch(A.$$typeof){case n:case r:de=!0}}if(de)return de=A,he=he(de),A=ie===""?"."+ye(de,0):ie,j(he)?(V="",A!=null&&(V=A.replace(De,"$&/")+"/"),je(he,O,V,"",function(te){return te})):he!=null&&(Pe(he)&&(he=Ce(he,V+(!he.key||de&&de.key===he.key?"":(""+he.key).replace(De,"$&/")+"/")+A)),O.push(he)),1;if(de=0,ie=ie===""?".":ie+":",j(A))for(var ce=0;ce<A.length;ce++){oe=A[ce];var K=ie+ye(oe,ce);de+=je(oe,O,V,K,he)}else if(K=C(A),typeof K=="function")for(A=K.call(A),ce=0;!(oe=A.next()).done;)oe=oe.value,K=ie+ye(oe,ce++),de+=je(oe,O,V,K,he);else if(oe==="object")throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return de}function Se(A,O,V){if(A==null)return A;var ie=[],he=0;return je(A,ie,"","",function(oe){return O.call(V,oe,he++)}),ie}function pe(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var re={current:null},G={transition:null},Y={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function W(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Se,forEach:function(A,O,V){Se(A,function(){O.apply(this,arguments)},V)},count:function(A){var O=0;return Se(A,function(){O++}),O},toArray:function(A){return Se(A,function(O){return O})||[]},only:function(A){if(!Pe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ge.Component=w,ge.Fragment=o,ge.Profiler=u,ge.PureComponent=z,ge.StrictMode=l,ge.Suspense=g,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ge.act=W,ge.cloneElement=function(A,O,V){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ie=N({},A.props),he=A.key,oe=A.ref,de=A._owner;if(O!=null){if(O.ref!==void 0&&(oe=O.ref,de=L.current),O.key!==void 0&&(he=""+O.key),A.type&&A.type.defaultProps)var ce=A.type.defaultProps;for(K in O)b.call(O,K)&&!D.hasOwnProperty(K)&&(ie[K]=O[K]===void 0&&ce!==void 0?ce[K]:O[K])}var K=arguments.length-2;if(K===1)ie.children=V;else if(1<K){ce=Array(K);for(var te=0;te<K;te++)ce[te]=arguments[te+2];ie.children=ce}return{$$typeof:n,type:A.type,key:he,ref:oe,props:ie,_owner:de}},ge.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ge.createElement=ue,ge.createFactory=function(A){var O=ue.bind(null,A);return O.type=A,O},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:p,render:A}},ge.isValidElement=Pe,ge.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:pe}},ge.memo=function(A,O){return{$$typeof:y,type:A,compare:O===void 0?null:O}},ge.startTransition=function(A){var O=G.transition;G.transition={};try{A()}finally{G.transition=O}},ge.unstable_act=W,ge.useCallback=function(A,O){return re.current.useCallback(A,O)},ge.useContext=function(A){return re.current.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A){return re.current.useDeferredValue(A)},ge.useEffect=function(A,O){return re.current.useEffect(A,O)},ge.useId=function(){return re.current.useId()},ge.useImperativeHandle=function(A,O,V){return re.current.useImperativeHandle(A,O,V)},ge.useInsertionEffect=function(A,O){return re.current.useInsertionEffect(A,O)},ge.useLayoutEffect=function(A,O){return re.current.useLayoutEffect(A,O)},ge.useMemo=function(A,O){return re.current.useMemo(A,O)},ge.useReducer=function(A,O,V){return re.current.useReducer(A,O,V)},ge.useRef=function(A){return re.current.useRef(A)},ge.useState=function(A){return re.current.useState(A)},ge.useSyncExternalStore=function(A,O,V){return re.current.useSyncExternalStore(A,O,V)},ge.useTransition=function(){return re.current.useTransition()},ge.version="18.3.1",ge}var kp;function lc(){return kp||(kp=1,Tu.exports=j0()),Tu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function W0(){if(Rp)return po;Rp=1;var n=lc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,y){var v,_={},C=null,R=null;y!==void 0&&(C=""+y),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(R=g.ref);for(v in g)l.call(g,v)&&!c.hasOwnProperty(v)&&(_[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:r,type:p,key:C,ref:R,props:_,_owner:u.current}}return po.Fragment=o,po.jsx=f,po.jsxs=f,po}var Pp;function $0(){return Pp||(Pp=1,Iu.exports=W0()),Iu.exports}var Re=$0(),ke=lc();const hn=Mh(ke);var Ks={},Cu={exports:{}},Ct={},ku={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function Y0(){return Dp||(Dp=1,function(n){function r(G,Y){var W=G.length;G.push(Y);e:for(;0<W;){var A=W-1>>>1,O=G[A];if(0<u(O,Y))G[A]=Y,G[W]=O,W=A;else break e}}function o(G){return G.length===0?null:G[0]}function l(G){if(G.length===0)return null;var Y=G[0],W=G.pop();if(W!==Y){G[0]=W;e:for(var A=0,O=G.length,V=O>>>1;A<V;){var ie=2*(A+1)-1,he=G[ie],oe=ie+1,de=G[oe];if(0>u(he,W))oe<O&&0>u(de,he)?(G[A]=de,G[oe]=W,A=oe):(G[A]=he,G[ie]=W,A=ie);else if(oe<O&&0>u(de,W))G[A]=de,G[oe]=W,A=oe;else break e}}return Y}function u(G,Y){var W=G.sortIndex-Y.sortIndex;return W!==0?W:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var g=[],y=[],v=1,_=null,C=3,R=!1,N=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var Y=o(y);Y!==null;){if(Y.callback===null)l(y);else if(Y.startTime<=G)l(y),Y.sortIndex=Y.expirationTime,r(g,Y);else break;Y=o(y)}}function j(G){if(M=!1,x(G),!N)if(o(g)!==null)N=!0,pe(b);else{var Y=o(y);Y!==null&&re(j,Y.startTime-G)}}function b(G,Y){N=!1,M&&(M=!1,P(ue),ue=-1),R=!0;var W=C;try{for(x(Y),_=o(g);_!==null&&(!(_.expirationTime>Y)||G&&!st());){var A=_.callback;if(typeof A=="function"){_.callback=null,C=_.priorityLevel;var O=A(_.expirationTime<=Y);Y=n.unstable_now(),typeof O=="function"?_.callback=O:_===o(g)&&l(g),x(Y)}else l(g);_=o(g)}if(_!==null)var V=!0;else{var ie=o(y);ie!==null&&re(j,ie.startTime-Y),V=!1}return V}finally{_=null,C=W,R=!1}}var L=!1,D=null,ue=-1,Ce=5,Pe=-1;function st(){return!(n.unstable_now()-Pe<Ce)}function De(){if(D!==null){var G=n.unstable_now();Pe=G;var Y=!0;try{Y=D(!0,G)}finally{Y?ye():(L=!1,D=null)}}else L=!1}var ye;if(typeof z=="function")ye=function(){z(De)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Se=je.port2;je.port1.onmessage=De,ye=function(){Se.postMessage(null)}}else ye=function(){w(De,0)};function pe(G){D=G,L||(L=!0,ye())}function re(G,Y){ue=w(function(){G(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){N||R||(N=!0,pe(b))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return o(g)},n.unstable_next=function(G){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var W=C;C=Y;try{return G()}finally{C=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=C;C=G;try{return Y()}finally{C=W}},n.unstable_scheduleCallback=function(G,Y,W){var A=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=W+O,G={id:v++,callback:Y,priorityLevel:G,startTime:W,expirationTime:O,sortIndex:-1},W>A?(G.sortIndex=W,r(y,G),o(g)===null&&G===o(y)&&(M?(P(ue),ue=-1):M=!0,re(j,W-A))):(G.sortIndex=O,r(g,G),N||R||(N=!0,pe(b))),G},n.unstable_shouldYield=st,n.unstable_wrapCallback=function(G){var Y=C;return function(){var W=C;C=Y;try{return G.apply(this,arguments)}finally{C=W}}}}(Ru)),Ru}var Np;function V0(){return Np||(Np=1,ku.exports=Y0()),ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function X0(){if(Op)return Ct;Op=1;var n=lc(),r=V0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function C(e){return g.call(_,e)?!0:g.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function R(e,t,i,s){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,s){if(t===null||typeof t>"u"||R(e,t,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,i,s,a,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P,z);w[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P,z);w[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P,z);w[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function x(e,t,i,s){var a=w.hasOwnProperty(t)?w[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,a,s)&&(i=null),s||a===null?C(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,s=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),st=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,A;function O(e){if(A===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return`
`+A+e}var V=!1;function ie(e,t){if(!e||V)return"";V=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var s=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){s=k}e.call(t.prototype)}else{try{throw Error()}catch(k){s=k}e()}}catch(k){if(k&&s&&typeof k.stack=="string"){for(var a=k.stack.split(`
`),d=s.stack.split(`
`),h=a.length-1,m=d.length-1;1<=h&&0<=m&&a[h]!==d[m];)m--;for(;1<=h&&0<=m;h--,m--)if(a[h]!==d[m]){if(h!==1||m!==1)do if(h--,m--,0>m||a[h]!==d[m]){var S=`
`+a[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=m);break}}}finally{V=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?O(e):""}function he(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Portal";case Ce:return"Profiler";case ue:return"StrictMode";case ye:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case st:return(e.displayName||"Context")+".Consumer";case Pe:return(e._context.displayName||"Context")+".Provider";case De:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function de(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function te(e){var t=K(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(h){s=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _e(e){e._valueTracker||(e._valueTracker=te(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=K(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function An(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pt(e,t){var i=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ut(e,t){var i=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;i=ce(t.value!=null?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vr(e,t){t=t.checked,t!=null&&x(e,"checked",t,!1)}function _n(e,t){vr(e,t);var i=ce(t.value),s=t.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Br(e,t.type,i):t.hasOwnProperty("defaultValue")&&Br(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Un(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Br(e,t,i){(t!=="number"||An(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Bn=Array.isArray;function xn(e,t,i,s){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&s&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function yr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hc(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(o(92));if(Bn(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ce(i)}}function Fc(e,t){var i=ce(t.value),s=ce(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Go,xc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Go=Go||document.createElement("div"),Go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$g=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(e){$g.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pi[t]=Pi[e]})});function Gc(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Pi.hasOwnProperty(e)&&Pi[e]?(""+t).trim():t+"px"}function zc(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=i.indexOf("--")===0,a=Gc(i,t[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,a):e[i]=a}}var Yg=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(e,t){if(t){if(Yg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=null;function xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gl=null,xr=null,Gr=null;function jc(e){if(e=Zi(e)){if(typeof Gl!="function")throw Error(o(280));var t=e.stateNode;t&&(t=us(t),Gl(e.stateNode,e.type,t))}}function Wc(e){xr?Gr?Gr.push(e):Gr=[e]:xr=e}function $c(){if(xr){var e=xr,t=Gr;if(Gr=xr=null,jc(e),t)for(e=0;e<t.length;e++)jc(t[e])}}function Yc(e,t){return e(t)}function Vc(){}var zl=!1;function Xc(e,t,i){if(zl)return e(t,i);zl=!0;try{return Yc(e,t,i)}finally{zl=!1,(xr!==null||Gr!==null)&&(Vc(),$c())}}function Di(e,t){var i=e.stateNode;if(i===null)return null;var s=us(i);if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var jl=!1;if(p)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{jl=!1}function Vg(e,t,i,s,a,d,h,m,S){var k=Array.prototype.slice.call(arguments,3);try{t.apply(i,k)}catch(F){this.onError(F)}}var Oi=!1,zo=null,jo=!1,Wl=null,Xg={onError:function(e){Oi=!0,zo=e}};function Kg(e,t,i,s,a,d,h,m,S){Oi=!1,zo=null,Vg.apply(Xg,arguments)}function Qg(e,t,i,s,a,d,h,m,S){if(Kg.apply(this,arguments),Oi){if(Oi){var k=zo;Oi=!1,zo=null}else throw Error(o(198));jo||(jo=!0,Wl=k)}}function Sr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Kc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qc(e){if(Sr(e)!==e)throw Error(o(188))}function qg(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,s=t;;){var a=i.return;if(a===null)break;var d=a.alternate;if(d===null){if(s=a.return,s!==null){i=s;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===i)return Qc(a),e;if(d===s)return Qc(a),t;d=d.sibling}throw Error(o(188))}if(i.return!==s.return)i=a,s=d;else{for(var h=!1,m=a.child;m;){if(m===i){h=!0,i=a,s=d;break}if(m===s){h=!0,s=a,i=d;break}m=m.sibling}if(!h){for(m=d.child;m;){if(m===i){h=!0,i=d,s=a;break}if(m===s){h=!0,s=d,i=a;break}m=m.sibling}if(!h)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function qc(e){return e=qg(e),e!==null?Zc(e):null}function Zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zc(e);if(t!==null)return t;e=e.sibling}return null}var bc=r.unstable_scheduleCallback,Jc=r.unstable_cancelCallback,Zg=r.unstable_shouldYield,bg=r.unstable_requestPaint,We=r.unstable_now,Jg=r.unstable_getCurrentPriorityLevel,$l=r.unstable_ImmediatePriority,ed=r.unstable_UserBlockingPriority,Wo=r.unstable_NormalPriority,em=r.unstable_LowPriority,td=r.unstable_IdlePriority,$o=null,on=null;function tm(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot($o,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:im,nm=Math.log,rm=Math.LN2;function im(e){return e>>>=0,e===0?32:31-(nm(e)/rm|0)|0}var Yo=64,Vo=4194304;function Mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,t){var i=e.pendingLanes;if(i===0)return 0;var s=0,a=e.suspendedLanes,d=e.pingedLanes,h=i&268435455;if(h!==0){var m=h&~a;m!==0?s=Mi(m):(d&=h,d!==0&&(s=Mi(d)))}else h=i&~a,h!==0?s=Mi(h):d!==0&&(s=Mi(d));if(s===0)return 0;if(t!==0&&t!==s&&(t&a)===0&&(a=s&-s,d=t&-t,a>=d||a===16&&(d&4194240)!==0))return t;if((s&4)!==0&&(s|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)i=31-Kt(t),a=1<<i,s|=e[i],t&=~a;return s}function om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Kt(d),m=1<<h,S=a[h];S===-1?((m&i)===0||(m&s)!==0)&&(a[h]=om(m,t)):S<=t&&(e.expiredLanes|=m),d&=~m}}function Yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nd(){var e=Yo;return Yo<<=1,(Yo&4194240)===0&&(Yo=64),e}function Vl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Li(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=i}function lm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Kt(i),d=1<<a;t[a]=0,s[a]=-1,e[a]=-1,i&=~d}}function Xl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Kt(i),a=1<<s;a&t|e[s]&t&&(e[s]|=t),i&=~a}}var Ie=0;function rd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var id,Kl,od,sd,ld,Ql=!1,Ko=[],Gn=null,zn=null,jn=null,Hi=new Map,Fi=new Map,Wn=[],am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function Ui(e,t,i,s,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[a]},t!==null&&(t=Zi(t),t!==null&&Kl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function um(e,t,i,s,a){switch(t){case"focusin":return Gn=Ui(Gn,e,t,i,s,a),!0;case"dragenter":return zn=Ui(zn,e,t,i,s,a),!0;case"mouseover":return jn=Ui(jn,e,t,i,s,a),!0;case"pointerover":var d=a.pointerId;return Hi.set(d,Ui(Hi.get(d)||null,e,t,i,s,a)),!0;case"gotpointercapture":return d=a.pointerId,Fi.set(d,Ui(Fi.get(d)||null,e,t,i,s,a)),!0}return!1}function ud(e){var t=Er(e.target);if(t!==null){var i=Sr(t);if(i!==null){if(t=i.tag,t===13){if(t=Kc(i),t!==null){e.blockedOn=t,ld(e.priority,function(){od(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Bl=s,i.target.dispatchEvent(s),Bl=null}else return t=Zi(i),t!==null&&Kl(t),e.blockedOn=i,!1;t.shift()}return!0}function cd(e,t,i){Qo(e)&&i.delete(t)}function cm(){Ql=!1,Gn!==null&&Qo(Gn)&&(Gn=null),zn!==null&&Qo(zn)&&(zn=null),jn!==null&&Qo(jn)&&(jn=null),Hi.forEach(cd),Fi.forEach(cd)}function Bi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ql||(Ql=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cm)))}function xi(e){function t(a){return Bi(a,e)}if(0<Ko.length){Bi(Ko[0],e);for(var i=1;i<Ko.length;i++){var s=Ko[i];s.blockedOn===e&&(s.blockedOn=null)}}for(Gn!==null&&Bi(Gn,e),zn!==null&&Bi(zn,e),jn!==null&&Bi(jn,e),Hi.forEach(t),Fi.forEach(t),i=0;i<Wn.length;i++)s=Wn[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)ud(i),i.blockedOn===null&&Wn.shift()}var zr=j.ReactCurrentBatchConfig,qo=!0;function dm(e,t,i,s){var a=Ie,d=zr.transition;zr.transition=null;try{Ie=1,ql(e,t,i,s)}finally{Ie=a,zr.transition=d}}function fm(e,t,i,s){var a=Ie,d=zr.transition;zr.transition=null;try{Ie=4,ql(e,t,i,s)}finally{Ie=a,zr.transition=d}}function ql(e,t,i,s){if(qo){var a=Zl(e,t,i,s);if(a===null)ha(e,t,s,Zo,i),ad(e,s);else if(um(a,e,t,i,s))s.stopPropagation();else if(ad(e,s),t&4&&-1<am.indexOf(e)){for(;a!==null;){var d=Zi(a);if(d!==null&&id(d),d=Zl(e,t,i,s),d===null&&ha(e,t,s,Zo,i),d===a)break;a=d}a!==null&&s.stopPropagation()}else ha(e,t,s,null,i)}}var Zo=null;function Zl(e,t,i,s){if(Zo=null,e=xl(s),e=Er(e),e!==null)if(t=Sr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Kc(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zo=e,null}function dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jg()){case $l:return 1;case ed:return 4;case Wo:case em:return 16;case td:return 536870912;default:return 16}default:return 16}}var $n=null,bl=null,bo=null;function fd(){if(bo)return bo;var e,t=bl,i=t.length,s,a="value"in $n?$n.value:$n.textContent,d=a.length;for(e=0;e<i&&t[e]===a[e];e++);var h=i-e;for(s=1;s<=h&&t[i-s]===a[d-s];s++);return bo=a.slice(e,1<s?1-s:void 0)}function Jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function pd(){return!1}function Dt(e){function t(i,s,a,d,h){this._reactName=i,this._targetInst=a,this.type=s,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(i=e[m],this[m]=i?i(d):d[m]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?es:pd,this.isPropagationStopped=pd,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Dt(jr),Gi=W({},jr,{view:0,detail:0}),pm=Dt(Gi),ea,ta,zi,ts=W({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(ea=e.screenX-zi.screenX,ta=e.screenY-zi.screenY):ta=ea=0,zi=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),hd=Dt(ts),hm=W({},ts,{dataTransfer:0}),gm=Dt(hm),mm=W({},Gi,{relatedTarget:0}),na=Dt(mm),vm=W({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=Dt(vm),Sm=W({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=Dt(Sm),Am=W({},jr,{data:0}),gd=Dt(Am),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Im[e])?!!t[e]:!1}function ra(){return Tm}var Cm=W({},Gi,{key:function(e){if(e.key){var t=_m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),km=Dt(Cm),Rm=W({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=Dt(Rm),Pm=W({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Dm=Dt(Pm),Nm=W({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Om=Dt(Nm),Mm=W({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=Dt(Mm),Hm=[9,13,27,32],ia=p&&"CompositionEvent"in window,ji=null;p&&"documentMode"in document&&(ji=document.documentMode);var Fm=p&&"TextEvent"in window&&!ji,vd=p&&(!ia||ji&&8<ji&&11>=ji),yd=" ",Sd=!1;function Ed(e,t){switch(e){case"keyup":return Hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Um(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(Sd=!0,yd);case"textInput":return e=t.data,e===yd&&Sd?null:e;default:return null}}function Bm(e,t){if(Wr)return e==="compositionend"||!ia&&Ed(e,t)?(e=fd(),bo=bl=$n=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var xm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xm[e.type]:t==="textarea"}function wd(e,t,i,s){Wc(s),t=ss(t,"onChange"),0<t.length&&(i=new Jl("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Wi=null,$i=null;function Gm(e){zd(e,0)}function ns(e){var t=Kr(e);if(ae(t))return e}function zm(e,t){if(e==="change")return t}var Id=!1;if(p){var oa;if(p){var sa="oninput"in document;if(!sa){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),sa=typeof Td.oninput=="function"}oa=sa}else oa=!1;Id=oa&&(!document.documentMode||9<document.documentMode)}function Cd(){Wi&&(Wi.detachEvent("onpropertychange",kd),$i=Wi=null)}function kd(e){if(e.propertyName==="value"&&ns($i)){var t=[];wd(t,$i,e,xl(e)),Xc(Gm,t)}}function jm(e,t,i){e==="focusin"?(Cd(),Wi=t,$i=i,Wi.attachEvent("onpropertychange",kd)):e==="focusout"&&Cd()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ns($i)}function $m(e,t){if(e==="click")return ns(t)}function Ym(e,t){if(e==="input"||e==="change")return ns(t)}function Vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Vm;function Yi(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var a=i[s];if(!g.call(t,a)||!Qt(e[a],t[a]))return!1}return!0}function Rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pd(e,t){var i=Rd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rd(i)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nd(){for(var e=window,t=An();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=An(e.document)}return t}function la(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xm(e){var t=Nd(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Dd(i.ownerDocument.documentElement,i)){if(s!==null&&la(i)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,d=Math.min(s.start,a);s=s.end===void 0?d:Math.min(s.end,a),!e.extend&&d>s&&(a=s,s=d,d=a),a=Pd(i,d);var h=Pd(i,s);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Km=p&&"documentMode"in document&&11>=document.documentMode,$r=null,aa=null,Vi=null,ua=!1;function Od(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ua||$r==null||$r!==An(s)||(s=$r,"selectionStart"in s&&la(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vi&&Yi(Vi,s)||(Vi=s,s=ss(aa,"onSelect"),0<s.length&&(t=new Jl("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=$r)))}function rs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Yr={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},ca={},Md={};p&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function is(e){if(ca[e])return ca[e];if(!Yr[e])return e;var t=Yr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Md)return ca[e]=t[i];return e}var Ld=is("animationend"),Hd=is("animationiteration"),Fd=is("animationstart"),Ud=is("transitionend"),Bd=new Map,xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){Bd.set(e,t),c(t,[e])}for(var da=0;da<xd.length;da++){var fa=xd[da],Qm=fa.toLowerCase(),qm=fa[0].toUpperCase()+fa.slice(1);Yn(Qm,"on"+qm)}Yn(Ld,"onAnimationEnd"),Yn(Hd,"onAnimationIteration"),Yn(Fd,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Ud,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Gd(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,Qg(s,t,void 0,e),e.currentTarget=null}function zd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],a=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var h=s.length-1;0<=h;h--){var m=s[h],S=m.instance,k=m.currentTarget;if(m=m.listener,S!==d&&a.isPropagationStopped())break e;Gd(a,m,k),d=S}else for(h=0;h<s.length;h++){if(m=s[h],S=m.instance,k=m.currentTarget,m=m.listener,S!==d&&a.isPropagationStopped())break e;Gd(a,m,k),d=S}}}if(jo)throw e=Wl,jo=!1,Wl=null,e}function Oe(e,t){var i=t[Ea];i===void 0&&(i=t[Ea]=new Set);var s=e+"__bubble";i.has(s)||(jd(t,e,2,!1),i.add(s))}function pa(e,t,i){var s=0;t&&(s|=4),jd(i,e,s,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function Ki(e){if(!e[os]){e[os]=!0,l.forEach(function(i){i!=="selectionchange"&&(Zm.has(i)||pa(i,!1,e),pa(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,pa("selectionchange",!1,t))}}function jd(e,t,i,s){switch(dd(t)){case 1:var a=dm;break;case 4:a=fm;break;default:a=ql}i=a.bind(null,t,i,e),a=void 0,!jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function ha(e,t,i,s,a){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var m=s.stateNode.containerInfo;if(m===a||m.nodeType===8&&m.parentNode===a)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===a||S.nodeType===8&&S.parentNode===a))return;h=h.return}for(;m!==null;){if(h=Er(m),h===null)return;if(S=h.tag,S===5||S===6){s=d=h;continue e}m=m.parentNode}}s=s.return}Xc(function(){var k=d,F=xl(i),U=[];e:{var H=Bd.get(e);if(H!==void 0){var $=Jl,Q=e;switch(e){case"keypress":if(Jo(i)===0)break e;case"keydown":case"keyup":$=km;break;case"focusin":Q="focus",$=na;break;case"focusout":Q="blur",$=na;break;case"beforeblur":case"afterblur":$=na;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Dm;break;case Ld:case Hd:case Fd:$=ym;break;case Ud:$=Om;break;case"scroll":$=pm;break;case"wheel":$=Lm;break;case"copy":case"cut":case"paste":$=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=md}var q=(t&4)!==0,$e=!q&&e==="scroll",I=q?H!==null?H+"Capture":null:H;q=[];for(var E=k,T;E!==null;){T=E;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,I!==null&&(B=Di(E,I),B!=null&&q.push(Qi(E,B,T)))),$e)break;E=E.return}0<q.length&&(H=new $(H,Q,null,i,F),U.push({event:H,listeners:q}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",H&&i!==Bl&&(Q=i.relatedTarget||i.fromElement)&&(Er(Q)||Q[wn]))break e;if(($||H)&&(H=F.window===F?F:(H=F.ownerDocument)?H.defaultView||H.parentWindow:window,$?(Q=i.relatedTarget||i.toElement,$=k,Q=Q?Er(Q):null,Q!==null&&($e=Sr(Q),Q!==$e||Q.tag!==5&&Q.tag!==6)&&(Q=null)):($=null,Q=k),$!==Q)){if(q=hd,B="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(q=md,B="onPointerLeave",I="onPointerEnter",E="pointer"),$e=$==null?H:Kr($),T=Q==null?H:Kr(Q),H=new q(B,E+"leave",$,i,F),H.target=$e,H.relatedTarget=T,B=null,Er(F)===k&&(q=new q(I,E+"enter",Q,i,F),q.target=T,q.relatedTarget=$e,B=q),$e=B,$&&Q)t:{for(q=$,I=Q,E=0,T=q;T;T=Vr(T))E++;for(T=0,B=I;B;B=Vr(B))T++;for(;0<E-T;)q=Vr(q),E--;for(;0<T-E;)I=Vr(I),T--;for(;E--;){if(q===I||I!==null&&q===I.alternate)break t;q=Vr(q),I=Vr(I)}q=null}else q=null;$!==null&&Wd(U,H,$,q,!1),Q!==null&&$e!==null&&Wd(U,$e,Q,q,!0)}}e:{if(H=k?Kr(k):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var Z=zm;else if(_d(H))if(Id)Z=Ym;else{Z=Wm;var J=jm}else($=H.nodeName)&&$.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(Z=$m);if(Z&&(Z=Z(e,k))){wd(U,Z,i,F);break e}J&&J(e,H,k),e==="focusout"&&(J=H._wrapperState)&&J.controlled&&H.type==="number"&&Br(H,"number",H.value)}switch(J=k?Kr(k):window,e){case"focusin":(_d(J)||J.contentEditable==="true")&&($r=J,aa=k,Vi=null);break;case"focusout":Vi=aa=$r=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,Od(U,i,F);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":Od(U,i,F)}var ee;if(ia)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Wr?Ed(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(vd&&i.locale!=="ko"&&(Wr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Wr&&(ee=fd()):($n=F,bl="value"in $n?$n.value:$n.textContent,Wr=!0)),J=ss(k,se),0<J.length&&(se=new gd(se,e,null,i,F),U.push({event:se,listeners:J}),ee?se.data=ee:(ee=Ad(i),ee!==null&&(se.data=ee)))),(ee=Fm?Um(e,i):Bm(e,i))&&(k=ss(k,"onBeforeInput"),0<k.length&&(F=new gd("onBeforeInput","beforeinput",null,i,F),U.push({event:F,listeners:k}),F.data=ee))}zd(U,t)})}function Qi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ss(e,t){for(var i=t+"Capture",s=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Di(e,i),d!=null&&s.unshift(Qi(e,d,a)),d=Di(e,t),d!=null&&s.push(Qi(e,d,a))),e=e.return}return s}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,t,i,s,a){for(var d=t._reactName,h=[];i!==null&&i!==s;){var m=i,S=m.alternate,k=m.stateNode;if(S!==null&&S===s)break;m.tag===5&&k!==null&&(m=k,a?(S=Di(i,d),S!=null&&h.unshift(Qi(i,S,m))):a||(S=Di(i,d),S!=null&&h.push(Qi(i,S,m)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var bm=/\r\n?/g,Jm=/\u0000|\uFFFD/g;function $d(e){return(typeof e=="string"?e:""+e).replace(bm,`
`).replace(Jm,"")}function ls(e,t,i){if(t=$d(t),$d(e)!==t&&i)throw Error(o(425))}function as(){}var ga=null,ma=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(e){return Yd.resolve(null).then(e).catch(n0)}:ya;function n0(e){setTimeout(function(){throw e})}function Sa(e,t){var i=t,s=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(s===0){e.removeChild(a),xi(t);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=a}while(i);xi(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),sn="__reactFiber$"+Xr,qi="__reactProps$"+Xr,wn="__reactContainer$"+Xr,Ea="__reactEvents$"+Xr,r0="__reactListeners$"+Xr,i0="__reactHandles$"+Xr;function Er(e){var t=e[sn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[wn]||i[sn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Vd(e);e!==null;){if(i=e[sn])return i;e=Vd(e)}return t}e=i,i=e.parentNode}return null}function Zi(e){return e=e[sn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function us(e){return e[qi]||null}var Aa=[],Qr=-1;function Xn(e){return{current:e}}function Me(e){0>Qr||(e.current=Aa[Qr],Aa[Qr]=null,Qr--)}function Ne(e,t){Qr++,Aa[Qr]=e.current,e.current=t}var Kn={},lt=Xn(Kn),At=Xn(!1),Ar=Kn;function qr(e,t){var i=e.type.contextTypes;if(!i)return Kn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in i)a[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _t(e){return e=e.childContextTypes,e!=null}function cs(){Me(At),Me(lt)}function Xd(e,t,i){if(lt.current!==Kn)throw Error(o(168));Ne(lt,t),Ne(At,i)}function Kd(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(o(108,de(e)||"Unknown",a));return W({},i,s)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,Ar=lt.current,Ne(lt,e),Ne(At,At.current),!0}function Qd(e,t,i){var s=e.stateNode;if(!s)throw Error(o(169));i?(e=Kd(e,t,Ar),s.__reactInternalMemoizedMergedChildContext=e,Me(At),Me(lt),Ne(lt,e)):Me(At),Ne(At,i)}var In=null,fs=!1,_a=!1;function qd(e){In===null?In=[e]:In.push(e)}function o0(e){fs=!0,qd(e)}function Qn(){if(!_a&&In!==null){_a=!0;var e=0,t=Ie;try{var i=In;for(Ie=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}In=null,fs=!1}catch(a){throw In!==null&&(In=In.slice(e+1)),bc($l,Qn),a}finally{Ie=t,_a=!1}}return null}var Zr=[],br=0,ps=null,hs=0,Bt=[],xt=0,_r=null,Tn=1,Cn="";function wr(e,t){Zr[br++]=hs,Zr[br++]=ps,ps=e,hs=t}function Zd(e,t,i){Bt[xt++]=Tn,Bt[xt++]=Cn,Bt[xt++]=_r,_r=e;var s=Tn;e=Cn;var a=32-Kt(s)-1;s&=~(1<<a),i+=1;var d=32-Kt(t)+a;if(30<d){var h=a-a%5;d=(s&(1<<h)-1).toString(32),s>>=h,a-=h,Tn=1<<32-Kt(t)+a|i<<a|s,Cn=d+e}else Tn=1<<d|i<<a|s,Cn=e}function wa(e){e.return!==null&&(wr(e,1),Zd(e,1,0))}function Ia(e){for(;e===ps;)ps=Zr[--br],Zr[br]=null,hs=Zr[--br],Zr[br]=null;for(;e===_r;)_r=Bt[--xt],Bt[xt]=null,Cn=Bt[--xt],Bt[xt]=null,Tn=Bt[--xt],Bt[xt]=null}var Nt=null,Ot=null,He=!1,qt=null;function bd(e,t){var i=Wt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Jd(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=_r!==null?{id:Tn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Wt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Nt=e,Ot=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ca(e){if(He){var t=Ot;if(t){var i=t;if(!Jd(e,t)){if(Ta(e))throw Error(o(418));t=Vn(i.nextSibling);var s=Nt;t&&Jd(e,t)?bd(s,i):(e.flags=e.flags&-4097|2,He=!1,Nt=e)}}else{if(Ta(e))throw Error(o(418));e.flags=e.flags&-4097|2,He=!1,Nt=e}}}function ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function gs(e){if(e!==Nt)return!1;if(!He)return ef(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=Ot)){if(Ta(e))throw tf(),Error(o(418));for(;t;)bd(e,t),t=Vn(t.nextSibling)}if(ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ot=Vn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Nt?Vn(e.stateNode.nextSibling):null;return!0}function tf(){for(var e=Ot;e;)e=Vn(e.nextSibling)}function Jr(){Ot=Nt=null,He=!1}function ka(e){qt===null?qt=[e]:qt.push(e)}var s0=j.ReactCurrentBatchConfig;function bi(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var s=i.stateNode}if(!s)throw Error(o(147,e));var a=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var m=a.refs;h===null?delete m[d]:m[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nf(e){var t=e._init;return t(e._payload)}function rf(e){function t(I,E){if(e){var T=I.deletions;T===null?(I.deletions=[E],I.flags|=16):T.push(E)}}function i(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function s(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function a(I,E){return I=rr(I,E),I.index=0,I.sibling=null,I}function d(I,E,T){return I.index=T,e?(T=I.alternate,T!==null?(T=T.index,T<E?(I.flags|=2,E):T):(I.flags|=2,E)):(I.flags|=1048576,E)}function h(I){return e&&I.alternate===null&&(I.flags|=2),I}function m(I,E,T,B){return E===null||E.tag!==6?(E=yu(T,I.mode,B),E.return=I,E):(E=a(E,T),E.return=I,E)}function S(I,E,T,B){var Z=T.type;return Z===D?F(I,E,T.props.children,B,T.key):E!==null&&(E.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&nf(Z)===E.type)?(B=a(E,T.props),B.ref=bi(I,E,T),B.return=I,B):(B=Gs(T.type,T.key,T.props,null,I.mode,B),B.ref=bi(I,E,T),B.return=I,B)}function k(I,E,T,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Su(T,I.mode,B),E.return=I,E):(E=a(E,T.children||[]),E.return=I,E)}function F(I,E,T,B,Z){return E===null||E.tag!==7?(E=Nr(T,I.mode,B,Z),E.return=I,E):(E=a(E,T),E.return=I,E)}function U(I,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=yu(""+E,I.mode,T),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return T=Gs(E.type,E.key,E.props,null,I.mode,T),T.ref=bi(I,null,E),T.return=I,T;case L:return E=Su(E,I.mode,T),E.return=I,E;case pe:var B=E._init;return U(I,B(E._payload),T)}if(Bn(E)||Y(E))return E=Nr(E,I.mode,T,null),E.return=I,E;ms(I,E)}return null}function H(I,E,T,B){var Z=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Z!==null?null:m(I,E,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case b:return T.key===Z?S(I,E,T,B):null;case L:return T.key===Z?k(I,E,T,B):null;case pe:return Z=T._init,H(I,E,Z(T._payload),B)}if(Bn(T)||Y(T))return Z!==null?null:F(I,E,T,B,null);ms(I,T)}return null}function $(I,E,T,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return I=I.get(T)||null,m(E,I,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return I=I.get(B.key===null?T:B.key)||null,S(E,I,B,Z);case L:return I=I.get(B.key===null?T:B.key)||null,k(E,I,B,Z);case pe:var J=B._init;return $(I,E,T,J(B._payload),Z)}if(Bn(B)||Y(B))return I=I.get(T)||null,F(E,I,B,Z,null);ms(E,B)}return null}function Q(I,E,T,B){for(var Z=null,J=null,ee=E,se=E=0,et=null;ee!==null&&se<T.length;se++){ee.index>se?(et=ee,ee=null):et=ee.sibling;var Ee=H(I,ee,T[se],B);if(Ee===null){ee===null&&(ee=et);break}e&&ee&&Ee.alternate===null&&t(I,ee),E=d(Ee,E,se),J===null?Z=Ee:J.sibling=Ee,J=Ee,ee=et}if(se===T.length)return i(I,ee),He&&wr(I,se),Z;if(ee===null){for(;se<T.length;se++)ee=U(I,T[se],B),ee!==null&&(E=d(ee,E,se),J===null?Z=ee:J.sibling=ee,J=ee);return He&&wr(I,se),Z}for(ee=s(I,ee);se<T.length;se++)et=$(ee,I,se,T[se],B),et!==null&&(e&&et.alternate!==null&&ee.delete(et.key===null?se:et.key),E=d(et,E,se),J===null?Z=et:J.sibling=et,J=et);return e&&ee.forEach(function(ir){return t(I,ir)}),He&&wr(I,se),Z}function q(I,E,T,B){var Z=Y(T);if(typeof Z!="function")throw Error(o(150));if(T=Z.call(T),T==null)throw Error(o(151));for(var J=Z=null,ee=E,se=E=0,et=null,Ee=T.next();ee!==null&&!Ee.done;se++,Ee=T.next()){ee.index>se?(et=ee,ee=null):et=ee.sibling;var ir=H(I,ee,Ee.value,B);if(ir===null){ee===null&&(ee=et);break}e&&ee&&ir.alternate===null&&t(I,ee),E=d(ir,E,se),J===null?Z=ir:J.sibling=ir,J=ir,ee=et}if(Ee.done)return i(I,ee),He&&wr(I,se),Z;if(ee===null){for(;!Ee.done;se++,Ee=T.next())Ee=U(I,Ee.value,B),Ee!==null&&(E=d(Ee,E,se),J===null?Z=Ee:J.sibling=Ee,J=Ee);return He&&wr(I,se),Z}for(ee=s(I,ee);!Ee.done;se++,Ee=T.next())Ee=$(ee,I,se,Ee.value,B),Ee!==null&&(e&&Ee.alternate!==null&&ee.delete(Ee.key===null?se:Ee.key),E=d(Ee,E,se),J===null?Z=Ee:J.sibling=Ee,J=Ee);return e&&ee.forEach(function(x0){return t(I,x0)}),He&&wr(I,se),Z}function $e(I,E,T,B){if(typeof T=="object"&&T!==null&&T.type===D&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case b:e:{for(var Z=T.key,J=E;J!==null;){if(J.key===Z){if(Z=T.type,Z===D){if(J.tag===7){i(I,J.sibling),E=a(J,T.props.children),E.return=I,I=E;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===pe&&nf(Z)===J.type){i(I,J.sibling),E=a(J,T.props),E.ref=bi(I,J,T),E.return=I,I=E;break e}i(I,J);break}else t(I,J);J=J.sibling}T.type===D?(E=Nr(T.props.children,I.mode,B,T.key),E.return=I,I=E):(B=Gs(T.type,T.key,T.props,null,I.mode,B),B.ref=bi(I,E,T),B.return=I,I=B)}return h(I);case L:e:{for(J=T.key;E!==null;){if(E.key===J)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){i(I,E.sibling),E=a(E,T.children||[]),E.return=I,I=E;break e}else{i(I,E);break}else t(I,E);E=E.sibling}E=Su(T,I.mode,B),E.return=I,I=E}return h(I);case pe:return J=T._init,$e(I,E,J(T._payload),B)}if(Bn(T))return Q(I,E,T,B);if(Y(T))return q(I,E,T,B);ms(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(i(I,E.sibling),E=a(E,T),E.return=I,I=E):(i(I,E),E=yu(T,I.mode,B),E.return=I,I=E),h(I)):i(I,E)}return $e}var ei=rf(!0),of=rf(!1),vs=Xn(null),ys=null,ti=null,Ra=null;function Pa(){Ra=ti=ys=null}function Da(e){var t=vs.current;Me(vs),e._currentValue=t}function Na(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function ni(e,t){ys=e,Ra=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(wt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Ra!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(ys===null)throw Error(o(308));ti=e,ys.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var Ir=null;function Oa(e){Ir===null?Ir=[e]:Ir.push(e)}function sf(e,t,i,s){var a=t.interleaved;return a===null?(i.next=i,Oa(t)):(i.next=a.next,a.next=i),t.interleaved=i,kn(e,s)}function kn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var qn=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ve&2)!==0){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,kn(e,i)}return a=s.interleaved,a===null?(t.next=t,Oa(s)):(t.next=a.next,a.next=t),s.interleaved=t,kn(e,i)}function Ss(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Xl(e,i)}}function af(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var a=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?a=d=h:d=d.next=h,i=i.next}while(i!==null);d===null?a=d=t:d=d.next=t}else a=d=t;i={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Es(e,t,i,s){var a=e.updateQueue;qn=!1;var d=a.firstBaseUpdate,h=a.lastBaseUpdate,m=a.shared.pending;if(m!==null){a.shared.pending=null;var S=m,k=S.next;S.next=null,h===null?d=k:h.next=k,h=S;var F=e.alternate;F!==null&&(F=F.updateQueue,m=F.lastBaseUpdate,m!==h&&(m===null?F.firstBaseUpdate=k:m.next=k,F.lastBaseUpdate=S))}if(d!==null){var U=a.baseState;h=0,F=k=S=null,m=d;do{var H=m.lane,$=m.eventTime;if((s&H)===H){F!==null&&(F=F.next={eventTime:$,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var Q=e,q=m;switch(H=t,$=i,q.tag){case 1:if(Q=q.payload,typeof Q=="function"){U=Q.call($,U,H);break e}U=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=q.payload,H=typeof Q=="function"?Q.call($,U,H):Q,H==null)break e;U=W({},U,H);break e;case 2:qn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,H=a.effects,H===null?a.effects=[m]:H.push(m))}else $={eventTime:$,lane:H,tag:m.tag,payload:m.payload,callback:m.callback,next:null},F===null?(k=F=$,S=U):F=F.next=$,h|=H;if(m=m.next,m===null){if(m=a.shared.pending,m===null)break;H=m,m=H.next,H.next=null,a.lastBaseUpdate=H,a.shared.pending=null}}while(!0);if(F===null&&(S=U),a.baseState=S,a.firstBaseUpdate=k,a.lastBaseUpdate=F,t=a.shared.interleaved,t!==null){a=t;do h|=a.lane,a=a.next;while(a!==t)}else d===null&&(a.shared.lanes=0);kr|=h,e.lanes=h,e.memoizedState=U}}function uf(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=i,typeof a!="function")throw Error(o(191,a));a.call(s)}}}var Ji={},ln=Xn(Ji),eo=Xn(Ji),to=Xn(Ji);function Tr(e){if(e===Ji)throw Error(o(174));return e}function La(e,t){switch(Ne(to,t),Ne(eo,e),Ne(ln,Ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hl(t,e)}Me(ln),Ne(ln,t)}function ri(){Me(ln),Me(eo),Me(to)}function cf(e){Tr(to.current);var t=Tr(ln.current),i=Hl(t,e.type);t!==i&&(Ne(eo,e),Ne(ln,i))}function Ha(e){eo.current===e&&(Me(ln),Me(eo))}var Be=Xn(0);function As(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=[];function Ua(){for(var e=0;e<Fa.length;e++)Fa[e]._workInProgressVersionPrimary=null;Fa.length=0}var _s=j.ReactCurrentDispatcher,Ba=j.ReactCurrentBatchConfig,Cr=0,xe=null,Qe=null,be=null,ws=!1,no=!1,ro=0,l0=0;function at(){throw Error(o(321))}function xa(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Qt(e[i],t[i]))return!1;return!0}function Ga(e,t,i,s,a,d){if(Cr=d,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_s.current=e===null||e.memoizedState===null?d0:f0,e=i(s,a),no){d=0;do{if(no=!1,ro=0,25<=d)throw Error(o(301));d+=1,be=Qe=null,t.updateQueue=null,_s.current=p0,e=i(s,a)}while(no)}if(_s.current=Cs,t=Qe!==null&&Qe.next!==null,Cr=0,be=Qe=xe=null,ws=!1,t)throw Error(o(300));return e}function za(){var e=ro!==0;return ro=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?xe.memoizedState=be=e:be=be.next=e,be}function zt(){if(Qe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=be===null?xe.memoizedState:be.next;if(t!==null)be=t,Qe=e;else{if(e===null)throw Error(o(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},be===null?xe.memoizedState=be=e:be=be.next=e}return be}function io(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=zt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=Qe,a=s.baseQueue,d=i.pending;if(d!==null){if(a!==null){var h=a.next;a.next=d.next,d.next=h}s.baseQueue=a=d,i.pending=null}if(a!==null){d=a.next,s=s.baseState;var m=h=null,S=null,k=d;do{var F=k.lane;if((Cr&F)===F)S!==null&&(S=S.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),s=k.hasEagerState?k.eagerState:e(s,k.action);else{var U={lane:F,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};S===null?(m=S=U,h=s):S=S.next=U,xe.lanes|=F,kr|=F}k=k.next}while(k!==null&&k!==d);S===null?h=s:S.next=m,Qt(s,t.memoizedState)||(wt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=S,i.lastRenderedState=s}if(e=i.interleaved,e!==null){a=e;do d=a.lane,xe.lanes|=d,kr|=d,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Wa(e){var t=zt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,a=i.pending,d=t.memoizedState;if(a!==null){i.pending=null;var h=a=a.next;do d=e(d,h.action),h=h.next;while(h!==a);Qt(d,t.memoizedState)||(wt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,s]}function df(){}function ff(e,t){var i=xe,s=zt(),a=t(),d=!Qt(s.memoizedState,a);if(d&&(s.memoizedState=a,wt=!0),s=s.queue,$a(gf.bind(null,i,s,e),[e]),s.getSnapshot!==t||d||be!==null&&be.memoizedState.tag&1){if(i.flags|=2048,oo(9,hf.bind(null,i,s,a,t),void 0,null),Je===null)throw Error(o(349));(Cr&30)!==0||pf(i,t,a)}return a}function pf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function hf(e,t,i,s){t.value=i,t.getSnapshot=s,mf(t)&&vf(e)}function gf(e,t,i){return i(function(){mf(t)&&vf(e)})}function mf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Qt(e,i)}catch{return!0}}function vf(e){var t=kn(e,1);t!==null&&en(t,e,1,-1)}function yf(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:e},t.queue=e,e=e.dispatch=c0.bind(null,xe,e),[t.memoizedState,e]}function oo(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e)),e}function Sf(){return zt().memoizedState}function Is(e,t,i,s){var a=an();xe.flags|=e,a.memoizedState=oo(1|t,i,void 0,s===void 0?null:s)}function Ts(e,t,i,s){var a=zt();s=s===void 0?null:s;var d=void 0;if(Qe!==null){var h=Qe.memoizedState;if(d=h.destroy,s!==null&&xa(s,h.deps)){a.memoizedState=oo(t,i,d,s);return}}xe.flags|=e,a.memoizedState=oo(1|t,i,d,s)}function Ef(e,t){return Is(8390656,8,e,t)}function $a(e,t){return Ts(2048,8,e,t)}function Af(e,t){return Ts(4,2,e,t)}function _f(e,t){return Ts(4,4,e,t)}function wf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function If(e,t,i){return i=i!=null?i.concat([e]):null,Ts(4,4,wf.bind(null,t,e),i)}function Ya(){}function Tf(e,t){var i=zt();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&xa(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Cf(e,t){var i=zt();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&xa(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function kf(e,t,i){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=i):(Qt(i,t)||(i=nd(),xe.lanes|=i,kr|=i,e.baseState=!0),t)}function a0(e,t){var i=Ie;Ie=i!==0&&4>i?i:4,e(!0);var s=Ba.transition;Ba.transition={};try{e(!1),t()}finally{Ie=i,Ba.transition=s}}function Rf(){return zt().memoizedState}function u0(e,t,i){var s=tr(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},Pf(e))Df(t,i);else if(i=sf(e,t,i,s),i!==null){var a=mt();en(i,e,s,a),Nf(i,t,s)}}function c0(e,t,i){var s=tr(e),a={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(Pf(e))Df(t,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,m=d(h,i);if(a.hasEagerState=!0,a.eagerState=m,Qt(m,h)){var S=t.interleaved;S===null?(a.next=a,Oa(t)):(a.next=S.next,S.next=a),t.interleaved=a;return}}catch{}finally{}i=sf(e,t,a,s),i!==null&&(a=mt(),en(i,e,s,a),Nf(i,t,s))}}function Pf(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Df(e,t){no=ws=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nf(e,t,i){if((i&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Xl(e,i)}}var Cs={readContext:Gt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},d0={readContext:Gt,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Ef,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Is(4194308,4,wf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var i=an();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=an();return t=i!==void 0?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=u0.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:yf,useDebugValue:Ya,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=yf(!1),t=e[0];return e=a0.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=xe,a=an();if(He){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),Je===null)throw Error(o(349));(Cr&30)!==0||pf(s,t,i)}a.memoizedState=i;var d={value:i,getSnapshot:t};return a.queue=d,Ef(gf.bind(null,s,d,e),[e]),s.flags|=2048,oo(9,hf.bind(null,s,d,i,t),void 0,null),i},useId:function(){var e=an(),t=Je.identifierPrefix;if(He){var i=Cn,s=Tn;i=(s&~(1<<32-Kt(s)-1)).toString(32)+i,t=":"+t+"R"+i,i=ro++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=l0++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f0={readContext:Gt,useCallback:Tf,useContext:Gt,useEffect:$a,useImperativeHandle:If,useInsertionEffect:Af,useLayoutEffect:_f,useMemo:Cf,useReducer:ja,useRef:Sf,useState:function(){return ja(io)},useDebugValue:Ya,useDeferredValue:function(e){var t=zt();return kf(t,Qe.memoizedState,e)},useTransition:function(){var e=ja(io)[0],t=zt().memoizedState;return[e,t]},useMutableSource:df,useSyncExternalStore:ff,useId:Rf,unstable_isNewReconciler:!1},p0={readContext:Gt,useCallback:Tf,useContext:Gt,useEffect:$a,useImperativeHandle:If,useInsertionEffect:Af,useLayoutEffect:_f,useMemo:Cf,useReducer:Wa,useRef:Sf,useState:function(){return Wa(io)},useDebugValue:Ya,useDeferredValue:function(e){var t=zt();return Qe===null?t.memoizedState=e:kf(t,Qe.memoizedState,e)},useTransition:function(){var e=Wa(io)[0],t=zt().memoizedState;return[e,t]},useMutableSource:df,useSyncExternalStore:ff,useId:Rf,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Va(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:W({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ks={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=mt(),a=tr(e),d=Rn(s,a);d.payload=t,i!=null&&(d.callback=i),t=Zn(e,d,a),t!==null&&(en(t,e,a,s),Ss(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=mt(),a=tr(e),d=Rn(s,a);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=Zn(e,d,a),t!==null&&(en(t,e,a,s),Ss(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=mt(),s=tr(e),a=Rn(i,s);a.tag=2,t!=null&&(a.callback=t),t=Zn(e,a,s),t!==null&&(en(t,e,s,i),Ss(t,e,s))}};function Of(e,t,i,s,a,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,h):t.prototype&&t.prototype.isPureReactComponent?!Yi(i,s)||!Yi(a,d):!0}function Mf(e,t,i){var s=!1,a=Kn,d=t.contextType;return typeof d=="object"&&d!==null?d=Gt(d):(a=_t(t)?Ar:lt.current,s=t.contextTypes,d=(s=s!=null)?qr(e,a):Kn),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ks,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),t}function Lf(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&ks.enqueueReplaceState(t,t.state,null)}function Xa(e,t,i,s){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},Ma(e);var d=t.contextType;typeof d=="object"&&d!==null?a.context=Gt(d):(d=_t(t)?Ar:lt.current,a.context=qr(e,d)),a.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Va(e,t,d,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ks.enqueueReplaceState(a,a.state,null),Es(e,i,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var i="",s=t;do i+=he(s),s=s.return;while(s);var a=i}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:a,digest:null}}function Ka(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Qa(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function Hf(e,t,i){i=Rn(-1,i),i.tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){Ls||(Ls=!0,cu=s),Qa(e,t)},i}function Ff(e,t,i){i=Rn(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;i.payload=function(){return s(a)},i.callback=function(){Qa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Qa(e,t),typeof s!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),i}function Uf(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(i)||(a.add(i),e=R0.bind(null,e,t,i),t.then(e,e))}function Bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xf(e,t,i,s,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Rn(-1,1),t.tag=2,Zn(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var g0=j.ReactCurrentOwner,wt=!1;function gt(e,t,i,s){t.child=e===null?of(t,null,i,s):ei(t,e.child,i,s)}function Gf(e,t,i,s,a){i=i.render;var d=t.ref;return ni(t,a),s=Ga(e,t,i,s,d,a),i=za(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(He&&i&&wa(t),t.flags|=1,gt(e,t,s,a),t.child)}function zf(e,t,i,s,a){if(e===null){var d=i.type;return typeof d=="function"&&!vu(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,jf(e,t,d,s,a)):(e=Gs(i.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&a)===0){var h=d.memoizedProps;if(i=i.compare,i=i!==null?i:Yi,i(h,s)&&e.ref===t.ref)return Pn(e,t,a)}return t.flags|=1,e=rr(d,s),e.ref=t.ref,e.return=t,t.child=e}function jf(e,t,i,s,a){if(e!==null){var d=e.memoizedProps;if(Yi(d,s)&&e.ref===t.ref)if(wt=!1,t.pendingProps=s=d,(e.lanes&a)!==0)(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,Pn(e,t,a)}return qa(e,t,i,s,a)}function Wf(e,t,i){var s=t.pendingProps,a=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(si,Mt),Mt|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(si,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,Ne(si,Mt),Mt|=s}else d!==null?(s=d.baseLanes|i,t.memoizedState=null):s=i,Ne(si,Mt),Mt|=s;return gt(e,t,a,i),t.child}function $f(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,i,s,a){var d=_t(i)?Ar:lt.current;return d=qr(t,d),ni(t,a),i=Ga(e,t,i,s,d,a),s=za(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(He&&s&&wa(t),t.flags|=1,gt(e,t,i,a),t.child)}function Yf(e,t,i,s,a){if(_t(i)){var d=!0;ds(t)}else d=!1;if(ni(t,a),t.stateNode===null)Ps(e,t),Mf(t,i,s),Xa(t,i,s,a),s=!0;else if(e===null){var h=t.stateNode,m=t.memoizedProps;h.props=m;var S=h.context,k=i.contextType;typeof k=="object"&&k!==null?k=Gt(k):(k=_t(i)?Ar:lt.current,k=qr(t,k));var F=i.getDerivedStateFromProps,U=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function";U||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==s||S!==k)&&Lf(t,h,s,k),qn=!1;var H=t.memoizedState;h.state=H,Es(t,s,h,a),S=t.memoizedState,m!==s||H!==S||At.current||qn?(typeof F=="function"&&(Va(t,i,F,s),S=t.memoizedState),(m=qn||Of(t,i,m,s,H,S,k))?(U||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=k,s=m):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,lf(e,t),m=t.memoizedProps,k=t.type===t.elementType?m:Zt(t.type,m),h.props=k,U=t.pendingProps,H=h.context,S=i.contextType,typeof S=="object"&&S!==null?S=Gt(S):(S=_t(i)?Ar:lt.current,S=qr(t,S));var $=i.getDerivedStateFromProps;(F=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==U||H!==S)&&Lf(t,h,s,S),qn=!1,H=t.memoizedState,h.state=H,Es(t,s,h,a);var Q=t.memoizedState;m!==U||H!==Q||At.current||qn?(typeof $=="function"&&(Va(t,i,$,s),Q=t.memoizedState),(k=qn||Of(t,i,k,s,H,Q,S)||!1)?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Q,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Q,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Q),h.props=s,h.state=Q,h.context=S,s=k):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),s=!1)}return Za(e,t,i,s,d,a)}function Za(e,t,i,s,a,d){$f(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return a&&Qd(t,i,!1),Pn(e,t,d);s=t.stateNode,g0.current=t;var m=h&&typeof i.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=ei(t,e.child,null,d),t.child=ei(t,null,m,d)):gt(e,t,m,d),t.memoizedState=s.state,a&&Qd(t,i,!0),t.child}function Vf(e){var t=e.stateNode;t.pendingContext?Xd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xd(e,t.context,!1),La(e,t.containerInfo)}function Xf(e,t,i,s,a){return Jr(),ka(a),t.flags|=256,gt(e,t,i,s),t.child}var ba={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kf(e,t,i){var s=t.pendingProps,a=Be.current,d=!1,h=(t.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(a&2)!==0),m?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ne(Be,a&1),e===null)return Ca(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,d?(s=t.mode,d=t.child,h={mode:"hidden",children:h},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=zs(h,s,0,null),e=Nr(e,s,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Ja(i),t.memoizedState=ba,e):eu(t,h));if(a=e.memoizedState,a!==null&&(m=a.dehydrated,m!==null))return m0(e,t,h,s,m,a,i);if(d){d=s.fallback,h=t.mode,a=e.child,m=a.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=S,t.deletions=null):(s=rr(a,S),s.subtreeFlags=a.subtreeFlags&14680064),m!==null?d=rr(m,d):(d=Nr(d,h,i,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,h=e.child.memoizedState,h=h===null?Ja(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~i,t.memoizedState=ba,s}return d=e.child,e=d.sibling,s=rr(d,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=i),s.return=t,s.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function eu(e,t){return t=zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rs(e,t,i,s){return s!==null&&ka(s),ei(t,e.child,null,i),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m0(e,t,i,s,a,d,h){if(i)return t.flags&256?(t.flags&=-257,s=Ka(Error(o(422))),Rs(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,a=t.mode,s=zs({mode:"visible",children:s.children},a,0,null),d=Nr(d,a,h,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,(t.mode&1)!==0&&ei(t,e.child,null,h),t.child.memoizedState=Ja(h),t.memoizedState=ba,d);if((t.mode&1)===0)return Rs(e,t,h,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var m=s.dgst;return s=m,d=Error(o(419)),s=Ka(d,s,void 0),Rs(e,t,h,s)}if(m=(h&e.childLanes)!==0,wt||m){if(s=Je,s!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(s.suspendedLanes|h))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,kn(e,a),en(s,e,a,-1))}return mu(),s=Ka(Error(o(421))),Rs(e,t,h,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=P0.bind(null,e),a._reactRetry=t,null):(e=d.treeContext,Ot=Vn(a.nextSibling),Nt=t,He=!0,qt=null,e!==null&&(Bt[xt++]=Tn,Bt[xt++]=Cn,Bt[xt++]=_r,Tn=e.id,Cn=e.overflow,_r=t),t=eu(t,s.children),t.flags|=4096,t)}function Qf(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Na(e.return,t,i)}function tu(e,t,i,s,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:a}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=a)}function qf(e,t,i){var s=t.pendingProps,a=s.revealOrder,d=s.tail;if(gt(e,t,s.children,i),s=Be.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,i,t);else if(e.tag===19)Qf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ne(Be,s),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&As(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),tu(t,!1,a,i,d);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&As(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}tu(t,!0,i,null,d);break;case"together":tu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=rr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=rr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function v0(e,t,i){switch(t.tag){case 3:Vf(t),Jr();break;case 5:cf(t);break;case 1:_t(t.type)&&ds(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Ne(vs,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ne(Be,Be.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Kf(e,t,i):(Ne(Be,Be.current&1),e=Pn(e,t,i),e!==null?e.sibling:null);Ne(Be,Be.current&1);break;case 19:if(s=(i&t.childLanes)!==0,(e.flags&128)!==0){if(s)return qf(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Be,Be.current),s)break;return null;case 22:case 23:return t.lanes=0,Wf(e,t,i)}return Pn(e,t,i)}var Zf,nu,bf,Jf;Zf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},nu=function(){},bf=function(e,t,i,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Tr(ln.current);var d=null;switch(i){case"input":a=Pt(e,a),s=Pt(e,s),d=[];break;case"select":a=W({},a,{value:void 0}),s=W({},s,{value:void 0}),d=[];break;case"textarea":a=yr(e,a),s=yr(e,s),d=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=as)}Fl(i,s);var h;i=null;for(k in a)if(!s.hasOwnProperty(k)&&a.hasOwnProperty(k)&&a[k]!=null)if(k==="style"){var m=a[k];for(h in m)m.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(u.hasOwnProperty(k)?d||(d=[]):(d=d||[]).push(k,null));for(k in s){var S=s[k];if(m=a!=null?a[k]:void 0,s.hasOwnProperty(k)&&S!==m&&(S!=null||m!=null))if(k==="style")if(m){for(h in m)!m.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in S)S.hasOwnProperty(h)&&m[h]!==S[h]&&(i||(i={}),i[h]=S[h])}else i||(d||(d=[]),d.push(k,i)),i=S;else k==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,m=m?m.__html:void 0,S!=null&&m!==S&&(d=d||[]).push(k,S)):k==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(k,""+S):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(u.hasOwnProperty(k)?(S!=null&&k==="onScroll"&&Oe("scroll",e),d||m===S||(d=[])):(d=d||[]).push(k,S))}i&&(d=d||[]).push("style",i);var k=d;(t.updateQueue=k)&&(t.flags|=4)}},Jf=function(e,t,i,s){i!==s&&(t.flags|=4)};function so(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function y0(e,t,i){var s=t.pendingProps;switch(Ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return _t(t.type)&&cs(),ut(t),null;case 3:return s=t.stateNode,ri(),Me(At),Me(lt),Ua(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qt!==null&&(pu(qt),qt=null))),nu(e,t),ut(t),null;case 5:Ha(t);var a=Tr(to.current);if(i=t.type,e!==null&&t.stateNode!=null)bf(e,t,i,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return ut(t),null}if(e=Tr(ln.current),gs(t)){s=t.stateNode,i=t.type;var d=t.memoizedProps;switch(s[sn]=t,s[qi]=d,e=(t.mode&1)!==0,i){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Xi.length;a++)Oe(Xi[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Ut(s,d),Oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},Oe("invalid",s);break;case"textarea":Hc(s,d),Oe("invalid",s)}Fl(i,d),a=null;for(var h in d)if(d.hasOwnProperty(h)){var m=d[h];h==="children"?typeof m=="string"?s.textContent!==m&&(d.suppressHydrationWarning!==!0&&ls(s.textContent,m,e),a=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(d.suppressHydrationWarning!==!0&&ls(s.textContent,m,e),a=["children",""+m]):u.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&Oe("scroll",s)}switch(i){case"input":_e(s),Un(s,d,!0);break;case"textarea":_e(s),Uc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=as)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(i,{is:s.is}):(e=h.createElement(i),i==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,i),e[sn]=t,e[qi]=s,Zf(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ul(i,s),i){case"dialog":Oe("cancel",e),Oe("close",e),a=s;break;case"iframe":case"object":case"embed":Oe("load",e),a=s;break;case"video":case"audio":for(a=0;a<Xi.length;a++)Oe(Xi[a],e);a=s;break;case"source":Oe("error",e),a=s;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),a=s;break;case"details":Oe("toggle",e),a=s;break;case"input":Ut(e,s),a=Pt(e,s),Oe("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=W({},s,{value:void 0}),Oe("invalid",e);break;case"textarea":Hc(e,s),a=yr(e,s),Oe("invalid",e);break;default:a=s}Fl(i,a),m=a;for(d in m)if(m.hasOwnProperty(d)){var S=m[d];d==="style"?zc(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&xc(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Ri(e,S):typeof S=="number"&&Ri(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?S!=null&&d==="onScroll"&&Oe("scroll",e):S!=null&&x(e,d,S,h))}switch(i){case"input":_e(e),Un(e,s,!1);break;case"textarea":_e(e),Uc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ce(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?xn(e,!!s.multiple,d,!1):s.defaultValue!=null&&xn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=as)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Jf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(i=Tr(to.current),Tr(ln.current),gs(t)){if(s=t.stateNode,i=t.memoizedProps,s[sn]=t,(d=s.nodeValue!==i)&&(e=Nt,e!==null))switch(e.tag){case 3:ls(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ls(s.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[sn]=t,t.stateNode=s}return ut(t),null;case 13:if(Me(Be),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Ot!==null&&(t.mode&1)!==0&&(t.flags&128)===0)tf(),Jr(),t.flags|=98560,d=!1;else if(d=gs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[sn]=t}else Jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ut(t),d=!1}else qt!==null&&(pu(qt),qt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?qe===0&&(qe=3):mu())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return ri(),nu(e,t),e===null&&Ki(t.stateNode.containerInfo),ut(t),null;case 10:return Da(t.type._context),ut(t),null;case 17:return _t(t.type)&&cs(),ut(t),null;case 19:if(Me(Be),d=t.memoizedState,d===null)return ut(t),null;if(s=(t.flags&128)!==0,h=d.rendering,h===null)if(s)so(d,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=As(e),h!==null){for(t.flags|=128,so(d,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;i!==null;)d=i,e=s,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(Be,Be.current&1|2),t.child}e=e.sibling}d.tail!==null&&We()>li&&(t.flags|=128,s=!0,so(d,!1),t.lanes=4194304)}else{if(!s)if(e=As(h),e!==null){if(t.flags|=128,s=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),so(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!He)return ut(t),null}else 2*We()-d.renderingStartTime>li&&i!==1073741824&&(t.flags|=128,s=!0,so(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(i=d.last,i!==null?i.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=We(),t.sibling=null,i=Be.current,Ne(Be,s?i&1|2:i&1),t):(ut(t),null);case 22:case 23:return gu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Mt&1073741824)!==0&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function S0(e,t){switch(Ia(t),t.tag){case 1:return _t(t.type)&&cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ri(),Me(At),Me(lt),Ua(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ha(t),null;case 13:if(Me(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Be),null;case 4:return ri(),null;case 10:return Da(t.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var Ds=!1,ct=!1,E0=typeof WeakSet=="function"?WeakSet:Set,X=null;function oi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){ze(e,t,s)}else i.current=null}function ru(e,t,i){try{i()}catch(s){ze(e,t,s)}}var ep=!1;function A0(e,t){if(ga=qo,e=Nd(),la(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var a=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var h=0,m=-1,S=-1,k=0,F=0,U=e,H=null;t:for(;;){for(var $;U!==i||a!==0&&U.nodeType!==3||(m=h+a),U!==d||s!==0&&U.nodeType!==3||(S=h+s),U.nodeType===3&&(h+=U.nodeValue.length),($=U.firstChild)!==null;)H=U,U=$;for(;;){if(U===e)break t;if(H===i&&++k===a&&(m=h),H===d&&++F===s&&(S=h),($=U.nextSibling)!==null)break;U=H,H=U.parentNode}U=$}i=m===-1||S===-1?null:{start:m,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(ma={focusedElem:e,selectionRange:i},qo=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var q=Q.memoizedProps,$e=Q.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?q:Zt(t.type,q),$e);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){ze(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Q=ep,ep=!1,Q}function lo(e,t,i){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&ru(t,i,d)}a=a.next}while(a!==s)}}function Ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function iu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function tp(e){var t=e.alternate;t!==null&&(e.alternate=null,tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[qi],delete t[Ea],delete t[r0],delete t[i0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function np(e){return e.tag===5||e.tag===3||e.tag===4}function rp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ou(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=as));else if(s!==4&&(e=e.child,e!==null))for(ou(e,t,i),e=e.sibling;e!==null;)ou(e,t,i),e=e.sibling}function su(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(su(e,t,i),e=e.sibling;e!==null;)su(e,t,i),e=e.sibling}var rt=null,bt=!1;function bn(e,t,i){for(i=i.child;i!==null;)ip(e,t,i),i=i.sibling}function ip(e,t,i){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount($o,i)}catch{}switch(i.tag){case 5:ct||oi(i,t);case 6:var s=rt,a=bt;rt=null,bn(e,t,i),rt=s,bt=a,rt!==null&&(bt?(e=rt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):rt.removeChild(i.stateNode));break;case 18:rt!==null&&(bt?(e=rt,i=i.stateNode,e.nodeType===8?Sa(e.parentNode,i):e.nodeType===1&&Sa(e,i),xi(e)):Sa(rt,i.stateNode));break;case 4:s=rt,a=bt,rt=i.stateNode.containerInfo,bt=!0,bn(e,t,i),rt=s,bt=a;break;case 0:case 11:case 14:case 15:if(!ct&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var d=a,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&ru(i,t,h),a=a.next}while(a!==s)}bn(e,t,i);break;case 1:if(!ct&&(oi(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(m){ze(i,t,m)}bn(e,t,i);break;case 21:bn(e,t,i);break;case 22:i.mode&1?(ct=(s=ct)||i.memoizedState!==null,bn(e,t,i),ct=s):bn(e,t,i);break;default:bn(e,t,i)}}function op(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new E0),t.forEach(function(s){var a=D0.bind(null,e,s);i.has(s)||(i.add(s),s.then(a,a))})}}function Jt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];try{var d=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 5:rt=m.stateNode,bt=!1;break e;case 3:rt=m.stateNode.containerInfo,bt=!0;break e;case 4:rt=m.stateNode.containerInfo,bt=!0;break e}m=m.return}if(rt===null)throw Error(o(160));ip(d,h,a),rt=null,bt=!1;var S=a.alternate;S!==null&&(S.return=null),a.return=null}catch(k){ze(a,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sp(t,e),t=t.sibling}function sp(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),un(e),s&4){try{lo(3,e,e.return),Ns(3,e)}catch(q){ze(e,e.return,q)}try{lo(5,e,e.return)}catch(q){ze(e,e.return,q)}}break;case 1:Jt(t,e),un(e),s&512&&i!==null&&oi(i,i.return);break;case 5:if(Jt(t,e),un(e),s&512&&i!==null&&oi(i,i.return),e.flags&32){var a=e.stateNode;try{Ri(a,"")}catch(q){ze(e,e.return,q)}}if(s&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,h=i!==null?i.memoizedProps:d,m=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{m==="input"&&d.type==="radio"&&d.name!=null&&vr(a,d),Ul(m,h);var k=Ul(m,d);for(h=0;h<S.length;h+=2){var F=S[h],U=S[h+1];F==="style"?zc(a,U):F==="dangerouslySetInnerHTML"?xc(a,U):F==="children"?Ri(a,U):x(a,F,U,k)}switch(m){case"input":_n(a,d);break;case"textarea":Fc(a,d);break;case"select":var H=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var $=d.value;$!=null?xn(a,!!d.multiple,$,!1):H!==!!d.multiple&&(d.defaultValue!=null?xn(a,!!d.multiple,d.defaultValue,!0):xn(a,!!d.multiple,d.multiple?[]:"",!1))}a[qi]=d}catch(q){ze(e,e.return,q)}}break;case 6:if(Jt(t,e),un(e),s&4){if(e.stateNode===null)throw Error(o(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(q){ze(e,e.return,q)}}break;case 3:if(Jt(t,e),un(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(q){ze(e,e.return,q)}break;case 4:Jt(t,e),un(e);break;case 13:Jt(t,e),un(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(uu=We())),s&4&&op(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(ct=(k=ct)||F,Jt(t,e),ct=k):Jt(t,e),un(e),s&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!F&&(e.mode&1)!==0)for(X=e,F=e.child;F!==null;){for(U=X=F;X!==null;){switch(H=X,$=H.child,H.tag){case 0:case 11:case 14:case 15:lo(4,H,H.return);break;case 1:oi(H,H.return);var Q=H.stateNode;if(typeof Q.componentWillUnmount=="function"){s=H,i=H.return;try{t=s,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(q){ze(s,i,q)}}break;case 5:oi(H,H.return);break;case 22:if(H.memoizedState!==null){up(U);continue}}$!==null?($.return=H,X=$):up(U)}F=F.sibling}e:for(F=null,U=e;;){if(U.tag===5){if(F===null){F=U;try{a=U.stateNode,k?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(m=U.stateNode,S=U.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,m.style.display=Gc("display",h))}catch(q){ze(e,e.return,q)}}}else if(U.tag===6){if(F===null)try{U.stateNode.nodeValue=k?"":U.memoizedProps}catch(q){ze(e,e.return,q)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;F===U&&(F=null),U=U.return}F===U&&(F=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Jt(t,e),un(e),s&4&&op(e);break;case 21:break;default:Jt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(np(i)){var s=i;break e}i=i.return}throw Error(o(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ri(a,""),s.flags&=-33);var d=rp(e);su(e,d,a);break;case 3:case 4:var h=s.stateNode.containerInfo,m=rp(e);ou(e,m,h);break;default:throw Error(o(161))}}catch(S){ze(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _0(e,t,i){X=e,lp(e)}function lp(e,t,i){for(var s=(e.mode&1)!==0;X!==null;){var a=X,d=a.child;if(a.tag===22&&s){var h=a.memoizedState!==null||Ds;if(!h){var m=a.alternate,S=m!==null&&m.memoizedState!==null||ct;m=Ds;var k=ct;if(Ds=h,(ct=S)&&!k)for(X=a;X!==null;)h=X,S=h.child,h.tag===22&&h.memoizedState!==null?cp(a):S!==null?(S.return=h,X=S):cp(a);for(;d!==null;)X=d,lp(d),d=d.sibling;X=a,Ds=m,ct=k}ap(e)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,X=d):ap(e)}}function ap(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ct||Ns(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ct)if(i===null)s.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:Zt(t.type,i.memoizedProps);s.componentDidUpdate(a,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&uf(t,d,s);break;case 3:var h=t.updateQueue;if(h!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}uf(t,h,i)}break;case 5:var m=t.stateNode;if(i===null&&t.flags&4){i=m;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var F=k.memoizedState;if(F!==null){var U=F.dehydrated;U!==null&&xi(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ct||t.flags&512&&iu(t)}catch(H){ze(t,t.return,H)}}if(t===e){X=null;break}if(i=t.sibling,i!==null){i.return=t.return,X=i;break}X=t.return}}function up(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var i=t.sibling;if(i!==null){i.return=t.return,X=i;break}X=t.return}}function cp(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ns(4,t)}catch(S){ze(t,i,S)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(S){ze(t,a,S)}}var d=t.return;try{iu(t)}catch(S){ze(t,d,S)}break;case 5:var h=t.return;try{iu(t)}catch(S){ze(t,h,S)}}}catch(S){ze(t,t.return,S)}if(t===e){X=null;break}var m=t.sibling;if(m!==null){m.return=t.return,X=m;break}X=t.return}}var w0=Math.ceil,Os=j.ReactCurrentDispatcher,lu=j.ReactCurrentOwner,jt=j.ReactCurrentBatchConfig,ve=0,Je=null,Ve=null,it=0,Mt=0,si=Xn(0),qe=0,ao=null,kr=0,Ms=0,au=0,uo=null,It=null,uu=0,li=1/0,Dn=null,Ls=!1,cu=null,Jn=null,Hs=!1,er=null,Fs=0,co=0,du=null,Us=-1,Bs=0;function mt(){return(ve&6)!==0?We():Us!==-1?Us:Us=We()}function tr(e){return(e.mode&1)===0?1:(ve&2)!==0&&it!==0?it&-it:s0.transition!==null?(Bs===0&&(Bs=nd()),Bs):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:dd(e.type)),e)}function en(e,t,i,s){if(50<co)throw co=0,du=null,Error(o(185));Li(e,i,s),((ve&2)===0||e!==Je)&&(e===Je&&((ve&2)===0&&(Ms|=i),qe===4&&nr(e,it)),Tt(e,s),i===1&&ve===0&&(t.mode&1)===0&&(li=We()+500,fs&&Qn()))}function Tt(e,t){var i=e.callbackNode;sm(e,t);var s=Xo(e,e===Je?it:0);if(s===0)i!==null&&Jc(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(i!=null&&Jc(i),t===1)e.tag===0?o0(fp.bind(null,e)):qd(fp.bind(null,e)),t0(function(){(ve&6)===0&&Qn()}),i=null;else{switch(rd(s)){case 1:i=$l;break;case 4:i=ed;break;case 16:i=Wo;break;case 536870912:i=td;break;default:i=Wo}i=Ep(i,dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function dp(e,t){if(Us=-1,Bs=0,(ve&6)!==0)throw Error(o(327));var i=e.callbackNode;if(ai()&&e.callbackNode!==i)return null;var s=Xo(e,e===Je?it:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=xs(e,s);else{t=s;var a=ve;ve|=2;var d=hp();(Je!==e||it!==t)&&(Dn=null,li=We()+500,Pr(e,t));do try{C0();break}catch(m){pp(e,m)}while(!0);Pa(),Os.current=d,ve=a,Ve!==null?t=0:(Je=null,it=0,t=qe)}if(t!==0){if(t===2&&(a=Yl(e),a!==0&&(s=a,t=fu(e,a))),t===1)throw i=ao,Pr(e,0),nr(e,s),Tt(e,We()),i;if(t===6)nr(e,s);else{if(a=e.current.alternate,(s&30)===0&&!I0(a)&&(t=xs(e,s),t===2&&(d=Yl(e),d!==0&&(s=d,t=fu(e,d))),t===1))throw i=ao,Pr(e,0),nr(e,s),Tt(e,We()),i;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Dr(e,It,Dn);break;case 3:if(nr(e,s),(s&130023424)===s&&(t=uu+500-We(),10<t)){if(Xo(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){mt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ya(Dr.bind(null,e,It,Dn),t);break}Dr(e,It,Dn);break;case 4:if(nr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var h=31-Kt(s);d=1<<h,h=t[h],h>a&&(a=h),s&=~d}if(s=a,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*w0(s/1960))-s,10<s){e.timeoutHandle=ya(Dr.bind(null,e,It,Dn),s);break}Dr(e,It,Dn);break;case 5:Dr(e,It,Dn);break;default:throw Error(o(329))}}}return Tt(e,We()),e.callbackNode===i?dp.bind(null,e):null}function fu(e,t){var i=uo;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=xs(e,t),e!==2&&(t=It,It=i,t!==null&&pu(t)),e}function pu(e){It===null?It=e:It.push.apply(It,e)}function I0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var a=i[s],d=a.getSnapshot;a=a.value;try{if(!Qt(d(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nr(e,t){for(t&=~au,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Kt(t),s=1<<i;e[i]=-1,t&=~s}}function fp(e){if((ve&6)!==0)throw Error(o(327));ai();var t=Xo(e,0);if((t&1)===0)return Tt(e,We()),null;var i=xs(e,t);if(e.tag!==0&&i===2){var s=Yl(e);s!==0&&(t=s,i=fu(e,s))}if(i===1)throw i=ao,Pr(e,0),nr(e,t),Tt(e,We()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,It,Dn),Tt(e,We()),null}function hu(e,t){var i=ve;ve|=1;try{return e(t)}finally{ve=i,ve===0&&(li=We()+500,fs&&Qn())}}function Rr(e){er!==null&&er.tag===0&&(ve&6)===0&&ai();var t=ve;ve|=1;var i=jt.transition,s=Ie;try{if(jt.transition=null,Ie=1,e)return e()}finally{Ie=s,jt.transition=i,ve=t,(ve&6)===0&&Qn()}}function gu(){Mt=si.current,Me(si)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,e0(i)),Ve!==null)for(i=Ve.return;i!==null;){var s=i;switch(Ia(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&cs();break;case 3:ri(),Me(At),Me(lt),Ua();break;case 5:Ha(s);break;case 4:ri();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:Da(s.type._context);break;case 22:case 23:gu()}i=i.return}if(Je=e,Ve=e=rr(e.current,null),it=Mt=t,qe=0,ao=null,au=Ms=kr=0,It=uo=null,Ir!==null){for(t=0;t<Ir.length;t++)if(i=Ir[t],s=i.interleaved,s!==null){i.interleaved=null;var a=s.next,d=i.pending;if(d!==null){var h=d.next;d.next=a,s.next=h}i.pending=s}Ir=null}return e}function pp(e,t){do{var i=Ve;try{if(Pa(),_s.current=Cs,ws){for(var s=xe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ws=!1}if(Cr=0,be=Qe=xe=null,no=!1,ro=0,lu.current=null,i===null||i.return===null){qe=1,ao=t,Ve=null;break}e:{var d=e,h=i.return,m=i,S=t;if(t=it,m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var k=S,F=m,U=F.tag;if((F.mode&1)===0&&(U===0||U===11||U===15)){var H=F.alternate;H?(F.updateQueue=H.updateQueue,F.memoizedState=H.memoizedState,F.lanes=H.lanes):(F.updateQueue=null,F.memoizedState=null)}var $=Bf(h);if($!==null){$.flags&=-257,xf($,h,m,d,t),$.mode&1&&Uf(d,k,t),t=$,S=k;var Q=t.updateQueue;if(Q===null){var q=new Set;q.add(S),t.updateQueue=q}else Q.add(S);break e}else{if((t&1)===0){Uf(d,k,t),mu();break e}S=Error(o(426))}}else if(He&&m.mode&1){var $e=Bf(h);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),xf($e,h,m,d,t),ka(ii(S,m));break e}}d=S=ii(S,m),qe!==4&&(qe=2),uo===null?uo=[d]:uo.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var I=Hf(d,S,t);af(d,I);break e;case 1:m=S;var E=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Jn===null||!Jn.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var B=Ff(d,m,t);af(d,B);break e}}d=d.return}while(d!==null)}mp(i)}catch(Z){t=Z,Ve===i&&i!==null&&(Ve=i=i.return);continue}break}while(!0)}function hp(){var e=Os.current;return Os.current=Cs,e===null?Cs:e}function mu(){(qe===0||qe===3||qe===2)&&(qe=4),Je===null||(kr&268435455)===0&&(Ms&268435455)===0||nr(Je,it)}function xs(e,t){var i=ve;ve|=2;var s=hp();(Je!==e||it!==t)&&(Dn=null,Pr(e,t));do try{T0();break}catch(a){pp(e,a)}while(!0);if(Pa(),ve=i,Os.current=s,Ve!==null)throw Error(o(261));return Je=null,it=0,qe}function T0(){for(;Ve!==null;)gp(Ve)}function C0(){for(;Ve!==null&&!Zg();)gp(Ve)}function gp(e){var t=Sp(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?mp(e):Ve=t,lu.current=null}function mp(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=y0(i,t,Mt),i!==null){Ve=i;return}}else{if(i=S0(i,t),i!==null){i.flags&=32767,Ve=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ve=null;return}}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);qe===0&&(qe=5)}function Dr(e,t,i){var s=Ie,a=jt.transition;try{jt.transition=null,Ie=1,k0(e,t,i,s)}finally{jt.transition=a,Ie=s}return null}function k0(e,t,i,s){do ai();while(er!==null);if((ve&6)!==0)throw Error(o(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(lm(e,d),e===Je&&(Ve=Je=null,it=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Hs||(Hs=!0,Ep(Wo,function(){return ai(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=jt.transition,jt.transition=null;var h=Ie;Ie=1;var m=ve;ve|=4,lu.current=null,A0(e,i),sp(i,e),Xm(ma),qo=!!ga,ma=ga=null,e.current=i,_0(i),bg(),ve=m,Ie=h,jt.transition=d}else e.current=i;if(Hs&&(Hs=!1,er=e,Fs=a),d=e.pendingLanes,d===0&&(Jn=null),tm(i.stateNode),Tt(e,We()),t!==null)for(s=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ls)throw Ls=!1,e=cu,cu=null,e;return(Fs&1)!==0&&e.tag!==0&&ai(),d=e.pendingLanes,(d&1)!==0?e===du?co++:(co=0,du=e):co=0,Qn(),null}function ai(){if(er!==null){var e=rd(Fs),t=jt.transition,i=Ie;try{if(jt.transition=null,Ie=16>e?16:e,er===null)var s=!1;else{if(e=er,er=null,Fs=0,(ve&6)!==0)throw Error(o(331));var a=ve;for(ve|=4,X=e.current;X!==null;){var d=X,h=d.child;if((X.flags&16)!==0){var m=d.deletions;if(m!==null){for(var S=0;S<m.length;S++){var k=m[S];for(X=k;X!==null;){var F=X;switch(F.tag){case 0:case 11:case 15:lo(8,F,d)}var U=F.child;if(U!==null)U.return=F,X=U;else for(;X!==null;){F=X;var H=F.sibling,$=F.return;if(tp(F),F===k){X=null;break}if(H!==null){H.return=$,X=H;break}X=$}}}var Q=d.alternate;if(Q!==null){var q=Q.child;if(q!==null){Q.child=null;do{var $e=q.sibling;q.sibling=null,q=$e}while(q!==null)}}X=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,X=h;else e:for(;X!==null;){if(d=X,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:lo(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,X=I;break e}X=d.return}}var E=e.current;for(X=E;X!==null;){h=X;var T=h.child;if((h.subtreeFlags&2064)!==0&&T!==null)T.return=h,X=T;else e:for(h=E;X!==null;){if(m=X,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Ns(9,m)}}catch(Z){ze(m,m.return,Z)}if(m===h){X=null;break e}var B=m.sibling;if(B!==null){B.return=m.return,X=B;break e}X=m.return}}if(ve=a,Qn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot($o,e)}catch{}s=!0}return s}finally{Ie=i,jt.transition=t}}return!1}function vp(e,t,i){t=ii(i,t),t=Hf(e,t,1),e=Zn(e,t,1),t=mt(),e!==null&&(Li(e,1,t),Tt(e,t))}function ze(e,t,i){if(e.tag===3)vp(e,e,i);else for(;t!==null;){if(t.tag===3){vp(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=ii(i,e),e=Ff(t,e,1),t=Zn(t,e,1),e=mt(),t!==null&&(Li(t,1,e),Tt(t,e));break}}t=t.return}}function R0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&i,Je===e&&(it&i)===i&&(qe===4||qe===3&&(it&130023424)===it&&500>We()-uu?Pr(e,0):au|=i),Tt(e,t)}function yp(e,t){t===0&&((e.mode&1)===0?t=1:(t=Vo,Vo<<=1,(Vo&130023424)===0&&(Vo=4194304)));var i=mt();e=kn(e,t),e!==null&&(Li(e,t,i),Tt(e,i))}function P0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),yp(e,i)}function D0(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),yp(e,i)}var Sp;Sp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)wt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return wt=!1,v0(e,t,i);wt=(e.flags&131072)!==0}else wt=!1,He&&(t.flags&1048576)!==0&&Zd(t,hs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ps(e,t),e=t.pendingProps;var a=qr(t,lt.current);ni(t,i),a=Ga(null,t,s,e,a,i);var d=za();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(s)?(d=!0,ds(t)):d=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ma(t),a.updater=ks,t.stateNode=a,a._reactInternals=t,Xa(t,s,e,i),t=Za(null,t,s,!0,d,i)):(t.tag=0,He&&d&&wa(t),gt(null,t,a,i),t=t.child),t;case 16:s=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=O0(s),e=Zt(s,e),a){case 0:t=qa(null,t,s,e,i);break e;case 1:t=Yf(null,t,s,e,i);break e;case 11:t=Gf(null,t,s,e,i);break e;case 14:t=zf(null,t,s,Zt(s.type,e),i);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Zt(s,a),qa(e,t,s,a,i);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Zt(s,a),Yf(e,t,s,a,i);case 3:e:{if(Vf(t),e===null)throw Error(o(387));s=t.pendingProps,d=t.memoizedState,a=d.element,lf(e,t),Es(t,s,null,i);var h=t.memoizedState;if(s=h.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){a=ii(Error(o(423)),t),t=Xf(e,t,s,i,a);break e}else if(s!==a){a=ii(Error(o(424)),t),t=Xf(e,t,s,i,a);break e}else for(Ot=Vn(t.stateNode.containerInfo.firstChild),Nt=t,He=!0,qt=null,i=of(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Jr(),s===a){t=Pn(e,t,i);break e}gt(e,t,s,i)}t=t.child}return t;case 5:return cf(t),e===null&&Ca(t),s=t.type,a=t.pendingProps,d=e!==null?e.memoizedProps:null,h=a.children,va(s,a)?h=null:d!==null&&va(s,d)&&(t.flags|=32),$f(e,t),gt(e,t,h,i),t.child;case 6:return e===null&&Ca(t),null;case 13:return Kf(e,t,i);case 4:return La(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ei(t,null,s,i):gt(e,t,s,i),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Zt(s,a),Gf(e,t,s,a,i);case 7:return gt(e,t,t.pendingProps,i),t.child;case 8:return gt(e,t,t.pendingProps.children,i),t.child;case 12:return gt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,d=t.memoizedProps,h=a.value,Ne(vs,s._currentValue),s._currentValue=h,d!==null)if(Qt(d.value,h)){if(d.children===a.children&&!At.current){t=Pn(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){h=d.child;for(var S=m.firstContext;S!==null;){if(S.context===s){if(d.tag===1){S=Rn(-1,i&-i),S.tag=2;var k=d.updateQueue;if(k!==null){k=k.shared;var F=k.pending;F===null?S.next=S:(S.next=F.next,F.next=S),k.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),Na(d.return,i,t),m.lanes|=i;break}S=S.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=i,m=h.alternate,m!==null&&(m.lanes|=i),Na(h,i,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}gt(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,ni(t,i),a=Gt(a),s=s(a),t.flags|=1,gt(e,t,s,i),t.child;case 14:return s=t.type,a=Zt(s,t.pendingProps),a=Zt(s.type,a),zf(e,t,s,a,i);case 15:return jf(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Zt(s,a),Ps(e,t),t.tag=1,_t(s)?(e=!0,ds(t)):e=!1,ni(t,i),Mf(t,s,a),Xa(t,s,a,i),Za(null,t,s,!0,e,i);case 19:return qf(e,t,i);case 22:return Wf(e,t,i)}throw Error(o(156,t.tag))};function Ep(e,t){return bc(e,t)}function N0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,i,s){return new N0(e,t,i,s)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O0(e){if(typeof e=="function")return vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===De)return 11;if(e===Se)return 14}return 2}function rr(e,t){var i=e.alternate;return i===null?(i=Wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Gs(e,t,i,s,a,d){var h=2;if(s=e,typeof e=="function")vu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case D:return Nr(i.children,a,d,t);case ue:h=8,a|=8;break;case Ce:return e=Wt(12,i,t,a|2),e.elementType=Ce,e.lanes=d,e;case ye:return e=Wt(13,i,t,a),e.elementType=ye,e.lanes=d,e;case je:return e=Wt(19,i,t,a),e.elementType=je,e.lanes=d,e;case re:return zs(i,a,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pe:h=10;break e;case st:h=9;break e;case De:h=11;break e;case Se:h=14;break e;case pe:h=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Wt(h,i,t,a),t.elementType=e,t.type=s,t.lanes=d,t}function Nr(e,t,i,s){return e=Wt(7,e,s,t),e.lanes=i,e}function zs(e,t,i,s){return e=Wt(22,e,s,t),e.elementType=re,e.lanes=i,e.stateNode={isHidden:!1},e}function yu(e,t,i){return e=Wt(6,e,null,t),e.lanes=i,e}function Su(e,t,i){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M0(e,t,i,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Eu(e,t,i,s,a,d,h,m,S){return e=new M0(e,t,i,m,S),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Wt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(d),e}function L0(e,t,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:s==null?null:""+s,children:e,containerInfo:t,implementation:i}}function Ap(e){if(!e)return Kn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(_t(i))return Kd(e,i,t)}return t}function _p(e,t,i,s,a,d,h,m,S){return e=Eu(i,s,!0,e,a,d,h,m,S),e.context=Ap(null),i=e.current,s=mt(),a=tr(i),d=Rn(s,a),d.callback=t??null,Zn(i,d,a),e.current.lanes=a,Li(e,a,s),Tt(e,s),e}function js(e,t,i,s){var a=t.current,d=mt(),h=tr(a);return i=Ap(i),t.context===null?t.context=i:t.pendingContext=i,t=Rn(d,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Zn(a,t,h),e!==null&&(en(e,a,h,d),Ss(e,a,h)),h}function Ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Au(e,t){wp(e,t),(e=e.alternate)&&wp(e,t)}function H0(){return null}var Ip=typeof reportError=="function"?reportError:function(e){console.error(e)};function _u(e){this._internalRoot=e}$s.prototype.render=_u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));js(e,t,null,null)},$s.prototype.unmount=_u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){js(null,e,null,null)}),t[wn]=null}};function $s(e){this._internalRoot=e}$s.prototype.unstable_scheduleHydration=function(e){if(e){var t=sd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wn.length&&t!==0&&t<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&ud(e)}};function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function F0(e,t,i,s,a){if(a){if(typeof s=="function"){var d=s;s=function(){var k=Ws(h);d.call(k)}}var h=_p(t,s,e,0,null,!1,!1,"",Tp);return e._reactRootContainer=h,e[wn]=h.current,Ki(e.nodeType===8?e.parentNode:e),Rr(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var m=s;s=function(){var k=Ws(S);m.call(k)}}var S=Eu(e,0,!1,null,null,!1,!1,"",Tp);return e._reactRootContainer=S,e[wn]=S.current,Ki(e.nodeType===8?e.parentNode:e),Rr(function(){js(t,S,i,s)}),S}function Vs(e,t,i,s,a){var d=i._reactRootContainer;if(d){var h=d;if(typeof a=="function"){var m=a;a=function(){var S=Ws(h);m.call(S)}}js(t,h,e,a)}else h=F0(i,t,e,a,s);return Ws(h)}id=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Mi(t.pendingLanes);i!==0&&(Xl(t,i|1),Tt(t,We()),(ve&6)===0&&(li=We()+500,Qn()))}break;case 13:Rr(function(){var s=kn(e,1);if(s!==null){var a=mt();en(s,e,1,a)}}),Au(e,1)}},Kl=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var i=mt();en(t,e,134217728,i)}Au(e,134217728)}},od=function(e){if(e.tag===13){var t=tr(e),i=kn(e,t);if(i!==null){var s=mt();en(i,e,t,s)}Au(e,t)}},sd=function(){return Ie},ld=function(e,t){var i=Ie;try{return Ie=e,t()}finally{Ie=i}},Gl=function(e,t,i){switch(t){case"input":if(_n(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var a=us(s);if(!a)throw Error(o(90));ae(s),_n(s,a)}}}break;case"textarea":Fc(e,i);break;case"select":t=i.value,t!=null&&xn(e,!!i.multiple,t,!1)}},Yc=hu,Vc=Rr;var U0={usingClientEntryPoint:!1,Events:[Zi,Kr,us,Wc,$c,hu]},fo={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qc(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||H0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{$o=Xs.inject(B0),on=Xs}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0,Ct.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(t))throw Error(o(200));return L0(e,t,null,i)},Ct.createRoot=function(e,t){if(!wu(e))throw Error(o(299));var i=!1,s="",a=Ip;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Eu(e,1,!1,null,null,i,!1,s,a),e[wn]=t.current,Ki(e.nodeType===8?e.parentNode:e),new _u(t)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=qc(t),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return Rr(e)},Ct.hydrate=function(e,t,i){if(!Ys(t))throw Error(o(200));return Vs(null,e,t,!0,i)},Ct.hydrateRoot=function(e,t,i){if(!wu(e))throw Error(o(405));var s=i!=null&&i.hydratedSources||null,a=!1,d="",h=Ip;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),t=_p(t,null,e,1,i??null,a,!1,d,h),e[wn]=t.current,Ki(e),s)for(e=0;e<s.length;e++)i=s[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new $s(t)},Ct.render=function(e,t,i){if(!Ys(t))throw Error(o(200));return Vs(null,e,t,!1,i)},Ct.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(o(40));return e._reactRootContainer?(Rr(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Ct.unstable_batchedUpdates=hu,Ct.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!Ys(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Vs(e,t,i,!1,s)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Mp;function K0(){if(Mp)return Cu.exports;Mp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Cu.exports=X0(),Cu.exports}var Lp;function Q0(){if(Lp)return Ks;Lp=1;var n=K0();return Ks.createRoot=n.createRoot,Ks.hydrateRoot=n.hydrateRoot,Ks}var q0=Q0();const Z0=Mh(q0),Lh=ke.createContext(void 0),b0=({initialAppState:n,children:r})=>{const[o,l]=ke.useState(n),[u,c]=ke.useState(void 0),f=(p,g)=>{l(p),p==="gameOver"&&g?c(g):p!=="gameOver"&&c(void 0)};return Re.jsx(Lh.Provider,{value:{appState:o,setAppState:f,gameOverDetails:u},children:r})},Il=()=>{const n=ke.useContext(Lh);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var pt=function(){return pt=Object.assign||function(r){for(var o,l=1,u=arguments.length;l<u;l++){o=arguments[l];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},pt.apply(this,arguments)};function ko(n,r,o){if(o||arguments.length===2)for(var l=0,u=r.length,c;l<u;l++)(c||!(l in r))&&(c||(c=Array.prototype.slice.call(r,0,l)),c[l]=r[l]);return n.concat(c||Array.prototype.slice.call(r))}var Le="-ms-",wo="-moz-",we="-webkit-",Hh="comm",Tl="rule",ac="decl",J0="@import",Fh="@keyframes",ev="@layer",Uh=Math.abs,uc=String.fromCharCode,Yu=Object.assign;function tv(n,r){return tt(n,0)^45?(((r<<2^tt(n,0))<<2^tt(n,1))<<2^tt(n,2))<<2^tt(n,3):0}function Bh(n){return n.trim()}function On(n,r){return(n=r.exec(n))?n[0]:n}function fe(n,r,o){return n.replace(r,o)}function sl(n,r,o){return n.indexOf(r,o)}function tt(n,r){return n.charCodeAt(r)|0}function vi(n,r,o){return n.slice(r,o)}function fn(n){return n.length}function xh(n){return n.length}function Eo(n,r){return r.push(n),n}function nv(n,r){return n.map(r).join("")}function Hp(n,r){return n.filter(function(o){return!On(o,r)})}var Cl=1,yi=1,Gh=0,Xt=0,Xe=0,Ci="";function kl(n,r,o,l,u,c,f,p){return{value:n,root:r,parent:o,type:l,props:u,children:c,line:Cl,column:yi,length:f,return:"",siblings:p}}function cr(n,r){return Yu(kl("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},r)}function ui(n){for(;n.root;)n=cr(n.root,{children:[n]});Eo(n,n.siblings)}function rv(){return Xe}function iv(){return Xe=Xt>0?tt(Ci,--Xt):0,yi--,Xe===10&&(yi=1,Cl--),Xe}function nn(){return Xe=Xt<Gh?tt(Ci,Xt++):0,yi++,Xe===10&&(yi=1,Cl++),Xe}function Fr(){return tt(Ci,Xt)}function ll(){return Xt}function Rl(n,r){return vi(Ci,n,r)}function Vu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ov(n){return Cl=yi=1,Gh=fn(Ci=n),Xt=0,[]}function sv(n){return Ci="",n}function Pu(n){return Bh(Rl(Xt-1,Xu(n===91?n+2:n===40?n+1:n)))}function lv(n){for(;(Xe=Fr())&&Xe<33;)nn();return Vu(n)>2||Vu(Xe)>3?"":" "}function av(n,r){for(;--r&&nn()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return Rl(n,ll()+(r<6&&Fr()==32&&nn()==32))}function Xu(n){for(;nn();)switch(Xe){case n:return Xt;case 34:case 39:n!==34&&n!==39&&Xu(Xe);break;case 40:n===41&&Xu(n);break;case 92:nn();break}return Xt}function uv(n,r){for(;nn()&&n+Xe!==57;)if(n+Xe===84&&Fr()===47)break;return"/*"+Rl(r,Xt-1)+"*"+uc(n===47?n:nn())}function cv(n){for(;!Vu(Fr());)nn();return Rl(n,Xt)}function dv(n){return sv(al("",null,null,null,[""],n=ov(n),0,[0],n))}function al(n,r,o,l,u,c,f,p,g){for(var y=0,v=0,_=f,C=0,R=0,N=0,M=1,w=1,P=1,z=0,x="",j=u,b=c,L=l,D=x;w;)switch(N=z,z=nn()){case 40:if(N!=108&&tt(D,_-1)==58){sl(D+=fe(Pu(z),"&","&\f"),"&\f",Uh(y?p[y-1]:0))!=-1&&(P=-1);break}case 34:case 39:case 91:D+=Pu(z);break;case 9:case 10:case 13:case 32:D+=lv(N);break;case 92:D+=av(ll()-1,7);continue;case 47:switch(Fr()){case 42:case 47:Eo(fv(uv(nn(),ll()),r,o,g),g);break;default:D+="/"}break;case 123*M:p[y++]=fn(D)*P;case 125*M:case 59:case 0:switch(z){case 0:case 125:w=0;case 59+v:P==-1&&(D=fe(D,/\f/g,"")),R>0&&fn(D)-_&&Eo(R>32?Up(D+";",l,o,_-1,g):Up(fe(D," ","")+";",l,o,_-2,g),g);break;case 59:D+=";";default:if(Eo(L=Fp(D,r,o,y,v,u,p,x,j=[],b=[],_,c),c),z===123)if(v===0)al(D,r,L,L,j,c,_,p,b);else switch(C===99&&tt(D,3)===110?100:C){case 100:case 108:case 109:case 115:al(n,L,L,l&&Eo(Fp(n,L,L,0,0,u,p,x,u,j=[],_,b),b),u,b,_,p,l?j:b);break;default:al(D,L,L,L,[""],b,0,p,b)}}y=v=R=0,M=P=1,x=D="",_=f;break;case 58:_=1+fn(D),R=N;default:if(M<1){if(z==123)--M;else if(z==125&&M++==0&&iv()==125)continue}switch(D+=uc(z),z*M){case 38:P=v>0?1:(D+="\f",-1);break;case 44:p[y++]=(fn(D)-1)*P,P=1;break;case 64:Fr()===45&&(D+=Pu(nn())),C=Fr(),v=_=fn(x=D+=cv(ll())),z++;break;case 45:N===45&&fn(D)==2&&(M=0)}}return c}function Fp(n,r,o,l,u,c,f,p,g,y,v,_){for(var C=u-1,R=u===0?c:[""],N=xh(R),M=0,w=0,P=0;M<l;++M)for(var z=0,x=vi(n,C+1,C=Uh(w=f[M])),j=n;z<N;++z)(j=Bh(w>0?R[z]+" "+x:fe(x,/&\f/g,R[z])))&&(g[P++]=j);return kl(n,r,o,u===0?Tl:p,g,y,v,_)}function fv(n,r,o,l){return kl(n,r,o,Hh,uc(rv()),vi(n,2,-2),0,l)}function Up(n,r,o,l,u){return kl(n,r,o,ac,vi(n,0,l),vi(n,l+1,-1),l,u)}function zh(n,r,o){switch(tv(n,r)){case 5103:return we+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+n+n;case 4789:return wo+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return we+n+wo+n+Le+n+n;case 5936:switch(tt(n,r+11)){case 114:return we+n+Le+fe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return we+n+Le+fe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return we+n+Le+fe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return we+n+Le+n+n;case 6165:return we+n+Le+"flex-"+n+n;case 5187:return we+n+fe(n,/(\w+).+(:[^]+)/,we+"box-$1$2"+Le+"flex-$1$2")+n;case 5443:return we+n+Le+"flex-item-"+fe(n,/flex-|-self/g,"")+(On(n,/flex-|baseline/)?"":Le+"grid-row-"+fe(n,/flex-|-self/g,""))+n;case 4675:return we+n+Le+"flex-line-pack"+fe(n,/align-content|flex-|-self/g,"")+n;case 5548:return we+n+Le+fe(n,"shrink","negative")+n;case 5292:return we+n+Le+fe(n,"basis","preferred-size")+n;case 6060:return we+"box-"+fe(n,"-grow","")+we+n+Le+fe(n,"grow","positive")+n;case 4554:return we+fe(n,/([^-])(transform)/g,"$1"+we+"$2")+n;case 6187:return fe(fe(fe(n,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),n,"")+n;case 5495:case 3959:return fe(n,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return fe(fe(n,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+n+n;case 4200:if(!On(n,/flex-|baseline/))return Le+"grid-column-align"+vi(n,r)+n;break;case 2592:case 3360:return Le+fe(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(l,u){return r=u,On(l.props,/grid-\w+-end/)})?~sl(n+(o=o[r].value),"span",0)?n:Le+fe(n,"-start","")+n+Le+"grid-row-span:"+(~sl(o,"span",0)?On(o,/\d+/):+On(o,/\d+/)-+On(n,/\d+/))+";":Le+fe(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(l){return On(l.props,/grid-\w+-start/)})?n:Le+fe(fe(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return fe(n,/(.+)-inline(.+)/,we+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fn(n)-1-r>6)switch(tt(n,r+1)){case 109:if(tt(n,r+4)!==45)break;case 102:return fe(n,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+wo+(tt(n,r+3)==108?"$3":"$2-$3"))+n;case 115:return~sl(n,"stretch",0)?zh(fe(n,"stretch","fill-available"),r,o)+n:n}break;case 5152:case 5920:return fe(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(l,u,c,f,p,g,y){return Le+u+":"+c+y+(f?Le+u+"-span:"+(p?g:+g-+c)+y:"")+n});case 4949:if(tt(n,r+6)===121)return fe(n,":",":"+we)+n;break;case 6444:switch(tt(n,tt(n,14)===45?18:11)){case 120:return fe(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+we+(tt(n,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Le+"$2box$3")+n;case 100:return fe(n,":",":"+Le)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return fe(n,"scroll-","scroll-snap-")+n}return n}function hl(n,r){for(var o="",l=0;l<n.length;l++)o+=r(n[l],l,n,r)||"";return o}function pv(n,r,o,l){switch(n.type){case ev:if(n.children.length)break;case J0:case ac:return n.return=n.return||n.value;case Hh:return"";case Fh:return n.return=n.value+"{"+hl(n.children,l)+"}";case Tl:if(!fn(n.value=n.props.join(",")))return""}return fn(o=hl(n.children,l))?n.return=n.value+"{"+o+"}":""}function hv(n){var r=xh(n);return function(o,l,u,c){for(var f="",p=0;p<r;p++)f+=n[p](o,l,u,c)||"";return f}}function gv(n){return function(r){r.root||(r=r.return)&&n(r)}}function mv(n,r,o,l){if(n.length>-1&&!n.return)switch(n.type){case ac:n.return=zh(n.value,n.length,o);return;case Fh:return hl([cr(n,{value:fe(n.value,"@","@"+we)})],l);case Tl:if(n.length)return nv(o=n.props,function(u){switch(On(u,l=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ui(cr(n,{props:[fe(u,/:(read-\w+)/,":"+wo+"$1")]})),ui(cr(n,{props:[u]})),Yu(n,{props:Hp(o,l)});break;case"::placeholder":ui(cr(n,{props:[fe(u,/:(plac\w+)/,":"+we+"input-$1")]})),ui(cr(n,{props:[fe(u,/:(plac\w+)/,":"+wo+"$1")]})),ui(cr(n,{props:[fe(u,/:(plac\w+)/,Le+"input-$1")]})),ui(cr(n,{props:[u]})),Yu(n,{props:Hp(o,l)});break}return""})}}var vv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Si=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",jh="active",Wh="data-styled-version",Pl="6.1.13",cc=`/*!sc*/
`,gl=typeof window<"u"&&"HTMLElement"in window,yv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),Sv={},Dl=Object.freeze([]),Ei=Object.freeze({});function $h(n,r,o){return o===void 0&&(o=Ei),n.theme!==o.theme&&n.theme||r||o.theme}var Yh=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ev=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Av=/(^-|-$)/g;function Bp(n){return n.replace(Ev,"-").replace(Av,"")}var _v=/(a)(d)/gi,Qs=52,xp=function(n){return String.fromCharCode(n+(n>25?39:97))};function Ku(n){var r,o="";for(r=Math.abs(n);r>Qs;r=r/Qs|0)o=xp(r%Qs)+o;return(xp(r%Qs)+o).replace(_v,"$1-$2")}var Du,Vh=5381,hi=function(n,r){for(var o=r.length;o;)n=33*n^r.charCodeAt(--o);return n},Xh=function(n){return hi(Vh,n)};function Kh(n){return Ku(Xh(n)>>>0)}function wv(n){return n.displayName||n.name||"Component"}function Nu(n){return typeof n=="string"&&!0}var Qh=typeof Symbol=="function"&&Symbol.for,qh=Qh?Symbol.for("react.memo"):60115,Iv=Qh?Symbol.for("react.forward_ref"):60112,Tv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Cv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kv=((Du={})[Iv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Du[qh]=Zh,Du);function Gp(n){return("type"in(r=n)&&r.type.$$typeof)===qh?Zh:"$$typeof"in n?kv[n.$$typeof]:Tv;var r}var Rv=Object.defineProperty,Pv=Object.getOwnPropertyNames,zp=Object.getOwnPropertySymbols,Dv=Object.getOwnPropertyDescriptor,Nv=Object.getPrototypeOf,jp=Object.prototype;function bh(n,r,o){if(typeof r!="string"){if(jp){var l=Nv(r);l&&l!==jp&&bh(n,l,o)}var u=Pv(r);zp&&(u=u.concat(zp(r)));for(var c=Gp(n),f=Gp(r),p=0;p<u.length;++p){var g=u[p];if(!(g in Cv||o&&o[g]||f&&g in f||c&&g in c)){var y=Dv(r,g);try{Rv(n,g,y)}catch{}}}}return n}function Ai(n){return typeof n=="function"}function dc(n){return typeof n=="object"&&"styledComponentId"in n}function Lr(n,r){return n&&r?"".concat(n," ").concat(r):n||r||""}function Qu(n,r){if(n.length===0)return"";for(var o=n[0],l=1;l<n.length;l++)o+=n[l];return o}function Ro(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function qu(n,r,o){if(o===void 0&&(o=!1),!o&&!Ro(n)&&!Array.isArray(n))return r;if(Array.isArray(r))for(var l=0;l<r.length;l++)n[l]=qu(n[l],r[l]);else if(Ro(r))for(var l in r)n[l]=qu(n[l],r[l]);return n}function fc(n,r){Object.defineProperty(n,"toString",{value:r})}function Uo(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Ov=function(){function n(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return n.prototype.indexOfGroup=function(r){for(var o=0,l=0;l<r;l++)o+=this.groupSizes[l];return o},n.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var l=this.groupSizes,u=l.length,c=u;r>=c;)if((c<<=1)<0)throw Uo(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(l),this.length=c;for(var f=u;f<c;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(r+1),g=(f=0,o.length);f<g;f++)this.tag.insertRule(p,o[f])&&(this.groupSizes[r]++,p++)},n.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],l=this.indexOfGroup(r),u=l+o;this.groupSizes[r]=0;for(var c=l;c<u;c++)this.tag.deleteRule(l)}},n.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var l=this.groupSizes[r],u=this.indexOfGroup(r),c=u+l,f=u;f<c;f++)o+="".concat(this.tag.getRule(f)).concat(cc);return o},n}(),ul=new Map,ml=new Map,cl=1,qs=function(n){if(ul.has(n))return ul.get(n);for(;ml.has(cl);)cl++;var r=cl++;return ul.set(n,r),ml.set(r,n),r},Mv=function(n,r){cl=r+1,ul.set(n,r),ml.set(r,n)},Lv="style[".concat(Si,"][").concat(Wh,'="').concat(Pl,'"]'),Hv=new RegExp("^".concat(Si,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Fv=function(n,r,o){for(var l,u=o.split(","),c=0,f=u.length;c<f;c++)(l=u[c])&&n.registerName(r,l)},Uv=function(n,r){for(var o,l=((o=r.textContent)!==null&&o!==void 0?o:"").split(cc),u=[],c=0,f=l.length;c<f;c++){var p=l[c].trim();if(p){var g=p.match(Hv);if(g){var y=0|parseInt(g[1],10),v=g[2];y!==0&&(Mv(v,y),Fv(n,v,g[3]),n.getTag().insertRules(y,u)),u.length=0}else u.push(p)}}},Wp=function(n){for(var r=document.querySelectorAll(Lv),o=0,l=r.length;o<l;o++){var u=r[o];u&&u.getAttribute(Si)!==jh&&(Uv(n,u),u.parentNode&&u.parentNode.removeChild(u))}};function Bv(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Jh=function(n){var r=document.head,o=n||r,l=document.createElement("style"),u=function(p){var g=Array.from(p.querySelectorAll("style[".concat(Si,"]")));return g[g.length-1]}(o),c=u!==void 0?u.nextSibling:null;l.setAttribute(Si,jh),l.setAttribute(Wh,Pl);var f=Bv();return f&&l.setAttribute("nonce",f),o.insertBefore(l,c),l},xv=function(){function n(r){this.element=Jh(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var l=document.styleSheets,u=0,c=l.length;u<c;u++){var f=l[u];if(f.ownerNode===o)return f}throw Uo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},n.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},n}(),Gv=function(){function n(r){this.element=Jh(r),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var l=document.createTextNode(o);return this.element.insertBefore(l,this.nodes[r]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},n.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},n}(),zv=function(){function n(r){this.rules=[],this.length=0}return n.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},n.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},n.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},n}(),$p=gl,jv={isServer:!gl,useCSSOMInjection:!yv},vl=function(){function n(r,o,l){r===void 0&&(r=Ei),o===void 0&&(o={});var u=this;this.options=pt(pt({},jv),r),this.gs=o,this.names=new Map(l),this.server=!!r.isServer,!this.server&&gl&&$p&&($p=!1,Wp(this)),fc(this,function(){return function(c){for(var f=c.getTag(),p=f.length,g="",y=function(_){var C=function(P){return ml.get(P)}(_);if(C===void 0)return"continue";var R=c.names.get(C),N=f.getGroup(_);if(R===void 0||!R.size||N.length===0)return"continue";var M="".concat(Si,".g").concat(_,'[id="').concat(C,'"]'),w="";R!==void 0&&R.forEach(function(P){P.length>0&&(w+="".concat(P,","))}),g+="".concat(N).concat(M,'{content:"').concat(w,'"}').concat(cc)},v=0;v<p;v++)y(v);return g}(u)})}return n.registerId=function(r){return qs(r)},n.prototype.rehydrate=function(){!this.server&&gl&&Wp(this)},n.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new n(pt(pt({},this.options),r),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var l=o.useCSSOMInjection,u=o.target;return o.isServer?new zv(u):l?new xv(u):new Gv(u)}(this.options),new Ov(r)));var r},n.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},n.prototype.registerName=function(r,o){if(qs(r),this.names.has(r))this.names.get(r).add(o);else{var l=new Set;l.add(o),this.names.set(r,l)}},n.prototype.insertRules=function(r,o,l){this.registerName(r,o),this.getTag().insertRules(qs(r),l)},n.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},n.prototype.clearRules=function(r){this.getTag().clearGroup(qs(r)),this.clearNames(r)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Wv=/&/g,$v=/^\s*\/\/.*$/gm;function eg(n,r){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(l){return"".concat(r," ").concat(l)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=eg(o.children,r)),o})}function Yv(n){var r,o,l,u=Ei,c=u.options,f=c===void 0?Ei:c,p=u.plugins,g=p===void 0?Dl:p,y=function(C,R,N){return N.startsWith(o)&&N.endsWith(o)&&N.replaceAll(o,"").length>0?".".concat(r):C},v=g.slice();v.push(function(C){C.type===Tl&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(Wv,o).replace(l,y))}),f.prefix&&v.push(mv),v.push(pv);var _=function(C,R,N,M){R===void 0&&(R=""),N===void 0&&(N=""),M===void 0&&(M="&"),r=M,o=R,l=new RegExp("\\".concat(o,"\\b"),"g");var w=C.replace($v,""),P=dv(N||R?"".concat(N," ").concat(R," { ").concat(w," }"):w);f.namespace&&(P=eg(P,f.namespace));var z=[];return hl(P,hv(v.concat(gv(function(x){return z.push(x)})))),z};return _.hash=g.length?g.reduce(function(C,R){return R.name||Uo(15),hi(C,R.name)},Vh).toString():"",_}var Vv=new vl,Zu=Yv(),tg=hn.createContext({shouldForwardProp:void 0,styleSheet:Vv,stylis:Zu});tg.Consumer;hn.createContext(void 0);function bu(){return ke.useContext(tg)}var Xv=function(){function n(r,o){var l=this;this.inject=function(u,c){c===void 0&&(c=Zu);var f=l.name+c.hash;u.hasNameForId(l.id,f)||u.insertRules(l.id,f,c(l.rules,f,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,fc(this,function(){throw Uo(12,String(l.name))})}return n.prototype.getName=function(r){return r===void 0&&(r=Zu),this.name+r.hash},n}(),Kv=function(n){return n>="A"&&n<="Z"};function Yp(n){for(var r="",o=0;o<n.length;o++){var l=n[o];if(o===1&&l==="-"&&n[0]==="-")return n;Kv(l)?r+="-"+l.toLowerCase():r+=l}return r.startsWith("ms-")?"-"+r:r}var ng=function(n){return n==null||n===!1||n===""},rg=function(n){var r,o,l=[];for(var u in n){var c=n[u];n.hasOwnProperty(u)&&!ng(c)&&(Array.isArray(c)&&c.isCss||Ai(c)?l.push("".concat(Yp(u),":"),c,";"):Ro(c)?l.push.apply(l,ko(ko(["".concat(u," {")],rg(c),!1),["}"],!1)):l.push("".concat(Yp(u),": ").concat((r=u,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in vv||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return l};function hr(n,r,o,l){if(ng(n))return[];if(dc(n))return[".".concat(n.styledComponentId)];if(Ai(n)){if(!Ai(c=n)||c.prototype&&c.prototype.isReactComponent||!r)return[n];var u=n(r);return hr(u,r,o,l)}var c;return n instanceof Xv?o?(n.inject(o,l),[n.getName(l)]):[n]:Ro(n)?rg(n):Array.isArray(n)?Array.prototype.concat.apply(Dl,n.map(function(f){return hr(f,r,o,l)})):[n.toString()]}function ig(n){for(var r=0;r<n.length;r+=1){var o=n[r];if(Ai(o)&&!dc(o))return!1}return!0}var Qv=Xh(Pl),qv=function(){function n(r,o,l){this.rules=r,this.staticRulesId="",this.isStatic=(l===void 0||l.isStatic)&&ig(r),this.componentId=o,this.baseHash=hi(Qv,o),this.baseStyle=l,vl.registerId(o)}return n.prototype.generateAndInjectStyles=function(r,o,l){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,l):"";if(this.isStatic&&!l.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Lr(u,this.staticRulesId);else{var c=Qu(hr(this.rules,r,o,l)),f=Ku(hi(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var p=l(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,p)}u=Lr(u,f),this.staticRulesId=f}else{for(var g=hi(this.baseHash,l.hash),y="",v=0;v<this.rules.length;v++){var _=this.rules[v];if(typeof _=="string")y+=_;else if(_){var C=Qu(hr(_,r,o,l));g=hi(g,C+v),y+=C}}if(y){var R=Ku(g>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,l(y,".".concat(R),void 0,this.componentId)),u=Lr(u,R)}}return u},n}(),pc=hn.createContext(void 0);pc.Consumer;var Ou={};function Zv(n,r,o){var l=dc(n),u=n,c=!Nu(n),f=r.attrs,p=f===void 0?Dl:f,g=r.componentId,y=g===void 0?function(j,b){var L=typeof j!="string"?"sc":Bp(j);Ou[L]=(Ou[L]||0)+1;var D="".concat(L,"-").concat(Kh(Pl+L+Ou[L]));return b?"".concat(b,"-").concat(D):D}(r.displayName,r.parentComponentId):g,v=r.displayName,_=v===void 0?function(j){return Nu(j)?"styled.".concat(j):"Styled(".concat(wv(j),")")}(n):v,C=r.displayName&&r.componentId?"".concat(Bp(r.displayName),"-").concat(r.componentId):r.componentId||y,R=l&&u.attrs?u.attrs.concat(p).filter(Boolean):p,N=r.shouldForwardProp;if(l&&u.shouldForwardProp){var M=u.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;N=function(j,b){return M(j,b)&&w(j,b)}}else N=M}var P=new qv(o,C,l?u.componentStyle:void 0);function z(j,b){return function(L,D,ue){var Ce=L.attrs,Pe=L.componentStyle,st=L.defaultProps,De=L.foldedComponentIds,ye=L.styledComponentId,je=L.target,Se=hn.useContext(pc),pe=bu(),re=L.shouldForwardProp||pe.shouldForwardProp,G=$h(D,Se,st)||Ei,Y=function(he,oe,de){for(var ce,K=pt(pt({},oe),{className:void 0,theme:de}),te=0;te<he.length;te+=1){var _e=Ai(ce=he[te])?ce(K):ce;for(var ae in _e)K[ae]=ae==="className"?Lr(K[ae],_e[ae]):ae==="style"?pt(pt({},K[ae]),_e[ae]):_e[ae]}return oe.className&&(K.className=Lr(K.className,oe.className)),K}(Ce,D,G),W=Y.as||je,A={};for(var O in Y)Y[O]===void 0||O[0]==="$"||O==="as"||O==="theme"&&Y.theme===G||(O==="forwardedAs"?A.as=Y.forwardedAs:re&&!re(O,W)||(A[O]=Y[O]));var V=function(he,oe){var de=bu(),ce=he.generateAndInjectStyles(oe,de.styleSheet,de.stylis);return ce}(Pe,Y),ie=Lr(De,ye);return V&&(ie+=" "+V),Y.className&&(ie+=" "+Y.className),A[Nu(W)&&!Yh.has(W)?"class":"className"]=ie,A.ref=ue,ke.createElement(W,A)}(x,j,b)}z.displayName=_;var x=hn.forwardRef(z);return x.attrs=R,x.componentStyle=P,x.displayName=_,x.shouldForwardProp=N,x.foldedComponentIds=l?Lr(u.foldedComponentIds,u.styledComponentId):"",x.styledComponentId=C,x.target=l?u.target:n,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=l?function(b){for(var L=[],D=1;D<arguments.length;D++)L[D-1]=arguments[D];for(var ue=0,Ce=L;ue<Ce.length;ue++)qu(b,Ce[ue],!0);return b}({},u.defaultProps,j):j}}),fc(x,function(){return".".concat(x.styledComponentId)}),c&&bh(x,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function Vp(n,r){for(var o=[n[0]],l=0,u=r.length;l<u;l+=1)o.push(r[l],n[l+1]);return o}var Xp=function(n){return Object.assign(n,{isCss:!0})};function og(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Ai(n)||Ro(n))return Xp(hr(Vp(Dl,ko([n],r,!0))));var l=n;return r.length===0&&l.length===1&&typeof l[0]=="string"?hr(l):Xp(hr(Vp(l,r)))}function Ju(n,r,o){if(o===void 0&&(o=Ei),!r)throw Uo(1,r);var l=function(u){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return n(r,o,og.apply(void 0,ko([u],c,!1)))};return l.attrs=function(u){return Ju(n,r,pt(pt({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},l.withConfig=function(u){return Ju(n,r,pt(pt({},o),u))},l}var sg=function(n){return Ju(Zv,n)},mr=sg;Yh.forEach(function(n){mr[n]=sg(n)});var bv=function(){function n(r,o){this.rules=r,this.componentId=o,this.isStatic=ig(r),vl.registerId(this.componentId+1)}return n.prototype.createStyles=function(r,o,l,u){var c=u(Qu(hr(this.rules,o,l,u)),""),f=this.componentId+r;l.insertRules(f,f,c)},n.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},n.prototype.renderStyles=function(r,o,l,u){r>2&&vl.registerId(this.componentId+r),this.removeStyles(r,l),this.createStyles(r,o,l,u)},n}();function Jv(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var l=og.apply(void 0,ko([n],r,!1)),u="sc-global-".concat(Kh(JSON.stringify(l))),c=new bv(l,u),f=function(g){var y=bu(),v=hn.useContext(pc),_=hn.useRef(y.styleSheet.allocateGSInstance(u)).current;return y.styleSheet.server&&p(_,g,y.styleSheet,v,y.stylis),hn.useLayoutEffect(function(){if(!y.styleSheet.server)return p(_,g,y.styleSheet,v,y.stylis),function(){return c.removeStyles(_,y.styleSheet)}},[_,g,y.styleSheet,v,y.stylis]),null};function p(g,y,v,_,C){if(c.isStatic)c.renderStyles(g,Sv,v,C);else{var R=pt(pt({},y),{theme:$h(y,_,f.defaultProps)});c.renderStyles(g,R,v,C)}}return hn.memo(f)}const ey=mr.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #000;
  text-align: center;
`,ty=mr.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,ny=mr.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Kp=()=>{const{setAppState:n}=Il();return Re.jsxs(ey,{children:[Re.jsx(ty,{children:"Welcome to Tribe!"}),Re.jsx(ny,{onClick:()=>n("game"),children:"Start Game"})]})};function ry(n,r){var o=ke.useRef(null),l=ke.useRef(!1),u=ke.useRef(n);u.current=n;var c=ke.useCallback(function(p){l.current&&(u.current(p),o.current=requestAnimationFrame(c))},[]),f=ke.useMemo(function(){return[function(){l.current&&(l.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){l.current||(l.current=!0,o.current=requestAnimationFrame(c))},function(){return l.current}]},[]);return ke.useEffect(function(){return f[0]},[]),f}function iy(n,r,o,l,u){var f;(f=n.onExit)==null||f.call(n,l,r);const c=u.find(({id:p})=>p===r);return c!=null&&c.onEnter?c.onEnter(l,o):{...o,enteredAt:l.updateContext.gameState.time}}function oy(n,r){return r.find(({id:o})=>o===n)}function sy(n,r){return n!==r}function ly(n){console.warn(`No handler found for state: ${n}`)}const Io="bushGrowing",Mr="bushFull",dl="bushSpreading",Po="bushDying",Mn=24,Ln=10,Mu=3e3,Lu=3e3,lg=2,ay=5,uy=3,cy=12,dy=940,fy=.4,ec=20,Qp=160,py=45,hy=240,ag=10,Do=80,gy=3,ho=5,Et=150,hc=Et*.8,my=Et*.2,ht=Et*.95,Ur=30,ug=10,vy=10,yy=.5,Rt=30,vn=Rt*.75,cg=50,Sy=20,Ey=Do*.8,Ay=.7,Zs=16,rn=40,gc=35,mc=16,_y=72/3,qp=24,wy=1.25,Iy=1.5,Hn=Et*.6,Bo=50,Ty=1,_i=350,dg=Do*.65,Cy=80,ky=50,Ry=1,Py=128,fg=10,Zp=100,Dy=20,Nl=Rt,pg=.5,hg=5,Ny=5,Oy=.1,My=.5,Ly=1.5,Hy=.25,Fy=2,Uy=45,By=.05,gg=1,bp=10,No=5,xy=.5,Gy=6,zy=100,jy=30,Wy=.33,$y=.33,Hr=Et*.8,mg=Et*.5,vc=Et*.7,yc=Et*.8,Yy=80,Sc=.1,wi=150,Ec=100,vg=100,yg=250,Ac=2,_c=400,Sg=Et*.85,Vy=100,yl=200,Xy=80,Ky=100,Qy=3,qy=10,wc=500,Sl=400,Zy=10,by=-5,Eg=1.5,Jy=1.5,Ii=10,Ag=250,ki=.3,Ic=200,eS=-25,Jp=-10,tS=-10,nS=.5,rS=.5,iS=.1,gr=-50,oS=-5,sS="red",yn=30,_g=yn*.6,Tc="#4CAF50",wg="#FF5722",Ig="#9C27B0",lS="#2196F3",Tg="#FFC107",aS="#FFD700",Cg="#DC143C",uS="#FFFFFF",cS=[5,5],kg=5,eh=20,dS=20,fS=16,pS=10,hS=16,gS=16,th=["","","","","","","","","",""],nh=8,mS="#FFFFFF",or=18,kt=15,vS="rgba(0, 0, 0, 0.7)",yS=4,sr=150,Lt=15,cn=10,gi="#555",SS="#f44336",ES="#4CAF50",AS="#2196F3",_S="#FFC107",go=16,wS=9,Or=32,bs=28,IS=10,TS=8,CS=8,kS=8,Js=28,el=40,RS="rgba(255, 215, 0, 0.7)",PS="rgba(0, 0, 0, 0.3)",lr=10,rh=8,Hu=11,ar=20,Fu=40,ih=5,DS=10,NS="#FFA500",OS="#808080",To=120,MS=30,LS=20,Uu="#2d3748",HS="#ffffff",Bu="#4a5568",FS="rgba(0, 0, 0, 0.5)",US="#FFFFFF",BS=33,xS=400,GS=20,zS=10,jS="rgba(0, 0, 0, 0.7)",WS="#FFFFFF",xu=20,oh=16,$S=.5,sh=5,Rg="#FFD700",YS=40,VS=4,XS=3,KS=5,nt=1,Ao=3,QS=70,lh=600,qS=1.5,ZS=.1;function Ze(n,r,o,l,u){const c={id:n.nextVisualEffectId,type:r,position:o,startTime:n.time,duration:l,entityId:u};return n.visualEffects.push(c),n.nextVisualEffectId++,c.id}var me=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n))(me||{}),Sn=(n=>(n.Berry="berry",n.Meat="meat",n))(Sn||{});const Pg={berry:"",meat:""},bS={id:Io,update:(n,r)=>{const{entity:o,updateContext:l}=r,u=l.deltaTime*(Mn/Ln);return o.age+=u,o.age>=o.lifespan?{nextState:Po,data:{...n,enteredAt:l.gameState.time}}:(o.ownerId&&o.claimedUntil&&l.gameState.time>o.claimedUntil&&(Ze(l.gameState,me.BushClaimLost,o.position,nt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=cy&&o.food.length<o.maxFood&&(o.food.push({type:Sn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Mr,data:{...n,enteredAt:l.gameState.time,previousState:Io}}:{nextState:Io,data:n})},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})},JS={id:Mr,update:(n,r)=>{const{entity:o,updateContext:l}=r,u=l.deltaTime*(Mn/Ln);return o.age+=u,o.age>=o.lifespan?{nextState:Po,data:{...n,enteredAt:l.gameState.time,previousState:Mr}}:o.food.length<o.maxFood?{nextState:Io,data:{...n,enteredAt:l.gameState.time,previousState:Mr}}:(o.ownerId&&o.claimedUntil&&l.gameState.time>o.claimedUntil&&(Ze(l.gameState,me.BushClaimLost,o.position,nt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=Qp&&(o.timeSinceLastSpreadAttempt=0,l.gameState.time-o.timeSinceLastHarvest>=Qp&&Math.random()<o.spreadChance)?{nextState:dl,data:{...n,enteredAt:l.gameState.time,previousState:Mr}}:{nextState:Mr,data:n})},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})};function gn(n,r){return{x:n.x+r.x,y:n.y+r.y}}function e1(n,r){return{x:n.x-r.x,y:n.y-r.y}}function tn(n,r){return{x:n.x*r,y:n.y*r}}function Oo(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function Ge(n){const r=Oo(n);return r===0?{x:0,y:0}:tn(n,1/r)}function Dg(n,r,o){return{x:n.x+(r.x-n.x)*o,y:n.y+(r.y-n.y)*o}}function Ue(n,r,o,l){let u=r.x-n.x,c=r.y-n.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(c)>l/2&&(c=c-Math.sign(c)*l),{x:u,y:c}}function le(n,r,o,l){const u=Ue(n,r,o,l);return Oo(u)}function t1(n,r){return n.x*r.x+n.y*r.y}function n1(n,r){const o=t1(n,r),l=Oo(n),u=Oo(r);if(l===0||u===0)return 0;const c=Math.max(-1,Math.min(1,o/(l*u)));return Math.acos(c)}var pn=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n))(pn||{});const r1={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:""};var fi=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(fi||{});const mo={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var mn=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n))(mn||{});function Ng(n,r){const o=[],l=n;if(r.food.length>0&&r.hunger>hc&&o.push({type:pn.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const f=Ae(r,n,"berryBush",Rt,y=>y.food.length>0),p=Ae(r,n,"humanCorpse",Rt,y=>y.food.length>0);let g=null;f&&p?g=le(r.position,f.position,n.mapDimensions.width,n.mapDimensions.height)<=le(r.position,p.position,n.mapDimensions.width,n.mapDimensions.height)?f:p:g=f||p,g&&o.push({type:pn.GatherFood,action:"gathering",key:"e",targetEntity:g})}const u=Ae(r,n,"human",Rt,f=>{const p=f;return(p.id!==r.id&&p.gender!==r.gender&&p.isAdult&&r.isAdult&&p.hunger<ht&&r.hunger<ht&&(p.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(p.gender==="female"?!p.isPregnant&&p.age<=rn:!r.isPregnant&&r.age<=rn))??!1});u&&o.push({type:pn.Procreate,action:"procreating",key:"r",targetEntity:u});const c=Ae(r,n,"human",Nl,f=>f.id!==r.id);return c&&o.push({type:pn.Attack,action:"attacking",key:"q",targetEntity:c}),r.food.filter(f=>f.type===Sn.Berry).length>=No&&o.push({type:pn.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&Ml(r.position,r.id,l,Ag).length>0&&o.push({type:pn.CallToAttack,action:"callingToAttack",key:"v"}),o}function xo(n,r,o,l){const u=Math.random()*Math.PI*2,c=Math.sqrt(Math.random())*r,f={x:Math.cos(u)*c,y:Math.sin(u)*c},p=gn(n,f);return{x:(p.x%o+o)%o,y:(p.y%l+l)%l}}function tc(n,r,o){const l=r,u={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},c=[...l.search.human.byRect(u),...l.search.berryBush.byRect(u),...l.search.humanCorpse.byRect(u)];for(const f of c)if(le(n,f.position,r.mapDimensions.width,r.mapDimensions.height)<o+f.radius)return!0;return!1}function Og(n,r,o,l){const u=r.mapDimensions.width,c=r.mapDimensions.height;if(!tc(n,r,l))return n;const f=l;for(let p=f;p<=o;p+=f){const g=Math.ceil(2*Math.PI*p/f);for(let y=0;y<g;y++){const v=y/g*2*Math.PI,_={x:Math.cos(v)*p,y:Math.sin(v)*p},C=gn(n,_),R={x:(C.x%u+u)%u,y:(C.y%c+c)%c};if(!tc(R,r,l))return R}}return null}function nc(n,r){const o=Ae(n,r,"berryBush",void 0,u=>u.ownerId===n.id);return o?Og(o.position,r,zy,jy):null}function Ae(n,r,o,l,u){const c=r,f=l!==void 0?l:Math.max(r.mapDimensions.width,r.mapDimensions.height),p=c.search[o].byRadius(n.position,f);let g=null,y=f;for(const v of p){if(v.id===n.id||u&&!u(v))continue;const _=le(n.position,v.position,r.mapDimensions.width,r.mapDimensions.height);_<y&&(y=_,g=v)}return g}function Mg(n,r,o,l){return r.search[o].byRadius(n,l).length}function Cc(n,r){const o=r,l=o.search.human.byProperty("motherId",n),u=o.search.human.byProperty("fatherId",n);return l.length+u.length}function rc(n){if(n.length===0)return;const r=n.filter(u=>u.gender==="male"),o=n.filter(u=>u.gender==="female"),l=(u,c)=>u.age!==c.age?c.age-u.age:u.id-c.id;if(r.sort(l),r.length>0)return r[0];if(o.sort(l),o.length>0)return o[0]}function pr(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function En(n,r){const o=n,l=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...l,...u]}function Fn(n,r){var f;const l=r.search.human.byProperty("activeAction","attacking");let u=null,c=1/0;for(const p of l){if(p.attackTargetId!==n)continue;const g=le(p.position,((f=r.entities.entities.get(n))==null?void 0:f.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);g<c&&(u=p,c=g)}return u}function Ol(n,r,o){var u;if(n.id===r.id||n.motherId===r.id||n.fatherId===r.id||r.motherId===n.id||r.fatherId===n.id||n.motherId&&n.motherId===r.motherId||n.fatherId&&n.fatherId===r.fatherId||(u=n.partnerIds)!=null&&u.includes(r.id))return!0;if(n.motherId){const c=o.entities.entities.get(n.motherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(n.fatherId){const c=o.entities.entities.get(n.fatherId);if(c&&(c.motherId===r.id||c.fatherId===r.id))return!0}if(r.motherId){const c=o.entities.entities.get(r.motherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}if(r.fatherId){const c=o.entities.entities.get(r.fatherId);if(c&&(c.motherId===n.id||c.fatherId===n.id))return!0}return!1}function ah(n,r){var c,f;if(n.id===r.id||n.motherId===r.id||n.fatherId===r.id||r.motherId===n.id||r.fatherId===n.id)return!0;const o=n.motherId===r.motherId||n.fatherId===r.fatherId,l=r.motherId===n.motherId||r.fatherId===n.fatherId,u=((c=n.ancestorIds)==null?void 0:c.some(p=>r.ancestorIds.includes(p)))||((f=r.ancestorIds)==null?void 0:f.some(p=>n.ancestorIds.includes(p)));return o||l||u}function kc(n,r){const o=[];if(n.motherId){const l=r.entities.entities.get(n.motherId);l&&o.push(l)}if(n.fatherId){const l=r.entities.entities.get(n.fatherId);l&&o.push(l)}return o}function Lg(n,r){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const l=r.entities.entities.get(o);if(l&&l.gender==="male")return l}return null}function uh(n,r){var l;const o=new Set;if(n.motherId){const u=r.entities.entities.get(n.motherId);u&&o.add(u)}if(n.fatherId){const u=r.entities.entities.get(n.fatherId);u&&o.add(u)}return(l=n.partnerIds)==null||l.forEach(u=>{const c=r.entities.entities.get(u);c&&o.add(c)}),En(r,n).forEach(u=>o.add(u)),Array.from(o)}function Hg(n,r,o,l){const c=r.search.human.byRadius(n.position,o);let f=null,p=1/0,g=1/0;for(const y of c){if(y.id===n.id||l&&!l(y))continue;let v=0;for(const C of r.entities.entities.values())C.type==="human"&&C.attackTargetId===y.id&&v++;const _=le(n.position,y.position,r.mapDimensions.width,r.mapDimensions.height);(v<p||v===p&&_<g)&&(p=v,g=_,f=y)}return f}let Gu=0;function El(){const n=th[Gu];return Gu=(Gu+1)%th.length,n}function Fg(n,r,o){r.leaderId=n.id,r.tribeBadge=n.tribeBadge,r.gender==="male"&&En(o,r).forEach(l=>{var u;if(Fg(n,l,o),l.motherId&&((u=r.partnerIds)!=null&&u.includes(l.motherId))){const c=o.entities.entities.get(l.motherId);c&&(c.leaderId=n.id,c.tribeBadge=n.tribeBadge)}})}function i1(n,r){return r.search.human.byProperty("leaderId",n)}function Ml(n,r,o,l){return o.search.human.byRadius(n,l).filter(c=>c.leaderId!==r&&c.id!==r)}function o1(n,r,o){const l=o.search.human.byProperty("leaderId",n);let u=0;for(const c of l)c.attackTargetId===r&&u++;return u}function s1(n,r){var c;const o=new Map,l=Array.from(n.entities.entities.values()).filter(f=>f.type==="human");for(const f of l)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(c=o.get(f.leaderId))==null||c.members.push(f));const u=Array.from(o.values()).map(f=>{const p=n.entities.entities.get(f.leaderId),g=f.members.filter(v=>v.isAdult).length,y=f.members.length-g;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:g,childCount:y,isPlayerTribe:f.leaderId===r,leaderAge:(p==null?void 0:p.age)??0,leaderGender:(p==null?void 0:p.gender)??"male"}});return u.sort((f,p)=>f.isPlayerTribe?-1:p.isPlayerTribe?1:p.adultCount+p.childCount-(f.adultCount+f.childCount)),u}function Al(n,r){const o=r.search.human.byProperty("leaderId",n),l=r.entities.entities.get(n);return l&&(o.some(u=>u.id===n)||o.push(l)),o}function Rc(n,r,o,l){const u=o.search.berryBush.byRadius(n,r),c=o.search.human.byRadius(n,r).filter(g=>g.leaderId!==l);let f=u.length*Zy;f+=c.length*by;let p;if(c.length>0){const g={};for(const v of c)v.leaderId&&(g[v.leaderId]=(g[v.leaderId]||0)+1);let y=0;for(const v in g)g[v]>y&&(y=g[v],p=parseInt(v,10))}return{score:f,occupyingTribeId:p}}function _l(n,r,o){let l=-1/0,u=null;for(let c=0;c<n.mapDimensions.width;c+=o)for(let f=0;f<n.mapDimensions.height;f+=o){const p={x:c,y:f},{score:g,occupyingTribeId:y}=Rc(p,wc/2,n,r);g>l&&(l=g,u={position:p,score:g,occupyingTribeId:y})}return u}function ch(n){return n.length===0?0:n.reduce((r,o)=>{let l=o.hitpoints;return l+=(o.maxAge-o.age)*.5,l+=o.food.length*2,r+l},0)}function Pc(n,r){for(const o of n)if(r.search.human.byProperty("attackTargetId",o.id).filter(u=>u.leaderId!==o.leaderId).length>0)return!0;return!1}const l1={id:dl,update:(n,r)=>{const{entity:o,updateContext:l}=r,{gameState:u}=l,c=l.deltaTime*(Mn/Ln);if(o.age+=c,o.age>=o.lifespan)return{nextState:Po,data:{...n,enteredAt:u.time,previousState:dl}};const f=xo(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return tc(f,u,15)||Nc(u.entities,f,u.time),{nextState:Mr,data:{...n,enteredAt:u.time,previousState:dl}}},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})},a1={id:Po,update:n=>({nextState:Po,data:n}),onEnter:(n,r)=>(Oc(n.updateContext.gameState.entities,n.entity.id),{...r,enteredAt:n.updateContext.gameState.time})},u1=[bS,JS,l1,a1],ot="humanIdle",pi="humanMoving",_o="humanEating",Ll="humanGathering",Mo="humanProcreating",c1="humanSeekingFood",Ti="humanAttacking",fl="humanPlanting",d1={id:ot,update:(n,r)=>{const{entity:o,updateContext:l}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ti,data:{...n,enteredAt:l.gameState.time,previousState:ot,attackTargetId:o.attackTargetId,attackStartTime:l.gameState.time}}:(o.hunger>=hc?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:l.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:pi,data:{...n,enteredAt:l.gameState.time,previousState:ot,targetPosition:o.targetPosition}}:o.activeAction==="gathering"?{nextState:Ll,data:{...n,enteredAt:l.gameState.time,previousState:ot,targetPosition:o.targetPosition}}:o.activeAction==="eating"?{nextState:_o,data:{...n,enteredAt:l.gameState.time,previousState:ot}}:o.activeAction==="planting"&&o.targetPosition?{nextState:fl,data:{...n,enteredAt:l.gameState.time,previousState:ot,plantingSpot:o.targetPosition}}:{nextState:ot,data:n})},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})};function Ug(n){let r=vy;return n.hunger>=hc&&(r*=yy),n.age>=Ey&&(r*=Ay),r}const zu=5;class f1{constructor(){$t(this,"id",pi)}update(r,o){const{entity:l,updateContext:u}=o;if(l.activeAction==="attacking"&&l.attackTargetId)return{nextState:Ti,data:{...r,enteredAt:u.gameState.time,previousState:pi,attackTargetId:l.attackTargetId,attackStartTime:u.gameState.time}};if(l.activeAction!=="moving")return{nextState:ot,data:{...r,enteredAt:u.gameState.time,previousState:pi}};let c=r.targetPosition;return c||(c=gn(l.position,{x:l.direction.x*zu,y:l.direction.y*zu})),l.acceleration=Ug(l),le(l.position,c,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<zu?{nextState:ot,data:{...r,enteredAt:u.gameState.time,previousState:pi}}:{nextState:pi,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0,o.targetPosition=void 0}}const p1=new f1,ju=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,h1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,g1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,m1=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,v1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,y1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,S1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,E1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,A1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href;var Ke=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.GameOver=9]="GameOver",n[n.ButtonClick=10]="ButtonClick",n))(Ke||{});const _1=new Map([[0,ju],[1,h1],[2,g1],[3,m1],[4,v1],[5,y1],[6,S1],[9,E1],[10,A1],[7,ju],[8,ju]]);let vo,Lo;function w1(){if(!(typeof window>"u"))return Lo}function Bg(){if(!(typeof window>"u"))return!vo&&typeof window.AudioContext=="function"&&(vo=new window.AudioContext,Lo=vo.createGain(),Lo.connect(vo.destination),pl(.1,!1)),vo}function pl(n,r){Lo&&(Lo.gain.value=r?0:n/10)}const xg=new Map;let tl=!1,dh=!1;async function I1(){if(dh||tl)return;const n=Bg();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),tl=!0,console.log("Starting sound loading...");const r=[];_1.forEach((o,l)=>{const u=fetch(o).then(c=>{if(!c.ok)throw new Error(`Failed to fetch sound: ${o}`);return c.arrayBuffer()}).then(c=>n.decodeAudioData(c)).then(c=>{xg.set(l,c)}).catch(c=>{console.error(`Error loading sound ${Ke[l]} from ${o}:`,c)});r.push(u)});try{await Promise.all(r),dh=!0,tl=!1,console.log("All sounds loaded successfully.")}catch(o){tl=!1,console.error("An error occurred while loading sounds:",o)}}function Gg(n,r){const o=Bg(),l=w1();if(!o||!l||l.gain.value===0)return;o.state==="suspended"&&o.resume();const u=xg.get(n);if(!u){console.warn(`Sound buffer not found for type: ${Ke[n]}`);return}const c=o.createBufferSource();c.buffer=u;const f=o.createGain(),p=o.createStereoPanner();let g=f;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const y=Ue(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),v=le(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(v>lh)return;const _=1-Math.pow(v/lh,qS);f.gain.value=Math.max(0,_);const C=Math.sin(y.x/v*(Math.PI/2));p.pan.value=isNaN(C)?0:C,f.connect(p),g=p}else{const y=n===Ke.GameOver?.4:.2;f.gain.value=y}c.connect(g),g.connect(l),c.start(0)}function St(n,r,o){const l=pr(n.gameState);l&&Gg(r,{position:o,listenerPosition:l.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}const T1={id:_o,update:(n,r)=>{const{entity:o,updateContext:l}=r;return o.activeAction!=="eating"?{nextState:ot,data:{...n,enteredAt:l.gameState.time,previousState:_o}}:(o.food.length>0&&(!o.eatingCooldownTime||l.gameState.time>=o.eatingCooldownTime)&&o.hunger>Ur&&(o.hunger=Math.max(0,o.hunger-Ur),o.food.pop(),o.eatingCooldownTime=l.gameState.time+1,St(l,Ke.Eat,o.position),(!o.lastEatingEffectTime||l.gameState.time-o.lastEatingEffectTime>2)&&(Ze(l.gameState,me.Eating,o.position,nt,o.id),o.lastEatingEffectTime=l.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ot,data:{...n,enteredAt:l.gameState.time,previousState:_o}}:{nextState:_o,data:n})},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})};class C1{constructor(){$t(this,"id",Ll)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const k1=new C1,R1=(n,r)=>(r.procreationEndTime=n.updateContext.gameState.time+(r.duration||2),r),P1=(n,r)=>{const{entity:o,updateContext:l}=r,{gameState:u}=l;if(u.time<(n.procreationEndTime||0))return{nextState:Mo,data:n};const c=u.entities.entities.get(n.partnerId);if(c&&c.type==="human"&&!c.isPregnant&&o.hunger<ht&&c.hunger<ht&&!o.procreationCooldown&&!c.procreationCooldown){const f=o.gender==="female"?o:c.gender==="female"?c:void 0,p=o.gender==="male"?o:c.gender==="male"?c:void 0;f&&p&&(f.isPregnant=!0,f.gestationTime=_y,f.fatherId=p.id,o.procreationCooldown=qp,c.procreationCooldown=qp,St(l,Ke.Procreate,f.position))}return o.activeAction="idle",c&&(c.activeAction="idle"),{nextState:ot,data:{...n,enteredAt:u.time,previousState:Mo}}},D1={id:Mo,onEnter:R1,update:P1};class N1{constructor(){$t(this,"id",c1)}update(r,o){return o.entity.activeAction!=="seekingFood"||!o.entity.isAdult?{nextState:ot,data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const O1=new N1,M1={id:Ti,onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ot,data:{...n}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ot,data:{...n}};const l=le(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=Ue(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=Ge(u),l>Nl?r.entity.acceleration=Ug(r.entity):r.entity.acceleration=0,{nextState:Ti,data:n}}},L1={id:fl,update:(n,r)=>{const{entity:o,updateContext:l}=r,{gameState:u}=l;if(u.time-n.enteredAt>=xy){if(o.food.filter(p=>p.type===Sn.Berry).length>=No){for(let p=0;p<No;p++){const g=o.food.findIndex(y=>y.type===Sn.Berry);g>-1&&o.food.splice(g,1)}Nc(u.entities,n.plantingSpot,u.time)}return{nextState:ot,data:{...n,enteredAt:u.time,previousState:fl}}}return{nextState:fl,data:n}},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})},H1=[d1,p1,T1,k1,D1,O1,M1,L1],fh=[...u1,...H1];function F1(n,r,o){const l=oy(n,fh);if(!l)return ly(n),[n,r];const{nextState:u,data:c}=l.update(r,o);return sy(n,u)?[u,iy(l,u,c,o,fh)]:[u,c]}function wl(n,r,o,l){n.karma[r.id]=(n.karma[r.id]||0)+o,U1(n,r,o*nS,l)}function U1(n,r,o,l){const u=uh(n,l),c=uh(r,l);for(const f of u)f.id!==r.id&&(f.karma[r.id]=(f.karma[r.id]||0)+o);for(const f of c)f.id!==n.id&&(n.karma[f.id]=(n.karma[f.id]||0)+o)}function B1(n,r){for(const o in n.karma){const l=n.karma[o],u=iS*r;l>0?n.karma[o]=Math.max(0,l-u):l<0&&(n.karma[o]=Math.min(0,l+u)),n.karma[o]===0&&delete n.karma[o]}}function x1(n,r,o){const l={};for(const u in r.karma)l[u]=(l[u]||0)+r.karma[u];if(o)for(const u in o.karma)l[u]=(l[u]||0)+o.karma[u];for(const u in l){const c=l[u]*rS;Math.abs(c)>.1&&(n.karma[u]=c)}}function G1(n,r,o){const{gameState:l}=r,u=o*(Mn/Ln);if(n.isAdult=n.age>=mc,B1(n,u),n.leaderId&&n.leaderId!==n.id&&n.isAdult&&n.gender==="male"&&(!l.entities.entities.get(n.leaderId)||(n.karma[n.leaderId]??0)<=gr)&&(n.leaderId=n.id,n.tribeBadge=El(),Fg(n,n,l)),n.isCallingToAttack&&n.callToAttackEndTime&&l.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.hitpoints<n.maxHitpoints){const f=1-n.hunger/100*My,p=Oy*f*u;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+p)}if(n.hunger+=o*(ho/(Mn/Ln)),n.hunger>QS&&(!n.lastHungerEffectTime||l.time-n.lastHungerEffectTime>Ao*2)&&(Ze(l,me.Hunger,n.position,Ao,n.id),n.lastHungerEffectTime=l.time),n.age+=o/ag,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=u,n.hunger+=o*((ho*wy-ho)/(Mn/Ln)),(!n.lastPregnantEffectTime||l.time-n.lastPregnantEffectTime>Ao*3)&&(Ze(l,me.Pregnant,n.position,Ao,n.id),n.lastPregnantEffectTime=l.time),n.gestationTime<=0&&(xE(n,n.fatherId,r),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=u,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=u,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=u,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=u,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=u,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===_g&&(n.radius=yn):n.hunger+=o*((ho*Iy-ho)/(Mn/Ln)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const f=[];if(n.motherId){const p=l.entities.entities.get(n.motherId);p&&f.push(p)}if(n.fatherId){const p=l.entities.entities.get(n.fatherId);p&&f.push(p)}for(const p of f)if(p.age>=dg&&p.hunger>=Cy&&le(n.position,p.position,l.mapDimensions.width,l.mapDimensions.height)<=ky){n.food.pop(),p.hunger=Math.max(0,p.hunger-Ur),n.feedParentCooldownTime=Ry;break}}let c;if(n.hitpoints<=0?c="killed":n.hunger>=Et?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Ur)):c="hunger":n.age>=n.maxAge&&(c="oldAge"),c){if(n.leaderId===n.id){const f=rc(En(l,n));f?(f.leaderId=f.id,f.tribeBadge=n.tribeBadge,l.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===n.id){const g=p;(g.karma[f.id]??0)>gr?g.leaderId=f.id:(g.leaderId=g.id,g.tribeBadge=El())}})):l.entities.entities.forEach(p=>{if(p.type==="human"&&p.leaderId===n.id){const g=p;g.leaderId=void 0,g.tribeBadge=void 0}})}if(n.isPlayer){const f=rc(En(l,n));f?(f.isPlayer=!0,l.generationCount++):(l.gameOver=!0,l.causeOfGameOver=c)}BE(l.entities,n.position,n.gender,n.age,n.radius,n.id,l.time,n.food,n.hunger),Oc(l.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function z1(n,r){const o=r.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/Py);const l=Math.floor(fg*(1-n.decayProgress));n.food.length>l&&n.food.splice(l),n.decayProgress>=1&&n.food.length<=0&&Oc(r.gameState.entities,n.id)}var Vt=(n=>(n[n.StrategyBased=0]="StrategyBased",n[n.UtilityBased=1]="UtilityBased",n[n.BehaviorTreeBased=2]="BehaviorTreeBased",n))(Vt||{});function j1(n,r){n.aiBehaviorTree&&n.aiBlackboard?n.aiBehaviorTree.execute(n,r,n.aiBlackboard):(console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle")}class W1{check(r,o){const{gameState:l}=o;if(!r.isAdult||r.hunger>yc||r.hitpoints<r.maxHitpoints*ki)return null;if(r.attackTargetId){const f=l.entities.entities.get(r.attackTargetId);if(f&&le(r.position,f.position,l.mapDimensions.width,l.mapDimensions.height)<yl)return f}const u=Fn(r.id,l);if(u)return u;for(const f of l.entities.entities.values())if(f.type==="human"){const p=f;if(p.motherId===r.id||p.fatherId===r.id){const g=Fn(p.id,l);if(g)return g}}const c=Hg(r,l,yl,f=>{const p=f;return(r.karma[p.id]||0)<gr});return c&&l.search.human.byProperty("attackTargetId",c.id).length<gg?c:null}execute(r,o,l){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>nt*5)&&(Ze(o.gameState,me.TargetAcquired,r.position,nt,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=l.id,r.targetPosition=void 0}}class $1{check(r,o){const{gameState:l}=o,u=l;if(!r.isAdult||r.hunger>Hr)return null;const c=u.search.berryBush.byProperty("ownerId",r.id);if(c.length===0)return null;for(const f of c){const p=u.search.human.byRadius(f.position,Vy);for(const g of p)if(g.id!==r.id&&!Ol(r,g,l)&&(r.karma[g.id]||0)<gr&&le(g.position,f.position,l.mapDimensions.width,l.mapDimensions.height)<Xy)return g}return null}execute(r,o,l){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>nt*5)&&(Ze(o.gameState,me.TargetAcquired,r.position,nt,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=l.id,r.targetPosition=void 0}}class Y1{check(r,o){const{gameState:l}=o;if(!r.isAdult||!r.leaderId||r.id===r.leaderId||r.hunger>yc||r.hitpoints<r.maxHitpoints*ki)return null;const u=l.entities.entities.get(r.leaderId);if(!u||!u.isCallingToAttack)return null;const c=Ml(u.position,u.id,l,Ky);if(c.length===0)return null;c.sort((f,p)=>{const g=le(r.position,f.position,l.mapDimensions.width,l.mapDimensions.height),y=le(r.position,p.position,l.mapDimensions.width,l.mapDimensions.height);return g-y});for(const f of c)if(o1(u.id,f.id,l)<Qy)return f;return null}execute(r,o,l){(!r.lastTargetAcquiredEffectTime||o.gameState.time-r.lastTargetAcquiredEffectTime>nt*5)&&(Ze(o.gameState,me.TargetAcquired,r.position,nt,r.id),r.lastTargetAcquiredEffectTime=o.gameState.time),r.activeAction="attacking",r.attackTargetId=l.id,r.targetPosition=void 0}}class V1{check(r){if(!r.isAdult||!r.isAdult&&r.activeAction!=="eating")return!1;if(r.activeAction==="eating"){const l=Hr-Ur;return r.food.length<=0||r.hunger<=l,!0}return!!(r.isAdult&&r.hunger>=Hr&&r.food.length>0)}execute(r){if(r.activeAction==="eating"){const l=Hr-Ur;if(r.food.length<=0||r.hunger<=l){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}return}r.isAdult&&r.hunger>=Hr&&r.food.length>0&&(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating")}}class X1{check(r,o){if(r.isAdult&&r.hitpoints>r.maxHitpoints*ki||r.isAdult&&r.hunger>Sg)return null;const l=Fn(r.id,o.gameState);return l||null}execute(r,o,l){r.activeAction="moving";const u=Ue(l.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=Ge(u),f=gn(r.position,tn(c,Ic));r.targetPosition={x:(f.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(f.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c}}class zg{check(r,o,l={onlyBerries:!1,hungerThreshold:mg}){const u=r.food.length<r.maxFood,f=En(o.gameState,r).length>0?l.hungerThreshold*.5:l.hungerThreshold;if(!r.isAdult||!u||r.hunger<f)return null;const{gameState:p}=o,g=p,y=(M,w)=>{let P=null,z=1/0;for(const x of M){const j=le(w,x.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);j<z&&(z=j,P=x)}return P},v=(M,w)=>{const P=g.search.berryBush.byRadius(w,M).filter(D=>D.food.length>0),z=l.onlyBerries?[]:g.search.humanCorpse.byRadius(w,M).filter(D=>D.food.length>0),x=[...P,...z],j=x.filter(D=>!("ownerId"in D&&D.ownerId));if(j.length>0)return y(j,r.position);const b=x.filter(D=>{if("ownerId"in D&&D.ownerId){const ue=p.entities.entities.get(D.ownerId);return ue&&Ol(r,ue,p)}return!1});if(b.length>0)return y(b,r.position);if(r.hunger>=Yy){const D=x.filter(ue=>{if("ownerId"in ue&&ue.ownerId){const Ce=p.entities.entities.get(ue.ownerId);return Ce&&(Ce.karma[r.id]||0)>gr}return!1});if(D.length>0)return y(D,r.position)}const L=x.filter(D=>{if("ownerId"in D&&D.ownerId){const ue=p.entities.entities.get(D.ownerId);return ue&&(ue.karma[r.id]||0)<=gr}return!1});return L.length>0?y(L,r.position):null},_=Math.max(p.mapDimensions.width,p.mapDimensions.height),C=v(_,r.position);if(C)return C;const R=Ae(r,p,"berryBush",void 0,M=>M.food.length>0),N=Ae(r,p,"humanCorpse",void 0,M=>M.food.length>0);if(R&&N){const M=le(r.position,R.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),w=le(r.position,N.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return M<=w?R:N}return R||N}execute(r,o,l){if(!l){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<vn)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...l.position};const c=Ue(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Ge(c)}}}class K1{check(){return!0}execute(r,o){const{gameState:l}=o;if(r.activeAction==="idle"||!r.activeAction){if(r.activeAction="idle",Math.random()<Sc){let u=r.position,c=wi;const f=r.leaderId&&r.leaderId!==r.id?l.entities.entities.get(r.leaderId):void 0;if(f)u=f.position,c=yg;else if(r.isAdult){if(r.gender==="female"){const g=Lg(r,l);g&&(u=g.position,c=vg)}}else{const g=kc(r,l);g.length>0&&(u=g[0].position,c=Ec)}r.activeAction="moving",r.targetPosition=xo(u,c,l.mapDimensions.width,l.mapDimensions.height);const p=Ue(r.position,r.targetPosition,l.mapDimensions.width,l.mapDimensions.height);r.direction=Ge(p)}else r.direction={x:0,y:0},r.targetPosition=void 0;return}if(r.activeAction==="moving"&&r.targetPosition){le(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<vn&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0});return}r.activeAction!=="moving"&&(r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0)}}class Q1{constructor(){$t(this,"gatheringStrategy",new zg)}check(r,o){const{gameState:l}=o,u=r.food.filter(p=>p.type===Sn.Berry).length>=Gy,c=r.hunger<vc;if(!r.isAdult||!c)return null;if(!u){const p=this.gatheringStrategy.check(r,o,{onlyBerries:!0,hungerThreshold:0});return(p==null?void 0:p.type)==="berryBush"?p:null}const f=nc(r,l);return f||null}execute(r,o,l){"type"in l&&l.type==="berryBush"?this.gatheringStrategy.execute(r,o,l):typeof l=="object"&&"x"in l&&"y"in l&&(r.activeAction="planting",r.targetPosition=l)}}class q1{check(r,o){const{gameState:l}=o,u=r.gender==="male"&&r.age>gc&&Cc(r.id,l)===0,c=Mg(r.position,l,"berryBush",_c);if(!(r.isAdult&&(u||r.hunger<ht&&(r.procreationCooldown||0)<=0&&c>=Ac)&&(r.gender==="female"?!r.isPregnant&&r.age<=rn:!0)))return null;const p=v=>{const _=v;return _.type==="human"&&_.id!==r.id&&_.gender!==r.gender&&_.isAdult&&(u||_.hunger<ht&&(_.procreationCooldown||0)<=0&&(r.karma[_.id]||0)>oS)?_.gender==="female"?!_.isPregnant&&_.age<=rn:!0:!1},g=Ae(r,l,"human",wi*5,v=>p(v)&&(!v.partnerIds||v.partnerIds.length===0||v.partnerIds.includes(r.id)));return g||(u?null:Ae(r,l,"human",wi*10,v=>{if(!p(v)||!v.partnerIds||v.partnerIds.length===0)return!1;const _=v.partnerIds[0];return(r.karma[_]||0)<=gr}))}execute(r,o,l){if(!l){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<vn)r.activeAction="procreating",r.targetPosition=l.position;else{r.activeAction="moving",r.targetPosition={...l.position};const c=Ue(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Ge(c)}}}class Z1{check(r,o){if(r.isAdult||r.hunger<Hn)return null;const{gameState:l}=o,u=f=>(f.id===r.motherId||f.id===r.fatherId)&&f.food.length>0;let c=Ae(r,l,"human",_i,u);return c||(c=Ae(r,l,"human",void 0,u)),c||!0}execute(r,o,l){const{gameState:u}=o;if(typeof l=="object"){const c=l;if(le(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height)>Bo){r.activeAction="moving",r.targetPosition={...c.position};const p=Ue(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height);r.direction=Ge(p)}else r.activeAction="seekingFood",r.direction={x:0,y:0},r.targetPosition=void 0}else{const c=kc(r,u);if(c.length>0){const f=c[0];if(le(r.position,f.position,u.mapDimensions.width,u.mapDimensions.height)>Ec){r.activeAction="moving",r.targetPosition={...f.position};const g=Ue(r.position,f.position,u.mapDimensions.width,u.mapDimensions.height);r.direction=Ge(g)}else r.activeAction="seekingFood",r.direction={x:0,y:0},r.targetPosition=void 0}else if(r.activeAction="seekingFood",r.targetPosition=void 0,Math.random()<.05){r.activeAction="moving",r.targetPosition=xo(r.position,10,u.mapDimensions.width,u.mapDimensions.height);const f=Ue(r.position,r.targetPosition,u.mapDimensions.width,u.mapDimensions.height);r.direction=Ge(f)}else r.direction={x:0,y:0}}}}class b1{check(r,o){return!r.isAdult||r.food.length<=0||r.feedChildCooldownTime&&r.feedChildCooldownTime>0?null:Ae(r,o.gameState,"human",_i,l=>{const u=l;return!u.isAdult&&(u.motherId===r.id||u.fatherId===r.id)&&u.hunger>=Hn})}execute(r,o,l){if(!l){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Bo){r.activeAction="moving",r.targetPosition={...l.position};const c=Ue(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Ge(c)}else r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0}}class J1{check(r,o){if(!r.isAdult||r.food.length>0)return null;const{gameState:l}=o;if(l.search.human.byRadius(r.position,1e3).filter(g=>!g.isAdult&&(g.motherId===r.id||g.fatherId===r.id)&&g.hunger>=Hn).length===0)return null;const f=(g,y)=>{const v=Ae({...r,position:g},l,"berryBush",y,C=>C.food.length>0),_=Ae({...r,position:g},l,"humanCorpse",y,C=>C.food.length>0);if(v&&_){const C=le(g,v.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),R=le(g,_.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return C<=R?v:_}return v||_},p=Math.max(l.mapDimensions.width,l.mapDimensions.height);return f(r.position,p)}execute(r,o,l){if(!l){r.activeAction="idle",r.direction={x:0,y:0},r.targetPosition=void 0;return}if(le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<vn)r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0;else{r.activeAction="moving",r.targetPosition={...l.position};const c=Ue(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Ge(c)}}}class eE{check(r,o){const{gameState:l}=o,u=l;if(r.id!==r.leaderId||(r.leaderMetaStrategyCooldown??0)>0)return null;const c=Al(r.id,u);if(c.length===0)return null;if(Pc(c,u))return{decision:3};const f=ch(c),{score:p}=Rc(r.position,wc/2,u,r.id),g=_l(u,r.id,Sl);if(!g||g.score<=p)return null;const y=g.score>p*Eg;if(g.occupyingTribeId){const v=Al(g.occupyingTribeId,u),_=ch(v),C=f>_*Jy;if(y&&C)return{decision:2,targetPosition:g.position,enemyTribeId:g.occupyingTribeId};{const R=_l(u,r.id,Sl);if(R&&!R.occupyingTribeId&&R.score>p)return{decision:0,targetPosition:R.position}}}else if(y)return{decision:1,targetPosition:g.position};return null}execute(r,o,l){switch(r.leaderMetaStrategyCooldown=qy,l.decision){case 0:case 1:r.activeAction="moving",r.targetPosition=l.targetPosition;break;case 2:r.activeAction="moving",r.targetPosition=l.targetPosition,r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Ii;break;case 3:r.isCallingToAttack=!0,r.callToAttackEndTime=o.gameState.time+Ii,r.activeAction="idle",r.targetPosition=void 0;break}}}const tE=[new X1,new eE,new W1,new Y1,new $1,new V1,new Z1,new J1,new b1,new q1,new zg,new Q1,new K1];var Te=(n=>(n.SATISFY_HUNGER="SATISFY_HUNGER",n.MAINTAIN_HEALTH="MAINTAIN_HEALTH",n.GATHER_FOOD="GATHER_FOOD",n.PLANT_BUSHES="PLANT_BUSHES",n.PROCREATE="PROCREATE",n.FEED_CHILDREN="FEED_CHILDREN",n.DEFEND_SELF="DEFEND_SELF",n.DEFEND_TRIBE="DEFEND_TRIBE",n.ELIMINATE_THREATS="ELIMINATE_THREATS",n.EXPLORE_AND_WANDER="EXPLORE_AND_WANDER",n))(Te||{}),Ft=(n=>(n.EAT="EAT",n.GATHER_FOOD="GATHER_FOOD",n.PLANT_BUSH="PLANT_BUSH",n.FLEE="FLEE",n.ATTACK_HUMAN="ATTACK_HUMAN",n.PROCREATE="PROCREATE",n.FEED_CHILD="FEED_CHILD",n.SEEK_FOOD_FROM_PARENT="SEEK_FOOD_FROM_PARENT",n.GATHER_FOOD_FOR_CHILD="GATHER_FOOD_FOR_CHILD",n.CALL_TO_ATTACK="CALL_TO_ATTACK",n.MIGRATE="MIGRATE",n.IDLE_WANDER="IDLE_WANDER",n))(Ft||{});const ph=(n,r)=>{const{gameState:o}=r;if(!n.isAdult||n.hunger>yc||n.hitpoints<n.maxHitpoints*ki)return null;const l=Fn(n.id,o);if(l)return l;const u=Hg(n,o,yl,c=>{const f=c;return(n.karma[f.id]||0)<gr});return u&&o.search.human.byProperty("attackTargetId",u.id).length<gg?u:null},nE={type:Ft.ATTACK_HUMAN,getUtility(n,r,o){var u;if(o.type!==Te.ELIMINATE_THREATS&&o.type!==Te.DEFEND_SELF&&o.type!==Te.DEFEND_TRIBE)return 0;const l=ph(n,r);return l?o.type===Te.DEFEND_SELF&&((u=Fn(n.id,r.gameState))==null?void 0:u.id)===l.id?1:.8:0},execute(n,r){const o=ph(n,r);if(!o){n.activeAction="idle";return}(!n.lastTargetAcquiredEffectTime||r.gameState.time-n.lastTargetAcquiredEffectTime>nt*5)&&(Ze(r.gameState,me.TargetAcquired,n.position,nt,n.id),n.lastTargetAcquiredEffectTime=r.gameState.time),n.activeAction="attacking",n.attackTargetId=o.id,n.targetPosition=void 0}},rE={type:Ft.CALL_TO_ATTACK,getUtility(n,r,o){if(o.type!==Te.DEFEND_TRIBE&&o.type!==Te.ELIMINATE_THREATS||n.id!==n.leaderId||n.isCallingToAttack)return 0;const l=r.gameState,u=Al(n.id,l);return o.type===Te.DEFEND_TRIBE&&Pc(u,l)?.9:o.type===Te.ELIMINATE_THREATS&&Ml(n.position,n.id,l,Ag).length>0?.6:0},execute(n,r){n.isCallingToAttack=!0,n.callToAttackEndTime=r.gameState.time+Ii,Ze(r.gameState,me.CallToAttack,n.position,Ii),St(r,Ke.CallToAttack,n.position),n.activeAction="idle",n.targetPosition=void 0}},iE={type:Ft.EAT,getUtility(n,r,o){if(o.type!==Te.SATISFY_HUNGER)return 0;const l=n.food.length>0,u=n.hunger>=Hr;return l&&u?1:0},execute(n){n.activeAction="eating",n.direction={x:0,y:0},n.targetPosition=void 0}},oE={type:Ft.FEED_CHILD,getUtility(n,r,o){return o.type!==Te.FEED_CHILDREN||!n.isAdult||n.food.length<=0||n.feedChildCooldownTime&&n.feedChildCooldownTime>0?0:Ae(n,r.gameState,"human",_i,u=>{const c=u;return!c.isAdult&&(c.motherId===n.id||c.fatherId===n.id)&&c.hunger>=Hn})?1:0},execute(n,r){const o=Ae(n,r.gameState,"human",_i,u=>{const c=u;return!c.isAdult&&(c.motherId===n.id||c.fatherId===n.id)&&c.hunger>=Hn});if(!o){n.activeAction="idle",n.direction={x:0,y:0},n.targetPosition=void 0;return}if(le(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Bo){n.activeAction="moving",n.targetPosition={...o.position};const u=Ue(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);n.direction=Ge(u)}else n.activeAction="idle",n.direction={x:0,y:0},n.targetPosition=void 0}},sE={type:Ft.FLEE,getUtility(n,r,o){if(o.type!==Te.DEFEND_SELF)return 0;const l=n.hitpoints<n.maxHitpoints*ki,u=Fn(n.id,r.gameState);return l&&u?1:0},execute(n,r){const o=Fn(n.id,r.gameState);if(!o){n.activeAction="idle";return}n.activeAction="moving";const l=Ue(o.position,n.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),u=Ge(l),c=gn(n.position,tn(u,Ic));n.targetPosition={x:(c.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,y:(c.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height},n.direction=u,n.attackTargetId=void 0}};function hh(n,r){const o=Ae(n,r.gameState,"berryBush",void 0,u=>u.food.length>0),l=Ae(n,r.gameState,"humanCorpse",void 0,u=>u.food.length>0);if(o&&l){const u=le(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height),c=le(n.position,l.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);return u<=c?o:l}return o||l}const lE={type:Ft.GATHER_FOOD,getUtility(n,r,o){return o.type!==Te.GATHER_FOOD||n.food.length>=n.maxFood?0:hh(n,r)?.7:0},execute(n,r){const o=hh(n,r);if(!o){n.activeAction="idle";return}if(le(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<vn)n.activeAction="gathering",n.direction={x:0,y:0},n.targetPosition=void 0;else{n.activeAction="moving",n.targetPosition={...o.position};const u=Ue(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);n.direction=Ge(u)}}},gh=(n,r)=>{const{gameState:o}=r;return(u=>{const c=Ae(n,o,"berryBush",u,p=>p.food.length>0),f=Ae(n,o,"humanCorpse",u,p=>p.food.length>0);if(c&&f){const p=le(n.position,c.position,o.mapDimensions.width,o.mapDimensions.height),g=le(n.position,f.position,o.mapDimensions.width,o.mapDimensions.height);return p<=g?c:f}return c||f})()},aE={type:Ft.GATHER_FOOD_FOR_CHILD,getUtility(n,r,o){return o.type!==Te.FEED_CHILDREN||!n.isAdult||n.food.length>0||En(r.gameState,n).filter(c=>!c.isAdult&&c.hunger>=Hn).length===0?0:gh(n,r)?.8:0},execute(n,r){const o=gh(n,r);if(!o){n.activeAction="idle";return}if(le(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<vn)n.activeAction="gathering",n.direction={x:0,y:0},n.targetPosition=void 0;else{n.activeAction="moving",n.targetPosition={...o.position};const u=Ue(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);n.direction=Ge(u)}}},uE={type:Ft.IDLE_WANDER,getUtility(n,r,o){return o.type===Te.EXPLORE_AND_WANDER?.1:0},execute(n,r){const{gameState:o}=r;if(n.activeAction==="moving"&&n.targetPosition){le(n.position,n.targetPosition,o.mapDimensions.width,o.mapDimensions.height)<vn&&(n.activeAction="idle",n.targetPosition=void 0,n.direction={x:0,y:0});return}if(n.activeAction==="idle"||!n.activeAction)if(Math.random()<Sc){let l=n.position,u=wi;const c=n.leaderId&&n.leaderId!==n.id?o.entities.entities.get(n.leaderId):void 0;if(c)l=c.position,u=yg;else if(n.isAdult){if(n.gender==="female"){const p=Lg(n,o);p&&(l=p.position,u=vg)}}else{const p=kc(n,o);p.length>0&&(l=p[0].position,u=Ec)}n.activeAction="moving",n.targetPosition=xo(l,u,o.mapDimensions.width,o.mapDimensions.height);const f=Ue(n.position,n.targetPosition,o.mapDimensions.width,o.mapDimensions.height);n.direction=Ge(f)}else n.activeAction="idle",n.direction={x:0,y:0},n.targetPosition=void 0}},cE={type:Ft.MIGRATE,getUtility(n,r,o){if(o.type!==Te.EXPLORE_AND_WANDER||n.id!==n.leaderId)return 0;const l=r.gameState,{score:u}=Rc(n.position,wc/2,l,n.id),c=_l(l,n.id,Sl);return c&&c.score>u*Eg?.8:0},execute(n,r){const o=r.gameState,l=_l(o,n.id,Sl);l&&(n.activeAction="moving",n.targetPosition=l.position)}},dE={type:Ft.PLANT_BUSH,getUtility(n,r,o){if(o.type!==Te.PLANT_BUSHES)return 0;const l=n.food.filter(f=>f.type===Sn.Berry).length>=No;return!(n.hunger<vc)||!l?0:nc(n,r.gameState)?.8:0},execute(n,r){const o=nc(n,r.gameState);o&&(n.activeAction="planting",n.targetPosition=o)}},mh=(n,r)=>{const{gameState:o}=r,l=o,u=n.gender==="male"&&n.age>gc&&Cc(n.id,o)===0,c=l.search.berryBush.byRadius(n.position,_c).length;if(!(n.isAdult&&(u||n.hunger<ht&&(n.procreationCooldown||0)<=0&&c>=Ac)&&(n.gender==="female"?!n.isPregnant&&n.age<=rn:!0)))return null;const p=g=>{const y=g;return!(y.type==="human"&&y.id!==n.id&&y.gender!==n.gender&&y.isAdult)||!(y.hunger<ht&&(y.procreationCooldown||0)<=0)?!1:y.gender==="female"?!y.isPregnant&&y.age<=rn:!0};return Ae(n,o,"human",wi*5,g=>p(g)&&(!g.partnerIds||g.partnerIds.length===0||g.partnerIds.includes(n.id)))},fE={type:Ft.PROCREATE,getUtility(n,r,o){return o.type!==Te.PROCREATE?0:mh(n,r)?.8:0},execute(n,r){const o=mh(n,r);if(!o){n.activeAction="idle";return}if(le(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)<vn)n.activeAction="procreating",n.targetPosition=o.position;else{n.activeAction="moving",n.targetPosition={...o.position};const u=Ue(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);n.direction=Ge(u)}}},pE={type:Ft.SEEK_FOOD_FROM_PARENT,getUtility(n,r,o){return o.type!==Te.SATISFY_HUNGER||n.isAdult||!(n.hunger>=Hn)?0:Ae(n,r.gameState,"human",_i,c=>(c.id===n.motherId||c.id===n.fatherId)&&c.food.length>0)?.9:0},execute(n,r){const o=Ae(n,r.gameState,"human",_i,l=>(l.id===n.motherId||l.id===n.fatherId)&&l.food.length>0);if(o)if(le(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Bo){n.activeAction="moving",n.targetPosition={...o.position};const u=Ue(n.position,o.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height);n.direction=Ge(u)}else n.activeAction="seekingFood",n.direction={x:0,y:0},n.targetPosition=void 0;else n.activeAction="idle"}};class hE{constructor(){$t(this,"type",Te.DEFEND_SELF)}getScore(r,o){if(!Fn(r.id,o.gameState))return 0;const u=1-r.hitpoints/r.maxHitpoints;return Math.min(1,.5+u*.5)}}const gE=new hE;class mE{constructor(){$t(this,"type",Te.DEFEND_TRIBE)}getScore(r,o){if(!r.leaderId)return 0;const l=o.gameState,u=Al(r.leaderId,l);return Pc(u,l)?1:0}}const vE=new mE;class yE{constructor(){$t(this,"type",Te.ELIMINATE_THREATS)}getScore(r,o){return r.leaderId&&Ml(r.position,r.leaderId,o.gameState,yl).length>0?1:0}}const SE=new yE,EE={type:Te.EXPLORE_AND_WANDER,getScore(){return .05}};class AE{constructor(){$t(this,"type",Te.FEED_CHILDREN)}getScore(r,o){if(!r.isAdult||r.food.length===0)return 0;const l=En(o.gameState,r);if(l.length===0)return 0;let u=0;for(const c of l)c.hunger>=Hn&&c.hunger>u&&(u=c.hunger);return u===0?0:u/Et}}const _E=new AE,wE={type:Te.GATHER_FOOD,getScore(n,r){if(!n.isAdult||n.food.length>=n.maxFood)return 0;const o=1-n.food.length/n.maxFood,l=n.hunger/Et,u=En(r.gameState,n),c=u.length>0?.2*u.length:0,f=o+l+c;return Math.max(0,Math.min(f,1))}},IE={type:Te.MAINTAIN_HEALTH,getScore(n,r){const l=1-n.hitpoints/n.maxHitpoints;return Math.max(0,Math.min(l,1))}},TE={type:Te.PLANT_BUSHES,getScore(n,r){if(!n.isAdult||!n.leaderId||n.food.filter(y=>y.type===Sn.Berry).length<No||n.hunger>vc)return 0;const l=i1(n.leaderId,r.gameState),u=new Set(l.map(y=>y.id)),c=r.gameState,p=Array.from(c.entities.entities.values()).filter(y=>y.type==="berryBush").filter(y=>y.ownerId&&u.has(y.ownerId)).length;if(p>=bp)return 0;const g=1-p/bp;return Math.max(0,Math.min(g,1))}};class CE{constructor(){$t(this,"type",Te.PROCREATE)}getScore(r,o){const{gameState:l}=o;if(!r.isAdult||r.hunger>=ht||(r.procreationCooldown||0)>0||r.gender==="female"&&(r.isPregnant||r.age>rn)||Mg(r.position,l,"berryBush",_c)<Ac)return 0;if(r.gender==="male"&&r.age>gc&&Cc(r.id,l)===0)return 1;let c=0;r.gender==="female"?c=(r.age-Zs)/(rn-Zs):c=(r.age-Zs)/(r.maxAge-Zs);const f=.1+c*.7;return Math.max(0,Math.min(f,1))}}const kE=new CE;class RE{constructor(){$t(this,"type",Te.SATISFY_HUNGER)}getScore(r){const o=r.hunger/Et;return Math.max(0,Math.min(o,1))}}const PE=new RE,vh=[PE,IE,wE,TE,kE,_E,gE,vE,SE,EE],yh=[iE,lE,dE,sE,nE,fE,oE,pE,aE,rE,cE,uE];function DE(n,r){if(yh.length===0||vh.length===0){n.activeAction="idle";return}let o=null,l=-1/0;for(const u of yh){let c=0;for(const f of vh){const p=f.getScore(n,r);if(p<=0)continue;const g=u.getUtility(n,r,f);c+=p*g}c>l&&(l=c,o=u)}o&&l>0?o.execute(n,r):(n.activeAction="idle",n.direction={x:0,y:0},n.targetPosition=void 0)}function NE(n,r){switch(n.aiType){case Vt.BehaviorTreeBased:j1(n,r);return;case Vt.UtilityBased:DE(n,r);return;case Vt.StrategyBased:default:for(const o of tE){const l=o.check(n,r);if(l){o.execute(n,r,l);return}}n.activeAction||(n.activeAction="idle",n.direction={x:0,y:0},n.targetPosition=void 0)}}function OE(n,r){n.forces.push(tn(n.velocity,-.1));const o=tn(Ge(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(l=>{r.gameState.time-l.startTime<l.duration&&l.type==="slow"&&(n.velocity=tn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(l=>r.gameState.time-l.startTime<l.duration),n.velocity=gn(n.velocity,n.forces.reduce(gn,{x:0,y:0})),Oo(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=gn(n.position,tn(n.velocity,r.deltaTime)),n.position.x=(n.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,n.position.y=(n.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,n.forces=[],n.type==="human"?G1(n,r,r.deltaTime):n.type==="humanCorpse"&&z1(n,r),n.type==="human"&&(!n.isPlayer||r.gameState.isPlayerOnAutopilot)&&NE(n,r),n.stateMachine&&(n.stateMachine=F1(...n.stateMachine,{entity:n,updateContext:r}))}var ft=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n))(ft||{});class nl{constructor(r){this.children=r}execute(r,o,l){for(const u of this.children){const c=u.execute(r,o,l);if(c!==ft.SUCCESS)return c}return ft.SUCCESS}}class ME{constructor(r){this.children=r}execute(r,o,l){for(const u of this.children){const c=u.execute(r,o,l);if(c!==ft.FAILURE)return c}return ft.FAILURE}}class yo{constructor(r){this.action=r}execute(r,o,l){return this.action(r,o,l)}}class rl{constructor(r){this.condition=r}execute(r,o,l){return this.condition(r,o,l)?ft.SUCCESS:ft.FAILURE}}function LE(){return new ME([new nl([new rl((r,o,l)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*ki||r.isAdult&&r.hunger>Sg)return!1;const u=Fn(r.id,o.gameState);return u?(l.set("fleeThreat",u),!0):!1}),new yo((r,o,l)=>{const u=l.get("fleeThreat");if(!u)return ft.FAILURE;r.activeAction="moving";const c=Ue(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=Ge(c),p=gn(r.position,tn(f,Ic));return r.targetPosition={x:(p.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(p.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=f,ft.RUNNING})]),new nl([new rl(()=>!1),new yo(()=>ft.RUNNING)]),new nl([new rl(r=>(r.isAdult&&r.hunger>=Hr&&r.food.length>0)??!1),new yo(r=>(r.direction={x:0,y:0},r.targetPosition=void 0,r.activeAction="eating",ft.SUCCESS))]),new nl([new rl((r,o,l)=>{const u=r.food.length<r.maxFood;if(!r.isAdult||!u||r.hunger<mg)return!1;const c=Ae(r,o.gameState,"berryBush",void 0,g=>g.food.length>0),f=Ae(r,o.gameState,"humanCorpse",void 0,g=>g.food.length>0);let p=null;if(c&&f){const g=le(r.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),y=le(r.position,f.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);p=g<=y?c:f}else p=c||f;return p?(l.set("foodSource",p),!0):!1}),new yo((r,o,l)=>{const u=l.get("foodSource");if(!u)return ft.FAILURE;if(le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<vn)return r.activeAction="gathering",r.direction={x:0,y:0},r.targetPosition=void 0,ft.SUCCESS;{r.activeAction="moving",r.targetPosition={...u.position};const f=Ue(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=Ge(f),ft.RUNNING}})]),new yo((r,o)=>{if(r.activeAction==="idle"||!r.activeAction){if(Math.random()<Sc){r.activeAction="moving",r.targetPosition=xo(r.position,wi,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);const l=Ue(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);r.direction=Ge(l)}else r.direction={x:0,y:0},r.targetPosition=void 0;return ft.SUCCESS}return r.activeAction==="moving"&&r.targetPosition&&le(r.position,r.targetPosition,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<vn&&(r.activeAction="idle",r.targetPosition=void 0,r.direction={x:0,y:0}),ft.SUCCESS})])}class HE{constructor(){$t(this,"data",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}}function FE(n){n.gameState.entities.entities.forEach(o=>{OE(o,n)})}function UE(){return{entities:new Map,nextEntityId:1}}function Dc(n,r,o){const l={id:n.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(l.id,l),l}function Nc(n,r,o){return Dc(n,"berryBush",{position:r,radius:ec,food:Array.from({length:uy},()=>({type:Sn.Berry})).map(u=>({...u,id:n.nextEntityId++})),maxFood:ay,lifespan:dy,age:0,spreadChance:fy,spreadRadius:ec,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Io,{enteredAt:o,previousState:void 0}]})}function ic(n,r,o,l,u=!1,c=Sy,f=cg,p,g,y=[],v,_){const C=c>=mc;let R;return Math.random()<$y?R=Vt.BehaviorTreeBased:R=Math.random()<Wy?Vt.UtilityBased:Vt.StrategyBased,Dc(n,"human",{position:r,radius:C?yn:_g,hunger:f,hitpoints:Zp,maxHitpoints:Zp,age:c,gender:l,isPlayer:u,food:[],maxFood:ug,maxAge:Do,isAdult:C,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:p,fatherId:g,ancestorIds:y,karma:{},stateMachine:[ot,{enteredAt:o,previousState:void 0}],leaderId:v,tribeBadge:_,aiType:R,aiBehaviorTree:R===Vt.BehaviorTreeBased?LE():void 0,aiBlackboard:R===Vt.BehaviorTreeBased?new HE:void 0})}function BE(n,r,o,l,u,c,f,p,g){return Dc(n,"humanCorpse",{position:r,radius:u,gender:o,age:l,originalHumanId:c,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(fg*Math.max(ht-g,0)/ht,1)},()=>({type:Sn.Meat})),...p].map(v=>({...v,id:n.nextEntityId++})),stateMachine:void 0})}function xE(n,r,o){const l=r?o.gameState.entities.entities.get(r):void 0,u=[...n.ancestorIds||[],n.id],c=l?[...l.ancestorIds||[],l.id]:[],f=[...u,...c],p=[...new Set(f)],g=p.slice(Math.max(p.length-gy,0)),y=Math.random()<.5?"male":"female",v=gn(n.position,{x:5,y:5}),_=ic(o.gameState.entities,v,o.gameState.time,y,!1,0,cg/2,n.id,r,g,l==null?void 0:l.leaderId,l==null?void 0:l.tribeBadge);return x1(_,n,l),St(o,Ke.Birth,n.position),_}function Oc(n,r){return n.entities.get(r)?(n.entities.delete(r),!0):!1}class GE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let l=this.length++;for(;l>0;){const u=l-1>>1,c=this.values[u];if(o>=c)break;this.ids[l]=this.ids[u],this.values[l]=c,l=u}this.ids[l]=r,this.values[l]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],l=this.values[0]=this.values[this.length],u=this.length>>1;let c=0;for(;c<u;){let f=(c<<1)+1;const p=f+1;let g=this.ids[f],y=this.values[f];const v=this.values[p];if(p<this.length&&v<y&&(f=p,g=this.ids[p],y=v),y>=l)break;this.ids[c]=g,this.values[c]=y,c=f}this.ids[c]=o,this.values[c]=l}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const Sh=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Wu=3;class Mc{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[l,u]=new Uint8Array(r,o+0,2);if(l!==251)throw new Error("Data does not appear to be in a Flatbush format.");const c=u>>4;if(c!==Wu)throw new Error(`Got v${c} data when expected v${Wu}.`);const f=Sh[u&15];if(!f)throw new Error("Unrecognized array type.");const[p]=new Uint16Array(r,o+2,1),[g]=new Uint32Array(r,o+4,1);return new Mc(g,p,f,void 0,r,o)}constructor(r,o=16,l=Float64Array,u=ArrayBuffer,c,f=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let p=r,g=p;this._levelBounds=[p*4];do p=Math.ceil(p/this.nodeSize),g+=p,this._levelBounds.push(g*4);while(p!==1);this.ArrayType=l,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const y=Sh.indexOf(this.ArrayType),v=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(y<0)throw new Error(`Unexpected typed array class: ${l}.`);c&&c.byteLength!==void 0&&!c.buffer?(this.data=c,this._boxes=new this.ArrayType(this.data,f+8,g*4),this._indices=new this.IndexArrayType(this.data,f+8+v,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+v+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+v,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Wu<<4)+y]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new GE}add(r,o,l=r,u=o){const c=this._pos>>2,f=this._boxes;return this._indices[c]=c,f[this._pos++]=r,f[this._pos++]=o,f[this._pos++]=l,f[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),l>this.maxX&&(this.maxX=l),u>this.maxY&&(this.maxY=u),c}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,l=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),c=65535;for(let f=0,p=0;f<this.numItems;f++){const g=r[p++],y=r[p++],v=r[p++],_=r[p++],C=Math.floor(c*((g+v)/2-this.minX)/o),R=Math.floor(c*((y+_)/2-this.minY)/l);u[f]=jE(C,R)}oc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,p=0;f<this._levelBounds.length-1;f++){const g=this._levelBounds[f];for(;p<g;){const y=p;let v=r[p++],_=r[p++],C=r[p++],R=r[p++];for(let N=1;N<this.nodeSize&&p<g;N++)v=Math.min(v,r[p++]),_=Math.min(_,r[p++]),C=Math.max(C,r[p++]),R=Math.max(R,r[p++]);this._indices[this._pos>>2]=y,r[this._pos++]=v,r[this._pos++]=_,r[this._pos++]=C,r[this._pos++]=R}}}search(r,o,l,u,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=[],g=[];for(;f!==void 0;){const y=Math.min(f+this.nodeSize*4,Ah(f,this._levelBounds));for(let v=f;v<y;v+=4){if(l<this._boxes[v]||u<this._boxes[v+1]||r>this._boxes[v+2]||o>this._boxes[v+3])continue;const _=this._indices[v>>2]|0;f>=this.numItems*4?p.push(_):(c===void 0||c(_))&&g.push(_)}f=p.pop()}return g}neighbors(r,o,l=1/0,u=1/0,c){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const p=this._queue,g=[],y=u*u;e:for(;f!==void 0;){const v=Math.min(f+this.nodeSize*4,Ah(f,this._levelBounds));for(let _=f;_<v;_+=4){const C=this._indices[_>>2]|0,R=Eh(r,this._boxes[_],this._boxes[_+2]),N=Eh(o,this._boxes[_+1],this._boxes[_+3]),M=R*R+N*N;M>y||(f>=this.numItems*4?p.push(C<<1,M):(c===void 0||c(C))&&p.push((C<<1)+1,M))}for(;p.length&&p.peek()&1;)if(p.peekValue()>y||(g.push(p.pop()>>1),g.length===l))break e;f=p.length?p.pop()>>1:void 0}return p.clear(),g}}function Eh(n,r,o){return n<r?r-n:n<=o?0:n-o}function Ah(n,r){let o=0,l=r.length-1;for(;o<l;){const u=o+l>>1;r[u]>n?l=u:o=u+1}return r[o]}function oc(n,r,o,l,u,c){if(Math.floor(l/c)>=Math.floor(u/c))return;const f=n[l+u>>1];let p=l-1,g=u+1;for(;;){do p++;while(n[p]<f);do g--;while(n[g]>f);if(p>=g)break;zE(n,r,o,p,g)}oc(n,r,o,l,g,c),oc(n,r,o,g+1,u,c)}function zE(n,r,o,l,u){const c=n[l];n[l]=n[u],n[u]=c;const f=4*l,p=4*u,g=r[f],y=r[f+1],v=r[f+2],_=r[f+3];r[f]=r[p],r[f+1]=r[p+1],r[f+2]=r[p+2],r[f+3]=r[p+3],r[p]=g,r[p+1]=y,r[p+2]=v,r[p+3]=_;const C=o[l];o[l]=o[u],o[u]=C}function jE(n,r){let o=n^r,l=65535^o,u=65535^(n|r),c=n&(r^65535),f=o|l>>1,p=o>>1^o,g=u>>1^l&c>>1^u,y=o&u>>1^c>>1^c;o=f,l=p,u=g,c=y,f=o&o>>2^l&l>>2,p=o&l>>2^l&(o^l)>>2,g^=o&u>>2^l&c>>2,y^=l&u>>2^(o^l)&c>>2,o=f,l=p,u=g,c=y,f=o&o>>4^l&l>>4,p=o&l>>4^l&(o^l)>>4,g^=o&u>>4^l&c>>4,y^=l&u>>4^(o^l)&c>>4,o=f,l=p,u=g,c=y,g^=o&u>>8^l&c>>8,y^=l&u>>8^(o^l)&c>>8,o=g^g>>1,l=y^y>>1;let v=n^r,_=l|65535^(v|o);return v=(v|v<<8)&16711935,v=(v|v<<4)&252645135,v=(v|v<<2)&858993459,v=(v|v<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,(_<<1|v)>>>0}function $u(n,r){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Mc(n.length),l=new Map;for(const c of n)o.add(c.position.x,c.position.y,c.position.x,c.position.y);return o.finish(),{byRect(c){return o.search(c.left,c.top,c.right,c.bottom).map(p=>n[p])},byRadius(c,f){return o.neighbors(c.x,c.y,void 0,f).map(g=>n[g])},byProperty(c,f){var p;if(!l.has(c)){const g=new Map;for(const y of n){const v=y[c];g.has(v)||g.set(v,[]),g.get(v).push(y)}l.set(c,g)}return((p=l.get(c))==null?void 0:p.get(f))||[]},resetPropertyCache(){l.clear()}}}function jg(n){const r=Array.from(n.entities.entities.values()),o=r.filter(f=>f.type==="human"),l=r.filter(f=>f.type==="berryBush"),u=r.filter(f=>f.type==="humanCorpse");return{...n,search:{human:$u(o),berryBush:$u(l),humanCorpse:$u(u)}}}var dr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(dr||{}),Ho=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(Ho||{}),yt=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(yt||{});const WE=[{key:dr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:dr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,r)=>r.hunger>my,isCompleted:!1,minDisplayTime:sh,highlightedUIElements:[Ho.HUNGER_BAR]},{key:dr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,r)=>!!Ae(r,n,"berryBush",Rt*5,l=>l.food.length>0),getTargets:(n,r)=>{const o=[];for(const l of n.entities.entities.values())l.type==="berryBush"&&l.food.length>0&&le(r.position,l.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(l);return o.map(l=>l.id)},isCompleted:!1,minDisplayTime:sh},{key:dr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,r)=>r.food.length>0,getTargets:(n,r)=>{const o=Ae(r,n,"berryBush",Rt,l=>l.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:dr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Ho.FOOD_BAR]},{key:dr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,r)=>En(n,r).length>0,getTargets:(n,r)=>{const o=Ae(r,n,"human",Rt,l=>{const u=l;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<ht&&r.hunger<ht&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=rn:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:dr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,r)=>Ng(n,r).some(l=>l.type===pn.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function $E(){return{steps:WE.map(n=>({...n,isCompleted:!1}))}}function YE(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:yt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function VE(n){for(let r=0;r<n.tutorial.steps.length;r++){const o=n.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function XE(n,r){const o=n.tutorialState;if(!o.isActive){o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=pr(n);if(!l){o.isActive=!1,o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=n.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=yt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=1/$S;switch(o.transitionState){case yt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=c*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=yt.ACTIVE);break;case yt.ACTIVE:{n.time-(o.stepStartTime||n.time)>=(u.minDisplayTime||0)&&u.condition(n,l)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=yt.FADING_OUT);break}case yt.FADING_OUT:if(o.transitionAlpha-=c*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const p=VE(n);p!==null?(o.currentStepIndex=p,o.transitionState=yt.FADING_IN):(o.isActive=!1,o.transitionState=yt.INACTIVE)}break}o.transitionState!==yt.FADING_OUT&&o.transitionState!==yt.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(n,l)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function KE(){const n=UE(),r=0;for(let v=0;v<py;v++){const _={x:Math.random()*Mu,y:Math.random()*Lu};Nc(n,_,r)}const o=Mu/2,l=Lu/2,u=ic(n,{x:o,y:l},r,"male",!0);ic(n,{x:o+50,y:l},r,"female",!1);const c=[{id:"autopilotButton",action:mn.ToggleAutopilot,currentWidth:To,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:mn.ToggleMute,currentWidth:To,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:mn.TogglePause,currentWidth:To,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=$E(),p=YE(),g={time:r,entities:n,mapDimensions:{width:Mu,height:Lu},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:ZS,isMuted:!1,uiButtons:c,tutorial:f,tutorialState:p},y=jg(g);return console.log("Game world initialized:",y),y}function QE(){return console.log("Tribe game initialized with detailed 2D world state."),KE()}const qE="humanProcreation",ZE="human",bE="human",JE=Rt,eA=(n,r)=>{if(n.id===r.id||n.gender===r.gender)return!1;const o=(l,u)=>l.isAdult&&l.hunger<ht&&(l.procreationCooldown||0)<=0?u?!l.isPregnant&&l.age<=rn:!0:!1;return n.gender==="male"?!o(n,!1)||!o(r,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(r,!1)?!1:n.activeAction==="procreating"&&r.activeAction==="procreating"},tA=(n,r,o)=>{var v,_;const{gameState:l}=o,u={x:(n.position.x+r.position.x)/2,y:(n.position.y+r.position.y)/2},c=[...n.partnerIds||[]],f=[...r.partnerIds||[]],p=n.gender==="male"?n:r,g=n.gender==="female"?n:r,y=(p.partnerIds||[]).length===0;n.stateMachine=[Mo,{partnerId:r.id,previousState:(v=n.stateMachine)==null?void 0:v[0]}],r.stateMachine=[Mo,{partnerId:n.id,previousState:(_=r.stateMachine)==null?void 0:_[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(r.id)||n.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(n.id)||r.partnerIds.push(n.id);for(const C of c)if(C!==r.id){const R=l.entities.entities.get(C);R&&wl(n,R,Jp,l)}for(const C of f)if(C!==n.id){const R=l.entities.entities.get(C);R&&wl(r,R,Jp,l)}if(y&&p.leaderId&&p.leaderId!==p.id){const C=l.entities.entities.get(p.leaderId);if(C){const R=ah(p,C),N=ah(g,C);if(!R&&!N){const M=El();p.leaderId=p.id,p.tribeBadge=M,g.leaderId=p.id,g.tribeBadge=M}}}else if(!n.leaderId&&!r.leaderId&&p&&g){const C=El();p.leaderId=p.id,p.tribeBadge=C,g.leaderId=p.id,g.tribeBadge=C}n.activeAction=void 0,Ze(l,me.Procreation,u,Ao),Ze(l,me.Partnered,n.position,nt,n.id),Ze(l,me.Partnered,r.position,nt,r.id),n.lastPartneredEffectTime=l.time,r.lastPartneredEffectTime=l.time,r.activeAction=void 0,St(o,Ke.Procreate,u)},nA={id:qE,sourceType:ZE,targetType:bE,maxDistance:JE,checker:eA,perform:tA},rA={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Bo,checker:(n,r)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===n.id||r.fatherId===n.id)&&r.hunger>=Hn,perform:(n,r,o)=>{n.food.pop(),r.hunger=Math.max(0,r.hunger-Ur),n.feedChildCooldownTime=Ty,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(Ze(o.gameState,me.ChildFed,r.position,nt,r.id),r.lastChildFedEffectTime=o.gameState.time),St(o,Ke.ChildFed,r.position)}},iA={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Nl,checker:(n,r,o)=>{var c;if(((c=n.stateMachine)==null?void 0:c[0])!==Ti||n.attackTargetId!==r.id||(n.attackCooldown||0)>0)return!1;const l=n.stateMachine[1];return o.gameState.time-l.attackStartTime>=pg},perform:(n,r,o)=>{wl(n,r,eS,o.gameState);const l=Ue(n.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=n1(Ge(l),r.direction);if(Math.abs(u)<Uy*Math.PI/180&&Math.random()<By)Ze(o.gameState,me.AttackDeflected,r.position,nt,r.id);else{let p=Dy;n.gender==="male"&&(p*=Ly),n.isAdult||(p*=Hy),(!r.isAdult||r.age>=dg)&&n.isAdult&&(p*=Fy),r.hitpoints-=p,Ze(o.gameState,me.Hit,r.position,nt,r.id);const y=Ue(n.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),v=tn(y,Ny);r.forces.push(v),r.hitpoints<=0?St(o,Ke.HumanDeath,r.position):St(o,Ke.Attack,n.position)}n.attackCooldown=hg;const f=n.stateMachine[1];f.attackStartTime=o.gameState.time,Ze(o.gameState,me.Attack,n.position,nt,n.id)}},oA={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:yn*2,checker:(n,r,{gameState:o})=>le(n.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+r.radius)/3,perform:(n,r,{gameState:o})=>{const l=le(n.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(l===0){n.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const c=(n.radius+r.radius-l)*.05,f=Ge(e1(n.position,r.position)),p=tn(f,c);n.forces.push(p),r.forces.push(tn(p,-1))}},sA={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Rt,checker:(n,r,o)=>{var l;return n.isAdult&&r.food.length>0&&((l=n.stateMachine)==null?void 0:l[0])===Ll&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,r,o)=>{const l=r.food.pop();if(l&&n.food.push(l),r.ownerId&&r.ownerId!==n.id){const u=o.gameState.entities.entities.get(r.ownerId);u&&!Ol(n,u,o.gameState)&&wl(u,n,tS,o.gameState)}n.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=n.id,r.claimedUntil=o.gameState.time+hy,Ze(o.gameState,me.BushClaimed,r.position,nt),St(o,Ke.Gather,n.position)}},lA={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Rt,checker:(n,r,o)=>{var l;return n.isAdult&&r.food.length>0&&((l=n.stateMachine)==null?void 0:l[0])===Ll&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,r,o)=>{const l=r.food.pop();l&&n.food.push(l),n.gatheringCooldownTime=o.gameState.time+1,St(o,Ke.Gather,n.position)}},aA=[sA,lA],uA=[oA,...aA,nA,rA,iA];function cA(n){const{gameState:r}=n,o=r,l=Array.from(r.entities.entities.values());for(const u of uA)for(const c of l){if(u.sourceType&&c.type!==u.sourceType)continue;const f=o.search[u.targetType].byRadius(c.position,u.maxDistance);for(const p of f){if(c.id===p.id)continue;le(c.position,p.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(c,p,n)&&u.perform(c,p,n)}}}function dA(n){n.visualEffects=n.visualEffects.filter(r=>n.time-r.startTime<=r.duration)}const fA=1/60;function pA(n,r){const o=pr(n);o&&(n.viewportCenter=Dg(n.viewportCenter,o.position,lg*r))}function _h(n,r){if(n.isPaused)return n;for(;r>0;){const o=jg(n),l=Math.min(r,fA);if(o.gameOver)return o;const u=l*(Mn/Ln);o.time+=u,pA(o,l),FE({gameState:o,deltaTime:l}),cA({gameState:o,deltaTime:l}),dA(o),XE(o,l),n=o,r-=l}return n}const sc=10,hA=3,wh=sc*.7;function gA(n,r,o,l,u){const{position:c,food:f,maxFood:p,ownerId:g,claimedUntil:y}=r;if(n.beginPath(),n.arc(c.x,c.y,sc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),g&&y&&y>u&&l){const v=o.entities.entities.get(g);if(v){let _;v.id===l.id?_=Tc:Ol(l,v,o)?_=aS:_=Cg,_&&(n.strokeStyle=_,n.lineWidth=1+Math.sin(u*2)*.5,n.beginPath(),n.arc(c.x,c.y,sc+2,0,Math.PI*2),n.stroke())}}if(f.length>0){const v=Math.PI*2/Math.min(f.length,p);for(let _=0;_<f.length;_++){const C=_*v,R=c.x+wh*Math.cos(C),N=c.y+wh*Math.sin(C);n.beginPath(),n.arc(R,N,hA,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}const ne=(n,r,o,l,u,c,f)=>{c==="transparent"||l<=0||u<=0||(n.fillStyle=c,n.fillRect(Math.floor(r*f),Math.floor(o*f),Math.ceil(l*f),Math.ceil(u*f)))},Ih=10,Th=10,dn=6,Nn=4,il=2,mA=5,Yt=4,vA=2,dt=4,yA=2,Fe=3,ci=2,fr=0,Co=fr+Nn-1,vt=Co,Ye=Co+Yt-1,SA="rgba(0, 0, 0, 0.4)",EA=4,AA=1,Lc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,r,o,l,u,c,f,p="male",g=20,y=[1,0],v=!1,_=0){const C=["dead","stunned"].includes(f),R=C?Th+4:Ih,N=C?Ih+4:Th+Fe,M=.15,w=Math.min(l*(1-2*M)/R,u*(1-2*M)/N),P=R*w,z=N*w,x=r+(l-P)/2,j=o+(u-z)/2;n.save(),y[0]<0&&!C?(n.translate(x+P,j),n.scale(-1,1)):n.translate(x,j);const L="#D09A5A",D=g>50?"#BDBDBD":"#281808",ue="#7F5C4A",Ce="#6B4F3A",Pe="#E0D8C0",st="#A0522D",De=1-Math.max(0,Math.min(100,_))/100*.2,ye=p==="male"?1.1:.9,je=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let Se=mA*De*ye*je,pe=vA*De*ye*je,re=yA*De*je;v&&p==="female"&&(Se*=1.5);const G=Math.round((R-Se)/2),Y=Math.round((R-dn)/2),W=G-pe,A=G+Se,O=1,V=G+(Se/2-O/2)-re,ie=G+(Se/2+O/2),he=y[1]<-.2&&Math.abs(y[0])<.7,oe=K=>{n.fillStyle=SA,n.beginPath();const te=R/2,_e=K;n.ellipse(Math.floor(te*w),Math.floor(_e*w),Math.max(1,Math.floor(EA*w)),Math.max(1,Math.floor(AA*w)),0,0,2*Math.PI),n.fill()},de=(K,te)=>{p==="male"?(ne(n,G,Co+K,Se,Yt-ci,te,w),ne(n,G,Co+Yt-ci+K,Se,ci,ue,w)):ne(n,G,Co+K,Se,Yt,Ce,w)},ce=(K,te)=>{he?ne(n,Y,fr+K,dn,Nn,D,w):(ne(n,Y,fr+K,dn,Nn,te,w),ne(n,Y,fr+K,dn,il,D,w),p==="female"?(ne(n,Y-1,fr+il+K,1,Nn,D,w),ne(n,Y+dn,fr+il+K,1,Nn,D,w)):ne(n,Y+1,fr+2+K,dn-2,Nn-2,D,w))};switch(f){case"idle":{const K=c*Math.PI*2,te=Math.sin(K)*.5,ae=(Math.cos(K*2)+1)*.25;oe(Ye+Fe+1),ne(n,V+te,Ye+ae,re,Fe,L,w),ne(n,ie-te,Ye+ae,re,Fe,L,w),de(ae,L),ne(n,W,vt+ae,pe,dt,L,w),ne(n,A,vt+ae,pe,dt,L,w),ce(ae,L);break}case"walk":{const K=c*Math.PI*2,te=Math.sin(K)*2,ae=Math.abs(Math.cos(K))*1;oe(Ye+Fe+1),ne(n,V+te,Ye+ae,re,Fe,L,w),ne(n,ie-te,Ye+ae,re,Fe,L,w),de(ae,L),ne(n,W-te,vt+ae,pe,dt,L,w),ne(n,A+te,vt+ae,pe,dt,L,w),ce(ae,L);break}case"gathering":{const K=c*Math.PI*2,te=1,_e=(Math.sin(K)+1)/2*2,ae=te+Math.abs(Math.cos(K))*.5;oe(Ye+Fe+1),ne(n,V,Ye+ae,re,Fe-te,L,w),ne(n,ie,Ye+ae,re,Fe-te,L,w),de(ae,L),ne(n,W+1,vt+ae-_e,pe,dt,L,w),ne(n,A-1,vt+ae-_e,pe,dt,L,w),ce(ae,L);break}case"eat":{oe(Ye+Fe+1),ne(n,V,Ye+1,re,Fe-1,L,w),ne(n,ie,Ye+1,re,Fe-1,L,w),de(1,L);const _e=(Math.sin(c*Math.PI*4)+1)/2,ae=Y+dn/2,An=fr+Nn/2,Pt=A+(ae-A)*_e,Ut=vt+1+(An-(vt+1))*_e;ne(n,W,vt+1,pe,dt,L,w),ne(n,Pt,Ut,pe,dt,L,w),ne(n,Pt,Ut-1,1,1,st,w),ce(1,L);break}case"procreate":{const K=(Math.sin(c*Math.PI*8)+1)/4,te=(Math.sin(c*Math.PI*6)+1)*.5,_e=1.5,ae=_e-te;oe(Ye+Fe+1),ne(n,V,Ye+ae,re,Fe-_e,L,w),ne(n,ie,Ye+ae,re,Fe-_e,L,w),de(ae,L),ne(n,W,vt+ae,pe,dt,L,w),ne(n,A,vt+ae,pe,dt,L,w),ce(ae,L),n.globalAlpha=K,de(ae,"white"),n.globalAlpha=1;break}case"attacking":{const K=Math.sin(c*Math.PI)*1.5,te=Math.abs(Math.sin(c*Math.PI));oe(Ye+Fe+1),ne(n,V-K,Ye+te,re,Fe,L,w),ne(n,ie+K*.5,Ye+te,re,Fe,L,w),de(te,L),ne(n,W,vt+te-2,pe,dt,L,w),ne(n,A,vt+te-2.5,pe,dt,L,w),ce(te,L);break}case"defending":{oe(Ye+Fe+1),ne(n,V,Ye+1,re,Fe-1,L,w),ne(n,ie,Ye+1,re,Fe-1,L,w),de(1,L),ne(n,W-1,vt+1-1,pe,dt,L,w),ne(n,A+1,vt+1-1,pe,dt,L,w),ce(1,L);break}case"stunned":case"dead":{const K=f==="dead",te=K?Math.min(1,c):0,_e=te>.5?Pe:L,ae=p==="male"?ue:Ce,An=te>.8?"transparent":D,Pt=R/2,Ut=N/2,vr=2;oe(N-1),ne(n,Pt-re-vr,Ut,re,Fe,_e,w),ne(n,Pt+vr,Ut,re,Fe,_e,w),ne(n,Pt-pe-vr,Ut-Yt+1,pe,dt,_e,w),ne(n,Pt+vr,Ut-Yt+1,pe,dt,_e,w);const _n=Pt-Se/2,Un=Ut-Yt/2;p==="male"?(te<.7&&ne(n,_n,Un+Yt-ci,Se,ci,ae,w),ne(n,_n,Un,Se,Yt-ci,_e,w)):te<.7?ne(n,_n,Un,Se,Yt,ae,w):ne(n,_n,Un,Se,Yt,_e,w);const Br=Pt-dn/2,Bn=Ut-Yt/2-Nn+1;if(ne(n,Br,Bn,dn,Nn,_e,w),An!=="transparent"&&ne(n,Br,Bn,dn,il,An,w),K&&te>.6){const xn="#B0A890";for(let yr=0;yr<3;yr++)ne(n,_n+1,Un+yr*1+1,Se-2,.5,xn,w)}break}default:ne(n,0,0,R,N,"magenta",w);break}n.restore()}};function _A(n,r){const{position:o,gender:l,age:u,decayProgress:c,food:f,radius:p}=r;if(n.save(),n.globalAlpha=1-c,Lc.render(n,o.x-p,o.y-p,p*2,p*2,c,"dead",l,u,[0,0],!1,0),n.restore(),f.length>0){n.save(),n.font=`${wS}px Arial`,n.textAlign="center",n.textBaseline="middle";const g=yn*.9,y=Math.PI/ug*3;f.forEach((v,_)=>{const C=_*y,R=o.x+g*Math.cos(C)*Math.atan2(_,_),N=o.y+g*Math.sin(C)*Math.atan2(_,_),M=Pg[v.type];n.fillText(M,R,N)}),n.restore()}}const wA=25,IA=0,Ch=28;function TA(n,r,o,l,u,c,f,p,g){n.save();const y=r.x-f.x+p/2,v=r.y-f.y+g/2;n.strokeStyle=l,n.lineWidth=c,n.setLineDash(u),n.beginPath(),n.arc(y,v,o+kg,0,2*Math.PI),n.stroke(),n.restore()}function CA(n,r,o,l,u,c){if(r.length===0)return;n.save(),r.forEach(v=>{v.targetEntity&&TA(n,v.targetEntity.position,v.targetEntity.radius,uS,cS,2,l,u,c)}),n.font=`${eh}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const f=o.position.x-l.x+u/2,p=o.position.y-l.y+c/2;let g=0,y={};r.forEach(v=>{const _=r1[v.type];if(v.targetEntity){y[v.targetEntity.id]=(y[v.targetEntity.id]||0)+1;const C=v.targetEntity.position.x-l.x+u/2,R=v.targetEntity.position.y-l.y+c/2,N=`${_}${v.key.toUpperCase()}`,M=R-v.targetEntity.radius-kg-eh/2-(y[v.targetEntity.id]-1)*Ch;n.fillText(N,C,M)}else{n.textAlign="left";const C=`${_}${v.key.toUpperCase()}`,R=f+wA,M=p+IA+g*Ch;n.fillText(C,R,M),g++,n.textAlign="center"}}),n.restore()}function kA(n,r){n.save(),n.fillStyle=r.backgroundColor,n.fillRect(r.rect.x,r.rect.y,r.rect.width,r.rect.height),n.fillStyle=r.textColor,n.textAlign="center",n.textBaseline="middle",n.fillText(r.text,r.rect.x+r.rect.width/2,r.rect.y+r.rect.height/2),n.restore()}function mi(n,r,o,l,u,c,f,p){n.save(),n.fillStyle=f,n.fillRect(r,o,l,u),n.fillStyle=p,n.fillRect(r,o,l*Math.max(0,c),u),n.restore()}function RA(n,r,o,l,u,c){if(n.save(),l.length===0){n.restore();return}const f=l.length*u;let p;f>c||f+(l.length-1)*4>c?p=(c-f)/(l.length-1):p=4,l.length===1&&(p=0);for(let g=0;g<l.length;g++){const y=Pg[l[g].type];n.fillText(y,r+g*(u+p),o)}n.restore()}function PA(n,r,o,l,u){const c=r.x,f=r.y-o-l/2;n.save(),n.fillStyle=u,n.strokeStyle=u,n.lineWidth=1.5,n.beginPath(),n.rect(c-l/2,f,l,l/2),n.fill(),n.beginPath(),n.moveTo(c-l/2,f),n.lineTo(c-l/4,f-l/3),n.lineTo(c-l/6,f),n.moveTo(c-l/6,f),n.lineTo(c,f-l/2),n.lineTo(c+l/6,f),n.moveTo(c+l/6,f),n.lineTo(c+l/4,f-l/3),n.lineTo(c+l/2,f),n.stroke(),n.restore()}function Fo(n,r,o,l,u,c=!1,f=!1,p=!1,g=!1){l<mc&&(o=o*.75),Lc.render(n,r.x-o/2,r.y-o/2,o,o,0,"idle",u,l,[0,0],!1,0);let y,v;c?(y=IS,v=Tc):f?(y=TS,v=Tg):p?(y=CS,v=Ig):g&&(y=kS,v=wg),y&&v&&PA(n,r,o/2,y,v)}function DA(n,r,o,l,u,c){if(n.save(),l.length===0){n.restore();return}const f=l.length*u,p=4;let g;const y=f+(l.length-1)*p;l.length>1&&y>c?g=(c-f)/(l.length-1):g=p,l.length<=1&&(g=0);for(let v=0;v<l.length;v++){const{member:_,isPlayer:C,isHeir:R,isPartner:N,isParent:M}=l[v],w=r+v*(u+g)+u/2,P=o+u/4;Fo(n,{x:w,y:P},u,_.age,_.gender,C,R,N,M)}n.restore()}function NA(n,r,o,l){if(r.length===0)return;n.save();const u=lr,c=" 00",f=" 00";n.font=`${Hu}px "Press Start 2P", Arial`;const p=n.measureText(c).width,g=n.measureText(f).width,y=lr+Js+lr+ar+p+lr/2+ar+g,v=r.length*el+(r.length-1)*rh,_=l-v-lr;n.fillStyle=PS,n.fillRect(u,_,y,v);for(let C=0;C<r.length;C++){const R=r[C],N=_+C*(el+rh),M=N+el/2;R.isPlayerTribe&&(n.fillStyle=RS,n.fillRect(u,N,y,el));let w=u+lr;n.font=`${Js}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(R.tribeBadge,w,M-Js/4),w+=Js+lr*1.1,R.adultCount>0&&(Fo(n,{x:w+ar/2,y:M},ar,25,"male"),w+=ar/2,n.font=`${Hu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.adultCount}`,w,M),w+=n.measureText(` ${R.adultCount}`).width+lr/2),R.childCount>0&&(Fo(n,{x:w+ar/2,y:M},ar,1,"female"),w+=ar/2,n.font=`${Hu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.childCount}`,w,M))}n.restore()}function OA(n,r,o,l,u){n.save();const{position:c}=r;n.strokeStyle=l,n.lineWidth=2+Math.sin(u*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(c.x,c.y,o,0,2*Math.PI),n.stroke(),n.restore()}function MA(n,r,o,l,u){if(r.transitionState===yt.INACTIVE)return;const c=o.steps[r.currentStepIndex];if(!c)return;n.save(),n.globalAlpha=r.transitionAlpha;const f=xS,p=GS,g=zS,y=`${xu}px "Press Start 2P", Arial`,v=`${oh}px "Press Start 2P", Arial`,_=WS,C=oh*1.5;n.font=v;const R=c.text.split(" ");let N="";const M=[];for(let j=0;j<R.length;j++){const b=N+R[j]+" ";n.measureText(b).width>f-p*2&&j>0?(M.push(N),N=R[j]+" "):N=b}M.push(N);const w=p*2+xu+p/2+M.length*C,P=(l-f)/2,z=u-w-20;n.fillStyle=jS,n.beginPath(),n.moveTo(P+g,z),n.lineTo(P+f-g,z),n.quadraticCurveTo(P+f,z,P+f,z+g),n.lineTo(P+f,z+w-g),n.quadraticCurveTo(P+f,z+w,P+f-g,z+w),n.lineTo(P+g,z+w),n.quadraticCurveTo(P,z+w,P,z+w-g),n.lineTo(P,z+g),n.quadraticCurveTo(P,z,P+g,z),n.closePath(),n.fill(),n.fillStyle=_,n.textAlign="center",n.textBaseline="top",n.font=y,n.fillText(c.title,P+f/2,z+p),n.font=v;let x=z+p+xu+p/2;for(const j of M)n.fillText(j,P+f/2,x),x+=C;n.restore()}function kh(n,r,o){n.save();const l=KS,u={x:r.x-l,y:r.y-l,width:r.width+l*2,height:r.height+l*2};n.strokeStyle=Rg,n.lineWidth=XS+Math.sin(o*VS)*1.5,n.setLineDash([8,8]),n.strokeRect(u.x,u.y,u.width,u.height),n.restore()}function LA(n){n.save(),n.fillStyle=FS,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=US,n.font=`${BS}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const HA={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",seekingFood:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle"};function FA(n,r){var p;const{radius:o,position:l,activeAction:u="idle"}=r,c=((p=r.stateMachine)==null?void 0:p[0])||"N/A",f=r.isAdult?yn+20:yn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${u}`,l.x,l.y-f),n.fillText(`State: ${c}`,l.x,l.y-f+10),n.fillText(`HP: ${r.hitpoints}`,l.x,l.y-f+20),n.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,l.x,l.y-f+30),n.restore(),n.beginPath(),n.arc(l.x,l.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function UA(n,r,o){n.save(),n.font=`${nh}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,r.x,r.y-yn-nh-18),n.restore()}function BA(n,r,o,l,u){const c=r.x,f=r.y-o-l/2;n.save(),n.fillStyle=u,n.strokeStyle=u,n.lineWidth=1.5,n.beginPath(),n.rect(c-l/2,f,l,l/2),n.fill(),n.beginPath(),n.moveTo(c-l/2,f),n.lineTo(c-l/4,f-l/3),n.lineTo(c-l/6,f),n.moveTo(c-l/6,f),n.lineTo(c,f-l/2),n.lineTo(c+l/6,f),n.moveTo(c+l/6,f),n.lineTo(c+l/4,f-l/3),n.lineTo(c+l/2,f),n.stroke(),n.restore()}function xA(n,r,o){var p;const{position:l,radius:u}=r,c=l.x-Fu/2,f=l.y-u-DS;if(((p=r.stateMachine)==null?void 0:p[0])===Ti){const g=r.stateMachine[1],y=o-g.attackStartTime,v=Math.min(y/pg,1);mi(n,c,f,Fu,ih,v,gi,NS)}else if(r.attackCooldown&&r.attackCooldown>0){const g=1-r.attackCooldown/hg;mi(n,c,f,Fu,ih,g,gi,OS)}}function GA(n,r,o=!1,l=!1,u=!1,c=!1,f=!1,p=!1,g=!1,y){const{position:v,activeAction:_="idle"}=r,C=r.isAdult?yn:yn*.6,R=HA[_]||"idle";Lc.render(n,v.x-C,v.y-C,C*2,C*2,r.animationProgress||0,R,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),p&&(n.save(),n.strokeStyle=Cg,n.lineWidth=2,n.beginPath(),n.arc(v.x,v.y,C+3,0,2*Math.PI),n.stroke(),n.restore());let N,M;if(f?(N=fS,M=Tg):o?(N=dS,M=Tc):u?(N=pS,M=lS):l?(N=hS,M=wg):c&&(N=gS,M=Ig),N&&M&&BA(n,v,C,N,M),r.tribeBadge&&UA(n,v,r.tribeBadge),r.aiType!==void 0){n.save();const w=3,P=C+5;let z;switch(r.aiType){case Vt.UtilityBased:z="blue";break;case Vt.BehaviorTreeBased:z="purple";break;case Vt.StrategyBased:default:z="red";break}n.fillStyle=z,n.beginPath(),n.arc(v.x,v.y-P,w,0,Math.PI*2),n.fill(),n.restore()}xA(n,r,y),g&&FA(n,r)}const Wg=15;function Rh(n,r,o,l,u=1.5){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,y=1+Math.sin(f*Math.PI*2)*(u-1),v=Wg*y;n.save(),n.globalAlpha=p,n.beginPath(),n.arc(r.position.x,r.position.y,Math.max(0,v),0,Math.PI*2),n.fillStyle=l,n.fill(),n.restore()}function di(n,r,o,l,u=2){const c=o-r.startTime,f=Math.min(c/r.duration,1),p=1-f,g=Wg*2*f;n.save(),n.globalAlpha=p,n.beginPath(),n.arc(r.position.x,r.position.y,g,0,Math.PI*2),n.strokeStyle=l,n.lineWidth=u,n.stroke(),n.restore()}function ur(n,r,o,l){const u=o-r.startTime,c=Math.min(u/r.duration,1),f=1-c,p=-20*c;n.save(),n.globalAlpha=f,n.font="20px Arial",n.textAlign="center",n.fillText(l,r.position.x,r.position.y+p),n.restore()}function zA(n,r,o){switch(r.type){case me.Hunger:Rh(n,r,o,"rgba(255, 165, 0, 0.7)");break;case me.Procreation:ur(n,r,o,"");break;case me.Pregnant:Rh(n,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case me.TargetAcquired:di(n,r,o,"rgba(255, 0, 0, 0.8)",3);break;case me.Attack:ur(n,r,o,"");break;case me.Partnered:ur(n,r,o,"");break;case me.BushClaimed:di(n,r,o,"rgba(0, 255, 0, 0.7)",2);break;case me.BushClaimLost:di(n,r,o,"rgba(128, 128, 128, 0.7)",2);break;case me.Eating:ur(n,r,o,"");break;case me.ChildFed:ur(n,r,o,"");break;case me.AttackDeflected:ur(n,r,o,"");break;case me.AttackResisted:ur(n,r,o,"");break;case me.Hit:ur(n,r,o,"");break;case me.SeizeBuildup:di(n,r,o,"rgba(255, 215, 0, 0.8)",4);break;case me.Seize:di(n,r,o,"rgba(148, 0, 211, 0.8)",4);break;case me.CallToAttack:di(n,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function So(n,r,o,l,u,...c){const f={...u.position};for(let p=-o;p<=o;p+=o)for(let g=-r;g<=r;g+=r)u.position.x=f.x+g,u.position.y=f.y+p,l(n,u,...c);u.position=f}function jA(n,r){const o=Array.from(r.entities.entities.values()).filter(u=>u.type==="human"),l=new Set;for(const u of o)for(const c in u.karma){const f=parseInt(c,10),p=u.karma[f],g=`${u.id}-${f}`,y=`${f}-${u.id}`;if(p<0&&!l.has(g)&&!l.has(y)){const v=r.entities.entities.get(f);v&&(n.beginPath(),n.moveTo(u.position.x,u.position.y),n.lineTo(v.position.x,v.position.y),n.strokeStyle=sS,n.globalAlpha=Math.abs(p)/100,n.lineWidth=2,n.stroke(),l.add(g))}}}function Ph(n,r,o,l,u){var L;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-l.x,n.canvas.height/2-l.y),r.gameOver){n.restore(),n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20);return}const c=pr(r),f=c?En(r,c):[],p=rc(f),g=((L=c==null?void 0:c.partnerIds)==null?void 0:L.map(D=>r.entities.entities.get(D)).filter(D=>D!==void 0))||[],{width:y,height:v}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((D,ue)=>D.position.y-ue.position.y||D.id-ue.id).forEach(D=>{var ue,Ce;if(D.type==="berryBush")So(n,y,v,gA,D,r,c,r.time);else if(D.type==="human"){const Pe=D,st=Pe.id===(c==null?void 0:c.id),De=f.some(re=>re.id===Pe.id),ye=Pe.id===(p==null?void 0:p.id),je=c&&(Pe.id===c.motherId||Pe.id===c.fatherId),Se=c&&(((ue=Pe.partnerIds)==null?void 0:ue.includes(c.id))||((Ce=c.partnerIds)==null?void 0:Ce.includes(Pe.id))),pe=(c==null?void 0:c.attackTargetId)===Pe.id;So(n,y,v,GA,Pe,st,je,De,Se,ye,pe,o,r.time)}else D.type==="humanCorpse"&&So(n,y,v,_A,D)}),o&&jA(n,r),r.visualEffects.forEach(D=>{So(n,y,v,zA,D,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const D of r.tutorialState.highlightedEntityIds){const ue=r.entities.entities.get(D);ue&&So(n,y,v,OA,ue,YS,Rg,r.time)}n.restore();let C=null,R=null;n.fillStyle=mS,n.font=`${or}px "Press Start 2P", Arial`,n.shadowColor=vS,n.shadowBlur=yS,n.textAlign="left";let N=kt+or;const w=r.time/(Mn/Ln)/ag%1,P=mo[fi.Time],z=25,x=kt+z;if(n.fillText(P,kt,N+Lt/2+or/3),mi(n,x,N,sr,Lt,w,gi,_S),N+=Lt+cn,c){const D=N+Or/2,ue=N+(Or-Lt)/2,Ce=5;Fo(n,{x:kt*2,y:D},Or,5,c.gender,!1,!1,!1);const Pe=kt+Or+Ce,st=sr+z-(Or+Ce)*2;mi(n,Pe,ue,st,Lt,Math.floor(c.age)/Do,gi,AS),Fo(n,{x:Pe+st+Ce+Or/2,y:D},Or,Do,c.gender,!1,!1,!1),N+=Lt+cn*2;const De=[],ye=new Set;if(De.push({member:c,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(c.id),p&&!ye.has(p.id)&&(De.push({member:p,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),ye.add(p.id)),g.forEach(V=>{ye.has(V.id)||(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),ye.add(V.id))}),f.forEach(V=>{ye.has(V.id)||(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(V.id))}),c.motherId&&!ye.has(c.motherId)){const V=r.entities.entities.get(c.motherId);V&&(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(V.id))}if(c.fatherId&&!ye.has(c.fatherId)){const V=r.entities.entities.get(c.fatherId);V&&(De.push({member:V,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(V.id))}const je=mo[fi.Family],Se=10,pe=kt+or+Se,re=sr+z-(or+Se),G=N+bs/2;n.font=`${or}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(je,kt,G);const Y=N+bs/2;DA(n,pe,Y,De,bs,re),N+=bs+cn,n.textBaseline="alphabetic";const W=mo[fi.Hitpoints];n.fillText(W,kt,N+Lt/2+or/3),mi(n,x,N,sr,Lt,c.hitpoints/c.maxHitpoints,gi,ES),N+=Lt+cn;const A=mo[fi.Hunger];n.fillText(A,kt,N+Lt/2+or/3),mi(n,x,N,sr,Lt,(Et-c.hunger)/Et,gi,SS),C={x:kt,y:N-cn/2,width:sr+z,height:Lt+cn},N+=Lt+cn,n.textBaseline="middle";const O=mo[fi.Food];n.fillText(O,kt,N+go/2),RA(n,x,N+go/2,c.food,go,sr),R={x:kt,y:N-cn/5,width:sr+z,height:go+cn},n.textBaseline="alphabetic",N+=go+cn*2}n.textAlign="right";let j=n.canvas.width-kt;r.uiButtons.forEach(D=>{const ue=kt,Ce=j-D.currentWidth;switch(D.rect={x:Ce,y:ue,width:D.currentWidth,height:MS},D.textColor=HS,D.action){case mn.ToggleAutopilot:D.text="AUT[O]",D.backgroundColor=r.isPlayerOnAutopilot?Bu:Uu;break;case mn.ToggleMute:D.text=r.isMuted?"UN[M]UTE":"[M]UTE",D.backgroundColor=r.isMuted?Bu:Uu;break;case mn.TogglePause:D.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",D.backgroundColor=r.isPaused?Bu:Uu,r.isPaused?D.currentWidth=To*1.4:D.currentWidth=To*1.1;break}kA(n,D),j-=D.currentWidth+LS});const b=s1(r,c==null?void 0:c.leaderId);if(NA(n,b,n.canvas.width,n.canvas.height),n.shadowColor="transparent",n.shadowBlur=0,c&&u.length>0&&CA(n,u,c,l,n.canvas.width,n.canvas.height),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:D}=r.tutorialState;D.has(Ho.HUNGER_BAR)&&C&&kh(n,C,r.time),D.has(Ho.FOOD_BAR)&&R&&kh(n,R,r.time)}r.tutorialState.isActive&&MA(n,r.tutorialState,r.tutorial,n.canvas.width,n.canvas.height),r.isPaused&&LA(n)}const Dh=QE(),Nh=()=>{const n=ke.useRef(null),r=ke.useRef(null),o=ke.useRef(Dh),l=ke.useRef(),u=ke.useRef(new Set),c=ke.useRef(!1),f=ke.useRef(Dh.viewportCenter),p=ke.useRef([]),{appState:g,setAppState:y}=Il();ke.useEffect(()=>{const R=n.current;if(!R)return;r.current=R.getContext("2d");const N=()=>{R&&r.current&&(R.width=window.innerWidth,R.height=window.innerHeight,Ph(r.current,o.current,c.current,f.current,p.current))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const[v,_,C]=ry(R=>{if(!r.current||!l.current){l.current=R;return}const N=(R-l.current)/1e3;o.current=_h(o.current,N);const M=pr(o.current);if(M?p.current=Ng(o.current,M):p.current=[],M){const{mapDimensions:w}=o.current,{width:P,height:z}=w;let x={...M.position};const j=x.x-f.current.x;Math.abs(j)>P/2&&(j>0?x.x-=P:x.x+=P);const b=x.y-f.current.y;Math.abs(b)>z/2&&(b>0?x.y-=z:x.y+=z);let L=Dg(f.current,x,lg*N);L={x:(L.x%P+P)%P,y:(L.y%z+z)%z},f.current=L}else f.current=o.current.viewportCenter;Ph(r.current,o.current,c.current,f.current,p.current),l.current=R,o.current.gameOver&&g!=="gameOver"&&(Gg(Ke.GameOver,{masterVolume:o.current.masterVolume,isMuted:o.current.isMuted}),y("gameOver",{generations:o.current.generationCount,cause:o.current.causeOfGameOver||"Unknown"}))});return ke.useEffect(()=>(_(),v),[_,v]),ke.useEffect(()=>{const R=N=>{if(!C()||o.current.gameOver||!n.current)return;const M=n.current.getBoundingClientRect(),w=N.clientX-M.left,P=N.clientY-M.top,z={gameState:o.current};o.current.uiButtons.forEach(x=>{if(w>=x.rect.x&&w<=x.rect.x+x.rect.width&&P>=x.rect.y&&P<=x.rect.y+x.rect.height){const j=pr(o.current);switch(j&&St(z,Ke.ButtonClick,j.position),x.action){case mn.ToggleAutopilot:o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;break;case mn.ToggleMute:o.current.isMuted=!o.current.isMuted;break;case mn.TogglePause:o.current.isPaused=!o.current.isPaused;break}}})};return window.addEventListener("mousedown",R),()=>{window.removeEventListener("mousedown",R)}},[C]),ke.useEffect(()=>{const R=M=>{if(!C()||o.current.gameOver)return;const w=M.key.toLowerCase();if(w==="m"){o.current.isMuted=!o.current.isMuted,pl(o.current.masterVolume,o.current.isMuted);return}if(w==="="||w==="+"){const x=Math.min(1,o.current.masterVolume+.1);o.current.masterVolume=parseFloat(x.toFixed(1)),pl(o.current.masterVolume,o.current.isMuted);return}if(w==="-"){const x=Math.max(0,o.current.masterVolume-.1);o.current.masterVolume=parseFloat(x.toFixed(1)),pl(o.current.masterVolume,o.current.isMuted);return}if(w==="t"){o.current=_h(o.current,10);return}if(w===" "||w==="p"){M.preventDefault(),o.current.isPaused=!o.current.isPaused;return}if(w==="o"){o.current.isPlayerOnAutopilot=!o.current.isPlayerOnAutopilot;return}if(w===""||w==="`"){c.current=!c.current;return}if(o.current.isPlayerOnAutopilot)return;u.current.add(w);const P=pr(o.current);if(!P)return;const z={gameState:o.current};if(w==="e"){const x=Ae(P,o.current,"berryBush",Rt,L=>L.food.length>0&&P.food.length<P.maxFood),j=Ae(P,o.current,"humanCorpse",Rt,L=>L.food.length>0&&P.food.length<P.maxFood);let b=null;x&&j?b=le(P.position,x.position,o.current.mapDimensions.width,o.current.mapDimensions.height)<=le(P.position,j.position,o.current.mapDimensions.width,o.current.mapDimensions.height)?x:j:b=x||j,b&&(P.activeAction="gathering",St(z,Ke.Gather,P.position))}else if(w==="r")Ae(P,o.current,"human",Rt,j=>{const b=j;return b.id!==P.id&&b.gender!==P.gender&&b.isAdult&&P.isAdult&&b.hunger<ht&&P.hunger<ht&&(b.procreationCooldown||0)<=0&&(P.procreationCooldown||0)<=0&&(b.gender==="female"?!b.isPregnant:!P.isPregnant)||!1})&&(P.activeAction="procreating",St(z,Ke.Procreate,P.position));else if(w==="f")P.activeAction="eating",St(z,Ke.Eat,P.position);else if(w==="arrowup"||w==="w")P.direction.y=-1,P.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowdown"||w==="s")P.direction.y=1,P.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowleft"||w==="a")P.direction.x=-1,P.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="arrowright"||w==="d")P.direction.x=1,P.activeAction="moving",o.current.hasPlayerMovedEver=!0;else if(w==="q"){const x=Ae(P,o.current,"human",Nl,j=>j.id!==P.id);x&&(P.activeAction="attacking",P.attackTargetId=x.id)}else if(w==="b"){if(p.current.find(j=>j.type===pn.PlantBush)){const j=Og(P.position,o.current,50,ec);j&&(P.activeAction="planting",P.targetPosition=j,o.current.hasPlayerPlantedBush=!0)}}else if(w==="v")p.current.find(j=>j.type===pn.CallToAttack)&&(P.isCallingToAttack=!0,P.callToAttackEndTime=o.current.time+Ii,Ze(o.current,me.CallToAttack,P.position,Ii),St(z,Ke.CallToAttack,P.position));else return},N=M=>{if(!C()||o.current.gameOver)return;const w=M.key.toLowerCase();u.current.delete(w);const P=pr(o.current);!P||o.current.isPlayerOnAutopilot||(w==="arrowup"||w==="w"||w==="arrowdown"||w==="s"?P.direction.y=0:(w==="arrowleft"||w==="a"||w==="arrowright"||w==="d")&&(P.direction.x=0),!u.current.has("arrowup")&&!u.current.has("arrowdown")&&!u.current.has("arrowleft")&&!u.current.has("arrowright")&&!u.current.has("w")&&!u.current.has("a")&&!u.current.has("s")&&!u.current.has("d")&&P&&P.activeAction==="moving"&&(P.activeAction="idle"),!u.current.has("e")&&P.activeAction==="gathering"&&(P.activeAction="idle"),!u.current.has("f")&&P.activeAction==="eating"&&(P.activeAction="idle"),!u.current.has("r")&&P.activeAction==="procreating"&&(P.activeAction="idle"))};return window.addEventListener("keydown",R),window.addEventListener("keyup",N),()=>{window.removeEventListener("keydown",R),window.removeEventListener("keyup",N)}},[C,g,y,_,v]),Re.jsx("canvas",{ref:n,style:{display:"block",background:"#2c5234"}})},WA=mr.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,$A=mr.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,ol=mr.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,YA=mr.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,VA=()=>{const{setAppState:n,gameOverDetails:r}=Il(),o=()=>{n("intro")};return Re.jsxs(WA,{children:[Re.jsx($A,{children:"Game Over"}),Re.jsx(ol,{children:"Your tribe's lineage has ended."}),r&&Re.jsxs(Re.Fragment,{children:[Re.jsxs(ol,{children:["Generations Survived: ",r.generations]}),Re.jsxs(ol,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Re.jsx(ol,{children:"Game details are unavailable."}),Re.jsx(YA,{onClick:o,children:"Return to Menu"})]})},XA=Jv`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function KA(n,r){ke.useEffect(()=>{const o=()=>{const l=document.location.hash==="#game"?"game":"intro";r(l)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),ke.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const QA=()=>{const{appState:n,setAppState:r}=Il();KA(n,r);const o=()=>{switch(n){case"intro":return Re.jsx(Kp,{});case"game":return Re.jsx(Nh,{});case"gameOver":return Re.jsxs(Re.Fragment,{children:[Re.jsx(Nh,{}),Re.jsx(VA,{})]});default:return Re.jsx(Kp,{})}};return Re.jsxs(Re.Fragment,{children:[Re.jsx(XA,{}),o()]})};I1();const Oh=document.getElementById("root");Oh?Z0.createRoot(Oh).render(Re.jsx(hn.StrictMode,{children:Re.jsx(b0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Re.jsx(QA,{})})})):console.error("Failed to find the root element");
