var $v=Object.defineProperty;var jv=(t,r,o)=>r in t?$v(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var de=(t,r,o)=>jv(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(u){if(u.ep)return;u.ep=!0;const a=o(u);fetch(u.href,a)}})();function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bu={exports:{}},Ro={},Zu={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function Yv(){if(dp)return Ie;dp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function I(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function w(T,D,te){this.props=T,this.context=D,this.refs=P,this.updater=te||E}w.prototype.isReactComponent={},w.prototype.setState=function(T,D){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,D,"setState")},w.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function W(){}W.prototype=w.prototype;function B(T,D,te){this.props=T,this.context=D,this.refs=P,this.updater=te||E}var x=B.prototype=new W;x.constructor=B,k(x,w.prototype),x.isPureReactComponent=!0;var $=Array.isArray,ue=Object.prototype.hasOwnProperty,M={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function pe(T,D,te){var q,Se={},oe=null,me=null;if(D!=null)for(q in D.ref!==void 0&&(me=D.ref),D.key!==void 0&&(oe=""+D.key),D)ue.call(D,q)&&!j.hasOwnProperty(q)&&(Se[q]=D[q]);var ce=arguments.length-2;if(ce===1)Se.children=te;else if(1<ce){for(var X=Array(ce),ne=0;ne<ce;ne++)X[ne]=arguments[ne+2];Se.children=X}if(T&&T.defaultProps)for(q in ce=T.defaultProps,ce)Se[q]===void 0&&(Se[q]=ce[q]);return{$$typeof:t,type:T,key:oe,ref:me,props:Se,_owner:M.current}}function Re(T,D){return{$$typeof:t,type:T.type,key:D,ref:T.ref,props:T.props,_owner:T._owner}}function Ue(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function Ve(T){var D={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(te){return D[te]})}var Be=/\/+/g;function Le(T,D){return typeof T=="object"&&T!==null&&T.key!=null?Ve(""+T.key):D.toString(36)}function ye(T,D,te,q,Se){var oe=typeof T;(oe==="undefined"||oe==="boolean")&&(T=null);var me=!1;if(T===null)me=!0;else switch(oe){case"string":case"number":me=!0;break;case"object":switch(T.$$typeof){case t:case r:me=!0}}if(me)return me=T,Se=Se(me),T=q===""?"."+Le(me,0):q,$(Se)?(te="",T!=null&&(te=T.replace(Be,"$&/")+"/"),ye(Se,D,te,"",function(ne){return ne})):Se!=null&&(Ue(Se)&&(Se=Re(Se,te+(!Se.key||me&&me.key===Se.key?"":(""+Se.key).replace(Be,"$&/")+"/")+T)),D.push(Se)),1;if(me=0,q=q===""?".":q+":",$(T))for(var ce=0;ce<T.length;ce++){oe=T[ce];var X=q+Le(oe,ce);me+=ye(oe,D,te,X,Se)}else if(X=I(T),typeof X=="function")for(T=X.call(T),ce=0;!(oe=T.next()).done;)oe=oe.value,X=q+Le(oe,ce++),me+=ye(oe,D,te,X,Se);else if(oe==="object")throw D=String(T),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return me}function Ne(T,D,te){if(T==null)return T;var q=[],Se=0;return ye(T,q,"","",function(oe){return D.call(te,oe,Se++)}),q}function ge(T){if(T._status===-1){var D=T._result;D=D(),D.then(function(te){(T._status===0||T._status===-1)&&(T._status=1,T._result=te)},function(te){(T._status===0||T._status===-1)&&(T._status=2,T._result=te)}),T._status===-1&&(T._status=0,T._result=D)}if(T._status===1)return T._result.default;throw T._result}var ie={current:null},G={transition:null},V={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ne,forEach:function(T,D,te){Ne(T,function(){D.apply(this,arguments)},te)},count:function(T){var D=0;return Ne(T,function(){D++}),D},toArray:function(T){return Ne(T,function(D){return D})||[]},only:function(T){if(!Ue(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ie.Component=w,Ie.Fragment=o,Ie.Profiler=u,Ie.PureComponent=B,Ie.StrictMode=s,Ie.Suspense=p,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ie.act=z,Ie.cloneElement=function(T,D,te){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var q=k({},T.props),Se=T.key,oe=T.ref,me=T._owner;if(D!=null){if(D.ref!==void 0&&(oe=D.ref,me=M.current),D.key!==void 0&&(Se=""+D.key),T.type&&T.type.defaultProps)var ce=T.type.defaultProps;for(X in D)ue.call(D,X)&&!j.hasOwnProperty(X)&&(q[X]=D[X]===void 0&&ce!==void 0?ce[X]:D[X])}var X=arguments.length-2;if(X===1)q.children=te;else if(1<X){ce=Array(X);for(var ne=0;ne<X;ne++)ce[ne]=arguments[ne+2];q.children=ce}return{$$typeof:t,type:T.type,key:Se,ref:oe,props:q,_owner:me}},Ie.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},Ie.createElement=pe,Ie.createFactory=function(T){var D=pe.bind(null,T);return D.type=T,D},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(T){return{$$typeof:h,render:T}},Ie.isValidElement=Ue,Ie.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:ge}},Ie.memo=function(T,D){return{$$typeof:v,type:T,compare:D===void 0?null:D}},Ie.startTransition=function(T){var D=G.transition;G.transition={};try{T()}finally{G.transition=D}},Ie.unstable_act=z,Ie.useCallback=function(T,D){return ie.current.useCallback(T,D)},Ie.useContext=function(T){return ie.current.useContext(T)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(T){return ie.current.useDeferredValue(T)},Ie.useEffect=function(T,D){return ie.current.useEffect(T,D)},Ie.useId=function(){return ie.current.useId()},Ie.useImperativeHandle=function(T,D,te){return ie.current.useImperativeHandle(T,D,te)},Ie.useInsertionEffect=function(T,D){return ie.current.useInsertionEffect(T,D)},Ie.useLayoutEffect=function(T,D){return ie.current.useLayoutEffect(T,D)},Ie.useMemo=function(T,D){return ie.current.useMemo(T,D)},Ie.useReducer=function(T,D,te){return ie.current.useReducer(T,D,te)},Ie.useRef=function(T){return ie.current.useRef(T)},Ie.useState=function(T){return ie.current.useState(T)},Ie.useSyncExternalStore=function(T,D,te){return ie.current.useSyncExternalStore(T,D,te)},Ie.useTransition=function(){return ie.current.useTransition()},Ie.version="18.3.1",Ie}var fp;function Wc(){return fp||(fp=1,Zu.exports=Yv()),Zu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Vv(){if(hp)return Ro;hp=1;var t=Wc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var m,y={},I=null,E=null;v!==void 0&&(I=""+v),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(E=p.ref);for(m in p)s.call(p,m)&&!a.hasOwnProperty(m)&&(y[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)y[m]===void 0&&(y[m]=p[m]);return{$$typeof:r,type:h,key:I,ref:E,props:y,_owner:u.current}}return Ro.Fragment=o,Ro.jsx=c,Ro.jsxs=c,Ro}var pp;function Kv(){return pp||(pp=1,bu.exports=Vv()),bu.exports}var Te=Kv(),Ae=Wc();const An=kg(Ae);var al={},qu={exports:{}},Ot={},Ju={exports:{}},ec={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Xv(){return gp||(gp=1,function(t){function r(G,V){var z=G.length;G.push(V);e:for(;0<z;){var T=z-1>>>1,D=G[T];if(0<u(D,V))G[T]=V,G[z]=D,z=T;else break e}}function o(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var V=G[0],z=G.pop();if(z!==V){G[0]=z;e:for(var T=0,D=G.length,te=D>>>1;T<te;){var q=2*(T+1)-1,Se=G[q],oe=q+1,me=G[oe];if(0>u(Se,z))oe<D&&0>u(me,Se)?(G[T]=me,G[oe]=z,T=oe):(G[T]=Se,G[q]=z,T=q);else if(oe<D&&0>u(me,z))G[T]=me,G[oe]=z,T=oe;else break e}}return V}function u(G,V){var z=G.sortIndex-V.sortIndex;return z!==0?z:G.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],v=[],m=1,y=null,I=3,E=!1,k=!1,P=!1,w=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=G)s(v),V.sortIndex=V.expirationTime,r(p,V);else break;V=o(v)}}function $(G){if(P=!1,x(G),!k)if(o(p)!==null)k=!0,ge(ue);else{var V=o(v);V!==null&&ie($,V.startTime-G)}}function ue(G,V){k=!1,P&&(P=!1,W(pe),pe=-1),E=!0;var z=I;try{for(x(V),y=o(p);y!==null&&(!(y.expirationTime>V)||G&&!Ve());){var T=y.callback;if(typeof T=="function"){y.callback=null,I=y.priorityLevel;var D=T(y.expirationTime<=V);V=t.unstable_now(),typeof D=="function"?y.callback=D:y===o(p)&&s(p),x(V)}else s(p);y=o(p)}if(y!==null)var te=!0;else{var q=o(v);q!==null&&ie($,q.startTime-V),te=!1}return te}finally{y=null,I=z,E=!1}}var M=!1,j=null,pe=-1,Re=5,Ue=-1;function Ve(){return!(t.unstable_now()-Ue<Re)}function Be(){if(j!==null){var G=t.unstable_now();Ue=G;var V=!0;try{V=j(!0,G)}finally{V?Le():(M=!1,j=null)}}else M=!1}var Le;if(typeof B=="function")Le=function(){B(Be)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ne=ye.port2;ye.port1.onmessage=Be,Le=function(){Ne.postMessage(null)}}else Le=function(){w(Be,0)};function ge(G){j=G,M||(M=!0,Le())}function ie(G,V){pe=w(function(){G(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,ge(ue))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(G){switch(I){case 1:case 2:case 3:var V=3;break;default:V=I}var z=I;I=V;try{return G()}finally{I=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var z=I;I=G;try{return V()}finally{I=z}},t.unstable_scheduleCallback=function(G,V,z){var T=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?T+z:T):z=T,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=z+D,G={id:m++,callback:V,priorityLevel:G,startTime:z,expirationTime:D,sortIndex:-1},z>T?(G.sortIndex=z,r(v,G),o(p)===null&&G===o(v)&&(P?(W(pe),pe=-1):P=!0,ie($,z-T))):(G.sortIndex=D,r(p,G),k||E||(k=!0,ge(ue))),G},t.unstable_shouldYield=Ve,t.unstable_wrapCallback=function(G){var V=I;return function(){var z=I;I=V;try{return G.apply(this,arguments)}finally{I=z}}}}(ec)),ec}var mp;function Qv(){return mp||(mp=1,Ju.exports=Xv()),Ju.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function bv(){if(vp)return Ot;vp=1;var t=Wc(),r=Qv();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function a(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(u[e]=n,e=0;e<n.length;e++)s.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function I(e){return p.call(y,e)?!0:p.call(m,e)?!1:v.test(e)?y[e]=!0:(m[e]=!0,!1)}function E(e,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,i,l){if(n===null||typeof n>"u"||E(e,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function P(e,n,i,l,d,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];w[n]=new P(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(W,B);w[n]=new P(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(W,B);w[n]=new P(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(W,B);w[n]=new P(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function x(e,n,i,l){var d=w.hasOwnProperty(n)?w[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,i,d,l)&&(i=null),l||d===null?I(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,n,i):e.setAttribute(n,i))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Ue=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),G=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,T;function D(e){if(T===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+e}var te=!1;function q(e,n){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(O){var l=O}Reflect.construct(e,[],n)}else{try{n.call()}catch(O){l=O}e.call(n.prototype)}else{try{throw Error()}catch(O){l=O}e()}}catch(O){if(O&&l&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),f=l.stack.split(`
`),g=d.length-1,S=f.length-1;1<=g&&0<=S&&d[g]!==f[S];)S--;for(;1<=g&&0<=S;g--,S--)if(d[g]!==f[S]){if(g!==1||S!==1)do if(g--,S--,0>S||d[g]!==f[S]){var A=`
`+d[g].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=g&&0<=S);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function Se(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1),e;case 11:return e=q(e.type.render,!1),e;case 1:return e=q(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case M:return"Portal";case Re:return"Profiler";case pe:return"StrictMode";case Le:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ve:return(e.displayName||"Context")+".Consumer";case Ue:return(e._context.displayName||"Context")+".Provider";case Be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function me(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(e){var n=X(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Oe(e){e._valueTracker||(e._valueTracker=ne(e))}function ae(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=X(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dt(e,n){var i=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=ce(n.value!=null?n.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Sr(e,n){n=n.checked,n!=null&&x(e,"checked",n,!1)}function En(e,n){Sr(e,n);var i=ce(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Kr(e,n.type,i):n.hasOwnProperty("defaultValue")&&Kr(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function xn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Kr(e,n,i){(n!=="number"||Tn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Gn=Array.isArray;function zn(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ar(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ad(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(Gn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ce(i)}}function Id(e,n){var i=ce(n.value),l=ce(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function _d(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Td(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Td(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var es,Ed=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,i,l,d)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Wi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(e){Km.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),$i[n]=$i[e]})});function wd(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||$i.hasOwnProperty(e)&&$i[e]?(""+n).trim():n+"px"}function Cd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=wd(i,n[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var Xm=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,n){if(n){if(Xm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function ua(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=null;function da(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,Xr=null,Qr=null;function Rd(e){if(e=fo(e)){if(typeof fa!="function")throw Error(o(280));var n=e.stateNode;n&&(n=Ts(n),fa(e.stateNode,e.type,n))}}function Nd(e){Xr?Qr?Qr.push(e):Qr=[e]:Xr=e}function Pd(){if(Xr){var e=Xr,n=Qr;if(Qr=Xr=null,Rd(e),n)for(e=0;e<n.length;e++)Rd(n[e])}}function Od(e,n){return e(n)}function kd(){}var ha=!1;function Dd(e,n,i){if(ha)return e(n,i);ha=!0;try{return Od(e,n,i)}finally{ha=!1,(Xr!==null||Qr!==null)&&(kd(),Pd())}}function ji(e,n){var i=e.stateNode;if(i===null)return null;var l=Ts(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var pa=!1;if(h)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){pa=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{pa=!1}function Qm(e,n,i,l,d,f,g,S,A){var O=Array.prototype.slice.call(arguments,3);try{n.apply(i,O)}catch(F){this.onError(F)}}var Vi=!1,ts=null,ns=!1,ga=null,bm={onError:function(e){Vi=!0,ts=e}};function Zm(e,n,i,l,d,f,g,S,A){Vi=!1,ts=null,Qm.apply(bm,arguments)}function qm(e,n,i,l,d,f,g,S,A){if(Zm.apply(this,arguments),Vi){if(Vi){var O=ts;Vi=!1,ts=null}else throw Error(o(198));ns||(ns=!0,ga=O)}}function Ir(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Ud(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Md(e){if(Ir(e)!==e)throw Error(o(188))}function Jm(e){var n=e.alternate;if(!n){if(n=Ir(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Md(d),e;if(f===l)return Md(d),n;f=f.sibling}throw Error(o(188))}if(i.return!==l.return)i=d,l=f;else{for(var g=!1,S=d.child;S;){if(S===i){g=!0,i=d,l=f;break}if(S===l){g=!0,l=d,i=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===i){g=!0,i=f,l=d;break}if(S===l){g=!0,l=f,i=d;break}S=S.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Fd(e){return e=Jm(e),e!==null?Ld(e):null}function Ld(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ld(e);if(n!==null)return n;e=e.sibling}return null}var Bd=r.unstable_scheduleCallback,Hd=r.unstable_cancelCallback,e0=r.unstable_shouldYield,t0=r.unstable_requestPaint,Xe=r.unstable_now,n0=r.unstable_getCurrentPriorityLevel,ma=r.unstable_ImmediatePriority,xd=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,r0=r.unstable_LowPriority,Gd=r.unstable_IdlePriority,is=null,fn=null;function i0(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:l0,o0=Math.log,s0=Math.LN2;function l0(e){return e>>>=0,e===0?32:31-(o0(e)/s0|0)|0}var os=64,ss=4194304;function Ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var S=g&~d;S!==0?l=Ki(S):(f&=g,f!==0&&(l=Ki(f)))}else g=i&~d,g!==0?l=Ki(g):f!==0&&(l=Ki(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-tn(n),d=1<<i,l|=e[i],n&=~d;return l}function a0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-tn(f),S=1<<g,A=d[g];A===-1?((S&i)===0||(S&l)!==0)&&(d[g]=a0(S,n)):A<=n&&(e.expiredLanes|=S),f&=~S}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zd(){var e=os;return os<<=1,(os&4194240)===0&&(os=64),e}function ya(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Xi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-tn(n),e[n]=i}function c0(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-tn(i),f=1<<d;n[d]=0,l[d]=-1,e[d]=-1,i&=~f}}function Sa(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-tn(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}var Me=0;function Wd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $d,Aa,jd,Yd,Vd,Ia=!1,as=[],Wn=null,$n=null,jn=null,Qi=new Map,bi=new Map,Yn=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(e,n){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Qi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(n.pointerId)}}function Zi(e,n,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=fo(n),n!==null&&Aa(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function f0(e,n,i,l,d){switch(n){case"focusin":return Wn=Zi(Wn,e,n,i,l,d),!0;case"dragenter":return $n=Zi($n,e,n,i,l,d),!0;case"mouseover":return jn=Zi(jn,e,n,i,l,d),!0;case"pointerover":var f=d.pointerId;return Qi.set(f,Zi(Qi.get(f)||null,e,n,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,bi.set(f,Zi(bi.get(f)||null,e,n,i,l,d)),!0}return!1}function Xd(e){var n=_r(e.target);if(n!==null){var i=Ir(n);if(i!==null){if(n=i.tag,n===13){if(n=Ud(i),n!==null){e.blockedOn=n,Vd(e.priority,function(){jd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ta(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ca=l,i.target.dispatchEvent(l),ca=null}else return n=fo(i),n!==null&&Aa(n),e.blockedOn=i,!1;n.shift()}return!0}function Qd(e,n,i){us(e)&&i.delete(n)}function h0(){Ia=!1,Wn!==null&&us(Wn)&&(Wn=null),$n!==null&&us($n)&&($n=null),jn!==null&&us(jn)&&(jn=null),Qi.forEach(Qd),bi.forEach(Qd)}function qi(e,n){e.blockedOn===n&&(e.blockedOn=null,Ia||(Ia=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,h0)))}function Ji(e){function n(d){return qi(d,e)}if(0<as.length){qi(as[0],e);for(var i=1;i<as.length;i++){var l=as[i];l.blockedOn===e&&(l.blockedOn=null)}}for(Wn!==null&&qi(Wn,e),$n!==null&&qi($n,e),jn!==null&&qi(jn,e),Qi.forEach(n),bi.forEach(n),i=0;i<Yn.length;i++)l=Yn[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Yn.length&&(i=Yn[0],i.blockedOn===null);)Xd(i),i.blockedOn===null&&Yn.shift()}var br=$.ReactCurrentBatchConfig,cs=!0;function p0(e,n,i,l){var d=Me,f=br.transition;br.transition=null;try{Me=1,_a(e,n,i,l)}finally{Me=d,br.transition=f}}function g0(e,n,i,l){var d=Me,f=br.transition;br.transition=null;try{Me=4,_a(e,n,i,l)}finally{Me=d,br.transition=f}}function _a(e,n,i,l){if(cs){var d=Ta(e,n,i,l);if(d===null)Ga(e,n,l,ds,i),Kd(e,l);else if(f0(d,e,n,i,l))l.stopPropagation();else if(Kd(e,l),n&4&&-1<d0.indexOf(e)){for(;d!==null;){var f=fo(d);if(f!==null&&$d(f),f=Ta(e,n,i,l),f===null&&Ga(e,n,l,ds,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else Ga(e,n,l,null,i)}}var ds=null;function Ta(e,n,i,l){if(ds=null,e=da(l),e=_r(e),e!==null)if(n=Ir(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Ud(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ds=e,null}function bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n0()){case ma:return 1;case xd:return 4;case rs:case r0:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var Vn=null,Ea=null,fs=null;function Zd(){if(fs)return fs;var e,n=Ea,i=n.length,l,d="value"in Vn?Vn.value:Vn.textContent,f=d.length;for(e=0;e<i&&n[e]===d[e];e++);var g=i-e;for(l=1;l<=g&&n[i-l]===d[f-l];l++);return fs=d.slice(e,1<l?1-l:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function qd(){return!1}function Ut(e){function n(i,l,d,f,g){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ps:qd,this.isPropagationStopped=qd,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),n}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ut(Zr),eo=z({},Zr,{view:0,detail:0}),m0=Ut(eo),Ca,Ra,to,gs=z({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Ca=e.screenX-to.screenX,Ra=e.screenY-to.screenY):Ra=Ca=0,to=e),Ca)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),Jd=Ut(gs),v0=z({},gs,{dataTransfer:0}),y0=Ut(v0),S0=z({},eo,{relatedTarget:0}),Na=Ut(S0),A0=z({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=Ut(A0),_0=z({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=Ut(_0),E0=z({},Zr,{data:0}),ef=Ut(E0),w0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=R0[e])?!!n[e]:!1}function Pa(){return N0}var P0=z({},eo,{key:function(e){if(e.key){var n=w0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O0=Ut(P0),k0=z({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Ut(k0),D0=z({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),U0=Ut(D0),M0=z({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),F0=Ut(M0),L0=z({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=Ut(L0),H0=[9,13,27,32],Oa=h&&"CompositionEvent"in window,no=null;h&&"documentMode"in document&&(no=document.documentMode);var x0=h&&"TextEvent"in window&&!no,nf=h&&(!Oa||no&&8<no&&11>=no),rf=" ",of=!1;function sf(e,n){switch(e){case"keyup":return H0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function G0(e,n){switch(e){case"compositionend":return lf(n);case"keypress":return n.which!==32?null:(of=!0,rf);case"textInput":return e=n.data,e===rf&&of?null:e;default:return null}}function z0(e,n){if(qr)return e==="compositionend"||!Oa&&sf(e,n)?(e=Zd(),fs=Ea=Vn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nf&&n.locale!=="ko"?null:n.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!W0[e.type]:n==="textarea"}function uf(e,n,i,l){Nd(l),n=As(n,"onChange"),0<n.length&&(i=new wa("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var ro=null,io=null;function $0(e){Rf(e,0)}function ms(e){var n=ri(e);if(ae(n))return e}function j0(e,n){if(e==="change")return n}var cf=!1;if(h){var ka;if(h){var Da="oninput"in document;if(!Da){var df=document.createElement("div");df.setAttribute("oninput","return;"),Da=typeof df.oninput=="function"}ka=Da}else ka=!1;cf=ka&&(!document.documentMode||9<document.documentMode)}function ff(){ro&&(ro.detachEvent("onpropertychange",hf),io=ro=null)}function hf(e){if(e.propertyName==="value"&&ms(io)){var n=[];uf(n,io,e,da(e)),Dd($0,n)}}function Y0(e,n,i){e==="focusin"?(ff(),ro=n,io=i,ro.attachEvent("onpropertychange",hf)):e==="focusout"&&ff()}function V0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(io)}function K0(e,n){if(e==="click")return ms(n)}function X0(e,n){if(e==="input"||e==="change")return ms(n)}function Q0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:Q0;function oo(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!p.call(n,d)||!nn(e[d],n[d]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,n){var i=pf(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=pf(i)}}function mf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vf(){for(var e=window,n=Tn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Tn(e.document)}return n}function Ua(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function b0(e){var n=vf(),i=e.focusedElem,l=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&mf(i.ownerDocument.documentElement,i)){if(l!==null&&Ua(i)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=gf(i,f);var g=gf(i,l);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z0=h&&"documentMode"in document&&11>=document.documentMode,Jr=null,Ma=null,so=null,Fa=!1;function yf(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fa||Jr==null||Jr!==Tn(l)||(l=Jr,"selectionStart"in l&&Ua(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),so&&oo(so,l)||(so=l,l=As(Ma,"onSelect"),0<l.length&&(n=new wa("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Jr)))}function vs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ei={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},La={},Sf={};h&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function ys(e){if(La[e])return La[e];if(!ei[e])return e;var n=ei[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Sf)return La[e]=n[i];return e}var Af=ys("animationend"),If=ys("animationiteration"),_f=ys("animationstart"),Tf=ys("transitionend"),Ef=new Map,wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,n){Ef.set(e,n),a(n,[e])}for(var Ba=0;Ba<wf.length;Ba++){var Ha=wf[Ba],q0=Ha.toLowerCase(),J0=Ha[0].toUpperCase()+Ha.slice(1);Kn(q0,"on"+J0)}Kn(Af,"onAnimationEnd"),Kn(If,"onAnimationIteration"),Kn(_f,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Tf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Cf(e,n,i){var l=e.type||"unknown-event";e.currentTarget=i,qm(l,n,void 0,e),e.currentTarget=null}function Rf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var S=l[g],A=S.instance,O=S.currentTarget;if(S=S.listener,A!==f&&d.isPropagationStopped())break e;Cf(d,S,O),f=A}else for(g=0;g<l.length;g++){if(S=l[g],A=S.instance,O=S.currentTarget,S=S.listener,A!==f&&d.isPropagationStopped())break e;Cf(d,S,O),f=A}}}if(ns)throw e=ga,ns=!1,ga=null,e}function xe(e,n){var i=n[Va];i===void 0&&(i=n[Va]=new Set);var l=e+"__bubble";i.has(l)||(Nf(n,e,2,!1),i.add(l))}function xa(e,n,i){var l=0;n&&(l|=4),Nf(i,e,l,n)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[Ss]){e[Ss]=!0,s.forEach(function(i){i!=="selectionchange"&&(ev.has(i)||xa(i,!1,e),xa(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ss]||(n[Ss]=!0,xa("selectionchange",!1,n))}}function Nf(e,n,i,l){switch(bd(n)){case 1:var d=p0;break;case 4:d=g0;break;default:d=_a}i=d.bind(null,n,i,e),d=void 0,!pa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Ga(e,n,i,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(g===4)for(g=l.return;g!==null;){var A=g.tag;if((A===3||A===4)&&(A=g.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;g=g.return}for(;S!==null;){if(g=_r(S),g===null)return;if(A=g.tag,A===5||A===6){l=f=g;continue e}S=S.parentNode}}l=l.return}Dd(function(){var O=f,F=da(i),L=[];e:{var U=Ef.get(e);if(U!==void 0){var Y=wa,Q=e;switch(e){case"keypress":if(hs(i)===0)break e;case"keydown":case"keyup":Y=O0;break;case"focusin":Q="focus",Y=Na;break;case"focusout":Q="blur",Y=Na;break;case"beforeblur":case"afterblur":Y=Na;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=U0;break;case Af:case If:case _f:Y=I0;break;case Tf:Y=F0;break;case"scroll":Y=m0;break;case"wheel":Y=B0;break;case"copy":case"cut":case"paste":Y=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=tf}var b=(n&4)!==0,Qe=!b&&e==="scroll",C=b?U!==null?U+"Capture":null:U;b=[];for(var _=O,R;_!==null;){R=_;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,C!==null&&(H=ji(_,C),H!=null&&b.push(uo(_,H,R)))),Qe)break;_=_.return}0<b.length&&(U=new Y(U,Q,null,i,F),L.push({event:U,listeners:b}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&i!==ca&&(Q=i.relatedTarget||i.fromElement)&&(_r(Q)||Q[wn]))break e;if((Y||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(Q=i.relatedTarget||i.toElement,Y=O,Q=Q?_r(Q):null,Q!==null&&(Qe=Ir(Q),Q!==Qe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=O),Y!==Q)){if(b=Jd,H="onMouseLeave",C="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=tf,H="onPointerLeave",C="onPointerEnter",_="pointer"),Qe=Y==null?U:ri(Y),R=Q==null?U:ri(Q),U=new b(H,_+"leave",Y,i,F),U.target=Qe,U.relatedTarget=R,H=null,_r(F)===O&&(b=new b(C,_+"enter",Q,i,F),b.target=R,b.relatedTarget=Qe,H=b),Qe=H,Y&&Q)t:{for(b=Y,C=Q,_=0,R=b;R;R=ti(R))_++;for(R=0,H=C;H;H=ti(H))R++;for(;0<_-R;)b=ti(b),_--;for(;0<R-_;)C=ti(C),R--;for(;_--;){if(b===C||C!==null&&b===C.alternate)break t;b=ti(b),C=ti(C)}b=null}else b=null;Y!==null&&Pf(L,U,Y,b,!1),Q!==null&&Qe!==null&&Pf(L,Qe,Q,b,!0)}}e:{if(U=O?ri(O):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var Z=j0;else if(af(U))if(cf)Z=X0;else{Z=V0;var J=Y0}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=K0);if(Z&&(Z=Z(e,O))){uf(L,Z,i,F);break e}J&&J(e,U,O),e==="focusout"&&(J=U._wrapperState)&&J.controlled&&U.type==="number"&&Kr(U,"number",U.value)}switch(J=O?ri(O):window,e){case"focusin":(af(J)||J.contentEditable==="true")&&(Jr=J,Ma=O,so=null);break;case"focusout":so=Ma=Jr=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,yf(L,i,F);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":yf(L,i,F)}var ee;if(Oa)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else qr?sf(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(nf&&i.locale!=="ko"&&(qr||se!=="onCompositionStart"?se==="onCompositionEnd"&&qr&&(ee=Zd()):(Vn=F,Ea="value"in Vn?Vn.value:Vn.textContent,qr=!0)),J=As(O,se),0<J.length&&(se=new ef(se,e,null,i,F),L.push({event:se,listeners:J}),ee?se.data=ee:(ee=lf(i),ee!==null&&(se.data=ee)))),(ee=x0?G0(e,i):z0(e,i))&&(O=As(O,"onBeforeInput"),0<O.length&&(F=new ef("onBeforeInput","beforeinput",null,i,F),L.push({event:F,listeners:O}),F.data=ee))}Rf(L,n)})}function uo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function As(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=ji(e,i),f!=null&&l.unshift(uo(e,f,d)),f=ji(e,n),f!=null&&l.push(uo(e,f,d))),e=e.return}return l}function ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pf(e,n,i,l,d){for(var f=n._reactName,g=[];i!==null&&i!==l;){var S=i,A=S.alternate,O=S.stateNode;if(A!==null&&A===l)break;S.tag===5&&O!==null&&(S=O,d?(A=ji(i,f),A!=null&&g.unshift(uo(i,A,S))):d||(A=ji(i,f),A!=null&&g.push(uo(i,A,S)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var tv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function Of(e){return(typeof e=="string"?e:""+e).replace(tv,`
`).replace(nv,"")}function Is(e,n,i){if(n=Of(n),Of(e)!==n&&i)throw Error(o(425))}function _s(){}var za=null,Wa=null;function $a(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,iv=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(ov)}:ja;function ov(e){setTimeout(function(){throw e})}function Ya(e,n){var i=n,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),Ji(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);Ji(n)}function Xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Df(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),hn="__reactFiber$"+ni,co="__reactProps$"+ni,wn="__reactContainer$"+ni,Va="__reactEvents$"+ni,sv="__reactListeners$"+ni,lv="__reactHandles$"+ni;function _r(e){var n=e[hn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[wn]||i[hn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Df(e);e!==null;){if(i=e[hn])return i;e=Df(e)}return n}e=i,i=e.parentNode}return null}function fo(e){return e=e[hn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ts(e){return e[co]||null}var Ka=[],ii=-1;function Qn(e){return{current:e}}function Ge(e){0>ii||(e.current=Ka[ii],Ka[ii]=null,ii--)}function He(e,n){ii++,Ka[ii]=e.current,e.current=n}var bn={},gt=Qn(bn),wt=Qn(!1),Tr=bn;function oi(e,n){var i=e.type.contextTypes;if(!i)return bn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ct(e){return e=e.childContextTypes,e!=null}function Es(){Ge(wt),Ge(gt)}function Uf(e,n,i){if(gt.current!==bn)throw Error(o(168));He(gt,n),He(wt,i)}function Mf(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(o(108,me(e)||"Unknown",d));return z({},i,l)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Tr=gt.current,He(gt,e),He(wt,wt.current),!0}function Ff(e,n,i){var l=e.stateNode;if(!l)throw Error(o(169));i?(e=Mf(e,n,Tr),l.__reactInternalMemoizedMergedChildContext=e,Ge(wt),Ge(gt),He(gt,e)):Ge(wt),He(wt,i)}var Cn=null,Cs=!1,Xa=!1;function Lf(e){Cn===null?Cn=[e]:Cn.push(e)}function av(e){Cs=!0,Lf(e)}function Zn(){if(!Xa&&Cn!==null){Xa=!0;var e=0,n=Me;try{var i=Cn;for(Me=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Cn=null,Cs=!1}catch(d){throw Cn!==null&&(Cn=Cn.slice(e+1)),Bd(ma,Zn),d}finally{Me=n,Xa=!1}}return null}var si=[],li=0,Rs=null,Ns=0,Wt=[],$t=0,Er=null,Rn=1,Nn="";function wr(e,n){si[li++]=Ns,si[li++]=Rs,Rs=e,Ns=n}function Bf(e,n,i){Wt[$t++]=Rn,Wt[$t++]=Nn,Wt[$t++]=Er,Er=e;var l=Rn;e=Nn;var d=32-tn(l)-1;l&=~(1<<d),i+=1;var f=32-tn(n)+d;if(30<f){var g=d-d%5;f=(l&(1<<g)-1).toString(32),l>>=g,d-=g,Rn=1<<32-tn(n)+d|i<<d|l,Nn=f+e}else Rn=1<<f|i<<d|l,Nn=e}function Qa(e){e.return!==null&&(wr(e,1),Bf(e,1,0))}function ba(e){for(;e===Rs;)Rs=si[--li],si[li]=null,Ns=si[--li],si[li]=null;for(;e===Er;)Er=Wt[--$t],Wt[$t]=null,Nn=Wt[--$t],Wt[$t]=null,Rn=Wt[--$t],Wt[$t]=null}var Mt=null,Ft=null,We=!1,rn=null;function Hf(e,n){var i=Kt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function xf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Mt=e,Ft=Xn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Mt=e,Ft=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Er!==null?{id:Rn,overflow:Nn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Kt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Mt=e,Ft=null,!0):!1;default:return!1}}function Za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qa(e){if(We){var n=Ft;if(n){var i=n;if(!xf(e,n)){if(Za(e))throw Error(o(418));n=Xn(i.nextSibling);var l=Mt;n&&xf(e,n)?Hf(l,i):(e.flags=e.flags&-4097|2,We=!1,Mt=e)}}else{if(Za(e))throw Error(o(418));e.flags=e.flags&-4097|2,We=!1,Mt=e}}}function Gf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Ps(e){if(e!==Mt)return!1;if(!We)return Gf(e),We=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!$a(e.type,e.memoizedProps)),n&&(n=Ft)){if(Za(e))throw zf(),Error(o(418));for(;n;)Hf(e,n),n=Xn(n.nextSibling)}if(Gf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ft=Xn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ft=null}}else Ft=Mt?Xn(e.stateNode.nextSibling):null;return!0}function zf(){for(var e=Ft;e;)e=Xn(e.nextSibling)}function ai(){Ft=Mt=null,We=!1}function Ja(e){rn===null?rn=[e]:rn.push(e)}var uv=$.ReactCurrentBatchConfig;function ho(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var l=i.stateNode}if(!l)throw Error(o(147,e));var d=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var S=d.refs;g===null?delete S[f]:S[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Os(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Wf(e){var n=e._init;return n(e._payload)}function $f(e){function n(C,_){if(e){var R=C.deletions;R===null?(C.deletions=[_],C.flags|=16):R.push(_)}}function i(C,_){if(!e)return null;for(;_!==null;)n(C,_),_=_.sibling;return null}function l(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function d(C,_){return C=or(C,_),C.index=0,C.sibling=null,C}function f(C,_,R){return C.index=R,e?(R=C.alternate,R!==null?(R=R.index,R<_?(C.flags|=2,_):R):(C.flags|=2,_)):(C.flags|=1048576,_)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function S(C,_,R,H){return _===null||_.tag!==6?(_=ju(R,C.mode,H),_.return=C,_):(_=d(_,R),_.return=C,_)}function A(C,_,R,H){var Z=R.type;return Z===j?F(C,_,R.props.children,H,R.key):_!==null&&(_.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ge&&Wf(Z)===_.type)?(H=d(_,R.props),H.ref=ho(C,_,R),H.return=C,H):(H=el(R.type,R.key,R.props,null,C.mode,H),H.ref=ho(C,_,R),H.return=C,H)}function O(C,_,R,H){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=Yu(R,C.mode,H),_.return=C,_):(_=d(_,R.children||[]),_.return=C,_)}function F(C,_,R,H,Z){return _===null||_.tag!==7?(_=Ur(R,C.mode,H,Z),_.return=C,_):(_=d(_,R),_.return=C,_)}function L(C,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ju(""+_,C.mode,R),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ue:return R=el(_.type,_.key,_.props,null,C.mode,R),R.ref=ho(C,null,_),R.return=C,R;case M:return _=Yu(_,C.mode,R),_.return=C,_;case ge:var H=_._init;return L(C,H(_._payload),R)}if(Gn(_)||V(_))return _=Ur(_,C.mode,R,null),_.return=C,_;Os(C,_)}return null}function U(C,_,R,H){var Z=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Z!==null?null:S(C,_,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ue:return R.key===Z?A(C,_,R,H):null;case M:return R.key===Z?O(C,_,R,H):null;case ge:return Z=R._init,U(C,_,Z(R._payload),H)}if(Gn(R)||V(R))return Z!==null?null:F(C,_,R,H,null);Os(C,R)}return null}function Y(C,_,R,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number")return C=C.get(R)||null,S(_,C,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ue:return C=C.get(H.key===null?R:H.key)||null,A(_,C,H,Z);case M:return C=C.get(H.key===null?R:H.key)||null,O(_,C,H,Z);case ge:var J=H._init;return Y(C,_,R,J(H._payload),Z)}if(Gn(H)||V(H))return C=C.get(R)||null,F(_,C,H,Z,null);Os(_,H)}return null}function Q(C,_,R,H){for(var Z=null,J=null,ee=_,se=_=0,st=null;ee!==null&&se<R.length;se++){ee.index>se?(st=ee,ee=null):st=ee.sibling;var Pe=U(C,ee,R[se],H);if(Pe===null){ee===null&&(ee=st);break}e&&ee&&Pe.alternate===null&&n(C,ee),_=f(Pe,_,se),J===null?Z=Pe:J.sibling=Pe,J=Pe,ee=st}if(se===R.length)return i(C,ee),We&&wr(C,se),Z;if(ee===null){for(;se<R.length;se++)ee=L(C,R[se],H),ee!==null&&(_=f(ee,_,se),J===null?Z=ee:J.sibling=ee,J=ee);return We&&wr(C,se),Z}for(ee=l(C,ee);se<R.length;se++)st=Y(ee,C,se,R[se],H),st!==null&&(e&&st.alternate!==null&&ee.delete(st.key===null?se:st.key),_=f(st,_,se),J===null?Z=st:J.sibling=st,J=st);return e&&ee.forEach(function(sr){return n(C,sr)}),We&&wr(C,se),Z}function b(C,_,R,H){var Z=V(R);if(typeof Z!="function")throw Error(o(150));if(R=Z.call(R),R==null)throw Error(o(151));for(var J=Z=null,ee=_,se=_=0,st=null,Pe=R.next();ee!==null&&!Pe.done;se++,Pe=R.next()){ee.index>se?(st=ee,ee=null):st=ee.sibling;var sr=U(C,ee,Pe.value,H);if(sr===null){ee===null&&(ee=st);break}e&&ee&&sr.alternate===null&&n(C,ee),_=f(sr,_,se),J===null?Z=sr:J.sibling=sr,J=sr,ee=st}if(Pe.done)return i(C,ee),We&&wr(C,se),Z;if(ee===null){for(;!Pe.done;se++,Pe=R.next())Pe=L(C,Pe.value,H),Pe!==null&&(_=f(Pe,_,se),J===null?Z=Pe:J.sibling=Pe,J=Pe);return We&&wr(C,se),Z}for(ee=l(C,ee);!Pe.done;se++,Pe=R.next())Pe=Y(ee,C,se,Pe.value,H),Pe!==null&&(e&&Pe.alternate!==null&&ee.delete(Pe.key===null?se:Pe.key),_=f(Pe,_,se),J===null?Z=Pe:J.sibling=Pe,J=Pe);return e&&ee.forEach(function(Wv){return n(C,Wv)}),We&&wr(C,se),Z}function Qe(C,_,R,H){if(typeof R=="object"&&R!==null&&R.type===j&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case ue:e:{for(var Z=R.key,J=_;J!==null;){if(J.key===Z){if(Z=R.type,Z===j){if(J.tag===7){i(C,J.sibling),_=d(J,R.props.children),_.return=C,C=_;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ge&&Wf(Z)===J.type){i(C,J.sibling),_=d(J,R.props),_.ref=ho(C,J,R),_.return=C,C=_;break e}i(C,J);break}else n(C,J);J=J.sibling}R.type===j?(_=Ur(R.props.children,C.mode,H,R.key),_.return=C,C=_):(H=el(R.type,R.key,R.props,null,C.mode,H),H.ref=ho(C,_,R),H.return=C,C=H)}return g(C);case M:e:{for(J=R.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){i(C,_.sibling),_=d(_,R.children||[]),_.return=C,C=_;break e}else{i(C,_);break}else n(C,_);_=_.sibling}_=Yu(R,C.mode,H),_.return=C,C=_}return g(C);case ge:return J=R._init,Qe(C,_,J(R._payload),H)}if(Gn(R))return Q(C,_,R,H);if(V(R))return b(C,_,R,H);Os(C,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(i(C,_.sibling),_=d(_,R),_.return=C,C=_):(i(C,_),_=ju(R,C.mode,H),_.return=C,C=_),g(C)):i(C,_)}return Qe}var ui=$f(!0),jf=$f(!1),ks=Qn(null),Ds=null,ci=null,eu=null;function tu(){eu=ci=Ds=null}function nu(e){var n=ks.current;Ge(ks),e._currentValue=n}function ru(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function di(e,n){Ds=e,eu=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Rt=!0),e.firstContext=null)}function jt(e){var n=e._currentValue;if(eu!==e)if(e={context:e,memoizedValue:n,next:null},ci===null){if(Ds===null)throw Error(o(308));ci=e,Ds.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return n}var Cr=null;function iu(e){Cr===null?Cr=[e]:Cr.push(e)}function Yf(e,n,i,l){var d=n.interleaved;return d===null?(i.next=i,iu(n)):(i.next=d.next,d.next=i),n.interleaved=i,Pn(e,l)}function Pn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var qn=!1;function ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Jn(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,Pn(e,i)}return d=l.interleaved,d===null?(n.next=n,iu(l)):(n.next=d.next,d.next=n),l.interleaved=n,Pn(e,i)}function Us(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Sa(e,i)}}function Kf(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=n:f=f.next=n}else d=f=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ms(e,n,i,l){var d=e.updateQueue;qn=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var A=S,O=A.next;A.next=null,g===null?f=O:g.next=O,g=A;var F=e.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==g&&(S===null?F.firstBaseUpdate=O:S.next=O,F.lastBaseUpdate=A))}if(f!==null){var L=d.baseState;g=0,F=O=A=null,S=f;do{var U=S.lane,Y=S.eventTime;if((l&U)===U){F!==null&&(F=F.next={eventTime:Y,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=e,b=S;switch(U=n,Y=i,b.tag){case 1:if(Q=b.payload,typeof Q=="function"){L=Q.call(Y,L,U);break e}L=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=b.payload,U=typeof Q=="function"?Q.call(Y,L,U):Q,U==null)break e;L=z({},L,U);break e;case 2:qn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[S]:U.push(S))}else Y={eventTime:Y,lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(O=F=Y,A=L):F=F.next=Y,g|=U;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;U=S,S=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(F===null&&(A=L),d.baseState=A,d.firstBaseUpdate=O,d.lastBaseUpdate=F,n=d.shared.interleaved,n!==null){d=n;do g|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);Pr|=g,e.lanes=g,e.memoizedState=L}}function Xf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(o(191,d));d.call(l)}}}var po={},pn=Qn(po),go=Qn(po),mo=Qn(po);function Rr(e){if(e===po)throw Error(o(174));return e}function su(e,n){switch(He(mo,n),He(go,e),He(pn,po),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:la(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=la(n,e)}Ge(pn),He(pn,n)}function fi(){Ge(pn),Ge(go),Ge(mo)}function Qf(e){Rr(mo.current);var n=Rr(pn.current),i=la(n,e.type);n!==i&&(He(go,e),He(pn,i))}function lu(e){go.current===e&&(Ge(pn),Ge(go))}var je=Qn(0);function Fs(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var au=[];function uu(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var Ls=$.ReactCurrentDispatcher,cu=$.ReactCurrentBatchConfig,Nr=0,Ye=null,tt=null,it=null,Bs=!1,vo=!1,yo=0,cv=0;function mt(){throw Error(o(321))}function du(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!nn(e[i],n[i]))return!1;return!0}function fu(e,n,i,l,d,f){if(Nr=f,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ls.current=e===null||e.memoizedState===null?pv:gv,e=i(l,d),vo){f=0;do{if(vo=!1,yo=0,25<=f)throw Error(o(301));f+=1,it=tt=null,n.updateQueue=null,Ls.current=mv,e=i(l,d)}while(vo)}if(Ls.current=Gs,n=tt!==null&&tt.next!==null,Nr=0,it=tt=Ye=null,Bs=!1,n)throw Error(o(300));return e}function hu(){var e=yo!==0;return yo=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ye.memoizedState=it=e:it=it.next=e,it}function Yt(){if(tt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=it===null?Ye.memoizedState:it.next;if(n!==null)it=n,tt=e;else{if(e===null)throw Error(o(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?Ye.memoizedState=it=e:it=it.next=e}return it}function So(e,n){return typeof n=="function"?n(e):n}function pu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=tt,d=l.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}l.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,l=l.baseState;var S=g=null,A=null,O=f;do{var F=O.lane;if((Nr&F)===F)A!==null&&(A=A.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),l=O.hasEagerState?O.eagerState:e(l,O.action);else{var L={lane:F,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};A===null?(S=A=L,g=l):A=A.next=L,Ye.lanes|=F,Pr|=F}O=O.next}while(O!==null&&O!==f);A===null?g=l:A.next=S,nn(l,n.memoizedState)||(Rt=!0),n.memoizedState=l,n.baseState=g,n.baseQueue=A,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Ye.lanes|=f,Pr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function gu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=n.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);nn(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function bf(){}function Zf(e,n){var i=Ye,l=Yt(),d=n(),f=!nn(l.memoizedState,d);if(f&&(l.memoizedState=d,Rt=!0),l=l.queue,mu(eh.bind(null,i,l,e),[e]),l.getSnapshot!==n||f||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,Ao(9,Jf.bind(null,i,l,d,n),void 0,null),ot===null)throw Error(o(349));(Nr&30)!==0||qf(i,n,d)}return d}function qf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Jf(e,n,i,l){n.value=i,n.getSnapshot=l,th(n)&&nh(e)}function eh(e,n,i){return i(function(){th(n)&&nh(e)})}function th(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!nn(e,i)}catch{return!0}}function nh(e){var n=Pn(e,1);n!==null&&an(n,e,1,-1)}function rh(e){var n=gn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},n.queue=e,e=e.dispatch=hv.bind(null,Ye,e),[n.memoizedState,e]}function Ao(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function ih(){return Yt().memoizedState}function Hs(e,n,i,l){var d=gn();Ye.flags|=e,d.memoizedState=Ao(1|n,i,void 0,l===void 0?null:l)}function xs(e,n,i,l){var d=Yt();l=l===void 0?null:l;var f=void 0;if(tt!==null){var g=tt.memoizedState;if(f=g.destroy,l!==null&&du(l,g.deps)){d.memoizedState=Ao(n,i,f,l);return}}Ye.flags|=e,d.memoizedState=Ao(1|n,i,f,l)}function oh(e,n){return Hs(8390656,8,e,n)}function mu(e,n){return xs(2048,8,e,n)}function sh(e,n){return xs(4,2,e,n)}function lh(e,n){return xs(4,4,e,n)}function ah(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function uh(e,n,i){return i=i!=null?i.concat([e]):null,xs(4,4,ah.bind(null,n,e),i)}function vu(){}function ch(e,n){var i=Yt();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&du(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function dh(e,n){var i=Yt();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&du(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function fh(e,n,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=i):(nn(i,n)||(i=zd(),Ye.lanes|=i,Pr|=i,e.baseState=!0),n)}function dv(e,n){var i=Me;Me=i!==0&&4>i?i:4,e(!0);var l=cu.transition;cu.transition={};try{e(!1),n()}finally{Me=i,cu.transition=l}}function hh(){return Yt().memoizedState}function fv(e,n,i){var l=rr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},ph(e))gh(n,i);else if(i=Yf(e,n,i,l),i!==null){var d=_t();an(i,e,l,d),mh(i,n,l)}}function hv(e,n,i){var l=rr(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(ph(e))gh(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,i);if(d.hasEagerState=!0,d.eagerState=S,nn(S,g)){var A=n.interleaved;A===null?(d.next=d,iu(n)):(d.next=A.next,A.next=d),n.interleaved=d;return}}catch{}finally{}i=Yf(e,n,d,l),i!==null&&(d=_t(),an(i,e,l,d),mh(i,n,l))}}function ph(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function gh(e,n){vo=Bs=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function mh(e,n,i){if((i&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Sa(e,i)}}var Gs={readContext:jt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},pv={readContext:jt,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:jt,useEffect:oh,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Hs(4194308,4,ah.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Hs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Hs(4,2,e,n)},useMemo:function(e,n){var i=gn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=gn();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=fv.bind(null,Ye,e),[l.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:rh,useDebugValue:vu,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=rh(!1),n=e[0];return e=dv.bind(null,e[1]),gn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=Ye,d=gn();if(We){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),ot===null)throw Error(o(349));(Nr&30)!==0||qf(l,n,i)}d.memoizedState=i;var f={value:i,getSnapshot:n};return d.queue=f,oh(eh.bind(null,l,f,e),[e]),l.flags|=2048,Ao(9,Jf.bind(null,l,f,i,n),void 0,null),i},useId:function(){var e=gn(),n=ot.identifierPrefix;if(We){var i=Nn,l=Rn;i=(l&~(1<<32-tn(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=yo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=cv++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},gv={readContext:jt,useCallback:ch,useContext:jt,useEffect:mu,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:dh,useReducer:pu,useRef:ih,useState:function(){return pu(So)},useDebugValue:vu,useDeferredValue:function(e){var n=Yt();return fh(n,tt.memoizedState,e)},useTransition:function(){var e=pu(So)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:bf,useSyncExternalStore:Zf,useId:hh,unstable_isNewReconciler:!1},mv={readContext:jt,useCallback:ch,useContext:jt,useEffect:mu,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:dh,useReducer:gu,useRef:ih,useState:function(){return gu(So)},useDebugValue:vu,useDeferredValue:function(e){var n=Yt();return tt===null?n.memoizedState=e:fh(n,tt.memoizedState,e)},useTransition:function(){var e=gu(So)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:bf,useSyncExternalStore:Zf,useId:hh,unstable_isNewReconciler:!1};function on(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function yu(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:z({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var zs={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=_t(),d=rr(e),f=On(l,d);f.payload=n,i!=null&&(f.callback=i),n=Jn(e,f,d),n!==null&&(an(n,e,d,l),Us(n,e,d))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=_t(),d=rr(e),f=On(l,d);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Jn(e,f,d),n!==null&&(an(n,e,d,l),Us(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=_t(),l=rr(e),d=On(i,l);d.tag=2,n!=null&&(d.callback=n),n=Jn(e,d,l),n!==null&&(an(n,e,l,i),Us(n,e,l))}};function vh(e,n,i,l,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!oo(i,l)||!oo(d,f):!0}function yh(e,n,i){var l=!1,d=bn,f=n.contextType;return typeof f=="object"&&f!==null?f=jt(f):(d=Ct(n)?Tr:gt.current,l=n.contextTypes,f=(l=l!=null)?oi(e,d):bn),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=zs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function Sh(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&zs.enqueueReplaceState(n,n.state,null)}function Su(e,n,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},ou(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=jt(f):(f=Ct(n)?Tr:gt.current,d.context=oi(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(yu(e,n,f,i),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&zs.enqueueReplaceState(d,d.state,null),Ms(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,n){try{var i="",l=n;do i+=Se(l),l=l.return;while(l);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function Au(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Iu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var vv=typeof WeakMap=="function"?WeakMap:Map;function Ah(e,n,i){i=On(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){Xs||(Xs=!0,Lu=l),Iu(e,n)},i}function Ih(e,n,i){i=On(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;i.payload=function(){return l(d)},i.callback=function(){Iu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Iu(e,n),typeof l!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function _h(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new vv;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(d.add(i),e=kv.bind(null,e,n,i),n.then(e,e))}function Th(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Eh(e,n,i,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=On(-1,1),n.tag=2,Jn(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var yv=$.ReactCurrentOwner,Rt=!1;function It(e,n,i,l){n.child=e===null?jf(n,null,i,l):ui(n,e.child,i,l)}function wh(e,n,i,l,d){i=i.render;var f=n.ref;return di(n,d),l=fu(e,n,i,l,f,d),i=hu(),e!==null&&!Rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,kn(e,n,d)):(We&&i&&Qa(n),n.flags|=1,It(e,n,l,d),n.child)}function Ch(e,n,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!$u(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Rh(e,n,f,l,d)):(e=el(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:oo,i(g,l)&&e.ref===n.ref)return kn(e,n,d)}return n.flags|=1,e=or(f,l),e.ref=n.ref,e.return=n,n.child=e}function Rh(e,n,i,l,d){if(e!==null){var f=e.memoizedProps;if(oo(f,l)&&e.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Rt=!0);else return n.lanes=e.lanes,kn(e,n,d)}return _u(e,n,i,l,d)}function Nh(e,n,i){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(gi,Lt),Lt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,He(gi,Lt),Lt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,He(gi,Lt),Lt|=l}else f!==null?(l=f.baseLanes|i,n.memoizedState=null):l=i,He(gi,Lt),Lt|=l;return It(e,n,d,i),n.child}function Ph(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function _u(e,n,i,l,d){var f=Ct(i)?Tr:gt.current;return f=oi(n,f),di(n,d),i=fu(e,n,i,l,f,d),l=hu(),e!==null&&!Rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,kn(e,n,d)):(We&&l&&Qa(n),n.flags|=1,It(e,n,i,d),n.child)}function Oh(e,n,i,l,d){if(Ct(i)){var f=!0;ws(n)}else f=!1;if(di(n,d),n.stateNode===null)$s(e,n),yh(n,i,l),Su(n,i,l,d),l=!0;else if(e===null){var g=n.stateNode,S=n.memoizedProps;g.props=S;var A=g.context,O=i.contextType;typeof O=="object"&&O!==null?O=jt(O):(O=Ct(i)?Tr:gt.current,O=oi(n,O));var F=i.getDerivedStateFromProps,L=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";L||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==l||A!==O)&&Sh(n,g,l,O),qn=!1;var U=n.memoizedState;g.state=U,Ms(n,l,g,d),A=n.memoizedState,S!==l||U!==A||wt.current||qn?(typeof F=="function"&&(yu(n,i,F,l),A=n.memoizedState),(S=qn||vh(n,i,S,l,U,A,O))?(L||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),g.props=l,g.state=A,g.context=O,l=S):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,Vf(e,n),S=n.memoizedProps,O=n.type===n.elementType?S:on(n.type,S),g.props=O,L=n.pendingProps,U=g.context,A=i.contextType,typeof A=="object"&&A!==null?A=jt(A):(A=Ct(i)?Tr:gt.current,A=oi(n,A));var Y=i.getDerivedStateFromProps;(F=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==L||U!==A)&&Sh(n,g,l,A),qn=!1,U=n.memoizedState,g.state=U,Ms(n,l,g,d);var Q=n.memoizedState;S!==L||U!==Q||wt.current||qn?(typeof Y=="function"&&(yu(n,i,Y,l),Q=n.memoizedState),(O=qn||vh(n,i,O,l,U,Q,A)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,Q,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,Q,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),g.props=l,g.state=Q,g.context=A,l=O):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),l=!1)}return Tu(e,n,i,l,f,d)}function Tu(e,n,i,l,d,f){Ph(e,n);var g=(n.flags&128)!==0;if(!l&&!g)return d&&Ff(n,i,!1),kn(e,n,f);l=n.stateNode,yv.current=n;var S=g&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&g?(n.child=ui(n,e.child,null,f),n.child=ui(n,null,S,f)):It(e,n,S,f),n.memoizedState=l.state,d&&Ff(n,i,!0),n.child}function kh(e){var n=e.stateNode;n.pendingContext?Uf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Uf(e,n.context,!1),su(e,n.containerInfo)}function Dh(e,n,i,l,d){return ai(),Ja(d),n.flags|=256,It(e,n,i,l),n.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,n,i){var l=n.pendingProps,d=je.current,f=!1,g=(n.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(d&2)!==0),S?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),He(je,d&1),e===null)return qa(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=l.children,e=l.fallback,f?(l=n.mode,f=n.child,g={mode:"hidden",children:g},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=tl(g,l,0,null),e=Ur(e,l,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=wu(i),n.memoizedState=Eu,e):Cu(n,g));if(d=e.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return Sv(e,n,g,l,S,d,i);if(f){f=l.fallback,g=n.mode,d=e.child,S=d.sibling;var A={mode:"hidden",children:l.children};return(g&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=A,n.deletions=null):(l=or(d,A),l.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=or(S,f):(f=Ur(f,g,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,g=e.child.memoizedState,g=g===null?wu(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Eu,l}return f=e.child,e=f.sibling,l=or(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=i),l.return=n,l.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=l,n.memoizedState=null,l}function Cu(e,n){return n=tl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ws(e,n,i,l){return l!==null&&Ja(l),ui(n,e.child,null,i),e=Cu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sv(e,n,i,l,d,f,g){if(i)return n.flags&256?(n.flags&=-257,l=Au(Error(o(422))),Ws(e,n,g,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,d=n.mode,l=tl({mode:"visible",children:l.children},d,0,null),f=Ur(f,d,g,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&ui(n,e.child,null,g),n.child.memoizedState=wu(g),n.memoizedState=Eu,f);if((n.mode&1)===0)return Ws(e,n,g,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var S=l.dgst;return l=S,f=Error(o(419)),l=Au(f,l,void 0),Ws(e,n,g,l)}if(S=(g&e.childLanes)!==0,Rt||S){if(l=ot,l!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Pn(e,d),an(l,e,d,-1))}return Wu(),l=Au(Error(o(421))),Ws(e,n,g,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Dv.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Ft=Xn(d.nextSibling),Mt=n,We=!0,rn=null,e!==null&&(Wt[$t++]=Rn,Wt[$t++]=Nn,Wt[$t++]=Er,Rn=e.id,Nn=e.overflow,Er=n),n=Cu(n,l.children),n.flags|=4096,n)}function Mh(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ru(e.return,n,i)}function Ru(e,n,i,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function Fh(e,n,i){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(It(e,n,l.children,i),l=je.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,i,n);else if(e.tag===19)Mh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(He(je,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Fs(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Ru(n,!1,d,i,f);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Fs(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Ru(n,!0,i,null,f);break;case"together":Ru(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function kn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Pr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=or(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=or(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Av(e,n,i){switch(n.tag){case 3:kh(n),ai();break;case 5:Qf(n);break;case 1:Ct(n.type)&&ws(n);break;case 4:su(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;He(ks,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(He(je,je.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Uh(e,n,i):(He(je,je.current&1),e=kn(e,n,i),e!==null?e.sibling:null);He(je,je.current&1);break;case 19:if(l=(i&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Fh(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(je,je.current),l)break;return null;case 22:case 23:return n.lanes=0,Nh(e,n,i)}return kn(e,n,i)}var Lh,Nu,Bh,Hh;Lh=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Nu=function(){},Bh=function(e,n,i,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,Rr(pn.current);var f=null;switch(i){case"input":d=Dt(e,d),l=Dt(e,l),f=[];break;case"select":d=z({},d,{value:void 0}),l=z({},l,{value:void 0}),f=[];break;case"textarea":d=Ar(e,d),l=Ar(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=_s)}aa(i,l);var g;i=null;for(O in d)if(!l.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var S=d[O];for(g in S)S.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(u.hasOwnProperty(O)?f||(f=[]):(f=f||[]).push(O,null));for(O in l){var A=l[O];if(S=d!=null?d[O]:void 0,l.hasOwnProperty(O)&&A!==S&&(A!=null||S!=null))if(O==="style")if(S){for(g in S)!S.hasOwnProperty(g)||A&&A.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in A)A.hasOwnProperty(g)&&S[g]!==A[g]&&(i||(i={}),i[g]=A[g])}else i||(f||(f=[]),f.push(O,i)),i=A;else O==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(f=f||[]).push(O,A)):O==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(O,""+A):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(u.hasOwnProperty(O)?(A!=null&&O==="onScroll"&&xe("scroll",e),f||S===A||(f=[])):(f=f||[]).push(O,A))}i&&(f=f||[]).push("style",i);var O=f;(n.updateQueue=O)&&(n.flags|=4)}},Hh=function(e,n,i,l){i!==l&&(n.flags|=4)};function Io(e,n){if(!We)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function Iv(e,n,i){var l=n.pendingProps;switch(ba(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return Ct(n.type)&&Es(),vt(n),null;case 3:return l=n.stateNode,fi(),Ge(wt),Ge(gt),uu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ps(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rn!==null&&(xu(rn),rn=null))),Nu(e,n),vt(n),null;case 5:lu(n);var d=Rr(mo.current);if(i=n.type,e!==null&&n.stateNode!=null)Bh(e,n,i,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(o(166));return vt(n),null}if(e=Rr(pn.current),Ps(n)){l=n.stateNode,i=n.type;var f=n.memoizedProps;switch(l[hn]=n,l[co]=f,e=(n.mode&1)!==0,i){case"dialog":xe("cancel",l),xe("close",l);break;case"iframe":case"object":case"embed":xe("load",l);break;case"video":case"audio":for(d=0;d<lo.length;d++)xe(lo[d],l);break;case"source":xe("error",l);break;case"img":case"image":case"link":xe("error",l),xe("load",l);break;case"details":xe("toggle",l);break;case"input":zt(l,f),xe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},xe("invalid",l);break;case"textarea":Ad(l,f),xe("invalid",l)}aa(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var S=f[g];g==="children"?typeof S=="string"?l.textContent!==S&&(f.suppressHydrationWarning!==!0&&Is(l.textContent,S,e),d=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&Is(l.textContent,S,e),d=["children",""+S]):u.hasOwnProperty(g)&&S!=null&&g==="onScroll"&&xe("scroll",l)}switch(i){case"input":Oe(l),xn(l,f,!0);break;case"textarea":Oe(l),_d(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=_s)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Td(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(i,{is:l.is}):(e=g.createElement(i),i==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,i),e[hn]=n,e[co]=l,Lh(e,n,!1,!1),n.stateNode=e;e:{switch(g=ua(i,l),i){case"dialog":xe("cancel",e),xe("close",e),d=l;break;case"iframe":case"object":case"embed":xe("load",e),d=l;break;case"video":case"audio":for(d=0;d<lo.length;d++)xe(lo[d],e);d=l;break;case"source":xe("error",e),d=l;break;case"img":case"image":case"link":xe("error",e),xe("load",e),d=l;break;case"details":xe("toggle",e),d=l;break;case"input":zt(e,l),d=Dt(e,l),xe("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=z({},l,{value:void 0}),xe("invalid",e);break;case"textarea":Ad(e,l),d=Ar(e,l),xe("invalid",e);break;default:d=l}aa(i,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var A=S[f];f==="style"?Cd(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ed(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Wi(e,A):typeof A=="number"&&Wi(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?A!=null&&f==="onScroll"&&xe("scroll",e):A!=null&&x(e,f,A,g))}switch(i){case"input":Oe(e),xn(e,l,!1);break;case"textarea":Oe(e),_d(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ce(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?zn(e,!!l.multiple,f,!1):l.defaultValue!=null&&zn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=_s)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return vt(n),null;case 6:if(e&&n.stateNode!=null)Hh(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(i=Rr(mo.current),Rr(pn.current),Ps(n)){if(l=n.stateNode,i=n.memoizedProps,l[hn]=n,(f=l.nodeValue!==i)&&(e=Mt,e!==null))switch(e.tag){case 3:Is(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(l.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[hn]=n,n.stateNode=l}return vt(n),null;case 13:if(Ge(je),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ft!==null&&(n.mode&1)!==0&&(n.flags&128)===0)zf(),ai(),n.flags|=98560,f=!1;else if(f=Ps(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[hn]=n}else ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),f=!1}else rn!==null&&(xu(rn),rn=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(je.current&1)!==0?nt===0&&(nt=3):Wu())),n.updateQueue!==null&&(n.flags|=4),vt(n),null);case 4:return fi(),Nu(e,n),e===null&&ao(n.stateNode.containerInfo),vt(n),null;case 10:return nu(n.type._context),vt(n),null;case 17:return Ct(n.type)&&Es(),vt(n),null;case 19:if(Ge(je),f=n.memoizedState,f===null)return vt(n),null;if(l=(n.flags&128)!==0,g=f.rendering,g===null)if(l)Io(f,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Fs(e),g!==null){for(n.flags|=128,Io(f,!1),l=g.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)f=i,e=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return He(je,je.current&1|2),n.child}e=e.sibling}f.tail!==null&&Xe()>mi&&(n.flags|=128,l=!0,Io(f,!1),n.lanes=4194304)}else{if(!l)if(e=Fs(g),e!==null){if(n.flags|=128,l=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Io(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!We)return vt(n),null}else 2*Xe()-f.renderingStartTime>mi&&i!==1073741824&&(n.flags|=128,l=!0,Io(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Xe(),n.sibling=null,i=je.current,He(je,l?i&1|2:i&1),n):(vt(n),null);case 22:case 23:return zu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Lt&1073741824)!==0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function _v(e,n){switch(ba(n),n.tag){case 1:return Ct(n.type)&&Es(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fi(),Ge(wt),Ge(gt),uu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return lu(n),null;case 13:if(Ge(je),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(je),null;case 4:return fi(),null;case 10:return nu(n.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var js=!1,yt=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,K=null;function pi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Ke(e,n,l)}else i.current=null}function Pu(e,n,i){try{i()}catch(l){Ke(e,n,l)}}var xh=!1;function Ev(e,n){if(za=cs,e=vf(),Ua(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,S=-1,A=-1,O=0,F=0,L=e,U=null;t:for(;;){for(var Y;L!==i||d!==0&&L.nodeType!==3||(S=g+d),L!==f||l!==0&&L.nodeType!==3||(A=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(Y=L.firstChild)!==null;)U=L,L=Y;for(;;){if(L===e)break t;if(U===i&&++O===d&&(S=g),U===f&&++F===l&&(A=g),(Y=L.nextSibling)!==null)break;L=U,U=L.parentNode}L=Y}i=S===-1||A===-1?null:{start:S,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Wa={focusedElem:e,selectionRange:i},cs=!1,K=n;K!==null;)if(n=K,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,K=e;else for(;K!==null;){n=K;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var b=Q.memoizedProps,Qe=Q.memoizedState,C=n.stateNode,_=C.getSnapshotBeforeUpdate(n.elementType===n.type?b:on(n.type,b),Qe);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(H){Ke(n,n.return,H)}if(e=n.sibling,e!==null){e.return=n.return,K=e;break}K=n.return}return Q=xh,xh=!1,Q}function _o(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Pu(n,i,f)}d=d.next}while(d!==l)}}function Ys(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function Ou(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Gh(e){var n=e.alternate;n!==null&&(e.alternate=null,Gh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hn],delete n[co],delete n[Va],delete n[sv],delete n[lv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zh(e){return e.tag===5||e.tag===3||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=_s));else if(l!==4&&(e=e.child,e!==null))for(ku(e,n,i),e=e.sibling;e!==null;)ku(e,n,i),e=e.sibling}function Du(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Du(e,n,i),e=e.sibling;e!==null;)Du(e,n,i),e=e.sibling}var ct=null,sn=!1;function er(e,n,i){for(i=i.child;i!==null;)$h(e,n,i),i=i.sibling}function $h(e,n,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(is,i)}catch{}switch(i.tag){case 5:yt||pi(i,n);case 6:var l=ct,d=sn;ct=null,er(e,n,i),ct=l,sn=d,ct!==null&&(sn?(e=ct,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ct.removeChild(i.stateNode));break;case 18:ct!==null&&(sn?(e=ct,i=i.stateNode,e.nodeType===8?Ya(e.parentNode,i):e.nodeType===1&&Ya(e,i),Ji(e)):Ya(ct,i.stateNode));break;case 4:l=ct,d=sn,ct=i.stateNode.containerInfo,sn=!0,er(e,n,i),ct=l,sn=d;break;case 0:case 11:case 14:case 15:if(!yt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Pu(i,n,g),d=d.next}while(d!==l)}er(e,n,i);break;case 1:if(!yt&&(pi(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(S){Ke(i,n,S)}er(e,n,i);break;case 21:er(e,n,i);break;case 22:i.mode&1?(yt=(l=yt)||i.memoizedState!==null,er(e,n,i),yt=l):er(e,n,i);break;default:er(e,n,i)}}function jh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Tv),n.forEach(function(l){var d=Uv.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function ln(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var f=e,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 5:ct=S.stateNode,sn=!1;break e;case 3:ct=S.stateNode.containerInfo,sn=!0;break e;case 4:ct=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(ct===null)throw Error(o(160));$h(f,g,d),ct=null,sn=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(O){Ke(d,n,O)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Yh(n,e),n=n.sibling}function Yh(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(n,e),mn(e),l&4){try{_o(3,e,e.return),Ys(3,e)}catch(b){Ke(e,e.return,b)}try{_o(5,e,e.return)}catch(b){Ke(e,e.return,b)}}break;case 1:ln(n,e),mn(e),l&512&&i!==null&&pi(i,i.return);break;case 5:if(ln(n,e),mn(e),l&512&&i!==null&&pi(i,i.return),e.flags&32){var d=e.stateNode;try{Wi(d,"")}catch(b){Ke(e,e.return,b)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,S=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&Sr(d,f),ua(S,g);var O=ua(S,f);for(g=0;g<A.length;g+=2){var F=A[g],L=A[g+1];F==="style"?Cd(d,L):F==="dangerouslySetInnerHTML"?Ed(d,L):F==="children"?Wi(d,L):x(d,F,L,O)}switch(S){case"input":En(d,f);break;case"textarea":Id(d,f);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?zn(d,!!f.multiple,Y,!1):U!==!!f.multiple&&(f.defaultValue!=null?zn(d,!!f.multiple,f.defaultValue,!0):zn(d,!!f.multiple,f.multiple?[]:"",!1))}d[co]=f}catch(b){Ke(e,e.return,b)}}break;case 6:if(ln(n,e),mn(e),l&4){if(e.stateNode===null)throw Error(o(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(b){Ke(e,e.return,b)}}break;case 3:if(ln(n,e),mn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Ji(n.containerInfo)}catch(b){Ke(e,e.return,b)}break;case 4:ln(n,e),mn(e);break;case 13:ln(n,e),mn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Fu=Xe())),l&4&&jh(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(yt=(O=yt)||F,ln(n,e),yt=O):ln(n,e),mn(e),l&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!F&&(e.mode&1)!==0)for(K=e,F=e.child;F!==null;){for(L=K=F;K!==null;){switch(U=K,Y=U.child,U.tag){case 0:case 11:case 14:case 15:_o(4,U,U.return);break;case 1:pi(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){l=U,i=U.return;try{n=l,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(b){Ke(l,i,b)}}break;case 5:pi(U,U.return);break;case 22:if(U.memoizedState!==null){Xh(L);continue}}Y!==null?(Y.return=U,K=Y):Xh(L)}F=F.sibling}e:for(F=null,L=e;;){if(L.tag===5){if(F===null){F=L;try{d=L.stateNode,O?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=L.stateNode,A=L.memoizedProps.style,g=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=wd("display",g))}catch(b){Ke(e,e.return,b)}}}else if(L.tag===6){if(F===null)try{L.stateNode.nodeValue=O?"":L.memoizedProps}catch(b){Ke(e,e.return,b)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;F===L&&(F=null),L=L.return}F===L&&(F=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:ln(n,e),mn(e),l&4&&jh(e);break;case 21:break;default:ln(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(zh(i)){var l=i;break e}i=i.return}throw Error(o(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Wi(d,""),l.flags&=-33);var f=Wh(e);Du(e,f,d);break;case 3:case 4:var g=l.stateNode.containerInfo,S=Wh(e);ku(e,S,g);break;default:throw Error(o(161))}}catch(A){Ke(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wv(e,n,i){K=e,Vh(e)}function Vh(e,n,i){for(var l=(e.mode&1)!==0;K!==null;){var d=K,f=d.child;if(d.tag===22&&l){var g=d.memoizedState!==null||js;if(!g){var S=d.alternate,A=S!==null&&S.memoizedState!==null||yt;S=js;var O=yt;if(js=g,(yt=A)&&!O)for(K=d;K!==null;)g=K,A=g.child,g.tag===22&&g.memoizedState!==null?Qh(d):A!==null?(A.return=g,K=A):Qh(d);for(;f!==null;)K=f,Vh(f),f=f.sibling;K=d,js=S,yt=O}Kh(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,K=f):Kh(e)}}function Kh(e){for(;K!==null;){var n=K;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:yt||Ys(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!yt)if(i===null)l.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:on(n.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Xf(n,f,l);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Xf(n,g,i)}break;case 5:var S=n.stateNode;if(i===null&&n.flags&4){i=S;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var O=n.alternate;if(O!==null){var F=O.memoizedState;if(F!==null){var L=F.dehydrated;L!==null&&Ji(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}yt||n.flags&512&&Ou(n)}catch(U){Ke(n,n.return,U)}}if(n===e){K=null;break}if(i=n.sibling,i!==null){i.return=n.return,K=i;break}K=n.return}}function Xh(e){for(;K!==null;){var n=K;if(n===e){K=null;break}var i=n.sibling;if(i!==null){i.return=n.return,K=i;break}K=n.return}}function Qh(e){for(;K!==null;){var n=K;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ys(4,n)}catch(A){Ke(n,i,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(A){Ke(n,d,A)}}var f=n.return;try{Ou(n)}catch(A){Ke(n,f,A)}break;case 5:var g=n.return;try{Ou(n)}catch(A){Ke(n,g,A)}}}catch(A){Ke(n,n.return,A)}if(n===e){K=null;break}var S=n.sibling;if(S!==null){S.return=n.return,K=S;break}K=n.return}}var Cv=Math.ceil,Vs=$.ReactCurrentDispatcher,Uu=$.ReactCurrentOwner,Vt=$.ReactCurrentBatchConfig,we=0,ot=null,qe=null,dt=0,Lt=0,gi=Qn(0),nt=0,To=null,Pr=0,Ks=0,Mu=0,Eo=null,Nt=null,Fu=0,mi=1/0,Dn=null,Xs=!1,Lu=null,tr=null,Qs=!1,nr=null,bs=0,wo=0,Bu=null,Zs=-1,qs=0;function _t(){return(we&6)!==0?Xe():Zs!==-1?Zs:Zs=Xe()}function rr(e){return(e.mode&1)===0?1:(we&2)!==0&&dt!==0?dt&-dt:uv.transition!==null?(qs===0&&(qs=zd()),qs):(e=Me,e!==0||(e=window.event,e=e===void 0?16:bd(e.type)),e)}function an(e,n,i,l){if(50<wo)throw wo=0,Bu=null,Error(o(185));Xi(e,i,l),((we&2)===0||e!==ot)&&(e===ot&&((we&2)===0&&(Ks|=i),nt===4&&ir(e,dt)),Pt(e,l),i===1&&we===0&&(n.mode&1)===0&&(mi=Xe()+500,Cs&&Zn()))}function Pt(e,n){var i=e.callbackNode;u0(e,n);var l=ls(e,e===ot?dt:0);if(l===0)i!==null&&Hd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&Hd(i),n===1)e.tag===0?av(Zh.bind(null,e)):Lf(Zh.bind(null,e)),iv(function(){(we&6)===0&&Zn()}),i=null;else{switch(Wd(l)){case 1:i=ma;break;case 4:i=xd;break;case 16:i=rs;break;case 536870912:i=Gd;break;default:i=rs}i=op(i,bh.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function bh(e,n){if(Zs=-1,qs=0,(we&6)!==0)throw Error(o(327));var i=e.callbackNode;if(vi()&&e.callbackNode!==i)return null;var l=ls(e,e===ot?dt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Js(e,l);else{n=l;var d=we;we|=2;var f=Jh();(ot!==e||dt!==n)&&(Dn=null,mi=Xe()+500,kr(e,n));do try{Pv();break}catch(S){qh(e,S)}while(!0);tu(),Vs.current=f,we=d,qe!==null?n=0:(ot=null,dt=0,n=nt)}if(n!==0){if(n===2&&(d=va(e),d!==0&&(l=d,n=Hu(e,d))),n===1)throw i=To,kr(e,0),ir(e,l),Pt(e,Xe()),i;if(n===6)ir(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Rv(d)&&(n=Js(e,l),n===2&&(f=va(e),f!==0&&(l=f,n=Hu(e,f))),n===1))throw i=To,kr(e,0),ir(e,l),Pt(e,Xe()),i;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(o(345));case 2:Dr(e,Nt,Dn);break;case 3:if(ir(e,l),(l&130023424)===l&&(n=Fu+500-Xe(),10<n)){if(ls(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){_t(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ja(Dr.bind(null,e,Nt,Dn),n);break}Dr(e,Nt,Dn);break;case 4:if(ir(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var g=31-tn(l);f=1<<g,g=n[g],g>d&&(d=g),l&=~f}if(l=d,l=Xe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Cv(l/1960))-l,10<l){e.timeoutHandle=ja(Dr.bind(null,e,Nt,Dn),l);break}Dr(e,Nt,Dn);break;case 5:Dr(e,Nt,Dn);break;default:throw Error(o(329))}}}return Pt(e,Xe()),e.callbackNode===i?bh.bind(null,e):null}function Hu(e,n){var i=Eo;return e.current.memoizedState.isDehydrated&&(kr(e,n).flags|=256),e=Js(e,n),e!==2&&(n=Nt,Nt=i,n!==null&&xu(n)),e}function xu(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function Rv(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!nn(f(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(e,n){for(n&=~Mu,n&=~Ks,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-tn(n),l=1<<i;e[i]=-1,n&=~l}}function Zh(e){if((we&6)!==0)throw Error(o(327));vi();var n=ls(e,0);if((n&1)===0)return Pt(e,Xe()),null;var i=Js(e,n);if(e.tag!==0&&i===2){var l=va(e);l!==0&&(n=l,i=Hu(e,l))}if(i===1)throw i=To,kr(e,0),ir(e,n),Pt(e,Xe()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Dr(e,Nt,Dn),Pt(e,Xe()),null}function Gu(e,n){var i=we;we|=1;try{return e(n)}finally{we=i,we===0&&(mi=Xe()+500,Cs&&Zn())}}function Or(e){nr!==null&&nr.tag===0&&(we&6)===0&&vi();var n=we;we|=1;var i=Vt.transition,l=Me;try{if(Vt.transition=null,Me=1,e)return e()}finally{Me=l,Vt.transition=i,we=n,(we&6)===0&&Zn()}}function zu(){Lt=gi.current,Ge(gi)}function kr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,rv(i)),qe!==null)for(i=qe.return;i!==null;){var l=i;switch(ba(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Es();break;case 3:fi(),Ge(wt),Ge(gt),uu();break;case 5:lu(l);break;case 4:fi();break;case 13:Ge(je);break;case 19:Ge(je);break;case 10:nu(l.type._context);break;case 22:case 23:zu()}i=i.return}if(ot=e,qe=e=or(e.current,null),dt=Lt=n,nt=0,To=null,Mu=Ks=Pr=0,Nt=Eo=null,Cr!==null){for(n=0;n<Cr.length;n++)if(i=Cr[n],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,l.next=g}i.pending=l}Cr=null}return e}function qh(e,n){do{var i=qe;try{if(tu(),Ls.current=Gs,Bs){for(var l=Ye.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Bs=!1}if(Nr=0,it=tt=Ye=null,vo=!1,yo=0,Uu.current=null,i===null||i.return===null){nt=1,To=n,qe=null;break}e:{var f=e,g=i.return,S=i,A=n;if(n=dt,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var O=A,F=S,L=F.tag;if((F.mode&1)===0&&(L===0||L===11||L===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var Y=Th(g);if(Y!==null){Y.flags&=-257,Eh(Y,g,S,f,n),Y.mode&1&&_h(f,O,n),n=Y,A=O;var Q=n.updateQueue;if(Q===null){var b=new Set;b.add(A),n.updateQueue=b}else Q.add(A);break e}else{if((n&1)===0){_h(f,O,n),Wu();break e}A=Error(o(426))}}else if(We&&S.mode&1){var Qe=Th(g);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),Eh(Qe,g,S,f,n),Ja(hi(A,S));break e}}f=A=hi(A,S),nt!==4&&(nt=2),Eo===null?Eo=[f]:Eo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var C=Ah(f,A,n);Kf(f,C);break e;case 1:S=A;var _=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(tr===null||!tr.has(R)))){f.flags|=65536,n&=-n,f.lanes|=n;var H=Ih(f,S,n);Kf(f,H);break e}}f=f.return}while(f!==null)}tp(i)}catch(Z){n=Z,qe===i&&i!==null&&(qe=i=i.return);continue}break}while(!0)}function Jh(){var e=Vs.current;return Vs.current=Gs,e===null?Gs:e}function Wu(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||(Pr&268435455)===0&&(Ks&268435455)===0||ir(ot,dt)}function Js(e,n){var i=we;we|=2;var l=Jh();(ot!==e||dt!==n)&&(Dn=null,kr(e,n));do try{Nv();break}catch(d){qh(e,d)}while(!0);if(tu(),we=i,Vs.current=l,qe!==null)throw Error(o(261));return ot=null,dt=0,nt}function Nv(){for(;qe!==null;)ep(qe)}function Pv(){for(;qe!==null&&!e0();)ep(qe)}function ep(e){var n=ip(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,n===null?tp(e):qe=n,Uu.current=null}function tp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=Iv(i,n,Lt),i!==null){qe=i;return}}else{if(i=_v(i,n),i!==null){i.flags&=32767,qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,qe=null;return}}if(n=n.sibling,n!==null){qe=n;return}qe=n=e}while(n!==null);nt===0&&(nt=5)}function Dr(e,n,i){var l=Me,d=Vt.transition;try{Vt.transition=null,Me=1,Ov(e,n,i,l)}finally{Vt.transition=d,Me=l}return null}function Ov(e,n,i,l){do vi();while(nr!==null);if((we&6)!==0)throw Error(o(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(c0(e,f),e===ot&&(qe=ot=null,dt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Qs||(Qs=!0,op(rs,function(){return vi(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Vt.transition,Vt.transition=null;var g=Me;Me=1;var S=we;we|=4,Uu.current=null,Ev(e,i),Yh(i,e),b0(Wa),cs=!!za,Wa=za=null,e.current=i,wv(i),t0(),we=S,Me=g,Vt.transition=f}else e.current=i;if(Qs&&(Qs=!1,nr=e,bs=d),f=e.pendingLanes,f===0&&(tr=null),i0(i.stateNode),Pt(e,Xe()),n!==null)for(l=e.onRecoverableError,i=0;i<n.length;i++)d=n[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(Xs)throw Xs=!1,e=Lu,Lu=null,e;return(bs&1)!==0&&e.tag!==0&&vi(),f=e.pendingLanes,(f&1)!==0?e===Bu?wo++:(wo=0,Bu=e):wo=0,Zn(),null}function vi(){if(nr!==null){var e=Wd(bs),n=Vt.transition,i=Me;try{if(Vt.transition=null,Me=16>e?16:e,nr===null)var l=!1;else{if(e=nr,nr=null,bs=0,(we&6)!==0)throw Error(o(331));var d=we;for(we|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var S=f.deletions;if(S!==null){for(var A=0;A<S.length;A++){var O=S[A];for(K=O;K!==null;){var F=K;switch(F.tag){case 0:case 11:case 15:_o(8,F,f)}var L=F.child;if(L!==null)L.return=F,K=L;else for(;K!==null;){F=K;var U=F.sibling,Y=F.return;if(Gh(F),F===O){K=null;break}if(U!==null){U.return=Y,K=U;break}K=Y}}}var Q=f.alternate;if(Q!==null){var b=Q.child;if(b!==null){Q.child=null;do{var Qe=b.sibling;b.sibling=null,b=Qe}while(b!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:_o(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,K=C;break e}K=f.return}}var _=e.current;for(K=_;K!==null;){g=K;var R=g.child;if((g.subtreeFlags&2064)!==0&&R!==null)R.return=g,K=R;else e:for(g=_;K!==null;){if(S=K,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Ys(9,S)}}catch(Z){Ke(S,S.return,Z)}if(S===g){K=null;break e}var H=S.sibling;if(H!==null){H.return=S.return,K=H;break e}K=S.return}}if(we=d,Zn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(is,e)}catch{}l=!0}return l}finally{Me=i,Vt.transition=n}}return!1}function np(e,n,i){n=hi(i,n),n=Ah(e,n,1),e=Jn(e,n,1),n=_t(),e!==null&&(Xi(e,1,n),Pt(e,n))}function Ke(e,n,i){if(e.tag===3)np(e,e,i);else for(;n!==null;){if(n.tag===3){np(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){e=hi(i,e),e=Ih(n,e,1),n=Jn(n,e,1),e=_t(),n!==null&&(Xi(n,1,e),Pt(n,e));break}}n=n.return}}function kv(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=_t(),e.pingedLanes|=e.suspendedLanes&i,ot===e&&(dt&i)===i&&(nt===4||nt===3&&(dt&130023424)===dt&&500>Xe()-Fu?kr(e,0):Mu|=i),Pt(e,n)}function rp(e,n){n===0&&((e.mode&1)===0?n=1:(n=ss,ss<<=1,(ss&130023424)===0&&(ss=4194304)));var i=_t();e=Pn(e,n),e!==null&&(Xi(e,n,i),Pt(e,i))}function Dv(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),rp(e,i)}function Uv(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(n),rp(e,i)}var ip;ip=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||wt.current)Rt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Rt=!1,Av(e,n,i);Rt=(e.flags&131072)!==0}else Rt=!1,We&&(n.flags&1048576)!==0&&Bf(n,Ns,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;$s(e,n),e=n.pendingProps;var d=oi(n,gt.current);di(n,i),d=fu(null,n,l,e,d,i);var f=hu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ct(l)?(f=!0,ws(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ou(n),d.updater=zs,n.stateNode=d,d._reactInternals=n,Su(n,l,e,i),n=Tu(null,n,l,!0,f,i)):(n.tag=0,We&&f&&Qa(n),It(null,n,d,i),n=n.child),n;case 16:l=n.elementType;e:{switch($s(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=Fv(l),e=on(l,e),d){case 0:n=_u(null,n,l,e,i);break e;case 1:n=Oh(null,n,l,e,i);break e;case 11:n=wh(null,n,l,e,i);break e;case 14:n=Ch(null,n,l,on(l.type,e),i);break e}throw Error(o(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:on(l,d),_u(e,n,l,d,i);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:on(l,d),Oh(e,n,l,d,i);case 3:e:{if(kh(n),e===null)throw Error(o(387));l=n.pendingProps,f=n.memoizedState,d=f.element,Vf(e,n),Ms(n,l,null,i);var g=n.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=hi(Error(o(423)),n),n=Dh(e,n,l,i,d);break e}else if(l!==d){d=hi(Error(o(424)),n),n=Dh(e,n,l,i,d);break e}else for(Ft=Xn(n.stateNode.containerInfo.firstChild),Mt=n,We=!0,rn=null,i=jf(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ai(),l===d){n=kn(e,n,i);break e}It(e,n,l,i)}n=n.child}return n;case 5:return Qf(n),e===null&&qa(n),l=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,$a(l,d)?g=null:f!==null&&$a(l,f)&&(n.flags|=32),Ph(e,n),It(e,n,g,i),n.child;case 6:return e===null&&qa(n),null;case 13:return Uh(e,n,i);case 4:return su(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ui(n,null,l,i):It(e,n,l,i),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:on(l,d),wh(e,n,l,d,i);case 7:return It(e,n,n.pendingProps,i),n.child;case 8:return It(e,n,n.pendingProps.children,i),n.child;case 12:return It(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,f=n.memoizedProps,g=d.value,He(ks,l._currentValue),l._currentValue=g,f!==null)if(nn(f.value,g)){if(f.children===d.children&&!wt.current){n=kn(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var S=f.dependencies;if(S!==null){g=f.child;for(var A=S.firstContext;A!==null;){if(A.context===l){if(f.tag===1){A=On(-1,i&-i),A.tag=2;var O=f.updateQueue;if(O!==null){O=O.shared;var F=O.pending;F===null?A.next=A:(A.next=F.next,F.next=A),O.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),ru(f.return,i,n),S.lanes|=i;break}A=A.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),ru(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}It(e,n,d.children,i),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,di(n,i),d=jt(d),l=l(d),n.flags|=1,It(e,n,l,i),n.child;case 14:return l=n.type,d=on(l,n.pendingProps),d=on(l.type,d),Ch(e,n,l,d,i);case 15:return Rh(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:on(l,d),$s(e,n),n.tag=1,Ct(l)?(e=!0,ws(n)):e=!1,di(n,i),yh(n,l,d),Su(n,l,d,i),Tu(null,n,l,!0,e,i);case 19:return Fh(e,n,i);case 22:return Nh(e,n,i)}throw Error(o(156,n.tag))};function op(e,n){return Bd(e,n)}function Mv(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,n,i,l){return new Mv(e,n,i,l)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fv(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===Ne)return 14}return 2}function or(e,n){var i=e.alternate;return i===null?(i=Kt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function el(e,n,i,l,d,f){var g=2;if(l=e,typeof e=="function")$u(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case j:return Ur(i.children,d,f,n);case pe:g=8,d|=8;break;case Re:return e=Kt(12,i,n,d|2),e.elementType=Re,e.lanes=f,e;case Le:return e=Kt(13,i,n,d),e.elementType=Le,e.lanes=f,e;case ye:return e=Kt(19,i,n,d),e.elementType=ye,e.lanes=f,e;case ie:return tl(i,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ue:g=10;break e;case Ve:g=9;break e;case Be:g=11;break e;case Ne:g=14;break e;case ge:g=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Kt(g,i,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function Ur(e,n,i,l){return e=Kt(7,e,l,n),e.lanes=i,e}function tl(e,n,i,l){return e=Kt(22,e,l,n),e.elementType=ie,e.lanes=i,e.stateNode={isHidden:!1},e}function ju(e,n,i){return e=Kt(6,e,null,n),e.lanes=i,e}function Yu(e,n,i){return n=Kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Lv(e,n,i,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Vu(e,n,i,l,d,f,g,S,A){return e=new Lv(e,n,i,S,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Kt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ou(f),e}function Bv(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}}function sp(e){if(!e)return bn;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ct(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Ct(i))return Mf(e,i,n)}return n}function lp(e,n,i,l,d,f,g,S,A){return e=Vu(i,l,!0,e,d,f,g,S,A),e.context=sp(null),i=e.current,l=_t(),d=rr(i),f=On(l,d),f.callback=n??null,Jn(i,f,d),e.current.lanes=d,Xi(e,d,l),Pt(e,l),e}function nl(e,n,i,l){var d=n.current,f=_t(),g=rr(d);return i=sp(i),n.context===null?n.context=i:n.pendingContext=i,n=On(f,g),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Jn(d,n,g),e!==null&&(an(e,d,g,f),Us(e,d,g)),g}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ap(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Ku(e,n){ap(e,n),(e=e.alternate)&&ap(e,n)}function Hv(){return null}var up=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}il.prototype.render=Xu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));nl(e,n,null,null)},il.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Or(function(){nl(null,e,null,null)}),n[wn]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Yn.length&&n!==0&&n<Yn[i].priority;i++);Yn.splice(i,0,e),i===0&&Xd(e)}};function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cp(){}function xv(e,n,i,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var O=rl(g);f.call(O)}}var g=lp(n,l,e,0,null,!1,!1,"",cp);return e._reactRootContainer=g,e[wn]=g.current,ao(e.nodeType===8?e.parentNode:e),Or(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var S=l;l=function(){var O=rl(A);S.call(O)}}var A=Vu(e,0,!1,null,null,!1,!1,"",cp);return e._reactRootContainer=A,e[wn]=A.current,ao(e.nodeType===8?e.parentNode:e),Or(function(){nl(n,A,i,l)}),A}function sl(e,n,i,l,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var S=d;d=function(){var A=rl(g);S.call(A)}}nl(n,g,e,d)}else g=xv(i,n,e,d,l);return rl(g)}$d=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ki(n.pendingLanes);i!==0&&(Sa(n,i|1),Pt(n,Xe()),(we&6)===0&&(mi=Xe()+500,Zn()))}break;case 13:Or(function(){var l=Pn(e,1);if(l!==null){var d=_t();an(l,e,1,d)}}),Ku(e,1)}},Aa=function(e){if(e.tag===13){var n=Pn(e,134217728);if(n!==null){var i=_t();an(n,e,134217728,i)}Ku(e,134217728)}},jd=function(e){if(e.tag===13){var n=rr(e),i=Pn(e,n);if(i!==null){var l=_t();an(i,e,n,l)}Ku(e,n)}},Yd=function(){return Me},Vd=function(e,n){var i=Me;try{return Me=e,n()}finally{Me=i}},fa=function(e,n,i){switch(n){case"input":if(En(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=Ts(l);if(!d)throw Error(o(90));ae(l),En(l,d)}}}break;case"textarea":Id(e,i);break;case"select":n=i.value,n!=null&&zn(e,!!i.multiple,n,!1)}},Od=Gu,kd=Or;var Gv={usingClientEntryPoint:!1,Events:[fo,ri,Ts,Nd,Pd,Gu]},Co={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zv={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fd(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{is=ll.inject(zv),fn=ll}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gv,Ot.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(n))throw Error(o(200));return Bv(e,n,null,i)},Ot.createRoot=function(e,n){if(!Qu(e))throw Error(o(299));var i=!1,l="",d=up;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Vu(e,1,!1,null,null,i,!1,l,d),e[wn]=n.current,ao(e.nodeType===8?e.parentNode:e),new Xu(n)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Fd(n),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return Or(e)},Ot.hydrate=function(e,n,i){if(!ol(n))throw Error(o(200));return sl(null,e,n,!0,i)},Ot.hydrateRoot=function(e,n,i){if(!Qu(e))throw Error(o(405));var l=i!=null&&i.hydratedSources||null,d=!1,f="",g=up;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=lp(n,null,e,1,i??null,d,!1,f,g),e[wn]=n.current,ao(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new il(n)},Ot.render=function(e,n,i){if(!ol(n))throw Error(o(200));return sl(null,e,n,!1,i)},Ot.unmountComponentAtNode=function(e){if(!ol(e))throw Error(o(40));return e._reactRootContainer?(Or(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Ot.unstable_batchedUpdates=Gu,Ot.unstable_renderSubtreeIntoContainer=function(e,n,i,l){if(!ol(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return sl(e,n,i,!1,l)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var yp;function Zv(){if(yp)return qu.exports;yp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),qu.exports=bv(),qu.exports}var Sp;function qv(){if(Sp)return al;Sp=1;var t=Zv();return al.createRoot=t.createRoot,al.hydrateRoot=t.hydrateRoot,al}var Jv=qv();const ey=kg(Jv),Dg=Ae.createContext(void 0),ty=({initialAppState:t,children:r})=>{const[o,s]=Ae.useState(t),[u,a]=Ae.useState(void 0),c=(h,p)=>{s(h),h==="gameOver"&&p?a(p):h!=="gameOver"&&a(void 0)};return Te.jsx(Dg.Provider,{value:{appState:o,setAppState:c,gameOverDetails:u},children:r})},Yl=()=>{const t=Ae.useContext(Dg);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var At=function(){return At=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},At.apply(this,arguments)};function zo(t,r,o){if(o||arguments.length===2)for(var s=0,u=r.length,a;s<u;s++)(a||!(s in r))&&(a||(a=Array.prototype.slice.call(r,0,s)),a[s]=r[s]);return t.concat(a||Array.prototype.slice.call(r))}var ze="-ms-",Lo="-moz-",ke="-webkit-",Ug="comm",Vl="rule",$c="decl",ny="@import",Mg="@keyframes",ry="@layer",Fg=Math.abs,jc=String.fromCharCode,wc=Object.assign;function iy(t,r){return lt(t,0)^45?(((r<<2^lt(t,0))<<2^lt(t,1))<<2^lt(t,2))<<2^lt(t,3):0}function Lg(t){return t.trim()}function Ln(t,r){return(t=r.exec(t))?t[0]:t}function ve(t,r,o){return t.replace(r,o)}function Ol(t,r,o){return t.indexOf(r,o)}function lt(t,r){return t.charCodeAt(r)|0}function Oi(t,r,o){return t.slice(r,o)}function Sn(t){return t.length}function Bg(t){return t.length}function Uo(t,r){return r.push(t),t}function oy(t,r){return t.map(r).join("")}function Ap(t,r){return t.filter(function(o){return!Ln(o,r)})}var Kl=1,ki=1,Hg=0,Jt=0,Je=0,Gi="";function Xl(t,r,o,s,u,a,c,h){return{value:t,root:r,parent:o,type:s,props:u,children:a,line:Kl,column:ki,length:c,return:"",siblings:h}}function dr(t,r){return wc(Xl("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function yi(t){for(;t.root;)t=dr(t.root,{children:[t]});Uo(t,t.siblings)}function sy(){return Je}function ly(){return Je=Jt>0?lt(Gi,--Jt):0,ki--,Je===10&&(ki=1,Kl--),Je}function cn(){return Je=Jt<Hg?lt(Gi,Jt++):0,ki++,Je===10&&(ki=1,Kl++),Je}function $r(){return lt(Gi,Jt)}function kl(){return Jt}function Ql(t,r){return Oi(Gi,t,r)}function Cc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ay(t){return Kl=ki=1,Hg=Sn(Gi=t),Jt=0,[]}function uy(t){return Gi="",t}function tc(t){return Lg(Ql(Jt-1,Rc(t===91?t+2:t===40?t+1:t)))}function cy(t){for(;(Je=$r())&&Je<33;)cn();return Cc(t)>2||Cc(Je)>3?"":" "}function dy(t,r){for(;--r&&cn()&&!(Je<48||Je>102||Je>57&&Je<65||Je>70&&Je<97););return Ql(t,kl()+(r<6&&$r()==32&&cn()==32))}function Rc(t){for(;cn();)switch(Je){case t:return Jt;case 34:case 39:t!==34&&t!==39&&Rc(Je);break;case 40:t===41&&Rc(t);break;case 92:cn();break}return Jt}function fy(t,r){for(;cn()&&t+Je!==57;)if(t+Je===84&&$r()===47)break;return"/*"+Ql(r,Jt-1)+"*"+jc(t===47?t:cn())}function hy(t){for(;!Cc($r());)cn();return Ql(t,Jt)}function py(t){return uy(Dl("",null,null,null,[""],t=ay(t),0,[0],t))}function Dl(t,r,o,s,u,a,c,h,p){for(var v=0,m=0,y=c,I=0,E=0,k=0,P=1,w=1,W=1,B=0,x="",$=u,ue=a,M=s,j=x;w;)switch(k=B,B=cn()){case 40:if(k!=108&&lt(j,y-1)==58){Ol(j+=ve(tc(B),"&","&\f"),"&\f",Fg(v?h[v-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:j+=tc(B);break;case 9:case 10:case 13:case 32:j+=cy(k);break;case 92:j+=dy(kl()-1,7);continue;case 47:switch($r()){case 42:case 47:Uo(gy(fy(cn(),kl()),r,o,p),p);break;default:j+="/"}break;case 123*P:h[v++]=Sn(j)*W;case 125*P:case 59:case 0:switch(B){case 0:case 125:w=0;case 59+m:W==-1&&(j=ve(j,/\f/g,"")),E>0&&Sn(j)-y&&Uo(E>32?_p(j+";",s,o,y-1,p):_p(ve(j," ","")+";",s,o,y-2,p),p);break;case 59:j+=";";default:if(Uo(M=Ip(j,r,o,v,m,u,h,x,$=[],ue=[],y,a),a),B===123)if(m===0)Dl(j,r,M,M,$,a,y,h,ue);else switch(I===99&&lt(j,3)===110?100:I){case 100:case 108:case 109:case 115:Dl(t,M,M,s&&Uo(Ip(t,M,M,0,0,u,h,x,u,$=[],y,ue),ue),u,ue,y,h,s?$:ue);break;default:Dl(j,M,M,M,[""],ue,0,h,ue)}}v=m=E=0,P=W=1,x=j="",y=c;break;case 58:y=1+Sn(j),E=k;default:if(P<1){if(B==123)--P;else if(B==125&&P++==0&&ly()==125)continue}switch(j+=jc(B),B*P){case 38:W=m>0?1:(j+="\f",-1);break;case 44:h[v++]=(Sn(j)-1)*W,W=1;break;case 64:$r()===45&&(j+=tc(cn())),I=$r(),m=y=Sn(x=j+=hy(kl())),B++;break;case 45:k===45&&Sn(j)==2&&(P=0)}}return a}function Ip(t,r,o,s,u,a,c,h,p,v,m,y){for(var I=u-1,E=u===0?a:[""],k=Bg(E),P=0,w=0,W=0;P<s;++P)for(var B=0,x=Oi(t,I+1,I=Fg(w=c[P])),$=t;B<k;++B)($=Lg(w>0?E[B]+" "+x:ve(x,/&\f/g,E[B])))&&(p[W++]=$);return Xl(t,r,o,u===0?Vl:h,p,v,m,y)}function gy(t,r,o,s){return Xl(t,r,o,Ug,jc(sy()),Oi(t,2,-2),0,s)}function _p(t,r,o,s,u){return Xl(t,r,o,$c,Oi(t,0,s),Oi(t,s+1,-1),s,u)}function xg(t,r,o){switch(iy(t,r)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 4789:return Lo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Lo+t+ze+t+t;case 5936:switch(lt(t,r+11)){case 114:return ke+t+ze+ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+ze+ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+ze+ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ke+t+ze+t+t;case 6165:return ke+t+ze+"flex-"+t+t;case 5187:return ke+t+ve(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+ze+"flex-$1$2")+t;case 5443:return ke+t+ze+"flex-item-"+ve(t,/flex-|-self/g,"")+(Ln(t,/flex-|baseline/)?"":ze+"grid-row-"+ve(t,/flex-|-self/g,""))+t;case 4675:return ke+t+ze+"flex-line-pack"+ve(t,/align-content|flex-|-self/g,"")+t;case 5548:return ke+t+ze+ve(t,"shrink","negative")+t;case 5292:return ke+t+ze+ve(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+ve(t,"-grow","")+ke+t+ze+ve(t,"grow","positive")+t;case 4554:return ke+ve(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return ve(ve(ve(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return ve(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return ve(ve(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+ze+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4200:if(!Ln(t,/flex-|baseline/))return ze+"grid-column-align"+Oi(t,r)+t;break;case 2592:case 3360:return ze+ve(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(s,u){return r=u,Ln(s.props,/grid-\w+-end/)})?~Ol(t+(o=o[r].value),"span",0)?t:ze+ve(t,"-start","")+t+ze+"grid-row-span:"+(~Ol(o,"span",0)?Ln(o,/\d+/):+Ln(o,/\d+/)-+Ln(t,/\d+/))+";":ze+ve(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(s){return Ln(s.props,/grid-\w+-start/)})?t:ze+ve(ve(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ve(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sn(t)-1-r>6)switch(lt(t,r+1)){case 109:if(lt(t,r+4)!==45)break;case 102:return ve(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Lo+(lt(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Ol(t,"stretch",0)?xg(ve(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return ve(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,u,a,c,h,p,v){return ze+u+":"+a+v+(c?ze+u+"-span:"+(h?p:+p-+a)+v:"")+t});case 4949:if(lt(t,r+6)===121)return ve(t,":",":"+ke)+t;break;case 6444:switch(lt(t,lt(t,14)===45?18:11)){case 120:return ve(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ke+(lt(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+ze+"$2box$3")+t;case 100:return ve(t,":",":"+ze)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ve(t,"scroll-","scroll-snap-")+t}return t}function Bl(t,r){for(var o="",s=0;s<t.length;s++)o+=r(t[s],s,t,r)||"";return o}function my(t,r,o,s){switch(t.type){case ry:if(t.children.length)break;case ny:case $c:return t.return=t.return||t.value;case Ug:return"";case Mg:return t.return=t.value+"{"+Bl(t.children,s)+"}";case Vl:if(!Sn(t.value=t.props.join(",")))return""}return Sn(o=Bl(t.children,s))?t.return=t.value+"{"+o+"}":""}function vy(t){var r=Bg(t);return function(o,s,u,a){for(var c="",h=0;h<r;h++)c+=t[h](o,s,u,a)||"";return c}}function yy(t){return function(r){r.root||(r=r.return)&&t(r)}}function Sy(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case $c:t.return=xg(t.value,t.length,o);return;case Mg:return Bl([dr(t,{value:ve(t.value,"@","@"+ke)})],s);case Vl:if(t.length)return oy(o=t.props,function(u){switch(Ln(u,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":yi(dr(t,{props:[ve(u,/:(read-\w+)/,":"+Lo+"$1")]})),yi(dr(t,{props:[u]})),wc(t,{props:Ap(o,s)});break;case"::placeholder":yi(dr(t,{props:[ve(u,/:(plac\w+)/,":"+ke+"input-$1")]})),yi(dr(t,{props:[ve(u,/:(plac\w+)/,":"+Lo+"$1")]})),yi(dr(t,{props:[ve(u,/:(plac\w+)/,ze+"input-$1")]})),yi(dr(t,{props:[u]})),wc(t,{props:Ap(o,s)});break}return""})}}var Ay={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Di=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",Gg="active",zg="data-styled-version",bl="6.1.13",Yc=`/*!sc*/
`,Hl=typeof window<"u"&&"HTMLElement"in window,Iy=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),_y={},Zl=Object.freeze([]),Ui=Object.freeze({});function Wg(t,r,o){return o===void 0&&(o=Ui),t.theme!==o.theme&&t.theme||r||o.theme}var $g=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ty=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ey=/(^-|-$)/g;function Tp(t){return t.replace(Ty,"-").replace(Ey,"")}var wy=/(a)(d)/gi,ul=52,Ep=function(t){return String.fromCharCode(t+(t>25?39:97))};function Nc(t){var r,o="";for(r=Math.abs(t);r>ul;r=r/ul|0)o=Ep(r%ul)+o;return(Ep(r%ul)+o).replace(wy,"$1-$2")}var nc,jg=5381,wi=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},Yg=function(t){return wi(jg,t)};function Vg(t){return Nc(Yg(t)>>>0)}function Cy(t){return t.displayName||t.name||"Component"}function rc(t){return typeof t=="string"&&!0}var Kg=typeof Symbol=="function"&&Symbol.for,Xg=Kg?Symbol.for("react.memo"):60115,Ry=Kg?Symbol.for("react.forward_ref"):60112,Ny={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Py={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Oy=((nc={})[Ry]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nc[Xg]=Qg,nc);function wp(t){return("type"in(r=t)&&r.type.$$typeof)===Xg?Qg:"$$typeof"in t?Oy[t.$$typeof]:Ny;var r}var ky=Object.defineProperty,Dy=Object.getOwnPropertyNames,Cp=Object.getOwnPropertySymbols,Uy=Object.getOwnPropertyDescriptor,My=Object.getPrototypeOf,Rp=Object.prototype;function bg(t,r,o){if(typeof r!="string"){if(Rp){var s=My(r);s&&s!==Rp&&bg(t,s,o)}var u=Dy(r);Cp&&(u=u.concat(Cp(r)));for(var a=wp(t),c=wp(r),h=0;h<u.length;++h){var p=u[h];if(!(p in Py||o&&o[p]||c&&p in c||a&&p in a)){var v=Uy(r,p);try{ky(t,p,v)}catch{}}}}return t}function Mi(t){return typeof t=="function"}function Vc(t){return typeof t=="object"&&"styledComponentId"in t}function Gr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Pc(t,r){if(t.length===0)return"";for(var o=t[0],s=1;s<t.length;s++)o+=t[s];return o}function Wo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Oc(t,r,o){if(o===void 0&&(o=!1),!o&&!Wo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)t[s]=Oc(t[s],r[s]);else if(Wo(r))for(var s in r)t[s]=Oc(t[s],r[s]);return t}function Kc(t,r){Object.defineProperty(t,"toString",{value:r})}function Jo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Fy=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,u=s.length,a=u;r>=a;)if((a<<=1)<0)throw Jo(16,"".concat(r));this.groupSizes=new Uint32Array(a),this.groupSizes.set(s),this.length=a;for(var c=u;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(r+1),p=(c=0,o.length);c<p;c++)this.tag.insertRule(h,o[c])&&(this.groupSizes[r]++,h++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),u=s+o;this.groupSizes[r]=0;for(var a=s;a<u;a++)this.tag.deleteRule(s)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],u=this.indexOfGroup(r),a=u+s,c=u;c<a;c++)o+="".concat(this.tag.getRule(c)).concat(Yc);return o},t}(),Ul=new Map,xl=new Map,Ml=1,cl=function(t){if(Ul.has(t))return Ul.get(t);for(;xl.has(Ml);)Ml++;var r=Ml++;return Ul.set(t,r),xl.set(r,t),r},Ly=function(t,r){Ml=r+1,Ul.set(t,r),xl.set(r,t)},By="style[".concat(Di,"][").concat(zg,'="').concat(bl,'"]'),Hy=new RegExp("^".concat(Di,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),xy=function(t,r,o){for(var s,u=o.split(","),a=0,c=u.length;a<c;a++)(s=u[a])&&t.registerName(r,s)},Gy=function(t,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(Yc),u=[],a=0,c=s.length;a<c;a++){var h=s[a].trim();if(h){var p=h.match(Hy);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(Ly(m,v),xy(t,m,p[3]),t.getTag().insertRules(v,u)),u.length=0}else u.push(h)}}},Np=function(t){for(var r=document.querySelectorAll(By),o=0,s=r.length;o<s;o++){var u=r[o];u&&u.getAttribute(Di)!==Gg&&(Gy(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function zy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Zg=function(t){var r=document.head,o=t||r,s=document.createElement("style"),u=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Di,"]")));return p[p.length-1]}(o),a=u!==void 0?u.nextSibling:null;s.setAttribute(Di,Gg),s.setAttribute(zg,bl);var c=zy();return c&&s.setAttribute("nonce",c),o.insertBefore(s,a),s},Wy=function(){function t(r){this.element=Zg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,u=0,a=s.length;u<a;u++){var c=s[u];if(c.ownerNode===o)return c}throw Jo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),$y=function(){function t(r){this.element=Zg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),jy=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),Pp=Hl,Yy={isServer:!Hl,useCSSOMInjection:!Iy},Gl=function(){function t(r,o,s){r===void 0&&(r=Ui),o===void 0&&(o={});var u=this;this.options=At(At({},Yy),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&Hl&&Pp&&(Pp=!1,Np(this)),Kc(this,function(){return function(a){for(var c=a.getTag(),h=c.length,p="",v=function(y){var I=function(W){return xl.get(W)}(y);if(I===void 0)return"continue";var E=a.names.get(I),k=c.getGroup(y);if(E===void 0||!E.size||k.length===0)return"continue";var P="".concat(Di,".g").concat(y,'[id="').concat(I,'"]'),w="";E!==void 0&&E.forEach(function(W){W.length>0&&(w+="".concat(W,","))}),p+="".concat(k).concat(P,'{content:"').concat(w,'"}').concat(Yc)},m=0;m<h;m++)v(m);return p}(u)})}return t.registerId=function(r){return cl(r)},t.prototype.rehydrate=function(){!this.server&&Hl&&Np(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(At(At({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,u=o.target;return o.isServer?new jy(u):s?new Wy(u):new $y(u)}(this.options),new Fy(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(cl(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},t.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(cl(r),s)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(cl(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Vy=/&/g,Ky=/^\s*\/\/.*$/gm;function qg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=qg(o.children,r)),o})}function Xy(t){var r,o,s,u=Ui,a=u.options,c=a===void 0?Ui:a,h=u.plugins,p=h===void 0?Zl:h,v=function(I,E,k){return k.startsWith(o)&&k.endsWith(o)&&k.replaceAll(o,"").length>0?".".concat(r):I},m=p.slice();m.push(function(I){I.type===Vl&&I.value.includes("&")&&(I.props[0]=I.props[0].replace(Vy,o).replace(s,v))}),c.prefix&&m.push(Sy),m.push(my);var y=function(I,E,k,P){E===void 0&&(E=""),k===void 0&&(k=""),P===void 0&&(P="&"),r=P,o=E,s=new RegExp("\\".concat(o,"\\b"),"g");var w=I.replace(Ky,""),W=py(k||E?"".concat(k," ").concat(E," { ").concat(w," }"):w);c.namespace&&(W=qg(W,c.namespace));var B=[];return Bl(W,vy(m.concat(yy(function(x){return B.push(x)})))),B};return y.hash=p.length?p.reduce(function(I,E){return E.name||Jo(15),wi(I,E.name)},jg).toString():"",y}var Qy=new Gl,kc=Xy(),Jg=An.createContext({shouldForwardProp:void 0,styleSheet:Qy,stylis:kc});Jg.Consumer;An.createContext(void 0);function Dc(){return Ae.useContext(Jg)}var by=function(){function t(r,o){var s=this;this.inject=function(u,a){a===void 0&&(a=kc);var c=s.name+a.hash;u.hasNameForId(s.id,c)||u.insertRules(s.id,c,a(s.rules,c,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Kc(this,function(){throw Jo(12,String(s.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=kc),this.name+r.hash},t}(),Zy=function(t){return t>="A"&&t<="Z"};function Op(t){for(var r="",o=0;o<t.length;o++){var s=t[o];if(o===1&&s==="-"&&t[0]==="-")return t;Zy(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var em=function(t){return t==null||t===!1||t===""},tm=function(t){var r,o,s=[];for(var u in t){var a=t[u];t.hasOwnProperty(u)&&!em(a)&&(Array.isArray(a)&&a.isCss||Mi(a)?s.push("".concat(Op(u),":"),a,";"):Wo(a)?s.push.apply(s,zo(zo(["".concat(u," {")],tm(a),!1),["}"],!1)):s.push("".concat(Op(u),": ").concat((r=u,(o=a)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in Ay||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function pr(t,r,o,s){if(em(t))return[];if(Vc(t))return[".".concat(t.styledComponentId)];if(Mi(t)){if(!Mi(a=t)||a.prototype&&a.prototype.isReactComponent||!r)return[t];var u=t(r);return pr(u,r,o,s)}var a;return t instanceof by?o?(t.inject(o,s),[t.getName(s)]):[t]:Wo(t)?tm(t):Array.isArray(t)?Array.prototype.concat.apply(Zl,t.map(function(c){return pr(c,r,o,s)})):[t.toString()]}function nm(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Mi(o)&&!Vc(o))return!1}return!0}var qy=Yg(bl),Jy=function(){function t(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&nm(r),this.componentId=o,this.baseHash=wi(qy,o),this.baseStyle=s,Gl.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,s){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Gr(u,this.staticRulesId);else{var a=Pc(pr(this.rules,r,o,s)),c=Nc(wi(this.baseHash,a)>>>0);if(!o.hasNameForId(this.componentId,c)){var h=s(a,".".concat(c),void 0,this.componentId);o.insertRules(this.componentId,c,h)}u=Gr(u,c),this.staticRulesId=c}else{for(var p=wi(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")v+=y;else if(y){var I=Pc(pr(y,r,o,s));p=wi(p,I+m),v+=I}}if(v){var E=Nc(p>>>0);o.hasNameForId(this.componentId,E)||o.insertRules(this.componentId,E,s(v,".".concat(E),void 0,this.componentId)),u=Gr(u,E)}}return u},t}(),Xc=An.createContext(void 0);Xc.Consumer;var ic={};function eS(t,r,o){var s=Vc(t),u=t,a=!rc(t),c=r.attrs,h=c===void 0?Zl:c,p=r.componentId,v=p===void 0?function($,ue){var M=typeof $!="string"?"sc":Tp($);ic[M]=(ic[M]||0)+1;var j="".concat(M,"-").concat(Vg(bl+M+ic[M]));return ue?"".concat(ue,"-").concat(j):j}(r.displayName,r.parentComponentId):p,m=r.displayName,y=m===void 0?function($){return rc($)?"styled.".concat($):"Styled(".concat(Cy($),")")}(t):m,I=r.displayName&&r.componentId?"".concat(Tp(r.displayName),"-").concat(r.componentId):r.componentId||v,E=s&&u.attrs?u.attrs.concat(h).filter(Boolean):h,k=r.shouldForwardProp;if(s&&u.shouldForwardProp){var P=u.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;k=function($,ue){return P($,ue)&&w($,ue)}}else k=P}var W=new Jy(o,I,s?u.componentStyle:void 0);function B($,ue){return function(M,j,pe){var Re=M.attrs,Ue=M.componentStyle,Ve=M.defaultProps,Be=M.foldedComponentIds,Le=M.styledComponentId,ye=M.target,Ne=An.useContext(Xc),ge=Dc(),ie=M.shouldForwardProp||ge.shouldForwardProp,G=Wg(j,Ne,Ve)||Ui,V=function(Se,oe,me){for(var ce,X=At(At({},oe),{className:void 0,theme:me}),ne=0;ne<Se.length;ne+=1){var Oe=Mi(ce=Se[ne])?ce(X):ce;for(var ae in Oe)X[ae]=ae==="className"?Gr(X[ae],Oe[ae]):ae==="style"?At(At({},X[ae]),Oe[ae]):Oe[ae]}return oe.className&&(X.className=Gr(X.className,oe.className)),X}(Re,j,G),z=V.as||ye,T={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===G||(D==="forwardedAs"?T.as=V.forwardedAs:ie&&!ie(D,z)||(T[D]=V[D]));var te=function(Se,oe){var me=Dc(),ce=Se.generateAndInjectStyles(oe,me.styleSheet,me.stylis);return ce}(Ue,V),q=Gr(Be,Le);return te&&(q+=" "+te),V.className&&(q+=" "+V.className),T[rc(z)&&!$g.has(z)?"class":"className"]=q,T.ref=pe,Ae.createElement(z,T)}(x,$,ue)}B.displayName=y;var x=An.forwardRef(B);return x.attrs=E,x.componentStyle=W,x.displayName=y,x.shouldForwardProp=k,x.foldedComponentIds=s?Gr(u.foldedComponentIds,u.styledComponentId):"",x.styledComponentId=I,x.target=s?u.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=s?function(ue){for(var M=[],j=1;j<arguments.length;j++)M[j-1]=arguments[j];for(var pe=0,Re=M;pe<Re.length;pe++)Oc(ue,Re[pe],!0);return ue}({},u.defaultProps,$):$}}),Kc(x,function(){return".".concat(x.styledComponentId)}),a&&bg(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function kp(t,r){for(var o=[t[0]],s=0,u=r.length;s<u;s+=1)o.push(r[s],t[s+1]);return o}var Dp=function(t){return Object.assign(t,{isCss:!0})};function rm(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Mi(t)||Wo(t))return Dp(pr(kp(Zl,zo([t],r,!0))));var s=t;return r.length===0&&s.length===1&&typeof s[0]=="string"?pr(s):Dp(pr(kp(s,r)))}function Uc(t,r,o){if(o===void 0&&(o=Ui),!r)throw Jo(1,r);var s=function(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(r,o,rm.apply(void 0,zo([u],a,!1)))};return s.attrs=function(u){return Uc(t,r,At(At({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},s.withConfig=function(u){return Uc(t,r,At(At({},o),u))},s}var im=function(t){return Uc(eS,t)},_n=im;$g.forEach(function(t){_n[t]=im(t)});var tS=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=nm(r),Gl.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,s,u){var a=u(Pc(pr(this.rules,o,s,u)),""),c=this.componentId+r;s.insertRules(c,c,a)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,s,u){r>2&&Gl.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,u)},t}();function nS(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=rm.apply(void 0,zo([t],r,!1)),u="sc-global-".concat(Vg(JSON.stringify(s))),a=new tS(s,u),c=function(p){var v=Dc(),m=An.useContext(Xc),y=An.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&h(y,p,v.styleSheet,m,v.stylis),An.useLayoutEffect(function(){if(!v.styleSheet.server)return h(y,p,v.styleSheet,m,v.stylis),function(){return a.removeStyles(y,v.styleSheet)}},[y,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,y,I){if(a.isStatic)a.renderStyles(p,_y,m,I);else{var E=At(At({},v),{theme:Wg(v,y,c.defaultProps)});a.renderStyles(p,E,m,I)}}return An.memo(c)}function om(t,r){var o=Ae.useRef(null),s=Ae.useRef(!1),u=Ae.useRef(t);u.current=t;var a=Ae.useCallback(function(h){s.current&&(u.current(h),o.current=requestAnimationFrame(a))},[]),c=Ae.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(a))},function(){return s.current}]},[]);return Ae.useEffect(function(){return c[0]},[]),c}function rS(t,r,o,s,u){var c;(c=t.onExit)==null||c.call(t,s,r);const a=u.find(({id:h})=>h===r);return a!=null&&a.onEnter?a.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function iS(t,r){return r.find(({id:o})=>o===t)}function oS(t,r){return t!==r}function sS(t){console.warn(`No handler found for state: ${t}`)}const Bo="bushGrowing",xr="bushFull",Fl="bushSpreading",$o="bushDying",Qt=24,bt=10,zr=3e3,Wr=3e3,Qc=2,lS=5,aS=3,uS=12,cS=940,dS=.7,Mc=20,Up=90,sm=45,lm=240,am=10,jo=80,fS=3,No=5,xt=150,um=xt*.8,hS=xt*.2,mr=xt*.95,vr=30,cm=10,pS=10,gS=.5,ut=30,yr=ut*.75,dm=50,mS=20,vS=jo*.8,yS=.7,SS=16,fm=40,AS=24,bc=16,IS=72/3,Mp=24,_S=1.25,TS=1.5,Zc=xt*.6,qc=50,ES=1,wS=350,hm=jo*.65,CS=80,RS=50,NS=1,PS=128,pm=10,Fp=100,OS=35,ql=ut,gm=.5,mm=2.5,kS=5,DS=.5,US=1.5,MS=.1,FS=.5,LS=1.5,BS=.25,HS=2.5,xS=45,GS=.05,Yo=5,zS=.5,Lp=100,WS=300,Jl=30,Vo=1,Bp=xt*.6,$S=xt*.25,jS=xt*.7,YS=xt*.8,vm=100,VS=250,KS=120,XS=2,QS=400,bS=1e3,ZS=xt*.85,qS=100,JS=3,eA=96,tA=24,nA=600,ym=600,rA=1,iA=24,oA=1,sA=.5,Hp=24,Fc=12,xp=40,lA=.3,aA=24,Gp=500,zp=24,uA=1500,oc=500,cA=400,dA=10,fA=-5,hA=1.5,pA=1.2,gA=10,mA=150,vA=200,yA=100,SA=100,AA=.7,IA=300,_A=100,TA=120,Wp=400,Fi=10,Sm=250,Ko=12,dl=yr*1.2,Am=10,EA=20,Im=.15,_m=200,Zt=30,ea=Zt*.6,Jc="#4CAF50",Tm="#FF5722",Em="#9C27B0",wA="#2196F3",wm="#FFC107",CA="#FFD700",Cm="#DC143C",ed="#FFFFFF",td=[5,5],ta=5,Li=15,RA=20,NA=16,PA=10,OA=16,kA=16,$p=["","","","","","","","","",""],Lc=8,DA="#FFFFFF",fr=18,kt=15,UA="rgba(0, 0, 0, 0.7)",MA=4,lr=150,Bt=15,Un=10,Ci="#555",FA="#f44336",LA="#4CAF50",BA="#2196F3",HA="#FFC107",fl=16,xA=9,Mr=32,hl=28,GA=10,zA=8,WA=8,$A=8,pl=28,gl=40,jA="rgba(255, 215, 0, 0.7)",YA="rgba(0, 0, 0, 0.3)",ar=10,jp=8,sc=11,ur=20,lc=40,Yp=5,VA=10,KA="#FFA500",XA="#808080",Ri=120,QA=30,bA=20,ml="#2d3748",Ni="#ffffff",ac="#4a5568",ZA=5,qA="#bdc9f792",JA="#272c36ff",eI="#a0aec0",Vp=300,tI="rgba(255, 255, 255, 0.5)",nI="rgba(0, 0, 0, 0.8)",rI="#FFFFFF",Kp=14,Xp=8,Qp=-15,iI="#FFD700",oI=5,sI=60,lI=-50,aI=10,uc=12,bp=10,uI="rgba(0, 0, 0, 0.5)",cI="#4CAF50",dI="#F44336",fI="#FFC107",hI="rgba(255, 255, 255, 0.2)",Zp="#FFFFFF",pI="#FF6B6B",gI=5,Rm=30,Po=50,vl=8,qp=10,mI="rgba(0, 0, 0, 0.5)",vI="#FFFFFF",yI=33,SI=400,AI=20,II=10,_I="rgba(0, 0, 0, 0.7)",TI="#FFFFFF",cc=20,Jp=16,EI=.5,eg=5,Nm="#FFD700",wI=40,nd=4,Pm=3,CI=5,Om=20,km=5,RI="#FFFFFF",NI="#FF6B6B",qt=1,Mo=3,PI=70,tg=600,OI=1.5,Dm=.1,kI=15,DI=5e3,Fr=80,yl=10,UI=12,MI=24,FI=xt*.9,LI=24,Sl=300,Lr=15,BI=8,HI="rgba(0, 0, 0, 0.8)",xI="#FFFFFF",dc=14,ng=10,vn=20,GI="#FF6B6B",zI="#4CAF50",rg="#FFD700",WI="rgba(255, 255, 0, 0.3)",$I=2,jI=500,YI=120,VI=45,KI="#FFD700",XI=3,QI=4;function rt(t,r,o,s,u){const a={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:s,entityId:u};return t.visualEffects.push(a),t.nextVisualEffectId++,a.id}var _e=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t[t.CallToFollow=16]="CallToFollow",t[t.AutopilotMoveTarget=17]="AutopilotMoveTarget",t))(_e||{}),Bn=(t=>(t.Berry="berry",t.Meat="meat",t))(Bn||{});const Um={berry:"",meat:""},bI={id:Bo,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/bt);return o.age+=u,o.age>=o.lifespan?{nextState:$o,data:{...t,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(rt(s.gameState,_e.BushClaimLost,o.position,qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=uS&&o.food.length<o.maxFood&&(o.food.push({type:Bn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:xr,data:{...t,enteredAt:s.gameState.time,previousState:Bo}}:{nextState:Bo,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},ZI={id:xr,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/bt);return o.age+=u,o.age>=o.lifespan?{nextState:$o,data:{...t,enteredAt:s.gameState.time,previousState:xr}}:o.food.length<o.maxFood?{nextState:Bo,data:{...t,enteredAt:s.gameState.time,previousState:xr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(rt(s.gameState,_e.BushClaimLost,o.position,qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=Up&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=Up&&Math.random()<o.spreadChance)?{nextState:Fl,data:{...t,enteredAt:s.gameState.time,previousState:xr}}:{nextState:xr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function gr(t,r){return{x:t.x+r.x,y:t.y+r.y}}function Mm(t,r){return{x:t.x-r.x,y:t.y-r.y}}function In(t,r){return{x:t.x*r,y:t.y*r}}function Bi(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function en(t){const r=Bi(t);return r===0?{x:0,y:0}:In(t,1/r)}function qI(t,r){return Bi(Mm(t,r))}function rd(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function id(t){if(t.length===0)return{x:0,y:0};const r=t.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/t.length,y:r.y/t.length}}function Gt(t,r,o,s){let u=r.x-t.x,a=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(a)>s/2&&(a=a-Math.sign(a)*s),{x:u,y:a}}function un(t,r,o){const s=Gt(t,r,o.width,o.height);return en(s)}function le(t,r,o,s){const u=Gt(t,r,o,s);return Bi(u)}function JI(t,r){return t.x*r.x+t.y*r.y}function e_(t,r){const o=JI(t,r),s=Bi(t),u=Bi(r);if(s===0||u===0)return 0;const a=Math.max(-1,Math.min(1,o/(s*u)));return Math.acos(a)}function t_(t,r,o){const s=Math.max(0,Math.min(1,o)),u={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},a={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},c=Math.round(u.r+(a.r-u.r)*s),h=Math.round(u.g+(a.g-u.g)*s),p=Math.round(u.b+(a.b-u.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(c)}${v(h)}${v(p)}`}function ig(t,r,o){return r.search.human.byRadius(t.position,o).filter(a=>{if(a.id===t.id||a.gender===t.gender||!a.isAdult||a.hunger>=mr||(a.procreationCooldown||0)>0||a.gender==="female"&&a.isPregnant)return!1;const c=a.id===t.motherId||a.id===t.fatherId,h=t.id===a.motherId||t.id===a.fatherId;return!c&&!h})}function Hn(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),s=(u,a)=>u.age!==a.age?a.age-u.age:u.id-a.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function ht(t,r){const o=t,s=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...s,...u]}function Fm(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const a=o.entities.entities.get(t.motherId);if(a&&(a.motherId===r.id||a.fatherId===r.id))return!0}if(t.fatherId){const a=o.entities.entities.get(t.fatherId);if(a&&(a.motherId===r.id||a.fatherId===r.id))return!0}if(r.motherId){const a=o.entities.entities.get(r.motherId);if(a&&(a.motherId===t.id||a.fatherId===t.id))return!0}if(r.fatherId){const a=o.entities.entities.get(r.fatherId);if(a&&(a.motherId===t.id||a.fatherId===t.id))return!0}return!1}function Bc(t,r){var a,c;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,s=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((a=t.ancestorIds)==null?void 0:a.some(h=>r.ancestorIds.includes(h)))||((c=r.ancestorIds)==null?void 0:c.some(h=>t.ancestorIds.includes(h)));return o||s||u}function n_(t,r){const o=[];if(t.motherId){const s=r.entities.entities.get(t.motherId);s&&o.push(s)}if(t.fatherId){const s=r.entities.entities.get(t.fatherId);s&&o.push(s)}return o}function r_(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function i_(t,r){var o;if(!t.isAdult&&t.fatherId){const s=r.entities.entities.get(t.fatherId);if(s&&s.type==="human")return s}if(t.isAdult&&t.fatherId){const s=r.entities.entities.get(t.fatherId);if(s&&s.type==="human"&&((o=Hn(ht(r,s)))==null?void 0:o.id)===t.id)return s}return t.isAdult&&t.gender==="female"&&t.partnerIds&&t.partnerIds.length>0?r_(t,r):null}function zl(t,r){var s;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(s=t.partnerIds)==null||s.forEach(u=>{const a=r.entities.entities.get(u);a&&o.add(a)}),ht(r,t).forEach(u=>o.add(u)),Array.from(o)}function Lm(t,r){const o=new Map;function s(u){const a=ht(r,u);for(const c of a)o.has(c.id)||(o.set(c.id,c),s(c))}return s(t),Array.from(o.values())}function od(t,r){return r.search.human.byProperty("leaderId",t)}function o_(t,r){var a;const o=new Map,s=Array.from(t.entities.entities.values()).filter(c=>c.type==="human");for(const c of s)c.leaderId&&(o.has(c.leaderId)||o.set(c.leaderId,{leaderId:c.leaderId,tribeBadge:c.tribeBadge||"?",members:[]}),(a=o.get(c.leaderId))==null||a.members.push(c));const u=Array.from(o.values()).map(c=>{const h=t.entities.entities.get(c.leaderId),p=c.members.filter(m=>m.isAdult).length,v=c.members.length-p;return{leaderId:c.leaderId,tribeBadge:c.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:c.leaderId===r,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return u.sort((c,h)=>c.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(c.adultCount+c.childCount)),u}function at(t,r,o,s,u){const a=r,c=s,h=a.search[o].byRadius(t.position,c);let p=null,v=c;for(const m of h){if(m.id===t.id||u&&!u(m))continue;const y=le(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);y<v&&(v=y,p=m)}return p}function Bm(t,r,o,s){return r.search[o].byRadius(t,s).length}function pt(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function s_(t,r){var c;const s=r.search.human.byProperty("activeAction","attacking");let u=null,a=1/0;for(const h of s){if(h.attackTargetId!==t)continue;const p=le(h.position,((c=r.entities.entities.get(t))==null?void 0:c.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);p<a&&(u=h,a=p)}return u}function Hm(t){return Array.from(t.entities.entities.values()).filter(r=>r.type==="human")}function l_(t,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const u of s)if(qI(t,u.position)<u.radius)return u}function sd(t,r,o,s){const u=Math.random()*Math.PI*2,a=Math.sqrt(Math.random())*r,c={x:Math.cos(u)*a,y:Math.sin(u)*a},h=gr(t,c);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Hi(t,r,o,s){const u=r,a={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...u.search.human.byRect(a),...u.search.berryBush.byRect(a),...u.search.humanCorpse.byRect(a)];for(const h of c){if(s!==void 0&&h.id===s)continue;if(le(t,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function ld(t,r,o,s,u){const a=r.mapDimensions.width,c=r.mapDimensions.height;if(!Hi(t,r,s,u))return t;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const y=m/v*2*Math.PI,I={x:Math.cos(y)*p,y:Math.sin(y)*p},E=gr(t,I),k={x:(E.x%a+a)%a,y:(E.y%c+c)%c};if(!Hi(k,r,s,u))return k}}return null}function Xo(t,r){const o=od(t,r);if(o.length===0){const u=r.entities.entities.get(t);return u?u.position:{x:0,y:0}}const s=o.map(u=>u.position);return id(s)}function og(t,r){const s=[...zl(t,r),t].map(u=>u.position);return id(s)}function sg(t,r,o,s){const u=r.x-o.width/2,a=r.y-o.height/2,c=u+t.x,h=a+t.y,p=(c%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}function a_(t,r,o){return r.search.human.byRadius(t.position,o).filter(u=>{var a;return u.activeAction==="procreating"&&u.gender===t.gender&&typeof u.target=="number"&&((a=t.partnerIds)==null?void 0:a.includes(u.target))})[0]}function u_(t,r,o){if(!t.leaderId)return;const s=r,u=s.search.berryBush.byRadius(t.position,o).filter(a=>a.ownerId===t.id);for(const a of u)if(a.claimedUntil&&r.time<a.claimedUntil){const c=s.search.human.byRadius(a.position,ut);for(const h of c)if(!Bc(h,t)&&h.activeAction==="gathering"&&h.target===a.id)return h}}function c_(t,r,o){const s=zl(t,r),u=r;for(const a of s){if(le(t.position,a.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=u.search.human.byProperty("attackTargetId",a.id);for(const p of h)if(p.leaderId!==t.leaderId)return{familyMember:a,aggressor:p}}}function d_(t,r){const s=r.search.human.byRadius(t.position,IA);let u,a=1/0;for(const c of s){if(c.id===t.id||c.hitpoints<=0||c.hitpoints/c.maxHitpoints>AA||Fm(t,c,r))continue;const h=le(t.position,c.position,r.mapDimensions.width,r.mapDimensions.height);h<a&&(a=h,u=c)}return u}function f_(t,r){const o=at(t,r,"berryBush",Lp,u=>u.ownerId===t.id);return o?ld(o.position,r,Lp,Jl,o.id):null}function ad(t,r,o,s){return o.search.human.byRadius(t,s).filter(a=>a.leaderId!==r&&a.id!==r)}function h_(t,r,o){const s=o.search.human.byProperty("leaderId",t);let u=0;for(const a of s)a.attackTargetId===r&&u++;return u}function lg(t,r,o,s){const u=o.search.berryBush.byRadius(t,r),a=o.search.human.byRadius(t,r).filter(p=>p.leaderId!==s);let c=u.length*dA;c+=a.length*fA;let h;if(a.length>0){const p={};for(const m of a)m.leaderId&&(p[m.leaderId]=(p[m.leaderId]||0)+1);let v=0;for(const m in p)p[m]>v&&(v=p[m],h=parseInt(m,10))}return{score:c,occupyingTribeId:h}}function ag(t){return t.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function p_(t,r){if(t.id!==t.leaderId)return null;const o=r,s=Xo(t.id,r),{score:u}=lg(s,oc/2,o,t.id);let a=null,c=u;const h=cA,p=uA;for(let v=t.position.x-p;v<t.position.x+p;v+=h)for(let m=t.position.y-p;m<t.position.y+p;m+=h){const y={x:(v%r.mapDimensions.width+r.mapDimensions.width)%r.mapDimensions.width,y:(m%r.mapDimensions.height+r.mapDimensions.height)%r.mapDimensions.height};if(le(s,y,r.mapDimensions.width,r.mapDimensions.height)<oc*2)continue;const{score:E}=lg(y,oc/2,o,t.id);E>c*hA&&(c=E,a=y)}return a}let fc=0;function Hc(){const t=$p[fc];return fc=(fc+1)%$p.length,t}var fe=(t=>(t.Gather="Gather",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.Plant="Plant",t.CallToAttack="CallToAttack",t.TribeSplit="TribeSplit",t.FollowMe="FollowMe",t.FeedChild="FeedChild",t.AutopilotMove="AutopilotMove",t.AutopilotGather="AutopilotGather",t.AutopilotAttack="AutopilotAttack",t.AutopilotProcreate="AutopilotProcreate",t.AutopilotPlant="AutopilotPlant",t.AutopilotFeedChild="AutopilotFeedChild",t.AutopilotFollowMe="AutopilotFollowMe",t))(fe||{});const na={Gather:"",Eat:"",Procreate:"",Attack:"",Plant:"",CallToAttack:"",TribeSplit:"",FollowMe:"",FeedChild:"",AutopilotMove:"",AutopilotGather:"",AutopilotAttack:"",AutopilotProcreate:"",AutopilotPlant:"",AutopilotFeedChild:"",AutopilotFollowMe:""},xm={Gather:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",Plant:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FollowMe:"Follow Me",FeedChild:"Feed Child",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChild:"Feed",AutopilotFollowMe:"Follow"};var Ei=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(Ei||{});const Oo={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var Ce=(t=>(t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t.FastForward="FastForward",t.DismissTutorial="DismissTutorial",t.CommandEat="CommandEat",t.CommandPlant="CommandPlant",t.CommandCallToAttack="CommandCallToAttack",t.CommandFollowMe="CommandFollowMe",t.CommandGather="CommandGather",t.CommandTribeSplit="CommandTribeSplit",t.ToggleProcreationBehavior="ToggleProcreationBehavior",t.ToggleAttackBehavior="ToggleAttackBehavior",t.ToggleFeedChildBehavior="ToggleFeedChildBehavior",t.TogglePlantingBehavior="TogglePlantingBehavior",t.ToggleGatheringBehavior="ToggleGatheringBehavior",t.ToggleAutopilotFollowLeaderBehavior="ToggleAutopilotFollowLeaderBehavior",t))(Ce||{}),Qo=(t=>(t.Hello="HELLO",t.NewTribeFormed="NEW_TRIBE_FORMED",t.NoHeir="NO_HEIR",t.ChildrenStarving="CHILDREN_STARVING",t))(Qo||{});let g_=0;function m_(){return`notification-${Date.now()}-${g_++}`}function xc(t,r){if(r.identifier){const s=t.notifications.find(u=>u.identifier===r.identifier);if(s){if(s.dismissedUntil&&t.time<s.dismissedUntil)return;s.message=r.message,s.timestamp=t.time,s.creationTime=Date.now(),s.duration=r.duration,s.targetEntityIds=r.targetEntityIds,s.highlightedEntityIds=r.highlightedEntityIds,s.targetPosition=r.targetPosition,s.targetArea=r.targetArea,s.targetRadius=r.targetRadius,s.isDismissed=!1,s.dismissedUntil=void 0;return}}const o={...r,id:m_(),timestamp:t.time,creationTime:Date.now(),isDismissed:!1};t.notifications.push(o)}function v_(t,r){const o=t.notifications.find(s=>s.id===r);o&&(o.isDismissed=!0,o.identifier&&(o.dismissedUntil=t.time+LI))}function y_(t){const r=t.time;t.notifications=t.notifications.filter(o=>o.duration===0?!0:!(r-o.timestamp>o.duration))}const hc=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,S_=""+new URL("gather-CU75596W.mp3",import.meta.url).href,A_=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,pc=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,I_=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,__=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,T_=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,E_=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,w_=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,C_=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Fe=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.TribeSplit=9]="TribeSplit",t[t.CallToFollow=10]="CallToFollow",t[t.GameOver=11]="GameOver",t[t.ButtonClick=12]="ButtonClick",t[t.SoundTrack1=13]="SoundTrack1",t))(Fe||{});const R_=new Map([[0,hc],[1,S_],[2,A_],[3,pc],[4,I_],[5,__],[6,T_],[11,E_],[12,w_],[7,hc],[8,hc],[9,pc],[10,pc],[13,C_]]);let ko,bo;function N_(){if(!(typeof window>"u"))return bo}function ud(){if(!(typeof window>"u"))return!ko&&typeof window.AudioContext=="function"&&(ko=new window.AudioContext,bo=ko.createGain(),bo.connect(ko.destination),Ho(.1,!1)),ko}function Ho(t,r){bo&&(bo.gain.value=r?0:t/10)}const Gm=new Map;let Al=!1,ug=!1;async function P_(){if(ug||Al)return;const t=ud();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),Al=!0,console.log("Starting sound loading...");const r=[];R_.forEach((o,s)=>{const u=fetch(o).then(a=>{if(!a.ok)throw new Error(`Failed to fetch sound: ${o}`);return a.arrayBuffer()}).then(a=>t.decodeAudioData(a)).then(a=>{Gm.set(s,a)}).catch(a=>{console.error(`Error loading sound ${Fe[s]} from ${o}:`,a)});r.push(u)});try{await Promise.all(r),ug=!0,Al=!1,console.log("All sounds loaded successfully.")}catch(o){Al=!1,console.error("An error occurred while loading sounds:",o)}}const xo=new Map;function cd(t,r){const o=ud(),s=N_();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const u=Gm.get(t);if(!u){console.warn(`Sound buffer not found for type: ${Fe[t]}`);return}if(r!=null&&r.trackId&&xo.has(r.trackId))return;const a=o.createBufferSource();a.buffer=u,a.loop=(r==null?void 0:r.loop)??!1;const c=o.createGain(),h=o.createStereoPanner();let p=c;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=Gt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=le(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>tg)return;const y=1-Math.pow(m/tg,OI);c.gain.value=Math.max(0,y);const I=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(I)?0:I,c.connect(h),p=h}else{const v=t===Fe.GameOver?.4:t===Fe.SoundTrack1?1:.2;c.gain.value=v}a.connect(p),p.connect(s),a.start(0),r!=null&&r.trackId&&(xo.set(r.trackId,{sourceNode:a,gainNode:c}),a.onended=()=>{xo.delete(r.trackId)})}function cg(t,r=1){const o=xo.get(t),s=ud();if(o&&s){const{sourceNode:u,gainNode:a}=o,c=s.currentTime;a.gain.setValueAtTime(a.gain.value,c),a.gain.linearRampToValueAtTime(0,c+r),u.stop(c+r),u.onended=null,xo.delete(t)}}function Ze(t,r,o){const s=pt(t.gameState);s&&cd(r,{position:o,listenerPosition:s.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}function O_(t,r,o){const s=o.mapDimensions.width,u=o.mapDimensions.height,a=r.radius*2;for(let c=Gp;c<s/2;c+=50)for(let h=0;h<10;h++){const p=sd(t,c,s,u);if(!(le(t,p,s,u)<Gp)&&!Hi(p,o,a,r.id))return p}return null}function dd(t,r){if(!t.isAdult||t.gender!=="male"||t.leaderId===t.id||!t.leaderId)return{canSplit:!1};if(!t.leaderId)return{canSplit:!1};const o=r.entities.entities.get(t.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=Hn(ht(r,o));if(s&&s.id===t.id)return{canSplit:!1};const u=od(t.leaderId,r);if(u.length<xp)return{canSplit:!1};const c=Lm(t,r).length+1,h=Math.min(u.length*lA,xp);return{canSplit:c>=h,progress:c/h}}function fd(t,r){if(!dd(t,r).canSplit)return;const o=Hc(),s=Lm(t,r);t.leaderId=t.id,t.tribeBadge=o;for(const a of s)a.leaderId=t.id,a.tribeBadge=o;xc(r,{type:Qo.NewTribeFormed,message:`A new tribe has formed! ${o}`,duration:MI,targetEntityIds:[t.id],highlightedEntityIds:[t.id,...s.map(a=>a.id)]}),Ze({gameState:r},Fe.TribeSplit,t.position)}function hd(t,r){const o=[];if(r.food.length>0&&r.hunger>vr&&o.push({type:fe.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const a=at(r,t,"berryBush",ut,p=>p.food.length>0),c=at(r,t,"humanCorpse",ut,p=>p.food.length>0);let h=null;a&&c?h=le(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<=le(r.position,c.position,t.mapDimensions.width,t.mapDimensions.height)?a:c:h=a||c,h&&o.push({type:fe.Gather,action:"gathering",key:"e",targetEntity:h})}const s=at(r,t,"human",ut,a=>Vr(r,a));if(s&&o.push({type:fe.Procreate,action:"procreating",key:"r",targetEntity:s}),r.food.length>0&&r.isAdult){const a=at(r,t,"human",ut,c=>{const h=c;return!h.isAdult&&(h.motherId===r.id||h.fatherId===r.id)&&h.hunger>=vr});a&&o.push({type:fe.FeedChild,action:"feeding",key:"h",targetEntity:a})}const u=at(r,t,"human",ql,a=>ra(r,a));if(u&&o.push({type:fe.Attack,action:"attacking",key:"q",targetEntity:u}),r.food.filter(a=>a.type===Bn.Berry).length>=Yo&&o.push({type:fe.Plant,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack){const a=t;ad(r.position,r.id,a,Sm).length>0&&o.push({type:fe.CallToAttack,action:"idle",key:"v"})}return dd(r,t).canSplit&&o.push({type:fe.TribeSplit,action:"idle",key:"k"}),r.leaderId===r.id&&!r.isCallingToFollow&&o.push({type:fe.FollowMe,action:"idle",key:"c"}),o}const ra=(t,r)=>t.id===r.id?!1:t.leaderId!==r.leaderId,Vr=(t,r)=>{if(t.id===r.id||t.gender===r.gender||!t.isAdult||!r.isAdult||t.hunger>=mr||r.hunger>=mr||(t.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||t.leaderId!==r.leaderId)return!1;const o=t.gender==="female"?t:r;return!(o.isPregnant||o.age>fm)},k_={id:Fl,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s,a=s.deltaTime*(Qt/bt);if(o.age+=a,o.age>=o.lifespan)return{nextState:$o,data:{...t,enteredAt:u.time,previousState:Fl}};const c=sd(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return Hi(c,u,15)||oa(u.entities,c,u.time),{nextState:xr,data:{...t,enteredAt:u.time,previousState:Fl}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},D_={id:$o,update:t=>({nextState:$o,data:t}),onEnter:(t,r)=>(md(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},U_=[bI,ZI,k_,D_],ft="humanIdle",Hr="humanMoving",Fo="humanEating",ia="humanGathering",Zo="humanProcreating",xi="humanAttacking",Ll="humanPlanting",M_={id:ft,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:xi,data:{...t,enteredAt:s.gameState.time,previousState:ft,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=um?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Hr,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="gathering"?{nextState:ia,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="eating"?{nextState:Fo,data:{...t,enteredAt:s.gameState.time,previousState:ft}}:o.activeAction==="planting"&&o.target?{nextState:Ll,data:{...t,enteredAt:s.gameState.time,previousState:ft,plantingSpot:o.target}}:{nextState:ft,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function zm(t){let r=pS;return t.hunger>=um&&(r*=gS),t.age>=vS&&(r*=yS),t.movementSlowdown&&(r*=t.movementSlowdown.modifier),r}const gc=7.5;class F_{constructor(){de(this,"id",Hr)}update(r,o){var p;const{entity:s,updateContext:u}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:xi,data:{...r,enteredAt:u.gameState.time,previousState:Hr,attackTargetId:s.attackTargetId,attackStartTime:u.gameState.time}};if(s.activeAction!=="moving")return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Hr}};let a;if(typeof s.target=="object"?a=s.target:typeof s.target=="number"&&(a=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!a&&(s.direction.x!==0||s.direction.y!==0)&&(a={x:s.position.x+s.direction.x*gc*2,y:s.position.y+s.direction.y*gc*2}),!a)return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Hr}};const c=Gt(s.position,a,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=en(c),s.acceleration=zm(s),le(s.position,a,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<gc?{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Hr}}:{nextState:Hr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const L_=new F_,B_={id:Fo,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:Fo}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>vr&&(o.hunger=Math.max(0,o.hunger-vr),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,Ze(s,Fe.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(rt(s.gameState,_e.Eating,o.position,qt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:Fo}}:{nextState:Fo,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class H_{constructor(){de(this,"id",ia)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const x_=new H_,G_=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),z_=(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time<(t.procreationEndTime||0))return{nextState:Zo,data:t};const a=u.entities.entities.get(t.partnerId);if(a&&a.type==="human"&&!a.isPregnant&&o.hunger<mr&&a.hunger<mr&&!o.procreationCooldown&&!a.procreationCooldown){const c=o.gender==="female"?o:a.gender==="female"?a:void 0,h=o.gender==="male"?o:a.gender==="male"?a:void 0;c&&h&&(c.isPregnant=!0,c.gestationTime=IS,c.fatherId=h.id,o.procreationCooldown=Mp,a.procreationCooldown=Mp,Ze(s,Fe.Procreate,c.position))}return o.activeAction="idle",a&&(a.activeAction="idle"),{nextState:ft,data:{...t,enteredAt:u.time,previousState:Zo}}},W_={id:Zo,onEnter:G_,update:z_},$_={id:xi,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const s=le(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=Gt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=en(u),s>ql?r.entity.acceleration=zm(r.entity):r.entity.acceleration=0,{nextState:xi,data:t}}},j_={id:Ll,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time-t.enteredAt>=zS){if(o.food.filter(h=>h.type===Bn.Berry).length>=Yo){for(let p=0;p<Yo;p++){const v=o.food.findIndex(m=>m.type===Bn.Berry);v>-1&&o.food.splice(v,1)}const h=oa(u.entities,t.plantingSpot,u.time);h.ownerId=o.id,h.claimedUntil=u.time+lm}return{nextState:ft,data:{...t,enteredAt:u.time,previousState:Ll}}}return{nextState:Ll,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},Y_=[M_,L_,B_,x_,W_,$_,j_],dg=[...U_,...Y_];function V_(t,r,o){const s=iS(t,dg);if(!s)return sS(t),[t,r];const{nextState:u,data:a}=s.update(r,o);return oS(t,u)?[u,rS(s,u,a,o,dg)]:[u,a]}function K_(t,r,o){const{gameState:s}=r,u=o*(Qt/bt);if(t.isAdult=t.age>=bc,t.isCallingToAttack&&t.callToAttackEndTime&&s.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.isCallingToFollow&&t.callToFollowEndTime&&s.time>t.callToFollowEndTime&&(t.isCallingToFollow=!1,t.callToFollowEndTime=void 0),t.movementSlowdown&&s.time>t.movementSlowdown.endTime&&(t.movementSlowdown=void 0),t.hitpoints<t.maxHitpoints){const c=1-t.hunger/100*FS,h=MS*c*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+h)}if(t.hunger+=o*(No/(Qt/bt)),t.hunger>PI&&(!t.lastHungerEffectTime||s.time-t.lastHungerEffectTime>Mo*2)&&(rt(s,_e.Hunger,t.position,Mo,t.id),t.lastHungerEffectTime=s.time),t.age+=o/am,t.isPlayer){const c=ht(s,t).filter(h=>h.hunger>=FI);if(c.length>0){const h=c.map(p=>p.id);xc(s,{identifier:"children_starving",type:Qo.ChildrenStarving,message:"Your children are starving!",duration:UI,targetEntityIds:h,highlightedEntityIds:h})}}if(t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((No*_S-No)/(Qt/bt)),(!t.lastPregnantEffectTime||s.time-t.lastPregnantEffectTime>Mo*3)&&(rt(s,_e.Pregnant,t.position,Mo,t.id),t.lastPregnantEffectTime=s.time),t.gestationTime<=0&&(PT(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.isAdult?t.radius===ea&&(t.radius=Zt):t.hunger+=o*((No*TS-No)/(Qt/bt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const c=[];if(t.motherId){const h=s.entities.entities.get(t.motherId);h&&c.push(h)}if(t.fatherId){const h=s.entities.entities.get(t.fatherId);h&&c.push(h)}for(const h of c)if(h.age>=hm&&h.hunger>=CS&&le(t.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=RS){t.food.pop(),h.hunger=Math.max(0,h.hunger-vr),t.feedParentCooldownTime=NS;break}}let a;if(t.hitpoints<=0?a="killed":t.hunger>=xt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-vr)):a="hunger":t.age>=t.maxAge&&(a="oldAge"),a){if(t.leaderId===t.id){const c=Hn(ht(s,t));c?(c.leaderId=c.id,c.tribeBadge=t.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=c.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(t.isPlayer){const c=Hn(ht(s,t));c?(c.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=a,xc(s,{identifier:"no_heir",type:Qo.NoHeir,message:"Your lineage has ended. You have no heir.",duration:0}))}NT(s.entities,t.position,t.gender,t.age,t.radius,t.id,s.time,t.food,t.hunger),md(s.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function X_(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/PS);const s=Math.floor(pm*(1-t.decayProgress));t.food.length>s&&t.food.splice(s),t.decayProgress>=1&&t.food.length<=0&&md(r.gameState.entities,t.id)}var pd=(t=>(t[t.BehaviorTreeBased=0]="BehaviorTreeBased",t))(pd||{});function Q_(t,r){if(t.aiBehaviorTree&&t.aiBlackboard){const o=t.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=Vo&&(t.aiBehaviorTree.execute(t,r,t.aiBlackboard),t.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle"}function b_(t,r){switch(t.aiBlackboard&&t.aiBlackboard.cleanupOldEntries(r.gameState.time),t.aiType){case pd.BehaviorTreeBased:default:Q_(t,r);break}}function Z_(t,r){t.forces.push(In(t.velocity,-.1));const o=In(en(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(t.velocity=In(t.velocity,.5))}),t.debuffs=t.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),t.velocity=gr(t.velocity,t.forces.reduce(gr,{x:0,y:0})),Bi(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=gr(t.position,In(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?K_(t,r,r.deltaTime):t.type==="humanCorpse"&&X_(t,r),t.type==="human"&&b_(t,r),t.stateMachine&&(t.stateMachine=V_(...t.stateMachine,{entity:t,updateContext:r}))}var N=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t[t.NOT_EVALUATED=3]="NOT_EVALUATED",t))(N||{});const fg="Human Behavior",q_=1;class J_{constructor(){de(this,"nodeData",new Map);de(this,"pathStack",[]);de(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,u=this.pathStack.join(" > "),a=this.nodeData.get(u)??{path:u,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};a.totalTime+=s,a.callCount++,a.minTime=Math.min(a.minTime,s),a.maxTime=Math.max(a.maxTime,s),this.nodeData.set(u,a),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let u=s,a="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(fg);if(h){const p=h.totalTime*q_/100;u=s.filter(v=>v.totalTime>p&&v.path!==fg),a="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),a="--- Behavior Tree Full Report (Root Not Found) ---"}const c=u.sort((h,p)=>p.totalTime-h.totalTime);console.log(a),c.length>0?console.table(c.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const et=new J_;function dn(t){return Array.isArray(t)?t:[t,""]}class De{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&et.nodeStart(this.name);try{for(const u of this.children){const[a,c]=dn(u.execute(r,o,s));if(a!==N.SUCCESS)return this.lastStatus=a,this.name&&s.recordNodeExecution(this.name,a,o.gameState.time,this.depth,c),a}return this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,""),N.SUCCESS}finally{this.name&&et.nodeEnd()}}}class Yr{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&et.nodeStart(this.name);try{const u=this.runningChildIndex??0;for(let a=u;a<this.children.length;a++){const c=this.children[a],[h,p]=dn(c.execute(r,o,s));if(h!==N.FAILURE){if(h===N.SUCCESS)return delete this.runningChildIndex,this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,p),N.SUCCESS;if(h===N.RUNNING)return this.runningChildIndex=a,this.lastStatus=N.RUNNING,this.name&&s.recordNodeExecution(this.name,N.RUNNING,o.gameState.time,this.depth,p),N.RUNNING}}return delete this.runningChildIndex,this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,N.FAILURE,o.gameState.time,this.depth,""),N.FAILURE}finally{this.name&&et.nodeEnd()}}}class Ee{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&et.nodeStart(this.name);try{const[u,a]=dn(this.action(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,a),u}finally{this.name&&et.nodeEnd()}}}class he{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&et.nodeStart(this.name);try{const[u,a]=dn(this.condition(r,o,s)),c=u?N.SUCCESS:N.FAILURE;return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,c,o.gameState.time,this.depth,a),c}finally{this.name&&et.nodeEnd()}}}class hg{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){et.nodeStart(this.name);try{const u=o.gameState.time;let a=s.get(this.startTimeKey);const[c,h]=dn(this.child.execute(r,o,s));if(c===N.RUNNING){a===void 0&&(s.set(this.startTimeKey,u),a=u);const p=u-a;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=N.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m),this.lastStatus}this.lastStatus=N.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}return a!==void 0&&s.delete(this.startTimeKey),this.lastStatus=c,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{et.nodeEnd()}}}class Wl{constructor(r,o,s,u=0,a){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"statusKey");de(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=a,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){et.nodeStart(this.name);try{const u=o.gameState.time,a=s.get(this.statusKey),c=s.get(this.timestampKey);if(a!==void 0&&c!==void 0){const m=u-c>this.cacheDurationHours,y=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&y){const I=(c+this.cacheDurationHours-u).toFixed(2),E=`Cache hit. Status: ${N[a]}. ${I}h left.`;return this.lastStatus=a,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,E),this.lastStatus}}const[h,p]=dn(this.child.execute(r,o,s));(h===N.SUCCESS||h===N.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,u)),this.lastStatus=h;const v=`Cache miss. Child returned ${N[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}finally{et.nodeEnd()}}}class zi{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){et.nodeStart(this.name);try{const u=o.gameState.time,a=s.get(this.cooldownKey);if(this.child.lastStatus===N.RUNNING){const[p,v]=dn(this.child.execute(r,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m)}return this.lastStatus}if(a!==void 0&&u<a){const v=`Cooldown active, ${(a-u).toFixed(2)}h left`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}const[c,h]=dn(this.child.execute(r,o,s));return(c===N.SUCCESS||c===N.RUNNING)&&s.set(this.cooldownKey,u+this.cooldownDurationHours),this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{et.nodeEnd()}}}class Si{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=u;const a=(c,h)=>{c.depth=h,c.children?c.children.forEach(p=>a(p,h+1)):c.child&&a(c.child,h+1)};a(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&et.nodeStart(this.name);try{if(r.isPlayer&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[a,c]=dn(this.child.execute(r,o,s));return this.lastStatus=a,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,c),this.lastStatus}finally{this.name&&et.nodeEnd()}}}class eT{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(a,c)=>{a.depth=c,a.children?a.children.forEach(h=>u(h,c+1)):a.child&&u(a.child,c+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&et.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isManuallyMoving)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Manual movement active, AI blocked."),this.lastStatus;const[u,a]=dn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,a),this.lastStatus}finally{this.name&&et.nodeEnd()}}}class Il{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(a,c)=>{a.depth=c,a.children?a.children.forEach(h=>u(h,c+1)):a.child&&u(a.child,c+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&et.nodeStart(this.name);try{if(r.isPlayer)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Player controlled, AI blocked."),this.lastStatus;const[u,a]=dn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,a),this.lastStatus}finally{this.name&&et.nodeEnd()}}}function tT(t){return new De([new he((r,o)=>{const s=r.hunger>=Bp,u=r.food.length>0,a=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&u&&a),`${Math.floor(r.hunger-Bp)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new Ee(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",N.RUNNING),"Eat",t+1)],"Eating",t)}function nT(t){return new De([new he((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*Im||r.isAdult&&r.hunger>ZS)return!1;const u=s_(r.id,o.gameState);return u?(s.set("fleeThreat",u),!0):!1},"Should Flee",t+1),new Ee((r,o,s)=>{const u=s.get("fleeThreat");if(!u)return N.FAILURE;r.activeAction="moving";const a=Gt(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=en(a),h=gr(r.position,In(c,_m));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c,N.RUNNING},"Execute Flee",t+1)],"Flee",t)}const Do="foodSource";function rT(t){const r=new Ee((s,u,a)=>{const c=new Map,h=at(s,u.gameState,"berryBush",Wp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||u.gameState.time>=m.claimedUntil)return!0;const y=u.gameState.entities.entities.get(m.ownerId);if(!y||y.leaderId===s.leaderId)return!0;const I=c.get(y.id)??le(s.position,y.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);return c.set(y.id,I),I>TA}),p=at(s,u.gameState,"humanCorpse",Wp,m=>m.food.length>0);let v=null;if(h&&p){const m=le(s.position,h.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height),y=le(s.position,p.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);v=m<=y?h:p}else v=h||p;return v?(a.set(Do,v),[N.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[N.FAILURE,"No food source found"]},"Find Closest Food Source",t+4),o=new Ee((s,u,a)=>{const c=a.get(Do);return!c||c.food.length===0?(a.delete(Do),[N.FAILURE,"Food source is invalid or depleted"]):le(s.position,c.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<yr?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=c.id,a.delete(Do),[N.SUCCESS,`Gathering from ${c.type}`]):(s.activeAction="moving",s.target=c.id,s.direction=un(s.position,c.position,u.gameState.mapDimensions),[N.RUNNING,`Moving to ${c.type}`])},"Move To Food and Gather",t+3);return new De([new he((s,u)=>{const a=s.food.length<s.maxFood,c=s.hunger>$S,h=ht(u.gameState,s).filter(p=>p.hunger>Zc);return[(s.isAdult&&a&&(c||h.length>0))??!1,`${c?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",t+1),new Yr([new De([new he((s,u,a)=>a.has(Do),"Has Food Source?",t+2),o],"Continue Gathering Action",t+2),new De([new Wl(r,sA,"Cache Food Source Search",t+3),o],"Find New Food Source and Gather",t+2)],"Perform or Start Gathering",t+1)],"Gather Food",t)}function iT(t){return new Ee((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),N.SUCCESS),"Idle",t)}const _l="procreationWanderStartTime",pg=(t,r)=>r.find(o=>Vr(t,o));function oT(t){const r=new he((a,c,h)=>{const p=ig(a,c.gameState,yr),v=pg(a,p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new Ee((a,c,h)=>{var v;const p=h.get("procreationPartner");return p?(a.activeAction="procreating",a.target=void 0,h.delete("procreationPartner"),h.delete(_l),(v=a.partnerIds)!=null&&v.includes(p.id)||(a.partnerIds=a.partnerIds?[...a.partnerIds,p.id]:[p.id]),N.SUCCESS):N.FAILURE},"Start Procreating"),s=new he((a,c,h)=>{const p=ig(a,c.gameState,bS),v=pg(a,p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),u=new Ee((a,c,h)=>{const p=h.get("procreationPartner");if(!p)return N.FAILURE;if(le(a.position,p.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<yr)return N.SUCCESS;a.activeAction="moving",a.target=p.id;const m=Gt(a.position,p.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height);return a.direction=en(m),N.RUNNING},"Move Towards Partner");return new De([new he(a=>!(!a.isAdult||a.gender==="female"&&a.isPregnant||a.age<SS||a.gender==="female"&&a.age>fm),"Is Fertile (age, not pregnant)",t+1),new he(a=>a.hunger<mr,"Is Healthy (hunger)",t+1),new he(a=>(a.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new Yr([new De([new he((a,c)=>Bm(a.position,c.gameState,"berryBush",QS)>=XS,"Is Environment Viable (food)",t+3),new Ee((a,c,h)=>(h.delete(_l),N.SUCCESS),"Clear Wander Timer",t+3)],"Sufficient Food Path",t+2),new De([new he((a,c)=>{if(a.gender==="male"){const h=ht(c.gameState,a);return!Hn(h)}return!1},"Is Male Without Heir",t+3),new Ee((a,c,h)=>{const p=h.get(_l);if(p===void 0)return h.set(_l,c.gameState.time),[N.FAILURE,"Starting heirless wander timer"];const v=c.gameState.time-p;return v>=AS?[N.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[N.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",t+3)],"Heirless Desperation Path",t+2)],"Check Environment Or Desperation",t+1),new he((a,c,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(a.id)&&p.partnerIds.map(m=>c.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>le(a.position,m.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<_A)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",t+1),new Yr([new De([r,o],"Procreate With Immediate Partner",t+2),new zi(rA,new De([s,u],"Seek Distant Partner Action",t+3),"Seek Distant Partner Cooldown",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const Ai="attackTarget",Br="homeCenter",mc=150;function sT(t,r,o){let s,u=1/0;for(const a of Object.values(t.entities.entities))if(a.type==="human"&&a.hitpoints>0&&ra(r,a)){const c=le(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height);c<o&&c<u&&(u=c,s=a)}return s}function lT(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const{gameState:u}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const c=u.entities.entities.get(r.attackTargetId);if(c&&c.hitpoints>0&&le(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height)<=mc){if(s.set(Ai,c),!s.get(Br)){const h=r.leaderId?Xo(r.leaderId,u):zl(r,u).length>0?og(r,u):r.position;s.set(Br,h)}return!0}}const a=sT(u,r,mc);if(a){s.set(Ai,a);const c=r.leaderId?Xo(r.leaderId,u):zl(r,u).length>0?og(r,u):r.position;return s.set(Br,c),!0}return s.set(Ai,void 0),s.set(Br,void 0),!1},"Find Attack Target",t+1),new Ee((r,o,s)=>{const u=s.get(Ai),a=s.get(Br);if(!u||!a)return N.FAILURE;const{gameState:c}=o;return le(r.position,a,c.mapDimensions.width,c.mapDimensions.height)>ym?(r.activeAction="idle",r.attackTargetId=void 0,s.set(Ai,void 0),s.set(Br,void 0),N.FAILURE):u.hitpoints<=0||le(r.position,u.position,c.mapDimensions.width,c.mapDimensions.height)>mc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(Ai,void 0),s.set(Br,void 0),N.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),N.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const aT=(t,r,o)=>{const s=ht(r.gameState,t).filter(c=>!c.isAdult);if(s.length===0)return N.FAILURE;let u=null,a=Zc;for(const c of s)c.hunger>=a&&(a=c.hunger,u=c);return u?(o.set("targetChild",u),N.SUCCESS):N.FAILURE},uT=(t,r,o)=>{const s=o.get("targetChild");return s?le(t.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>qc?(t.activeAction="moving",t.target=s.id,t.direction=un(t.position,s.position,r.gameState.mapDimensions),N.RUNNING):(t.activeAction="feeding",t.target=void 0,o.set("targetChild",void 0),N.SUCCESS):N.FAILURE};function cT(t){return new De([new he(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new Ee(aT,"Find Hungriest Child",t+1),new Ee(uT,"Move To Child and Feed",t+1)],"Feed Child",t)}function dT(t){return new De([new he(r=>!r.isAdult&&r.hunger>=Zc,"Is Hungry Child",t+1),new Ee((r,o,s)=>{const u=n_(r,o.gameState);if(u.length===0)return N.FAILURE;const a=at(r,o.gameState,"human",wS,c=>u.some(h=>h.id===c.id)&&c.food.length>0);return a?(s.set("targetParent",a),N.SUCCESS):N.FAILURE},"Find Parent With Food",t+1),new Ee((r,o,s)=>{const u=s.get("targetParent");if(!u)return N.FAILURE;const a=le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",a<=qc?(r.target=void 0,N.SUCCESS):(r.target=u.id,r.activeAction="moving",N.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}const Tl="plantingSpot";function fT(t){const r=new Ee((s,u,a)=>{const c=a.get(Tl);return!c||Hi(c,u.gameState,Jl,s.id)?(a.delete(Tl),[N.FAILURE,"Planting spot is invalid or now occupied"]):le(s.position,c,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)>yr?(s.activeAction="moving",s.target=c,s.direction=un(s.position,c,u.gameState.mapDimensions),[N.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=c,[N.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",t+3),o=new Ee((s,u,a)=>{const c=f_(s,u.gameState);return c?(a.set(Tl,c),[N.SUCCESS,`Found new spot at ${c.x.toFixed(0)}, ${c.y.toFixed(0)}`]):[N.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",t+3);return new De([new he(s=>{const u=s.food.filter(c=>c.type===Bn.Berry).length>=Yo,a=s.hunger<jS;return(s.isAdult&&u&&a)??!1},"Can Plant",t+1),new he((s,u)=>{const a=Bm(s.position,u.gameState,"berryBush",WS),c=ht(u.gameState,s);return!(c.length===0||a>=c.length*5)},"Has Not Enough Nearby Bushes",t+1),new Yr([new De([new he((s,u,a)=>a.has(Tl),"Has Planting Spot?",t+2),r],"Continue Planting Action",t+2),new zi(oA,o,"Find Planting Spot Cooldown",t+2)],"Perform or Start Planting",t+1)],"Plant Bush",t)}const vc="enemiesNearby";function hT(t){const r=new he(a=>a.id===a.leaderId,"Is Leader?",t+1),o=new he(a=>!a.isCallingToAttack,"Is Not Already Calling?",t+1),s=new Ee((a,c,h)=>{const p=ad(a.position,a.id,c.gameState,Sm);return p.length>0?(h.set(vc,p),N.SUCCESS):N.FAILURE},"Find Nearby Enemies",t+1),u=new Yr([new De([new he((a,c,h)=>{const p=h.get(vc);if(!p||p.length===0)return!1;const v=od(a.id,c.gameState),m=ag(v),y=ag(p);return m>y*pA},"Is Strong Enough?",t+3),new Ee((a,c)=>(a.isCallingToAttack=!0,a.callToAttackEndTime=c.gameState.time+Fi,rt(c.gameState,_e.CallToAttack,a.position,Fi),Ze(c,Fe.CallToAttack,a.position),a.activeAction="idle",a.target=void 0,N.SUCCESS),"Issue Call to Attack",t+3)],"Attack",t+2),new Ee((a,c,h)=>{const p=h.get(vc);if(!p||p.length===0)return N.FAILURE;const v=p.map(k=>k.position),m=id(v),y=Gt(m,a.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height),I=en(y),E=gr(a.position,In(I,_m*2));return a.activeAction="moving",a.target={x:(E.x%c.gameState.mapDimensions.width+c.gameState.mapDimensions.width)%c.gameState.mapDimensions.width,y:(E.y%c.gameState.mapDimensions.height+c.gameState.mapDimensions.height)%c.gameState.mapDimensions.height},a.direction=I,N.SUCCESS},"Retreat",t+2)],"Attack or Retreat",t+2);return new De([r,o,s,new zi(gA,u,"Leader Combat Cooldown",t+1)],"Leader Combat Strategy",t)}const yc="combatTarget",Sc="homeCenter";function pT(t){const r=new he(c=>c.isAdult&&c.leaderId?c.id!==c.leaderId:!1,"Is Tribe Follower?",t+1),o=new he(c=>c.hunger<YS&&c.hitpoints>=c.maxHitpoints*Im,"Is Fit for Combat?",t+1),s=new he((c,h)=>{const p=h.gameState.entities.entities.get(c.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),u=new Ee((c,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(c.leaderId);if(!m)return N.FAILURE;const y=ad(m.position,m.id,v,qS);if(y.length===0)return N.FAILURE;y.sort((I,E)=>{const k=le(c.position,I.position,v.mapDimensions.width,v.mapDimensions.height),P=le(c.position,E.position,v.mapDimensions.width,v.mapDimensions.height);return k-P});for(const I of y)if(h_(m.id,I.id,v)<JS){p.set(yc,I);const k=Xo(m.id,v);return p.set(Sc,k),N.SUCCESS}return N.FAILURE},"Find Best Target",t+1),a=new Ee((c,h,p)=>{const v=p.get(yc),m=p.get(Sc);if(!v||!m)return N.FAILURE;const{gameState:y}=h;return le(c.position,m,y.mapDimensions.width,y.mapDimensions.height)>ym?(c.activeAction==="attacking"&&c.attackTargetId===v.id&&(c.activeAction="idle",c.attackTargetId=void 0),p.set(yc,void 0),p.set(Sc,void 0),N.FAILURE):((!c.lastTargetAcquiredEffectTime||h.gameState.time-c.lastTargetAcquiredEffectTime>qt*5)&&(rt(h.gameState,_e.TargetAcquired,c.position,qt,c.id),c.lastTargetAcquiredEffectTime=h.gameState.time),c.activeAction="attacking",c.attackTargetId=v.id,c.target=void 0,N.RUNNING)},"Attack Target",t+1);return new De([r,o,s,u,a],"Tribe Member Combat",t)}function gT(t){const r=new he((m,y)=>{if(!m.isAdult||m.gender!=="male")return!1;const I=m.partnerIds&&m.partnerIds.length>0,E=ht(y.gameState,m).length>0;return I||E},"Is Adult Male With Family?",t+1),o=new he((m,y)=>{var P;const I=pt(y.gameState);if(I){const w=Hn(ht(y.gameState,I));if((w==null?void 0:w.id)===m.id)return!1}if(!m.fatherId)return!1;const E=y.gameState.entities.entities.get(m.fatherId);return!E||((P=Hn(ht(y.gameState,E)))==null?void 0:P.id)===m.id?!1:le(m.position,E.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<nA},"Is Too Close To Father?",t+1),s=new he((m,y,I)=>I.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",t+3),u=new Ee((m,y,I)=>{const E=I.get("territoryMoveTarget"),k=I.get("territoryMoveStartTime");if(!E||!k)return[N.FAILURE,"Missing move data"];if(y.gameState.time-k>eA)return I.delete("territoryMoveTarget"),I.delete("territoryMoveStartTime"),[N.FAILURE,"Territory move timed out"];if(le(m.position,E,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<yr)return I.delete("territoryMoveTarget"),I.delete("territoryMoveStartTime"),[N.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=E;const W=Gt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=en(W),[N.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",t+3),a=new De([s,u],"Handle In-Progress Move",t+2),c=new he((m,y,I)=>I.get("territoryMoveTarget")===void 0,"Should Start New Move?",t+4),h=new Ee((m,y,I)=>{const E=sd(m.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);I.set("territoryMoveTarget",E),I.set("territoryMoveStartTime",y.gameState.time),m.activeAction="moving",m.target=E;const k=Gt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=en(k),[N.RUNNING,"Started moving to new territory"]},"Start New Territory Move",t+4),p=new De([c,h],"Start New Territory Move Action",t+3),v=new Yr([a,new zi(iA,p,"Establish Territory Cooldown",t+2)],"Establish or Continue Move",t+1);return new De([r,o,v],"Establish Family Territory",t)}function mT(t){return new De([new Ee((r,o,s)=>{const u=i_(r,o.gameState);return u?(s.set("patriarchTarget",u),[N.SUCCESS,`Found patriarch: ${u.id}`]):(s.delete("patriarchTarget"),[N.FAILURE,"No patriarch found"])},"Find Patriarch",t+1),new Ee((r,o,s)=>{const u=s.get("patriarchTarget");if(!u)return[N.FAILURE,"Patriarch target missing from blackboard"];const a=le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(a>vm){r.activeAction="moving",r.target=u.id;const c=Gt(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=en(c),[N.RUNNING,`Moving to patriarch at ${a.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[N.SUCCESS,`Arrived at patriarch at ${a.toFixed(0)}`]},"Move Towards Patriarch",t+1)],"Follow Patriarch",t)}const Ac="tribeSplitMigrationTarget";function vT(t){const r=new De([new he((o,s)=>{const{canSplit:u,progress:a}=dd(o,s.gameState);return u?[!0,`Progress: ${(a??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",t+2),new Ee((o,s,u)=>{const{gameState:a}=s;let c=u.get(Ac);if(!c){if(!o.leaderId)return N.FAILURE;const p=Xo(o.leaderId,a),v=O_(p,o,a);if(v)u.set(Ac,v),c=v;else return N.FAILURE}return le(o.position,c,a.mapDimensions.width,a.mapDimensions.height)<yr?(u.delete(Ac),o.activeAction="idle",o.target=void 0,N.SUCCESS):(o.activeAction="moving",o.target=c,N.RUNNING)},"Move to New Territory",t+2),new Ee((o,s)=>(fd(o,s.gameState),N.SUCCESS),"Perform Tribe Split",t+2)],"Tribe Split Action",t+1);return new zi(aA,r,"Tribe Split Cooldown",t)}const El="jealousyAttackTarget";function yT(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=a_(r,o.gameState,mA);return u?(s.set(El,u),[!0,`Partner cheating with ${u.id}`]):(s.delete(El),!1)},"Check for Infidelity",t+1),new Ee((r,o,s)=>{const u=s.get(El);return!u||u.hitpoints<=0?(s.delete(El),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking ${u.id}`])},"Execute Jealousy Attack",t+1)],"Jealousy Attack",t)}const wl="defendAggressor";function ST(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=c_(r,o.gameState,vA);return u?(s.set(wl,u),[!0,`Family member ${u.familyMember.id} attacked by ${u.aggressor.id}`]):(s.delete(wl),!1)},"Check Family Under Attack",t+1),new Ee((r,o,s)=>{const u=s.get(wl);return!u||u.hitpoints<=0?(s.delete(wl),[N.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking aggressor ${u.id}`])},"Execute Family Defense Attack",t+1)],"Defend Family",t)}const Cl="bushIntruder";function AT(t){return new De([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=u_(r,o.gameState,yA);return u?(s.set(Cl,u),[!0,`Intruder ${u.id} stealing berries`]):(s.delete(Cl),!1)},"Check For Intruders on Bushes",t+1),new Ee((r,o,s)=>{const u=s.get(Cl);return!u||u.hitpoints<=0?(s.delete(Cl),[N.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking intruder ${u.id}`])},"Execute Bush Defense Attack",t+1)],"Defend Claimed Bush",t)}const Rl="desperateAttackTarget";function IT(t){return new De([new he(r=>r.hunger>SA,"Is Starving",t+1),new he((r,o)=>{if(!r.isAdult)return[!1,"Not an adult"];const s=at(r,o.gameState,"berryBush",ut,a=>a.food.length>0),u=at(r,o.gameState,"humanCorpse",ut,a=>a.food.length>0);return!s&&!u},"No Other Food Available",t+1),new he((r,o,s)=>{const u=d_(r,o.gameState);return u?(s.set(Rl,u),[!0,`Found weak target ${u.id}`]):(s.delete(Rl),!1)},"Find Weak Target",t+1),new Ee((r,o,s)=>{const u=s.get(Rl);return!u||u.hitpoints<=0?(s.delete(Rl),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Desperately attacking ${u.id}`])},"Execute Desperate Attack",t+1)],"Desperate Attack",t)}function _T(t){return new De([new he((r,o)=>r.isPlayer===!0&&!!o.gameState.autopilotControls.activeAutopilotAction,"Has Player Command",t+1),new Ee((r,o)=>{const{gameState:s}=o,u=s.autopilotControls.activeAutopilotAction;if(!u)return N.FAILURE;switch(u.action){case fe.AutopilotMove:{const a=u.position;return le(r.position,a,s.mapDimensions.width,s.mapDimensions.height)<EA?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):(r.activeAction="moving",r.target=a,r.direction=un(r.position,a,s.mapDimensions),N.RUNNING)}case fe.AutopilotGather:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)>yr?(r.activeAction="moving",r.target=a.id,r.direction=un(r.position,a.position,s.mapDimensions),N.RUNNING):(r.activeAction="gathering",r.target=a.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS)}case fe.AutopilotAttack:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.hitpoints<=0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=dl?(r.activeAction="attacking",r.attackTargetId=a.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=un(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotProcreate:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||!Vr(r,a)?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=dl?(r.activeAction="procreating",s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=un(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotPlant:{if(r.activeAction==="planting")return N.RUNNING;const a=u.position;return Hi(a,s,Jl,r.id)?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a,s.mapDimensions.width,s.mapDimensions.height)<=dl?(r.activeAction="planting",r.target=a,s.autopilotControls.activeAutopilotAction=void 0,s.hasPlayerPlantedBush=!0,N.RUNNING):(r.activeAction="moving",r.target=a,r.direction=un(r.position,a,s.mapDimensions),N.RUNNING)}case fe.AutopilotFeedChild:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.isAdult||r.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=dl?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction="feeding",N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=un(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotFollowMe:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.id!==a.leaderId?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=vm?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=un(r.position,a.position,s.mapDimensions),N.RUNNING)}default:return s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE}},"Execute Player Command",t+1)],"Player Command Handler",t)}function TT(t){return new De([new he(r=>!!r.leaderId&&r.leaderId!==r.id,"Is Follower",t+1),new he((r,o)=>{if(!r.leaderId)return!1;const s=o.gameState.entities.entities.get(r.leaderId);return!!s&&s.isCallingToFollow===!0},"Is Leader Calling To Follow",t+1),new he(r=>r.hunger<KS,"Is Not Critically Hungry",t+1),new Ee((r,o)=>{if(!r.leaderId)return N.FAILURE;const s=o.gameState.entities.entities.get(r.leaderId);return s?le(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>VS?(r.activeAction="moving",r.target=s.id,r.direction=un(r.position,s.position,o.gameState.mapDimensions),N.RUNNING):(r.activeAction==="moving"&&r.target===s.id&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):N.FAILURE},"Execute Follow Leader",t+1)],"Follow Leader Command",t)}const gg="tribeMigrationCheckCooldown";function ET(t){const r=new De([new he(s=>!!s.leaderId&&s.leaderId===s.id,"Is Tribe Leader",t+2),new he((s,u)=>{var c;const a=(c=s.aiBlackboard)==null?void 0:c.get(gg);return a?u.gameState.time-a>=zp:!0},"Is Migration Check Cooldown Over",t+2),new Ee((s,u)=>{var c;(c=s.aiBlackboard)==null||c.set(gg,u.gameState.time);const a=p_(s,u.gameState);return a?(s.isCallingToFollow=!0,s.callToFollowEndTime=u.gameState.time+Ko,s.target=a,s.activeAction="moving",N.SUCCESS):N.FAILURE},"Execute Tribe Migration",t+2)],"Tribe Migration Strategy",t+1),o=new Wl(r,Fc,"Cache Tribe Migration",t+1);return new zi(zp,o,"Tribe Migration Cooldown",t)}function wT(){const t=new Yr([nT(2),ST(2),yT(2),AT(2),IT(2),_T(2),new Il(hT(3),"Gated Leader Combat Strategy",2),pT(2),new Si(lT(3),"attack","Gated Attacking",2),tT(2),new hg(new Si(rT(4),"gathering","Gated Gathering",3),Hp,"Timeout Gathering",2),new Si(cT(3),"feedChildren","Gated Feed Child",2),dT(2),new hg(new Si(fT(4),"planting","Gated Planting",3),Hp,"Timeout Planting",2),new Si(oT(3),"procreation","Gated Procreation",2),new Wl(vT(3),Fc,"Cache Tribe Split",2),new Il(ET(3),"Gated Tribe Migration",2),new Wl(gT(3),Fc,"Cache Establish Territory",2),new Si(TT(3),"followLeader","Gated Follow Leader",2),new Il(mT(2),"Gated Follow Patriarch",2),new Il(iT(2),"Gated Idle Wander",2)],"AI Root Selector",1);return new eT(t,"Manual Control Gate",0)}class CT{constructor(){de(this,"data",new Map);de(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,u,a){const c=this.nodeExecutionData.get(r)||{lastExecuted:0,status:N.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=c.executionHistory[c.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Vo&&c.executionHistory.push({time:h.time+Vo,status:N.NOT_EVALUATED}),c.executionHistory.push({time:s,status:o});const p=Rm/bt*Qt,v=s-p;c.executionHistory=c.executionHistory.filter(y=>y.time>=v);const m={...c,lastExecuted:s,status:o,depth:u,debugInfo:a};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=tA,s=[];for(const[u,a]of this.nodeExecutionData.entries())r-a.lastExecuted>o&&s.push(u);for(const u of s)this.nodeExecutionData.delete(u)}}function RT(t){t.gameState.entities.entities.forEach(o=>{Z_(o,t)})}function Wm(){return{entities:new Map,nextEntityId:1}}function gd(t,r,o){const s={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(s.id,s),s}function oa(t,r,o){return gd(t,"berryBush",{position:r,radius:Mc,food:Array.from({length:aS},()=>({type:Bn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:lS,lifespan:cS,age:0,spreadChance:dS,spreadRadius:Mc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Bo,{enteredAt:o,previousState:void 0}]})}function $l(t,r,o,s,u=!1,a=mS,c=dm,h,p,v=[],m,y){const I=a>=bc;return gd(t,"human",{position:r,radius:I?Zt:ea,hunger:c,hitpoints:Fp,maxHitpoints:Fp,age:a,gender:s,isPlayer:u,food:[],maxFood:cm,maxAge:jo,isAdult:I,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[ft,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:y,aiType:pd.BehaviorTreeBased,aiBehaviorTree:wT(),aiBlackboard:new CT})}function NT(t,r,o,s,u,a,c,h,p){return gd(t,"humanCorpse",{position:r,radius:u,gender:o,age:s,originalHumanId:a,timeOfDeath:c,decayProgress:0,food:[...Array.from({length:Math.max(pm*Math.max(mr-p,0)/mr,1)},()=>({type:Bn.Meat})),...h].map(m=>({...m,id:t.nextEntityId++})),stateMachine:void 0})}function PT(t,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],a=s?[...s.ancestorIds||[],s.id]:[],c=[...u,...a],h=[...new Set(c)],p=h.slice(Math.max(h.length-fS,0)),v=Math.random()<.5?"male":"female",m=gr(t.position,{x:5,y:5}),y=$l(o.gameState.entities,m,o.gameState.time,v,!1,0,dm/2,t.id,r,p,(s==null?void 0:s.leaderId)??t.leaderId,(s==null?void 0:s.tribeBadge)??t.tribeBadge);return Ze(o,Fe.Birth,t.position),y}function md(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class OT{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const u=s-1>>1,a=this.values[u];if(o>=a)break;this.ids[s]=this.ids[u],this.values[s]=a,s=u}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],u=this.length>>1;let a=0;for(;a<u;){let c=(a<<1)+1;const h=c+1;let p=this.ids[c],v=this.values[c];const m=this.values[h];if(h<this.length&&m<v&&(c=h,p=this.ids[h],v=m),v>=s)break;this.ids[a]=p,this.values[a]=v,a=c}this.ids[a]=o,this.values[a]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const mg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ic=3;class vd{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,u]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const a=u>>4;if(a!==Ic)throw new Error(`Got v${a} data when expected v${Ic}.`);const c=mg[u&15];if(!c)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[p]=new Uint32Array(r,o+4,1);return new vd(p,h,c,void 0,r,o)}constructor(r,o=16,s=Float64Array,u=ArrayBuffer,a,c=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=c;let h=r,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=mg.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);a&&a.byteLength!==void 0&&!a.buffer?(this.data=a,this._boxes=new this.ArrayType(this.data,c+8,p*4),this._indices=new this.IndexArrayType(this.data,c+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Ic<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new OT}add(r,o,s=r,u=o){const a=this._pos>>2,c=this._boxes;return this._indices[a]=a,c[this._pos++]=r,c[this._pos++]=o,c[this._pos++]=s,c[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),u>this.maxY&&(this.maxY=u),a}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),a=65535;for(let c=0,h=0;c<this.numItems;c++){const p=r[h++],v=r[h++],m=r[h++],y=r[h++],I=Math.floor(a*((p+m)/2-this.minX)/o),E=Math.floor(a*((v+y)/2-this.minY)/s);u[c]=DT(I,E)}Gc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let c=0,h=0;c<this._levelBounds.length-1;c++){const p=this._levelBounds[c];for(;h<p;){const v=h;let m=r[h++],y=r[h++],I=r[h++],E=r[h++];for(let k=1;k<this.nodeSize&&h<p;k++)m=Math.min(m,r[h++]),y=Math.min(y,r[h++]),I=Math.max(I,r[h++]),E=Math.max(E,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=y,r[this._pos++]=I,r[this._pos++]=E}}}search(r,o,s,u,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const h=[],p=[];for(;c!==void 0;){const v=Math.min(c+this.nodeSize*4,yg(c,this._levelBounds));for(let m=c;m<v;m+=4){if(s<this._boxes[m]||u<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const y=this._indices[m>>2]|0;c>=this.numItems*4?h.push(y):(a===void 0||a(y))&&p.push(y)}c=h.pop()}return p}neighbors(r,o,s=1/0,u=1/0,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const h=this._queue,p=[],v=u*u;e:for(;c!==void 0;){const m=Math.min(c+this.nodeSize*4,yg(c,this._levelBounds));for(let y=c;y<m;y+=4){const I=this._indices[y>>2]|0,E=vg(r,this._boxes[y],this._boxes[y+2]),k=vg(o,this._boxes[y+1],this._boxes[y+3]),P=E*E+k*k;P>v||(c>=this.numItems*4?h.push(I<<1,P):(a===void 0||a(I))&&h.push((I<<1)+1,P))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;c=h.length?h.pop()>>1:void 0}return h.clear(),p}}function vg(t,r,o){return t<r?r-t:t<=o?0:t-o}function yg(t,r){let o=0,s=r.length-1;for(;o<s;){const u=o+s>>1;r[u]>t?s=u:o=u+1}return r[o]}function Gc(t,r,o,s,u,a){if(Math.floor(s/a)>=Math.floor(u/a))return;const c=t[s+u>>1];let h=s-1,p=u+1;for(;;){do h++;while(t[h]<c);do p--;while(t[p]>c);if(h>=p)break;kT(t,r,o,h,p)}Gc(t,r,o,s,p,a),Gc(t,r,o,p+1,u,a)}function kT(t,r,o,s,u){const a=t[s];t[s]=t[u],t[u]=a;const c=4*s,h=4*u,p=r[c],v=r[c+1],m=r[c+2],y=r[c+3];r[c]=r[h],r[c+1]=r[h+1],r[c+2]=r[h+2],r[c+3]=r[h+3],r[h]=p,r[h+1]=v,r[h+2]=m,r[h+3]=y;const I=o[s];o[s]=o[u],o[u]=I}function DT(t,r){let o=t^r,s=65535^o,u=65535^(t|r),a=t&(r^65535),c=o|s>>1,h=o>>1^o,p=u>>1^s&a>>1^u,v=o&u>>1^a>>1^a;o=c,s=h,u=p,a=v,c=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&u>>2^s&a>>2,v^=s&u>>2^(o^s)&a>>2,o=c,s=h,u=p,a=v,c=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&u>>4^s&a>>4,v^=s&u>>4^(o^s)&a>>4,o=c,s=h,u=p,a=v,p^=o&u>>8^s&a>>8,v^=s&u>>8^(o^s)&a>>8,o=p^p>>1,s=v^v>>1;let m=t^r,y=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|m)>>>0}function _c(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new vd(t.length),s=new Map;for(const a of t)o.add(a.position.x,a.position.y,a.position.x,a.position.y);return o.finish(),{byRect(a){return o.search(a.left,a.top,a.right,a.bottom).map(h=>t[h])},byRadius(a,c){return o.neighbors(a.x,a.y,void 0,c).map(p=>t[p])},byProperty(a,c){var h;if(!s.has(a)){const p=new Map;for(const v of t){const m=v[a];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(a,p)}return((h=s.get(a))==null?void 0:h.get(c))||[]},resetPropertyCache(){s.clear()}}}function yd(t){const r=Array.from(t.entities.entities.values()),o=r.filter(c=>c.type==="human"),s=r.filter(c=>c.type==="berryBush"),u=r.filter(c=>c.type==="humanCorpse");return{...t,search:{human:_c(o),berryBush:_c(s),humanCorpse:_c(u)}}}var Mn=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t.AUTOPILOT="AUTOPILOT",t))(Mn||{}),jr=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t.COMMAND_BUTTONS="COMMAND_BUTTONS",t))(jr||{}),Et=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(Et||{});const UT=[{key:Mn.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver||t.hasPlayerEnabledAutopilot>2,isCompleted:!1},{key:Mn.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>hS,isCompleted:!1,minDisplayTime:eg,highlightedUIElements:[jr.HUNGER_BAR]},{key:Mn.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!at(r,t,"berryBush",ut*5,s=>s.food.length>0),getTargets:(t,r)=>{const o=[];for(const s of t.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&le(r.position,s.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:eg},{key:Mn.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=at(r,t,"berryBush",ut,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:Mn.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[jr.FOOD_BAR]},{key:Mn.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>ht(t,r).length>0,getTargets:(t,r)=>{const o=at(r,t,"human",ut,s=>Vr(r,s));return o?[o.id]:[]},isCompleted:!1},{key:Mn.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>hd(t,r).some(s=>s.type===fe.Plant)||t.hasPlayerPlantedBush===!0,isCompleted:!1},{key:Mn.AUTOPILOT,title:"Autopilot!",text:"You can turn autopilot for specific actions, press Shift and click on the action button to enable it.",condition:t=>t.hasPlayerEnabledAutopilot>2,highlightedUIElements:[jr.COMMAND_BUTTONS],isCompleted:!1}];function $m(){return{steps:UT.map(t=>({...t,isCompleted:!1}))}}function jm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Et.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function MT(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function FT(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=pt(t);if(!s){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=1/EI;switch(o.transitionState){case Et.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=a*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Et.ACTIVE);break;case Et.ACTIVE:{t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,s)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=Et.FADING_OUT);break}case Et.FADING_OUT:if(o.transitionAlpha-=a*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=MT(t);h!==null?(o.currentStepIndex=h,o.transitionState=Et.FADING_IN):(o.isActive=!1,o.transitionState=Et.INACTIVE)}break}o.transitionState!==Et.FADING_OUT&&o.transitionState!==Et.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,s)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function LT(){const t=Wm(),r=0;for(let m=0;m<sm;m++){const y={x:Math.random()*zr,y:Math.random()*Wr};oa(t,y,r)}const o=zr/2,s=Wr/2,u=$l(t,{x:o,y:s},r,"male",!0);$l(t,{x:o+50,y:s},r,"female",!1);const a=[{id:"muteButton",action:Ce.ToggleMute,currentWidth:Ri,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ni},{id:"pauseButton",action:Ce.TogglePause,currentWidth:Ri,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ni}],c=$m(),h=jm(),p={time:r,entities:t,mapDimensions:{width:zr,height:Wr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,hasPlayerPlantedBush:!1,hasPlayerEnabledAutopilot:0,masterVolume:Dm,isMuted:!1,uiButtons:a,tutorial:c,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0},notifications:[{id:"welcome",type:Qo.Hello,message:"Welcome to the game!",duration:50,targetEntityIds:[u.id],highlightedEntityIds:[u.id],timestamp:0,isDismissed:!1,creationTime:Date.now()}]},v=yd(p);return console.log("Game world initialized:",v),v}function BT(){const t=Wm(),r=0;for(let a=0;a<sm;a++){const c={x:Math.random()*zr,y:Math.random()*Wr};oa(t,c,r)}for(let a=0;a<kI;a++){const c={x:Math.random()*zr,y:Math.random()*Wr},h=Math.random()<.5?"male":"female";$l(t,c,r,h,!1)}const o=$m(),s=jm(),u={time:r,entities:t,mapDimensions:{width:zr,height:Wr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:zr/2,y:Wr/2},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,hasPlayerPlantedBush:!1,hasPlayerEnabledAutopilot:0,masterVolume:Dm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0},notifications:[]};return yd(u)}const HT="humanProcreation",xT="human",GT="human",zT=ut,WT=(t,r)=>Vr(t,r)?t.gender==="male"?t.activeAction==="procreating":t.activeAction==="procreating"&&r.activeAction==="procreating":!1,$T=(t,r,o)=>{var p,v;const{gameState:s}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},a=t.gender==="male"?t:r,c=t.gender==="female"?t:r,h=(a.partnerIds||[]).length===0;if(t.stateMachine=[Zo,{partnerId:r.id,previousState:(p=t.stateMachine)==null?void 0:p[0]}],r.stateMachine=[Zo,{partnerId:t.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id),h&&a.leaderId&&a.leaderId!==a.id){const m=s.entities.entities.get(a.leaderId);if(m){const y=Bc(a,m),I=Bc(c,m);if(!y&&!I){const E=Hc();a.leaderId=a.id,a.tribeBadge=E,c.leaderId=a.id,c.tribeBadge=E}}}else if(!t.leaderId&&!r.leaderId&&a&&c){const m=Hc();a.leaderId=a.id,a.tribeBadge=m,c.leaderId=a.id,c.tribeBadge=m}t.activeAction=void 0,rt(s,_e.Procreation,u,Mo),rt(s,_e.Partnered,t.position,qt,t.id),rt(s,_e.Partnered,r.position,qt,r.id),t.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,Ze(o,Fe.Procreate,u)},jT={id:HT,sourceType:xT,targetType:GT,maxDistance:zT,checker:WT,perform:$T},YT={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:qc,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=vr&&t.activeAction==="feeding",perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-vr),t.feedChildCooldownTime=ES,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(rt(o.gameState,_e.ChildFed,r.position,qt,r.id),r.lastChildFedEffectTime=o.gameState.time),Ze(o,Fe.ChildFed,r.position)}},VT={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:ql,checker:(t,r,o)=>{var a;if(((a=t.stateMachine)==null?void 0:a[0])!==xi||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const s=t.stateMachine[1];return o.gameState.time-s.attackStartTime>=gm},perform:(t,r,o)=>{const s=Gt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=e_(en(s),r.direction);if(Math.abs(u)<xS*Math.PI/180&&Math.random()<GS)rt(o.gameState,_e.AttackDeflected,r.position,qt,r.id);else{let h=OS;t.gender==="male"&&(h*=LS),t.isAdult||(h*=BS),(!r.isAdult||r.age>=hm)&&t.isAdult&&(h*=HS),r.hitpoints-=h,r.movementSlowdown={modifier:DS,endTime:o.gameState.time+US},rt(o.gameState,_e.Hit,r.position,qt,r.id);const v=Gt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=In(v,kS);r.forces.push(m),r.hitpoints<=0?Ze(o,Fe.HumanDeath,r.position):Ze(o,Fe.Attack,t.position)}t.attackCooldown=mm;const c=t.stateMachine[1];c.attackStartTime=o.gameState.time,rt(o.gameState,_e.Attack,t.position,qt,t.id)}},KT={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Zt*2,checker:(t,r,{gameState:o})=>le(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const s=le(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const a=(t.radius+r.radius-s)*.05,c=en(Mm(t.position,r.position)),h=In(c,a);t.forces.push(h),r.forces.push(In(h,-1))}},XT={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===ia&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+lm,rt(o.gameState,_e.BushClaimed,r.position,qt),Ze(o,Fe.Gather,t.position)}},QT={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===ia&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,Ze(o,Fe.Gather,t.position)}},bT=[XT,QT],ZT=[KT,...bT,jT,YT,VT];function qT(t){const{gameState:r}=t,o=r,s=Array.from(r.entities.entities.values());for(const u of ZT)for(const a of s){if(u.sourceType&&a.type!==u.sourceType)continue;const c=o.search[u.targetType].byRadius(a.position,u.maxDistance);for(const h of c){if(a.id===h.id)continue;le(a.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(a,h,t)&&u.perform(a,h,t)}}}function JT(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const eE=1/60;function tE(t,r){const o=pt(t);o&&(t.viewportCenter=rd(t.viewportCenter,o.position,Qc*r))}function nE(t){for(const o of t.entities.entities.values())o.isHighlighted=!1;const r=t.notifications.filter(o=>!o.isDismissed);for(const o of r)if(o.highlightedEntityIds)for(const s of o.highlightedEntityIds){const u=t.entities.entities.get(s);u&&(u.isHighlighted=!0)}}function sa(t,r){if(t.isPaused)return t;for(;r>0;){const o=yd(t),s=Math.min(r,eE);if(o.gameOver)return o;const u=s*(Qt/bt);o.time+=u,tE(o,s),y_(o),nE(o),RT({gameState:o,deltaTime:s}),qT({gameState:o,deltaTime:s}),JT(o),FT(o,s),t=o,r-=s}return t}function Sg(t,r,o){t.save();const{x:s,y:u,width:a,height:c}=r.rect,h=ZA;if(t.beginPath(),t.moveTo(s+h,u),t.lineTo(s+a-h,u),t.quadraticCurveTo(s+a,u,s+a,u+h),t.lineTo(s+a,u+c-h),t.quadraticCurveTo(s+a,u+c,s+a-h,u+c),t.lineTo(s+h,u+c),t.quadraticCurveTo(s,u+c,s,u+c-h),t.lineTo(s,u+h),t.quadraticCurveTo(s,u,s+h,u),t.closePath(),t.fillStyle=r.isDisabled?JA:r.backgroundColor,t.fill(),r.activated){t.save();const p=(Math.sin(Date.now()/1e3*oI)+1)/2;t.strokeStyle=iI,t.lineWidth=2+p*2,t.globalAlpha=.7+p*.3,t.stroke(),t.restore()}if(r.lastActivated){const p=Date.now()-r.lastActivated;if(p<Vp){const v=1-p/Vp;t.fillStyle=tI,t.globalAlpha=v,t.fill(),t.globalAlpha=1}}o&&!r.isDisabled&&(t.fillStyle=qA,t.globalAlpha=.5,t.fill(),t.globalAlpha=1),t.fillStyle=r.isDisabled?eI:r.textColor,r.icon?(t.font=`${c*.55}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(r.icon,s+a/2,u+c/2),r.text&&(t.font=`${c*.18}px "Press Start 2P", Arial`,t.textAlign="right",t.textBaseline="bottom",t.fillText(r.text,s+a-4,u+c-2))):(t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,s+a/2,u+c/2)),t.restore()}function rE(t,r,o,s){t.save(),t.font=`${Kp}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="bottom";const a=t.measureText(o).width,c=Kp,h=a+Xp*2,p=c+Xp*2,v=s.x-h/2,m=t.canvas.height,y=r.y<m/2?r.y+r.height-Qp:r.y-p+Qp;t.fillStyle=nI,t.fillRect(v,y,h,p),t.fillStyle=rI,t.fillText(o,s.x,y+p/2+c/2),t.restore()}function iE(t,r,o){t.save();const s=pt(r);r.uiButtons=[];const u=[{id:"fastForwardButton",action:Ce.FastForward,text:"FFWD [T]",currentWidth:Ri*1.3,backgroundColor:ml,textColor:Ni,tooltip:"Fast-forward time",rect:{x:0,y:0,width:0,height:0}},{id:"pauseButton",action:Ce.TogglePause,text:r.isPaused?"UN[P]AUSE":"[P]AUSE",backgroundColor:r.isPaused?ac:ml,currentWidth:r.isPaused?Ri*1.4:Ri*1.1,tooltip:r.isPaused?"Resume Game":"Pause Game",rect:{x:0,y:0,width:0,height:0},textColor:Ni},{id:"muteButton",action:Ce.ToggleMute,text:r.isMuted?"UN[M]UTE":"[M]UTE",backgroundColor:r.isMuted?ac:ml,tooltip:`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`,currentWidth:Ri,rect:{x:0,y:0,width:0,height:0},textColor:Ni}];if(r.uiButtons.push(...u),s){const v=hd(r,s),m=new Set(v.map(B=>B.type));let y=[{playerAction:fe.Gather,buttonAction:Ce.CommandGather,shortcut:"E",name:"Gather",toggleKey:"gathering",condition:()=>s.isAdult===!0},{playerAction:fe.Eat,buttonAction:Ce.CommandEat,shortcut:"F",name:"Eat"},{playerAction:fe.Plant,buttonAction:Ce.CommandPlant,shortcut:"B",name:"Plant",toggleKey:"planting",condition:()=>s.isAdult===!0},{playerAction:fe.Procreate,buttonAction:Ce.ToggleProcreationBehavior,shortcut:"R",name:"Procreation",toggleKey:"procreation",condition:()=>s.isAdult===!0},{playerAction:fe.FeedChild,buttonAction:Ce.ToggleFeedChildBehavior,shortcut:"H",name:"Feed Child",toggleKey:"feedChildren",condition:()=>s.isAdult===!0},{playerAction:fe.Attack,buttonAction:Ce.ToggleAttackBehavior,shortcut:"Q",name:"Attack",toggleKey:"attack",condition:()=>s.isAdult===!0},{playerAction:fe.FollowMe,buttonAction:Ce.CommandFollowMe,shortcut:"C",name:"Follow Me",toggleKey:"followLeader",condition:()=>s.isAdult===!0},{playerAction:fe.CallToAttack,buttonAction:Ce.CommandCallToAttack,shortcut:"V",name:"Call to Attack",condition:()=>s.isAdult===!0},{playerAction:fe.TribeSplit,buttonAction:Ce.CommandTribeSplit,shortcut:"K",name:"Split Tribe",condition:()=>s.leaderId!==void 0&&s.leaderId!==s.id&&s.isAdult===!0}];y=y.filter(B=>B.condition?B.condition():!0);const I=1,E=y.length,k=E*Fr+(E-1)*yl,P=I*Fr+(I-1)*yl,w=(o-k)/2,W=t.canvas.height-P-20;y.forEach((B,x)=>{const $=x%E,ue=Math.floor(x/E),M=w+$*(Fr+yl),j=W+ue*(Fr+yl),pe=!!B.toggleKey,Re=pe&&r.autopilotControls.behaviors[B.toggleKey],Ue=!m.has(B.playerAction),Ve=!r.hasPlayerEnabledAutopilot||r.hasPlayerEnabledAutopilot<3?" (Press Shift to toggle Auto)":"",Be=pe?`${B.name}${Ve}`:B.name,Le=Re?ac:ml,ye={id:`commandButton_${B.name}`,action:B.buttonAction,rect:{x:M,y:j,width:Fr,height:Fr},icon:na[B.playerAction],text:B.shortcut,backgroundColor:Le,textColor:Ni,currentWidth:Fr,tooltip:Be,isDisabled:Ue,activated:Re};r.uiButtons.push(ye)})}let a=o-kt;u.forEach(v=>{const m=kt,y=a-v.currentWidth;v.rect={x:y,y:m,width:v.currentWidth,height:QA},Sg(t,v,r.hoveredButtonId===v.id),a-=v.currentWidth+bA});let c=null;r.uiButtons.filter(v=>v.id.startsWith("commandButton_")).forEach(v=>{c||(c={x:v.rect.x,y:v.rect.y,width:v.rect.width,height:v.rect.height}),c.x=Math.min(c.x,v.rect.x),c.y=Math.min(c.y,v.rect.y),c.width=Math.max(c.width,v.rect.x+v.rect.width-c.x),c.height=Math.max(c.height,v.rect.y+v.rect.height-c.y),Sg(t,v,r.hoveredButtonId===v.id)});const p=r.hoveredButtonId?r.uiButtons.find(v=>v.id===r.hoveredButtonId):void 0;return p&&p.tooltip&&r.mousePosition&&rE(t,p.rect,p.tooltip,r.mousePosition),t.restore(),{commandButtonsRect:c}}function oE(t){t.save(),t.fillStyle=mI,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=vI,t.font=`${yI}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const sE=25,lE=0,Ag=28;function Ym(t,r,o,s,u,a,c,h,p){t.save();const v=r.x-c.x+h/2,m=r.y-c.y+p/2;t.strokeStyle=s,t.lineWidth=a,t.setLineDash(u),t.beginPath(),t.arc(v,m,o+ta,0,2*Math.PI),t.stroke(),t.restore()}function aE(t,r,o,s,u,a){if(r=r.filter(m=>m.type!==fe.FollowMe),r.length===0)return;t.save(),r.forEach(m=>{m.targetEntity&&Ym(t,m.targetEntity.position,m.targetEntity.radius,ed,td,2,s,u,a)}),t.font=`${Li}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const c=o.position.x-s.x+u/2,h=o.position.y-s.y+a/2;let p=0,v={};r.forEach(m=>{const y=na[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const I=m.targetEntity.position.x-s.x+u/2,E=m.targetEntity.position.y-s.y+a/2,k=`${y}${m.key.toUpperCase()}`,P=E-m.targetEntity.radius-ta-Li/2-(v[m.targetEntity.id]-1)*Ag;t.fillText(k,I,P)}else{t.textAlign="left";const I=`${y}${m.key.toUpperCase()}`,E=c+sE,P=h+lE+p*Ag;t.fillText(I,E,P),p++,t.textAlign="center"}}),t.restore()}const re=(t,r,o,s,u,a,c)=>{a==="transparent"||s<=0||u<=0||(t.fillStyle=a,t.fillRect(Math.floor(r*c),Math.floor(o*c),Math.ceil(s*c),Math.ceil(u*c)))},Ig=10,_g=10,yn=6,Fn=4,Nl=2,uE=5,Xt=4,cE=2,St=4,dE=2,$e=3,Ii=2,hr=0,Go=hr+Fn-1,Tt=Go,be=Go+Xt-1,fE="rgba(0, 0, 0, 0.4)",hE=4,pE=1,Sd={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,s,u,a,c,h="male",p=20,v=[1,0],m=!1,y=0){const I=["dead","stunned"].includes(c),E=I?_g+4:Ig,k=I?Ig+4:_g+$e,P=.15,w=Math.min(s*(1-2*P)/E,u*(1-2*P)/k),W=E*w,B=k*w,x=r+(s-W)/2,$=o+(u-B)/2;t.save(),v[0]<0&&!I?(t.translate(x+W,$),t.scale(-1,1)):t.translate(x,$);const M="#D09A5A",j=p>50?"#BDBDBD":"#281808",pe="#7F5C4A",Re="#6B4F3A",Ue="#E0D8C0",Ve="#A0522D",Be=1-Math.max(0,Math.min(100,y))/100*.2,Le=h==="male"?1.1:.9,ye=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Ne=uE*Be*Le*ye,ge=cE*Be*Le*ye,ie=dE*Be*ye;m&&h==="female"&&(Ne*=1.5);const G=Math.round((E-Ne)/2),V=Math.round((E-yn)/2),z=G-ge,T=G+Ne,D=1,te=G+(Ne/2-D/2)-ie,q=G+(Ne/2+D/2),Se=v[1]<-.2&&Math.abs(v[0])<.7,oe=X=>{t.fillStyle=fE,t.beginPath();const ne=E/2,Oe=X;t.ellipse(Math.floor(ne*w),Math.floor(Oe*w),Math.max(1,Math.floor(hE*w)),Math.max(1,Math.floor(pE*w)),0,0,2*Math.PI),t.fill()},me=(X,ne)=>{h==="male"?(re(t,G,Go+X,Ne,Xt-Ii,ne,w),re(t,G,Go+Xt-Ii+X,Ne,Ii,pe,w)):re(t,G,Go+X,Ne,Xt,Re,w)},ce=(X,ne)=>{Se?re(t,V,hr+X,yn,Fn,j,w):(re(t,V,hr+X,yn,Fn,ne,w),re(t,V,hr+X,yn,Nl,j,w),h==="female"?(re(t,V-1,hr+Nl+X,1,Fn,j,w),re(t,V+yn,hr+Nl+X,1,Fn,j,w)):re(t,V+1,hr+2+X,yn-2,Fn-2,j,w))};switch(c){case"idle":{const X=a*Math.PI*2,ne=Math.sin(X)*.5,ae=(Math.cos(X*2)+1)*.25;oe(be+$e+1),re(t,te+ne,be+ae,ie,$e,M,w),re(t,q-ne,be+ae,ie,$e,M,w),me(ae,M),re(t,z,Tt+ae,ge,St,M,w),re(t,T,Tt+ae,ge,St,M,w),ce(ae,M);break}case"walk":{const X=a*Math.PI*2,ne=Math.sin(X)*2,ae=Math.abs(Math.cos(X))*1;oe(be+$e+1),re(t,te+ne,be+ae,ie,$e,M,w),re(t,q-ne,be+ae,ie,$e,M,w),me(ae,M),re(t,z-ne,Tt+ae,ge,St,M,w),re(t,T+ne,Tt+ae,ge,St,M,w),ce(ae,M);break}case"gathering":{const X=a*Math.PI*2,ne=1,Oe=(Math.sin(X)+1)/2*2,ae=ne+Math.abs(Math.cos(X))*.5;oe(be+$e+1),re(t,te,be+ae,ie,$e-ne,M,w),re(t,q,be+ae,ie,$e-ne,M,w),me(ae,M),re(t,z+1,Tt+ae-Oe,ge,St,M,w),re(t,T-1,Tt+ae-Oe,ge,St,M,w),ce(ae,M);break}case"eat":{oe(be+$e+1),re(t,te,be+1,ie,$e-1,M,w),re(t,q,be+1,ie,$e-1,M,w),me(1,M);const Oe=(Math.sin(a*Math.PI*4)+1)/2,ae=V+yn/2,Tn=hr+Fn/2,Dt=T+(ae-T)*Oe,zt=Tt+1+(Tn-(Tt+1))*Oe;re(t,z,Tt+1,ge,St,M,w),re(t,Dt,zt,ge,St,M,w),re(t,Dt,zt-1,1,1,Ve,w),ce(1,M);break}case"procreate":{const X=(Math.sin(a*Math.PI*8)+1)/4,ne=(Math.sin(a*Math.PI*6)+1)*.5,Oe=1.5,ae=Oe-ne;oe(be+$e+1),re(t,te,be+ae,ie,$e-Oe,M,w),re(t,q,be+ae,ie,$e-Oe,M,w),me(ae,M),re(t,z,Tt+ae,ge,St,M,w),re(t,T,Tt+ae,ge,St,M,w),ce(ae,M),t.globalAlpha=X,me(ae,"white"),t.globalAlpha=1;break}case"attacking":{const X=Math.sin(a*Math.PI)*1.5,ne=Math.abs(Math.sin(a*Math.PI));oe(be+$e+1),re(t,te-X,be+ne,ie,$e,M,w),re(t,q+X*.5,be+ne,ie,$e,M,w),me(ne,M),re(t,z,Tt+ne-2,ge,St,M,w),re(t,T,Tt+ne-2.5,ge,St,M,w),ce(ne,M);break}case"defending":{oe(be+$e+1),re(t,te,be+1,ie,$e-1,M,w),re(t,q,be+1,ie,$e-1,M,w),me(1,M),re(t,z-1,Tt+1-1,ge,St,M,w),re(t,T+1,Tt+1-1,ge,St,M,w),ce(1,M);break}case"stunned":case"dead":{const X=c==="dead",ne=X?Math.min(1,a):0,Oe=ne>.5?Ue:M,ae=h==="male"?pe:Re,Tn=ne>.8?"transparent":j,Dt=E/2,zt=k/2,Sr=2;oe(k-1),re(t,Dt-ie-Sr,zt,ie,$e,Oe,w),re(t,Dt+Sr,zt,ie,$e,Oe,w),re(t,Dt-ge-Sr,zt-Xt+1,ge,St,Oe,w),re(t,Dt+Sr,zt-Xt+1,ge,St,Oe,w);const En=Dt-Ne/2,xn=zt-Xt/2;h==="male"?(ne<.7&&re(t,En,xn+Xt-Ii,Ne,Ii,ae,w),re(t,En,xn,Ne,Xt-Ii,Oe,w)):ne<.7?re(t,En,xn,Ne,Xt,ae,w):re(t,En,xn,Ne,Xt,Oe,w);const Kr=Dt-yn/2,Gn=zt-Xt/2-Fn+1;if(re(t,Kr,Gn,yn,Fn,Oe,w),Tn!=="transparent"&&re(t,Kr,Gn,yn,Nl,Tn,w),X&&ne>.6){const zn="#B0A890";for(let Ar=0;Ar<3;Ar++)re(t,En+1,xn+Ar*1+1,Ne-2,.5,zn,w)}break}default:re(t,0,0,E,k,"magenta",w);break}t.restore()}};function gE(t,r,o,s,u){const a=r.x,c=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(a-s/2,c,s,s/2),t.fill(),t.beginPath(),t.moveTo(a-s/2,c),t.lineTo(a-s/4,c-s/3),t.lineTo(a-s/6,c),t.moveTo(a-s/6,c),t.lineTo(a,c-s/2),t.lineTo(a+s/6,c),t.moveTo(a+s/6,c),t.lineTo(a+s/4,c-s/3),t.lineTo(a+s/2,c),t.stroke(),t.restore()}function qo(t,r,o,s,u,a=!1,c=!1,h=!1,p=!1){s<bc&&(o=o*.75),Sd.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,s,[0,0],!1,0);let v,m;a?(v=GA,m=Jc):c?(v=zA,m=wm):h?(v=WA,m=Em):p&&(v=$A,m=Tm),v&&m&&gE(t,r,o/2,v,m)}function mE(t,r,o,s,u,a){if(t.save(),s.length===0){t.restore();return}const c=s.length*u,h=4;let p;const v=c+(s.length-1)*h;s.length>1&&v>a?p=(a-c)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:y,isPlayer:I,isHeir:E,isPartner:k,isParent:P}=s[m],w=r+m*(u+p)+u/2,W=o+u/4;qo(t,{x:w,y:W},u,y.age,y.gender,I,E,k,P)}t.restore()}function vE(t,r,o,s){if(r.length===0)return;t.save();const u=ar,a=" 00",c=" 00";t.font=`${sc}px "Press Start 2P", Arial`;const h=t.measureText(a).width,p=t.measureText(c).width,v=ar+pl+ar+ur+h+ar/2+ur+p,m=r.length*gl+(r.length-1)*jp,y=s-m-ar;t.fillStyle=YA,t.fillRect(u,y,v,m);for(let I=0;I<r.length;I++){const E=r[I],k=y+I*(gl+jp),P=k+gl/2;E.isPlayerTribe&&(t.fillStyle=jA,t.fillRect(u,k,v,gl));let w=u+ar;t.font=`${pl}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(E.tribeBadge,w,P-pl/4),w+=pl+ar*1.1,E.adultCount>0&&(qo(t,{x:w+ur/2,y:P},ur,25,"male"),w+=ur/2,t.font=`${sc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${E.adultCount}`,w,P),w+=t.measureText(` ${E.adultCount}`).width+ar/2),E.childCount>0&&(qo(t,{x:w+ur/2,y:P},ur,1,"female"),w+=ur/2,t.font=`${sc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${E.childCount}`,w,P))}t.restore()}function yE(t,r,o,s,u){const a=Om,c=km,h=r+s-a-c,p=o+c;t.save(),t.lineWidth=2,t.strokeStyle=u?NI:RI,t.beginPath();const v=5;t.moveTo(h+v,p+v),t.lineTo(h+a-v,p+a-v),t.moveTo(h+a-v,p+v),t.lineTo(h+v,p+a-v),t.stroke(),t.restore()}function SE(t,r,o,s){const{tutorialState:u,tutorial:a}=r;if(u.transitionState===Et.INACTIVE)return;const c=a.steps[u.currentStepIndex];if(!c)return;t.save(),t.globalAlpha=u.transitionAlpha;const h=SI,p=AI,v=II,m=`${cc}px "Press Start 2P", Arial`,y=`${Jp}px "Press Start 2P", Arial`,I=TI,E=Jp*1.5;t.font=y;const k=c.text.split(" ");let P="";const w=[];for(let Ue=0;Ue<k.length;Ue++){const Ve=P+k[Ue]+" ";t.measureText(Ve).width>h-p*2&&Ue>0?(w.push(P),P=k[Ue]+" "):P=Ve}w.push(P);const W=p*2+cc+p/2+w.length*E,B=(o-h)/2,x=s-W-160;t.fillStyle=_I,t.beginPath(),t.moveTo(B+v,x),t.lineTo(B+h-v,x),t.quadraticCurveTo(B+h,x,B+h,x+v),t.lineTo(B+h,x+W-v),t.quadraticCurveTo(B+h,x+W,B+h-v,x+W),t.lineTo(B+v,x+W),t.quadraticCurveTo(B,x+W,B,x+W-v),t.lineTo(B,x+v),t.quadraticCurveTo(B,x,B+v,x),t.closePath(),t.fill(),t.fillStyle=I,t.textAlign="center",t.textBaseline="top",t.font=m,t.fillText(c.title,B+h/2,x+p),t.font=y;let $=x+p+cc+p/2;for(const Ue of w)t.fillText(Ue,B+h/2,$),$+=E;const ue=r.hoveredButtonId==="tutorial-dismiss";yE(t,B,x,h,ue),t.restore();const M=Om,j=km,pe=B+h-M-j,Re=x+j;return{x:pe,y:Re,width:M,height:M}}function Tc(t,r,o){t.save();const s=CI,u={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};t.strokeStyle=Nm,t.lineWidth=Pm+Math.sin(o*nd)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function AE(t,r){t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20)}const zc=10,IE=3,Tg=zc*.7;function _E(t,r,o,s,u){const{position:a,food:c,maxFood:h,ownerId:p,claimedUntil:v}=r;if(t.beginPath(),t.arc(a.x,a.y,zc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),p&&v&&v>u&&s){const m=o.entities.entities.get(p);if(m){let y;m.id===s.id?y=Jc:Fm(s,m,o)?y=CA:y=Cm,y&&(t.strokeStyle=y,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(a.x,a.y,zc+2,0,Math.PI*2),t.stroke())}}if(c.length>0){const m=Math.PI*2/Math.min(c.length,h);for(let y=0;y<c.length;y++){const I=y*m,E=a.x+Tg*Math.cos(I),k=a.y+Tg*Math.sin(I);t.beginPath(),t.arc(E,k,IE,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}function TE(t,r){const{position:o,gender:s,age:u,decayProgress:a,food:c,radius:h}=r;if(t.save(),t.globalAlpha=1-a,Sd.render(t,o.x-h,o.y-h,h*2,h*2,a,"dead",s,u,[0,0],!1,0),t.restore(),c.length>0){t.save(),t.font=`${xA}px Arial`,t.textAlign="center",t.textBaseline="middle";const p=Zt*.9,v=Math.PI/cm*3;c.forEach((m,y)=>{const I=y*v,E=o.x+p*Math.cos(I)*Math.atan2(y,y),k=o.y+p*Math.sin(I)*Math.atan2(y,y),P=Um[m.type];t.fillText(P,E,k)}),t.restore()}}function Pi(t,r,o,s,u,a,c,h){t.save(),t.fillStyle=c,t.fillRect(r,o,s,u),t.fillStyle=h,t.fillRect(r,o,s*Math.max(0,a),u),t.restore()}function EE(t,r,o,s,u,a){if(t.save(),s.length===0){t.restore();return}const c=s.length*u;let h;c>a||c+(s.length-1)*4>a?h=(a-c)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=Um[s[p].type];t.fillText(v,r+p*(u+h),o)}t.restore()}function wE(t,r,o,s,u){const a=r.autopilotControls.hoveredAutopilotAction;if(!a)return;let c,h=Zt/2;const p=na[a.action],v=xm[a.action],m=`${p} ${v}`;if("targetEntityId"in a){const y=r.entities.entities.get(a.targetEntityId);y&&(c=y.position,h=y.radius)}else"position"in a&&(c=a.position);if(c){Ym(t,c,h,ed,td,2,o,s,u),t.save(),t.font=`${Li}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const y=c.x-o.x+s/2,E=c.y-o.y+u/2-h-ta-Li/2;t.fillText(m,y,E),t.restore()}}function CE(t,r,o,s,u){t.save();const a=(Math.sin(u*nd)+1)/2,c=o+ta+a*5;t.strokeStyle=ed,t.lineWidth=2,t.setLineDash(td),t.beginPath(),t.arc(r.x,r.y,c,0,Math.PI*2),t.stroke(),t.setLineDash([]);const h=na[s],p=xm[s];if(h){t.font=`${Li*1.5}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle";const v=r.y-c-25;t.fillText(h,r.x,v),t.font=`${Li*.8}px "Press Start 2P", Arial`,t.fillText(p,r.x,v+25)}t.restore()}function Eg(t,r,o){t.save();const s=30,u=70,a=3,c=u/a;for(let h=0;h<a;h++){const p=h*c,v=(o*s+p)%u,m=1-v/u;t.strokeStyle=`rgba(255, 215, 0, ${m*.7})`,t.lineWidth=1+(1-m)*2,t.beginPath(),t.arc(r.x,r.y,v,0,Math.PI*2),t.stroke()}t.restore()}function RE(t,r){const{activeAutopilotAction:o,behaviors:s}=r.autopilotControls,u=pt(r);if(u&&(u.isCallingToFollow&&Eg(t,u.position,r.time),s.followLeader&&!o&&Eg(t,u.position,r.time),o)){let a,c=15;if("position"in o)a=o.position;else if("targetEntityId"in o){const h=r.entities.entities.get(o.targetEntityId);h&&(a=h.position,c=h.radius||30)}a&&o.action!==fe.AutopilotFollowMe&&!u.isCallingToFollow&&CE(t,a,c,o.action,r.time)}}function wg(t,r,o,s,u,a,c=!0){const h=r.split(" ");let p="";const v=[];for(let m=0;m<h.length;m++){const y=p+h[m]+" ";t.measureText(y).width>u&&m>0?(v.push(p),p=h[m]+" "):p=y}if(v.push(p),c)for(let m=0;m<v.length;m++)t.fillText(v[m],o,s+m*a);return v.length*a}function NE(t){return 1-Math.pow(1-t,3)}function PE(t,r,o,s){r.notificationButtonRects={dismiss:new Map,view:new Map};const u=r.notifications.filter(c=>!c.isDismissed);if(u.length===0)return;t.save();let a=s-YI;for(const c of u){const h=o-Sl-Lr;t.font=`${dc}px "Press Start 2P", Arial`;const p=h+Lr,v=Sl-Lr*2,m=wg(t,c.message,-9999,-9999,v,dc*1.2,!1),y=Lr*2+m+vn,I=a-y,E=Date.now()-c.creationTime,k=Math.min(E/jI,1),P=NE(k),w=s,W=w+(I-w)*P;t.fillStyle=HI,t.beginPath(),t.roundRect(h,W,Sl,y,BI),t.fill(),t.fillStyle=xI,t.textBaseline="top",wg(t,c.message,p,W+Lr,v,dc*1.2,!0);const B=W+y-vn-Lr/2,x=h+Sl-vn-Lr/2,$={x,y:B,width:vn,height:vn};r.notificationButtonRects.dismiss.set(c.id,$);const ue=r.hoveredButtonId===`notification-dismiss-${c.id}`;if(t.fillStyle=ue?rg:GI,t.font=`${vn}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("",$.x+$.width/2,$.y+$.height/2),c.targetEntityIds||c.targetPosition||c.targetArea||c.targetRadius){const pe={x:x-vn-ng,y:B,width:vn,height:vn};r.notificationButtonRects.view.set(c.id,pe);const Re=r.hoveredButtonId===`notification-view-${c.id}`;t.fillStyle=Re?rg:zI,t.font=`${vn*(Re?1.5:1.2)}px Arial`,t.fillText("",pe.x+pe.width/2,pe.y+pe.height/2)}a-=y+ng}t.restore()}const OE={moving:"walk",gathering:"gathering",eating:"eat",feeding:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering"};function kE(t,r){var h;const{radius:o,position:s,activeAction:u="idle"}=r,a=((h=r.stateMachine)==null?void 0:h[0])||"N/A",c=r.isAdult?Zt+20:Zt*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,s.x,s.y-c),t.fillText(`State: ${a}`,s.x,s.y-c+10),t.fillText(`HP: ${r.hitpoints}`,s.x,s.y-c+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-c+30),t.restore(),t.beginPath(),t.arc(s.x,s.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function DE(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();t.save(),t.font=`${aI}px Arial`,t.textAlign="left",t.textBaseline="top";const u=y=>{switch(y){case N.SUCCESS:return cI;case N.FAILURE:return dI;case N.RUNNING:return fI;case N.NOT_EVALUATED:case null:default:return hI}},a=y=>{if(!y.name||!s.has(y.name))return{width:0,height:0};let I=0,E=0;const k=s.get(y.name),P=` ${y.name}`+(k!=null&&k.debugInfo?`: ${k.debugInfo}`:""),w=t.measureText(P).width,W=(y.depth??0)*bp+8+w+qp+Po+20;if(I=Math.max(I,W),E+=uc,y.children)for(const B of y.children){const x=a(B);I=Math.max(I,x.width),E+=x.height}else if(y.child){const B=a(y.child);I=Math.max(I,B.width),E+=B.height}return{width:I,height:E}},c=(y,I,E,k)=>{if(!y.name||!s.has(y.name))return I;let P=I;const w=s.get(y.name),W=E+2+(y.depth??0)*bp;let B=N.NOT_EVALUATED,x=Zp,$="";if(w){B=w.status,$=w.debugInfo;const j=gI/bt*Qt,pe=o-w.lastExecuted,Re=Math.max(0,1-pe/j);x=t_(Zp,pI,Re),pe>Vo&&(B=N.NOT_EVALUATED)}const ue=u(B);t.fillStyle=ue,t.fillText("",W,P),t.fillStyle=x;const M=` ${y.name}`+($?`: ${$}`:"");if(t.fillText(M,W+8,P),w&&w.executionHistory.length>0){const{executionHistory:j}=w,pe=Rm/bt*Qt,Re=o,Ue=Re-pe,Ve=E+k-Po-qp;let Be=Ve;const Le=P+(uc-vl)/2,ye=j.filter(D=>D.time<Ue);let Ne=ye.length>0?ye[ye.length-1].status:null,ge=Ue;const ie=j.filter(D=>D.time>=Ue&&D.time<=Re),G=Po/pe;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(Ve,Le,Po,vl);for(const D of ie){const q=(D.time-ge)*G;q>0&&(t.fillStyle=u(Ne),t.fillRect(Be,Le,q,vl),Be+=q),Ne=D.status,ge=D.time}o-ge>Vo&&(Ne=N.NOT_EVALUATED);const z=(Re-ge)*G;t.fillStyle=u(Ne);const T=Ve+Po-Be;t.fillRect(Be,Le,Math.min(z,T),vl)}if(P+=uc,y.children)for(const j of y.children)P=c(j,P,E,k);else y.child&&(P=c(y.child,P,E,k));return P},{width:h,height:p}=a(r.aiBehaviorTree);if(p===0){t.restore();return}const v=r.position.x+sI,m=r.position.y+lI-p/2;t.fillStyle=uI,t.fillRect(v,m,h,p+4),c(r.aiBehaviorTree,m+2,v,h),t.restore()}function UE(t,r,o,s,u){t.save(),t.font=`${Lc}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-(s?Zt:ea)-Lc-u),t.restore()}function ME(t,r,o,s,u){const a=r.x,c=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(a-s/2,c,s,s/2),t.fill(),t.beginPath(),t.moveTo(a-s/2,c),t.lineTo(a-s/4,c-s/3),t.lineTo(a-s/6,c),t.moveTo(a-s/6,c),t.lineTo(a,c-s/2),t.lineTo(a+s/6,c),t.moveTo(a+s/6,c),t.lineTo(a+s/4,c-s/3),t.lineTo(a+s/2,c),t.stroke(),t.restore()}function FE(t,r,o){var h;const{position:s,radius:u}=r,a=s.x-lc/2,c=s.y-u-VA;if(((h=r.stateMachine)==null?void 0:h[0])===xi){const p=r.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/gm,1);Pi(t,a,c,lc,Yp,m,Ci,KA)}else if(r.attackCooldown&&r.attackCooldown>0){const p=1-r.attackCooldown/mm;Pi(t,a,c,lc,Yp,p,Ci,XA)}}function LE(t,r,o){const u="";t.save(),t.font="15px Arial",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=3,t.fillText(u,r.x,r.y-o),t.restore()}function BE(t,r,o=!1,s=!1,u=!1,a=!1,c=!1,h=!1,p=!1,v=!1,m,y){const{position:I,activeAction:E="idle"}=r,k=r.isAdult?Zt:Zt*.6,P=OE[E]||"idle";Sd.render(t,I.x-k,I.y-k,k*2,k*2,r.animationProgress||0,P,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(t.save(),t.strokeStyle=Cm,t.lineWidth=2,t.beginPath(),t.arc(I.x,I.y,k+3,0,2*Math.PI),t.stroke(),t.restore());let w,W;if(c?(w=NA,W=wm):o?(w=RA,W=Jc):u?(w=PA,W=wA):s?(w=OA,W=Tm):a&&(w=kA,W=Em),w&&W&&ME(t,I,k,w,W),r.tribeBadge&&UE(t,I,r.tribeBadge,r.isAdult??!1,w??0),p){let x=(r.isAdult?Zt:ea)+5;w&&(x+=w),r.tribeBadge&&(x+=Lc),LE(t,I,x)}const B=v&&(y===void 0||r.id===y);B&&r.aiBlackboard&&DE(t,r,m),FE(t,r,m),B&&kE(t,r)}const Vm=15;function Cg(t,r,o,s,u=1.5){const a=o-r.startTime,c=Math.min(a/r.duration,1),h=1-c,v=1+Math.sin(c*Math.PI*2)*(u-1),m=Vm*v;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),t.fillStyle=s,t.fill(),t.restore()}function _i(t,r,o,s,u=2){const a=o-r.startTime,c=Math.min(a/r.duration,1),h=1-c,p=Vm*2*c;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,p,0,Math.PI*2),t.strokeStyle=s,t.lineWidth=u,t.stroke(),t.restore()}function cr(t,r,o,s){const u=o-r.startTime,a=Math.min(u/r.duration,1),c=1-a,h=-20*a;t.save(),t.globalAlpha=c,t.font="20px Arial",t.textAlign="center",t.fillText(s,r.position.x,r.position.y+h),t.restore()}function HE(t,r,o){switch(r.type){case _e.Hunger:Cg(t,r,o,"rgba(255, 165, 0, 0.7)",1);break;case _e.Procreation:cr(t,r,o,"");break;case _e.Pregnant:Cg(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case _e.TargetAcquired:_i(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case _e.Attack:cr(t,r,o,"");break;case _e.Partnered:cr(t,r,o,"");break;case _e.BushClaimed:_i(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case _e.BushClaimLost:_i(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case _e.Eating:cr(t,r,o,"");break;case _e.ChildFed:cr(t,r,o,"");break;case _e.AttackDeflected:cr(t,r,o,"");break;case _e.AttackResisted:cr(t,r,o,"");break;case _e.Hit:cr(t,r,o,"");break;case _e.SeizeBuildup:_i(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case _e.Seize:_i(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case _e.CallToAttack:_i(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Rg(t,r,o,s,u,a,c){t.save();const{position:h}=r;t.strokeStyle=s,t.lineWidth=u+Math.sin(c*a)*(u/2),t.setLineDash([8,8]),t.beginPath(),t.arc(h.x,h.y,o,0,2*Math.PI),t.stroke(),t.restore()}function Ti(t,r,o,s,u,...a){const c={...u.position};for(let h=-o;h<=o;h+=o)for(let p=-r;p<=r;p+=r)u.position.x=c.x+p,u.position.y=c.y+h,s(t,u,...a);u.position=c}function xE(t,r,o){const s=pt(r),u=s?ht(r,s):[],a=Hn(u),{width:c,height:h}=r.mapDimensions;Array.from(r.entities.entities.values()).sort((m,y)=>m.position.y-y.position.y||m.id-y.id).forEach(m=>{var y,I;if(m.type==="berryBush")Ti(t,c,h,_E,m,r,s,r.time);else if(m.type==="human"){const E=m,k=E.id===(s==null?void 0:s.id),P=u.some(M=>M.id===E.id),w=E.id===(a==null?void 0:a.id),W=s&&(E.id===s.motherId||E.id===s.fatherId),B=s&&(((y=E.partnerIds)==null?void 0:y.includes(s.id))||((I=s.partnerIds)==null?void 0:I.includes(E.id))),x=(s==null?void 0:s.attackTargetId)===E.id,$=E.leaderId?r.entities.entities.get(E.leaderId):void 0,ue=s?E.leaderId===s.id&&E.activeAction==="moving"&&E.target===E.leaderId&&($==null?void 0:$.isCallingToFollow):!1;Ti(t,c,h,BE,E,k,W,P,B,w,x,ue,o,r.time,r.debugCharacterId)}else m.type==="humanCorpse"&&Ti(t,c,h,TE,m)}),r.visualEffects.forEach(m=>{Ti(t,c,h,HE,m,r.time)});const v=r.notifications.filter(m=>!m.isDismissed);for(const m of v)if(m.highlightedEntityIds&&m.renderHighlights)for(const y of m.highlightedEntityIds){const I=r.entities.entities.get(y);I&&Ti(t,c,h,Rg,I,VI,KI,QI,XI,r.time)}if(r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const m of r.tutorialState.highlightedEntityIds){const y=r.entities.entities.get(m);y&&Ti(t,c,h,Rg,y,wI,Nm,Pm,nd,r.time)}}function GE(t,r,o,s,u,a){let c=null,h=null;t.textAlign="left";let p=kt+fr;const m=r.time/(Qt/bt)/am%1,y=Oo[Ei.Time],I=25,E=kt+I;t.fillText(y,kt,p+Bt/2+fr/3),Pi(t,E,p,lr,Bt,m,Ci,HA),p+=Bt+Un;const k=p+Mr/2,P=p+(Mr-Bt)/2,w=5;qo(t,{x:kt*2,y:k},Mr,5,o.gender,!1,!1,!1);const W=kt+Mr+w,B=lr+I-(Mr+w)*2;Pi(t,W,P,B,Bt,Math.floor(o.age)/jo,Ci,BA),qo(t,{x:W+B+w+Mr/2,y:k},Mr,jo,o.gender,!1,!1,!1),p+=Bt+Un*2;const x=[],$=new Set;if(x.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),$.add(o.id),s&&!$.has(s.id)&&(x.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),$.add(s.id)),u.forEach(ye=>{$.has(ye.id)||(x.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),$.add(ye.id))}),a.forEach(ye=>{$.has(ye.id)||(x.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),$.add(ye.id))}),o.motherId&&!$.has(o.motherId)){const ye=r.entities.entities.get(o.motherId);ye&&(x.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),$.add(ye.id))}if(o.fatherId&&!$.has(o.fatherId)){const ye=r.entities.entities.get(o.fatherId);ye&&(x.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),$.add(ye.id))}const ue=Oo[Ei.Family],M=10,j=kt+fr+M,pe=lr+I-(fr+M),Re=p+hl/2;t.font=`${fr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(ue,kt,Re);const Ue=p+hl/2;mE(t,j,Ue,x,hl,pe),p+=hl+Un,t.textBaseline="alphabetic";const Ve=Oo[Ei.Hitpoints];t.fillText(Ve,kt,p+Bt/2+fr/3),Pi(t,E,p,lr,Bt,o.hitpoints/o.maxHitpoints,Ci,LA),p+=Bt+Un;const Be=Oo[Ei.Hunger];t.fillText(Be,kt,p+Bt/2+fr/3),Pi(t,E,p,lr,Bt,(xt-o.hunger)/xt,Ci,FA),c={x:kt,y:p-Un/2,width:lr+I,height:Bt+Un},p+=Bt+Un,t.textBaseline="middle";const Le=Oo[Ei.Food];return t.fillText(Le,kt,p+fl/2),EE(t,E,p+fl/2,o.food,fl,lr),h={x:kt,y:p-Un/5,width:lr+I,height:fl+Un},t.textBaseline="alphabetic",{hungerBarRect:c,foodBarRect:h}}function jl(t,r,o,s,u,a=!1){var h;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-s.x,t.canvas.height/2-s.y),!a&&r.gameOver){t.restore(),AE(t,r);return}xE(t,r,o);const c=r.notifications.filter(p=>!p.isDismissed);for(const p of c){const v=(Math.sin(r.time*$I)+1)/2;t.globalAlpha=v*.5+.25,t.fillStyle=WI,p.targetArea&&t.fillRect(p.targetArea.x,p.targetArea.y,p.targetArea.width,p.targetArea.height),p.targetRadius&&(t.beginPath(),t.arc(p.targetRadius.x,p.targetRadius.y,p.targetRadius.radius,0,Math.PI*2),t.fill())}if(t.globalAlpha=1,RE(t,r),t.restore(),!a){t.fillStyle=DA,t.font=`${fr}px "Press Start 2P", Arial`,t.shadowColor=UA,t.shadowBlur=MA;const p=pt(r);let v=null,m=null;if(p){const E=ht(r,p),k=Hn(E),P=((h=p.partnerIds)==null?void 0:h.map(W=>r.entities.entities.get(W)).filter(W=>W!==void 0))||[],w=GE(t,r,p,k,P,E);v=w.hungerBarRect,m=w.foodBarRect}const y=o_(r,p==null?void 0:p.leaderId);vE(t,y,t.canvas.width,t.canvas.height);const{commandButtonsRect:I}=iE(t,r,t.canvas.width);if(t.shadowColor="transparent",t.shadowBlur=0,p&&(wE(t,r,s,t.canvas.width,t.canvas.height),u.length>0&&aE(t,u,p,s,t.canvas.width,t.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:E}=r.tutorialState;E.has(jr.HUNGER_BAR)&&v&&Tc(t,v,r.time),E.has(jr.FOOD_BAR)&&m&&Tc(t,m,r.time),E.has(jr.COMMAND_BUTTONS)&&I&&Tc(t,I,r.time)}if(r.tutorialState.isActive){const E=SE(t,r,t.canvas.width,t.canvas.height);E&&r.uiButtons.push({id:"tutorial-dismiss",action:Ce.DismissTutorial,rect:E,text:"",currentWidth:E.width,backgroundColor:"transparent",textColor:"transparent"})}PE(t,r,t.canvas.width,t.canvas.height),r.isPaused&&oE(t)}}const zE=_n.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,WE=_n.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,$E=_n.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,jE=_n.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,YE=_n.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Ec="intro-soundtrack",Ng=()=>{const{setAppState:t}=Yl(),r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(BT()),u=Ae.useRef(),a=Ae.useRef(s.current.viewportCenter),c=Ae.useRef();Ae.useEffect(()=>(cd(Fe.SoundTrack1,{loop:!0,trackId:Ec}),()=>{cg(Ec,2)}),[]),Ae.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const y=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,jl(o.current,s.current,!1,a.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),Ae.useEffect(()=>{const m=()=>{const I=Hm(s.current);if(I.length>0){const E=Math.floor(Math.random()*I.length);c.current=I[E].id}};m();const y=setInterval(m,DI);return()=>clearInterval(y)},[]);const[h,p]=om(m=>{if(!o.current)return;if(u.current===void 0){u.current=m;return}const y=Math.min((m-u.current)/1e3,1);s.current=sa(s.current,y);const I=c.current?s.current.entities.entities.get(c.current):void 0;if(I){const{mapDimensions:E}=s.current,{width:k,height:P}=E;let w={...I.position};const W=w.x-a.current.x;Math.abs(W)>k/2&&(W>0?w.x-=k:w.x+=k);const B=w.y-a.current.y;Math.abs(B)>P/2&&(B>0?w.y-=P:w.y+=P);let x=rd(a.current,w,Qc*y);x={x:(x.x%k+k)%k,y:(x.y%P+P)%P},a.current=x}jl(o.current,s.current,!1,a.current,[],!0),u.current=m});Ae.useEffect(()=>(p(),h),[p,h]);const v=()=>{cg(Ec,2),t("game")};return Te.jsxs(zE,{children:[Te.jsx(WE,{ref:r}),Te.jsxs($E,{children:[Te.jsx(jE,{children:"Tribe"}),Te.jsx(YE,{onClick:v,children:"Start Game"})]})]})};function VE(){return console.log("Tribe game initialized with detailed 2D world state."),LT()}const KE=({canvasRef:t,ctxRef:r,gameStateRef:o,isDebugOnRef:s,viewportCenterRef:u,playerActionHintsRef:a})=>(Ae.useEffect(()=>{const c=t.current;if(!c)return;r.current=c.getContext("2d");const h=()=>{c&&r.current&&o.current&&(c.width=window.innerWidth,c.height=window.innerHeight,jl(r.current,o.current,s.current===!0,u.current,a.current,!1))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),Te.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})),XE=(t,r,o)=>{let s;const u=l_(t,o);if(u){if(r.isAdult&&u.type==="berryBush"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(r.isAdult&&u.type==="humanCorpse"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(u.type==="human"){const a=u;r.isAdult&&ra(r,a)?s={action:fe.AutopilotAttack,targetEntityId:a.id}:Vr(r,a)?s={action:fe.AutopilotProcreate,targetEntityId:a.id}:r.food.length>0&&!a.isAdult&&(a.motherId===r.id||a.fatherId===r.id)&&(s={action:fe.AutopilotFeedChild,targetEntityId:a.id})}}else o.autopilotControls.isManuallyPlanting&&r.food.filter(a=>a.type===Bn.Berry).length>=Yo&&ld(t,o,1,Jl,r.id)?s={action:fe.AutopilotPlant,position:t}:s={action:fe.AutopilotMove,position:t};return s},QE=(t,r)=>{if(t.isPaused||!pt(t))return;const s=t.autopilotControls.hoveredAutopilotAction;t.autopilotControls.activeAutopilotAction=void 0,s?(t.autopilotControls.activeAutopilotAction=s,(s.action===fe.AutopilotMove||s.action===fe.AutopilotGather)&&(t.hasPlayerMovedEver=!0),s.action===fe.AutopilotPlant&&(t.hasPlayerPlantedBush=!0)):t.autopilotControls.activeAutopilotAction={action:fe.AutopilotMove,position:r},t.autopilotControls.isManuallyMoving=!1,t.autopilotControls.isManuallyPlanting=!1},bE=(t,r,o)=>{var a,c,h;let s=!0,u=r;switch(t){case"m":r.isMuted=!r.isMuted,Ho(r.masterVolume,r.isMuted);break;case"=":case"+":const p=Math.min(1,r.masterVolume+.1);r.masterVolume=parseFloat(p.toFixed(1)),Ho(r.masterVolume,r.isMuted);break;case"-":const v=Math.max(0,r.masterVolume-.1);r.masterVolume=parseFloat(v.toFixed(1)),Ho(r.masterVolume,r.isMuted);break;case"t":u=sa(r,Am);break;case" ":case"p":r.isPaused=!r.isPaused;break;case"":case"`":o.current=!o.current,o.current?u.debugCharacterId=((a=pt(u))==null?void 0:a.id)??((h=(c=Hm(u))==null?void 0:c[0])==null?void 0:h.id):u.debugCharacterId=void 0;break;case"tab":o.current=!0;const m=Array.from(u.entities.entities.values()).filter(y=>y.type==="human");if(m.length>0){const y=m.sort((P,w)=>P.isPlayer?-1:P.id-w.id),I=u.debugCharacterId,k=((I?y.findIndex(P=>P.id===I):-1)+1)%y.length;u.debugCharacterId=y[k].id}else u.debugCharacterId=void 0;break;default:s=!1;break}return{newState:u,handled:s}},ZE=(t,r,o,s,u)=>{const a={gameState:o};if(r&&["e","b","r","h"].includes(t)&&o.hasPlayerEnabledAutopilot++,t==="e"){if(r){o.autopilotControls.behaviors.gathering=!o.autopilotControls.behaviors.gathering;return}const c=at(s,o,"berryBush",ut,v=>v.food.length>0&&s.food.length<s.maxFood),h=at(s,o,"humanCorpse",ut,v=>v.food.length>0&&s.food.length<s.maxFood);let p=null;c&&h?p=le(s.position,c.position,o.mapDimensions.width,o.mapDimensions.height)<=le(s.position,h.position,o.mapDimensions.width,o.mapDimensions.height)?c:h:p=c||h,p&&(s.activeAction="gathering",Ze(a,Fe.Gather,s.position))}else if(t==="r"){if(r){o.autopilotControls.behaviors.procreation=!o.autopilotControls.behaviors.procreation;return}at(s,o,"human",ut,h=>Vr(s,h))&&(s.activeAction="procreating",Ze(a,Fe.Procreate,s.position))}else if(t==="f")s.food.length>0&&(s.activeAction="eating",Ze(a,Fe.Eat,s.position));else if(t==="h"){if(r){o.autopilotControls.behaviors.feedChildren=!o.autopilotControls.behaviors.feedChildren;return}const c=u.find(h=>h.type===fe.FeedChild);c&&c.targetEntity&&(s.activeAction="feeding",s.target=c.targetEntity.id)}else if(t==="arrowup"||t==="w")s.direction.y=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowdown"||t==="s")s.direction.y=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowleft"||t==="a")s.direction.x=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowright"||t==="d")s.direction.x=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="q"){if(r){o.autopilotControls.behaviors.attack=!o.autopilotControls.behaviors.attack;return}const c=at(s,o,"human",ql,h=>ra(s,h));c&&(s.activeAction="attacking",s.attackTargetId=c.id)}else if(t==="b"){if(r){o.autopilotControls.behaviors.planting=!o.autopilotControls.behaviors.planting;return}if(u.find(h=>h.type===fe.Plant)){const h=ld(s.position,o,50,Mc);h&&(s.activeAction="planting",s.target=h,o.hasPlayerPlantedBush=!0)}}else t==="v"?(s.isCallingToAttack=!0,s.callToAttackEndTime=o.time+Fi,rt(o,_e.CallToAttack,s.position,Fi),Ze(a,Fe.CallToAttack,s.position)):t==="c"?(s.isCallingToFollow=!0,s.callToFollowEndTime=o.time+Ko,rt(o,_e.CallToFollow,s.position,Ko),Ze(a,Fe.CallToFollow,s.position)):t==="k"&&fd(s,o)},qE=(t,r,o,s)=>{t==="arrowup"||t==="w"||t==="arrowdown"||t==="s"?r.direction.y=0:(t==="arrowleft"||t==="a"||t==="arrowright"||t==="d")&&(r.direction.x=0),!s.current.has("arrowup")&&!s.current.has("arrowdown")&&!s.current.has("arrowleft")&&!s.current.has("arrowright")&&!s.current.has("w")&&!s.current.has("a")&&!s.current.has("s")&&!s.current.has("d")&&(r.activeAction==="moving"&&(r.activeAction="idle"),o.autopilotControls.isManuallyMoving=!1),!s.current.has("e")&&r.activeAction==="gathering"&&(r.activeAction="idle"),!s.current.has("f")&&r.activeAction==="eating"&&(r.activeAction="idle"),!s.current.has("r")&&r.activeAction==="procreating"&&(r.activeAction="idle"),!s.current.has("h")&&r.activeAction==="feeding"&&(r.activeAction="idle")},JE=(t,r,o)=>{let u=pt(t);if(t.debugCharacterId){const a=t.entities.entities.get(t.debugCharacterId);a&&"position"in a&&(u=a)}if(u){const{mapDimensions:a}=t,{width:c,height:h}=a;let p={...u.position};const v=p.x-r.x;Math.abs(v)>c/2&&(v>0?p.x-=c:p.x+=c);const m=p.y-r.y;Math.abs(m)>h/2&&(m>0?p.y-=h:p.y+=h);let y=rd(r,p,Qc*o);return y={x:(y.x%c+c)%c,y:(y.y%h+h)%h},y}return t.viewportCenter};function ew(t,r){const{width:o,height:s}=t.mapDimensions;t.viewportCenter={x:(r.x%o+o)%o,y:(r.y%s+s)%s}}const tw=(t,r,o)=>{const s={gameState:o},u=pt(o);u&&Ze(s,Fe.ButtonClick,u.position);const a=o.uiButtons.find(h=>h.id===t.id);a&&(a.lastActivated=Date.now()),r&&[Ce.CommandGather,Ce.CommandPlant,Ce.ToggleProcreationBehavior].includes(t.action)&&o.hasPlayerEnabledAutopilot++;const{behaviors:c}=o.autopilotControls;switch(t.action){case Ce.ToggleMute:o.isMuted=!o.isMuted,Ho(o.masterVolume,o.isMuted);break;case Ce.TogglePause:o.isPaused=!o.isPaused;break;case Ce.FastForward:return sa(o,Am);case Ce.DismissTutorial:o.tutorialState.isActive=!1;break;case Ce.CommandEat:u&&u.food.length>0&&(u.activeAction="eating");break;case Ce.CommandGather:r?c.gathering=!c.gathering:u&&(u.activeAction="gathering");break;case Ce.CommandPlant:r?c.planting=!c.planting:u&&(o.autopilotControls.isManuallyPlanting=!0);break;case Ce.ToggleProcreationBehavior:c.procreation=!c.procreation;break;case Ce.ToggleAttackBehavior:c.attack=!c.attack;break;case Ce.ToggleFeedChildBehavior:c.feedChildren=!c.feedChildren;break;case Ce.ToggleAutopilotFollowLeaderBehavior:c.followLeader=!c.followLeader;break;case Ce.CommandCallToAttack:u&&u.leaderId===u.id&&(u.isCallingToAttack=!0,u.callToAttackEndTime=o.time+Fi,rt(o,_e.CallToAttack,u.position,Fi),Ze(s,Fe.CallToAttack,u.position));break;case Ce.CommandFollowMe:r?c.followLeader=!c.followLeader:u&&u.leaderId===u.id&&(u.isCallingToFollow=!0,u.callToFollowEndTime=o.time+Ko,rt(o,_e.CallToFollow,u.position,Ko),Ze(s,Fe.CallToFollow,u.position));break;case Ce.CommandTribeSplit:u&&fd(u,o);break}return o};function nw(t,r,o){if(!t.notificationButtonRects)return!1;const s=pt(t);for(const[u,a]of t.notificationButtonRects.dismiss.entries())if(r>=a.x&&r<=a.x+a.width&&o>=a.y&&o<=a.y+a.height)return v_(t,u),s&&Ze({gameState:t},Fe.ButtonClick,s.position),!0;for(const[u,a]of t.notificationButtonRects.view.entries())if(r>=a.x&&r<=a.x+a.width&&o>=a.y&&o<=a.y+a.height){const c=t.notifications.find(h=>h.id===u);if(c){let h=c.targetPosition;if(!h&&c.targetEntityIds&&c.targetEntityIds.length>0){const p=t.entities.entities.get(c.targetEntityIds[0]);p&&(h=p.position)}return h&&ew(t,h),s&&Ze({gameState:t},Fe.ButtonClick,s.position),c.highlightedEntityIds&&(c.renderHighlights=!c.renderHighlights),!0}}return!1}const rw=({isActive:t,gameStateRef:r,canvasRef:o,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:a,keysPressed:c})=>(Ae.useEffect(()=>{const h=p=>{if(!t()||r.current.gameOver||!o.current||!p.target||p.target!==o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;if(nw(r.current,m,y))return;const E=r.current.uiButtons.find(P=>m>=P.rect.x&&m<=P.rect.x+P.rect.width&&y>=P.rect.y&&y<=P.rect.y+P.rect.height);if(E){r.current=tw(E,p.shiftKey,r.current);return}const k=sg({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);QE(r.current,k)};return window.addEventListener("mousedown",h),()=>{window.removeEventListener("mousedown",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=p=>{if(!t()||!o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;r.current.mousePosition={x:m,y};let I;if(r.current.notificationButtonRects){for(const[k,P]of r.current.notificationButtonRects.dismiss.entries())if(m>=P.x&&m<=P.x+P.width&&y>=P.y&&y<=P.y+P.height){I=`notification-dismiss-${k}`;break}if(!I){for(const[k,P]of r.current.notificationButtonRects.view.entries())if(m>=P.x&&m<=P.x+P.width&&y>=P.y&&y<=P.y+P.height){I=`notification-view-${k}`;break}}}if(!I)for(let k=r.current.uiButtons.length-1;k>=0;k--){const P=r.current.uiButtons[k];if(m>=P.rect.x&&m<=P.rect.x+P.rect.width&&y>=P.rect.y&&y<=P.rect.y+P.rect.height){I=P.id;break}}if(r.current.hoveredButtonId=I,I){r.current.autopilotControls.hoveredAutopilotAction=void 0;return}const E=pt(r.current);if(E){const k=sg({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);r.current.autopilotControls.hoveredAutopilotAction=XE(k,E,r.current)}else r.current.autopilotControls.hoveredAutopilotAction=void 0};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();if((m===" "||m==="p"||m==="tab")&&v.preventDefault(),m==="escape"){r.current.autopilotControls.activeAutopilotAction=void 0;return}const y=bE(m,r.current,a);if(r.current=y.newState,y.handled)return;const I=pt(r.current);I&&(c.current.add(m),ZE(m,v.shiftKey,r.current,I,u.current))},p=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();c.current.delete(m);const y=pt(r.current);y&&qE(m,y,r.current,c)};return window.addEventListener("keydown",h),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",p)}},[t,r,u,a,c]),null),iw=({gameStateRef:t,ctxRef:r,isDebugOnRef:o,viewportCenterRef:s,playerActionHintsRef:u,keysPressed:a,canvasRef:c,setAppState:h,appState:p})=>{const v=Ae.useRef(),[m,y,I]=om(E=>{if(!r.current||!v.current){v.current=E;return}const k=Math.min(E-v.current,1e3)/1e3;t.current=sa(t.current,k);const P=pt(t.current);P?u.current=hd(t.current,P):u.current=[],s.current=JE(t.current,s.current,k),jl(r.current,t.current,o.current,s.current,u.current,!1),v.current=E,t.current.gameOver&&p!=="gameOver"&&(cd(Fe.GameOver,{masterVolume:t.current.masterVolume,isMuted:t.current.isMuted}),h("gameOver",{generations:t.current.generationCount,cause:t.current.causeOfGameOver||"Unknown"}))});return Ae.useEffect(()=>(y(),m),[y,m]),Te.jsx(rw,{isActive:I,gameStateRef:t,canvasRef:c,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:o,keysPressed:a})},Pg=()=>{const[t]=Ae.useState(()=>VE());return Te.jsx(ow,{initialState:t})},ow=({initialState:t})=>{const r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(t),u=Ae.useRef(new Set),a=Ae.useRef(!1),c=Ae.useRef(t.viewportCenter),h=Ae.useRef([]),{appState:p,setAppState:v}=Yl();return Te.jsxs(Te.Fragment,{children:[Te.jsx(KE,{canvasRef:r,ctxRef:o,gameStateRef:s,isDebugOnRef:a,viewportCenterRef:c,playerActionHintsRef:h}),Te.jsx(iw,{gameStateRef:s,ctxRef:o,isDebugOnRef:a,viewportCenterRef:c,playerActionHintsRef:h,keysPressed:u,canvasRef:r,setAppState:v,appState:p})]})},sw=_n.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,lw=_n.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Pl=_n.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,aw=_n.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,uw=()=>{const{setAppState:t,gameOverDetails:r}=Yl(),o=()=>{t("intro")};return Te.jsxs(sw,{children:[Te.jsx(lw,{children:"Game Over"}),Te.jsx(Pl,{children:"Your tribe's lineage has ended."}),r&&Te.jsxs(Te.Fragment,{children:[Te.jsxs(Pl,{children:["Generations Survived: ",r.generations]}),Te.jsxs(Pl,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Te.jsx(Pl,{children:"Game details are unavailable."}),Te.jsx(aw,{onClick:o,children:"Return to Menu"})]})},cw=nS`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function dw(t,r){Ae.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Ae.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const fw=()=>{const{appState:t,setAppState:r}=Yl();dw(t,r);const o=()=>{switch(t){case"intro":return Te.jsx(Ng,{});case"game":return Te.jsx(Pg,{});case"gameOver":return Te.jsxs(Te.Fragment,{children:[Te.jsx(Pg,{}),Te.jsx(uw,{})]});default:return Te.jsx(Ng,{})}};return Te.jsxs(Te.Fragment,{children:[Te.jsx(cw,{}),o()]})},Og=document.getElementById("root");Og?P_().then(()=>{ey.createRoot(Og).render(Te.jsx(An.StrictMode,{children:Te.jsx(ty,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Te.jsx(fw,{})})}))}):console.error("Failed to find the root element");
