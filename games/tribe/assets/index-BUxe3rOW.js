var v0=Object.defineProperty;var y0=(n,r,o)=>r in n?v0(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o;var _e=(n,r,o)=>y0(n,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function cg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zu={exports:{}},So={},$u={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function S0(){if(Xh)return Ee;Xh=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function w(T,M,re){this.props=T,this.context=M,this.refs=O,this.updater=re||R}w.prototype.isReactComponent={},w.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},w.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function U(){}U.prototype=w.prototype;function k(T,M,re){this.props=T,this.context=M,this.refs=O,this.updater=re||R}var $=k.prototype=new U;$.constructor=k,D($,w.prototype),$.isPureReactComponent=!0;var x=Array.isArray,Y=Object.prototype.hasOwnProperty,F={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function V(T,M,re){var ee,ye={},ae=null,ge=null;if(M!=null)for(ee in M.ref!==void 0&&(ge=M.ref),M.key!==void 0&&(ae=""+M.key),M)Y.call(M,ee)&&!L.hasOwnProperty(ee)&&(ye[ee]=M[ee]);var fe=arguments.length-2;if(fe===1)ye.children=re;else if(1<fe){for(var Z=Array(fe),ie=0;ie<fe;ie++)Z[ie]=arguments[ie+2];ye.children=Z}if(T&&T.defaultProps)for(ee in fe=T.defaultProps,fe)ye[ee]===void 0&&(ye[ee]=fe[ee]);return{$$typeof:n,type:T,key:ae,ref:ge,props:ye,_owner:F.current}}function ve(T,M){return{$$typeof:n,type:T.type,key:M,ref:T.ref,props:T.props,_owner:T._owner}}function ze(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function Je(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(re){return M[re]})}var Fe=/\/+/g;function Le(T,M){return typeof T=="object"&&T!==null&&T.key!=null?Je(""+T.key):M.toString(36)}function Te(T,M,re,ee,ye){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var ge=!1;if(T===null)ge=!0;else switch(ae){case"string":case"number":ge=!0;break;case"object":switch(T.$$typeof){case n:case r:ge=!0}}if(ge)return ge=T,ye=ye(ge),T=ee===""?"."+Le(ge,0):ee,x(ye)?(re="",T!=null&&(re=T.replace(Fe,"$&/")+"/"),Te(ye,M,re,"",function(ie){return ie})):ye!=null&&(ze(ye)&&(ye=ve(ye,re+(!ye.key||ge&&ge.key===ye.key?"":(""+ye.key).replace(Fe,"$&/")+"/")+T)),M.push(ye)),1;if(ge=0,ee=ee===""?".":ee+":",x(T))for(var fe=0;fe<T.length;fe++){ae=T[fe];var Z=ee+Le(ae,fe);ge+=Te(ae,M,re,Z,ye)}else if(Z=_(T),typeof Z=="function")for(T=Z.call(T),fe=0;!(ae=T.next()).done;)ae=ae.value,Z=ee+Le(ae,fe++),ge+=Te(ae,M,re,Z,ye);else if(ae==="object")throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ge}function Re(T,M,re){if(T==null)return T;var ee=[],ye=0;return Te(T,ee,"","",function(ae){return M.call(re,ae,ye++)}),ee}function pe(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(re){(T._status===0||T._status===-1)&&(T._status=1,T._result=re)},function(re){(T._status===0||T._status===-1)&&(T._status=2,T._result=re)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var se={current:null},W={transition:null},X={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:W,ReactCurrentOwner:F};function j(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Re,forEach:function(T,M,re){Re(T,function(){M.apply(this,arguments)},re)},count:function(T){var M=0;return Re(T,function(){M++}),M},toArray:function(T){return Re(T,function(M){return M})||[]},only:function(T){if(!ze(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ee.Component=w,Ee.Fragment=o,Ee.Profiler=l,Ee.PureComponent=k,Ee.StrictMode=s,Ee.Suspense=g,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ee.act=j,Ee.cloneElement=function(T,M,re){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ee=D({},T.props),ye=T.key,ae=T.ref,ge=T._owner;if(M!=null){if(M.ref!==void 0&&(ae=M.ref,ge=F.current),M.key!==void 0&&(ye=""+M.key),T.type&&T.type.defaultProps)var fe=T.type.defaultProps;for(Z in M)Y.call(M,Z)&&!L.hasOwnProperty(Z)&&(ee[Z]=M[Z]===void 0&&fe!==void 0?fe[Z]:M[Z])}var Z=arguments.length-2;if(Z===1)ee.children=re;else if(1<Z){fe=Array(Z);for(var ie=0;ie<Z;ie++)fe[ie]=arguments[ie+2];ee.children=fe}return{$$typeof:n,type:T.type,key:ye,ref:ae,props:ee,_owner:ge}},Ee.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},Ee.createElement=V,Ee.createFactory=function(T){var M=V.bind(null,T);return M.type=T,M},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(T){return{$$typeof:h,render:T}},Ee.isValidElement=ze,Ee.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:pe}},Ee.memo=function(T,M){return{$$typeof:v,type:T,compare:M===void 0?null:M}},Ee.startTransition=function(T){var M=W.transition;W.transition={};try{T()}finally{W.transition=M}},Ee.unstable_act=j,Ee.useCallback=function(T,M){return se.current.useCallback(T,M)},Ee.useContext=function(T){return se.current.useContext(T)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(T){return se.current.useDeferredValue(T)},Ee.useEffect=function(T,M){return se.current.useEffect(T,M)},Ee.useId=function(){return se.current.useId()},Ee.useImperativeHandle=function(T,M,re){return se.current.useImperativeHandle(T,M,re)},Ee.useInsertionEffect=function(T,M){return se.current.useInsertionEffect(T,M)},Ee.useLayoutEffect=function(T,M){return se.current.useLayoutEffect(T,M)},Ee.useMemo=function(T,M){return se.current.useMemo(T,M)},Ee.useReducer=function(T,M,re){return se.current.useReducer(T,M,re)},Ee.useRef=function(T){return se.current.useRef(T)},Ee.useState=function(T){return se.current.useState(T)},Ee.useSyncExternalStore=function(T,M,re){return se.current.useSyncExternalStore(T,M,re)},Ee.useTransition=function(){return se.current.useTransition()},Ee.version="18.3.1",Ee}var Qh;function Rc(){return Qh||(Qh=1,$u.exports=S0()),$u.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function A0(){if(Zh)return So;Zh=1;var n=Rc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,g,v){var m,y={},_=null,R=null;v!==void 0&&(_=""+v),g.key!==void 0&&(_=""+g.key),g.ref!==void 0&&(R=g.ref);for(m in g)s.call(g,m)&&!u.hasOwnProperty(m)&&(y[m]=g[m]);if(h&&h.defaultProps)for(m in g=h.defaultProps,g)y[m]===void 0&&(y[m]=g[m]);return{$$typeof:r,type:h,key:_,ref:R,props:y,_owner:l.current}}return So.Fragment=o,So.jsx=d,So.jsxs=d,So}var qh;function E0(){return qh||(qh=1,zu.exports=A0()),zu.exports}var De=E0(),Se=Rc();const yn=cg(Se);var na={},Wu={exports:{}},Pt={},ju={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function T0(){return bh||(bh=1,function(n){function r(W,X){var j=W.length;W.push(X);e:for(;0<j;){var T=j-1>>>1,M=W[T];if(0<l(M,X))W[T]=X,W[j]=M,j=T;else break e}}function o(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var X=W[0],j=W.pop();if(j!==X){W[0]=j;e:for(var T=0,M=W.length,re=M>>>1;T<re;){var ee=2*(T+1)-1,ye=W[ee],ae=ee+1,ge=W[ae];if(0>l(ye,j))ae<M&&0>l(ge,ye)?(W[T]=ge,W[ae]=j,T=ae):(W[T]=ye,W[ee]=j,T=ee);else if(ae<M&&0>l(ge,j))W[T]=ge,W[ae]=j,T=ae;else break e}}return X}function l(W,X){var j=W.sortIndex-X.sortIndex;return j!==0?j:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],v=[],m=1,y=null,_=3,R=!1,D=!1,O=!1,w=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(W){for(var X=o(v);X!==null;){if(X.callback===null)s(v);else if(X.startTime<=W)s(v),X.sortIndex=X.expirationTime,r(g,X);else break;X=o(v)}}function x(W){if(O=!1,$(W),!D)if(o(g)!==null)D=!0,pe(Y);else{var X=o(v);X!==null&&se(x,X.startTime-W)}}function Y(W,X){D=!1,O&&(O=!1,U(V),V=-1),R=!0;var j=_;try{for($(X),y=o(g);y!==null&&(!(y.expirationTime>X)||W&&!Je());){var T=y.callback;if(typeof T=="function"){y.callback=null,_=y.priorityLevel;var M=T(y.expirationTime<=X);X=n.unstable_now(),typeof M=="function"?y.callback=M:y===o(g)&&s(g),$(X)}else s(g);y=o(g)}if(y!==null)var re=!0;else{var ee=o(v);ee!==null&&se(x,ee.startTime-X),re=!1}return re}finally{y=null,_=j,R=!1}}var F=!1,L=null,V=-1,ve=5,ze=-1;function Je(){return!(n.unstable_now()-ze<ve)}function Fe(){if(L!==null){var W=n.unstable_now();ze=W;var X=!0;try{X=L(!0,W)}finally{X?Le():(F=!1,L=null)}}else F=!1}var Le;if(typeof k=="function")Le=function(){k(Fe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Re=Te.port2;Te.port1.onmessage=Fe,Le=function(){Re.postMessage(null)}}else Le=function(){w(Fe,0)};function pe(W){L=W,F||(F=!0,Le())}function se(W,X){V=w(function(){W(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){D||R||(D=!0,pe(Y))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return o(g)},n.unstable_next=function(W){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var j=_;_=X;try{return W()}finally{_=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var j=_;_=W;try{return X()}finally{_=j}},n.unstable_scheduleCallback=function(W,X,j){var T=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?T+j:T):j=T,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=j+M,W={id:m++,callback:X,priorityLevel:W,startTime:j,expirationTime:M,sortIndex:-1},j>T?(W.sortIndex=j,r(v,W),o(g)===null&&W===o(v)&&(O?(U(V),V=-1):O=!0,se(x,j-T))):(W.sortIndex=M,r(g,W),D||R||(D=!0,pe(Y))),W},n.unstable_shouldYield=Je,n.unstable_wrapCallback=function(W){var X=_;return function(){var j=_;_=X;try{return W.apply(this,arguments)}finally{_=j}}}}(Yu)),Yu}var Jh;function _0(){return Jh||(Jh=1,ju.exports=T0()),ju.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function w0(){if(ep)return Pt;ep=1;var n=Rc(),r=_0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(e){return g.call(y,e)?!0:g.call(m,e)?!1:v.test(e)?y[e]=!0:(m[e]=!0,!1)}function R(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D(e,t,i,a){if(t===null||typeof t>"u"||R(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,i,a,c,f,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=p}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,k);w[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,k);w[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,k);w[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,i,a){var c=w.hasOwnProperty(t)?w[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D(t,i,c,a)&&(i=null),a||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),F=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),ze=Symbol.for("react.provider"),Je=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),W=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,T;function M(e){if(T===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var re=!1;function ee(e,t){if(!e||re)return"";re=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),f=a.stack.split(`
`),p=c.length-1,S=f.length-1;1<=p&&0<=S&&c[p]!==f[S];)S--;for(;1<=p&&0<=S;p--,S--)if(c[p]!==f[S]){if(p!==1||S!==1)do if(p--,S--,0>S||c[p]!==f[S]){var A=`
`+c[p].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=p&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?M(e):""}function ye(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case F:return"Portal";case ve:return"Profiler";case V:return"StrictMode";case Le:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case ze:return(e._context.displayName||"Context")+".Provider";case Fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=Z(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pe(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Z(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function En(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dt(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=fe(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vr(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function Tn(e,t){vr(e,t);var i=fe(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jr(e,t.type,i):t.hasOwnProperty("defaultValue")&&jr(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bn(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function jr(e,t,i){(t!=="number"||En(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hn=Array.isArray;function xn(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+fe(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function yr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rd(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(o(92));if(Hn(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:fe(i)}}function id(e,t){var i=fe(t.value),a=fe(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function od(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xo,ad=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Em=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(e){Em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fi[t]=Fi[e]})});function ld(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Fi.hasOwnProperty(e)&&Fi[e]?(""+t).trim():t+"px"}function ud(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=ld(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Tm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(e,t){if(t){if(Tm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function el(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,Yr=null,Vr=null;function cd(e){if(e=ro(e)){if(typeof rl!="function")throw Error(o(280));var t=e.stateNode;t&&(t=vs(t),rl(e.stateNode,e.type,t))}}function dd(e){Yr?Vr?Vr.push(e):Vr=[e]:Yr=e}function fd(){if(Yr){var e=Yr,t=Vr;if(Vr=Yr=null,cd(e),t)for(e=0;e<t.length;e++)cd(t[e])}}function hd(e,t){return e(t)}function pd(){}var il=!1;function gd(e,t,i){if(il)return e(t,i);il=!0;try{return hd(e,t,i)}finally{il=!1,(Yr!==null||Vr!==null)&&(pd(),fd())}}function Li(e,t){var i=e.stateNode;if(i===null)return null;var a=vs(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var ol=!1;if(h)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){ol=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{ol=!1}function _m(e,t,i,a,c,f,p,S,A){var P=Array.prototype.slice.call(arguments,3);try{t.apply(i,P)}catch(H){this.onError(H)}}var Hi=!1,Qo=null,Zo=!1,sl=null,wm={onError:function(e){Hi=!0,Qo=e}};function Im(e,t,i,a,c,f,p,S,A){Hi=!1,Qo=null,_m.apply(wm,arguments)}function Cm(e,t,i,a,c,f,p,S,A){if(Im.apply(this,arguments),Hi){if(Hi){var P=Qo;Hi=!1,Qo=null}else throw Error(o(198));Zo||(Zo=!0,sl=P)}}function Sr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function md(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(Sr(e)!==e)throw Error(o(188))}function Rm(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return vd(c),e;if(f===a)return vd(c),t;f=f.sibling}throw Error(o(188))}if(i.return!==a.return)i=c,a=f;else{for(var p=!1,S=c.child;S;){if(S===i){p=!0,i=c,a=f;break}if(S===a){p=!0,a=c,i=f;break}S=S.sibling}if(!p){for(S=f.child;S;){if(S===i){p=!0,i=f,a=c;break}if(S===a){p=!0,a=f,i=c;break}S=S.sibling}if(!p)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function yd(e){return e=Rm(e),e!==null?Sd(e):null}function Sd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sd(e);if(t!==null)return t;e=e.sibling}return null}var Ad=r.unstable_scheduleCallback,Ed=r.unstable_cancelCallback,km=r.unstable_shouldYield,Pm=r.unstable_requestPaint,Xe=r.unstable_now,Nm=r.unstable_getCurrentPriorityLevel,al=r.unstable_ImmediatePriority,Td=r.unstable_UserBlockingPriority,qo=r.unstable_NormalPriority,Om=r.unstable_LowPriority,_d=r.unstable_IdlePriority,bo=null,dn=null;function Dm(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Fm,Um=Math.log,Mm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Um(e)/Mm|0)|0}var Jo=64,es=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,p=i&268435455;if(p!==0){var S=p&~c;S!==0?a=xi(S):(f&=p,f!==0&&(a=xi(f)))}else p=i&~c,p!==0?a=xi(p):f!==0&&(a=xi(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-tn(t),c=1<<i,a|=e[i],t&=~c;return a}function Lm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-tn(f),S=1<<p,A=c[p];A===-1?((S&i)===0||(S&a)!==0)&&(c[p]=Lm(S,t)):A<=t&&(e.expiredLanes|=S),f&=~S}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wd(){var e=Jo;return Jo<<=1,(Jo&4194240)===0&&(Jo=64),e}function ul(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Gi(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=i}function Hm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-tn(i),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function cl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-tn(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var Ue=0;function Id(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Cd,dl,Rd,kd,Pd,fl=!1,ns=[],Gn=null,zn=null,$n=null,zi=new Map,$i=new Map,Wn=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nd(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function Wi(e,t,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=ro(t),t!==null&&dl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Gm(e,t,i,a,c){switch(t){case"focusin":return Gn=Wi(Gn,e,t,i,a,c),!0;case"dragenter":return zn=Wi(zn,e,t,i,a,c),!0;case"mouseover":return $n=Wi($n,e,t,i,a,c),!0;case"pointerover":var f=c.pointerId;return zi.set(f,Wi(zi.get(f)||null,e,t,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,$i.set(f,Wi($i.get(f)||null,e,t,i,a,c)),!0}return!1}function Od(e){var t=Ar(e.target);if(t!==null){var i=Sr(t);if(i!==null){if(t=i.tag,t===13){if(t=md(i),t!==null){e.blockedOn=t,Pd(e.priority,function(){Rd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);tl=a,i.target.dispatchEvent(a),tl=null}else return t=ro(i),t!==null&&dl(t),e.blockedOn=i,!1;t.shift()}return!0}function Dd(e,t,i){rs(e)&&i.delete(t)}function zm(){fl=!1,Gn!==null&&rs(Gn)&&(Gn=null),zn!==null&&rs(zn)&&(zn=null),$n!==null&&rs($n)&&($n=null),zi.forEach(Dd),$i.forEach(Dd)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zm)))}function Yi(e){function t(c){return ji(c,e)}if(0<ns.length){ji(ns[0],e);for(var i=1;i<ns.length;i++){var a=ns[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Gn!==null&&ji(Gn,e),zn!==null&&ji(zn,e),$n!==null&&ji($n,e),zi.forEach(t),$i.forEach(t),i=0;i<Wn.length;i++)a=Wn[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)Od(i),i.blockedOn===null&&Wn.shift()}var Kr=x.ReactCurrentBatchConfig,is=!0;function $m(e,t,i,a){var c=Ue,f=Kr.transition;Kr.transition=null;try{Ue=1,hl(e,t,i,a)}finally{Ue=c,Kr.transition=f}}function Wm(e,t,i,a){var c=Ue,f=Kr.transition;Kr.transition=null;try{Ue=4,hl(e,t,i,a)}finally{Ue=c,Kr.transition=f}}function hl(e,t,i,a){if(is){var c=pl(e,t,i,a);if(c===null)Ol(e,t,a,os,i),Nd(e,a);else if(Gm(c,e,t,i,a))a.stopPropagation();else if(Nd(e,a),t&4&&-1<xm.indexOf(e)){for(;c!==null;){var f=ro(c);if(f!==null&&Cd(f),f=pl(e,t,i,a),f===null&&Ol(e,t,a,os,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Ol(e,t,a,null,i)}}var os=null;function pl(e,t,i,a){if(os=null,e=nl(a),e=Ar(e),e!==null)if(t=Sr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=md(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return os=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case al:return 1;case Td:return 4;case qo:case Om:return 16;case _d:return 536870912;default:return 16}default:return 16}}var jn=null,gl=null,ss=null;function Md(){if(ss)return ss;var e,t=gl,i=t.length,a,c="value"in jn?jn.value:jn.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var p=i-e;for(a=1;a<=p&&t[i-a]===c[f-a];a++);return ss=c.slice(e,1<a?1-a:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Fd(){return!1}function Ut(e){function t(i,a,c,f,p){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ls:Fd,this.isPropagationStopped=Fd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=Ut(Xr),Vi=j({},Xr,{view:0,detail:0}),jm=Ut(Vi),vl,yl,Ki,us=j({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ki&&(Ki&&e.type==="mousemove"?(vl=e.screenX-Ki.screenX,yl=e.screenY-Ki.screenY):yl=vl=0,Ki=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Ld=Ut(us),Ym=j({},us,{dataTransfer:0}),Vm=Ut(Ym),Km=j({},Vi,{relatedTarget:0}),Sl=Ut(Km),Xm=j({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=Ut(Xm),Zm=j({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qm=Ut(Zm),bm=j({},Xr,{data:0}),Bd=Ut(bm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tv[e])?!!t[e]:!1}function Al(){return nv}var rv=j({},Vi,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iv=Ut(rv),ov=j({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=Ut(ov),sv=j({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),av=Ut(sv),lv=j({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=Ut(lv),cv=j({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dv=Ut(cv),fv=[9,13,27,32],El=h&&"CompositionEvent"in window,Xi=null;h&&"documentMode"in document&&(Xi=document.documentMode);var hv=h&&"TextEvent"in window&&!Xi,xd=h&&(!El||Xi&&8<Xi&&11>=Xi),Gd=" ",zd=!1;function $d(e,t){switch(e){case"keyup":return fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function pv(e,t){switch(e){case"compositionend":return Wd(t);case"keypress":return t.which!==32?null:(zd=!0,Gd);case"textInput":return e=t.data,e===Gd&&zd?null:e;default:return null}}function gv(e,t){if(Qr)return e==="compositionend"||!El&&$d(e,t)?(e=Md(),ss=gl=jn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mv[e.type]:t==="textarea"}function Yd(e,t,i,a){dd(a),t=ps(t,"onChange"),0<t.length&&(i=new ml("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Qi=null,Zi=null;function vv(e){cf(e,0)}function cs(e){var t=ei(e);if(ue(t))return e}function yv(e,t){if(e==="change")return t}var Vd=!1;if(h){var Tl;if(h){var _l="oninput"in document;if(!_l){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),_l=typeof Kd.oninput=="function"}Tl=_l}else Tl=!1;Vd=Tl&&(!document.documentMode||9<document.documentMode)}function Xd(){Qi&&(Qi.detachEvent("onpropertychange",Qd),Zi=Qi=null)}function Qd(e){if(e.propertyName==="value"&&cs(Zi)){var t=[];Yd(t,Zi,e,nl(e)),gd(vv,t)}}function Sv(e,t,i){e==="focusin"?(Xd(),Qi=t,Zi=i,Qi.attachEvent("onpropertychange",Qd)):e==="focusout"&&Xd()}function Av(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(Zi)}function Ev(e,t){if(e==="click")return cs(t)}function Tv(e,t){if(e==="input"||e==="change")return cs(t)}function _v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:_v;function qi(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!g.call(t,c)||!nn(e[c],t[c]))return!1}return!0}function Zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qd(e,t){var i=Zd(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zd(i)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jd(){for(var e=window,t=En();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=En(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wv(e){var t=Jd(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&bd(i.ownerDocument.documentElement,i)){if(a!==null&&wl(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=qd(i,f);var p=qd(i,a);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Iv=h&&"documentMode"in document&&11>=document.documentMode,Zr=null,Il=null,bi=null,Cl=!1;function ef(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Cl||Zr==null||Zr!==En(a)||(a=Zr,"selectionStart"in a&&wl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bi&&qi(bi,a)||(bi=a,a=ps(Il,"onSelect"),0<a.length&&(t=new ml("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Zr)))}function ds(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var qr={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},Rl={},tf={};h&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function fs(e){if(Rl[e])return Rl[e];if(!qr[e])return e;var t=qr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in tf)return Rl[e]=t[i];return e}var nf=fs("animationend"),rf=fs("animationiteration"),of=fs("animationstart"),sf=fs("transitionend"),af=new Map,lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){af.set(e,t),u(t,[e])}for(var kl=0;kl<lf.length;kl++){var Pl=lf[kl],Cv=Pl.toLowerCase(),Rv=Pl[0].toUpperCase()+Pl.slice(1);Yn(Cv,"on"+Rv)}Yn(nf,"onAnimationEnd"),Yn(rf,"onAnimationIteration"),Yn(of,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(sf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function uf(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Cm(a,t,void 0,e),e.currentTarget=null}function cf(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var p=a.length-1;0<=p;p--){var S=a[p],A=S.instance,P=S.currentTarget;if(S=S.listener,A!==f&&c.isPropagationStopped())break e;uf(c,S,P),f=A}else for(p=0;p<a.length;p++){if(S=a[p],A=S.instance,P=S.currentTarget,S=S.listener,A!==f&&c.isPropagationStopped())break e;uf(c,S,P),f=A}}}if(Zo)throw e=sl,Zo=!1,sl=null,e}function He(e,t){var i=t[Bl];i===void 0&&(i=t[Bl]=new Set);var a=e+"__bubble";i.has(a)||(df(t,e,2,!1),i.add(a))}function Nl(e,t,i){var a=0;t&&(a|=4),df(i,e,a,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[hs]){e[hs]=!0,s.forEach(function(i){i!=="selectionchange"&&(kv.has(i)||Nl(i,!1,e),Nl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Nl("selectionchange",!1,t))}}function df(e,t,i,a){switch(Ud(t)){case 1:var c=$m;break;case 4:c=Wm;break;default:c=hl}i=c.bind(null,t,i,e),c=void 0,!ol||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Ol(e,t,i,a,c){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var S=a.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(p===4)for(p=a.return;p!==null;){var A=p.tag;if((A===3||A===4)&&(A=p.stateNode.containerInfo,A===c||A.nodeType===8&&A.parentNode===c))return;p=p.return}for(;S!==null;){if(p=Ar(S),p===null)return;if(A=p.tag,A===5||A===6){a=f=p;continue e}S=S.parentNode}}a=a.return}gd(function(){var P=f,H=nl(i),G=[];e:{var B=af.get(e);if(B!==void 0){var K=ml,q=e;switch(e){case"keypress":if(as(i)===0)break e;case"keydown":case"keyup":K=iv;break;case"focusin":q="focus",K=Sl;break;case"focusout":q="blur",K=Sl;break;case"beforeblur":case"afterblur":K=Sl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=av;break;case nf:case rf:case of:K=Qm;break;case sf:K=uv;break;case"scroll":K=jm;break;case"wheel":K=dv;break;case"copy":case"cut":case"paste":K=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Hd}var b=(t&4)!==0,Qe=!b&&e==="scroll",I=b?B!==null?B+"Capture":null:B;b=[];for(var E=P,C;E!==null;){C=E;var z=C.stateNode;if(C.tag===5&&z!==null&&(C=z,I!==null&&(z=Li(E,I),z!=null&&b.push(to(E,z,C)))),Qe)break;E=E.return}0<b.length&&(B=new K(B,q,null,i,H),G.push({event:B,listeners:b}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",B&&i!==tl&&(q=i.relatedTarget||i.fromElement)&&(Ar(q)||q[_n]))break e;if((K||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,K?(q=i.relatedTarget||i.toElement,K=P,q=q?Ar(q):null,q!==null&&(Qe=Sr(q),q!==Qe||q.tag!==5&&q.tag!==6)&&(q=null)):(K=null,q=P),K!==q)){if(b=Ld,z="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(b=Hd,z="onPointerLeave",I="onPointerEnter",E="pointer"),Qe=K==null?B:ei(K),C=q==null?B:ei(q),B=new b(z,E+"leave",K,i,H),B.target=Qe,B.relatedTarget=C,z=null,Ar(H)===P&&(b=new b(I,E+"enter",q,i,H),b.target=C,b.relatedTarget=Qe,z=b),Qe=z,K&&q)t:{for(b=K,I=q,E=0,C=b;C;C=br(C))E++;for(C=0,z=I;z;z=br(z))C++;for(;0<E-C;)b=br(b),E--;for(;0<C-E;)I=br(I),C--;for(;E--;){if(b===I||I!==null&&b===I.alternate)break t;b=br(b),I=br(I)}b=null}else b=null;K!==null&&ff(G,B,K,b,!1),q!==null&&Qe!==null&&ff(G,Qe,q,b,!0)}}e:{if(B=P?ei(P):window,K=B.nodeName&&B.nodeName.toLowerCase(),K==="select"||K==="input"&&B.type==="file")var J=yv;else if(jd(B))if(Vd)J=Tv;else{J=Av;var te=Sv}else(K=B.nodeName)&&K.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(J=Ev);if(J&&(J=J(e,P))){Yd(G,J,i,H);break e}te&&te(e,B,P),e==="focusout"&&(te=B._wrapperState)&&te.controlled&&B.type==="number"&&jr(B,"number",B.value)}switch(te=P?ei(P):window,e){case"focusin":(jd(te)||te.contentEditable==="true")&&(Zr=te,Il=P,bi=null);break;case"focusout":bi=Il=Zr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,ef(G,i,H);break;case"selectionchange":if(Iv)break;case"keydown":case"keyup":ef(G,i,H)}var ne;if(El)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Qr?$d(e,i)&&(le="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(le="onCompositionStart");le&&(xd&&i.locale!=="ko"&&(Qr||le!=="onCompositionStart"?le==="onCompositionEnd"&&Qr&&(ne=Md()):(jn=H,gl="value"in jn?jn.value:jn.textContent,Qr=!0)),te=ps(P,le),0<te.length&&(le=new Bd(le,e,null,i,H),G.push({event:le,listeners:te}),ne?le.data=ne:(ne=Wd(i),ne!==null&&(le.data=ne)))),(ne=hv?pv(e,i):gv(e,i))&&(P=ps(P,"onBeforeInput"),0<P.length&&(H=new Bd("onBeforeInput","beforeinput",null,i,H),G.push({event:H,listeners:P}),H.data=ne))}cf(G,t)})}function to(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ps(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Li(e,i),f!=null&&a.unshift(to(e,f,c)),f=Li(e,t),f!=null&&a.push(to(e,f,c))),e=e.return}return a}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ff(e,t,i,a,c){for(var f=t._reactName,p=[];i!==null&&i!==a;){var S=i,A=S.alternate,P=S.stateNode;if(A!==null&&A===a)break;S.tag===5&&P!==null&&(S=P,c?(A=Li(i,f),A!=null&&p.unshift(to(i,A,S))):c||(A=Li(i,f),A!=null&&p.push(to(i,A,S)))),i=i.return}p.length!==0&&e.push({event:t,listeners:p})}var Pv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function hf(e){return(typeof e=="string"?e:""+e).replace(Pv,`
`).replace(Nv,"")}function gs(e,t,i){if(t=hf(t),hf(e)!==t&&i)throw Error(o(425))}function ms(){}var Dl=null,Ul=null;function Ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,Dv=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(e){return pf.resolve(null).then(e).catch(Uv)}:Fl;function Uv(e){setTimeout(function(){throw e})}function Ll(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Yi(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Yi(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),fn="__reactFiber$"+Jr,no="__reactProps$"+Jr,_n="__reactContainer$"+Jr,Bl="__reactEvents$"+Jr,Mv="__reactListeners$"+Jr,Fv="__reactHandles$"+Jr;function Ar(e){var t=e[fn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[_n]||i[fn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=gf(e);e!==null;){if(i=e[fn])return i;e=gf(e)}return t}e=i,i=e.parentNode}return null}function ro(e){return e=e[fn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function vs(e){return e[no]||null}var Hl=[],ti=-1;function Kn(e){return{current:e}}function xe(e){0>ti||(e.current=Hl[ti],Hl[ti]=null,ti--)}function Be(e,t){ti++,Hl[ti]=e.current,e.current=t}var Xn={},dt=Kn(Xn),wt=Kn(!1),Er=Xn;function ni(e,t){var i=e.type.contextTypes;if(!i)return Xn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function It(e){return e=e.childContextTypes,e!=null}function ys(){xe(wt),xe(dt)}function mf(e,t,i){if(dt.current!==Xn)throw Error(o(168));Be(dt,t),Be(wt,i)}function vf(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(o(108,ge(e)||"Unknown",c));return j({},i,a)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,Er=dt.current,Be(dt,e),Be(wt,wt.current),!0}function yf(e,t,i){var a=e.stateNode;if(!a)throw Error(o(169));i?(e=vf(e,t,Er),a.__reactInternalMemoizedMergedChildContext=e,xe(wt),xe(dt),Be(dt,e)):xe(wt),Be(wt,i)}var wn=null,As=!1,xl=!1;function Sf(e){wn===null?wn=[e]:wn.push(e)}function Lv(e){As=!0,Sf(e)}function Qn(){if(!xl&&wn!==null){xl=!0;var e=0,t=Ue;try{var i=wn;for(Ue=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}wn=null,As=!1}catch(c){throw wn!==null&&(wn=wn.slice(e+1)),Ad(al,Qn),c}finally{Ue=t,xl=!1}}return null}var ri=[],ii=0,Es=null,Ts=0,$t=[],Wt=0,Tr=null,In=1,Cn="";function _r(e,t){ri[ii++]=Ts,ri[ii++]=Es,Es=e,Ts=t}function Af(e,t,i){$t[Wt++]=In,$t[Wt++]=Cn,$t[Wt++]=Tr,Tr=e;var a=In;e=Cn;var c=32-tn(a)-1;a&=~(1<<c),i+=1;var f=32-tn(t)+c;if(30<f){var p=c-c%5;f=(a&(1<<p)-1).toString(32),a>>=p,c-=p,In=1<<32-tn(t)+c|i<<c|a,Cn=f+e}else In=1<<f|i<<c|a,Cn=e}function Gl(e){e.return!==null&&(_r(e,1),Af(e,1,0))}function zl(e){for(;e===Es;)Es=ri[--ii],ri[ii]=null,Ts=ri[--ii],ri[ii]=null;for(;e===Tr;)Tr=$t[--Wt],$t[Wt]=null,Cn=$t[--Wt],$t[Wt]=null,In=$t[--Wt],$t[Wt]=null}var Mt=null,Ft=null,$e=!1,rn=null;function Ef(e,t){var i=Kt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Tf(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Ft=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Tr!==null?{id:In,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Kt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Mt=e,Ft=null,!0):!1;default:return!1}}function $l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wl(e){if($e){var t=Ft;if(t){var i=t;if(!Tf(e,t)){if($l(e))throw Error(o(418));t=Vn(i.nextSibling);var a=Mt;t&&Tf(e,t)?Ef(a,i):(e.flags=e.flags&-4097|2,$e=!1,Mt=e)}}else{if($l(e))throw Error(o(418));e.flags=e.flags&-4097|2,$e=!1,Mt=e}}}function _f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function _s(e){if(e!==Mt)return!1;if(!$e)return _f(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ml(e.type,e.memoizedProps)),t&&(t=Ft)){if($l(e))throw wf(),Error(o(418));for(;t;)Ef(e,t),t=Vn(t.nextSibling)}if(_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ft=Vn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Mt?Vn(e.stateNode.nextSibling):null;return!0}function wf(){for(var e=Ft;e;)e=Vn(e.nextSibling)}function oi(){Ft=Mt=null,$e=!1}function jl(e){rn===null?rn=[e]:rn.push(e)}var Bv=x.ReactCurrentBatchConfig;function io(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(p){var S=c.refs;p===null?delete S[f]:S[f]=p},t._stringRef=f,t)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function If(e){var t=e._init;return t(e._payload)}function Cf(e){function t(I,E){if(e){var C=I.deletions;C===null?(I.deletions=[E],I.flags|=16):C.push(E)}}function i(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function a(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function c(I,E){return I=rr(I,E),I.index=0,I.sibling=null,I}function f(I,E,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<E?(I.flags|=2,E):C):(I.flags|=2,E)):(I.flags|=1048576,E)}function p(I){return e&&I.alternate===null&&(I.flags|=2),I}function S(I,E,C,z){return E===null||E.tag!==6?(E=Fu(C,I.mode,z),E.return=I,E):(E=c(E,C),E.return=I,E)}function A(I,E,C,z){var J=C.type;return J===L?H(I,E,C.props.children,z,C.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===pe&&If(J)===E.type)?(z=c(E,C.props),z.ref=io(I,E,C),z.return=I,z):(z=Xs(C.type,C.key,C.props,null,I.mode,z),z.ref=io(I,E,C),z.return=I,z)}function P(I,E,C,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Lu(C,I.mode,z),E.return=I,E):(E=c(E,C.children||[]),E.return=I,E)}function H(I,E,C,z,J){return E===null||E.tag!==7?(E=Or(C,I.mode,z,J),E.return=I,E):(E=c(E,C),E.return=I,E)}function G(I,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Fu(""+E,I.mode,C),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Y:return C=Xs(E.type,E.key,E.props,null,I.mode,C),C.ref=io(I,null,E),C.return=I,C;case F:return E=Lu(E,I.mode,C),E.return=I,E;case pe:var z=E._init;return G(I,z(E._payload),C)}if(Hn(E)||X(E))return E=Or(E,I.mode,C,null),E.return=I,E;ws(I,E)}return null}function B(I,E,C,z){var J=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:S(I,E,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Y:return C.key===J?A(I,E,C,z):null;case F:return C.key===J?P(I,E,C,z):null;case pe:return J=C._init,B(I,E,J(C._payload),z)}if(Hn(C)||X(C))return J!==null?null:H(I,E,C,z,null);ws(I,C)}return null}function K(I,E,C,z,J){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(C)||null,S(E,I,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return I=I.get(z.key===null?C:z.key)||null,A(E,I,z,J);case F:return I=I.get(z.key===null?C:z.key)||null,P(E,I,z,J);case pe:var te=z._init;return K(I,E,C,te(z._payload),J)}if(Hn(z)||X(z))return I=I.get(C)||null,H(E,I,z,J,null);ws(E,z)}return null}function q(I,E,C,z){for(var J=null,te=null,ne=E,le=E=0,it=null;ne!==null&&le<C.length;le++){ne.index>le?(it=ne,ne=null):it=ne.sibling;var ke=B(I,ne,C[le],z);if(ke===null){ne===null&&(ne=it);break}e&&ne&&ke.alternate===null&&t(I,ne),E=f(ke,E,le),te===null?J=ke:te.sibling=ke,te=ke,ne=it}if(le===C.length)return i(I,ne),$e&&_r(I,le),J;if(ne===null){for(;le<C.length;le++)ne=G(I,C[le],z),ne!==null&&(E=f(ne,E,le),te===null?J=ne:te.sibling=ne,te=ne);return $e&&_r(I,le),J}for(ne=a(I,ne);le<C.length;le++)it=K(ne,I,le,C[le],z),it!==null&&(e&&it.alternate!==null&&ne.delete(it.key===null?le:it.key),E=f(it,E,le),te===null?J=it:te.sibling=it,te=it);return e&&ne.forEach(function(ir){return t(I,ir)}),$e&&_r(I,le),J}function b(I,E,C,z){var J=X(C);if(typeof J!="function")throw Error(o(150));if(C=J.call(C),C==null)throw Error(o(151));for(var te=J=null,ne=E,le=E=0,it=null,ke=C.next();ne!==null&&!ke.done;le++,ke=C.next()){ne.index>le?(it=ne,ne=null):it=ne.sibling;var ir=B(I,ne,ke.value,z);if(ir===null){ne===null&&(ne=it);break}e&&ne&&ir.alternate===null&&t(I,ne),E=f(ir,E,le),te===null?J=ir:te.sibling=ir,te=ir,ne=it}if(ke.done)return i(I,ne),$e&&_r(I,le),J;if(ne===null){for(;!ke.done;le++,ke=C.next())ke=G(I,ke.value,z),ke!==null&&(E=f(ke,E,le),te===null?J=ke:te.sibling=ke,te=ke);return $e&&_r(I,le),J}for(ne=a(I,ne);!ke.done;le++,ke=C.next())ke=K(ne,I,le,ke.value,z),ke!==null&&(e&&ke.alternate!==null&&ne.delete(ke.key===null?le:ke.key),E=f(ke,E,le),te===null?J=ke:te.sibling=ke,te=ke);return e&&ne.forEach(function(m0){return t(I,m0)}),$e&&_r(I,le),J}function Qe(I,E,C,z){if(typeof C=="object"&&C!==null&&C.type===L&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Y:e:{for(var J=C.key,te=E;te!==null;){if(te.key===J){if(J=C.type,J===L){if(te.tag===7){i(I,te.sibling),E=c(te,C.props.children),E.return=I,I=E;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===pe&&If(J)===te.type){i(I,te.sibling),E=c(te,C.props),E.ref=io(I,te,C),E.return=I,I=E;break e}i(I,te);break}else t(I,te);te=te.sibling}C.type===L?(E=Or(C.props.children,I.mode,z,C.key),E.return=I,I=E):(z=Xs(C.type,C.key,C.props,null,I.mode,z),z.ref=io(I,E,C),z.return=I,I=z)}return p(I);case F:e:{for(te=C.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){i(I,E.sibling),E=c(E,C.children||[]),E.return=I,I=E;break e}else{i(I,E);break}else t(I,E);E=E.sibling}E=Lu(C,I.mode,z),E.return=I,I=E}return p(I);case pe:return te=C._init,Qe(I,E,te(C._payload),z)}if(Hn(C))return q(I,E,C,z);if(X(C))return b(I,E,C,z);ws(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(i(I,E.sibling),E=c(E,C),E.return=I,I=E):(i(I,E),E=Fu(C,I.mode,z),E.return=I,I=E),p(I)):i(I,E)}return Qe}var si=Cf(!0),Rf=Cf(!1),Is=Kn(null),Cs=null,ai=null,Yl=null;function Vl(){Yl=ai=Cs=null}function Kl(e){var t=Is.current;xe(Is),e._currentValue=t}function Xl(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function li(e,t){Cs=e,Yl=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Yl!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(Cs===null)throw Error(o(308));ai=e,Cs.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var wr=null;function Ql(e){wr===null?wr=[e]:wr.push(e)}function kf(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,Ql(t)):(i.next=c.next,c.next=i),t.interleaved=i,Rn(e,a)}function Rn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Zn=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ie&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Rn(e,i)}return c=a.interleaved,c===null?(t.next=t,Ql(a)):(t.next=c.next,c.next=t),a.interleaved=t,Rn(e,i)}function Rs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,cl(e,i)}}function Nf(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ks(e,t,i,a){var c=e.updateQueue;Zn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var A=S,P=A.next;A.next=null,p===null?f=P:p.next=P,p=A;var H=e.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==p&&(S===null?H.firstBaseUpdate=P:S.next=P,H.lastBaseUpdate=A))}if(f!==null){var G=c.baseState;p=0,H=P=A=null,S=f;do{var B=S.lane,K=S.eventTime;if((a&B)===B){H!==null&&(H=H.next={eventTime:K,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var q=e,b=S;switch(B=t,K=i,b.tag){case 1:if(q=b.payload,typeof q=="function"){G=q.call(K,G,B);break e}G=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=b.payload,B=typeof q=="function"?q.call(K,G,B):q,B==null)break e;G=j({},G,B);break e;case 2:Zn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,B=c.effects,B===null?c.effects=[S]:B.push(S))}else K={eventTime:K,lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(P=H=K,A=G):H=H.next=K,p|=B;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;B=S,S=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);if(H===null&&(A=G),c.baseState=A,c.firstBaseUpdate=P,c.lastBaseUpdate=H,t=c.shared.interleaved,t!==null){c=t;do p|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);Rr|=p,e.lanes=p,e.memoizedState=G}}function Of(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(o(191,c));c.call(a)}}}var oo={},hn=Kn(oo),so=Kn(oo),ao=Kn(oo);function Ir(e){if(e===oo)throw Error(o(174));return e}function ql(e,t){switch(Be(ao,t),Be(so,e),Be(hn,oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ba(t,e)}xe(hn),Be(hn,t)}function ui(){xe(hn),xe(so),xe(ao)}function Df(e){Ir(ao.current);var t=Ir(hn.current),i=ba(t,e.type);t!==i&&(Be(so,e),Be(hn,i))}function bl(e){so.current===e&&(xe(hn),xe(so))}var je=Kn(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function eu(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Ns=x.ReactCurrentDispatcher,tu=x.ReactCurrentBatchConfig,Cr=0,Ye=null,et=null,nt=null,Os=!1,lo=!1,uo=0,Hv=0;function ft(){throw Error(o(321))}function nu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!nn(e[i],t[i]))return!1;return!0}function ru(e,t,i,a,c,f){if(Cr=f,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?$v:Wv,e=i(a,c),lo){f=0;do{if(lo=!1,uo=0,25<=f)throw Error(o(301));f+=1,nt=et=null,t.updateQueue=null,Ns.current=jv,e=i(a,c)}while(lo)}if(Ns.current=Ms,t=et!==null&&et.next!==null,Cr=0,nt=et=Ye=null,Os=!1,t)throw Error(o(300));return e}function iu(){var e=uo!==0;return uo=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ye.memoizedState=nt=e:nt=nt.next=e,nt}function Yt(){if(et===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=nt===null?Ye.memoizedState:nt.next;if(t!==null)nt=t,et=e;else{if(e===null)throw Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},nt===null?Ye.memoizedState=nt=e:nt=nt.next=e}return nt}function co(e,t){return typeof t=="function"?t(e):t}function ou(e){var t=Yt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=et,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var S=p=null,A=null,P=f;do{var H=P.lane;if((Cr&H)===H)A!==null&&(A=A.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var G={lane:H,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};A===null?(S=A=G,p=a):A=A.next=G,Ye.lanes|=H,Rr|=H}P=P.next}while(P!==null&&P!==f);A===null?p=a:A.next=S,nn(a,t.memoizedState)||(Ct=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=A,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Ye.lanes|=f,Rr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function su(e){var t=Yt(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);nn(f,t.memoizedState)||(Ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function Uf(){}function Mf(e,t){var i=Ye,a=Yt(),c=t(),f=!nn(a.memoizedState,c);if(f&&(a.memoizedState=c,Ct=!0),a=a.queue,au(Bf.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||nt!==null&&nt.memoizedState.tag&1){if(i.flags|=2048,fo(9,Lf.bind(null,i,a,c,t),void 0,null),rt===null)throw Error(o(349));(Cr&30)!==0||Ff(i,t,c)}return c}function Ff(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Lf(e,t,i,a){t.value=i,t.getSnapshot=a,Hf(t)&&xf(e)}function Bf(e,t,i){return i(function(){Hf(t)&&xf(e)})}function Hf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!nn(e,i)}catch{return!0}}function xf(e){var t=Rn(e,1);t!==null&&ln(t,e,1,-1)}function Gf(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=zv.bind(null,Ye,e),[t.memoizedState,e]}function fo(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function zf(){return Yt().memoizedState}function Ds(e,t,i,a){var c=pn();Ye.flags|=e,c.memoizedState=fo(1|t,i,void 0,a===void 0?null:a)}function Us(e,t,i,a){var c=Yt();a=a===void 0?null:a;var f=void 0;if(et!==null){var p=et.memoizedState;if(f=p.destroy,a!==null&&nu(a,p.deps)){c.memoizedState=fo(t,i,f,a);return}}Ye.flags|=e,c.memoizedState=fo(1|t,i,f,a)}function $f(e,t){return Ds(8390656,8,e,t)}function au(e,t){return Us(2048,8,e,t)}function Wf(e,t){return Us(4,2,e,t)}function jf(e,t){return Us(4,4,e,t)}function Yf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,i){return i=i!=null?i.concat([e]):null,Us(4,4,Yf.bind(null,t,e),i)}function lu(){}function Kf(e,t){var i=Yt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&nu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Xf(e,t){var i=Yt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&nu(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Qf(e,t,i){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(nn(i,t)||(i=wd(),Ye.lanes|=i,Rr|=i,e.baseState=!0),t)}function xv(e,t){var i=Ue;Ue=i!==0&&4>i?i:4,e(!0);var a=tu.transition;tu.transition={};try{e(!1),t()}finally{Ue=i,tu.transition=a}}function Zf(){return Yt().memoizedState}function Gv(e,t,i){var a=tr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},qf(e))bf(t,i);else if(i=kf(e,t,i,a),i!==null){var c=Et();ln(i,e,a,c),Jf(i,t,a)}}function zv(e,t,i){var a=tr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(qf(e))bf(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,S=f(p,i);if(c.hasEagerState=!0,c.eagerState=S,nn(S,p)){var A=t.interleaved;A===null?(c.next=c,Ql(t)):(c.next=A.next,A.next=c),t.interleaved=c;return}}catch{}finally{}i=kf(e,t,c,a),i!==null&&(c=Et(),ln(i,e,a,c),Jf(i,t,a))}}function qf(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function bf(e,t){lo=Os=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Jf(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,cl(e,i)}}var Ms={readContext:jt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},$v={readContext:jt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:$f,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ds(4194308,4,Yf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var i=pn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=pn();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Gv.bind(null,Ye,e),[a.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:lu,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=xv.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ye,c=pn();if($e){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),rt===null)throw Error(o(349));(Cr&30)!==0||Ff(a,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,$f(Bf.bind(null,a,f,e),[e]),a.flags|=2048,fo(9,Lf.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=pn(),t=rt.identifierPrefix;if($e){var i=Cn,a=In;i=(a&~(1<<32-tn(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=uo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Hv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wv={readContext:jt,useCallback:Kf,useContext:jt,useEffect:au,useImperativeHandle:Vf,useInsertionEffect:Wf,useLayoutEffect:jf,useMemo:Xf,useReducer:ou,useRef:zf,useState:function(){return ou(co)},useDebugValue:lu,useDeferredValue:function(e){var t=Yt();return Qf(t,et.memoizedState,e)},useTransition:function(){var e=ou(co)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Mf,useId:Zf,unstable_isNewReconciler:!1},jv={readContext:jt,useCallback:Kf,useContext:jt,useEffect:au,useImperativeHandle:Vf,useInsertionEffect:Wf,useLayoutEffect:jf,useMemo:Xf,useReducer:su,useRef:zf,useState:function(){return su(co)},useDebugValue:lu,useDeferredValue:function(e){var t=Yt();return et===null?t.memoizedState=e:Qf(t,et.memoizedState,e)},useTransition:function(){var e=su(co)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:Mf,useId:Zf,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function uu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:j({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Fs={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Et(),c=tr(e),f=kn(a,c);f.payload=t,i!=null&&(f.callback=i),t=qn(e,f,c),t!==null&&(ln(t,e,c,a),Rs(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Et(),c=tr(e),f=kn(a,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=qn(e,f,c),t!==null&&(ln(t,e,c,a),Rs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Et(),a=tr(e),c=kn(i,a);c.tag=2,t!=null&&(c.callback=t),t=qn(e,c,a),t!==null&&(ln(t,e,a,i),Rs(t,e,a))}};function eh(e,t,i,a,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,p):t.prototype&&t.prototype.isPureReactComponent?!qi(i,a)||!qi(c,f):!0}function th(e,t,i){var a=!1,c=Xn,f=t.contextType;return typeof f=="object"&&f!==null?f=jt(f):(c=It(t)?Er:dt.current,a=t.contextTypes,f=(a=a!=null)?ni(e,c):Xn),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fs,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function nh(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Fs.enqueueReplaceState(t,t.state,null)}function cu(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Zl(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=jt(f):(f=It(t)?Er:dt.current,c.context=ni(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(uu(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Fs.enqueueReplaceState(c,c.state,null),ks(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,t){try{var i="",a=t;do i+=ye(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function du(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function fu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Yv=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,i){i=kn(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){$s||($s=!0,Ru=a),fu(e,t)},i}function ih(e,t,i){i=kn(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){fu(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){fu(e,t),typeof a!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),i}function oh(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Yv;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=o0.bind(null,e,t,i),t.then(e,e))}function sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,i,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=kn(-1,1),t.tag=2,qn(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Vv=x.ReactCurrentOwner,Ct=!1;function At(e,t,i,a){t.child=e===null?Rf(t,null,i,a):si(t,e.child,i,a)}function lh(e,t,i,a,c){i=i.render;var f=t.ref;return li(t,c),a=ru(e,t,i,a,f,c),i=iu(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Pn(e,t,c)):($e&&i&&Gl(t),t.flags|=1,At(e,t,a,c),t.child)}function uh(e,t,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Mu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,ch(e,t,f,a,c)):(e=Xs(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:qi,i(p,a)&&e.ref===t.ref)return Pn(e,t,c)}return t.flags|=1,e=rr(f,a),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,i,a,c){if(e!==null){var f=e.memoizedProps;if(qi(f,a)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=a=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,Pn(e,t,c)}return hu(e,t,i,a,c)}function dh(e,t,i){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(fi,Lt),Lt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(fi,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Be(fi,Lt),Lt|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,Be(fi,Lt),Lt|=a;return At(e,t,c,i),t.child}function fh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function hu(e,t,i,a,c){var f=It(i)?Er:dt.current;return f=ni(t,f),li(t,c),i=ru(e,t,i,a,f,c),a=iu(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Pn(e,t,c)):($e&&a&&Gl(t),t.flags|=1,At(e,t,i,c),t.child)}function hh(e,t,i,a,c){if(It(i)){var f=!0;Ss(t)}else f=!1;if(li(t,c),t.stateNode===null)Bs(e,t),th(t,i,a),cu(t,i,a,c),a=!0;else if(e===null){var p=t.stateNode,S=t.memoizedProps;p.props=S;var A=p.context,P=i.contextType;typeof P=="object"&&P!==null?P=jt(P):(P=It(i)?Er:dt.current,P=ni(t,P));var H=i.getDerivedStateFromProps,G=typeof H=="function"||typeof p.getSnapshotBeforeUpdate=="function";G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==a||A!==P)&&nh(t,p,a,P),Zn=!1;var B=t.memoizedState;p.state=B,ks(t,a,p,c),A=t.memoizedState,S!==a||B!==A||wt.current||Zn?(typeof H=="function"&&(uu(t,i,H,a),A=t.memoizedState),(S=Zn||eh(t,i,S,a,B,A,P))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),p.props=a,p.state=A,p.context=P,a=S):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Pf(e,t),S=t.memoizedProps,P=t.type===t.elementType?S:on(t.type,S),p.props=P,G=t.pendingProps,B=p.context,A=i.contextType,typeof A=="object"&&A!==null?A=jt(A):(A=It(i)?Er:dt.current,A=ni(t,A));var K=i.getDerivedStateFromProps;(H=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==G||B!==A)&&nh(t,p,a,A),Zn=!1,B=t.memoizedState,p.state=B,ks(t,a,p,c);var q=t.memoizedState;S!==G||B!==q||wt.current||Zn?(typeof K=="function"&&(uu(t,i,K,a),q=t.memoizedState),(P=Zn||eh(t,i,P,a,B,q,A)||!1)?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,q,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,q,A)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=q),p.props=a,p.state=q,p.context=A,a=P):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return pu(e,t,i,a,f,c)}function pu(e,t,i,a,c,f){fh(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return c&&yf(t,i,!1),Pn(e,t,f);a=t.stateNode,Vv.current=t;var S=p&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=si(t,e.child,null,f),t.child=si(t,null,S,f)):At(e,t,S,f),t.memoizedState=a.state,c&&yf(t,i,!0),t.child}function ph(e){var t=e.stateNode;t.pendingContext?mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mf(e,t.context,!1),ql(e,t.containerInfo)}function gh(e,t,i,a,c){return oi(),jl(c),t.flags|=256,At(e,t,i,a),t.child}var gu={dehydrated:null,treeContext:null,retryLane:0};function mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,t,i){var a=t.pendingProps,c=je.current,f=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(c&2)!==0),S?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Be(je,c&1),e===null)return Wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,f?(a=t.mode,f=t.child,p={mode:"hidden",children:p},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Qs(p,a,0,null),e=Or(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=mu(i),t.memoizedState=gu,e):vu(t,p));if(c=e.memoizedState,c!==null&&(S=c.dehydrated,S!==null))return Kv(e,t,p,a,S,c,i);if(f){f=a.fallback,p=t.mode,c=e.child,S=c.sibling;var A={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=A,t.deletions=null):(a=rr(c,A),a.subtreeFlags=c.subtreeFlags&14680064),S!==null?f=rr(S,f):(f=Or(f,p,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,p=e.child.memoizedState,p=p===null?mu(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~i,t.memoizedState=gu,a}return f=e.child,e=f.sibling,a=rr(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function vu(e,t){return t=Qs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ls(e,t,i,a){return a!==null&&jl(a),si(t,e.child,null,i),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kv(e,t,i,a,c,f,p){if(i)return t.flags&256?(t.flags&=-257,a=du(Error(o(422))),Ls(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=Qs({mode:"visible",children:a.children},c,0,null),f=Or(f,c,p,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&si(t,e.child,null,p),t.child.memoizedState=mu(p),t.memoizedState=gu,f);if((t.mode&1)===0)return Ls(e,t,p,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var S=a.dgst;return a=S,f=Error(o(419)),a=du(f,a,void 0),Ls(e,t,p,a)}if(S=(p&e.childLanes)!==0,Ct||S){if(a=rt,a!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|p))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Rn(e,c),ln(a,e,c,-1))}return Uu(),a=du(Error(o(421))),Ls(e,t,p,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=s0.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Ft=Vn(c.nextSibling),Mt=t,$e=!0,rn=null,e!==null&&($t[Wt++]=In,$t[Wt++]=Cn,$t[Wt++]=Tr,In=e.id,Cn=e.overflow,Tr=t),t=vu(t,a.children),t.flags|=4096,t)}function vh(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Xl(e.return,t,i)}function yu(e,t,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function yh(e,t,i){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(At(e,t,a.children,i),a=je.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vh(e,i,t);else if(e.tag===19)vh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Be(je,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ps(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),yu(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ps(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}yu(t,!0,i,null,f);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=rr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=rr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Xv(e,t,i){switch(t.tag){case 3:ph(t),oi();break;case 5:Df(t);break;case 1:It(t.type)&&Ss(t);break;case 4:ql(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Be(Is,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Be(je,je.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?mh(e,t,i):(Be(je,je.current&1),e=Pn(e,t,i),e!==null?e.sibling:null);Be(je,je.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return yh(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Be(je,je.current),a)break;return null;case 22:case 23:return t.lanes=0,dh(e,t,i)}return Pn(e,t,i)}var Sh,Su,Ah,Eh;Sh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Su=function(){},Ah=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Ir(hn.current);var f=null;switch(i){case"input":c=Dt(e,c),a=Dt(e,a),f=[];break;case"select":c=j({},c,{value:void 0}),a=j({},a,{value:void 0}),f=[];break;case"textarea":c=yr(e,c),a=yr(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ms)}Ja(i,a);var p;i=null;for(P in c)if(!a.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var S=c[P];for(p in S)S.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in a){var A=a[P];if(S=c!=null?c[P]:void 0,a.hasOwnProperty(P)&&A!==S&&(A!=null||S!=null))if(P==="style")if(S){for(p in S)!S.hasOwnProperty(p)||A&&A.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in A)A.hasOwnProperty(p)&&S[p]!==A[p]&&(i||(i={}),i[p]=A[p])}else i||(f||(f=[]),f.push(P,i)),i=A;else P==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(f=f||[]).push(P,A)):P==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(P,""+A):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(A!=null&&P==="onScroll"&&He("scroll",e),f||S===A||(f=[])):(f=f||[]).push(P,A))}i&&(f=f||[]).push("style",i);var P=f;(t.updateQueue=P)&&(t.flags|=4)}},Eh=function(e,t,i,a){i!==a&&(t.flags|=4)};function ho(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Qv(e,t,i){var a=t.pendingProps;switch(zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return It(t.type)&&ys(),ht(t),null;case 3:return a=t.stateNode,ui(),xe(wt),xe(dt),eu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rn!==null&&(Nu(rn),rn=null))),Su(e,t),ht(t),null;case 5:bl(t);var c=Ir(ao.current);if(i=t.type,e!==null&&t.stateNode!=null)Ah(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ht(t),null}if(e=Ir(hn.current),_s(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[fn]=t,a[no]=f,e=(t.mode&1)!==0,i){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(c=0;c<Ji.length;c++)He(Ji[c],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":zt(a,f),He("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},He("invalid",a);break;case"textarea":rd(a,f),He("invalid",a)}Ja(i,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var S=f[p];p==="children"?typeof S=="string"?a.textContent!==S&&(f.suppressHydrationWarning!==!0&&gs(a.textContent,S,e),c=["children",S]):typeof S=="number"&&a.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&gs(a.textContent,S,e),c=["children",""+S]):l.hasOwnProperty(p)&&S!=null&&p==="onScroll"&&He("scroll",a)}switch(i){case"input":Pe(a),Bn(a,f,!0);break;case"textarea":Pe(a),od(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ms)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(i,{is:a.is}):(e=p.createElement(i),i==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,i),e[fn]=t,e[no]=a,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(p=el(i,a),i){case"dialog":He("cancel",e),He("close",e),c=a;break;case"iframe":case"object":case"embed":He("load",e),c=a;break;case"video":case"audio":for(c=0;c<Ji.length;c++)He(Ji[c],e);c=a;break;case"source":He("error",e),c=a;break;case"img":case"image":case"link":He("error",e),He("load",e),c=a;break;case"details":He("toggle",e),c=a;break;case"input":zt(e,a),c=Dt(e,a),He("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=j({},a,{value:void 0}),He("invalid",e);break;case"textarea":rd(e,a),c=yr(e,a),He("invalid",e);break;default:c=a}Ja(i,c),S=c;for(f in S)if(S.hasOwnProperty(f)){var A=S[f];f==="style"?ud(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&ad(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Mi(e,A):typeof A=="number"&&Mi(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?A!=null&&f==="onScroll"&&He("scroll",e):A!=null&&$(e,f,A,p))}switch(i){case"input":Pe(e),Bn(e,a,!1);break;case"textarea":Pe(e),od(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?xn(e,!!a.multiple,f,!1):a.defaultValue!=null&&xn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ms)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)Eh(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(i=Ir(ao.current),Ir(hn.current),_s(t)){if(a=t.stateNode,i=t.memoizedProps,a[fn]=t,(f=a.nodeValue!==i)&&(e=Mt,e!==null))switch(e.tag){case 3:gs(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[fn]=t,t.stateNode=a}return ht(t),null;case 13:if(xe(je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)wf(),oi(),t.flags|=98560,f=!1;else if(f=_s(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[fn]=t}else oi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),f=!1}else rn!==null&&(Nu(rn),rn=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(je.current&1)!==0?tt===0&&(tt=3):Uu())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return ui(),Su(e,t),e===null&&eo(t.stateNode.containerInfo),ht(t),null;case 10:return Kl(t.type._context),ht(t),null;case 17:return It(t.type)&&ys(),ht(t),null;case 19:if(xe(je),f=t.memoizedState,f===null)return ht(t),null;if(a=(t.flags&128)!==0,p=f.rendering,p===null)if(a)ho(f,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Ps(e),p!==null){for(t.flags|=128,ho(f,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(je,je.current&1|2),t.child}e=e.sibling}f.tail!==null&&Xe()>hi&&(t.flags|=128,a=!0,ho(f,!1),t.lanes=4194304)}else{if(!a)if(e=Ps(p),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),ho(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!$e)return ht(t),null}else 2*Xe()-f.renderingStartTime>hi&&i!==1073741824&&(t.flags|=128,a=!0,ho(f,!1),t.lanes=4194304);f.isBackwards?(p.sibling=t.child,t.child=p):(i=f.last,i!==null?i.sibling=p:t.child=p,f.last=p)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Xe(),t.sibling=null,i=je.current,Be(je,a?i&1|2:i&1),t):(ht(t),null);case 22:case 23:return Du(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Zv(e,t){switch(zl(t),t.tag){case 1:return It(t.type)&&ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),xe(wt),xe(dt),eu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return bl(t),null;case 13:if(xe(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(je),null;case 4:return ui(),null;case 10:return Kl(t.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Hs=!1,pt=!1,qv=typeof WeakSet=="function"?WeakSet:Set,Q=null;function di(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ve(e,t,a)}else i.current=null}function Au(e,t,i){try{i()}catch(a){Ve(e,t,a)}}var Th=!1;function bv(e,t){if(Dl=is,e=Jd(),wl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var p=0,S=-1,A=-1,P=0,H=0,G=e,B=null;t:for(;;){for(var K;G!==i||c!==0&&G.nodeType!==3||(S=p+c),G!==f||a!==0&&G.nodeType!==3||(A=p+a),G.nodeType===3&&(p+=G.nodeValue.length),(K=G.firstChild)!==null;)B=G,G=K;for(;;){if(G===e)break t;if(B===i&&++P===c&&(S=p),B===f&&++H===a&&(A=p),(K=G.nextSibling)!==null)break;G=B,B=G.parentNode}G=K}i=S===-1||A===-1?null:{start:S,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ul={focusedElem:e,selectionRange:i},is=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var b=q.memoizedProps,Qe=q.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?b:on(t.type,b),Qe);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(z){Ve(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return q=Th,Th=!1,q}function po(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Au(t,i,f)}c=c.next}while(c!==a)}}function xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Eu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function _h(e){var t=e.alternate;t!==null&&(e.alternate=null,_h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[no],delete t[Bl],delete t[Mv],delete t[Fv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wh(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ms));else if(a!==4&&(e=e.child,e!==null))for(Tu(e,t,i),e=e.sibling;e!==null;)Tu(e,t,i),e=e.sibling}function _u(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(_u(e,t,i),e=e.sibling;e!==null;)_u(e,t,i),e=e.sibling}var st=null,sn=!1;function bn(e,t,i){for(i=i.child;i!==null;)Ch(e,t,i),i=i.sibling}function Ch(e,t,i){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(bo,i)}catch{}switch(i.tag){case 5:pt||di(i,t);case 6:var a=st,c=sn;st=null,bn(e,t,i),st=a,sn=c,st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):st.removeChild(i.stateNode));break;case 18:st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?Ll(e.parentNode,i):e.nodeType===1&&Ll(e,i),Yi(e)):Ll(st,i.stateNode));break;case 4:a=st,c=sn,st=i.stateNode.containerInfo,sn=!0,bn(e,t,i),st=a,sn=c;break;case 0:case 11:case 14:case 15:if(!pt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&((f&2)!==0||(f&4)!==0)&&Au(i,t,p),c=c.next}while(c!==a)}bn(e,t,i);break;case 1:if(!pt&&(di(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(S){Ve(i,t,S)}bn(e,t,i);break;case 21:bn(e,t,i);break;case 22:i.mode&1?(pt=(a=pt)||i.memoizedState!==null,bn(e,t,i),pt=a):bn(e,t,i);break;default:bn(e,t,i)}}function Rh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new qv),t.forEach(function(a){var c=a0.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function an(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,p=t,S=p;e:for(;S!==null;){switch(S.tag){case 5:st=S.stateNode,sn=!1;break e;case 3:st=S.stateNode.containerInfo,sn=!0;break e;case 4:st=S.stateNode.containerInfo,sn=!0;break e}S=S.return}if(st===null)throw Error(o(160));Ch(f,p,c),st=null,sn=!1;var A=c.alternate;A!==null&&(A.return=null),c.return=null}catch(P){Ve(c,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kh(t,e),t=t.sibling}function kh(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),gn(e),a&4){try{po(3,e,e.return),xs(3,e)}catch(b){Ve(e,e.return,b)}try{po(5,e,e.return)}catch(b){Ve(e,e.return,b)}}break;case 1:an(t,e),gn(e),a&512&&i!==null&&di(i,i.return);break;case 5:if(an(t,e),gn(e),a&512&&i!==null&&di(i,i.return),e.flags&32){var c=e.stateNode;try{Mi(c,"")}catch(b){Ve(e,e.return,b)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,p=i!==null?i.memoizedProps:f,S=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&vr(c,f),el(S,p);var P=el(S,f);for(p=0;p<A.length;p+=2){var H=A[p],G=A[p+1];H==="style"?ud(c,G):H==="dangerouslySetInnerHTML"?ad(c,G):H==="children"?Mi(c,G):$(c,H,G,P)}switch(S){case"input":Tn(c,f);break;case"textarea":id(c,f);break;case"select":var B=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var K=f.value;K!=null?xn(c,!!f.multiple,K,!1):B!==!!f.multiple&&(f.defaultValue!=null?xn(c,!!f.multiple,f.defaultValue,!0):xn(c,!!f.multiple,f.multiple?[]:"",!1))}c[no]=f}catch(b){Ve(e,e.return,b)}}break;case 6:if(an(t,e),gn(e),a&4){if(e.stateNode===null)throw Error(o(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(b){Ve(e,e.return,b)}}break;case 3:if(an(t,e),gn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(b){Ve(e,e.return,b)}break;case 4:an(t,e),gn(e);break;case 13:an(t,e),gn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Cu=Xe())),a&4&&Rh(e);break;case 22:if(H=i!==null&&i.memoizedState!==null,e.mode&1?(pt=(P=pt)||H,an(t,e),pt=P):an(t,e),gn(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!H&&(e.mode&1)!==0)for(Q=e,H=e.child;H!==null;){for(G=Q=H;Q!==null;){switch(B=Q,K=B.child,B.tag){case 0:case 11:case 14:case 15:po(4,B,B.return);break;case 1:di(B,B.return);var q=B.stateNode;if(typeof q.componentWillUnmount=="function"){a=B,i=B.return;try{t=a,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(b){Ve(a,i,b)}}break;case 5:di(B,B.return);break;case 22:if(B.memoizedState!==null){Oh(G);continue}}K!==null?(K.return=B,Q=K):Oh(G)}H=H.sibling}e:for(H=null,G=e;;){if(G.tag===5){if(H===null){H=G;try{c=G.stateNode,P?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=G.stateNode,A=G.memoizedProps.style,p=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=ld("display",p))}catch(b){Ve(e,e.return,b)}}}else if(G.tag===6){if(H===null)try{G.stateNode.nodeValue=P?"":G.memoizedProps}catch(b){Ve(e,e.return,b)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;H===G&&(H=null),G=G.return}H===G&&(H=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:an(t,e),gn(e),a&4&&Rh(e);break;case 21:break;default:an(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(wh(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Mi(c,""),a.flags&=-33);var f=Ih(e);_u(e,f,c);break;case 3:case 4:var p=a.stateNode.containerInfo,S=Ih(e);Tu(e,S,p);break;default:throw Error(o(161))}}catch(A){Ve(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jv(e,t,i){Q=e,Ph(e)}function Ph(e,t,i){for(var a=(e.mode&1)!==0;Q!==null;){var c=Q,f=c.child;if(c.tag===22&&a){var p=c.memoizedState!==null||Hs;if(!p){var S=c.alternate,A=S!==null&&S.memoizedState!==null||pt;S=Hs;var P=pt;if(Hs=p,(pt=A)&&!P)for(Q=c;Q!==null;)p=Q,A=p.child,p.tag===22&&p.memoizedState!==null?Dh(c):A!==null?(A.return=p,Q=A):Dh(c);for(;f!==null;)Q=f,Ph(f),f=f.sibling;Q=c,Hs=S,pt=P}Nh(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,Q=f):Nh(e)}}function Nh(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||xs(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!pt)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:on(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Of(t,f,a);break;case 3:var p=t.updateQueue;if(p!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Of(t,p,i)}break;case 5:var S=t.stateNode;if(i===null&&t.flags&4){i=S;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var H=P.memoizedState;if(H!==null){var G=H.dehydrated;G!==null&&Yi(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}pt||t.flags&512&&Eu(t)}catch(B){Ve(t,t.return,B)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function Oh(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function Dh(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{xs(4,t)}catch(A){Ve(t,i,A)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(A){Ve(t,c,A)}}var f=t.return;try{Eu(t)}catch(A){Ve(t,f,A)}break;case 5:var p=t.return;try{Eu(t)}catch(A){Ve(t,p,A)}}}catch(A){Ve(t,t.return,A)}if(t===e){Q=null;break}var S=t.sibling;if(S!==null){S.return=t.return,Q=S;break}Q=t.return}}var e0=Math.ceil,Gs=x.ReactCurrentDispatcher,wu=x.ReactCurrentOwner,Vt=x.ReactCurrentBatchConfig,Ie=0,rt=null,qe=null,at=0,Lt=0,fi=Kn(0),tt=0,go=null,Rr=0,zs=0,Iu=0,mo=null,Rt=null,Cu=0,hi=1/0,Nn=null,$s=!1,Ru=null,Jn=null,Ws=!1,er=null,js=0,vo=0,ku=null,Ys=-1,Vs=0;function Et(){return(Ie&6)!==0?Xe():Ys!==-1?Ys:Ys=Xe()}function tr(e){return(e.mode&1)===0?1:(Ie&2)!==0&&at!==0?at&-at:Bv.transition!==null?(Vs===0&&(Vs=wd()),Vs):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e)}function ln(e,t,i,a){if(50<vo)throw vo=0,ku=null,Error(o(185));Gi(e,i,a),((Ie&2)===0||e!==rt)&&(e===rt&&((Ie&2)===0&&(zs|=i),tt===4&&nr(e,at)),kt(e,a),i===1&&Ie===0&&(t.mode&1)===0&&(hi=Xe()+500,As&&Qn()))}function kt(e,t){var i=e.callbackNode;Bm(e,t);var a=ts(e,e===rt?at:0);if(a===0)i!==null&&Ed(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Ed(i),t===1)e.tag===0?Lv(Mh.bind(null,e)):Sf(Mh.bind(null,e)),Dv(function(){(Ie&6)===0&&Qn()}),i=null;else{switch(Id(a)){case 1:i=al;break;case 4:i=Td;break;case 16:i=qo;break;case 536870912:i=_d;break;default:i=qo}i=$h(i,Uh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Uh(e,t){if(Ys=-1,Vs=0,(Ie&6)!==0)throw Error(o(327));var i=e.callbackNode;if(pi()&&e.callbackNode!==i)return null;var a=ts(e,e===rt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ks(e,a);else{t=a;var c=Ie;Ie|=2;var f=Lh();(rt!==e||at!==t)&&(Nn=null,hi=Xe()+500,Pr(e,t));do try{r0();break}catch(S){Fh(e,S)}while(!0);Vl(),Gs.current=f,Ie=c,qe!==null?t=0:(rt=null,at=0,t=tt)}if(t!==0){if(t===2&&(c=ll(e),c!==0&&(a=c,t=Pu(e,c))),t===1)throw i=go,Pr(e,0),nr(e,a),kt(e,Xe()),i;if(t===6)nr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!t0(c)&&(t=Ks(e,a),t===2&&(f=ll(e),f!==0&&(a=f,t=Pu(e,f))),t===1))throw i=go,Pr(e,0),nr(e,a),kt(e,Xe()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Nr(e,Rt,Nn);break;case 3:if(nr(e,a),(a&130023424)===a&&(t=Cu+500-Xe(),10<t)){if(ts(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Et(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Fl(Nr.bind(null,e,Rt,Nn),t);break}Nr(e,Rt,Nn);break;case 4:if(nr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var p=31-tn(a);f=1<<p,p=t[p],p>c&&(c=p),a&=~f}if(a=c,a=Xe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*e0(a/1960))-a,10<a){e.timeoutHandle=Fl(Nr.bind(null,e,Rt,Nn),a);break}Nr(e,Rt,Nn);break;case 5:Nr(e,Rt,Nn);break;default:throw Error(o(329))}}}return kt(e,Xe()),e.callbackNode===i?Uh.bind(null,e):null}function Pu(e,t){var i=mo;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Ks(e,t),e!==2&&(t=Rt,Rt=i,t!==null&&Nu(t)),e}function Nu(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function t0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nr(e,t){for(t&=~Iu,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-tn(t),a=1<<i;e[i]=-1,t&=~a}}function Mh(e){if((Ie&6)!==0)throw Error(o(327));pi();var t=ts(e,0);if((t&1)===0)return kt(e,Xe()),null;var i=Ks(e,t);if(e.tag!==0&&i===2){var a=ll(e);a!==0&&(t=a,i=Pu(e,a))}if(i===1)throw i=go,Pr(e,0),nr(e,t),kt(e,Xe()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nr(e,Rt,Nn),kt(e,Xe()),null}function Ou(e,t){var i=Ie;Ie|=1;try{return e(t)}finally{Ie=i,Ie===0&&(hi=Xe()+500,As&&Qn())}}function kr(e){er!==null&&er.tag===0&&(Ie&6)===0&&pi();var t=Ie;Ie|=1;var i=Vt.transition,a=Ue;try{if(Vt.transition=null,Ue=1,e)return e()}finally{Ue=a,Vt.transition=i,Ie=t,(Ie&6)===0&&Qn()}}function Du(){Lt=fi.current,xe(fi)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Ov(i)),qe!==null)for(i=qe.return;i!==null;){var a=i;switch(zl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ys();break;case 3:ui(),xe(wt),xe(dt),eu();break;case 5:bl(a);break;case 4:ui();break;case 13:xe(je);break;case 19:xe(je);break;case 10:Kl(a.type._context);break;case 22:case 23:Du()}i=i.return}if(rt=e,qe=e=rr(e.current,null),at=Lt=t,tt=0,go=null,Iu=zs=Rr=0,Rt=mo=null,wr!==null){for(t=0;t<wr.length;t++)if(i=wr[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var p=f.next;f.next=c,a.next=p}i.pending=a}wr=null}return e}function Fh(e,t){do{var i=qe;try{if(Vl(),Ns.current=Ms,Os){for(var a=Ye.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Os=!1}if(Cr=0,nt=et=Ye=null,lo=!1,uo=0,wu.current=null,i===null||i.return===null){tt=1,go=t,qe=null;break}e:{var f=e,p=i.return,S=i,A=t;if(t=at,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=A,H=S,G=H.tag;if((H.mode&1)===0&&(G===0||G===11||G===15)){var B=H.alternate;B?(H.updateQueue=B.updateQueue,H.memoizedState=B.memoizedState,H.lanes=B.lanes):(H.updateQueue=null,H.memoizedState=null)}var K=sh(p);if(K!==null){K.flags&=-257,ah(K,p,S,f,t),K.mode&1&&oh(f,P,t),t=K,A=P;var q=t.updateQueue;if(q===null){var b=new Set;b.add(A),t.updateQueue=b}else q.add(A);break e}else{if((t&1)===0){oh(f,P,t),Uu();break e}A=Error(o(426))}}else if($e&&S.mode&1){var Qe=sh(p);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),ah(Qe,p,S,f,t),jl(ci(A,S));break e}}f=A=ci(A,S),tt!==4&&(tt=2),mo===null?mo=[f]:mo.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var I=rh(f,A,t);Nf(f,I);break e;case 1:S=A;var E=f.type,C=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Jn===null||!Jn.has(C)))){f.flags|=65536,t&=-t,f.lanes|=t;var z=ih(f,S,t);Nf(f,z);break e}}f=f.return}while(f!==null)}Hh(i)}catch(J){t=J,qe===i&&i!==null&&(qe=i=i.return);continue}break}while(!0)}function Lh(){var e=Gs.current;return Gs.current=Ms,e===null?Ms:e}function Uu(){(tt===0||tt===3||tt===2)&&(tt=4),rt===null||(Rr&268435455)===0&&(zs&268435455)===0||nr(rt,at)}function Ks(e,t){var i=Ie;Ie|=2;var a=Lh();(rt!==e||at!==t)&&(Nn=null,Pr(e,t));do try{n0();break}catch(c){Fh(e,c)}while(!0);if(Vl(),Ie=i,Gs.current=a,qe!==null)throw Error(o(261));return rt=null,at=0,tt}function n0(){for(;qe!==null;)Bh(qe)}function r0(){for(;qe!==null&&!km();)Bh(qe)}function Bh(e){var t=zh(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?Hh(e):qe=t,wu.current=null}function Hh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Qv(i,t,Lt),i!==null){qe=i;return}}else{if(i=Zv(i,t),i!==null){i.flags&=32767,qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);tt===0&&(tt=5)}function Nr(e,t,i){var a=Ue,c=Vt.transition;try{Vt.transition=null,Ue=1,i0(e,t,i,a)}finally{Vt.transition=c,Ue=a}return null}function i0(e,t,i,a){do pi();while(er!==null);if((Ie&6)!==0)throw Error(o(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Hm(e,f),e===rt&&(qe=rt=null,at=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ws||(Ws=!0,$h(qo,function(){return pi(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Vt.transition,Vt.transition=null;var p=Ue;Ue=1;var S=Ie;Ie|=4,wu.current=null,bv(e,i),kh(i,e),wv(Ul),is=!!Dl,Ul=Dl=null,e.current=i,Jv(i),Pm(),Ie=S,Ue=p,Vt.transition=f}else e.current=i;if(Ws&&(Ws=!1,er=e,js=c),f=e.pendingLanes,f===0&&(Jn=null),Dm(i.stateNode),kt(e,Xe()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if($s)throw $s=!1,e=Ru,Ru=null,e;return(js&1)!==0&&e.tag!==0&&pi(),f=e.pendingLanes,(f&1)!==0?e===ku?vo++:(vo=0,ku=e):vo=0,Qn(),null}function pi(){if(er!==null){var e=Id(js),t=Vt.transition,i=Ue;try{if(Vt.transition=null,Ue=16>e?16:e,er===null)var a=!1;else{if(e=er,er=null,js=0,(Ie&6)!==0)throw Error(o(331));var c=Ie;for(Ie|=4,Q=e.current;Q!==null;){var f=Q,p=f.child;if((Q.flags&16)!==0){var S=f.deletions;if(S!==null){for(var A=0;A<S.length;A++){var P=S[A];for(Q=P;Q!==null;){var H=Q;switch(H.tag){case 0:case 11:case 15:po(8,H,f)}var G=H.child;if(G!==null)G.return=H,Q=G;else for(;Q!==null;){H=Q;var B=H.sibling,K=H.return;if(_h(H),H===P){Q=null;break}if(B!==null){B.return=K,Q=B;break}Q=K}}}var q=f.alternate;if(q!==null){var b=q.child;if(b!==null){q.child=null;do{var Qe=b.sibling;b.sibling=null,b=Qe}while(b!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&p!==null)p.return=f,Q=p;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:po(9,f,f.return)}var I=f.sibling;if(I!==null){I.return=f.return,Q=I;break e}Q=f.return}}var E=e.current;for(Q=E;Q!==null;){p=Q;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,Q=C;else e:for(p=E;Q!==null;){if(S=Q,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:xs(9,S)}}catch(J){Ve(S,S.return,J)}if(S===p){Q=null;break e}var z=S.sibling;if(z!==null){z.return=S.return,Q=z;break e}Q=S.return}}if(Ie=c,Qn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(bo,e)}catch{}a=!0}return a}finally{Ue=i,Vt.transition=t}}return!1}function xh(e,t,i){t=ci(i,t),t=rh(e,t,1),e=qn(e,t,1),t=Et(),e!==null&&(Gi(e,1,t),kt(e,t))}function Ve(e,t,i){if(e.tag===3)xh(e,e,i);else for(;t!==null;){if(t.tag===3){xh(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jn===null||!Jn.has(a))){e=ci(i,e),e=ih(t,e,1),t=qn(t,e,1),e=Et(),t!==null&&(Gi(t,1,e),kt(t,e));break}}t=t.return}}function o0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&i,rt===e&&(at&i)===i&&(tt===4||tt===3&&(at&130023424)===at&&500>Xe()-Cu?Pr(e,0):Iu|=i),kt(e,t)}function Gh(e,t){t===0&&((e.mode&1)===0?t=1:(t=es,es<<=1,(es&130023424)===0&&(es=4194304)));var i=Et();e=Rn(e,t),e!==null&&(Gi(e,t,i),kt(e,i))}function s0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gh(e,i)}function a0(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),Gh(e,i)}var zh;zh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)Ct=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Ct=!1,Xv(e,t,i);Ct=(e.flags&131072)!==0}else Ct=!1,$e&&(t.flags&1048576)!==0&&Af(t,Ts,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bs(e,t),e=t.pendingProps;var c=ni(t,dt.current);li(t,i),c=ru(null,t,a,e,c,i);var f=iu();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(a)?(f=!0,Ss(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Zl(t),c.updater=Fs,t.stateNode=c,c._reactInternals=t,cu(t,a,e,i),t=pu(null,t,a,!0,f,i)):(t.tag=0,$e&&f&&Gl(t),At(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=u0(a),e=on(a,e),c){case 0:t=hu(null,t,a,e,i);break e;case 1:t=hh(null,t,a,e,i);break e;case 11:t=lh(null,t,a,e,i);break e;case 14:t=uh(null,t,a,on(a.type,e),i);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),hu(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),hh(e,t,a,c,i);case 3:e:{if(ph(t),e===null)throw Error(o(387));a=t.pendingProps,f=t.memoizedState,c=f.element,Pf(e,t),ks(t,a,null,i);var p=t.memoizedState;if(a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=ci(Error(o(423)),t),t=gh(e,t,a,i,c);break e}else if(a!==c){c=ci(Error(o(424)),t),t=gh(e,t,a,i,c);break e}else for(Ft=Vn(t.stateNode.containerInfo.firstChild),Mt=t,$e=!0,rn=null,i=Rf(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(oi(),a===c){t=Pn(e,t,i);break e}At(e,t,a,i)}t=t.child}return t;case 5:return Df(t),e===null&&Wl(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,p=c.children,Ml(a,c)?p=null:f!==null&&Ml(a,f)&&(t.flags|=32),fh(e,t),At(e,t,p,i),t.child;case 6:return e===null&&Wl(t),null;case 13:return mh(e,t,i);case 4:return ql(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=si(t,null,a,i):At(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),lh(e,t,a,c,i);case 7:return At(e,t,t.pendingProps,i),t.child;case 8:return At(e,t,t.pendingProps.children,i),t.child;case 12:return At(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,p=c.value,Be(Is,a._currentValue),a._currentValue=p,f!==null)if(nn(f.value,p)){if(f.children===c.children&&!wt.current){t=Pn(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var S=f.dependencies;if(S!==null){p=f.child;for(var A=S.firstContext;A!==null;){if(A.context===a){if(f.tag===1){A=kn(-1,i&-i),A.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var H=P.pending;H===null?A.next=A:(A.next=H.next,H.next=A),P.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),Xl(f.return,i,t),S.lanes|=i;break}A=A.next}}else if(f.tag===10)p=f.type===t.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(o(341));p.lanes|=i,S=p.alternate,S!==null&&(S.lanes|=i),Xl(p,i,t),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===t){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}At(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,li(t,i),c=jt(c),a=a(c),t.flags|=1,At(e,t,a,i),t.child;case 14:return a=t.type,c=on(a,t.pendingProps),c=on(a.type,c),uh(e,t,a,c,i);case 15:return ch(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:on(a,c),Bs(e,t),t.tag=1,It(a)?(e=!0,Ss(t)):e=!1,li(t,i),th(t,a,c),cu(t,a,c,i),pu(null,t,a,!0,e,i);case 19:return yh(e,t,i);case 22:return dh(e,t,i)}throw Error(o(156,t.tag))};function $h(e,t){return Ad(e,t)}function l0(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,i,a){return new l0(e,t,i,a)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u0(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fe)return 11;if(e===Re)return 14}return 2}function rr(e,t){var i=e.alternate;return i===null?(i=Kt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Xs(e,t,i,a,c,f){var p=2;if(a=e,typeof e=="function")Mu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case L:return Or(i.children,c,f,t);case V:p=8,c|=8;break;case ve:return e=Kt(12,i,t,c|2),e.elementType=ve,e.lanes=f,e;case Le:return e=Kt(13,i,t,c),e.elementType=Le,e.lanes=f,e;case Te:return e=Kt(19,i,t,c),e.elementType=Te,e.lanes=f,e;case se:return Qs(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ze:p=10;break e;case Je:p=9;break e;case Fe:p=11;break e;case Re:p=14;break e;case pe:p=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Kt(p,i,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function Or(e,t,i,a){return e=Kt(7,e,a,t),e.lanes=i,e}function Qs(e,t,i,a){return e=Kt(22,e,a,t),e.elementType=se,e.lanes=i,e.stateNode={isHidden:!1},e}function Fu(e,t,i){return e=Kt(6,e,null,t),e.lanes=i,e}function Lu(e,t,i){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c0(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Bu(e,t,i,a,c,f,p,S,A){return e=new c0(e,t,i,S,A),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Kt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(f),e}function d0(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Wh(e){if(!e)return Xn;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(It(i))return vf(e,i,t)}return t}function jh(e,t,i,a,c,f,p,S,A){return e=Bu(i,a,!0,e,c,f,p,S,A),e.context=Wh(null),i=e.current,a=Et(),c=tr(i),f=kn(a,c),f.callback=t??null,qn(i,f,c),e.current.lanes=c,Gi(e,c,a),kt(e,a),e}function Zs(e,t,i,a){var c=t.current,f=Et(),p=tr(c);return i=Wh(i),t.context===null?t.context=i:t.pendingContext=i,t=kn(f,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=qn(c,t,p),e!==null&&(ln(e,c,p,f),Rs(e,c,p)),p}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Hu(e,t){Yh(e,t),(e=e.alternate)&&Yh(e,t)}function f0(){return null}var Vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function xu(e){this._internalRoot=e}bs.prototype.render=xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Zs(e,t,null,null)},bs.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){Zs(null,e,null,null)}),t[_n]=null}};function bs(e){this._internalRoot=e}bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=kd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wn.length&&t!==0&&t<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&Od(e)}};function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function h0(e,t,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var P=qs(p);f.call(P)}}var p=jh(t,a,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=p,e[_n]=p.current,eo(e.nodeType===8?e.parentNode:e),kr(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var S=a;a=function(){var P=qs(A);S.call(P)}}var A=Bu(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=A,e[_n]=A.current,eo(e.nodeType===8?e.parentNode:e),kr(function(){Zs(t,A,i,a)}),A}function ea(e,t,i,a,c){var f=i._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var S=c;c=function(){var A=qs(p);S.call(A)}}Zs(t,p,e,c)}else p=h0(i,t,e,c,a);return qs(p)}Cd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=xi(t.pendingLanes);i!==0&&(cl(t,i|1),kt(t,Xe()),(Ie&6)===0&&(hi=Xe()+500,Qn()))}break;case 13:kr(function(){var a=Rn(e,1);if(a!==null){var c=Et();ln(a,e,1,c)}}),Hu(e,1)}},dl=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var i=Et();ln(t,e,134217728,i)}Hu(e,134217728)}},Rd=function(e){if(e.tag===13){var t=tr(e),i=Rn(e,t);if(i!==null){var a=Et();ln(i,e,t,a)}Hu(e,t)}},kd=function(){return Ue},Pd=function(e,t){var i=Ue;try{return Ue=e,t()}finally{Ue=i}},rl=function(e,t,i){switch(t){case"input":if(Tn(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=vs(a);if(!c)throw Error(o(90));ue(a),Tn(a,c)}}}break;case"textarea":id(e,i);break;case"select":t=i.value,t!=null&&xn(e,!!i.multiple,t,!1)}},hd=Ou,pd=kr;var p0={usingClientEntryPoint:!1,Events:[ro,ei,vs,dd,fd,Ou]},yo={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g0={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yd(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||f0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{bo=ta.inject(g0),dn=ta}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p0,Pt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(t))throw Error(o(200));return d0(e,t,null,i)},Pt.createRoot=function(e,t){if(!Gu(e))throw Error(o(299));var i=!1,a="",c=Vh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Bu(e,1,!1,null,null,i,!1,a,c),e[_n]=t.current,eo(e.nodeType===8?e.parentNode:e),new xu(t)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=yd(t),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return kr(e)},Pt.hydrate=function(e,t,i){if(!Js(t))throw Error(o(200));return ea(null,e,t,!0,i)},Pt.hydrateRoot=function(e,t,i){if(!Gu(e))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",p=Vh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),t=jh(t,null,e,1,i??null,c,!1,f,p),e[_n]=t.current,eo(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new bs(t)},Pt.render=function(e,t,i){if(!Js(t))throw Error(o(200));return ea(null,e,t,!1,i)},Pt.unmountComponentAtNode=function(e){if(!Js(e))throw Error(o(40));return e._reactRootContainer?(kr(function(){ea(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1},Pt.unstable_batchedUpdates=Ou,Pt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Js(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return ea(e,t,i,!1,a)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var tp;function I0(){if(tp)return Wu.exports;tp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Wu.exports=w0(),Wu.exports}var np;function C0(){if(np)return na;np=1;var n=I0();return na.createRoot=n.createRoot,na.hydrateRoot=n.hydrateRoot,na}var R0=C0();const k0=cg(R0),dg=Se.createContext(void 0),P0=({initialAppState:n,children:r})=>{const[o,s]=Se.useState(n),[l,u]=Se.useState(void 0),d=(h,g)=>{s(h),h==="gameOver"&&g?u(g):h!=="gameOver"&&u(void 0)};return De.jsx(dg.Provider,{value:{appState:o,setAppState:d,gameOverDetails:l},children:r})},xa=()=>{const n=Se.useContext(dg);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var mt=function(){return mt=Object.assign||function(r){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},mt.apply(this,arguments)};function Fo(n,r,o){if(o||arguments.length===2)for(var s=0,l=r.length,u;s<l;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return n.concat(u||Array.prototype.slice.call(r))}var Ge="-ms-",No="-moz-",Ne="-webkit-",fg="comm",Ga="rule",kc="decl",N0="@import",hg="@keyframes",O0="@layer",pg=Math.abs,Pc=String.fromCharCode,dc=Object.assign;function D0(n,r){return ot(n,0)^45?(((r<<2^ot(n,0))<<2^ot(n,1))<<2^ot(n,2))<<2^ot(n,3):0}function gg(n){return n.trim()}function Un(n,r){return(n=r.exec(n))?n[0]:n}function me(n,r,o){return n.replace(r,o)}function Aa(n,r,o){return n.indexOf(r,o)}function ot(n,r){return n.charCodeAt(r)|0}function Ii(n,r,o){return n.slice(r,o)}function vn(n){return n.length}function mg(n){return n.length}function Co(n,r){return r.push(n),n}function U0(n,r){return n.map(r).join("")}function rp(n,r){return n.filter(function(o){return!Un(o,r)})}var za=1,Ci=1,vg=0,bt=0,be=0,Ui="";function $a(n,r,o,s,l,u,d,h){return{value:n,root:r,parent:o,type:s,props:l,children:u,line:za,column:Ci,length:d,return:"",siblings:h}}function ur(n,r){return dc($a("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},r)}function gi(n){for(;n.root;)n=ur(n.root,{children:[n]});Co(n,n.siblings)}function M0(){return be}function F0(){return be=bt>0?ot(Ui,--bt):0,Ci--,be===10&&(Ci=1,za--),be}function un(){return be=bt<vg?ot(Ui,bt++):0,Ci++,be===10&&(Ci=1,za++),be}function zr(){return ot(Ui,bt)}function Ea(){return bt}function Wa(n,r){return Ii(Ui,n,r)}function fc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L0(n){return za=Ci=1,vg=vn(Ui=n),bt=0,[]}function B0(n){return Ui="",n}function Vu(n){return gg(Wa(bt-1,hc(n===91?n+2:n===40?n+1:n)))}function H0(n){for(;(be=zr())&&be<33;)un();return fc(n)>2||fc(be)>3?"":" "}function x0(n,r){for(;--r&&un()&&!(be<48||be>102||be>57&&be<65||be>70&&be<97););return Wa(n,Ea()+(r<6&&zr()==32&&un()==32))}function hc(n){for(;un();)switch(be){case n:return bt;case 34:case 39:n!==34&&n!==39&&hc(be);break;case 40:n===41&&hc(n);break;case 92:un();break}return bt}function G0(n,r){for(;un()&&n+be!==57;)if(n+be===84&&zr()===47)break;return"/*"+Wa(r,bt-1)+"*"+Pc(n===47?n:un())}function z0(n){for(;!fc(zr());)un();return Wa(n,bt)}function $0(n){return B0(Ta("",null,null,null,[""],n=L0(n),0,[0],n))}function Ta(n,r,o,s,l,u,d,h,g){for(var v=0,m=0,y=d,_=0,R=0,D=0,O=1,w=1,U=1,k=0,$="",x=l,Y=u,F=s,L=$;w;)switch(D=k,k=un()){case 40:if(D!=108&&ot(L,y-1)==58){Aa(L+=me(Vu(k),"&","&\f"),"&\f",pg(v?h[v-1]:0))!=-1&&(U=-1);break}case 34:case 39:case 91:L+=Vu(k);break;case 9:case 10:case 13:case 32:L+=H0(D);break;case 92:L+=x0(Ea()-1,7);continue;case 47:switch(zr()){case 42:case 47:Co(W0(G0(un(),Ea()),r,o,g),g);break;default:L+="/"}break;case 123*O:h[v++]=vn(L)*U;case 125*O:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+m:U==-1&&(L=me(L,/\f/g,"")),R>0&&vn(L)-y&&Co(R>32?op(L+";",s,o,y-1,g):op(me(L," ","")+";",s,o,y-2,g),g);break;case 59:L+=";";default:if(Co(F=ip(L,r,o,v,m,l,h,$,x=[],Y=[],y,u),u),k===123)if(m===0)Ta(L,r,F,F,x,u,y,h,Y);else switch(_===99&&ot(L,3)===110?100:_){case 100:case 108:case 109:case 115:Ta(n,F,F,s&&Co(ip(n,F,F,0,0,l,h,$,l,x=[],y,Y),Y),l,Y,y,h,s?x:Y);break;default:Ta(L,F,F,F,[""],Y,0,h,Y)}}v=m=R=0,O=U=1,$=L="",y=d;break;case 58:y=1+vn(L),R=D;default:if(O<1){if(k==123)--O;else if(k==125&&O++==0&&F0()==125)continue}switch(L+=Pc(k),k*O){case 38:U=m>0?1:(L+="\f",-1);break;case 44:h[v++]=(vn(L)-1)*U,U=1;break;case 64:zr()===45&&(L+=Vu(un())),_=zr(),m=y=vn($=L+=z0(Ea())),k++;break;case 45:D===45&&vn(L)==2&&(O=0)}}return u}function ip(n,r,o,s,l,u,d,h,g,v,m,y){for(var _=l-1,R=l===0?u:[""],D=mg(R),O=0,w=0,U=0;O<s;++O)for(var k=0,$=Ii(n,_+1,_=pg(w=d[O])),x=n;k<D;++k)(x=gg(w>0?R[k]+" "+$:me($,/&\f/g,R[k])))&&(g[U++]=x);return $a(n,r,o,l===0?Ga:h,g,v,m,y)}function W0(n,r,o,s){return $a(n,r,o,fg,Pc(M0()),Ii(n,2,-2),0,s)}function op(n,r,o,s,l){return $a(n,r,o,kc,Ii(n,0,s),Ii(n,s+1,-1),s,l)}function yg(n,r,o){switch(D0(n,r)){case 5103:return Ne+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ne+n+n;case 4789:return No+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ne+n+No+n+Ge+n+n;case 5936:switch(ot(n,r+11)){case 114:return Ne+n+Ge+me(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ne+n+Ge+me(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ne+n+Ge+me(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ne+n+Ge+n+n;case 6165:return Ne+n+Ge+"flex-"+n+n;case 5187:return Ne+n+me(n,/(\w+).+(:[^]+)/,Ne+"box-$1$2"+Ge+"flex-$1$2")+n;case 5443:return Ne+n+Ge+"flex-item-"+me(n,/flex-|-self/g,"")+(Un(n,/flex-|baseline/)?"":Ge+"grid-row-"+me(n,/flex-|-self/g,""))+n;case 4675:return Ne+n+Ge+"flex-line-pack"+me(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ne+n+Ge+me(n,"shrink","negative")+n;case 5292:return Ne+n+Ge+me(n,"basis","preferred-size")+n;case 6060:return Ne+"box-"+me(n,"-grow","")+Ne+n+Ge+me(n,"grow","positive")+n;case 4554:return Ne+me(n,/([^-])(transform)/g,"$1"+Ne+"$2")+n;case 6187:return me(me(me(n,/(zoom-|grab)/,Ne+"$1"),/(image-set)/,Ne+"$1"),n,"")+n;case 5495:case 3959:return me(n,/(image-set\([^]*)/,Ne+"$1$`$1");case 4968:return me(me(n,/(.+:)(flex-)?(.*)/,Ne+"box-pack:$3"+Ge+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ne+n+n;case 4200:if(!Un(n,/flex-|baseline/))return Ge+"grid-column-align"+Ii(n,r)+n;break;case 2592:case 3360:return Ge+me(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(s,l){return r=l,Un(s.props,/grid-\w+-end/)})?~Aa(n+(o=o[r].value),"span",0)?n:Ge+me(n,"-start","")+n+Ge+"grid-row-span:"+(~Aa(o,"span",0)?Un(o,/\d+/):+Un(o,/\d+/)-+Un(n,/\d+/))+";":Ge+me(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(s){return Un(s.props,/grid-\w+-start/)})?n:Ge+me(me(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return me(n,/(.+)-inline(.+)/,Ne+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vn(n)-1-r>6)switch(ot(n,r+1)){case 109:if(ot(n,r+4)!==45)break;case 102:return me(n,/(.+:)(.+)-([^]+)/,"$1"+Ne+"$2-$3$1"+No+(ot(n,r+3)==108?"$3":"$2-$3"))+n;case 115:return~Aa(n,"stretch",0)?yg(me(n,"stretch","fill-available"),r,o)+n:n}break;case 5152:case 5920:return me(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,u,d,h,g,v){return Ge+l+":"+u+v+(d?Ge+l+"-span:"+(h?g:+g-+u)+v:"")+n});case 4949:if(ot(n,r+6)===121)return me(n,":",":"+Ne)+n;break;case 6444:switch(ot(n,ot(n,14)===45?18:11)){case 120:return me(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ne+(ot(n,14)===45?"inline-":"")+"box$3$1"+Ne+"$2$3$1"+Ge+"$2box$3")+n;case 100:return me(n,":",":"+Ge)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return me(n,"scroll-","scroll-snap-")+n}return n}function Pa(n,r){for(var o="",s=0;s<n.length;s++)o+=r(n[s],s,n,r)||"";return o}function j0(n,r,o,s){switch(n.type){case O0:if(n.children.length)break;case N0:case kc:return n.return=n.return||n.value;case fg:return"";case hg:return n.return=n.value+"{"+Pa(n.children,s)+"}";case Ga:if(!vn(n.value=n.props.join(",")))return""}return vn(o=Pa(n.children,s))?n.return=n.value+"{"+o+"}":""}function Y0(n){var r=mg(n);return function(o,s,l,u){for(var d="",h=0;h<r;h++)d+=n[h](o,s,l,u)||"";return d}}function V0(n){return function(r){r.root||(r=r.return)&&n(r)}}function K0(n,r,o,s){if(n.length>-1&&!n.return)switch(n.type){case kc:n.return=yg(n.value,n.length,o);return;case hg:return Pa([ur(n,{value:me(n.value,"@","@"+Ne)})],s);case Ga:if(n.length)return U0(o=n.props,function(l){switch(Un(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gi(ur(n,{props:[me(l,/:(read-\w+)/,":"+No+"$1")]})),gi(ur(n,{props:[l]})),dc(n,{props:rp(o,s)});break;case"::placeholder":gi(ur(n,{props:[me(l,/:(plac\w+)/,":"+Ne+"input-$1")]})),gi(ur(n,{props:[me(l,/:(plac\w+)/,":"+No+"$1")]})),gi(ur(n,{props:[me(l,/:(plac\w+)/,Ge+"input-$1")]})),gi(ur(n,{props:[l]})),dc(n,{props:rp(o,s)});break}return""})}}var X0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Ri=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",Sg="active",Ag="data-styled-version",ja="6.1.13",Nc=`/*!sc*/
`,Na=typeof window<"u"&&"HTMLElement"in window,Q0=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),Z0={},Ya=Object.freeze([]),ki=Object.freeze({});function Eg(n,r,o){return o===void 0&&(o=ki),n.theme!==o.theme&&n.theme||r||o.theme}var Tg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),q0=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,b0=/(^-|-$)/g;function sp(n){return n.replace(q0,"-").replace(b0,"")}var J0=/(a)(d)/gi,ra=52,ap=function(n){return String.fromCharCode(n+(n>25?39:97))};function pc(n){var r,o="";for(r=Math.abs(n);r>ra;r=r/ra|0)o=ap(r%ra)+o;return(ap(r%ra)+o).replace(J0,"$1-$2")}var Ku,_g=5381,Ti=function(n,r){for(var o=r.length;o;)n=33*n^r.charCodeAt(--o);return n},wg=function(n){return Ti(_g,n)};function Ig(n){return pc(wg(n)>>>0)}function ey(n){return n.displayName||n.name||"Component"}function Xu(n){return typeof n=="string"&&!0}var Cg=typeof Symbol=="function"&&Symbol.for,Rg=Cg?Symbol.for("react.memo"):60115,ty=Cg?Symbol.for("react.forward_ref"):60112,ny={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ry={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iy=((Ku={})[ty]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ku[Rg]=kg,Ku);function lp(n){return("type"in(r=n)&&r.type.$$typeof)===Rg?kg:"$$typeof"in n?iy[n.$$typeof]:ny;var r}var oy=Object.defineProperty,sy=Object.getOwnPropertyNames,up=Object.getOwnPropertySymbols,ay=Object.getOwnPropertyDescriptor,ly=Object.getPrototypeOf,cp=Object.prototype;function Pg(n,r,o){if(typeof r!="string"){if(cp){var s=ly(r);s&&s!==cp&&Pg(n,s,o)}var l=sy(r);up&&(l=l.concat(up(r)));for(var u=lp(n),d=lp(r),h=0;h<l.length;++h){var g=l[h];if(!(g in ry||o&&o[g]||d&&g in d||u&&g in u)){var v=ay(r,g);try{oy(n,g,v)}catch{}}}}return n}function Pi(n){return typeof n=="function"}function Oc(n){return typeof n=="object"&&"styledComponentId"in n}function Br(n,r){return n&&r?"".concat(n," ").concat(r):n||r||""}function gc(n,r){if(n.length===0)return"";for(var o=n[0],s=1;s<n.length;s++)o+=n[s];return o}function Lo(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function mc(n,r,o){if(o===void 0&&(o=!1),!o&&!Lo(n)&&!Array.isArray(n))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)n[s]=mc(n[s],r[s]);else if(Lo(r))for(var s in r)n[s]=mc(n[s],r[s]);return n}function Dc(n,r){Object.defineProperty(n,"toString",{value:r})}function Vo(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var uy=function(){function n(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return n.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},n.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,u=l;r>=u;)if((u<<=1)<0)throw Vo(16,"".concat(r));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var d=l;d<u;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(r+1),g=(d=0,o.length);d<g;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[r]++,h++)},n.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),l=s+o;this.groupSizes[r]=0;for(var u=s;u<l;u++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],l=this.indexOfGroup(r),u=l+s,d=l;d<u;d++)o+="".concat(this.tag.getRule(d)).concat(Nc);return o},n}(),_a=new Map,Oa=new Map,wa=1,ia=function(n){if(_a.has(n))return _a.get(n);for(;Oa.has(wa);)wa++;var r=wa++;return _a.set(n,r),Oa.set(r,n),r},cy=function(n,r){wa=r+1,_a.set(n,r),Oa.set(r,n)},dy="style[".concat(Ri,"][").concat(Ag,'="').concat(ja,'"]'),fy=new RegExp("^".concat(Ri,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hy=function(n,r,o){for(var s,l=o.split(","),u=0,d=l.length;u<d;u++)(s=l[u])&&n.registerName(r,s)},py=function(n,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(Nc),l=[],u=0,d=s.length;u<d;u++){var h=s[u].trim();if(h){var g=h.match(fy);if(g){var v=0|parseInt(g[1],10),m=g[2];v!==0&&(cy(m,v),hy(n,m,g[3]),n.getTag().insertRules(v,l)),l.length=0}else l.push(h)}}},dp=function(n){for(var r=document.querySelectorAll(dy),o=0,s=r.length;o<s;o++){var l=r[o];l&&l.getAttribute(Ri)!==Sg&&(py(n,l),l.parentNode&&l.parentNode.removeChild(l))}};function gy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ng=function(n){var r=document.head,o=n||r,s=document.createElement("style"),l=function(h){var g=Array.from(h.querySelectorAll("style[".concat(Ri,"]")));return g[g.length-1]}(o),u=l!==void 0?l.nextSibling:null;s.setAttribute(Ri,Sg),s.setAttribute(Ag,ja);var d=gy();return d&&s.setAttribute("nonce",d),o.insertBefore(s,u),s},my=function(){function n(r){this.element=Ng(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,l=0,u=s.length;l<u;l++){var d=s[l];if(d.ownerNode===o)return d}throw Vo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},n.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},n}(),vy=function(){function n(r){this.element=Ng(r),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},n.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},n}(),yy=function(){function n(r){this.rules=[],this.length=0}return n.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},n.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},n.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},n}(),fp=Na,Sy={isServer:!Na,useCSSOMInjection:!Q0},Da=function(){function n(r,o,s){r===void 0&&(r=ki),o===void 0&&(o={});var l=this;this.options=mt(mt({},Sy),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&Na&&fp&&(fp=!1,dp(this)),Dc(this,function(){return function(u){for(var d=u.getTag(),h=d.length,g="",v=function(y){var _=function(U){return Oa.get(U)}(y);if(_===void 0)return"continue";var R=u.names.get(_),D=d.getGroup(y);if(R===void 0||!R.size||D.length===0)return"continue";var O="".concat(Ri,".g").concat(y,'[id="').concat(_,'"]'),w="";R!==void 0&&R.forEach(function(U){U.length>0&&(w+="".concat(U,","))}),g+="".concat(D).concat(O,'{content:"').concat(w,'"}').concat(Nc)},m=0;m<h;m++)v(m);return g}(l)})}return n.registerId=function(r){return ia(r)},n.prototype.rehydrate=function(){!this.server&&Na&&dp(this)},n.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new n(mt(mt({},this.options),r),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,l=o.target;return o.isServer?new yy(l):s?new my(l):new vy(l)}(this.options),new uy(r)));var r},n.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},n.prototype.registerName=function(r,o){if(ia(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},n.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(ia(r),s)},n.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},n.prototype.clearRules=function(r){this.getTag().clearGroup(ia(r)),this.clearNames(r)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Ay=/&/g,Ey=/^\s*\/\/.*$/gm;function Og(n,r){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Og(o.children,r)),o})}function Ty(n){var r,o,s,l=ki,u=l.options,d=u===void 0?ki:u,h=l.plugins,g=h===void 0?Ya:h,v=function(_,R,D){return D.startsWith(o)&&D.endsWith(o)&&D.replaceAll(o,"").length>0?".".concat(r):_},m=g.slice();m.push(function(_){_.type===Ga&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(Ay,o).replace(s,v))}),d.prefix&&m.push(K0),m.push(j0);var y=function(_,R,D,O){R===void 0&&(R=""),D===void 0&&(D=""),O===void 0&&(O="&"),r=O,o=R,s=new RegExp("\\".concat(o,"\\b"),"g");var w=_.replace(Ey,""),U=$0(D||R?"".concat(D," ").concat(R," { ").concat(w," }"):w);d.namespace&&(U=Og(U,d.namespace));var k=[];return Pa(U,Y0(m.concat(V0(function($){return k.push($)})))),k};return y.hash=g.length?g.reduce(function(_,R){return R.name||Vo(15),Ti(_,R.name)},_g).toString():"",y}var _y=new Da,vc=Ty(),Dg=yn.createContext({shouldForwardProp:void 0,styleSheet:_y,stylis:vc});Dg.Consumer;yn.createContext(void 0);function yc(){return Se.useContext(Dg)}var wy=function(){function n(r,o){var s=this;this.inject=function(l,u){u===void 0&&(u=vc);var d=s.name+u.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,u(s.rules,d,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Dc(this,function(){throw Vo(12,String(s.name))})}return n.prototype.getName=function(r){return r===void 0&&(r=vc),this.name+r.hash},n}(),Iy=function(n){return n>="A"&&n<="Z"};function hp(n){for(var r="",o=0;o<n.length;o++){var s=n[o];if(o===1&&s==="-"&&n[0]==="-")return n;Iy(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var Ug=function(n){return n==null||n===!1||n===""},Mg=function(n){var r,o,s=[];for(var l in n){var u=n[l];n.hasOwnProperty(l)&&!Ug(u)&&(Array.isArray(u)&&u.isCss||Pi(u)?s.push("".concat(hp(l),":"),u,";"):Lo(u)?s.push.apply(s,Fo(Fo(["".concat(l," {")],Mg(u),!1),["}"],!1)):s.push("".concat(hp(l),": ").concat((r=l,(o=u)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in X0||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function hr(n,r,o,s){if(Ug(n))return[];if(Oc(n))return[".".concat(n.styledComponentId)];if(Pi(n)){if(!Pi(u=n)||u.prototype&&u.prototype.isReactComponent||!r)return[n];var l=n(r);return hr(l,r,o,s)}var u;return n instanceof wy?o?(n.inject(o,s),[n.getName(s)]):[n]:Lo(n)?Mg(n):Array.isArray(n)?Array.prototype.concat.apply(Ya,n.map(function(d){return hr(d,r,o,s)})):[n.toString()]}function Fg(n){for(var r=0;r<n.length;r+=1){var o=n[r];if(Pi(o)&&!Oc(o))return!1}return!0}var Cy=wg(ja),Ry=function(){function n(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Fg(r),this.componentId=o,this.baseHash=Ti(Cy,o),this.baseStyle=s,Da.registerId(o)}return n.prototype.generateAndInjectStyles=function(r,o,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))l=Br(l,this.staticRulesId);else{var u=gc(hr(this.rules,r,o,s)),d=pc(Ti(this.baseHash,u)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(u,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}l=Br(l,d),this.staticRulesId=d}else{for(var g=Ti(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")v+=y;else if(y){var _=gc(hr(y,r,o,s));g=Ti(g,_+m),v+=_}}if(v){var R=pc(g>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,s(v,".".concat(R),void 0,this.componentId)),l=Br(l,R)}}return l},n}(),Uc=yn.createContext(void 0);Uc.Consumer;var Qu={};function ky(n,r,o){var s=Oc(n),l=n,u=!Xu(n),d=r.attrs,h=d===void 0?Ya:d,g=r.componentId,v=g===void 0?function(x,Y){var F=typeof x!="string"?"sc":sp(x);Qu[F]=(Qu[F]||0)+1;var L="".concat(F,"-").concat(Ig(ja+F+Qu[F]));return Y?"".concat(Y,"-").concat(L):L}(r.displayName,r.parentComponentId):g,m=r.displayName,y=m===void 0?function(x){return Xu(x)?"styled.".concat(x):"Styled(".concat(ey(x),")")}(n):m,_=r.displayName&&r.componentId?"".concat(sp(r.displayName),"-").concat(r.componentId):r.componentId||v,R=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,D=r.shouldForwardProp;if(s&&l.shouldForwardProp){var O=l.shouldForwardProp;if(r.shouldForwardProp){var w=r.shouldForwardProp;D=function(x,Y){return O(x,Y)&&w(x,Y)}}else D=O}var U=new Ry(o,_,s?l.componentStyle:void 0);function k(x,Y){return function(F,L,V){var ve=F.attrs,ze=F.componentStyle,Je=F.defaultProps,Fe=F.foldedComponentIds,Le=F.styledComponentId,Te=F.target,Re=yn.useContext(Uc),pe=yc(),se=F.shouldForwardProp||pe.shouldForwardProp,W=Eg(L,Re,Je)||ki,X=function(ye,ae,ge){for(var fe,Z=mt(mt({},ae),{className:void 0,theme:ge}),ie=0;ie<ye.length;ie+=1){var Pe=Pi(fe=ye[ie])?fe(Z):fe;for(var ue in Pe)Z[ue]=ue==="className"?Br(Z[ue],Pe[ue]):ue==="style"?mt(mt({},Z[ue]),Pe[ue]):Pe[ue]}return ae.className&&(Z.className=Br(Z.className,ae.className)),Z}(ve,L,W),j=X.as||Te,T={};for(var M in X)X[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&X.theme===W||(M==="forwardedAs"?T.as=X.forwardedAs:se&&!se(M,j)||(T[M]=X[M]));var re=function(ye,ae){var ge=yc(),fe=ye.generateAndInjectStyles(ae,ge.styleSheet,ge.stylis);return fe}(ze,X),ee=Br(Fe,Le);return re&&(ee+=" "+re),X.className&&(ee+=" "+X.className),T[Xu(j)&&!Tg.has(j)?"class":"className"]=ee,T.ref=V,Se.createElement(j,T)}($,x,Y)}k.displayName=y;var $=yn.forwardRef(k);return $.attrs=R,$.componentStyle=U,$.displayName=y,$.shouldForwardProp=D,$.foldedComponentIds=s?Br(l.foldedComponentIds,l.styledComponentId):"",$.styledComponentId=_,$.target=s?l.target:n,Object.defineProperty($,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=s?function(Y){for(var F=[],L=1;L<arguments.length;L++)F[L-1]=arguments[L];for(var V=0,ve=F;V<ve.length;V++)mc(Y,ve[V],!0);return Y}({},l.defaultProps,x):x}}),Dc($,function(){return".".concat($.styledComponentId)}),u&&Pg($,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),$}function pp(n,r){for(var o=[n[0]],s=0,l=r.length;s<l;s+=1)o.push(r[s],n[s+1]);return o}var gp=function(n){return Object.assign(n,{isCss:!0})};function Lg(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Pi(n)||Lo(n))return gp(hr(pp(Ya,Fo([n],r,!0))));var s=n;return r.length===0&&s.length===1&&typeof s[0]=="string"?hr(s):gp(hr(pp(s,r)))}function Sc(n,r,o){if(o===void 0&&(o=ki),!r)throw Vo(1,r);var s=function(l){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];return n(r,o,Lg.apply(void 0,Fo([l],u,!1)))};return s.attrs=function(l){return Sc(n,r,mt(mt({},o),{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return Sc(n,r,mt(mt({},o),l))},s}var Bg=function(n){return Sc(ky,n)},An=Bg;Tg.forEach(function(n){An[n]=Bg(n)});var Py=function(){function n(r,o){this.rules=r,this.componentId=o,this.isStatic=Fg(r),Da.registerId(this.componentId+1)}return n.prototype.createStyles=function(r,o,s,l){var u=l(gc(hr(this.rules,o,s,l)),""),d=this.componentId+r;s.insertRules(d,d,u)},n.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},n.prototype.renderStyles=function(r,o,s,l){r>2&&Da.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,l)},n}();function Ny(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=Lg.apply(void 0,Fo([n],r,!1)),l="sc-global-".concat(Ig(JSON.stringify(s))),u=new Py(s,l),d=function(g){var v=yc(),m=yn.useContext(Uc),y=yn.useRef(v.styleSheet.allocateGSInstance(l)).current;return v.styleSheet.server&&h(y,g,v.styleSheet,m,v.stylis),yn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(y,g,v.styleSheet,m,v.stylis),function(){return u.removeStyles(y,v.styleSheet)}},[y,g,v.styleSheet,m,v.stylis]),null};function h(g,v,m,y,_){if(u.isStatic)u.renderStyles(g,Z0,m,_);else{var R=mt(mt({},v),{theme:Eg(v,y,d.defaultProps)});u.renderStyles(g,R,m,_)}}return yn.memo(d)}function Hg(n,r){var o=Se.useRef(null),s=Se.useRef(!1),l=Se.useRef(n);l.current=n;var u=Se.useCallback(function(h){s.current&&(l.current(h),o.current=requestAnimationFrame(u))},[]),d=Se.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(u))},function(){return s.current}]},[]);return Se.useEffect(function(){return d[0]},[]),d}function Oy(n,r,o,s,l){var d;(d=n.onExit)==null||d.call(n,s,r);const u=l.find(({id:h})=>h===r);return u!=null&&u.onEnter?u.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function Dy(n,r){return r.find(({id:o})=>o===n)}function Uy(n,r){return n!==r}function My(n){console.warn(`No handler found for state: ${n}`)}const Oo="bushGrowing",Lr="bushFull",Ia="bushSpreading",Bo="bushDying",Qt=24,Zt=10,Hr=3e3,xr=3e3,Mc=2,Fy=5,Ly=3,By=12,Hy=940,xy=.7,Ac=20,mp=90,xg=45,Gg=240,zg=10,Ho=80,Gy=3,Ao=5,Jt=150,Fc=Jt*.8,zy=Jt*.2,yt=Jt*.95,xo=30,$g=10,$y=10,Wy=.5,ct=30,Mn=ct*.75,Wg=50,jy=20,Yy=Ho*.8,Vy=.7,Ky=16,gr=40,Xy=24,Lc=16,Qy=72/3,vp=24,Zy=1.25,qy=1.5,Va=Jt*.6,Bc=50,by=1,Jy=350,jg=Ho*.65,eS=80,tS=50,nS=1,rS=128,Yg=10,yp=100,iS=35,Ka=ct,Vg=.5,Kg=2.5,oS=5,sS=.5,aS=1.5,lS=.1,uS=.5,cS=1.5,dS=.25,fS=2.5,hS=45,pS=.05,Go=5,gS=.5,Sp=100,mS=300,Xa=30,zo=1,Ap=Jt*.6,vS=Jt*.25,yS=Jt*.7,SS=Jt*.8,AS=100,ES=2,TS=400,_S=1e3,wS=Jt*.85,IS=100,CS=3,RS=96,kS=24,PS=600,Xg=600,NS=1,OS=24,DS=1,US=.5,Ep=24,Tp=12,_p=40,MS=.35,FS=24,wp=500,LS=1.2,BS=10,HS=150,xS=200,GS=100,zS=100,$S=.7,WS=300,jS=100,YS=120,Ip=300,Ua=10,Qg=250,Qa=Mn*1.2,Cp=10,VS=20,Zg=.15,qg=200,cn=30,Hc=cn*.6,xc="#4CAF50",bg="#FF5722",Jg="#9C27B0",KS="#2196F3",em="#FFC107",XS="#FFD700",tm="#DC143C",nm="#FFFFFF",rm=[5,5],Gc=5,Ma=15,QS=20,ZS=16,qS=10,bS=16,JS=16,Rp=["","","","","","","","","",""],kp=8,eA="#FFFFFF",cr=18,Nt=15,tA="rgba(0, 0, 0, 0.7)",nA=4,or=150,Bt=15,On=10,_i="#555",rA="#f44336",iA="#4CAF50",oA="#2196F3",sA="#FFC107",oa=16,aA=9,Dr=32,sa=28,lA=10,uA=8,cA=8,dA=8,aa=28,la=40,fA="rgba(255, 215, 0, 0.7)",hA="rgba(0, 0, 0, 0.3)",sr=10,Pp=8,Zu=11,ar=20,qu=40,Np=5,pA=10,gA="#FFA500",mA="#808080",Gr=120,vA=30,yA=20,Ai="#2d3748",Do="#ffffff",Ca="#4a5568",SA=5,AA="#3a445892",EA="rgba(0, 0, 0, 0.8)",TA="#FFFFFF",Op=14,Dp=8,Up=-15,_A=60,wA=-50,IA=10,bu=12,Mp=10,CA="rgba(0, 0, 0, 0.5)",RA="#4CAF50",kA="#F44336",PA="#FFC107",NA="rgba(255, 255, 255, 0.2)",Fp="#FFFFFF",OA="#FF6B6B",DA=5,im=30,Eo=50,ua=8,Lp=10,UA="rgba(0, 0, 0, 0.5)",MA="#FFFFFF",FA=33,LA=400,BA=20,HA=10,xA="rgba(0, 0, 0, 0.7)",GA="#FFFFFF",Ju=20,Bp=16,zA=.5,Hp=5,om="#FFD700",$A=40,WA=4,jA=3,YA=5,qt=1,Ro=3,VA=70,xp=600,KA=1.5,sm=.1,XA=15,QA=5e3,Ur=80,ca=10;function vt(n,r,o,s,l){const u={id:n.nextVisualEffectId,type:r,position:o,startTime:n.time,duration:s,entityId:l};return n.visualEffects.push(u),n.nextVisualEffectId++,u.id}var Ce=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n[n.AutopilotMoveTarget=16]="AutopilotMoveTarget",n))(Ce||{}),Fn=(n=>(n.Berry="berry",n.Meat="meat",n))(Fn||{});const am={berry:"",meat:""},ZA={id:Oo,update:(n,r)=>{const{entity:o,updateContext:s}=r,l=s.deltaTime*(Qt/Zt);return o.age+=l,o.age>=o.lifespan?{nextState:Bo,data:{...n,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Ce.BushClaimLost,o.position,qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=l,o.timeSinceLastBerryRegen>=By&&o.food.length<o.maxFood&&(o.food.push({type:Fn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Lr,data:{...n,enteredAt:s.gameState.time,previousState:Oo}}:{nextState:Oo,data:n})},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})},qA={id:Lr,update:(n,r)=>{const{entity:o,updateContext:s}=r,l=s.deltaTime*(Qt/Zt);return o.age+=l,o.age>=o.lifespan?{nextState:Bo,data:{...n,enteredAt:s.gameState.time,previousState:Lr}}:o.food.length<o.maxFood?{nextState:Oo,data:{...n,enteredAt:s.gameState.time,previousState:Lr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(vt(s.gameState,Ce.BushClaimLost,o.position,qt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=l,o.timeSinceLastSpreadAttempt>=mp&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=mp&&Math.random()<o.spreadChance)?{nextState:Ia,data:{...n,enteredAt:s.gameState.time,previousState:Lr}}:{nextState:Lr,data:n})},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})};function pr(n,r){return{x:n.x+r.x,y:n.y+r.y}}function lm(n,r){return{x:n.x-r.x,y:n.y-r.y}}function Sn(n,r){return{x:n.x*r,y:n.y*r}}function Ni(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function en(n){const r=Ni(n);return r===0?{x:0,y:0}:Sn(n,1/r)}function bA(n,r){return Ni(lm(n,r))}function zc(n,r,o){return{x:n.x+(r.x-n.x)*o,y:n.y+(r.y-n.y)*o}}function $c(n){if(n.length===0)return{x:0,y:0};const r=n.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/n.length,y:r.y/n.length}}function Gt(n,r,o,s){let l=r.x-n.x,u=r.y-n.y;return Math.abs(l)>o/2&&(l=l-Math.sign(l)*o),Math.abs(u)>s/2&&(u=u-Math.sign(u)*s),{x:l,y:u}}function Wr(n,r,o){const s=Gt(n,r,o.width,o.height);return en(s)}function ce(n,r,o,s){const l=Gt(n,r,o,s);return Ni(l)}function JA(n,r){return n.x*r.x+n.y*r.y}function e1(n,r){const o=JA(n,r),s=Ni(n),l=Ni(r);if(s===0||l===0)return 0;const u=Math.max(-1,Math.min(1,o/(s*l)));return Math.acos(u)}function t1(n,r,o){const s=Math.max(0,Math.min(1,o)),l={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},u={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},d=Math.round(l.r+(u.r-l.r)*s),h=Math.round(l.g+(u.g-l.g)*s),g=Math.round(l.b+(u.b-l.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(g)}`}var Oe=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n.FeedChildren="FeedChildren",n.AutopilotMove="AutopilotMove",n.AutopilotGather="AutopilotGather",n.AutopilotAttack="AutopilotAttack",n.AutopilotProcreate="AutopilotProcreate",n.AutopilotPlant="AutopilotPlant",n.AutopilotFeedChildren="AutopilotFeedChildren",n))(Oe||{});const Wc={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:"",TribeSplit:"",FeedChildren:"",AutopilotMove:"",AutopilotGather:"",AutopilotAttack:"",AutopilotProcreate:"",AutopilotPlant:"",AutopilotFeedChildren:""},n1={GatherFood:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",PlantBush:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FeedChildren:"Feed",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChildren:"Feed"};var Ei=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(Ei||{});const To={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var he=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n.ToggleProcreationBehavior="ToggleProcreationBehavior",n.TogglePlantingBehavior="TogglePlantingBehavior",n.ToggleGatheringBehavior="ToggleGatheringBehavior",n.ToggleAttackBehavior="ToggleAttackBehavior",n.ToggleCallToAttackBehavior="ToggleCallToAttackBehavior",n.ToggleFeedChildrenBehavior="ToggleFeedChildrenBehavior",n.FastForward="FastForward",n))(he||{});const ec=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,r1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,i1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,Gp=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,o1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,s1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,a1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,l1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,u1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,c1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Me=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.GameOver=10]="GameOver",n[n.ButtonClick=11]="ButtonClick",n[n.SoundTrack1=12]="SoundTrack1",n))(Me||{});const d1=new Map([[0,ec],[1,r1],[2,i1],[3,Gp],[4,o1],[5,s1],[6,a1],[10,l1],[11,u1],[7,ec],[8,ec],[9,Gp],[12,c1]]);let _o,$o;function f1(){if(!(typeof window>"u"))return $o}function jc(){if(!(typeof window>"u"))return!_o&&typeof window.AudioContext=="function"&&(_o=new window.AudioContext,$o=_o.createGain(),$o.connect(_o.destination),ko(.1,!1)),_o}function ko(n,r){$o&&($o.gain.value=r?0:n/10)}const um=new Map;let da=!1,zp=!1;async function h1(){if(zp||da)return;const n=jc();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),da=!0,console.log("Starting sound loading...");const r=[];d1.forEach((o,s)=>{const l=fetch(o).then(u=>{if(!u.ok)throw new Error(`Failed to fetch sound: ${o}`);return u.arrayBuffer()}).then(u=>n.decodeAudioData(u)).then(u=>{um.set(s,u)}).catch(u=>{console.error(`Error loading sound ${Me[s]} from ${o}:`,u)});r.push(l)});try{await Promise.all(r),zp=!0,da=!1,console.log("All sounds loaded successfully.")}catch(o){da=!1,console.error("An error occurred while loading sounds:",o)}}const Uo=new Map;function Yc(n,r){const o=jc(),s=f1();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const l=um.get(n);if(!l){console.warn(`Sound buffer not found for type: ${Me[n]}`);return}if(r!=null&&r.trackId&&Uo.has(r.trackId))return;const u=o.createBufferSource();u.buffer=l,u.loop=(r==null?void 0:r.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let g=d;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=Gt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=ce(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>xp)return;const y=1-Math.pow(m/xp,KA);d.gain.value=Math.max(0,y);const _=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(_)?0:_,d.connect(h),g=h}else{const v=n===Me.GameOver?.4:n===Me.SoundTrack1?1:.2;d.gain.value=v}u.connect(g),g.connect(s),u.start(0),r!=null&&r.trackId&&(Uo.set(r.trackId,{sourceNode:u,gainNode:d}),u.onended=()=>{Uo.delete(r.trackId)})}function $p(n,r=1){const o=Uo.get(n),s=jc();if(o&&s){const{sourceNode:l,gainNode:u}=o,d=s.currentTime;u.gain.setValueAtTime(u.gain.value,d),u.gain.linearRampToValueAtTime(0,d+r),l.stop(d+r),l.onended=null,Uo.delete(n)}}function Ke(n,r,o){const s=xt(n.gameState);s&&Yc(r,{position:o,listenerPosition:s.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function cm(n,r){if(n.autopilotControls.isActive)return[];const o=[],s=n;if(r.food.length>0&&r.hunger>Fc&&o.push({type:Oe.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const d=ut(r,n,"berryBush",ct,v=>v.food.length>0),h=ut(r,n,"humanCorpse",ct,v=>v.food.length>0);let g=null;d&&h?g=ce(r.position,d.position,n.mapDimensions.width,n.mapDimensions.height)<=ce(r.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?d:h:g=d||h,g&&o.push({type:Oe.GatherFood,action:"gathering",key:"e",targetEntity:g})}const l=ut(r,n,"human",ct,d=>{const h=d;return(h.id!==r.id&&h.gender!==r.gender&&h.isAdult&&r.isAdult&&h.hunger<yt&&r.hunger<yt&&(h.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=gr:!r.isPregnant&&r.age<=gr))??!1});l&&o.push({type:Oe.Procreate,action:"procreating",key:"r",targetEntity:l});const u=ut(r,n,"human",Ka,d=>d.id!==r.id&&d.leaderId!==r.leaderId);return u&&o.push({type:Oe.Attack,action:"attacking",key:"q",targetEntity:u}),r.food.filter(d=>d.type===Fn.Berry).length>=Go&&o.push({type:Oe.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&Qc(r.position,r.id,s,Qg).length>0&&o.push({type:Oe.CallToAttack,action:"callingToAttack",key:"v"}),Kc(r,n).canSplit&&o.push({type:Oe.TribeSplit,action:"tribeSplitting",key:"k"}),o}function p1(n,r,o){return r.search.human.byRadius(n.position,o).filter(l=>{var u;return l.activeAction==="procreating"&&l.gender===n.gender&&typeof l.target=="number"&&((u=n.partnerIds)==null?void 0:u.includes(l.target))})[0]}function g1(n,r,o){if(!n.leaderId)return;const s=r,l=s.search.berryBush.byRadius(n.position,o).filter(u=>u.ownerId===n.id);for(const u of l)if(u.claimedUntil&&r.time<u.claimedUntil){const d=s.search.human.byRadius(u.position,ct);for(const h of d)if(!Tc(h,n)&&h.activeAction==="gathering"&&h.target===u.id)return h}}function m1(n,r,o){const s=Fa(n,r),l=r;for(const u of s){if(ce(n.position,u.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=l.search.human.byProperty("attackTargetId",u.id);for(const g of h)if(g.leaderId!==n.leaderId)return{familyMember:u,aggressor:g}}}function v1(n,r){const s=r.search.human.byRadius(n.position,WS);let l,u=1/0;for(const d of s){if(d.id===n.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>$S||fm(n,d,r))continue;const h=ce(n.position,d.position,r.mapDimensions.width,r.mapDimensions.height);h<u&&(u=h,l=d)}return l}function Vc(n,r,o,s){const l=Math.random()*Math.PI*2,u=Math.sqrt(Math.random())*r,d={x:Math.cos(l)*u,y:Math.sin(l)*u},h=pr(n,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Oi(n,r,o,s){const l=r,u={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},d=[...l.search.human.byRect(u),...l.search.berryBush.byRect(u),...l.search.humanCorpse.byRect(u)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(ce(n,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function Ec(n,r,o,s,l){const u=r.mapDimensions.width,d=r.mapDimensions.height;if(!Oi(n,r,s,l))return n;const h=s;for(let g=h;g<=o;g+=h){const v=Math.ceil(2*Math.PI*g/h);for(let m=0;m<v;m++){const y=m/v*2*Math.PI,_={x:Math.cos(y)*g,y:Math.sin(y)*g},R=pr(n,_),D={x:(R.x%u+u)%u,y:(R.y%d+d)%d};if(!Oi(D,r,s,l))return D}}return null}function y1(n,r){const o=ut(n,r,"berryBush",Sp,l=>l.ownerId===n.id);return o?Ec(o.position,r,Sp,Xa,o.id):null}function ut(n,r,o,s,l){const u=r,d=s,h=u.search[o].byRadius(n.position,d);let g=null,v=d;for(const m of h){if(m.id===n.id||l&&!l(m))continue;const y=ce(n.position,m.position,r.mapDimensions.width,r.mapDimensions.height);y<v&&(v=y,g=m)}return g}function dm(n,r,o,s){return r.search[o].byRadius(n,s).length}function Wp(n,r,o){return r.search.human.byRadius(n.position,o).filter(u=>{if(u.id===n.id||u.gender===n.gender||!u.isAdult||u.hunger>=yt||(u.procreationCooldown||0)>0||u.gender==="female"&&u.isPregnant)return!1;const d=u.id===n.motherId||u.id===n.fatherId,h=n.id===u.motherId||n.id===u.fatherId;return!d&&!h})}function $r(n){if(n.length===0)return;const r=n.filter(l=>l.gender==="male"),o=n.filter(l=>l.gender==="female"),s=(l,u)=>l.age!==u.age?u.age-l.age:l.id-u.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function xt(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Ot(n,r){const o=n,s=o.search.human.byProperty("motherId",r.id),l=o.search.human.byProperty("fatherId",r.id);return[...s,...l]}function S1(n,r){var d;const s=r.search.human.byProperty("activeAction","attacking");let l=null,u=1/0;for(const h of s){if(h.attackTargetId!==n)continue;const g=ce(h.position,((d=r.entities.entities.get(n))==null?void 0:d.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);g<u&&(l=h,u=g)}return l}function fm(n,r,o){var l;if(n.id===r.id||n.motherId===r.id||n.fatherId===r.id||r.motherId===n.id||r.fatherId===n.id||n.motherId&&n.motherId===r.motherId||n.fatherId&&n.fatherId===r.fatherId||(l=n.partnerIds)!=null&&l.includes(r.id))return!0;if(n.motherId){const u=o.entities.entities.get(n.motherId);if(u&&(u.motherId===r.id||u.fatherId===r.id))return!0}if(n.fatherId){const u=o.entities.entities.get(n.fatherId);if(u&&(u.motherId===r.id||u.fatherId===r.id))return!0}if(r.motherId){const u=o.entities.entities.get(r.motherId);if(u&&(u.motherId===n.id||u.fatherId===n.id))return!0}if(r.fatherId){const u=o.entities.entities.get(r.fatherId);if(u&&(u.motherId===n.id||u.fatherId===n.id))return!0}return!1}function Tc(n,r){var u,d;if(n.id===r.id||n.motherId===r.id||n.fatherId===r.id||r.motherId===n.id||r.fatherId===n.id)return!0;const o=n.motherId===r.motherId||n.fatherId===r.fatherId,s=r.motherId===n.motherId||r.fatherId===n.fatherId,l=((u=n.ancestorIds)==null?void 0:u.some(h=>r.ancestorIds.includes(h)))||((d=r.ancestorIds)==null?void 0:d.some(h=>n.ancestorIds.includes(h)));return o||s||l}function A1(n,r){const o=[];if(n.motherId){const s=r.entities.entities.get(n.motherId);s&&o.push(s)}if(n.fatherId){const s=r.entities.entities.get(n.fatherId);s&&o.push(s)}return o}function E1(n,r){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function T1(n,r){if(!n.isAdult&&n.fatherId){const o=r.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?E1(n,r):null}function Fa(n,r){var s;const o=new Set;if(n.motherId){const l=r.entities.entities.get(n.motherId);l&&o.add(l)}if(n.fatherId){const l=r.entities.entities.get(n.fatherId);l&&o.add(l)}return(s=n.partnerIds)==null||s.forEach(l=>{const u=r.entities.entities.get(l);u&&o.add(u)}),Ot(r,n).forEach(l=>o.add(l)),Array.from(o)}let tc=0;function _c(){const n=Rp[tc];return tc=(tc+1)%Rp.length,n}function _1(n,r,o){const s=o.mapDimensions.width,l=o.mapDimensions.height,u=r.radius*2;for(let d=wp;d<s/2;d+=50)for(let h=0;h<10;h++){const g=Vc(n,d,s,l);if(!(ce(n,g,s,l)<wp)&&!Oi(g,o,u,r.id))return g}return null}function hm(n,r){const o=new Map;function s(l){const u=Ot(r,l);for(const d of u)o.has(d.id)||(o.set(d.id,d),s(d))}return s(n),Array.from(o.values())}function Kc(n,r){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=r.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=$r(Ot(r,o));if(s&&s.id===n.id)return{canSplit:!1};const l=Xc(n.leaderId,r);if(l.length<_p)return{canSplit:!1};const d=hm(n,r).length+1,h=Math.min(l.length*MS,_p);return{canSplit:d>=h,progress:d/h}}function pm(n,r){if(!Kc(n,r).canSplit)return;const o=_c(),s=hm(n,r);n.leaderId=n.id,n.tribeBadge=o;for(const u of s)u.leaderId=n.id,u.tribeBadge=o;Ke({gameState:r},Me.TribeSplit,n.position)}function Xc(n,r){return r.search.human.byProperty("leaderId",n)}function Qc(n,r,o,s){return o.search.human.byRadius(n,s).filter(u=>u.leaderId!==r&&u.id!==r)}function w1(n,r,o){const s=o.search.human.byProperty("leaderId",n);let l=0;for(const u of s)u.attackTargetId===r&&l++;return l}function I1(n,r){var u;const o=new Map,s=Array.from(n.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(u=o.get(d.leaderId))==null||u.members.push(d));const l=Array.from(o.values()).map(d=>{const h=n.entities.entities.get(d.leaderId),g=d.members.filter(m=>m.isAdult).length,v=d.members.length-g;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:g,childCount:v,isPlayerTribe:d.leaderId===r,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return l.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),l}function jp(n){return n.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function gm(n){return Array.from(n.entities.entities.values()).filter(r=>r.type==="human")}function La(n,r){const o=Xc(n,r);if(o.length===0){const l=r.entities.entities.get(n);return l?l.position:{x:0,y:0}}const s=o.map(l=>l.position);return $c(s)}function Yp(n,r){const s=[...Fa(n,r),n].map(l=>l.position);return $c(s)}function Vp(n,r,o,s){const l=r.x-o.width/2,u=r.y-o.height/2,d=l+n.x,h=u+n.y,g=(d%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:g,y:v}}function C1(n,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const l of s)if(bA(n,l.position)<l.radius)return l}const R1={id:Ia,update:(n,r)=>{const{entity:o,updateContext:s}=r,{gameState:l}=s,u=s.deltaTime*(Qt/Zt);if(o.age+=u,o.age>=o.lifespan)return{nextState:Bo,data:{...n,enteredAt:l.time,previousState:Ia}};const d=Vc(o.position,o.spreadRadius,l.mapDimensions.width,l.mapDimensions.height);return Oi(d,l,15)||qa(l.entities,d,l.time),{nextState:Lr,data:{...n,enteredAt:l.time,previousState:Ia}}},onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time})},k1={id:Bo,update:n=>({nextState:Bo,data:n}),onEnter:(n,r)=>(bc(n.updateContext.gameState.entities,n.entity.id),{...r,enteredAt:n.updateContext.gameState.time})},P1=[ZA,qA,R1,k1],lt="humanIdle",Fr="humanMoving",Po="humanEating",Za="humanGathering",Wo="humanProcreating",Di="humanAttacking",Ra="humanPlanting",N1={id:lt,update:(n,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Di,data:{...n,enteredAt:s.gameState.time,previousState:lt,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=Fc?(o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(l=>l.type!=="slow"),o.activeAction==="moving"?{nextState:Fr,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="gathering"?{nextState:Za,data:{...n,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="eating"?{nextState:Po,data:{...n,enteredAt:s.gameState.time,previousState:lt}}:o.activeAction==="planting"&&o.target?{nextState:Ra,data:{...n,enteredAt:s.gameState.time,previousState:lt,plantingSpot:o.target}}:{nextState:lt,data:n})},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})};function mm(n){let r=$y;return n.hunger>=Fc&&(r*=Wy),n.age>=Yy&&(r*=Vy),n.movementSlowdown&&(r*=n.movementSlowdown.modifier),r}const nc=7.5;class O1{constructor(){_e(this,"id",Fr)}update(r,o){var g;const{entity:s,updateContext:l}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Di,data:{...r,enteredAt:l.gameState.time,previousState:Fr,attackTargetId:s.attackTargetId,attackStartTime:l.gameState.time}};if(s.activeAction!=="moving")return{nextState:lt,data:{...r,enteredAt:l.gameState.time,previousState:Fr}};let u;if(typeof s.target=="object"?u=s.target:typeof s.target=="number"&&(u=(g=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:g.position),!u&&(s.direction.x!==0||s.direction.y!==0)&&(u={x:s.position.x+s.direction.x*nc*2,y:s.position.y+s.direction.y*nc*2}),!u)return{nextState:lt,data:{...r,enteredAt:l.gameState.time,previousState:Fr}};const d=Gt(s.position,u,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=en(d),s.acceleration=mm(s),ce(s.position,u,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<nc?{nextState:lt,data:{...r,enteredAt:l.gameState.time,previousState:Fr}}:{nextState:Fr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const D1=new O1,U1={id:Po,update:(n,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:Po}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>xo&&(o.hunger=Math.max(0,o.hunger-xo),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,Ke(s,Me.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(vt(s.gameState,Ce.Eating,o.position,qt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:lt,data:{...n,enteredAt:s.gameState.time,previousState:Po}}:{nextState:Po,data:n})},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})};class M1{constructor(){_e(this,"id",Za)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const F1=new M1,L1=(n,r)=>(r.procreationEndTime=n.updateContext.gameState.time+(r.duration||2),r),B1=(n,r)=>{const{entity:o,updateContext:s}=r,{gameState:l}=s;if(l.time<(n.procreationEndTime||0))return{nextState:Wo,data:n};const u=l.entities.entities.get(n.partnerId);if(u&&u.type==="human"&&!u.isPregnant&&o.hunger<yt&&u.hunger<yt&&!o.procreationCooldown&&!u.procreationCooldown){const d=o.gender==="female"?o:u.gender==="female"?u:void 0,h=o.gender==="male"?o:u.gender==="male"?u:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=Qy,d.fatherId=h.id,o.procreationCooldown=vp,u.procreationCooldown=vp,Ke(s,Me.Procreate,d.position))}return o.activeAction="idle",u&&(u.activeAction="idle"),{nextState:lt,data:{...n,enteredAt:l.time,previousState:Wo}}},H1={id:Wo,onEnter:L1,update:B1},x1={id:Di,onEnter:(n,r)=>({...r,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:lt,data:{...n}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:lt,data:{...n}};const s=ce(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),l=Gt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=en(l),s>Ka?r.entity.acceleration=mm(r.entity):r.entity.acceleration=0,{nextState:Di,data:n}}},G1={id:Ra,update:(n,r)=>{const{entity:o,updateContext:s}=r,{gameState:l}=s;if(l.time-n.enteredAt>=gS){if(o.food.filter(h=>h.type===Fn.Berry).length>=Go){for(let g=0;g<Go;g++){const v=o.food.findIndex(m=>m.type===Fn.Berry);v>-1&&o.food.splice(v,1)}const h=qa(l.entities,n.plantingSpot,l.time);h.ownerId=o.id,h.claimedUntil=l.time+Gg}return{nextState:lt,data:{...n,enteredAt:l.time,previousState:Ra}}}return{nextState:Ra,data:n}},onEnter:(n,r)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...r,enteredAt:n.updateContext.gameState.time})},z1=[N1,D1,U1,F1,H1,x1,G1],Kp=[...P1,...z1];function $1(n,r,o){const s=Dy(n,Kp);if(!s)return My(n),[n,r];const{nextState:l,data:u}=s.update(r,o);return Uy(n,l)?[l,Oy(s,l,u,o,Kp)]:[l,u]}function W1(n,r,o){const{gameState:s}=r,l=o*(Qt/Zt);if(n.isAdult=n.age>=Lc,n.isCallingToAttack&&n.callToAttackEndTime&&s.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.movementSlowdown&&s.time>n.movementSlowdown.endTime&&(n.movementSlowdown=void 0),n.hitpoints<n.maxHitpoints){const d=1-n.hunger/100*uS,h=lS*d*l;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(Ao/(Qt/Zt)),n.hunger>VA&&(!n.lastHungerEffectTime||s.time-n.lastHungerEffectTime>Ro*2)&&(vt(s,Ce.Hunger,n.position,Ro,n.id),n.lastHungerEffectTime=s.time),n.age+=o/zg,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=l,n.hunger+=o*((Ao*Zy-Ao)/(Qt/Zt)),(!n.lastPregnantEffectTime||s.time-n.lastPregnantEffectTime>Ro*3)&&(vt(s,Ce.Pregnant,n.position,Ro,n.id),n.lastPregnantEffectTime=s.time),n.gestationTime<=0&&(RE(n,n.fatherId,r),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=l,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=l,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=l,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=l,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=l,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.isAdult?n.radius===Hc&&(n.radius=cn):n.hunger+=o*((Ao*qy-Ao)/(Qt/Zt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const d=[];if(n.motherId){const h=s.entities.entities.get(n.motherId);h&&d.push(h)}if(n.fatherId){const h=s.entities.entities.get(n.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=jg&&h.hunger>=eS&&ce(n.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=tS){n.food.pop(),h.hunger=Math.max(0,h.hunger-xo),n.feedParentCooldownTime=nS;break}}let u;if(n.hitpoints<=0?u="killed":n.hunger>=Jt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-xo)):u="hunger":n.age>=n.maxAge&&(u="oldAge"),u){if(n.leaderId===n.id){const d=$r(Ot(s,n));d?(d.leaderId=d.id,d.tribeBadge=n.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const g=h;g.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const g=h;g.leaderId=void 0,g.tribeBadge=void 0}})}if(n.isPlayer){const d=$r(Ot(s,n));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=u)}CE(s.entities,n.position,n.gender,n.age,n.radius,n.id,s.time,n.food,n.hunger),bc(s.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function j1(n,r){const o=r.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/rS);const s=Math.floor(Yg*(1-n.decayProgress));n.food.length>s&&n.food.splice(s),n.decayProgress>=1&&n.food.length<=0&&bc(r.gameState.entities,n.id)}var Zc=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(Zc||{});function Y1(n,r){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=zo&&(n.aiBehaviorTree.execute(n,r,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function V1(n,r){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(r.gameState.time),n.aiType){case Zc.BehaviorTreeBased:default:Y1(n,r);break}}function K1(n,r){n.forces.push(Sn(n.velocity,-.1));const o=Sn(en(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(n.velocity=Sn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),n.velocity=pr(n.velocity,n.forces.reduce(pr,{x:0,y:0})),Ni(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=pr(n.position,Sn(n.velocity,r.deltaTime)),n.position.x=(n.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,n.position.y=(n.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,n.forces=[],n.type==="human"?W1(n,r,r.deltaTime):n.type==="humanCorpse"&&j1(n,r),n.type==="human"&&(!n.isPlayer||r.gameState.autopilotControls.isActive)&&V1(n,r),n.stateMachine&&(n.stateMachine=$1(...n.stateMachine,{entity:n,updateContext:r}))}var N=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(N||{});const Xp="Human Behavior",X1=1;class Q1{constructor(){_e(this,"nodeData",new Map);_e(this,"pathStack",[]);_e(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,l=this.pathStack.join(" > "),u=this.nodeData.get(l)??{path:l,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};u.totalTime+=s,u.callCount++,u.minTime=Math.min(u.minTime,s),u.maxTime=Math.max(u.maxTime,s),this.nodeData.set(l,u),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let l=s,u="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(Xp);if(h){const g=h.totalTime*X1/100;l=s.filter(v=>v.totalTime>g&&v.path!==Xp),u="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),u="--- Behavior Tree Full Report (Root Not Found) ---"}const d=l.sort((h,g)=>g.totalTime-h.totalTime);console.log(u),d.length>0?console.table(d.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const St=new Q1;function Ln(n){return Array.isArray(n)?n:[n,""]}class we{constructor(r,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&St.nodeStart(this.name);try{for(const l of this.children){const[u,d]=Ln(l.execute(r,o,s));if(u!==N.SUCCESS)return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,d),u}return this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,""),N.SUCCESS}finally{this.name&&St.nodeEnd()}}}class mr{constructor(r,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(l=>{l.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&St.nodeStart(this.name);try{const l=this.runningChildIndex??0;for(let u=l;u<this.children.length;u++){const d=this.children[u],[h,g]=Ln(d.execute(r,o,s));if(h!==N.FAILURE){if(h===N.SUCCESS)return delete this.runningChildIndex,this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,g),N.SUCCESS;if(h===N.RUNNING)return this.runningChildIndex=u,this.lastStatus=N.RUNNING,this.name&&s.recordNodeExecution(this.name,N.RUNNING,o.gameState.time,this.depth,g),N.RUNNING}}return delete this.runningChildIndex,this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,N.FAILURE,o.gameState.time,this.depth,""),N.FAILURE}finally{this.name&&St.nodeEnd()}}}class Ae{constructor(r,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&St.nodeStart(this.name);try{const[l,u]=Ln(this.action(r,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,u),l}finally{this.name&&St.nodeEnd()}}}class de{constructor(r,o,s=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&St.nodeStart(this.name);try{const[l,u]=Ln(this.condition(r,o,s)),d=l?N.SUCCESS:N.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,u),d}finally{this.name&&St.nodeEnd()}}}class Qp{constructor(r,o,s,l=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){St.nodeStart(this.name);try{const l=o.gameState.time;let u=s.get(this.startTimeKey);const[d,h]=Ln(this.child.execute(r,o,s));if(d===N.RUNNING){u===void 0&&(s.set(this.startTimeKey,l),u=l);const g=l-u;if(g>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=N.FAILURE;const m=`Timed out after ${g.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m),this.lastStatus}this.lastStatus=N.RUNNING;const v=`Running for ${g.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}return u!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}finally{St.nodeEnd()}}}class wc{constructor(r,o,s,l=0,u){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"statusKey");_e(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=u,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){St.nodeStart(this.name);try{const l=o.gameState.time,u=s.get(this.statusKey),d=s.get(this.timestampKey);if(u!==void 0&&d!==void 0){const m=l-d>this.cacheDurationHours,y=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&y){const _=(d+this.cacheDurationHours-l).toFixed(2),R=`Cache hit. Status: ${N[u]}. ${_}h left.`;return this.lastStatus=u,s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,R),this.lastStatus}}const[h,g]=Ln(this.child.execute(r,o,s));(h===N.SUCCESS||h===N.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,l)),this.lastStatus=h;const v=`Cache miss. Child returned ${N[h]}. ${g}`;return s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}finally{St.nodeEnd()}}}class Ko{constructor(r,o,s,l=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");_e(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=l,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){St.nodeStart(this.name);try{const l=o.gameState.time,u=s.get(this.cooldownKey);if(this.child.lastStatus===N.RUNNING){const[g,v]=Ln(this.child.execute(r,o,s));if(this.lastStatus=g,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,m)}return this.lastStatus}if(u!==void 0&&l<u){const v=`Cooldown active, ${(u-l).toFixed(2)}h left`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,v),this.lastStatus}const[d,h]=Ln(this.child.execute(r,o,s));return(d===N.SUCCESS||d===N.RUNNING)&&s.set(this.cooldownKey,l+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,l,this.depth,h),this.lastStatus}finally{St.nodeEnd()}}}class mi{constructor(r,o,s,l=0){_e(this,"name");_e(this,"lastStatus");_e(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=l;const u=(d,h)=>{d.depth=h,d.children?d.children.forEach(g=>u(g,h+1)):d.child&&u(d.child,h+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&St.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isActive&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[u,d]=Ln(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}finally{this.name&&St.nodeEnd()}}}function Z1(n){return new we([new de((r,o)=>{const s=r.hunger>=Ap,l=r.food.length>0,u=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&l&&u),`${Math.floor(r.hunger-Ap)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new Ae(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",N.RUNNING),"Eat",n+1)],"Eating",n)}function q1(n){return new we([new de((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*Zg||r.isAdult&&r.hunger>wS)return!1;const l=S1(r.id,o.gameState);return l?(s.set("fleeThreat",l),!0):!1},"Should Flee",n+1),new Ae((r,o,s)=>{const l=s.get("fleeThreat");if(!l)return N.FAILURE;r.activeAction="moving";const u=Gt(l.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=en(u),h=pr(r.position,Sn(d,qg));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=d,N.RUNNING},"Execute Flee",n+1)],"Flee",n)}const wo="foodSource";function b1(n){const r=new Ae((s,l,u)=>{const d=new Map,h=ut(s,l.gameState,"berryBush",Ip,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||l.gameState.time>=m.claimedUntil)return!0;const y=l.gameState.entities.entities.get(m.ownerId);if(!y||y.leaderId===s.leaderId)return!0;const _=d.get(y.id)??ce(s.position,y.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height);return d.set(y.id,_),_>YS}),g=ut(s,l.gameState,"humanCorpse",Ip,m=>m.food.length>0);let v=null;if(h&&g){const m=ce(s.position,h.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height),y=ce(s.position,g.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height);v=m<=y?h:g}else v=h||g;return v?(u.set(wo,v),[N.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[N.FAILURE,"No food source found"]},"Find Closest Food Source",n+4),o=new Ae((s,l,u)=>{const d=u.get(wo);return!d||d.food.length===0?(u.delete(wo),[N.FAILURE,"Food source is invalid or depleted"]):ce(s.position,d.position,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)<Mn?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,u.delete(wo),[N.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=Wr(s.position,d.position,l.gameState.mapDimensions),[N.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",n+3);return new we([new de((s,l)=>{const u=s.food.length<s.maxFood,d=s.hunger>vS,h=Ot(l.gameState,s).filter(g=>g.hunger>Va);return[(s.isAdult&&u&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",n+1),new mr([new we([new de((s,l,u)=>u.has(wo),"Has Food Source?",n+2),o],"Continue Gathering Action",n+2),new we([new wc(r,US,"Cache Food Source Search",n+3),o],"Find New Food Source and Gather",n+2)],"Perform or Start Gathering",n+1)],"Gather Food",n)}function J1(n){return new Ae((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),N.SUCCESS),"Idle",n)}const fa="procreationWanderStartTime",Zp=n=>n.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<yt&&(r.gender==="female"?!r.isPregnant&&r.age<=gr:!0));function eE(n){const r=new de((u,d,h)=>{const g=Wp(u,d.gameState,Mn),v=Zp(g);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new Ae((u,d,h)=>{var v;const g=h.get("procreationPartner");return g?(u.activeAction="procreating",u.target=void 0,h.delete("procreationPartner"),h.delete(fa),(v=u.partnerIds)!=null&&v.includes(g.id)||(u.partnerIds=u.partnerIds?[...u.partnerIds,g.id]:[g.id]),N.SUCCESS):N.FAILURE},"Start Procreating"),s=new de((u,d,h)=>{const g=Wp(u,d.gameState,_S),v=Zp(g);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),l=new Ae((u,d,h)=>{const g=h.get("procreationPartner");if(!g)return N.FAILURE;if(ce(u.position,g.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<Mn)return N.SUCCESS;u.activeAction="moving",u.target=g.id;const m=Gt(u.position,g.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return u.direction=en(m),N.RUNNING},"Move Towards Partner");return new we([new de(u=>!(!u.isAdult||u.gender==="female"&&u.isPregnant||u.age<Ky||u.gender==="female"&&u.age>gr),"Is Fertile (age, not pregnant)",n+1),new de(u=>u.hunger<yt,"Is Healthy (hunger)",n+1),new de(u=>(u.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new mr([new we([new de((u,d)=>dm(u.position,d.gameState,"berryBush",TS)>=ES,"Is Environment Viable (food)",n+3),new Ae((u,d,h)=>(h.delete(fa),N.SUCCESS),"Clear Wander Timer",n+3)],"Sufficient Food Path",n+2),new we([new de((u,d)=>{if(u.gender==="male"){const h=Ot(d.gameState,u);return!$r(h)}return!1},"Is Male Without Heir",n+3),new Ae((u,d,h)=>{const g=h.get(fa);if(g===void 0)return h.set(fa,d.gameState.time),[N.FAILURE,"Starting heirless wander timer"];const v=d.gameState.time-g;return v>=Xy?[N.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[N.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",n+3)],"Heirless Desperation Path",n+2)],"Check Environment Or Desperation",n+1),new de((u,d,h)=>{var v;const g=h.get("procreationPartner");return g&&((v=g.partnerIds)!=null&&v.length)&&!g.partnerIds.includes(u.id)&&g.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ce(u.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<jS)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",n+1),new mr([new we([r,o],"Procreate With Immediate Partner",n+2),new Ko(NS,new we([s,l],"Seek Distant Partner Action",n+3),"Seek Distant Partner Cooldown",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const vi="attackTarget",Mr="homeCenter",rc=150;function tE(n,r,o){let s,l=1/0;for(const u of Object.values(n.entities.entities))if(u.type==="human"&&u.id!==r.id&&u.hitpoints>0&&u.leaderId!==r.leaderId){const d=ce(r.position,u.position,n.mapDimensions.width,n.mapDimensions.height);d<o&&d<l&&(l=d,s=u)}return s}function nE(n){return new we([new de((r,o,s)=>{const{gameState:l}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const d=l.entities.entities.get(r.attackTargetId);if(d&&d.hitpoints>0&&ce(r.position,d.position,l.mapDimensions.width,l.mapDimensions.height)<=rc){if(s.set(vi,d),!s.get(Mr)){const h=r.leaderId?La(r.leaderId,l):Fa(r,l).length>0?Yp(r,l):r.position;s.set(Mr,h)}return!0}}const u=tE(l,r,rc);if(u){s.set(vi,u);const d=r.leaderId?La(r.leaderId,l):Fa(r,l).length>0?Yp(r,l):r.position;return s.set(Mr,d),!0}return s.set(vi,void 0),s.set(Mr,void 0),!1},"Find Attack Target",n+1),new Ae((r,o,s)=>{const l=s.get(vi),u=s.get(Mr);if(!l||!u)return N.FAILURE;const{gameState:d}=o;return ce(r.position,u,d.mapDimensions.width,d.mapDimensions.height)>Xg?(r.activeAction="idle",r.attackTargetId=void 0,s.set(vi,void 0),s.set(Mr,void 0),N.FAILURE):l.hitpoints<=0||ce(r.position,l.position,d.mapDimensions.width,d.mapDimensions.height)>rc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(vi,void 0),s.set(Mr,void 0),N.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===l.id||(r.activeAction="attacking",r.attackTargetId=l.id),N.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const rE=(n,r,o)=>{const s=Ot(r.gameState,n).filter(d=>!d.isAdult);if(s.length===0)return N.FAILURE;let l=null,u=Va;for(const d of s)d.hunger>=u&&(u=d.hunger,l=d);return l?(o.set("targetChild",l),N.SUCCESS):N.FAILURE},iE=(n,r,o)=>{const s=o.get("targetChild");return s?ce(n.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Bc?(n.activeAction="moving",n.target=s.id,n.direction=Wr(n.position,s.position,r.gameState.mapDimensions),N.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),N.SUCCESS):N.FAILURE};function oE(n){return new we([new de(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new Ae(rE,"Find Hungriest Child",n+1),new Ae(iE,"Move To Child and Feed",n+1)],"Feed Child",n)}function sE(n){return new we([new de(r=>!r.isAdult&&r.hunger>=Va,"Is Hungry Child",n+1),new Ae((r,o,s)=>{const l=A1(r,o.gameState);if(l.length===0)return N.FAILURE;const u=ut(r,o.gameState,"human",Jy,d=>l.some(h=>h.id===d.id)&&d.food.length>0);return u?(s.set("targetParent",u),N.SUCCESS):N.FAILURE},"Find Parent With Food",n+1),new Ae((r,o,s)=>{const l=s.get("targetParent");if(!l)return N.FAILURE;const u=ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",u<=Bc?(r.target=void 0,N.SUCCESS):(r.target=l.id,r.activeAction="moving",N.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}const ha="plantingSpot";function aE(n){const r=new Ae((s,l,u)=>{const d=u.get(ha);return!d||Oi(d,l.gameState,Xa,s.id)?(u.delete(ha),[N.FAILURE,"Planting spot is invalid or now occupied"]):ce(s.position,d,l.gameState.mapDimensions.width,l.gameState.mapDimensions.height)>Mn?(s.activeAction="moving",s.target=d,s.direction=Wr(s.position,d,l.gameState.mapDimensions),[N.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[N.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",n+3),o=new Ae((s,l,u)=>{const d=y1(s,l.gameState);return d?(u.set(ha,d),[N.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[N.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",n+3);return new we([new de(s=>{const l=s.food.filter(d=>d.type===Fn.Berry).length>=Go,u=s.hunger<yS;return(s.isAdult&&l&&u)??!1},"Can Plant",n+1),new de((s,l)=>{const u=dm(s.position,l.gameState,"berryBush",mS),d=Ot(l.gameState,s);return!(d.length===0||u>=d.length*2)},"Has Not Enough Nearby Bushes",n+1),new mr([new we([new de((s,l,u)=>u.has(ha),"Has Planting Spot?",n+2),r],"Continue Planting Action",n+2),new Ko(DS,o,"Find Planting Spot Cooldown",n+2)],"Perform or Start Planting",n+1)],"Plant Bush",n)}const ic="enemiesNearby";function lE(n){const r=new de(u=>u.id===u.leaderId,"Is Leader?",n+1),o=new de(u=>!u.isCallingToAttack,"Is Not Already Calling?",n+1),s=new Ae((u,d,h)=>{const g=Qc(u.position,u.id,d.gameState,Qg);return g.length>0?(h.set(ic,g),N.SUCCESS):N.FAILURE},"Find Nearby Enemies",n+1),l=new mr([new we([new de((u,d,h)=>{const g=h.get(ic);if(!g||g.length===0)return!1;const v=Xc(u.id,d.gameState),m=jp(v),y=jp(g);return m>y*LS},"Is Strong Enough?",n+3),new Ae((u,d)=>(u.isCallingToAttack=!0,u.callToAttackEndTime=d.gameState.time+Ua,vt(d.gameState,Ce.CallToAttack,u.position,Ua),Ke(d,Me.CallToAttack,u.position),u.activeAction="idle",u.target=void 0,N.SUCCESS),"Issue Call to Attack",n+3)],"Attack",n+2),new Ae((u,d,h)=>{const g=h.get(ic);if(!g||g.length===0)return N.FAILURE;const v=g.map(D=>D.position),m=$c(v),y=Gt(m,u.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),_=en(y),R=pr(u.position,Sn(_,qg*2));return u.activeAction="moving",u.target={x:(R.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(R.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},u.direction=_,N.SUCCESS},"Retreat",n+2)],"Attack or Retreat",n+2);return new we([r,o,s,new Ko(BS,l,"Leader Combat Cooldown",n+1)],"Leader Combat Strategy",n)}const oc="combatTarget",sc="homeCenter";function uE(n){const r=new de(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",n+1),o=new de(d=>d.hunger<SS&&d.hitpoints>=d.maxHitpoints*Zg,"Is Fit for Combat?",n+1),s=new de((d,h)=>{const g=h.gameState.entities.entities.get(d.leaderId);return!!(g!=null&&g.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),l=new Ae((d,h,g)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return N.FAILURE;const y=Qc(m.position,m.id,v,IS);if(y.length===0)return N.FAILURE;y.sort((_,R)=>{const D=ce(d.position,_.position,v.mapDimensions.width,v.mapDimensions.height),O=ce(d.position,R.position,v.mapDimensions.width,v.mapDimensions.height);return D-O});for(const _ of y)if(w1(m.id,_.id,v)<CS){g.set(oc,_);const D=La(m.id,v);return g.set(sc,D),N.SUCCESS}return N.FAILURE},"Find Best Target",n+1),u=new Ae((d,h,g)=>{const v=g.get(oc),m=g.get(sc);if(!v||!m)return N.FAILURE;const{gameState:y}=h;return ce(d.position,m,y.mapDimensions.width,y.mapDimensions.height)>Xg?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),g.set(oc,void 0),g.set(sc,void 0),N.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>qt*5)&&(vt(h.gameState,Ce.TargetAcquired,d.position,qt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,N.RUNNING)},"Attack Target",n+1);return new we([r,o,s,l,u],"Tribe Member Combat",n)}function cE(n){const r=new de((m,y)=>{if(!m.isAdult||m.gender!=="male")return!1;const _=m.partnerIds&&m.partnerIds.length>0,R=Ot(y.gameState,m).length>0;return _||R},"Is Adult Male With Family?",n+1),o=new de((m,y)=>{var D;if(!m.fatherId)return!1;const _=y.gameState.entities.entities.get(m.fatherId);return!_||((D=$r(Ot(y.gameState,_)))==null?void 0:D.id)===m.id?!1:ce(m.position,_.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<PS},"Is Too Close To Father?",n+1),s=new de((m,y,_)=>_.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),l=new Ae((m,y,_)=>{const R=_.get("territoryMoveTarget"),D=_.get("territoryMoveStartTime");if(!R||!D)return[N.FAILURE,"Missing move data"];if(y.gameState.time-D>RS)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[N.FAILURE,"Territory move timed out"];if(ce(m.position,R,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<Mn)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[N.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const U=Gt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=en(U),[N.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),u=new we([s,l],"Handle In-Progress Move",n+2),d=new de((m,y,_)=>_.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+4),h=new Ae((m,y,_)=>{const R=Vc(m.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);_.set("territoryMoveTarget",R),_.set("territoryMoveStartTime",y.gameState.time),m.activeAction="moving",m.target=R;const D=Gt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=en(D),[N.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+4),g=new we([d,h],"Start New Territory Move Action",n+3),v=new mr([u,new Ko(OS,g,"Establish Territory Cooldown",n+2)],"Establish or Continue Move",n+1);return new we([r,o,v],"Establish Family Territory",n)}function dE(n){return new we([new Ae((r,o,s)=>{const l=T1(r,o.gameState);return l?(s.set("patriarchTarget",l),[N.SUCCESS,`Found patriarch: ${l.id}`]):(s.delete("patriarchTarget"),[N.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new Ae((r,o,s)=>{const l=s.get("patriarchTarget");if(!l)return[N.FAILURE,"Patriarch target missing from blackboard"];const u=ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(u>AS){r.activeAction="moving",r.target=l.id;const d=Gt(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=en(d),[N.RUNNING,`Moving to patriarch at ${u.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[N.SUCCESS,`Arrived at patriarch at ${u.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}const ac="tribeSplitMigrationTarget";function fE(n){const r=new we([new de((o,s)=>{const{canSplit:l,progress:u}=Kc(o,s.gameState);return l?[!0,`Progress: ${(u??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",n+2),new Ae((o,s,l)=>{const{gameState:u}=s;let d=l.get(ac);if(!d){if(!o.leaderId)return N.FAILURE;const g=La(o.leaderId,u),v=_1(g,o,u);if(v)l.set(ac,v),d=v;else return N.FAILURE}return ce(o.position,d,u.mapDimensions.width,u.mapDimensions.height)<Mn?(l.delete(ac),o.activeAction="idle",o.target=void 0,N.SUCCESS):(o.activeAction="moving",o.target=d,N.RUNNING)},"Move to New Territory",n+2),new Ae((o,s)=>(pm(o,s.gameState),N.SUCCESS),"Perform Tribe Split",n+2)],"Tribe Split Action",n+1);return new Ko(FS,r,"Tribe Split Cooldown",n)}const pa="jealousyAttackTarget";function hE(n){return new we([new de((r,o,s)=>{const l=p1(r,o.gameState,HS);return l?(s.set(pa,l),[!0,`Partner cheating with ${l.id}`]):(s.delete(pa),!1)},"Check for Infidelity",n+1),new Ae((r,o,s)=>{const l=s.get(pa);return!l||l.hitpoints<=0?(s.delete(pa),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===l.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=l.id,[N.RUNNING,`Attacking ${l.id}`])},"Execute Jealousy Attack",n+1)],"Jealousy Attack",n)}const ga="defendAggressor";function pE(n){return new we([new de((r,o,s)=>{const l=m1(r,o.gameState,xS);return l?(s.set(ga,l.aggressor),[!0,`Family member ${l.familyMember.id} attacked by ${l.aggressor.id}`]):(s.delete(ga),!1)},"Check Family Under Attack",n+1),new Ae((r,o,s)=>{const l=s.get(ga);return!l||l.hitpoints<=0?(s.delete(ga),[N.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===l.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=l.id,[N.RUNNING,`Attacking aggressor ${l.id}`])},"Execute Family Defense Attack",n+1)],"Defend Family",n)}const ma="bushIntruder";function gE(n){return new we([new de((r,o,s)=>{const l=g1(r,o.gameState,GS);return l?(s.set(ma,l),[!0,`Intruder ${l.id} stealing berries`]):(s.delete(ma),!1)},"Check For Intruders on Bushes",n+1),new Ae((r,o,s)=>{const l=s.get(ma);return!l||l.hitpoints<=0?(s.delete(ma),[N.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===l.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=l.id,[N.RUNNING,`Attacking intruder ${l.id}`])},"Execute Bush Defense Attack",n+1)],"Defend Claimed Bush",n)}const va="desperateAttackTarget";function mE(n){return new we([new de(r=>r.hunger>zS,"Is Starving",n+1),new de((r,o)=>{const s=ut(r,o.gameState,"berryBush",ct,u=>u.food.length>0),l=ut(r,o.gameState,"humanCorpse",ct,u=>u.food.length>0);return!s&&!l},"No Other Food Available",n+1),new de((r,o,s)=>{const l=v1(r,o.gameState);return l?(s.set(va,l),[!0,`Found weak target ${l.id}`]):(s.delete(va),!1)},"Find Weak Target",n+1),new Ae((r,o,s)=>{const l=s.get(va);return!l||l.hitpoints<=0?(s.delete(va),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===l.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=l.id,[N.RUNNING,`Desperately attacking ${l.id}`])},"Execute Desperate Attack",n+1)],"Desperate Attack",n)}function vE(n){return new we([new de((r,o)=>r.isPlayer===!0&&o.gameState.autopilotControls.isActive,"Is Autopilot Active?",n+1),new de((r,o)=>[!!o.gameState.autopilotControls.autopilotMoveTarget,`Target: ${JSON.stringify(o.gameState.autopilotControls.autopilotMoveTarget)}`],"Has Autopilot Move Target",n+1),new Ae((r,o)=>{const s=o.gameState.autopilotControls.autopilotMoveTarget;return s?(r.activeAction="moving",r.target=s,[N.SUCCESS,`Set target to ${s.x.toFixed(0)},${s.y.toFixed(0)}`]):[N.FAILURE,"Target disappeared unexpectedly"]},"Set Autopilot Move Action",n+1),new Ae((r,o)=>{const s=o.gameState.autopilotControls.autopilotMoveTarget;if(!s)return r.activeAction==="moving"&&(r.activeAction="idle"),[N.SUCCESS,"Target cleared externally"];const l=ce(r.position,s,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return l<VS?(o.gameState.autopilotControls.autopilotMoveTarget=void 0,r.target=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),[N.SUCCESS,"Arrived at autopilot target"]):[N.RUNNING,`Moving to target, ${l.toFixed(0)}px away`]},"Check Arrival at Autopilot Target",n+1)],"Autopilot Move To Target",n)}function yE(n){return new we([new de((r,o)=>{if(!r.isPlayer||!o.gameState.autopilotControls.isActive||r.autopilotGatherTargetId===void 0)return!1;const s=o.gameState.entities.entities.get(r.autopilotGatherTargetId);return!s||s.food.length===0?(r.autopilotGatherTargetId=void 0,!1):!0},"Has Autopilot Gather Target",n+1),new mr([new we([new de((r,o)=>{const s=o.gameState.entities.entities.get(r.autopilotGatherTargetId);return ce(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Mn},"Is Far From Bush",n+3),new Ae(r=>(r.activeAction="moving",r.target=r.autopilotGatherTargetId,N.RUNNING),"Set Move to Bush Action",n+3)],"Move to Bush",n+2),new we([new de((r,o)=>{const s=o.gameState.entities.entities.get(r.autopilotGatherTargetId);return ce(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Mn},"Is Close to Bush",n+3),new Ae((r,o,s)=>{const l=r.autopilotGatherTargetId;r.autopilotGatherTargetId=void 0;const u=o.gameState.entities.entities.get(l);return!u||u.food.length===0?[N.FAILURE,"Target invalid or depleted upon arrival"]:(r.activeAction="gathering",r.target=l,s.delete("foodSource"),[N.SUCCESS,`Arrived at bush ${l}`])},"Set Gather Action",n+3)],"Gather from Bush",n+2)],"Move or Gather",n+1)],"Autopilot Gather From Target",n)}function SE(n){return new we([new de((r,o)=>{const s=r.autopilotAttackTargetId;if(!s)return!1;const l=o.gameState.entities.entities.get(s);return!l||l.type!=="human"||l.hitpoints<=0?(r.autopilotAttackTargetId=void 0,!1):!0},"Has Autopilot Attack Target",n+1),new Ae((r,o)=>{const s=r.autopilotAttackTargetId;if(!s)return N.FAILURE;const l=o.gameState.entities.entities.get(s);return ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Qa?(r.activeAction="attacking",r.attackTargetId=l.id,r.autopilotAttackTargetId=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=Wr(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Move to Autopilot Attack Target and Attack",n+1)],"Autopilot Attack",n)}function AE(n){return new we([new de((r,o)=>{const s=r.autopilotFeedChildTargetId;if(!s||r.food.length===0)return s&&(r.autopilotFeedChildTargetId=void 0),!1;const l=o.gameState.entities.entities.get(s);return!l||l.type!=="human"||l.isAdult?(r.autopilotFeedChildTargetId=void 0,!1):!0},"Has Autopilot Feed Child Target",n+1),new Ae((r,o)=>{const s=r.autopilotFeedChildTargetId;if(!s)return N.FAILURE;const l=o.gameState.entities.entities.get(s);return ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Qa?(r.autopilotFeedChildTargetId=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=Wr(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Move to Child to Feed",n+1)],"Autopilot Feed Child",n)}function EE(n){return new we([new de(r=>!!r.autopilotPlantTarget,"Has Autopilot Plant Target",n+1),new Ae((r,o)=>{if(r.activeAction==="planting")return N.RUNNING;const s=r.autopilotPlantTarget;return s?Oi(s,o.gameState,Xa,r.id)?(r.autopilotPlantTarget=void 0,N.FAILURE):ce(r.position,s,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Qa?(r.activeAction="planting",r.target=s,r.autopilotPlantTarget=void 0,N.RUNNING):(r.activeAction="moving",r.target=s,r.direction=Wr(r.position,s,o.gameState.mapDimensions),N.RUNNING):N.FAILURE},"Move to Plant Spot and Plant",n+1)],"Autopilot Plant",n)}function TE(n){return new we([new de((r,o)=>{const s=r.autopilotProcreateTargetId;if(!s)return!1;const l=o.gameState.entities.entities.get(s);return!l||l.type!=="human"||l.gender===r.gender||!l.isAdult||!r.isAdult||l.gender==="female"&&(l.isPregnant||l.age>gr)||r.gender==="female"&&(r.isPregnant||r.age>gr)||(l.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||l.hunger>=yt||r.hunger>=yt?(r.autopilotProcreateTargetId=void 0,!1):!0},"Has Valid Autopilot Procreate Target",n+1),new Ae((r,o)=>{const s=r.autopilotProcreateTargetId;if(!s)return N.FAILURE;const l=o.gameState.entities.entities.get(s);return ce(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Qa?(r.activeAction="procreating",r.autopilotProcreateTargetId=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=Wr(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Move to Partner and Procreate",n+1)],"Autopilot Procreate",n)}function _E(){return new mr([q1(1),pE(1),hE(1),gE(1),mE(1),vE(1),yE(1),SE(1),TE(1),EE(1),AE(1),new mi(lE(2),"callToAttack","Gated Leader Combat",1),uE(1),new mi(nE(2),"attack","Gated Attacking",1),Z1(1),new mi(new Qp(b1(3),Ep,"Timeout Gathering",2),"gathering","Gated Gathering",1),new mi(oE(2),"feedChildren","Gated Feed Child",1),sE(1),new mi(new Qp(aE(3),Ep,"Timeout Planting",2),"planting","Gated Planting",1),new mi(eE(2),"procreation","Gated Procreation",1),new wc(fE(2),Tp,"Cache Tribe Split",1),new wc(cE(2),Tp,"Cache Establish Territory",1),dE(1),J1(1)],"Human Behavior",0)}class wE{constructor(){_e(this,"data",new Map);_e(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,l,u){const d=this.nodeExecutionData.get(r)||{lastExecuted:0,status:N.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>zo&&d.executionHistory.push({time:h.time+zo,status:N.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const g=im/Zt*Qt,v=s-g;d.executionHistory=d.executionHistory.filter(y=>y.time>=v);const m={...d,lastExecuted:s,status:o,depth:l,debugInfo:u};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=kS,s=[];for(const[l,u]of this.nodeExecutionData.entries())r-u.lastExecuted>o&&s.push(l);for(const l of s)this.nodeExecutionData.delete(l)}}function IE(n){n.gameState.entities.entities.forEach(o=>{K1(o,n)})}function vm(){return{entities:new Map,nextEntityId:1}}function qc(n,r,o){const s={id:n.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(s.id,s),s}function qa(n,r,o){return qc(n,"berryBush",{position:r,radius:Ac,food:Array.from({length:Ly},()=>({type:Fn.Berry})).map(l=>({...l,id:n.nextEntityId++})),maxFood:Fy,lifespan:Hy,age:0,spreadChance:xy,spreadRadius:Ac,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Oo,{enteredAt:o,previousState:void 0}]})}function Ba(n,r,o,s,l=!1,u=jy,d=Wg,h,g,v=[],m,y){const _=u>=Lc;return qc(n,"human",{position:r,radius:_?cn:Hc,hunger:d,hitpoints:yp,maxHitpoints:yp,age:u,gender:s,isPlayer:l,food:[],maxFood:$g,maxAge:Ho,isAdult:_,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:g,ancestorIds:v,stateMachine:[lt,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:y,aiType:Zc.BehaviorTreeBased,aiBehaviorTree:_E(),aiBlackboard:new wE})}function CE(n,r,o,s,l,u,d,h,g){return qc(n,"humanCorpse",{position:r,radius:l,gender:o,age:s,originalHumanId:u,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(Yg*Math.max(yt-g,0)/yt,1)},()=>({type:Fn.Meat})),...h].map(m=>({...m,id:n.nextEntityId++})),stateMachine:void 0})}function RE(n,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,l=[...n.ancestorIds||[],n.id],u=s?[...s.ancestorIds||[],s.id]:[],d=[...l,...u],h=[...new Set(d)],g=h.slice(Math.max(h.length-Gy,0)),v=Math.random()<.5?"male":"female",m=pr(n.position,{x:5,y:5}),y=Ba(o.gameState.entities,m,o.gameState.time,v,!1,0,Wg/2,n.id,r,g,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return Ke(o,Me.Birth,n.position),y}function bc(n,r){return n.entities.get(r)?(n.entities.delete(r),!0):!1}class kE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const l=s-1>>1,u=this.values[l];if(o>=u)break;this.ids[s]=this.ids[l],this.values[s]=u,s=l}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],l=this.length>>1;let u=0;for(;u<l;){let d=(u<<1)+1;const h=d+1;let g=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,g=this.ids[h],v=m),v>=s)break;this.ids[u]=g,this.values[u]=v,u=d}this.ids[u]=o,this.values[u]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const qp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],lc=3;class Jc{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,l]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const u=l>>4;if(u!==lc)throw new Error(`Got v${u} data when expected v${lc}.`);const d=qp[l&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[g]=new Uint32Array(r,o+4,1);return new Jc(g,h,d,void 0,r,o)}constructor(r,o=16,s=Float64Array,l=ArrayBuffer,u,d=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=r,g=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),g+=h,this._levelBounds.push(g*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=g<16384?Uint16Array:Uint32Array;const v=qp.indexOf(this.ArrayType),m=g*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);u&&u.byteLength!==void 0&&!u.buffer?(this.data=u,this._boxes=new this.ArrayType(this.data,d+8,g*4),this._indices=new this.IndexArrayType(this.data,d+8+m,g),this._pos=g*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new l(8+m+g*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,g*4),this._indices=new this.IndexArrayType(this.data,8+m,g),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(lc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new kE}add(r,o,s=r,l=o){const u=this._pos>>2,d=this._boxes;return this._indices[u]=u,d[this._pos++]=r,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=l,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),l>this.maxY&&(this.maxY=l),u}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,l=new Uint32Array(this.numItems),u=65535;for(let d=0,h=0;d<this.numItems;d++){const g=r[h++],v=r[h++],m=r[h++],y=r[h++],_=Math.floor(u*((g+m)/2-this.minX)/o),R=Math.floor(u*((v+y)/2-this.minY)/s);l[d]=NE(_,R)}Ic(l,r,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const g=this._levelBounds[d];for(;h<g;){const v=h;let m=r[h++],y=r[h++],_=r[h++],R=r[h++];for(let D=1;D<this.nodeSize&&h<g;D++)m=Math.min(m,r[h++]),y=Math.min(y,r[h++]),_=Math.max(_,r[h++]),R=Math.max(R,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=y,r[this._pos++]=_,r[this._pos++]=R}}}search(r,o,s,l,u){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],g=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,Jp(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||l<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const y=this._indices[m>>2]|0;d>=this.numItems*4?h.push(y):(u===void 0||u(y))&&g.push(y)}d=h.pop()}return g}neighbors(r,o,s=1/0,l=1/0,u){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,g=[],v=l*l;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,Jp(d,this._levelBounds));for(let y=d;y<m;y+=4){const _=this._indices[y>>2]|0,R=bp(r,this._boxes[y],this._boxes[y+2]),D=bp(o,this._boxes[y+1],this._boxes[y+3]),O=R*R+D*D;O>v||(d>=this.numItems*4?h.push(_<<1,O):(u===void 0||u(_))&&h.push((_<<1)+1,O))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(g.push(h.pop()>>1),g.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),g}}function bp(n,r,o){return n<r?r-n:n<=o?0:n-o}function Jp(n,r){let o=0,s=r.length-1;for(;o<s;){const l=o+s>>1;r[l]>n?s=l:o=l+1}return r[o]}function Ic(n,r,o,s,l,u){if(Math.floor(s/u)>=Math.floor(l/u))return;const d=n[s+l>>1];let h=s-1,g=l+1;for(;;){do h++;while(n[h]<d);do g--;while(n[g]>d);if(h>=g)break;PE(n,r,o,h,g)}Ic(n,r,o,s,g,u),Ic(n,r,o,g+1,l,u)}function PE(n,r,o,s,l){const u=n[s];n[s]=n[l],n[l]=u;const d=4*s,h=4*l,g=r[d],v=r[d+1],m=r[d+2],y=r[d+3];r[d]=r[h],r[d+1]=r[h+1],r[d+2]=r[h+2],r[d+3]=r[h+3],r[h]=g,r[h+1]=v,r[h+2]=m,r[h+3]=y;const _=o[s];o[s]=o[l],o[l]=_}function NE(n,r){let o=n^r,s=65535^o,l=65535^(n|r),u=n&(r^65535),d=o|s>>1,h=o>>1^o,g=l>>1^s&u>>1^l,v=o&l>>1^u>>1^u;o=d,s=h,l=g,u=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,g^=o&l>>2^s&u>>2,v^=s&l>>2^(o^s)&u>>2,o=d,s=h,l=g,u=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,g^=o&l>>4^s&u>>4,v^=s&l>>4^(o^s)&u>>4,o=d,s=h,l=g,u=v,g^=o&l>>8^s&u>>8,v^=s&l>>8^(o^s)&u>>8,o=g^g>>1,s=v^v>>1;let m=n^r,y=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|m)>>>0}function uc(n,r){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Jc(n.length),s=new Map;for(const u of n)o.add(u.position.x,u.position.y,u.position.x,u.position.y);return o.finish(),{byRect(u){return o.search(u.left,u.top,u.right,u.bottom).map(h=>n[h])},byRadius(u,d){return o.neighbors(u.x,u.y,void 0,d).map(g=>n[g])},byProperty(u,d){var h;if(!s.has(u)){const g=new Map;for(const v of n){const m=v[u];g.has(m)||g.set(m,[]),g.get(m).push(v)}s.set(u,g)}return((h=s.get(u))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function ed(n){const r=Array.from(n.entities.entities.values()),o=r.filter(d=>d.type==="human"),s=r.filter(d=>d.type==="berryBush"),l=r.filter(d=>d.type==="humanCorpse");return{...n,search:{human:uc(o),berryBush:uc(s),humanCorpse:uc(l)}}}var dr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(dr||{}),jo=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(jo||{}),_t=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(_t||{});const OE=[{key:dr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:dr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,r)=>r.hunger>zy,isCompleted:!1,minDisplayTime:Hp,highlightedUIElements:[jo.HUNGER_BAR]},{key:dr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,r)=>!!ut(r,n,"berryBush",ct*5,s=>s.food.length>0),getTargets:(n,r)=>{const o=[];for(const s of n.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ce(r.position,s.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Hp},{key:dr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,r)=>r.food.length>0,getTargets:(n,r)=>{const o=ut(r,n,"berryBush",ct,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:dr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[jo.FOOD_BAR]},{key:dr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,r)=>Ot(n,r).length>0,getTargets:(n,r)=>{const o=ut(r,n,"human",ct,s=>{const l=s;return(l.id!==r.id&&l.gender!==r.gender&&l.isAdult&&r.isAdult&&l.hunger<yt&&r.hunger<yt&&(l.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(l.gender==="female"?!l.isPregnant&&l.age<=gr:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:dr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,r)=>cm(n,r).some(s=>s.type===Oe.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function ym(){return{steps:OE.map(n=>({...n,isCompleted:!1}))}}function Sm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:_t.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function DE(n){for(let r=0;r<n.tutorial.steps.length;r++){const o=n.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function UE(n,r){const o=n.tutorialState;if(!o.isActive){o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=xt(n);if(!s){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=n.tutorial.steps[o.currentStepIndex];if(!l){o.isActive=!1,o.transitionState=_t.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=1/zA;switch(o.transitionState){case _t.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=u*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=_t.ACTIVE);break;case _t.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(l.minDisplayTime||0)&&l.condition(n,s)||n.autopilotControls.isActive)&&(l.isCompleted=!0,o.completedSteps.add(l.key),o.transitionState=_t.FADING_OUT);break}case _t.FADING_OUT:if(o.transitionAlpha-=u*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=DE(n);h!==null?(o.currentStepIndex=h,o.transitionState=_t.FADING_IN):(o.isActive=!1,o.transitionState=_t.INACTIVE)}break}o.transitionState!==_t.FADING_OUT&&o.transitionState!==_t.INACTIVE?(l.getTargets?o.highlightedEntityIds=new Set(l.getTargets(n,s)):o.highlightedEntityIds.clear(),l.highlightedUIElements?o.activeUIHighlights=new Set(l.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function ME(){const n=vm(),r=0;for(let m=0;m<xg;m++){const y={x:Math.random()*Hr,y:Math.random()*xr};qa(n,y,r)}const o=Hr/2,s=xr/2,l=Ba(n,{x:o,y:s},r,"male",!0);Ba(n,{x:o+50,y:s},r,"female",!1);const u=[{id:"autopilotButton",action:he.ToggleAutopilot,currentWidth:Gr,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Do},{id:"muteButton",action:he.ToggleMute,currentWidth:Gr,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Do},{id:"pauseButton",action:he.TogglePause,currentWidth:Gr,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Do}],d=ym(),h=Sm(),g={time:r,entities:n,mapDimensions:{width:Hr,height:xr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...l.position},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!1,gathering:!0,attack:!1,callToAttack:!1,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:sm,isMuted:!1,uiButtons:u,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0},hoveredAutopilotAction:void 0},v=ed(g);return console.log("Game world initialized:",v),v}function FE(){const n=vm(),r=0;for(let u=0;u<xg;u++){const d={x:Math.random()*Hr,y:Math.random()*xr};qa(n,d,r)}for(let u=0;u<XA;u++){const d={x:Math.random()*Hr,y:Math.random()*xr},h=Math.random()<.5?"male":"female";Ba(n,d,r,h,!1)}const o=ym(),s=Sm(),l={time:r,entities:n,mapDimensions:{width:Hr,height:xr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Hr/2,y:xr/2},isPaused:!1,autopilotControls:{isActive:!1,behaviors:{procreation:!0,planting:!0,gathering:!0,attack:!1,callToAttack:!0,feedChildren:!0}},hasPlayerMovedEver:!1,masterVolume:sm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0},hoveredAutopilotAction:void 0};return ed(l)}const LE="humanProcreation",BE="human",HE="human",xE=ct,GE=(n,r)=>{if(n.id===r.id||n.gender===r.gender)return!1;const o=(s,l)=>s.isAdult&&s.hunger<yt&&(s.procreationCooldown||0)<=0?l?!s.isPregnant&&s.age<=gr:!0:!1;return n.gender==="male"?!o(n,!1)||!o(r,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(r,!1)?!1:n.activeAction==="procreating"&&r.activeAction==="procreating"},zE=(n,r,o)=>{var g,v;const{gameState:s}=o,l={x:(n.position.x+r.position.x)/2,y:(n.position.y+r.position.y)/2},u=n.gender==="male"?n:r,d=n.gender==="female"?n:r,h=(u.partnerIds||[]).length===0;if(n.stateMachine=[Wo,{partnerId:r.id,previousState:(g=n.stateMachine)==null?void 0:g[0]}],r.stateMachine=[Wo,{partnerId:n.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(r.id)||n.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(n.id)||r.partnerIds.push(n.id),h&&u.leaderId&&u.leaderId!==u.id){const m=s.entities.entities.get(u.leaderId);if(m){const y=Tc(u,m),_=Tc(d,m);if(!y&&!_){const R=_c();u.leaderId=u.id,u.tribeBadge=R,d.leaderId=u.id,d.tribeBadge=R}}}else if(!n.leaderId&&!r.leaderId&&u&&d){const m=_c();u.leaderId=u.id,u.tribeBadge=m,d.leaderId=u.id,d.tribeBadge=m}n.activeAction=void 0,vt(s,Ce.Procreation,l,Ro),vt(s,Ce.Partnered,n.position,qt,n.id),vt(s,Ce.Partnered,r.position,qt,r.id),n.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,Ke(o,Me.Procreate,l)},$E={id:LE,sourceType:BE,targetType:HE,maxDistance:xE,checker:GE,perform:zE},WE={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Bc,checker:(n,r)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===n.id||r.fatherId===n.id)&&r.hunger>=Va,perform:(n,r,o)=>{n.food.pop(),r.hunger=Math.max(0,r.hunger-xo),n.feedChildCooldownTime=by,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(vt(o.gameState,Ce.ChildFed,r.position,qt,r.id),r.lastChildFedEffectTime=o.gameState.time),Ke(o,Me.ChildFed,r.position)}},jE={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Ka,checker:(n,r,o)=>{var u;if(((u=n.stateMachine)==null?void 0:u[0])!==Di||n.attackTargetId!==r.id||(n.attackCooldown||0)>0)return!1;const s=n.stateMachine[1];return o.gameState.time-s.attackStartTime>=Vg},perform:(n,r,o)=>{const s=Gt(n.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),l=e1(en(s),r.direction);if(Math.abs(l)<hS*Math.PI/180&&Math.random()<pS)vt(o.gameState,Ce.AttackDeflected,r.position,qt,r.id);else{let h=iS;n.gender==="male"&&(h*=cS),n.isAdult||(h*=dS),(!r.isAdult||r.age>=jg)&&n.isAdult&&(h*=fS),r.hitpoints-=h,r.movementSlowdown={modifier:sS,endTime:o.gameState.time+aS},vt(o.gameState,Ce.Hit,r.position,qt,r.id);const v=Gt(n.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=Sn(v,oS);r.forces.push(m),r.hitpoints<=0?Ke(o,Me.HumanDeath,r.position):Ke(o,Me.Attack,n.position)}n.attackCooldown=Kg;const d=n.stateMachine[1];d.attackStartTime=o.gameState.time,vt(o.gameState,Ce.Attack,n.position,qt,n.id)}},YE={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:cn*2,checker:(n,r,{gameState:o})=>ce(n.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+r.radius)/3,perform:(n,r,{gameState:o})=>{const s=ce(n.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){n.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const u=(n.radius+r.radius-s)*.05,d=en(lm(n.position,r.position)),h=Sn(d,u);n.forces.push(h),r.forces.push(Sn(h,-1))}},VE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ct,checker:(n,r,o)=>{var s;return n.isAdult&&r.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Za&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,r,o)=>{const s=r.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=n.id,r.claimedUntil=o.gameState.time+Gg,vt(o.gameState,Ce.BushClaimed,r.position,qt),Ke(o,Me.Gather,n.position)}},KE={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ct,checker:(n,r,o)=>{var s;return n.isAdult&&r.food.length>0&&((s=n.stateMachine)==null?void 0:s[0])===Za&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,r,o)=>{const s=r.food.pop();s&&n.food.push(s),n.gatheringCooldownTime=o.gameState.time+1,Ke(o,Me.Gather,n.position)}},XE=[VE,KE],QE=[YE,...XE,$E,WE,jE];function ZE(n){const{gameState:r}=n,o=r,s=Array.from(r.entities.entities.values());for(const l of QE)for(const u of s){if(l.sourceType&&u.type!==l.sourceType)continue;const d=o.search[l.targetType].byRadius(u.position,l.maxDistance);for(const h of d){if(u.id===h.id)continue;ce(u.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=l.maxDistance&&l.checker(u,h,n)&&l.perform(u,h,n)}}}function qE(n){n.visualEffects=n.visualEffects.filter(r=>n.time-r.startTime<=r.duration)}const bE=1/60;function JE(n,r){const o=xt(n);o&&(n.viewportCenter=zc(n.viewportCenter,o.position,Mc*r))}function ka(n,r){if(n.isPaused)return n;for(;r>0;){const o=ed(n),s=Math.min(r,bE);if(o.gameOver)return o;const l=s*(Qt/Zt);o.time+=l,JE(o,s),IE({gameState:o,deltaTime:s}),ZE({gameState:o,deltaTime:s}),qE(o),UE(o,s),n=o,r-=s}return n}function eg(n,r,o){n.save();const{x:s,y:l,width:u,height:d}=r.rect,h=SA;n.fillStyle=r.backgroundColor,n.beginPath(),n.moveTo(s+h,l),n.lineTo(s+u-h,l),n.quadraticCurveTo(s+u,l,s+u,l+h),n.lineTo(s+u,l+d-h),n.quadraticCurveTo(s+u,l+d,s+u-h,l+d),n.lineTo(s+h,l+d),n.quadraticCurveTo(s,l+d,s,l+d-h),n.lineTo(s,l+h),n.quadraticCurveTo(s,l,s+h,l),n.closePath(),n.fill(),o&&(n.fillStyle=AA,n.globalAlpha=.5,n.fill(),n.globalAlpha=1),n.fillStyle=r.textColor,r.icon?(n.font=`${d*.55}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(r.icon,s+u/2,l+d/2),r.text&&(n.font=`${d*.18}px "Press Start 2P", Arial`,n.textAlign="right",n.textBaseline="bottom",n.fillText(r.text,s+u-4,l+d-2))):(n.textAlign="center",n.textBaseline="middle",n.fillText(r.text,s+u/2,l+d/2)),n.restore()}function eT(n,r,o,s){n.save(),n.font=`${Op}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="bottom";const u=n.measureText(o).width,d=Op,h=u+Dp*2,g=d+Dp*2,v=s.x-h/2,m=n.canvas.height,y=r.y<m/2?r.y+r.height-Up:r.y-g+Up;n.fillStyle=EA,n.fillRect(v,y,h,g),n.fillStyle=TA,n.fillText(o,s.x,y+g/2+d/2),n.restore()}function tT(n,r,o){if(n.uiButtons=n.uiButtons.filter(s=>![he.ToggleProcreationBehavior,he.TogglePlantingBehavior,he.ToggleGatheringBehavior,he.ToggleAttackBehavior,he.ToggleCallToAttackBehavior,he.ToggleFeedChildrenBehavior].includes(s.action)),n.autopilotControls.isActive){const s=[{key:"gathering",action:he.ToggleGatheringBehavior,emoji:Oe.GatherFood,shortcut:"G",name:"Gathering"},{key:"attack",action:he.ToggleAttackBehavior,emoji:Oe.Attack,shortcut:"Q",name:"Attack"},{key:"callToAttack",action:he.ToggleCallToAttackBehavior,emoji:Oe.CallToAttack,shortcut:"V",name:"Call to Attack"},{key:"procreation",action:he.ToggleProcreationBehavior,emoji:Oe.Procreate,shortcut:"R",name:"Procreation"},{key:"planting",action:he.TogglePlantingBehavior,emoji:Oe.PlantBush,shortcut:"B",name:"Planting"},{key:"feedChildren",action:he.ToggleFeedChildrenBehavior,emoji:Oe.FeedChildren,shortcut:"H",name:"Feed Children"}],l=3,u=2,d=l*Ur+(l-1)*ca,h=u*Ur+(u-1)*ca,g=(r-d)/2,v=o-h-20;s.forEach((m,y)=>{const _=y%l,R=Math.floor(y/l),D=g+_*(Ur+ca),O=v+R*(Ur+ca),w=n.autopilotControls.behaviors[m.key],U={id:`toggle${m.name}Button`,action:m.action,rect:{x:D,y:O,width:Ur,height:Ur},icon:Wc[m.emoji],text:m.shortcut,backgroundColor:w?Ca:Ai,textColor:Do,currentWidth:Ur,tooltip:`${m.name}: ${w?"ON":"OFF"}`};n.uiButtons.push(U)})}}function nT(n,r,o){n.save(),r.uiButtons.some(v=>v.action===he.FastForward)||r.uiButtons.push({id:"fastForwardButton",action:he.FastForward,rect:{x:0,y:0,width:0,height:0},text:"FFWD [T]",currentWidth:Gr,backgroundColor:Ai,textColor:Do,tooltip:"Fast-forward time"}),n.textAlign="right";let s=o-Nt;const l=r.uiButtons.find(v=>v.action===he.ToggleAutopilot);l&&(l.text="AUT[O]",l.backgroundColor=r.autopilotControls.isActive?Ca:Ai,l.tooltip=`Toggle Autopilot (${r.autopilotControls.isActive?"ON":"OFF"})`);const u=r.uiButtons.find(v=>v.action===he.ToggleMute);u&&(u.text=r.isMuted?"UN[M]UTE":"[M]UTE",u.backgroundColor=r.isMuted?Ca:Ai,u.tooltip=`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`);const d=r.uiButtons.find(v=>v.action===he.TogglePause);d&&(d.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",d.backgroundColor=r.isPaused?Ca:Ai,d.currentWidth=r.isPaused?Gr*1.4:Gr*1.1,d.tooltip=r.isPaused?"Resume Game":"Pause Game");const h=r.uiButtons.find(v=>v.action===he.FastForward);h&&(h.text="FFWD [T]",h.backgroundColor=Ai,h.currentWidth=Gr*1.3,h.tooltip="Fast-forward time"),tT(r,o,n.canvas.height),r.uiButtons.filter(v=>v.action===he.FastForward||v.action===he.ToggleAutopilot||v.action===he.ToggleMute||v.action===he.TogglePause).forEach(v=>{const m=Nt,y=s-v.currentWidth;v.rect={x:y,y:m,width:v.currentWidth,height:vA},eg(n,v,r.hoveredButtonId===v.id),s-=v.currentWidth+yA}),r.uiButtons.filter(v=>[he.ToggleProcreationBehavior,he.TogglePlantingBehavior,he.ToggleGatheringBehavior,he.ToggleAttackBehavior,he.ToggleCallToAttackBehavior,he.ToggleFeedChildrenBehavior].includes(v.action)).forEach(v=>{eg(n,v,r.hoveredButtonId===v.id)});const g=r.hoveredButtonId?r.uiButtons.find(v=>v.id===r.hoveredButtonId):void 0;g&&g.tooltip&&r.mousePosition&&eT(n,g.rect,g.tooltip,r.mousePosition),n.restore()}function rT(n){n.save(),n.fillStyle=UA,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=MA,n.font=`${FA}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const iT=25,oT=0,tg=28;function Am(n,r,o,s,l,u,d,h,g){n.save();const v=r.x-d.x+h/2,m=r.y-d.y+g/2;n.strokeStyle=s,n.lineWidth=u,n.setLineDash(l),n.beginPath(),n.arc(v,m,o+Gc,0,2*Math.PI),n.stroke(),n.restore()}function sT(n,r,o,s,l,u){if(r.length===0)return;n.save(),r.forEach(m=>{m.targetEntity&&Am(n,m.targetEntity.position,m.targetEntity.radius,nm,rm,2,s,l,u)}),n.font=`${Ma}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const d=o.position.x-s.x+l/2,h=o.position.y-s.y+u/2;let g=0,v={};r.forEach(m=>{const y=Wc[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const _=m.targetEntity.position.x-s.x+l/2,R=m.targetEntity.position.y-s.y+u/2,D=`${y}${m.key.toUpperCase()}`,O=R-m.targetEntity.radius-Gc-Ma/2-(v[m.targetEntity.id]-1)*tg;n.fillText(D,_,O)}else{n.textAlign="left";const _=`${y}${m.key.toUpperCase()}`,R=d+iT,O=h+oT+g*tg;n.fillText(_,R,O),g++,n.textAlign="center"}}),n.restore()}const oe=(n,r,o,s,l,u,d)=>{u==="transparent"||s<=0||l<=0||(n.fillStyle=u,n.fillRect(Math.floor(r*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(l*d)))},ng=10,rg=10,mn=6,Dn=4,ya=2,aT=5,Xt=4,lT=2,gt=4,uT=2,We=3,yi=2,fr=0,Mo=fr+Dn-1,Tt=Mo,Ze=Mo+Xt-1,cT="rgba(0, 0, 0, 0.4)",dT=4,fT=1,td={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,r,o,s,l,u,d,h="male",g=20,v=[1,0],m=!1,y=0){const _=["dead","stunned"].includes(d),R=_?rg+4:ng,D=_?ng+4:rg+We,O=.15,w=Math.min(s*(1-2*O)/R,l*(1-2*O)/D),U=R*w,k=D*w,$=r+(s-U)/2,x=o+(l-k)/2;n.save(),v[0]<0&&!_?(n.translate($+U,x),n.scale(-1,1)):n.translate($,x);const F="#D09A5A",L=g>50?"#BDBDBD":"#281808",V="#7F5C4A",ve="#6B4F3A",ze="#E0D8C0",Je="#A0522D",Fe=1-Math.max(0,Math.min(100,y))/100*.2,Le=h==="male"?1.1:.9,Te=.8+(Math.max(1,Math.min(g,60))-1)/59*.2;let Re=aT*Fe*Le*Te,pe=lT*Fe*Le*Te,se=uT*Fe*Te;m&&h==="female"&&(Re*=1.5);const W=Math.round((R-Re)/2),X=Math.round((R-mn)/2),j=W-pe,T=W+Re,M=1,re=W+(Re/2-M/2)-se,ee=W+(Re/2+M/2),ye=v[1]<-.2&&Math.abs(v[0])<.7,ae=Z=>{n.fillStyle=cT,n.beginPath();const ie=R/2,Pe=Z;n.ellipse(Math.floor(ie*w),Math.floor(Pe*w),Math.max(1,Math.floor(dT*w)),Math.max(1,Math.floor(fT*w)),0,0,2*Math.PI),n.fill()},ge=(Z,ie)=>{h==="male"?(oe(n,W,Mo+Z,Re,Xt-yi,ie,w),oe(n,W,Mo+Xt-yi+Z,Re,yi,V,w)):oe(n,W,Mo+Z,Re,Xt,ve,w)},fe=(Z,ie)=>{ye?oe(n,X,fr+Z,mn,Dn,L,w):(oe(n,X,fr+Z,mn,Dn,ie,w),oe(n,X,fr+Z,mn,ya,L,w),h==="female"?(oe(n,X-1,fr+ya+Z,1,Dn,L,w),oe(n,X+mn,fr+ya+Z,1,Dn,L,w)):oe(n,X+1,fr+2+Z,mn-2,Dn-2,L,w))};switch(d){case"idle":{const Z=u*Math.PI*2,ie=Math.sin(Z)*.5,ue=(Math.cos(Z*2)+1)*.25;ae(Ze+We+1),oe(n,re+ie,Ze+ue,se,We,F,w),oe(n,ee-ie,Ze+ue,se,We,F,w),ge(ue,F),oe(n,j,Tt+ue,pe,gt,F,w),oe(n,T,Tt+ue,pe,gt,F,w),fe(ue,F);break}case"walk":{const Z=u*Math.PI*2,ie=Math.sin(Z)*2,ue=Math.abs(Math.cos(Z))*1;ae(Ze+We+1),oe(n,re+ie,Ze+ue,se,We,F,w),oe(n,ee-ie,Ze+ue,se,We,F,w),ge(ue,F),oe(n,j-ie,Tt+ue,pe,gt,F,w),oe(n,T+ie,Tt+ue,pe,gt,F,w),fe(ue,F);break}case"gathering":{const Z=u*Math.PI*2,ie=1,Pe=(Math.sin(Z)+1)/2*2,ue=ie+Math.abs(Math.cos(Z))*.5;ae(Ze+We+1),oe(n,re,Ze+ue,se,We-ie,F,w),oe(n,ee,Ze+ue,se,We-ie,F,w),ge(ue,F),oe(n,j+1,Tt+ue-Pe,pe,gt,F,w),oe(n,T-1,Tt+ue-Pe,pe,gt,F,w),fe(ue,F);break}case"eat":{ae(Ze+We+1),oe(n,re,Ze+1,se,We-1,F,w),oe(n,ee,Ze+1,se,We-1,F,w),ge(1,F);const Pe=(Math.sin(u*Math.PI*4)+1)/2,ue=X+mn/2,En=fr+Dn/2,Dt=T+(ue-T)*Pe,zt=Tt+1+(En-(Tt+1))*Pe;oe(n,j,Tt+1,pe,gt,F,w),oe(n,Dt,zt,pe,gt,F,w),oe(n,Dt,zt-1,1,1,Je,w),fe(1,F);break}case"procreate":{const Z=(Math.sin(u*Math.PI*8)+1)/4,ie=(Math.sin(u*Math.PI*6)+1)*.5,Pe=1.5,ue=Pe-ie;ae(Ze+We+1),oe(n,re,Ze+ue,se,We-Pe,F,w),oe(n,ee,Ze+ue,se,We-Pe,F,w),ge(ue,F),oe(n,j,Tt+ue,pe,gt,F,w),oe(n,T,Tt+ue,pe,gt,F,w),fe(ue,F),n.globalAlpha=Z,ge(ue,"white"),n.globalAlpha=1;break}case"attacking":{const Z=Math.sin(u*Math.PI)*1.5,ie=Math.abs(Math.sin(u*Math.PI));ae(Ze+We+1),oe(n,re-Z,Ze+ie,se,We,F,w),oe(n,ee+Z*.5,Ze+ie,se,We,F,w),ge(ie,F),oe(n,j,Tt+ie-2,pe,gt,F,w),oe(n,T,Tt+ie-2.5,pe,gt,F,w),fe(ie,F);break}case"defending":{ae(Ze+We+1),oe(n,re,Ze+1,se,We-1,F,w),oe(n,ee,Ze+1,se,We-1,F,w),ge(1,F),oe(n,j-1,Tt+1-1,pe,gt,F,w),oe(n,T+1,Tt+1-1,pe,gt,F,w),fe(1,F);break}case"stunned":case"dead":{const Z=d==="dead",ie=Z?Math.min(1,u):0,Pe=ie>.5?ze:F,ue=h==="male"?V:ve,En=ie>.8?"transparent":L,Dt=R/2,zt=D/2,vr=2;ae(D-1),oe(n,Dt-se-vr,zt,se,We,Pe,w),oe(n,Dt+vr,zt,se,We,Pe,w),oe(n,Dt-pe-vr,zt-Xt+1,pe,gt,Pe,w),oe(n,Dt+vr,zt-Xt+1,pe,gt,Pe,w);const Tn=Dt-Re/2,Bn=zt-Xt/2;h==="male"?(ie<.7&&oe(n,Tn,Bn+Xt-yi,Re,yi,ue,w),oe(n,Tn,Bn,Re,Xt-yi,Pe,w)):ie<.7?oe(n,Tn,Bn,Re,Xt,ue,w):oe(n,Tn,Bn,Re,Xt,Pe,w);const jr=Dt-mn/2,Hn=zt-Xt/2-Dn+1;if(oe(n,jr,Hn,mn,Dn,Pe,w),En!=="transparent"&&oe(n,jr,Hn,mn,ya,En,w),Z&&ie>.6){const xn="#B0A890";for(let yr=0;yr<3;yr++)oe(n,Tn+1,Bn+yr*1+1,Re-2,.5,xn,w)}break}default:oe(n,0,0,R,D,"magenta",w);break}n.restore()}};function hT(n,r,o,s,l){const u=r.x,d=r.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(u-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(u-s/2,d),n.lineTo(u-s/4,d-s/3),n.lineTo(u-s/6,d),n.moveTo(u-s/6,d),n.lineTo(u,d-s/2),n.lineTo(u+s/6,d),n.moveTo(u+s/6,d),n.lineTo(u+s/4,d-s/3),n.lineTo(u+s/2,d),n.stroke(),n.restore()}function Yo(n,r,o,s,l,u=!1,d=!1,h=!1,g=!1){s<Lc&&(o=o*.75),td.render(n,r.x-o/2,r.y-o/2,o,o,0,"idle",l,s,[0,0],!1,0);let v,m;u?(v=lA,m=xc):d?(v=uA,m=em):h?(v=cA,m=Jg):g&&(v=dA,m=bg),v&&m&&hT(n,r,o/2,v,m)}function pT(n,r,o,s,l,u){if(n.save(),s.length===0){n.restore();return}const d=s.length*l,h=4;let g;const v=d+(s.length-1)*h;s.length>1&&v>u?g=(u-d)/(s.length-1):g=h,s.length<=1&&(g=0);for(let m=0;m<s.length;m++){const{member:y,isPlayer:_,isHeir:R,isPartner:D,isParent:O}=s[m],w=r+m*(l+g)+l/2,U=o+l/4;Yo(n,{x:w,y:U},l,y.age,y.gender,_,R,D,O)}n.restore()}function gT(n,r,o,s){if(r.length===0)return;n.save();const l=sr,u=" 00",d=" 00";n.font=`${Zu}px "Press Start 2P", Arial`;const h=n.measureText(u).width,g=n.measureText(d).width,v=sr+aa+sr+ar+h+sr/2+ar+g,m=r.length*la+(r.length-1)*Pp,y=s-m-sr;n.fillStyle=hA,n.fillRect(l,y,v,m);for(let _=0;_<r.length;_++){const R=r[_],D=y+_*(la+Pp),O=D+la/2;R.isPlayerTribe&&(n.fillStyle=fA,n.fillRect(l,D,v,la));let w=l+sr;n.font=`${aa}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(R.tribeBadge,w,O-aa/4),w+=aa+sr*1.1,R.adultCount>0&&(Yo(n,{x:w+ar/2,y:O},ar,25,"male"),w+=ar/2,n.font=`${Zu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.adultCount}`,w,O),w+=n.measureText(` ${R.adultCount}`).width+sr/2),R.childCount>0&&(Yo(n,{x:w+ar/2,y:O},ar,1,"female"),w+=ar/2,n.font=`${Zu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${R.childCount}`,w,O))}n.restore()}function mT(n,r,o,s,l){n.save();const{position:u}=r;n.strokeStyle=s,n.lineWidth=2+Math.sin(l*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(u.x,u.y,o,0,2*Math.PI),n.stroke(),n.restore()}function vT(n,r,o,s,l){if(r.transitionState===_t.INACTIVE)return;const u=o.steps[r.currentStepIndex];if(!u)return;n.save(),n.globalAlpha=r.transitionAlpha;const d=LA,h=BA,g=HA,v=`${Ju}px "Press Start 2P", Arial`,m=`${Bp}px "Press Start 2P", Arial`,y=GA,_=Bp*1.5;n.font=m;const R=u.text.split(" ");let D="";const O=[];for(let x=0;x<R.length;x++){const Y=D+R[x]+" ";n.measureText(Y).width>d-h*2&&x>0?(O.push(D),D=R[x]+" "):D=Y}O.push(D);const w=h*2+Ju+h/2+O.length*_,U=(s-d)/2,k=l-w-20;n.fillStyle=xA,n.beginPath(),n.moveTo(U+g,k),n.lineTo(U+d-g,k),n.quadraticCurveTo(U+d,k,U+d,k+g),n.lineTo(U+d,k+w-g),n.quadraticCurveTo(U+d,k+w,U+d-g,k+w),n.lineTo(U+g,k+w),n.quadraticCurveTo(U,k+w,U,k+w-g),n.lineTo(U,k+g),n.quadraticCurveTo(U,k,U+g,k),n.closePath(),n.fill(),n.fillStyle=y,n.textAlign="center",n.textBaseline="top",n.font=v,n.fillText(u.title,U+d/2,k+h),n.font=m;let $=k+h+Ju+h/2;for(const x of O)n.fillText(x,U+d/2,$),$+=_;n.restore()}function ig(n,r,o){n.save();const s=YA,l={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};n.strokeStyle=om,n.lineWidth=jA+Math.sin(o*WA)*1.5,n.setLineDash([8,8]),n.strokeRect(l.x,l.y,l.width,l.height),n.restore()}function yT(n,r){n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20)}const Cc=10,ST=3,og=Cc*.7;function AT(n,r,o,s,l){const{position:u,food:d,maxFood:h,ownerId:g,claimedUntil:v}=r;if(n.beginPath(),n.arc(u.x,u.y,Cc,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),g&&v&&v>l&&s){const m=o.entities.entities.get(g);if(m){let y;m.id===s.id?y=xc:fm(s,m,o)?y=XS:y=tm,y&&(n.strokeStyle=y,n.lineWidth=1+Math.sin(l*2)*.5,n.beginPath(),n.arc(u.x,u.y,Cc+2,0,Math.PI*2),n.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let y=0;y<d.length;y++){const _=y*m,R=u.x+og*Math.cos(_),D=u.y+og*Math.sin(_);n.beginPath(),n.arc(R,D,ST,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}function ET(n,r){const{position:o,gender:s,age:l,decayProgress:u,food:d,radius:h}=r;if(n.save(),n.globalAlpha=1-u,td.render(n,o.x-h,o.y-h,h*2,h*2,u,"dead",s,l,[0,0],!1,0),n.restore(),d.length>0){n.save(),n.font=`${aA}px Arial`,n.textAlign="center",n.textBaseline="middle";const g=cn*.9,v=Math.PI/$g*3;d.forEach((m,y)=>{const _=y*v,R=o.x+g*Math.cos(_)*Math.atan2(y,y),D=o.y+g*Math.sin(_)*Math.atan2(y,y),O=am[m.type];n.fillText(O,R,D)}),n.restore()}}function wi(n,r,o,s,l,u,d,h){n.save(),n.fillStyle=d,n.fillRect(r,o,s,l),n.fillStyle=h,n.fillRect(r,o,s*Math.max(0,u),l),n.restore()}function TT(n,r,o,s,l,u){if(n.save(),s.length===0){n.restore();return}const d=s.length*l;let h;d>u||d+(s.length-1)*4>u?h=(u-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let g=0;g<s.length;g++){const v=am[s[g].type];n.fillText(v,r+g*(l+h),o)}n.restore()}function _T(n,r,o,s,l){const u=r.hoveredAutopilotAction;if(!u)return;let d,h=cn/2;const g=Wc[u.action],v=n1[u.action],m=`${g} ${v}`;if("targetEntityId"in u){const y=r.entities.entities.get(u.targetEntityId);y&&(d=y.position,h=y.radius)}else"position"in u&&(d=u.position);if(d){Am(n,d,h,nm,rm,2,o,s,l),n.save(),n.font=`${Ma}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const y=d.x-o.x+s/2,R=d.y-o.y+l/2-h-Gc-Ma/2;n.fillText(m,y,R),n.restore()}}const wT={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",tribeSplitting:"idle"};function IT(n,r){var h;const{radius:o,position:s,activeAction:l="idle"}=r,u=((h=r.stateMachine)==null?void 0:h[0])||"N/A",d=r.isAdult?cn+20:cn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${l}`,s.x,s.y-d),n.fillText(`State: ${u}`,s.x,s.y-d+10),n.fillText(`HP: ${r.hitpoints}`,s.x,s.y-d+20),n.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-d+30),n.restore(),n.beginPath(),n.arc(s.x,s.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function CT(n,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${IA}px Arial`,n.textAlign="left",n.textBaseline="top";const l=y=>{switch(y){case N.SUCCESS:return RA;case N.FAILURE:return kA;case N.RUNNING:return PA;case N.NOT_EVALUATED:case null:default:return NA}},u=y=>{if(!y.name||!s.has(y.name))return{width:0,height:0};let _=0,R=0;const D=s.get(y.name),O=` ${y.name}`+(D!=null&&D.debugInfo?`: ${D.debugInfo}`:""),w=n.measureText(O).width,U=(y.depth??0)*Mp+8+w+Lp+Eo+20;if(_=Math.max(_,U),R+=bu,y.children)for(const k of y.children){const $=u(k);_=Math.max(_,$.width),R+=$.height}else if(y.child){const k=u(y.child);_=Math.max(_,k.width),R+=k.height}return{width:_,height:R}},d=(y,_,R,D)=>{if(!y.name||!s.has(y.name))return _;let O=_;const w=s.get(y.name),U=R+2+(y.depth??0)*Mp;let k=N.NOT_EVALUATED,$=Fp,x="";if(w){k=w.status,x=w.debugInfo;const L=DA/Zt*Qt,V=o-w.lastExecuted,ve=Math.max(0,1-V/L);$=t1(Fp,OA,ve),V>zo&&(k=N.NOT_EVALUATED)}const Y=l(k);n.fillStyle=Y,n.fillText("",U,O),n.fillStyle=$;const F=` ${y.name}`+(x?`: ${x}`:"");if(n.fillText(F,U+8,O),w&&w.executionHistory.length>0){const{executionHistory:L}=w,V=im/Zt*Qt,ve=o,ze=ve-V,Je=R+D-Eo-Lp;let Fe=Je;const Le=O+(bu-ua)/2,Te=L.filter(M=>M.time<ze);let Re=Te.length>0?Te[Te.length-1].status:null,pe=ze;const se=L.filter(M=>M.time>=ze&&M.time<=ve),W=Eo/V;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Je,Le,Eo,ua);for(const M of se){const ee=(M.time-pe)*W;ee>0&&(n.fillStyle=l(Re),n.fillRect(Fe,Le,ee,ua),Fe+=ee),Re=M.status,pe=M.time}o-pe>zo&&(Re=N.NOT_EVALUATED);const j=(ve-pe)*W;n.fillStyle=l(Re);const T=Je+Eo-Fe;n.fillRect(Fe,Le,Math.min(j,T),ua)}if(O+=bu,y.children)for(const L of y.children)O=d(L,O,R,D);else y.child&&(O=d(y.child,O,R,D));return O},{width:h,height:g}=u(r.aiBehaviorTree);if(g===0){n.restore();return}const v=r.position.x+_A,m=r.position.y+wA-g/2;n.fillStyle=CA,n.fillRect(v,m,h,g+4),d(r.aiBehaviorTree,m+2,v,h),n.restore()}function RT(n,r,o,s,l){n.save(),n.font=`${kp}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,r.x,r.y-(s?cn:Hc)-kp-l),n.restore()}function kT(n,r,o,s,l){const u=r.x,d=r.y-o-s/2;n.save(),n.fillStyle=l,n.strokeStyle=l,n.lineWidth=1.5,n.beginPath(),n.rect(u-s/2,d,s,s/2),n.fill(),n.beginPath(),n.moveTo(u-s/2,d),n.lineTo(u-s/4,d-s/3),n.lineTo(u-s/6,d),n.moveTo(u-s/6,d),n.lineTo(u,d-s/2),n.lineTo(u+s/6,d),n.moveTo(u+s/6,d),n.lineTo(u+s/4,d-s/3),n.lineTo(u+s/2,d),n.stroke(),n.restore()}function PT(n,r,o){var h;const{position:s,radius:l}=r,u=s.x-qu/2,d=s.y-l-pA;if(((h=r.stateMachine)==null?void 0:h[0])===Di){const g=r.stateMachine[1],v=o-g.attackStartTime,m=Math.min(v/Vg,1);wi(n,u,d,qu,Np,m,_i,gA)}else if(r.attackCooldown&&r.attackCooldown>0){const g=1-r.attackCooldown/Kg;wi(n,u,d,qu,Np,g,_i,mA)}}function NT(n,r,o=!1,s=!1,l=!1,u=!1,d=!1,h=!1,g=!1,v,m){const{position:y,activeAction:_="idle"}=r,R=r.isAdult?cn:cn*.6,D=wT[_]||"idle";td.render(n,y.x-R,y.y-R,R*2,R*2,r.animationProgress||0,D,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(n.save(),n.strokeStyle=tm,n.lineWidth=2,n.beginPath(),n.arc(y.x,y.y,R+3,0,2*Math.PI),n.stroke(),n.restore());let O,w;d?(O=ZS,w=em):o?(O=QS,w=xc):l?(O=qS,w=KS):s?(O=bS,w=bg):u&&(O=JS,w=Jg),O&&w&&kT(n,y,R,O,w),r.tribeBadge&&RT(n,y,r.tribeBadge,r.isAdult??!1,O??0);const U=g&&(m===void 0||r.id===m);U&&r.aiBlackboard&&CT(n,r,v),PT(n,r,v),U&&IT(n,r)}const nd=15;function OT(n,r,o){const s="rgba(0, 191, 255, 0.8)",d=.25+Math.sin(o*5)*.25,h=nd*d;n.save(),n.beginPath(),n.arc(r.x,r.y,Math.max(0,h),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function sg(n,r,o,s,l=1.5){const u=o-r.startTime,d=Math.min(u/r.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(l-1),m=nd*v;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),n.fillStyle=s,n.fill(),n.restore()}function Si(n,r,o,s,l=2){const u=o-r.startTime,d=Math.min(u/r.duration,1),h=1-d,g=nd*2*d;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(r.position.x,r.position.y,g,0,Math.PI*2),n.strokeStyle=s,n.lineWidth=l,n.stroke(),n.restore()}function lr(n,r,o,s){const l=o-r.startTime,u=Math.min(l/r.duration,1),d=1-u,h=-20*u;n.save(),n.globalAlpha=d,n.font="20px Arial",n.textAlign="center",n.fillText(s,r.position.x,r.position.y+h),n.restore()}function DT(n,r,o){switch(r.type){case Ce.Hunger:sg(n,r,o,"rgba(255, 165, 0, 0.7)",1);break;case Ce.Procreation:lr(n,r,o,"");break;case Ce.Pregnant:sg(n,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ce.TargetAcquired:Si(n,r,o,"rgba(255, 0, 0, 0.8)",3);break;case Ce.Attack:lr(n,r,o,"");break;case Ce.Partnered:lr(n,r,o,"");break;case Ce.BushClaimed:Si(n,r,o,"rgba(0, 255, 0, 0.7)",2);break;case Ce.BushClaimLost:Si(n,r,o,"rgba(128, 128, 128, 0.7)",2);break;case Ce.Eating:lr(n,r,o,"");break;case Ce.ChildFed:lr(n,r,o,"");break;case Ce.AttackDeflected:lr(n,r,o,"");break;case Ce.AttackResisted:lr(n,r,o,"");break;case Ce.Hit:lr(n,r,o,"");break;case Ce.SeizeBuildup:Si(n,r,o,"rgba(255, 215, 0, 0.8)",4);break;case Ce.Seize:Si(n,r,o,"rgba(148, 0, 211, 0.8)",4);break;case Ce.CallToAttack:Si(n,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Io(n,r,o,s,l,...u){const d={...l.position};for(let h=-o;h<=o;h+=o)for(let g=-r;g<=r;g+=r)l.position.x=d.x+g,l.position.y=d.y+h,s(n,l,...u);l.position=d}function UT(n,r,o){const s=xt(r),l=s?Ot(r,s):[],u=$r(l),{width:d,height:h}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,y;if(v.type==="berryBush")Io(n,d,h,AT,v,r,s,r.time);else if(v.type==="human"){const _=v,R=_.id===(s==null?void 0:s.id),D=l.some($=>$.id===_.id),O=_.id===(u==null?void 0:u.id),w=s&&(_.id===s.motherId||_.id===s.fatherId),U=s&&(((m=_.partnerIds)==null?void 0:m.includes(s.id))||((y=s.partnerIds)==null?void 0:y.includes(_.id))),k=(s==null?void 0:s.attackTargetId)===_.id;Io(n,d,h,NT,_,R,w,D,U,O,k,o,r.time,r.debugCharacterId)}else v.type==="humanCorpse"&&Io(n,d,h,ET,v)}),r.visualEffects.forEach(v=>{Io(n,d,h,DT,v,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const v of r.tutorialState.highlightedEntityIds){const m=r.entities.entities.get(v);m&&Io(n,d,h,mT,m,$A,om,r.time)}}function MT(n,r,o,s,l,u){let d=null,h=null;n.textAlign="left";let g=Nt+cr;const m=r.time/(Qt/Zt)/zg%1,y=To[Ei.Time],_=25,R=Nt+_;n.fillText(y,Nt,g+Bt/2+cr/3),wi(n,R,g,or,Bt,m,_i,sA),g+=Bt+On;const D=g+Dr/2,O=g+(Dr-Bt)/2,w=5;Yo(n,{x:Nt*2,y:D},Dr,5,o.gender,!1,!1,!1);const U=Nt+Dr+w,k=or+_-(Dr+w)*2;wi(n,U,O,k,Bt,Math.floor(o.age)/Ho,_i,oA),Yo(n,{x:U+k+w+Dr/2,y:D},Dr,Ho,o.gender,!1,!1,!1),g+=Bt+On*2;const $=[],x=new Set;if($.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),x.add(o.id),s&&!x.has(s.id)&&($.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),x.add(s.id)),l.forEach(Te=>{x.has(Te.id)||($.push({member:Te,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),x.add(Te.id))}),u.forEach(Te=>{x.has(Te.id)||($.push({member:Te,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),x.add(Te.id))}),o.motherId&&!x.has(o.motherId)){const Te=r.entities.entities.get(o.motherId);Te&&($.push({member:Te,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),x.add(Te.id))}if(o.fatherId&&!x.has(o.fatherId)){const Te=r.entities.entities.get(o.fatherId);Te&&($.push({member:Te,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),x.add(Te.id))}const Y=To[Ei.Family],F=10,L=Nt+cr+F,V=or+_-(cr+F),ve=g+sa/2;n.font=`${cr}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(Y,Nt,ve);const ze=g+sa/2;pT(n,L,ze,$,sa,V),g+=sa+On,n.textBaseline="alphabetic";const Je=To[Ei.Hitpoints];n.fillText(Je,Nt,g+Bt/2+cr/3),wi(n,R,g,or,Bt,o.hitpoints/o.maxHitpoints,_i,iA),g+=Bt+On;const Fe=To[Ei.Hunger];n.fillText(Fe,Nt,g+Bt/2+cr/3),wi(n,R,g,or,Bt,(Jt-o.hunger)/Jt,_i,rA),d={x:Nt,y:g-On/2,width:or+_,height:Bt+On},g+=Bt+On,n.textBaseline="middle";const Le=To[Ei.Food];return n.fillText(Le,Nt,g+oa/2),TT(n,R,g+oa/2,o.food,oa,or),h={x:Nt,y:g-On/5,width:or+_,height:oa+On},n.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function Ha(n,r,o,s,l,u=!1){var d;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-s.x,n.canvas.height/2-s.y),!u&&r.gameOver){n.restore(),yT(n,r);return}if(UT(n,r,o),r.autopilotControls.autopilotMoveTarget&&OT(n,r.autopilotControls.autopilotMoveTarget,r.time),n.restore(),!u){n.fillStyle=eA,n.font=`${cr}px "Press Start 2P", Arial`,n.shadowColor=tA,n.shadowBlur=nA;const h=xt(r);let g=null,v=null;if(h){const y=Ot(r,h),_=$r(y),R=((d=h.partnerIds)==null?void 0:d.map(O=>r.entities.entities.get(O)).filter(O=>O!==void 0))||[],D=MT(n,r,h,_,R,y);g=D.hungerBarRect,v=D.foodBarRect}const m=I1(r,h==null?void 0:h.leaderId);if(gT(n,m,n.canvas.width,n.canvas.height),nT(n,r,n.canvas.width),n.shadowColor="transparent",n.shadowBlur=0,h&&(r.autopilotControls.isActive?_T(n,r,s,n.canvas.width,n.canvas.height):l.length>0&&sT(n,l,h,s,n.canvas.width,n.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:y}=r.tutorialState;y.has(jo.HUNGER_BAR)&&g&&ig(n,g,r.time),y.has(jo.FOOD_BAR)&&v&&ig(n,v,r.time)}r.tutorialState.isActive&&vT(n,r.tutorialState,r.tutorial,n.canvas.width,n.canvas.height),r.isPaused&&rT(n)}}const FT=An.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,LT=An.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,BT=An.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,HT=An.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,xT=An.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,cc="intro-soundtrack",ag=()=>{const{setAppState:n}=xa(),r=Se.useRef(null),o=Se.useRef(null),s=Se.useRef(FE()),l=Se.useRef(),u=Se.useRef(s.current.viewportCenter),d=Se.useRef();Se.useEffect(()=>(Yc(Me.SoundTrack1,{loop:!0,trackId:cc}),()=>{$p(cc,2)}),[]),Se.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const y=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Ha(o.current,s.current,!1,u.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),Se.useEffect(()=>{const m=()=>{const _=gm(s.current);if(_.length>0){const R=Math.floor(Math.random()*_.length);d.current=_[R].id}};m();const y=setInterval(m,QA);return()=>clearInterval(y)},[]);const[h,g]=Hg(m=>{if(!o.current)return;if(l.current===void 0){l.current=m;return}const y=Math.min((m-l.current)/1e3,1);s.current=ka(s.current,y);const _=d.current?s.current.entities.entities.get(d.current):void 0;if(_){const{mapDimensions:R}=s.current,{width:D,height:O}=R;let w={..._.position};const U=w.x-u.current.x;Math.abs(U)>D/2&&(U>0?w.x-=D:w.x+=D);const k=w.y-u.current.y;Math.abs(k)>O/2&&(k>0?w.y-=O:w.y+=O);let $=zc(u.current,w,Mc*y);$={x:($.x%D+D)%D,y:($.y%O+O)%O},u.current=$}Ha(o.current,s.current,!1,u.current,[],!0),l.current=m});Se.useEffect(()=>(g(),h),[g,h]);const v=()=>{$p(cc,2),n("game")};return De.jsxs(FT,{children:[De.jsx(LT,{ref:r}),De.jsxs(BT,{children:[De.jsx(HT,{children:"Tribe"}),De.jsx(xT,{onClick:v,children:"Start Game"})]})]})};function GT(){return console.log("Tribe game initialized with detailed 2D world state."),ME()}const lg=()=>{const[n]=Se.useState(()=>GT());return De.jsx(zT,{initialState:n})},zT=({initialState:n})=>{const r=Se.useRef(null),o=Se.useRef(null),s=Se.useRef(n),l=Se.useRef(),u=Se.useRef(new Set),d=Se.useRef(!1),h=Se.useRef(n.viewportCenter),g=Se.useRef([]),{appState:v,setAppState:m}=xa();Se.useEffect(()=>{const D=r.current;if(!D)return;o.current=D.getContext("2d");const O=()=>{D&&o.current&&(D.width=window.innerWidth,D.height=window.innerHeight,Ha(o.current,s.current,d.current,h.current,g.current,!1))};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[y,_,R]=Hg(D=>{if(!o.current||!l.current){l.current=D;return}const O=Math.min(D-l.current,1e3)/1e3;s.current=ka(s.current,O);const w=xt(s.current);if(w?s.current.autopilotControls.isActive?g.current=[]:g.current=cm(s.current,w):g.current=[],w){const{mapDimensions:U}=s.current,{width:k,height:$}=U;let x={...w.position};if(s.current.debugCharacterId){const V=s.current.entities.entities.get(s.current.debugCharacterId);V&&(x={...V.position})}const Y=x.x-h.current.x;Math.abs(Y)>k/2&&(Y>0?x.x-=k:x.x+=k);const F=x.y-h.current.y;Math.abs(F)>$/2&&(F>0?x.y-=$:x.y+=$);let L=zc(h.current,x,Mc*O);L={x:(L.x%k+k)%k,y:(L.y%$+$)%$},h.current=L}else h.current=s.current.viewportCenter;Ha(o.current,s.current,d.current,h.current,g.current,!1),l.current=D,s.current.gameOver&&v!=="gameOver"&&(Yc(Me.GameOver,{masterVolume:s.current.masterVolume,isMuted:s.current.isMuted}),m("gameOver",{generations:s.current.generationCount,cause:s.current.causeOfGameOver||"Unknown"}))});return Se.useEffect(()=>(_(),y),[_,y]),Se.useEffect(()=>{const D=O=>{if(!R()||s.current.gameOver||!r.current||!O.target||O.target!==r.current)return;const w=r.current.getBoundingClientRect(),U=O.clientX-w.left,k=O.clientY-w.top,$={gameState:s.current};let x=!1;if(s.current.uiButtons.forEach(Y=>{if(U>=Y.rect.x&&U<=Y.rect.x+Y.rect.width&&k>=Y.rect.y&&k<=Y.rect.y+Y.rect.height){x=!0;const F=xt(s.current);switch(F&&Ke($,Me.ButtonClick,F.position),Y.action){case he.ToggleAutopilot:s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;break;case he.ToggleMute:s.current.isMuted=!s.current.isMuted,ko(s.current.masterVolume,s.current.isMuted);break;case he.TogglePause:s.current.isPaused=!s.current.isPaused;break;case he.FastForward:s.current=ka(s.current,Cp);break;case he.ToggleProcreationBehavior:s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation;break;case he.TogglePlantingBehavior:s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting;break;case he.ToggleGatheringBehavior:s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering;break;case he.ToggleAttackBehavior:s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack;break;case he.ToggleCallToAttackBehavior:s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack;break;case he.ToggleFeedChildrenBehavior:s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren;break}}}),!x&&s.current.autopilotControls.isActive&&!s.current.isPaused){const Y=xt(s.current),F=s.current.hoveredAutopilotAction;if(Y&&F)switch(s.current.autopilotControls.autopilotMoveTarget=void 0,Y.autopilotGatherTargetId=void 0,Y.autopilotPlantTarget=void 0,Y.autopilotAttackTargetId=void 0,Y.autopilotProcreateTargetId=void 0,Y.autopilotFeedChildTargetId=void 0,F.action){case Oe.AutopilotGather:Y.autopilotGatherTargetId=F.targetEntityId;break;case Oe.AutopilotMove:s.current.autopilotControls.autopilotMoveTarget=F.position;break;case Oe.AutopilotPlant:Y.autopilotPlantTarget=F.position;break;case Oe.AutopilotAttack:Y.autopilotAttackTargetId=F.targetEntityId;break;case Oe.AutopilotProcreate:Y.autopilotProcreateTargetId=F.targetEntityId;break;case Oe.AutopilotFeedChildren:Y.autopilotFeedChildTargetId=F.targetEntityId;break}else if(Y){const L=Vp({x:U,y:k},h.current,{width:r.current.width,height:r.current.height},s.current.mapDimensions);s.current.autopilotControls.autopilotMoveTarget=L}}};return window.addEventListener("mousedown",D),()=>{window.removeEventListener("mousedown",D)}},[R]),Se.useEffect(()=>{const D=O=>{if(!R()||!r.current)return;const w=r.current.getBoundingClientRect(),U=O.clientX-w.left,k=O.clientY-w.top;if(s.current.mousePosition={x:U,y:k},s.current.autopilotControls.isActive){const x=xt(s.current);if(!x){s.current.hoveredAutopilotAction=void 0;return}const Y=Vp({x:U,y:k},h.current,{width:r.current.width,height:r.current.height},s.current.mapDimensions);let F,L=C1(Y,s.current);if(L){if(L.type==="berryBush"&&L.food.length>0)F={action:Oe.AutopilotGather,targetEntityId:L.id};else if(L.type==="human"){const V=L;V.id!==x.id&&V.leaderId!==x.leaderId?F={action:Oe.AutopilotAttack,targetEntityId:V.id}:V.id!==x.id&&V.gender!==x.gender&&V.isAdult&&x.isAdult&&(V.procreationCooldown||0)<=0?F={action:Oe.AutopilotProcreate,targetEntityId:V.id}:x.food.length>0&&!V.isAdult&&(V.motherId===x.id||V.fatherId===x.id)&&(F={action:Oe.AutopilotFeedChildren,targetEntityId:V.id})}}else s.current.autopilotControls.behaviors.planting&&x.food.filter(V=>V.type===Fn.Berry).length>=Go&&Ec(Y,s.current,1,Xa,x.id)?F={action:Oe.AutopilotPlant,position:Y}:F={action:Oe.AutopilotMove,position:Y};s.current.hoveredAutopilotAction=F}else s.current.hoveredAutopilotAction=void 0;let $;for(let x=s.current.uiButtons.length-1;x>=0;x--){const Y=s.current.uiButtons[x];if(U>=Y.rect.x&&U<=Y.rect.x+Y.rect.width&&k>=Y.rect.y&&k<=Y.rect.y+Y.rect.height){$=Y.id;break}}s.current.hoveredButtonId=$};return window.addEventListener("mousemove",D),()=>{window.removeEventListener("mousemove",D)}},[R]),Se.useEffect(()=>{const D=w=>{var x,Y,F;if(!R()||s.current.gameOver)return;const U=w.key.toLowerCase();if(U==="escape"){s.current.autopilotControls.autopilotMoveTarget=void 0;const L=xt(s.current);L&&(L.autopilotGatherTargetId=void 0);return}if(U==="m"){s.current.isMuted=!s.current.isMuted,ko(s.current.masterVolume,s.current.isMuted);return}if(U==="="||U==="+"){const L=Math.min(1,s.current.masterVolume+.1);s.current.masterVolume=parseFloat(L.toFixed(1)),ko(s.current.masterVolume,s.current.isMuted);return}if(U==="-"){const L=Math.max(0,s.current.masterVolume-.1);s.current.masterVolume=parseFloat(L.toFixed(1)),ko(s.current.masterVolume,s.current.isMuted);return}if(U==="t"){s.current=ka(s.current,Cp);return}if(U===" "||U==="p"){w.preventDefault(),s.current.isPaused=!s.current.isPaused;return}if(U==="o"){s.current.autopilotControls.isActive=!s.current.autopilotControls.isActive;return}if(U===""||U==="`"){d.current=!d.current,d.current?s.current.debugCharacterId=((x=xt(s.current))==null?void 0:x.id)??((F=(Y=gm(s.current))==null?void 0:Y[0])==null?void 0:F.id):s.current.debugCharacterId=void 0;return}if(U==="tab"){w.preventDefault(),d.current=!0;const L=Array.from(s.current.entities.entities.values()).filter(V=>V.type==="human");if(L.length>0){const V=L.sort((Fe,Le)=>Fe.isPlayer?-1:Fe.id-Le.id),ve=s.current.debugCharacterId,Je=((ve?V.findIndex(Fe=>Fe.id===ve):-1)+1)%V.length;s.current.debugCharacterId=V[Je].id}else s.current.debugCharacterId=void 0;return}const k=xt(s.current);if(!k)return;const $={gameState:s.current};if(s.current.autopilotControls.isActive){U==="r"?(s.current.autopilotControls.behaviors.procreation=!s.current.autopilotControls.behaviors.procreation,Ke($,Me.ButtonClick,k.position)):U==="b"?(s.current.autopilotControls.behaviors.planting=!s.current.autopilotControls.behaviors.planting,Ke($,Me.ButtonClick,k.position)):U==="g"?(s.current.autopilotControls.behaviors.gathering=!s.current.autopilotControls.behaviors.gathering,Ke($,Me.ButtonClick,k.position)):U==="q"?(s.current.autopilotControls.behaviors.attack=!s.current.autopilotControls.behaviors.attack,Ke($,Me.ButtonClick,k.position)):U==="v"?(s.current.autopilotControls.behaviors.callToAttack=!s.current.autopilotControls.behaviors.callToAttack,Ke($,Me.ButtonClick,k.position)):U==="h"&&(s.current.autopilotControls.behaviors.feedChildren=!s.current.autopilotControls.behaviors.feedChildren,Ke($,Me.ButtonClick,k.position));return}if(u.current.add(U),U==="e"){const L=ut(k,s.current,"berryBush",ct,ze=>ze.food.length>0&&k.food.length<k.maxFood),V=ut(k,s.current,"humanCorpse",ct,ze=>ze.food.length>0&&k.food.length<k.maxFood);let ve=null;L&&V?ve=ce(k.position,L.position,s.current.mapDimensions.width,s.current.mapDimensions.height)<=ce(k.position,V.position,s.current.mapDimensions.width,s.current.mapDimensions.height)?L:V:ve=L||V,ve&&(k.activeAction="gathering",Ke($,Me.Gather,k.position))}else if(U==="r")ut(k,s.current,"human",ct,V=>{const ve=V;return ve.id!==k.id&&ve.gender!==k.gender&&ve.isAdult&&k.isAdult&&ve.hunger<yt&&k.hunger<yt&&(ve.procreationCooldown||0)<=0&&(k.procreationCooldown||0)<=0&&(ve.gender==="female"?!ve.isPregnant:!k.isPregnant)||!1})&&(k.activeAction="procreating",Ke($,Me.Procreate,k.position));else if(U==="f")k.activeAction="eating",Ke($,Me.Eat,k.position);else if(U==="arrowup"||U==="w")k.direction.y=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(U==="arrowdown"||U==="s")k.direction.y=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(U==="arrowleft"||U==="a")k.direction.x=-1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(U==="arrowright"||U==="d")k.direction.x=1,k.activeAction="moving",s.current.hasPlayerMovedEver=!0;else if(U==="q"){const L=ut(k,s.current,"human",Ka,V=>V.id!==k.id&&V.leaderId!==k.leaderId);L&&(k.activeAction="attacking",k.attackTargetId=L.id)}else if(U==="b"){if(g.current.find(V=>V.type===Oe.PlantBush)){const V=Ec(k.position,s.current,50,Ac);V&&(k.activeAction="planting",k.target=V,s.current.hasPlayerPlantedBush=!0)}}else if(U==="v")g.current.find(V=>V.type===Oe.CallToAttack)&&(k.isCallingToAttack=!0,k.callToAttackEndTime=s.current.time+Ua,vt(s.current,Ce.CallToAttack,k.position,Ua),Ke($,Me.CallToAttack,k.position));else if(U==="k")g.current.find(V=>V.type===Oe.TribeSplit)&&pm(k,s.current);else return},O=w=>{if(!R()||s.current.gameOver)return;const U=w.key.toLowerCase();u.current.delete(U);const k=xt(s.current);!k||s.current.autopilotControls.isActive||(U==="arrowup"||U==="w"||U==="arrowdown"||U==="s"?k.direction.y=0:(U==="arrowleft"||U==="a"||U==="arrowright"||U==="d")&&(k.direction.x=0),!u.current.has("arrowup")&&!u.current.has("arrowdown")&&!u.current.has("arrowleft")&&!u.current.has("arrowright")&&!u.current.has("w")&&!u.current.has("a")&&!u.current.has("s")&&!u.current.has("d")&&k&&k.activeAction==="moving"&&(k.activeAction="idle"),!u.current.has("e")&&k.activeAction==="gathering"&&(k.activeAction="idle"),!u.current.has("f")&&k.activeAction==="eating"&&(k.activeAction="idle"),!u.current.has("r")&&k.activeAction==="procreating"&&(k.activeAction="idle"))};return window.addEventListener("keydown",D),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",O)}},[R,v,m,_,y]),De.jsx("canvas",{ref:r,style:{display:"block",background:"#2c5234"}})},$T=An.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,WT=An.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Sa=An.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,jT=An.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,YT=()=>{const{setAppState:n,gameOverDetails:r}=xa(),o=()=>{n("intro")};return De.jsxs($T,{children:[De.jsx(WT,{children:"Game Over"}),De.jsx(Sa,{children:"Your tribe's lineage has ended."}),r&&De.jsxs(De.Fragment,{children:[De.jsxs(Sa,{children:["Generations Survived: ",r.generations]}),De.jsxs(Sa,{children:["Cause of Extinction: ",r.cause]})]}),!r&&De.jsx(Sa,{children:"Game details are unavailable."}),De.jsx(jT,{onClick:o,children:"Return to Menu"})]})},VT=Ny`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function KT(n,r){Se.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Se.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const XT=()=>{const{appState:n,setAppState:r}=xa();KT(n,r);const o=()=>{switch(n){case"intro":return De.jsx(ag,{});case"game":return De.jsx(lg,{});case"gameOver":return De.jsxs(De.Fragment,{children:[De.jsx(lg,{}),De.jsx(YT,{})]});default:return De.jsx(ag,{})}};return De.jsxs(De.Fragment,{children:[De.jsx(VT,{}),o()]})},ug=document.getElementById("root");ug?h1().then(()=>{k0.createRoot(ug).render(De.jsx(yn.StrictMode,{children:De.jsx(P0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:De.jsx(XT,{})})}))}):console.error("Failed to find the root element");
