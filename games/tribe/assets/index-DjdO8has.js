var I0=Object.defineProperty;var C0=(t,r,o)=>r in t?I0(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var me=(t,r,o)=>C0(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(u){if(u.ep)return;u.ep=!0;const l=o(u);fetch(u.href,l)}})();function gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $u={exports:{}},Ao={},ju={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function R0(){if(Jh)return we;Jh=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function C(E,D,te){this.props=E,this.context=D,this.refs=I,this.updater=te||R}C.prototype.isReactComponent={},C.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function G(){}G.prototype=C.prototype;function z(E,D,te){this.props=E,this.context=D,this.refs=I,this.updater=te||R}var K=z.prototype=new G;K.constructor=z,O(K,C.prototype),K.isPureReactComponent=!0;var $=Array.isArray,fe=Object.prototype.hasOwnProperty,L={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function Oe(E,D,te){var q,ye={},oe=null,ge=null;if(D!=null)for(q in D.ref!==void 0&&(ge=D.ref),D.key!==void 0&&(oe=""+D.key),D)fe.call(D,q)&&!j.hasOwnProperty(q)&&(ye[q]=D[q]);var de=arguments.length-2;if(de===1)ye.children=te;else if(1<de){for(var X=Array(de),ne=0;ne<de;ne++)X[ne]=arguments[ne+2];ye.children=X}if(E&&E.defaultProps)for(q in de=E.defaultProps,de)ye[q]===void 0&&(ye[q]=de[q]);return{$$typeof:t,type:E,key:oe,ref:ge,props:ye,_owner:L.current}}function Be(E,D){return{$$typeof:t,type:E.type,key:D,ref:E.ref,props:E.props,_owner:E._owner}}function be(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function ot(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(te){return D[te]})}var We=/\/+/g;function He(E,D){return typeof E=="object"&&E!==null&&E.key!=null?ot(""+E.key):D.toString(36)}function _e(E,D,te,q,ye){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(oe){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case t:case r:ge=!0}}if(ge)return ge=E,ye=ye(ge),E=q===""?"."+He(ge,0):q,$(ye)?(te="",E!=null&&(te=E.replace(We,"$&/")+"/"),_e(ye,D,te,"",function(ne){return ne})):ye!=null&&(be(ye)&&(ye=Be(ye,te+(!ye.key||ge&&ge.key===ye.key?"":(""+ye.key).replace(We,"$&/")+"/")+E)),D.push(ye)),1;if(ge=0,q=q===""?".":q+":",$(E))for(var de=0;de<E.length;de++){oe=E[de];var X=q+He(oe,de);ge+=_e(oe,D,te,X,ye)}else if(X=_(E),typeof X=="function")for(E=X.call(E),de=0;!(oe=E.next()).done;)oe=oe.value,X=q+He(oe,de++),ge+=_e(oe,D,te,X,ye);else if(oe==="object")throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ge}function Re(E,D,te){if(E==null)return E;var q=[],ye=0;return _e(E,q,"","",function(oe){return D.call(te,oe,ye++)}),q}function pe(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(te){(E._status===0||E._status===-1)&&(E._status=1,E._result=te)},function(te){(E._status===0||E._status===-1)&&(E._status=2,E._result=te)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var ie={current:null},H={transition:null},Y={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:H,ReactCurrentOwner:L};function x(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Re,forEach:function(E,D,te){Re(E,function(){D.apply(this,arguments)},te)},count:function(E){var D=0;return Re(E,function(){D++}),D},toArray:function(E){return Re(E,function(D){return D})||[]},only:function(E){if(!be(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},we.Component=C,we.Fragment=o,we.Profiler=u,we.PureComponent=z,we.StrictMode=s,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,we.act=x,we.cloneElement=function(E,D,te){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var q=O({},E.props),ye=E.key,oe=E.ref,ge=E._owner;if(D!=null){if(D.ref!==void 0&&(oe=D.ref,ge=L.current),D.key!==void 0&&(ye=""+D.key),E.type&&E.type.defaultProps)var de=E.type.defaultProps;for(X in D)fe.call(D,X)&&!j.hasOwnProperty(X)&&(q[X]=D[X]===void 0&&de!==void 0?de[X]:D[X])}var X=arguments.length-2;if(X===1)q.children=te;else if(1<X){de=Array(X);for(var ne=0;ne<X;ne++)de[ne]=arguments[ne+2];q.children=de}return{$$typeof:t,type:E.type,key:ye,ref:oe,props:q,_owner:ge}},we.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},we.createElement=Oe,we.createFactory=function(E){var D=Oe.bind(null,E);return D.type=E,D},we.createRef=function(){return{current:null}},we.forwardRef=function(E){return{$$typeof:h,render:E}},we.isValidElement=be,we.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:pe}},we.memo=function(E,D){return{$$typeof:v,type:E,compare:D===void 0?null:D}},we.startTransition=function(E){var D=H.transition;H.transition={};try{E()}finally{H.transition=D}},we.unstable_act=x,we.useCallback=function(E,D){return ie.current.useCallback(E,D)},we.useContext=function(E){return ie.current.useContext(E)},we.useDebugValue=function(){},we.useDeferredValue=function(E){return ie.current.useDeferredValue(E)},we.useEffect=function(E,D){return ie.current.useEffect(E,D)},we.useId=function(){return ie.current.useId()},we.useImperativeHandle=function(E,D,te){return ie.current.useImperativeHandle(E,D,te)},we.useInsertionEffect=function(E,D){return ie.current.useInsertionEffect(E,D)},we.useLayoutEffect=function(E,D){return ie.current.useLayoutEffect(E,D)},we.useMemo=function(E,D){return ie.current.useMemo(E,D)},we.useReducer=function(E,D,te){return ie.current.useReducer(E,D,te)},we.useRef=function(E){return ie.current.useRef(E)},we.useState=function(E){return ie.current.useState(E)},we.useSyncExternalStore=function(E,D,te){return ie.current.useSyncExternalStore(E,D,te)},we.useTransition=function(){return ie.current.useTransition()},we.version="18.3.1",we}var ep;function Dc(){return ep||(ep=1,ju.exports=R0()),ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function P0(){if(tp)return Ao;tp=1;var t=Dc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,v){var m,S={},_=null,R=null;v!==void 0&&(_=""+v),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(R=p.ref);for(m in p)s.call(p,m)&&!l.hasOwnProperty(m)&&(S[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)S[m]===void 0&&(S[m]=p[m]);return{$$typeof:r,type:h,key:_,ref:R,props:S,_owner:u.current}}return Ao.Fragment=o,Ao.jsx=d,Ao.jsxs=d,Ao}var np;function N0(){return np||(np=1,$u.exports=P0()),$u.exports}var Te=N0(),Ae=Dc();const yn=gg(Ae);var ra={},Yu={exports:{}},Nt={},Vu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function k0(){return rp||(rp=1,function(t){function r(H,Y){var x=H.length;H.push(Y);e:for(;0<x;){var E=x-1>>>1,D=H[E];if(0<u(D,Y))H[E]=Y,H[x]=D,x=E;else break e}}function o(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Y=H[0],x=H.pop();if(x!==Y){H[0]=x;e:for(var E=0,D=H.length,te=D>>>1;E<te;){var q=2*(E+1)-1,ye=H[q],oe=q+1,ge=H[oe];if(0>u(ye,x))oe<D&&0>u(ge,ye)?(H[E]=ge,H[oe]=x,E=oe):(H[E]=ye,H[q]=x,E=q);else if(oe<D&&0>u(ge,x))H[E]=ge,H[oe]=x,E=oe;else break e}}return Y}function u(H,Y){var x=H.sortIndex-Y.sortIndex;return x!==0?x:H.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],v=[],m=1,S=null,_=3,R=!1,O=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(H){for(var Y=o(v);Y!==null;){if(Y.callback===null)s(v);else if(Y.startTime<=H)s(v),Y.sortIndex=Y.expirationTime,r(p,Y);else break;Y=o(v)}}function $(H){if(I=!1,K(H),!O)if(o(p)!==null)O=!0,pe(fe);else{var Y=o(v);Y!==null&&ie($,Y.startTime-H)}}function fe(H,Y){O=!1,I&&(I=!1,G(Oe),Oe=-1),R=!0;var x=_;try{for(K(Y),S=o(p);S!==null&&(!(S.expirationTime>Y)||H&&!ot());){var E=S.callback;if(typeof E=="function"){S.callback=null,_=S.priorityLevel;var D=E(S.expirationTime<=Y);Y=t.unstable_now(),typeof D=="function"?S.callback=D:S===o(p)&&s(p),K(Y)}else s(p);S=o(p)}if(S!==null)var te=!0;else{var q=o(v);q!==null&&ie($,q.startTime-Y),te=!1}return te}finally{S=null,_=x,R=!1}}var L=!1,j=null,Oe=-1,Be=5,be=-1;function ot(){return!(t.unstable_now()-be<Be)}function We(){if(j!==null){var H=t.unstable_now();be=H;var Y=!0;try{Y=j(!0,H)}finally{Y?He():(L=!1,j=null)}}else L=!1}var He;if(typeof z=="function")He=function(){z(We)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Re=_e.port2;_e.port1.onmessage=We,He=function(){Re.postMessage(null)}}else He=function(){C(We,0)};function pe(H){j=H,L||(L=!0,He())}function ie(H,Y){Oe=C(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,pe(fe))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var x=_;_=Y;try{return H()}finally{_=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var x=_;_=H;try{return Y()}finally{_=x}},t.unstable_scheduleCallback=function(H,Y,x){var E=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?E+x:E):x=E,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=x+D,H={id:m++,callback:Y,priorityLevel:H,startTime:x,expirationTime:D,sortIndex:-1},x>E?(H.sortIndex=x,r(v,H),o(p)===null&&H===o(v)&&(I?(G(Oe),Oe=-1):I=!0,ie($,x-E))):(H.sortIndex=D,r(p,H),O||R||(O=!0,pe(fe))),H},t.unstable_shouldYield=ot,t.unstable_wrapCallback=function(H){var Y=_;return function(){var x=_;_=Y;try{return H.apply(this,arguments)}finally{_=x}}}}(Ku)),Ku}var ip;function O0(){return ip||(ip=1,Vu.exports=k0()),Vu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function D0(){if(op)return Nt;op=1;var t=Dc(),r=O0();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function l(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(u[e]=n,e=0;e<n.length;e++)s.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},S={};function _(e){return p.call(S,e)?!0:p.call(m,e)?!1:v.test(e)?S[e]=!0:(m[e]=!0,!1)}function R(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,i,a){if(n===null||typeof n>"u"||R(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function I(e,n,i,a,c,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new I(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(G,z);C[n]=new I(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(G,z);C[n]=new I(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(G,z);C[n]=new I(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,n,i,a){var c=C.hasOwnProperty(n)?C[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,i,c,a)&&(i=null),a||c===null?_(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),Be=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),ot=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),H=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var x=Object.assign,E;function D(e){if(E===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var te=!1;function q(e,n){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(k){var a=k}Reflect.construct(e,[],n)}else{try{n.call()}catch(k){a=k}e.call(n.prototype)}else{try{throw Error()}catch(k){a=k}e()}}catch(k){if(k&&a&&typeof k.stack=="string"){for(var c=k.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,y=f.length-1;1<=g&&0<=y&&c[g]!==f[y];)y--;for(;1<=g&&0<=y;g--,y--)if(c[g]!==f[y]){if(g!==1||y!==1)do if(g--,y--,0>y||c[g]!==f[y]){var A=`
`+c[g].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=g&&0<=y);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function ye(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1),e;case 11:return e=q(e.type.render,!1),e;case 1:return e=q(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case L:return"Portal";case Be:return"Profiler";case Oe:return"StrictMode";case He:return"Suspense";case _e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ot:return(e.displayName||"Context")+".Consumer";case be:return(e._context.displayName||"Context")+".Provider";case We:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function ge(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===Oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(e){var n=X(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ne(e){e._valueTracker||(e._valueTracker=ne(e))}function ce(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=X(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function En(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dt(e,n){var i=n.checked;return x({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zt(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=de(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function vr(e,n){n=n.checked,n!=null&&K(e,"checked",n,!1)}function Tn(e,n){vr(e,n);var i=de(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?$r(e,n.type,i):n.hasOwnProperty("defaultValue")&&$r(e,n.type,de(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Hn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function $r(e,n,i){(n!=="number"||En(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var xn=Array.isArray;function Gn(e,n,i,a){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+de(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Sr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return x({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ld(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(xn(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:de(i)}}function ud(e,n){var i=de(n.value),a=de(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function cd(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function dd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?dd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qo,fd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Fi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nm=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(e){Nm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Li[n]=Li[e]})});function hd(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Li.hasOwnProperty(e)&&Li[e]?(""+n).trim():n+"px"}function pd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=hd(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var km=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,n){if(n){if(km[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function nl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,jr=null,Yr=null;function gd(e){if(e=io(e)){if(typeof ol!="function")throw Error(o(280));var n=e.stateNode;n&&(n=Ss(n),ol(e.stateNode,e.type,n))}}function md(e){jr?Yr?Yr.push(e):Yr=[e]:jr=e}function vd(){if(jr){var e=jr,n=Yr;if(Yr=jr=null,gd(e),n)for(e=0;e<n.length;e++)gd(n[e])}}function Sd(e,n){return e(n)}function yd(){}var sl=!1;function Ad(e,n,i){if(sl)return e(n,i);sl=!0;try{return Sd(e,n,i)}finally{sl=!1,(jr!==null||Yr!==null)&&(yd(),vd())}}function Bi(e,n){var i=e.stateNode;if(i===null)return null;var a=Ss(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var al=!1;if(h)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){al=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{al=!1}function Om(e,n,i,a,c,f,g,y,A){var k=Array.prototype.slice.call(arguments,3);try{n.apply(i,k)}catch(U){this.onError(U)}}var xi=!1,Zo=null,bo=!1,ll=null,Dm={onError:function(e){xi=!0,Zo=e}};function Mm(e,n,i,a,c,f,g,y,A){xi=!1,Zo=null,Om.apply(Dm,arguments)}function Um(e,n,i,a,c,f,g,y,A){if(Mm.apply(this,arguments),xi){if(xi){var k=Zo;xi=!1,Zo=null}else throw Error(o(198));bo||(bo=!0,ll=k)}}function yr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function wd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _d(e){if(yr(e)!==e)throw Error(o(188))}function Fm(e){var n=e.alternate;if(!n){if(n=yr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,a=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return _d(c),e;if(f===a)return _d(c),n;f=f.sibling}throw Error(o(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,y=c.child;y;){if(y===i){g=!0,i=c,a=f;break}if(y===a){g=!0,a=c,i=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===i){g=!0,i=f,a=c;break}if(y===a){g=!0,a=f,i=c;break}y=y.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Ed(e){return e=Fm(e),e!==null?Td(e):null}function Td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Td(e);if(n!==null)return n;e=e.sibling}return null}var Id=r.unstable_scheduleCallback,Cd=r.unstable_cancelCallback,Lm=r.unstable_shouldYield,Bm=r.unstable_requestPaint,Ve=r.unstable_now,Hm=r.unstable_getCurrentPriorityLevel,ul=r.unstable_ImmediatePriority,Rd=r.unstable_UserBlockingPriority,qo=r.unstable_NormalPriority,xm=r.unstable_LowPriority,Pd=r.unstable_IdlePriority,Jo=null,fn=null;function Gm(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Jo,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:$m,zm=Math.log,Wm=Math.LN2;function $m(e){return e>>>=0,e===0?32:31-(zm(e)/Wm|0)|0}var es=64,ts=4194304;function Gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ns(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var y=g&~c;y!==0?a=Gi(y):(f&=g,f!==0&&(a=Gi(f)))}else g=i&~c,g!==0?a=Gi(g):f!==0&&(a=Gi(f));if(a===0)return 0;if(n!==0&&n!==a&&(n&c)===0&&(c=a&-a,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-tn(n),c=1<<i,a|=e[i],n&=~c;return a}function jm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-tn(f),y=1<<g,A=c[g];A===-1?((y&i)===0||(y&a)!==0)&&(c[g]=jm(y,n)):A<=n&&(e.expiredLanes|=y),f&=~y}}function cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nd(){var e=es;return es<<=1,(es&4194240)===0&&(es=64),e}function dl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function zi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-tn(n),e[n]=i}function Vm(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-tn(i),f=1<<c;n[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function fl(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-tn(i),c=1<<a;c&n|e[a]&n&&(e[a]|=n),i&=~c}}var De=0;function kd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Od,hl,Dd,Md,Ud,pl=!1,rs=[],zn=null,Wn=null,$n=null,Wi=new Map,$i=new Map,jn=[],Km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(e,n){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Wi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(n.pointerId)}}function ji(e,n,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},n!==null&&(n=io(n),n!==null&&hl(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Xm(e,n,i,a,c){switch(n){case"focusin":return zn=ji(zn,e,n,i,a,c),!0;case"dragenter":return Wn=ji(Wn,e,n,i,a,c),!0;case"mouseover":return $n=ji($n,e,n,i,a,c),!0;case"pointerover":var f=c.pointerId;return Wi.set(f,ji(Wi.get(f)||null,e,n,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,$i.set(f,ji($i.get(f)||null,e,n,i,a,c)),!0}return!1}function Ld(e){var n=Ar(e.target);if(n!==null){var i=yr(n);if(i!==null){if(n=i.tag,n===13){if(n=wd(i),n!==null){e.blockedOn=n,Ud(e.priority,function(){Dd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function is(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ml(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);rl=a,i.target.dispatchEvent(a),rl=null}else return n=io(i),n!==null&&hl(n),e.blockedOn=i,!1;n.shift()}return!0}function Bd(e,n,i){is(e)&&i.delete(n)}function Qm(){pl=!1,zn!==null&&is(zn)&&(zn=null),Wn!==null&&is(Wn)&&(Wn=null),$n!==null&&is($n)&&($n=null),Wi.forEach(Bd),$i.forEach(Bd)}function Yi(e,n){e.blockedOn===n&&(e.blockedOn=null,pl||(pl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qm)))}function Vi(e){function n(c){return Yi(c,e)}if(0<rs.length){Yi(rs[0],e);for(var i=1;i<rs.length;i++){var a=rs[i];a.blockedOn===e&&(a.blockedOn=null)}}for(zn!==null&&Yi(zn,e),Wn!==null&&Yi(Wn,e),$n!==null&&Yi($n,e),Wi.forEach(n),$i.forEach(n),i=0;i<jn.length;i++)a=jn[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<jn.length&&(i=jn[0],i.blockedOn===null);)Ld(i),i.blockedOn===null&&jn.shift()}var Vr=$.ReactCurrentBatchConfig,os=!0;function Zm(e,n,i,a){var c=De,f=Vr.transition;Vr.transition=null;try{De=1,gl(e,n,i,a)}finally{De=c,Vr.transition=f}}function bm(e,n,i,a){var c=De,f=Vr.transition;Vr.transition=null;try{De=4,gl(e,n,i,a)}finally{De=c,Vr.transition=f}}function gl(e,n,i,a){if(os){var c=ml(e,n,i,a);if(c===null)Ml(e,n,a,ss,i),Fd(e,a);else if(Xm(c,e,n,i,a))a.stopPropagation();else if(Fd(e,a),n&4&&-1<Km.indexOf(e)){for(;c!==null;){var f=io(c);if(f!==null&&Od(f),f=ml(e,n,i,a),f===null&&Ml(e,n,a,ss,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Ml(e,n,a,null,i)}}var ss=null;function ml(e,n,i,a){if(ss=null,e=il(a),e=Ar(e),e!==null)if(n=yr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=wd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ss=e,null}function Hd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hm()){case ul:return 1;case Rd:return 4;case qo:case xm:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var Yn=null,vl=null,as=null;function xd(){if(as)return as;var e,n=vl,i=n.length,a,c="value"in Yn?Yn.value:Yn.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&n[i-a]===c[f-a];a++);return as=c.slice(e,1<a?1-a:void 0)}function ls(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function Gd(){return!1}function Mt(e){function n(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?us:Gd,this.isPropagationStopped=Gd,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),n}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Mt(Kr),Ki=x({},Kr,{view:0,detail:0}),qm=Mt(Ki),yl,Al,Xi,cs=x({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(yl=e.screenX-Xi.screenX,Al=e.screenY-Xi.screenY):Al=yl=0,Xi=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:Al}}),zd=Mt(cs),Jm=x({},cs,{dataTransfer:0}),ev=Mt(Jm),tv=x({},Ki,{relatedTarget:0}),wl=Mt(tv),nv=x({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=Mt(nv),iv=x({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ov=Mt(iv),sv=x({},Kr,{data:0}),Wd=Mt(sv),av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uv[e])?!!n[e]:!1}function _l(){return cv}var dv=x({},Ki,{key:function(e){if(e.key){var n=av[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fv=Mt(dv),hv=x({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=Mt(hv),pv=x({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),gv=Mt(pv),mv=x({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vv=Mt(mv),Sv=x({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yv=Mt(Sv),Av=[9,13,27,32],El=h&&"CompositionEvent"in window,Qi=null;h&&"documentMode"in document&&(Qi=document.documentMode);var wv=h&&"TextEvent"in window&&!Qi,jd=h&&(!El||Qi&&8<Qi&&11>=Qi),Yd=" ",Vd=!1;function Kd(e,n){switch(e){case"keyup":return Av.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function _v(e,n){switch(e){case"compositionend":return Xd(n);case"keypress":return n.which!==32?null:(Vd=!0,Yd);case"textInput":return e=n.data,e===Yd&&Vd?null:e;default:return null}}function Ev(e,n){if(Xr)return e==="compositionend"||!El&&Kd(e,n)?(e=xd(),as=vl=Yn=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jd&&n.locale!=="ko"?null:n.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tv[e.type]:n==="textarea"}function Zd(e,n,i,a){md(a),n=gs(n,"onChange"),0<n.length&&(i=new Sl("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Zi=null,bi=null;function Iv(e){gf(e,0)}function ds(e){var n=Jr(e);if(ce(n))return e}function Cv(e,n){if(e==="change")return n}var bd=!1;if(h){var Tl;if(h){var Il="oninput"in document;if(!Il){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Il=typeof qd.oninput=="function"}Tl=Il}else Tl=!1;bd=Tl&&(!document.documentMode||9<document.documentMode)}function Jd(){Zi&&(Zi.detachEvent("onpropertychange",ef),bi=Zi=null)}function ef(e){if(e.propertyName==="value"&&ds(bi)){var n=[];Zd(n,bi,e,il(e)),Ad(Iv,n)}}function Rv(e,n,i){e==="focusin"?(Jd(),Zi=n,bi=i,Zi.attachEvent("onpropertychange",ef)):e==="focusout"&&Jd()}function Pv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ds(bi)}function Nv(e,n){if(e==="click")return ds(n)}function kv(e,n){if(e==="input"||e==="change")return ds(n)}function Ov(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:Ov;function qi(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!p.call(n,c)||!nn(e[c],n[c]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,n){var i=tf(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=tf(i)}}function rf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function of(){for(var e=window,n=En();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=En(e.document)}return n}function Cl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Dv(e){var n=of(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&rf(i.ownerDocument.documentElement,i)){if(a!==null&&Cl(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=nf(i,f);var g=nf(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mv=h&&"documentMode"in document&&11>=document.documentMode,Qr=null,Rl=null,Ji=null,Pl=!1;function sf(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pl||Qr==null||Qr!==En(a)||(a=Qr,"selectionStart"in a&&Cl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ji&&qi(Ji,a)||(Ji=a,a=gs(Rl,"onSelect"),0<a.length&&(n=new Sl("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Qr)))}function fs(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Zr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Nl={},af={};h&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function hs(e){if(Nl[e])return Nl[e];if(!Zr[e])return e;var n=Zr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in af)return Nl[e]=n[i];return e}var lf=hs("animationend"),uf=hs("animationiteration"),cf=hs("animationstart"),df=hs("transitionend"),ff=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,n){ff.set(e,n),l(n,[e])}for(var kl=0;kl<hf.length;kl++){var Ol=hf[kl],Uv=Ol.toLowerCase(),Fv=Ol[0].toUpperCase()+Ol.slice(1);Vn(Uv,"on"+Fv)}Vn(lf,"onAnimationEnd"),Vn(uf,"onAnimationIteration"),Vn(cf,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(df,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function pf(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Um(a,n,void 0,e),e.currentTarget=null}function gf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var g=a.length-1;0<=g;g--){var y=a[g],A=y.instance,k=y.currentTarget;if(y=y.listener,A!==f&&c.isPropagationStopped())break e;pf(c,y,k),f=A}else for(g=0;g<a.length;g++){if(y=a[g],A=y.instance,k=y.currentTarget,y=y.listener,A!==f&&c.isPropagationStopped())break e;pf(c,y,k),f=A}}}if(bo)throw e=ll,bo=!1,ll=null,e}function Ue(e,n){var i=n[xl];i===void 0&&(i=n[xl]=new Set);var a=e+"__bubble";i.has(a)||(mf(n,e,2,!1),i.add(a))}function Dl(e,n,i){var a=0;n&&(a|=4),mf(i,e,a,n)}var ps="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[ps]){e[ps]=!0,s.forEach(function(i){i!=="selectionchange"&&(Lv.has(i)||Dl(i,!1,e),Dl(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ps]||(n[ps]=!0,Dl("selectionchange",!1,n))}}function mf(e,n,i,a){switch(Hd(n)){case 1:var c=Zm;break;case 4:c=bm;break;default:c=gl}i=c.bind(null,n,i,e),c=void 0,!al||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Ml(e,n,i,a,c){var f=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var A=g.tag;if((A===3||A===4)&&(A=g.stateNode.containerInfo,A===c||A.nodeType===8&&A.parentNode===c))return;g=g.return}for(;y!==null;){if(g=Ar(y),g===null)return;if(A=g.tag,A===5||A===6){a=f=g;continue e}y=y.parentNode}}a=a.return}Ad(function(){var k=f,U=il(i),F=[];e:{var M=ff.get(e);if(M!==void 0){var W=Sl,Q=e;switch(e){case"keypress":if(ls(i)===0)break e;case"keydown":case"keyup":W=fv;break;case"focusin":Q="focus",W=wl;break;case"focusout":Q="blur",W=wl;break;case"beforeblur":case"afterblur":W=wl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=gv;break;case lf:case uf:case cf:W=rv;break;case df:W=vv;break;case"scroll":W=qm;break;case"wheel":W=yv;break;case"copy":case"cut":case"paste":W=ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=$d}var Z=(n&4)!==0,Ke=!Z&&e==="scroll",T=Z?M!==null?M+"Capture":null:M;Z=[];for(var w=k,P;w!==null;){P=w;var B=P.stateNode;if(P.tag===5&&B!==null&&(P=B,T!==null&&(B=Bi(w,T),B!=null&&Z.push(no(w,B,P)))),Ke)break;w=w.return}0<Z.length&&(M=new W(M,Q,null,i,U),F.push({event:M,listeners:Z}))}}if((n&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",M&&i!==rl&&(Q=i.relatedTarget||i.fromElement)&&(Ar(Q)||Q[In]))break e;if((W||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,W?(Q=i.relatedTarget||i.toElement,W=k,Q=Q?Ar(Q):null,Q!==null&&(Ke=yr(Q),Q!==Ke||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(W=null,Q=k),W!==Q)){if(Z=zd,B="onMouseLeave",T="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(Z=$d,B="onPointerLeave",T="onPointerEnter",w="pointer"),Ke=W==null?M:Jr(W),P=Q==null?M:Jr(Q),M=new Z(B,w+"leave",W,i,U),M.target=Ke,M.relatedTarget=P,B=null,Ar(U)===k&&(Z=new Z(T,w+"enter",Q,i,U),Z.target=P,Z.relatedTarget=Ke,B=Z),Ke=B,W&&Q)t:{for(Z=W,T=Q,w=0,P=Z;P;P=br(P))w++;for(P=0,B=T;B;B=br(B))P++;for(;0<w-P;)Z=br(Z),w--;for(;0<P-w;)T=br(T),P--;for(;w--;){if(Z===T||T!==null&&Z===T.alternate)break t;Z=br(Z),T=br(T)}Z=null}else Z=null;W!==null&&vf(F,M,W,Z,!1),Q!==null&&Ke!==null&&vf(F,Ke,Q,Z,!0)}}e:{if(M=k?Jr(k):window,W=M.nodeName&&M.nodeName.toLowerCase(),W==="select"||W==="input"&&M.type==="file")var b=Cv;else if(Qd(M))if(bd)b=kv;else{b=Pv;var J=Rv}else(W=M.nodeName)&&W.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(b=Nv);if(b&&(b=b(e,k))){Zd(F,b,i,U);break e}J&&J(e,M,k),e==="focusout"&&(J=M._wrapperState)&&J.controlled&&M.type==="number"&&$r(M,"number",M.value)}switch(J=k?Jr(k):window,e){case"focusin":(Qd(J)||J.contentEditable==="true")&&(Qr=J,Rl=k,Ji=null);break;case"focusout":Ji=Rl=Qr=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,sf(F,i,U);break;case"selectionchange":if(Mv)break;case"keydown":case"keyup":sf(F,i,U)}var ee;if(El)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Xr?Kd(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(jd&&i.locale!=="ko"&&(Xr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Xr&&(ee=xd()):(Yn=U,vl="value"in Yn?Yn.value:Yn.textContent,Xr=!0)),J=gs(k,se),0<J.length&&(se=new Wd(se,e,null,i,U),F.push({event:se,listeners:J}),ee?se.data=ee:(ee=Xd(i),ee!==null&&(se.data=ee)))),(ee=wv?_v(e,i):Ev(e,i))&&(k=gs(k,"onBeforeInput"),0<k.length&&(U=new Wd("onBeforeInput","beforeinput",null,i,U),F.push({event:U,listeners:k}),U.data=ee))}gf(F,n)})}function no(e,n,i){return{instance:e,listener:n,currentTarget:i}}function gs(e,n){for(var i=n+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Bi(e,i),f!=null&&a.unshift(no(e,f,c)),f=Bi(e,n),f!=null&&a.push(no(e,f,c))),e=e.return}return a}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,n,i,a,c){for(var f=n._reactName,g=[];i!==null&&i!==a;){var y=i,A=y.alternate,k=y.stateNode;if(A!==null&&A===a)break;y.tag===5&&k!==null&&(y=k,c?(A=Bi(i,f),A!=null&&g.unshift(no(i,A,y))):c||(A=Bi(i,f),A!=null&&g.push(no(i,A,y)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var Bv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function Sf(e){return(typeof e=="string"?e:""+e).replace(Bv,`
`).replace(Hv,"")}function ms(e,n,i){if(n=Sf(n),Sf(e)!==n&&i)throw Error(o(425))}function vs(){}var Ul=null,Fl=null;function Ll(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(e){return yf.resolve(null).then(e).catch(zv)}:Bl;function zv(e){setTimeout(function(){throw e})}function Hl(e,n){var i=n,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Vi(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Vi(n)}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Af(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),hn="__reactFiber$"+qr,ro="__reactProps$"+qr,In="__reactContainer$"+qr,xl="__reactEvents$"+qr,Wv="__reactListeners$"+qr,$v="__reactHandles$"+qr;function Ar(e){var n=e[hn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[In]||i[hn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Af(e);e!==null;){if(i=e[hn])return i;e=Af(e)}return n}e=i,i=e.parentNode}return null}function io(e){return e=e[hn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ss(e){return e[ro]||null}var Gl=[],ei=-1;function Xn(e){return{current:e}}function Fe(e){0>ei||(e.current=Gl[ei],Gl[ei]=null,ei--)}function Me(e,n){ei++,Gl[ei]=e.current,e.current=n}var Qn={},ht=Xn(Qn),Tt=Xn(!1),wr=Qn;function ti(e,n){var i=e.type.contextTypes;if(!i)return Qn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function It(e){return e=e.childContextTypes,e!=null}function ys(){Fe(Tt),Fe(ht)}function wf(e,n,i){if(ht.current!==Qn)throw Error(o(168));Me(ht,n),Me(Tt,i)}function _f(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(o(108,ge(e)||"Unknown",c));return x({},i,a)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,wr=ht.current,Me(ht,e),Me(Tt,Tt.current),!0}function Ef(e,n,i){var a=e.stateNode;if(!a)throw Error(o(169));i?(e=_f(e,n,wr),a.__reactInternalMemoizedMergedChildContext=e,Fe(Tt),Fe(ht),Me(ht,e)):Fe(Tt),Me(Tt,i)}var Cn=null,ws=!1,zl=!1;function Tf(e){Cn===null?Cn=[e]:Cn.push(e)}function jv(e){ws=!0,Tf(e)}function Zn(){if(!zl&&Cn!==null){zl=!0;var e=0,n=De;try{var i=Cn;for(De=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Cn=null,ws=!1}catch(c){throw Cn!==null&&(Cn=Cn.slice(e+1)),Id(ul,Zn),c}finally{De=n,zl=!1}}return null}var ni=[],ri=0,_s=null,Es=0,Wt=[],$t=0,_r=null,Rn=1,Pn="";function Er(e,n){ni[ri++]=Es,ni[ri++]=_s,_s=e,Es=n}function If(e,n,i){Wt[$t++]=Rn,Wt[$t++]=Pn,Wt[$t++]=_r,_r=e;var a=Rn;e=Pn;var c=32-tn(a)-1;a&=~(1<<c),i+=1;var f=32-tn(n)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Rn=1<<32-tn(n)+c|i<<c|a,Pn=f+e}else Rn=1<<f|i<<c|a,Pn=e}function Wl(e){e.return!==null&&(Er(e,1),If(e,1,0))}function $l(e){for(;e===_s;)_s=ni[--ri],ni[ri]=null,Es=ni[--ri],ni[ri]=null;for(;e===_r;)_r=Wt[--$t],Wt[$t]=null,Pn=Wt[--$t],Wt[$t]=null,Rn=Wt[--$t],Wt[$t]=null}var Ut=null,Ft=null,xe=!1,rn=null;function Cf(e,n){var i=Kt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Rf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ut=e,Ft=Kn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ut=e,Ft=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=_r!==null?{id:Rn,overflow:Pn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Kt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Ut=e,Ft=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(xe){var n=Ft;if(n){var i=n;if(!Rf(e,n)){if(jl(e))throw Error(o(418));n=Kn(i.nextSibling);var a=Ut;n&&Rf(e,n)?Cf(a,i):(e.flags=e.flags&-4097|2,xe=!1,Ut=e)}}else{if(jl(e))throw Error(o(418));e.flags=e.flags&-4097|2,xe=!1,Ut=e}}}function Pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Ts(e){if(e!==Ut)return!1;if(!xe)return Pf(e),xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ll(e.type,e.memoizedProps)),n&&(n=Ft)){if(jl(e))throw Nf(),Error(o(418));for(;n;)Cf(e,n),n=Kn(n.nextSibling)}if(Pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Ft=Kn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Ft=null}}else Ft=Ut?Kn(e.stateNode.nextSibling):null;return!0}function Nf(){for(var e=Ft;e;)e=Kn(e.nextSibling)}function ii(){Ft=Ut=null,xe=!1}function Vl(e){rn===null?rn=[e]:rn.push(e)}var Yv=$.ReactCurrentBatchConfig;function oo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,e));var c=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var y=c.refs;g===null?delete y[f]:y[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Is(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function kf(e){var n=e._init;return n(e._payload)}function Of(e){function n(T,w){if(e){var P=T.deletions;P===null?(T.deletions=[w],T.flags|=16):P.push(w)}}function i(T,w){if(!e)return null;for(;w!==null;)n(T,w),w=w.sibling;return null}function a(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(T,w){return T=ir(T,w),T.index=0,T.sibling=null,T}function f(T,w,P){return T.index=P,e?(P=T.alternate,P!==null?(P=P.index,P<w?(T.flags|=2,w):P):(T.flags|=2,w)):(T.flags|=1048576,w)}function g(T){return e&&T.alternate===null&&(T.flags|=2),T}function y(T,w,P,B){return w===null||w.tag!==6?(w=Bu(P,T.mode,B),w.return=T,w):(w=c(w,P),w.return=T,w)}function A(T,w,P,B){var b=P.type;return b===j?U(T,w,P.props.children,B,P.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pe&&kf(b)===w.type)?(B=c(w,P.props),B.ref=oo(T,w,P),B.return=T,B):(B=Qs(P.type,P.key,P.props,null,T.mode,B),B.ref=oo(T,w,P),B.return=T,B)}function k(T,w,P,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=Hu(P,T.mode,B),w.return=T,w):(w=c(w,P.children||[]),w.return=T,w)}function U(T,w,P,B,b){return w===null||w.tag!==7?(w=Or(P,T.mode,B,b),w.return=T,w):(w=c(w,P),w.return=T,w)}function F(T,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bu(""+w,T.mode,P),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fe:return P=Qs(w.type,w.key,w.props,null,T.mode,P),P.ref=oo(T,null,w),P.return=T,P;case L:return w=Hu(w,T.mode,P),w.return=T,w;case pe:var B=w._init;return F(T,B(w._payload),P)}if(xn(w)||Y(w))return w=Or(w,T.mode,P,null),w.return=T,w;Is(T,w)}return null}function M(T,w,P,B){var b=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return b!==null?null:y(T,w,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case fe:return P.key===b?A(T,w,P,B):null;case L:return P.key===b?k(T,w,P,B):null;case pe:return b=P._init,M(T,w,b(P._payload),B)}if(xn(P)||Y(P))return b!==null?null:U(T,w,P,B,null);Is(T,P)}return null}function W(T,w,P,B,b){if(typeof B=="string"&&B!==""||typeof B=="number")return T=T.get(P)||null,y(w,T,""+B,b);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case fe:return T=T.get(B.key===null?P:B.key)||null,A(w,T,B,b);case L:return T=T.get(B.key===null?P:B.key)||null,k(w,T,B,b);case pe:var J=B._init;return W(T,w,P,J(B._payload),b)}if(xn(B)||Y(B))return T=T.get(P)||null,U(w,T,B,b,null);Is(w,B)}return null}function Q(T,w,P,B){for(var b=null,J=null,ee=w,se=w=0,nt=null;ee!==null&&se<P.length;se++){ee.index>se?(nt=ee,ee=null):nt=ee.sibling;var Pe=M(T,ee,P[se],B);if(Pe===null){ee===null&&(ee=nt);break}e&&ee&&Pe.alternate===null&&n(T,ee),w=f(Pe,w,se),J===null?b=Pe:J.sibling=Pe,J=Pe,ee=nt}if(se===P.length)return i(T,ee),xe&&Er(T,se),b;if(ee===null){for(;se<P.length;se++)ee=F(T,P[se],B),ee!==null&&(w=f(ee,w,se),J===null?b=ee:J.sibling=ee,J=ee);return xe&&Er(T,se),b}for(ee=a(T,ee);se<P.length;se++)nt=W(ee,T,se,P[se],B),nt!==null&&(e&&nt.alternate!==null&&ee.delete(nt.key===null?se:nt.key),w=f(nt,w,se),J===null?b=nt:J.sibling=nt,J=nt);return e&&ee.forEach(function(or){return n(T,or)}),xe&&Er(T,se),b}function Z(T,w,P,B){var b=Y(P);if(typeof b!="function")throw Error(o(150));if(P=b.call(P),P==null)throw Error(o(151));for(var J=b=null,ee=w,se=w=0,nt=null,Pe=P.next();ee!==null&&!Pe.done;se++,Pe=P.next()){ee.index>se?(nt=ee,ee=null):nt=ee.sibling;var or=M(T,ee,Pe.value,B);if(or===null){ee===null&&(ee=nt);break}e&&ee&&or.alternate===null&&n(T,ee),w=f(or,w,se),J===null?b=or:J.sibling=or,J=or,ee=nt}if(Pe.done)return i(T,ee),xe&&Er(T,se),b;if(ee===null){for(;!Pe.done;se++,Pe=P.next())Pe=F(T,Pe.value,B),Pe!==null&&(w=f(Pe,w,se),J===null?b=Pe:J.sibling=Pe,J=Pe);return xe&&Er(T,se),b}for(ee=a(T,ee);!Pe.done;se++,Pe=P.next())Pe=W(ee,T,se,Pe.value,B),Pe!==null&&(e&&Pe.alternate!==null&&ee.delete(Pe.key===null?se:Pe.key),w=f(Pe,w,se),J===null?b=Pe:J.sibling=Pe,J=Pe);return e&&ee.forEach(function(T0){return n(T,T0)}),xe&&Er(T,se),b}function Ke(T,w,P,B){if(typeof P=="object"&&P!==null&&P.type===j&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case fe:e:{for(var b=P.key,J=w;J!==null;){if(J.key===b){if(b=P.type,b===j){if(J.tag===7){i(T,J.sibling),w=c(J,P.props.children),w.return=T,T=w;break e}}else if(J.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===pe&&kf(b)===J.type){i(T,J.sibling),w=c(J,P.props),w.ref=oo(T,J,P),w.return=T,T=w;break e}i(T,J);break}else n(T,J);J=J.sibling}P.type===j?(w=Or(P.props.children,T.mode,B,P.key),w.return=T,T=w):(B=Qs(P.type,P.key,P.props,null,T.mode,B),B.ref=oo(T,w,P),B.return=T,T=B)}return g(T);case L:e:{for(J=P.key;w!==null;){if(w.key===J)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){i(T,w.sibling),w=c(w,P.children||[]),w.return=T,T=w;break e}else{i(T,w);break}else n(T,w);w=w.sibling}w=Hu(P,T.mode,B),w.return=T,T=w}return g(T);case pe:return J=P._init,Ke(T,w,J(P._payload),B)}if(xn(P))return Q(T,w,P,B);if(Y(P))return Z(T,w,P,B);Is(T,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(i(T,w.sibling),w=c(w,P),w.return=T,T=w):(i(T,w),w=Bu(P,T.mode,B),w.return=T,T=w),g(T)):i(T,w)}return Ke}var oi=Of(!0),Df=Of(!1),Cs=Xn(null),Rs=null,si=null,Kl=null;function Xl(){Kl=si=Rs=null}function Ql(e){var n=Cs.current;Fe(Cs),e._currentValue=n}function Zl(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function ai(e,n){Rs=e,Kl=si=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ct=!0),e.firstContext=null)}function jt(e){var n=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:n,next:null},si===null){if(Rs===null)throw Error(o(308));si=e,Rs.dependencies={lanes:0,firstContext:e}}else si=si.next=e;return n}var Tr=null;function bl(e){Tr===null?Tr=[e]:Tr.push(e)}function Mf(e,n,i,a){var c=n.interleaved;return c===null?(i.next=i,bl(n)):(i.next=c.next,c.next=i),n.interleaved=i,Nn(e,a)}function Nn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var bn=!1;function ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function qn(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ce&2)!==0){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,Nn(e,i)}return c=a.interleaved,c===null?(n.next=n,bl(a)):(n.next=c.next,c.next=n),a.interleaved=n,Nn(e,i)}function Ps(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,fl(e,i)}}function Ff(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ns(e,n,i,a){var c=e.updateQueue;bn=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var A=y,k=A.next;A.next=null,g===null?f=k:g.next=k,g=A;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==g&&(y===null?U.firstBaseUpdate=k:y.next=k,U.lastBaseUpdate=A))}if(f!==null){var F=c.baseState;g=0,U=k=A=null,y=f;do{var M=y.lane,W=y.eventTime;if((a&M)===M){U!==null&&(U=U.next={eventTime:W,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Q=e,Z=y;switch(M=n,W=i,Z.tag){case 1:if(Q=Z.payload,typeof Q=="function"){F=Q.call(W,F,M);break e}F=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Z.payload,M=typeof Q=="function"?Q.call(W,F,M):Q,M==null)break e;F=x({},F,M);break e;case 2:bn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[y]:M.push(y))}else W={eventTime:W,lane:M,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(k=U=W,A=F):U=U.next=W,g|=M;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;M=y,y=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(U===null&&(A=F),c.baseState=A,c.firstBaseUpdate=k,c.lastBaseUpdate=U,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Rr|=g,e.lanes=g,e.memoizedState=F}}function Lf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(o(191,c));c.call(a)}}}var so={},pn=Xn(so),ao=Xn(so),lo=Xn(so);function Ir(e){if(e===so)throw Error(o(174));return e}function Jl(e,n){switch(Me(lo,n),Me(ao,e),Me(pn,so),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:el(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=el(n,e)}Fe(pn),Me(pn,n)}function li(){Fe(pn),Fe(ao),Fe(lo)}function Bf(e){Ir(lo.current);var n=Ir(pn.current),i=el(n,e.type);n!==i&&(Me(ao,e),Me(pn,i))}function eu(e){ao.current===e&&(Fe(pn),Fe(ao))}var $e=Xn(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var tu=[];function nu(){for(var e=0;e<tu.length;e++)tu[e]._workInProgressVersionPrimary=null;tu.length=0}var Os=$.ReactCurrentDispatcher,ru=$.ReactCurrentBatchConfig,Cr=0,je=null,qe=null,et=null,Ds=!1,uo=!1,co=0,Vv=0;function pt(){throw Error(o(321))}function iu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!nn(e[i],n[i]))return!1;return!0}function ou(e,n,i,a,c,f){if(Cr=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Os.current=e===null||e.memoizedState===null?Zv:bv,e=i(a,c),uo){f=0;do{if(uo=!1,co=0,25<=f)throw Error(o(301));f+=1,et=qe=null,n.updateQueue=null,Os.current=qv,e=i(a,c)}while(uo)}if(Os.current=Fs,n=qe!==null&&qe.next!==null,Cr=0,et=qe=je=null,Ds=!1,n)throw Error(o(300));return e}function su(){var e=co!==0;return co=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?je.memoizedState=et=e:et=et.next=e,et}function Yt(){if(qe===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=et===null?je.memoizedState:et.next;if(n!==null)et=n,qe=e;else{if(e===null)throw Error(o(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},et===null?je.memoizedState=et=e:et=et.next=e}return et}function fo(e,n){return typeof n=="function"?n(e):n}function au(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=qe,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var y=g=null,A=null,k=f;do{var U=k.lane;if((Cr&U)===U)A!==null&&(A=A.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),a=k.hasEagerState?k.eagerState:e(a,k.action);else{var F={lane:U,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};A===null?(y=A=F,g=a):A=A.next=F,je.lanes|=U,Rr|=U}k=k.next}while(k!==null&&k!==f);A===null?g=a:A.next=y,nn(a,n.memoizedState)||(Ct=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=A,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,je.lanes|=f,Rr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function lu(e){var n=Yt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);nn(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function Hf(){}function xf(e,n){var i=je,a=Yt(),c=n(),f=!nn(a.memoizedState,c);if(f&&(a.memoizedState=c,Ct=!0),a=a.queue,uu(Wf.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,ho(9,zf.bind(null,i,a,c,n),void 0,null),tt===null)throw Error(o(349));(Cr&30)!==0||Gf(i,n,c)}return c}function Gf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function zf(e,n,i,a){n.value=i,n.getSnapshot=a,$f(n)&&jf(e)}function Wf(e,n,i){return i(function(){$f(n)&&jf(e)})}function $f(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!nn(e,i)}catch{return!0}}function jf(e){var n=Nn(e,1);n!==null&&ln(n,e,1,-1)}function Yf(e){var n=gn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},n.queue=e,e=e.dispatch=Qv.bind(null,je,e),[n.memoizedState,e]}function ho(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=je.updateQueue,n===null?(n={lastEffect:null,stores:null},je.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function Vf(){return Yt().memoizedState}function Ms(e,n,i,a){var c=gn();je.flags|=e,c.memoizedState=ho(1|n,i,void 0,a===void 0?null:a)}function Us(e,n,i,a){var c=Yt();a=a===void 0?null:a;var f=void 0;if(qe!==null){var g=qe.memoizedState;if(f=g.destroy,a!==null&&iu(a,g.deps)){c.memoizedState=ho(n,i,f,a);return}}je.flags|=e,c.memoizedState=ho(1|n,i,f,a)}function Kf(e,n){return Ms(8390656,8,e,n)}function uu(e,n){return Us(2048,8,e,n)}function Xf(e,n){return Us(4,2,e,n)}function Qf(e,n){return Us(4,4,e,n)}function Zf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bf(e,n,i){return i=i!=null?i.concat([e]):null,Us(4,4,Zf.bind(null,n,e),i)}function cu(){}function qf(e,n){var i=Yt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&iu(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function Jf(e,n){var i=Yt();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&iu(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function eh(e,n,i){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=i):(nn(i,n)||(i=Nd(),je.lanes|=i,Rr|=i,e.baseState=!0),n)}function Kv(e,n){var i=De;De=i!==0&&4>i?i:4,e(!0);var a=ru.transition;ru.transition={};try{e(!1),n()}finally{De=i,ru.transition=a}}function th(){return Yt().memoizedState}function Xv(e,n,i){var a=nr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},nh(e))rh(n,i);else if(i=Mf(e,n,i,a),i!==null){var c=wt();ln(i,e,a,c),ih(i,n,a)}}function Qv(e,n,i){var a=nr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(nh(e))rh(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,y=f(g,i);if(c.hasEagerState=!0,c.eagerState=y,nn(y,g)){var A=n.interleaved;A===null?(c.next=c,bl(n)):(c.next=A.next,A.next=c),n.interleaved=c;return}}catch{}finally{}i=Mf(e,n,c,a),i!==null&&(c=wt(),ln(i,e,a,c),ih(i,n,a))}}function nh(e){var n=e.alternate;return e===je||n!==null&&n===je}function rh(e,n){uo=Ds=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function ih(e,n,i){if((i&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,fl(e,i)}}var Fs={readContext:jt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Zv={readContext:jt,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:jt,useEffect:Kf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ms(4194308,4,Zf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ms(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ms(4,2,e,n)},useMemo:function(e,n){var i=gn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=gn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Xv.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:Yf,useDebugValue:cu,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=Yf(!1),n=e[0];return e=Kv.bind(null,e[1]),gn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=je,c=gn();if(xe){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),tt===null)throw Error(o(349));(Cr&30)!==0||Gf(a,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,Kf(Wf.bind(null,a,f,e),[e]),a.flags|=2048,ho(9,zf.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=gn(),n=tt.identifierPrefix;if(xe){var i=Pn,a=Rn;i=(a&~(1<<32-tn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=co++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Vv++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},bv={readContext:jt,useCallback:qf,useContext:jt,useEffect:uu,useImperativeHandle:bf,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:Jf,useReducer:au,useRef:Vf,useState:function(){return au(fo)},useDebugValue:cu,useDeferredValue:function(e){var n=Yt();return eh(n,qe.memoizedState,e)},useTransition:function(){var e=au(fo)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:Hf,useSyncExternalStore:xf,useId:th,unstable_isNewReconciler:!1},qv={readContext:jt,useCallback:qf,useContext:jt,useEffect:uu,useImperativeHandle:bf,useInsertionEffect:Xf,useLayoutEffect:Qf,useMemo:Jf,useReducer:lu,useRef:Vf,useState:function(){return lu(fo)},useDebugValue:cu,useDeferredValue:function(e){var n=Yt();return qe===null?n.memoizedState=e:eh(n,qe.memoizedState,e)},useTransition:function(){var e=lu(fo)[0],n=Yt().memoizedState;return[e,n]},useMutableSource:Hf,useSyncExternalStore:xf,useId:th,unstable_isNewReconciler:!1};function on(e,n){if(e&&e.defaultProps){n=x({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function du(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ls={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=wt(),c=nr(e),f=kn(a,c);f.payload=n,i!=null&&(f.callback=i),n=qn(e,f,c),n!==null&&(ln(n,e,c,a),Ps(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=wt(),c=nr(e),f=kn(a,c);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=qn(e,f,c),n!==null&&(ln(n,e,c,a),Ps(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=wt(),a=nr(e),c=kn(i,a);c.tag=2,n!=null&&(c.callback=n),n=qn(e,c,a),n!==null&&(ln(n,e,a,i),Ps(n,e,a))}};function oh(e,n,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):n.prototype&&n.prototype.isPureReactComponent?!qi(i,a)||!qi(c,f):!0}function sh(e,n,i){var a=!1,c=Qn,f=n.contextType;return typeof f=="object"&&f!==null?f=jt(f):(c=It(n)?wr:ht.current,a=n.contextTypes,f=(a=a!=null)?ti(e,c):Qn),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ls,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function ah(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Ls.enqueueReplaceState(n,n.state,null)}function fu(e,n,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},ql(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=jt(f):(f=It(n)?wr:ht.current,c.context=ti(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(du(e,n,f,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Ls.enqueueReplaceState(c,c.state,null),Ns(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,n){try{var i="",a=n;do i+=ye(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function hu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function pu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Jv=typeof WeakMap=="function"?WeakMap:Map;function lh(e,n,i){i=kn(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){$s||($s=!0,Nu=a),pu(e,n)},i}function uh(e,n,i){i=kn(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;i.payload=function(){return a(c)},i.callback=function(){pu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){pu(e,n),typeof a!="function"&&(er===null?er=new Set([this]):er.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function ch(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Jv;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(i)||(c.add(i),e=h0.bind(null,e,n,i),n.then(e,e))}function dh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function fh(e,n,i,a,c){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=kn(-1,1),n.tag=2,qn(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var e0=$.ReactCurrentOwner,Ct=!1;function At(e,n,i,a){n.child=e===null?Df(n,null,i,a):oi(n,e.child,i,a)}function hh(e,n,i,a,c){i=i.render;var f=n.ref;return ai(n,c),a=ou(e,n,i,a,f,c),i=su(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,On(e,n,c)):(xe&&i&&Wl(n),n.flags|=1,At(e,n,a,c),n.child)}function ph(e,n,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Lu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,gh(e,n,f,a,c)):(e=Qs(i.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:qi,i(g,a)&&e.ref===n.ref)return On(e,n,c)}return n.flags|=1,e=ir(f,a),e.ref=n.ref,e.return=n,n.child=e}function gh(e,n,i,a,c){if(e!==null){var f=e.memoizedProps;if(qi(f,a)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=a=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,On(e,n,c)}return gu(e,n,i,a,c)}function mh(e,n,i){var a=n.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(di,Lt),Lt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Me(di,Lt),Lt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Me(di,Lt),Lt|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,Me(di,Lt),Lt|=a;return At(e,n,c,i),n.child}function vh(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function gu(e,n,i,a,c){var f=It(i)?wr:ht.current;return f=ti(n,f),ai(n,c),i=ou(e,n,i,a,f,c),a=su(),e!==null&&!Ct?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,On(e,n,c)):(xe&&a&&Wl(n),n.flags|=1,At(e,n,i,c),n.child)}function Sh(e,n,i,a,c){if(It(i)){var f=!0;As(n)}else f=!1;if(ai(n,c),n.stateNode===null)Hs(e,n),sh(n,i,a),fu(n,i,a,c),a=!0;else if(e===null){var g=n.stateNode,y=n.memoizedProps;g.props=y;var A=g.context,k=i.contextType;typeof k=="object"&&k!==null?k=jt(k):(k=It(i)?wr:ht.current,k=ti(n,k));var U=i.getDerivedStateFromProps,F=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function";F||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||A!==k)&&ah(n,g,a,k),bn=!1;var M=n.memoizedState;g.state=M,Ns(n,a,g,c),A=n.memoizedState,y!==a||M!==A||Tt.current||bn?(typeof U=="function"&&(du(n,i,U,a),A=n.memoizedState),(y=bn||oh(n,i,y,a,M,A,k))?(F||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=A),g.props=a,g.state=A,g.context=k,a=y):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,Uf(e,n),y=n.memoizedProps,k=n.type===n.elementType?y:on(n.type,y),g.props=k,F=n.pendingProps,M=g.context,A=i.contextType,typeof A=="object"&&A!==null?A=jt(A):(A=It(i)?wr:ht.current,A=ti(n,A));var W=i.getDerivedStateFromProps;(U=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==F||M!==A)&&ah(n,g,a,A),bn=!1,M=n.memoizedState,g.state=M,Ns(n,a,g,c);var Q=n.memoizedState;y!==F||M!==Q||Tt.current||bn?(typeof W=="function"&&(du(n,i,W,a),Q=n.memoizedState),(k=bn||oh(n,i,k,a,M,Q,A)||!1)?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Q,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Q,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=Q),g.props=a,g.state=Q,g.context=A,a=k):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),a=!1)}return mu(e,n,i,a,f,c)}function mu(e,n,i,a,c,f){vh(e,n);var g=(n.flags&128)!==0;if(!a&&!g)return c&&Ef(n,i,!1),On(e,n,f);a=n.stateNode,e0.current=n;var y=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&g?(n.child=oi(n,e.child,null,f),n.child=oi(n,null,y,f)):At(e,n,y,f),n.memoizedState=a.state,c&&Ef(n,i,!0),n.child}function yh(e){var n=e.stateNode;n.pendingContext?wf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&wf(e,n.context,!1),Jl(e,n.containerInfo)}function Ah(e,n,i,a,c){return ii(),Vl(c),n.flags|=256,At(e,n,i,a),n.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function Su(e){return{baseLanes:e,cachePool:null,transitions:null}}function wh(e,n,i){var a=n.pendingProps,c=$e.current,f=!1,g=(n.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Me($e,c&1),e===null)return Yl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=n.mode,f=n.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Zs(g,a,0,null),e=Or(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Su(i),n.memoizedState=vu,e):yu(n,g));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return t0(e,n,g,a,y,c,i);if(f){f=a.fallback,g=n.mode,c=e.child,y=c.sibling;var A={mode:"hidden",children:a.children};return(g&1)===0&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=A,n.deletions=null):(a=ir(c,A),a.subtreeFlags=c.subtreeFlags&14680064),y!==null?f=ir(y,f):(f=Or(f,g,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,g=e.child.memoizedState,g=g===null?Su(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=vu,a}return f=e.child,e=f.sibling,a=ir(f,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function yu(e,n){return n=Zs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Bs(e,n,i,a){return a!==null&&Vl(a),oi(n,e.child,null,i),e=yu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function t0(e,n,i,a,c,f,g){if(i)return n.flags&256?(n.flags&=-257,a=hu(Error(o(422))),Bs(e,n,g,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,c=n.mode,a=Zs({mode:"visible",children:a.children},c,0,null),f=Or(f,c,g,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,(n.mode&1)!==0&&oi(n,e.child,null,g),n.child.memoizedState=Su(g),n.memoizedState=vu,f);if((n.mode&1)===0)return Bs(e,n,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var y=a.dgst;return a=y,f=Error(o(419)),a=hu(f,a,void 0),Bs(e,n,g,a)}if(y=(g&e.childLanes)!==0,Ct||y){if(a=tt,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Nn(e,c),ln(a,e,c,-1))}return Fu(),a=hu(Error(o(421))),Bs(e,n,g,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=p0.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,Ft=Kn(c.nextSibling),Ut=n,xe=!0,rn=null,e!==null&&(Wt[$t++]=Rn,Wt[$t++]=Pn,Wt[$t++]=_r,Rn=e.id,Pn=e.overflow,_r=n),n=yu(n,a.children),n.flags|=4096,n)}function _h(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Zl(e.return,n,i)}function Au(e,n,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function Eh(e,n,i){var a=n.pendingProps,c=a.revealOrder,f=a.tail;if(At(e,n,a.children,i),a=$e.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,i,n);else if(e.tag===19)_h(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Me($e,a),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&ks(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Au(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ks(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Au(n,!0,i,null,f);break;case"together":Au(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function On(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=ir(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ir(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function n0(e,n,i){switch(n.tag){case 3:yh(n),ii();break;case 5:Bf(n);break;case 1:It(n.type)&&As(n);break;case 4:Jl(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Me(Cs,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Me($e,$e.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?wh(e,n,i):(Me($e,$e.current&1),e=On(e,n,i),e!==null?e.sibling:null);Me($e,$e.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Eh(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Me($e,$e.current),a)break;return null;case 22:case 23:return n.lanes=0,mh(e,n,i)}return On(e,n,i)}var Th,wu,Ih,Ch;Th=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},wu=function(){},Ih=function(e,n,i,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,Ir(pn.current);var f=null;switch(i){case"input":c=Dt(e,c),a=Dt(e,a),f=[];break;case"select":c=x({},c,{value:void 0}),a=x({},a,{value:void 0}),f=[];break;case"textarea":c=Sr(e,c),a=Sr(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=vs)}tl(i,a);var g;i=null;for(k in c)if(!a.hasOwnProperty(k)&&c.hasOwnProperty(k)&&c[k]!=null)if(k==="style"){var y=c[k];for(g in y)y.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(u.hasOwnProperty(k)?f||(f=[]):(f=f||[]).push(k,null));for(k in a){var A=a[k];if(y=c!=null?c[k]:void 0,a.hasOwnProperty(k)&&A!==y&&(A!=null||y!=null))if(k==="style")if(y){for(g in y)!y.hasOwnProperty(g)||A&&A.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in A)A.hasOwnProperty(g)&&y[g]!==A[g]&&(i||(i={}),i[g]=A[g])}else i||(f||(f=[]),f.push(k,i)),i=A;else k==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,y=y?y.__html:void 0,A!=null&&y!==A&&(f=f||[]).push(k,A)):k==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(k,""+A):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(u.hasOwnProperty(k)?(A!=null&&k==="onScroll"&&Ue("scroll",e),f||y===A||(f=[])):(f=f||[]).push(k,A))}i&&(f=f||[]).push("style",i);var k=f;(n.updateQueue=k)&&(n.flags|=4)}},Ch=function(e,n,i,a){i!==a&&(n.flags|=4)};function po(e,n){if(!xe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function gt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function r0(e,n,i){var a=n.pendingProps;switch($l(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return It(n.type)&&ys(),gt(n),null;case 3:return a=n.stateNode,li(),Fe(Tt),Fe(ht),nu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ts(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rn!==null&&(Du(rn),rn=null))),wu(e,n),gt(n),null;case 5:eu(n);var c=Ir(lo.current);if(i=n.type,e!==null&&n.stateNode!=null)Ih(e,n,i,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(o(166));return gt(n),null}if(e=Ir(pn.current),Ts(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[hn]=n,a[ro]=f,e=(n.mode&1)!==0,i){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(c=0;c<eo.length;c++)Ue(eo[c],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":zt(a,f),Ue("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ue("invalid",a);break;case"textarea":ld(a,f),Ue("invalid",a)}tl(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var y=f[g];g==="children"?typeof y=="string"?a.textContent!==y&&(f.suppressHydrationWarning!==!0&&ms(a.textContent,y,e),c=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&ms(a.textContent,y,e),c=["children",""+y]):u.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&Ue("scroll",a)}switch(i){case"input":Ne(a),Hn(a,f,!0);break;case"textarea":Ne(a),cd(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=vs)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[hn]=n,e[ro]=a,Th(e,n,!1,!1),n.stateNode=e;e:{switch(g=nl(i,a),i){case"dialog":Ue("cancel",e),Ue("close",e),c=a;break;case"iframe":case"object":case"embed":Ue("load",e),c=a;break;case"video":case"audio":for(c=0;c<eo.length;c++)Ue(eo[c],e);c=a;break;case"source":Ue("error",e),c=a;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),c=a;break;case"details":Ue("toggle",e),c=a;break;case"input":zt(e,a),c=Dt(e,a),Ue("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=x({},a,{value:void 0}),Ue("invalid",e);break;case"textarea":ld(e,a),c=Sr(e,a),Ue("invalid",e);break;default:c=a}tl(i,c),y=c;for(f in y)if(y.hasOwnProperty(f)){var A=y[f];f==="style"?pd(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&fd(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Fi(e,A):typeof A=="number"&&Fi(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?A!=null&&f==="onScroll"&&Ue("scroll",e):A!=null&&K(e,f,A,g))}switch(i){case"input":Ne(e),Hn(e,a,!1);break;case"textarea":Ne(e),cd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+de(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Gn(e,!!a.multiple,f,!1):a.defaultValue!=null&&Gn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=vs)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return gt(n),null;case 6:if(e&&n.stateNode!=null)Ch(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(o(166));if(i=Ir(lo.current),Ir(pn.current),Ts(n)){if(a=n.stateNode,i=n.memoizedProps,a[hn]=n,(f=a.nodeValue!==i)&&(e=Ut,e!==null))switch(e.tag){case 3:ms(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[hn]=n,n.stateNode=a}return gt(n),null;case 13:if(Fe($e),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Ft!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Nf(),ii(),n.flags|=98560,f=!1;else if(f=Ts(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[hn]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),f=!1}else rn!==null&&(Du(rn),rn=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||($e.current&1)!==0?Je===0&&(Je=3):Fu())),n.updateQueue!==null&&(n.flags|=4),gt(n),null);case 4:return li(),wu(e,n),e===null&&to(n.stateNode.containerInfo),gt(n),null;case 10:return Ql(n.type._context),gt(n),null;case 17:return It(n.type)&&ys(),gt(n),null;case 19:if(Fe($e),f=n.memoizedState,f===null)return gt(n),null;if(a=(n.flags&128)!==0,g=f.rendering,g===null)if(a)po(f,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=ks(e),g!==null){for(n.flags|=128,po(f,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Me($e,$e.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ve()>fi&&(n.flags|=128,a=!0,po(f,!1),n.lanes=4194304)}else{if(!a)if(e=ks(g),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),po(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!xe)return gt(n),null}else 2*Ve()-f.renderingStartTime>fi&&i!==1073741824&&(n.flags|=128,a=!0,po(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ve(),n.sibling=null,i=$e.current,Me($e,a?i&1|2:i&1),n):(gt(n),null);case 22:case 23:return Uu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(Lt&1073741824)!==0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function i0(e,n){switch($l(n),n.tag){case 1:return It(n.type)&&ys(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return li(),Fe(Tt),Fe(ht),nu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return eu(n),null;case 13:if(Fe($e),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Fe($e),null;case 4:return li(),null;case 10:return Ql(n.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var xs=!1,mt=!1,o0=typeof WeakSet=="function"?WeakSet:Set,V=null;function ci(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ye(e,n,a)}else i.current=null}function _u(e,n,i){try{i()}catch(a){Ye(e,n,a)}}var Rh=!1;function s0(e,n){if(Ul=os,e=of(),Cl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,y=-1,A=-1,k=0,U=0,F=e,M=null;t:for(;;){for(var W;F!==i||c!==0&&F.nodeType!==3||(y=g+c),F!==f||a!==0&&F.nodeType!==3||(A=g+a),F.nodeType===3&&(g+=F.nodeValue.length),(W=F.firstChild)!==null;)M=F,F=W;for(;;){if(F===e)break t;if(M===i&&++k===c&&(y=g),M===f&&++U===a&&(A=g),(W=F.nextSibling)!==null)break;F=M,M=F.parentNode}F=W}i=y===-1||A===-1?null:{start:y,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fl={focusedElem:e,selectionRange:i},os=!1,V=n;V!==null;)if(n=V,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,V=e;else for(;V!==null;){n=V;try{var Q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Z=Q.memoizedProps,Ke=Q.memoizedState,T=n.stateNode,w=T.getSnapshotBeforeUpdate(n.elementType===n.type?Z:on(n.type,Z),Ke);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=n.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){Ye(n,n.return,B)}if(e=n.sibling,e!==null){e.return=n.return,V=e;break}V=n.return}return Q=Rh,Rh=!1,Q}function go(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&_u(n,i,f)}c=c.next}while(c!==a)}}function Gs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Eu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Ph(e){var n=e.alternate;n!==null&&(e.alternate=null,Ph(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hn],delete n[ro],delete n[xl],delete n[Wv],delete n[$v])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nh(e){return e.tag===5||e.tag===3||e.tag===4}function kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=vs));else if(a!==4&&(e=e.child,e!==null))for(Tu(e,n,i),e=e.sibling;e!==null;)Tu(e,n,i),e=e.sibling}function Iu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Iu(e,n,i),e=e.sibling;e!==null;)Iu(e,n,i),e=e.sibling}var st=null,sn=!1;function Jn(e,n,i){for(i=i.child;i!==null;)Oh(e,n,i),i=i.sibling}function Oh(e,n,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Jo,i)}catch{}switch(i.tag){case 5:mt||ci(i,n);case 6:var a=st,c=sn;st=null,Jn(e,n,i),st=a,sn=c,st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):st.removeChild(i.stateNode));break;case 18:st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?Hl(e.parentNode,i):e.nodeType===1&&Hl(e,i),Vi(e)):Hl(st,i.stateNode));break;case 4:a=st,c=sn,st=i.stateNode.containerInfo,sn=!0,Jn(e,n,i),st=a,sn=c;break;case 0:case 11:case 14:case 15:if(!mt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&_u(i,n,g),c=c.next}while(c!==a)}Jn(e,n,i);break;case 1:if(!mt&&(ci(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){Ye(i,n,y)}Jn(e,n,i);break;case 21:Jn(e,n,i);break;case 22:i.mode&1?(mt=(a=mt)||i.memoizedState!==null,Jn(e,n,i),mt=a):Jn(e,n,i);break;default:Jn(e,n,i)}}function Dh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new o0),n.forEach(function(a){var c=g0.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function an(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 5:st=y.stateNode,sn=!1;break e;case 3:st=y.stateNode.containerInfo,sn=!0;break e;case 4:st=y.stateNode.containerInfo,sn=!0;break e}y=y.return}if(st===null)throw Error(o(160));Oh(f,g,c),st=null,sn=!1;var A=c.alternate;A!==null&&(A.return=null),c.return=null}catch(k){Ye(c,n,k)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Mh(n,e),n=n.sibling}function Mh(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(n,e),mn(e),a&4){try{go(3,e,e.return),Gs(3,e)}catch(Z){Ye(e,e.return,Z)}try{go(5,e,e.return)}catch(Z){Ye(e,e.return,Z)}}break;case 1:an(n,e),mn(e),a&512&&i!==null&&ci(i,i.return);break;case 5:if(an(n,e),mn(e),a&512&&i!==null&&ci(i,i.return),e.flags&32){var c=e.stateNode;try{Fi(c,"")}catch(Z){Ye(e,e.return,Z)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,y=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&vr(c,f),nl(y,g);var k=nl(y,f);for(g=0;g<A.length;g+=2){var U=A[g],F=A[g+1];U==="style"?pd(c,F):U==="dangerouslySetInnerHTML"?fd(c,F):U==="children"?Fi(c,F):K(c,U,F,k)}switch(y){case"input":Tn(c,f);break;case"textarea":ud(c,f);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var W=f.value;W!=null?Gn(c,!!f.multiple,W,!1):M!==!!f.multiple&&(f.defaultValue!=null?Gn(c,!!f.multiple,f.defaultValue,!0):Gn(c,!!f.multiple,f.multiple?[]:"",!1))}c[ro]=f}catch(Z){Ye(e,e.return,Z)}}break;case 6:if(an(n,e),mn(e),a&4){if(e.stateNode===null)throw Error(o(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(Z){Ye(e,e.return,Z)}}break;case 3:if(an(n,e),mn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Vi(n.containerInfo)}catch(Z){Ye(e,e.return,Z)}break;case 4:an(n,e),mn(e);break;case 13:an(n,e),mn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Pu=Ve())),a&4&&Dh(e);break;case 22:if(U=i!==null&&i.memoizedState!==null,e.mode&1?(mt=(k=mt)||U,an(n,e),mt=k):an(n,e),mn(e),a&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!U&&(e.mode&1)!==0)for(V=e,U=e.child;U!==null;){for(F=V=U;V!==null;){switch(M=V,W=M.child,M.tag){case 0:case 11:case 14:case 15:go(4,M,M.return);break;case 1:ci(M,M.return);var Q=M.stateNode;if(typeof Q.componentWillUnmount=="function"){a=M,i=M.return;try{n=a,Q.props=n.memoizedProps,Q.state=n.memoizedState,Q.componentWillUnmount()}catch(Z){Ye(a,i,Z)}}break;case 5:ci(M,M.return);break;case 22:if(M.memoizedState!==null){Lh(F);continue}}W!==null?(W.return=M,V=W):Lh(F)}U=U.sibling}e:for(U=null,F=e;;){if(F.tag===5){if(U===null){U=F;try{c=F.stateNode,k?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=F.stateNode,A=F.memoizedProps.style,g=A!=null&&A.hasOwnProperty("display")?A.display:null,y.style.display=hd("display",g))}catch(Z){Ye(e,e.return,Z)}}}else if(F.tag===6){if(U===null)try{F.stateNode.nodeValue=k?"":F.memoizedProps}catch(Z){Ye(e,e.return,Z)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;U===F&&(U=null),F=F.return}U===F&&(U=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:an(n,e),mn(e),a&4&&Dh(e);break;case 21:break;default:an(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Nh(i)){var a=i;break e}i=i.return}throw Error(o(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Fi(c,""),a.flags&=-33);var f=kh(e);Iu(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,y=kh(e);Tu(e,y,g);break;default:throw Error(o(161))}}catch(A){Ye(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function a0(e,n,i){V=e,Uh(e)}function Uh(e,n,i){for(var a=(e.mode&1)!==0;V!==null;){var c=V,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||xs;if(!g){var y=c.alternate,A=y!==null&&y.memoizedState!==null||mt;y=xs;var k=mt;if(xs=g,(mt=A)&&!k)for(V=c;V!==null;)g=V,A=g.child,g.tag===22&&g.memoizedState!==null?Bh(c):A!==null?(A.return=g,V=A):Bh(c);for(;f!==null;)V=f,Uh(f),f=f.sibling;V=c,xs=y,mt=k}Fh(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,V=f):Fh(e)}}function Fh(e){for(;V!==null;){var n=V;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:mt||Gs(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!mt)if(i===null)a.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:on(n.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Lf(n,f,a);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Lf(n,g,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var k=n.alternate;if(k!==null){var U=k.memoizedState;if(U!==null){var F=U.dehydrated;F!==null&&Vi(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}mt||n.flags&512&&Eu(n)}catch(M){Ye(n,n.return,M)}}if(n===e){V=null;break}if(i=n.sibling,i!==null){i.return=n.return,V=i;break}V=n.return}}function Lh(e){for(;V!==null;){var n=V;if(n===e){V=null;break}var i=n.sibling;if(i!==null){i.return=n.return,V=i;break}V=n.return}}function Bh(e){for(;V!==null;){var n=V;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Gs(4,n)}catch(A){Ye(n,i,A)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(A){Ye(n,c,A)}}var f=n.return;try{Eu(n)}catch(A){Ye(n,f,A)}break;case 5:var g=n.return;try{Eu(n)}catch(A){Ye(n,g,A)}}}catch(A){Ye(n,n.return,A)}if(n===e){V=null;break}var y=n.sibling;if(y!==null){y.return=n.return,V=y;break}V=n.return}}var l0=Math.ceil,zs=$.ReactCurrentDispatcher,Cu=$.ReactCurrentOwner,Vt=$.ReactCurrentBatchConfig,Ce=0,tt=null,Qe=null,at=0,Lt=0,di=Xn(0),Je=0,mo=null,Rr=0,Ws=0,Ru=0,vo=null,Rt=null,Pu=0,fi=1/0,Dn=null,$s=!1,Nu=null,er=null,js=!1,tr=null,Ys=0,So=0,ku=null,Vs=-1,Ks=0;function wt(){return(Ce&6)!==0?Ve():Vs!==-1?Vs:Vs=Ve()}function nr(e){return(e.mode&1)===0?1:(Ce&2)!==0&&at!==0?at&-at:Yv.transition!==null?(Ks===0&&(Ks=Nd()),Ks):(e=De,e!==0||(e=window.event,e=e===void 0?16:Hd(e.type)),e)}function ln(e,n,i,a){if(50<So)throw So=0,ku=null,Error(o(185));zi(e,i,a),((Ce&2)===0||e!==tt)&&(e===tt&&((Ce&2)===0&&(Ws|=i),Je===4&&rr(e,at)),Pt(e,a),i===1&&Ce===0&&(n.mode&1)===0&&(fi=Ve()+500,ws&&Zn()))}function Pt(e,n){var i=e.callbackNode;Ym(e,n);var a=ns(e,e===tt?at:0);if(a===0)i!==null&&Cd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&Cd(i),n===1)e.tag===0?jv(xh.bind(null,e)):Tf(xh.bind(null,e)),Gv(function(){(Ce&6)===0&&Zn()}),i=null;else{switch(kd(a)){case 1:i=ul;break;case 4:i=Rd;break;case 16:i=qo;break;case 536870912:i=Pd;break;default:i=qo}i=Kh(i,Hh.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Hh(e,n){if(Vs=-1,Ks=0,(Ce&6)!==0)throw Error(o(327));var i=e.callbackNode;if(hi()&&e.callbackNode!==i)return null;var a=ns(e,e===tt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=Xs(e,a);else{n=a;var c=Ce;Ce|=2;var f=zh();(tt!==e||at!==n)&&(Dn=null,fi=Ve()+500,Nr(e,n));do try{d0();break}catch(y){Gh(e,y)}while(!0);Xl(),zs.current=f,Ce=c,Qe!==null?n=0:(tt=null,at=0,n=Je)}if(n!==0){if(n===2&&(c=cl(e),c!==0&&(a=c,n=Ou(e,c))),n===1)throw i=mo,Nr(e,0),rr(e,a),Pt(e,Ve()),i;if(n===6)rr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!u0(c)&&(n=Xs(e,a),n===2&&(f=cl(e),f!==0&&(a=f,n=Ou(e,f))),n===1))throw i=mo,Nr(e,0),rr(e,a),Pt(e,Ve()),i;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(o(345));case 2:kr(e,Rt,Dn);break;case 3:if(rr(e,a),(a&130023424)===a&&(n=Pu+500-Ve(),10<n)){if(ns(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){wt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Bl(kr.bind(null,e,Rt,Dn),n);break}kr(e,Rt,Dn);break;case 4:if(rr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var g=31-tn(a);f=1<<g,g=n[g],g>c&&(c=g),a&=~f}if(a=c,a=Ve()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*l0(a/1960))-a,10<a){e.timeoutHandle=Bl(kr.bind(null,e,Rt,Dn),a);break}kr(e,Rt,Dn);break;case 5:kr(e,Rt,Dn);break;default:throw Error(o(329))}}}return Pt(e,Ve()),e.callbackNode===i?Hh.bind(null,e):null}function Ou(e,n){var i=vo;return e.current.memoizedState.isDehydrated&&(Nr(e,n).flags|=256),e=Xs(e,n),e!==2&&(n=Rt,Rt=i,n!==null&&Du(n)),e}function Du(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function u0(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(e,n){for(n&=~Ru,n&=~Ws,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-tn(n),a=1<<i;e[i]=-1,n&=~a}}function xh(e){if((Ce&6)!==0)throw Error(o(327));hi();var n=ns(e,0);if((n&1)===0)return Pt(e,Ve()),null;var i=Xs(e,n);if(e.tag!==0&&i===2){var a=cl(e);a!==0&&(n=a,i=Ou(e,a))}if(i===1)throw i=mo,Nr(e,0),rr(e,n),Pt(e,Ve()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,kr(e,Rt,Dn),Pt(e,Ve()),null}function Mu(e,n){var i=Ce;Ce|=1;try{return e(n)}finally{Ce=i,Ce===0&&(fi=Ve()+500,ws&&Zn())}}function Pr(e){tr!==null&&tr.tag===0&&(Ce&6)===0&&hi();var n=Ce;Ce|=1;var i=Vt.transition,a=De;try{if(Vt.transition=null,De=1,e)return e()}finally{De=a,Vt.transition=i,Ce=n,(Ce&6)===0&&Zn()}}function Uu(){Lt=di.current,Fe(di)}function Nr(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,xv(i)),Qe!==null)for(i=Qe.return;i!==null;){var a=i;switch($l(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ys();break;case 3:li(),Fe(Tt),Fe(ht),nu();break;case 5:eu(a);break;case 4:li();break;case 13:Fe($e);break;case 19:Fe($e);break;case 10:Ql(a.type._context);break;case 22:case 23:Uu()}i=i.return}if(tt=e,Qe=e=ir(e.current,null),at=Lt=n,Je=0,mo=null,Ru=Ws=Rr=0,Rt=vo=null,Tr!==null){for(n=0;n<Tr.length;n++)if(i=Tr[n],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}Tr=null}return e}function Gh(e,n){do{var i=Qe;try{if(Xl(),Os.current=Fs,Ds){for(var a=je.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ds=!1}if(Cr=0,et=qe=je=null,uo=!1,co=0,Cu.current=null,i===null||i.return===null){Je=1,mo=n,Qe=null;break}e:{var f=e,g=i.return,y=i,A=n;if(n=at,y.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var k=A,U=y,F=U.tag;if((U.mode&1)===0&&(F===0||F===11||F===15)){var M=U.alternate;M?(U.updateQueue=M.updateQueue,U.memoizedState=M.memoizedState,U.lanes=M.lanes):(U.updateQueue=null,U.memoizedState=null)}var W=dh(g);if(W!==null){W.flags&=-257,fh(W,g,y,f,n),W.mode&1&&ch(f,k,n),n=W,A=k;var Q=n.updateQueue;if(Q===null){var Z=new Set;Z.add(A),n.updateQueue=Z}else Q.add(A);break e}else{if((n&1)===0){ch(f,k,n),Fu();break e}A=Error(o(426))}}else if(xe&&y.mode&1){var Ke=dh(g);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),fh(Ke,g,y,f,n),Vl(ui(A,y));break e}}f=A=ui(A,y),Je!==4&&(Je=2),vo===null?vo=[f]:vo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var T=lh(f,A,n);Ff(f,T);break e;case 1:y=A;var w=f.type,P=f.stateNode;if((f.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(er===null||!er.has(P)))){f.flags|=65536,n&=-n,f.lanes|=n;var B=uh(f,y,n);Ff(f,B);break e}}f=f.return}while(f!==null)}$h(i)}catch(b){n=b,Qe===i&&i!==null&&(Qe=i=i.return);continue}break}while(!0)}function zh(){var e=zs.current;return zs.current=Fs,e===null?Fs:e}function Fu(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||(Rr&268435455)===0&&(Ws&268435455)===0||rr(tt,at)}function Xs(e,n){var i=Ce;Ce|=2;var a=zh();(tt!==e||at!==n)&&(Dn=null,Nr(e,n));do try{c0();break}catch(c){Gh(e,c)}while(!0);if(Xl(),Ce=i,zs.current=a,Qe!==null)throw Error(o(261));return tt=null,at=0,Je}function c0(){for(;Qe!==null;)Wh(Qe)}function d0(){for(;Qe!==null&&!Lm();)Wh(Qe)}function Wh(e){var n=Vh(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,n===null?$h(e):Qe=n,Cu.current=null}function $h(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=r0(i,n,Lt),i!==null){Qe=i;return}}else{if(i=i0(i,n),i!==null){i.flags&=32767,Qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Qe=null;return}}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=e}while(n!==null);Je===0&&(Je=5)}function kr(e,n,i){var a=De,c=Vt.transition;try{Vt.transition=null,De=1,f0(e,n,i,a)}finally{Vt.transition=c,De=a}return null}function f0(e,n,i,a){do hi();while(tr!==null);if((Ce&6)!==0)throw Error(o(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Vm(e,f),e===tt&&(Qe=tt=null,at=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||js||(js=!0,Kh(qo,function(){return hi(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Vt.transition,Vt.transition=null;var g=De;De=1;var y=Ce;Ce|=4,Cu.current=null,s0(e,i),Mh(i,e),Dv(Fl),os=!!Ul,Fl=Ul=null,e.current=i,a0(i),Bm(),Ce=y,De=g,Vt.transition=f}else e.current=i;if(js&&(js=!1,tr=e,Ys=c),f=e.pendingLanes,f===0&&(er=null),Gm(i.stateNode),Pt(e,Ve()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],a(c.value,{componentStack:c.stack,digest:c.digest});if($s)throw $s=!1,e=Nu,Nu=null,e;return(Ys&1)!==0&&e.tag!==0&&hi(),f=e.pendingLanes,(f&1)!==0?e===ku?So++:(So=0,ku=e):So=0,Zn(),null}function hi(){if(tr!==null){var e=kd(Ys),n=Vt.transition,i=De;try{if(Vt.transition=null,De=16>e?16:e,tr===null)var a=!1;else{if(e=tr,tr=null,Ys=0,(Ce&6)!==0)throw Error(o(331));var c=Ce;for(Ce|=4,V=e.current;V!==null;){var f=V,g=f.child;if((V.flags&16)!==0){var y=f.deletions;if(y!==null){for(var A=0;A<y.length;A++){var k=y[A];for(V=k;V!==null;){var U=V;switch(U.tag){case 0:case 11:case 15:go(8,U,f)}var F=U.child;if(F!==null)F.return=U,V=F;else for(;V!==null;){U=V;var M=U.sibling,W=U.return;if(Ph(U),U===k){V=null;break}if(M!==null){M.return=W,V=M;break}V=W}}}var Q=f.alternate;if(Q!==null){var Z=Q.child;if(Z!==null){Q.child=null;do{var Ke=Z.sibling;Z.sibling=null,Z=Ke}while(Z!==null)}}V=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,V=g;else e:for(;V!==null;){if(f=V,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:go(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,V=T;break e}V=f.return}}var w=e.current;for(V=w;V!==null;){g=V;var P=g.child;if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,V=P;else e:for(g=w;V!==null;){if(y=V,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Gs(9,y)}}catch(b){Ye(y,y.return,b)}if(y===g){V=null;break e}var B=y.sibling;if(B!==null){B.return=y.return,V=B;break e}V=y.return}}if(Ce=c,Zn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Jo,e)}catch{}a=!0}return a}finally{De=i,Vt.transition=n}}return!1}function jh(e,n,i){n=ui(i,n),n=lh(e,n,1),e=qn(e,n,1),n=wt(),e!==null&&(zi(e,1,n),Pt(e,n))}function Ye(e,n,i){if(e.tag===3)jh(e,e,i);else for(;n!==null;){if(n.tag===3){jh(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(er===null||!er.has(a))){e=ui(i,e),e=uh(n,e,1),n=qn(n,e,1),e=wt(),n!==null&&(zi(n,1,e),Pt(n,e));break}}n=n.return}}function h0(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=wt(),e.pingedLanes|=e.suspendedLanes&i,tt===e&&(at&i)===i&&(Je===4||Je===3&&(at&130023424)===at&&500>Ve()-Pu?Nr(e,0):Ru|=i),Pt(e,n)}function Yh(e,n){n===0&&((e.mode&1)===0?n=1:(n=ts,ts<<=1,(ts&130023424)===0&&(ts=4194304)));var i=wt();e=Nn(e,n),e!==null&&(zi(e,n,i),Pt(e,i))}function p0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Yh(e,i)}function g0(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(n),Yh(e,i)}var Vh;Vh=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Tt.current)Ct=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Ct=!1,n0(e,n,i);Ct=(e.flags&131072)!==0}else Ct=!1,xe&&(n.flags&1048576)!==0&&If(n,Es,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Hs(e,n),e=n.pendingProps;var c=ti(n,ht.current);ai(n,i),c=ou(null,n,a,e,c,i);var f=su();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,It(a)?(f=!0,As(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ql(n),c.updater=Ls,n.stateNode=c,c._reactInternals=n,fu(n,a,e,i),n=mu(null,n,a,!0,f,i)):(n.tag=0,xe&&f&&Wl(n),At(null,n,c,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Hs(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=v0(a),e=on(a,e),c){case 0:n=gu(null,n,a,e,i);break e;case 1:n=Sh(null,n,a,e,i);break e;case 11:n=hh(null,n,a,e,i);break e;case 14:n=ph(null,n,a,on(a.type,e),i);break e}throw Error(o(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:on(a,c),gu(e,n,a,c,i);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:on(a,c),Sh(e,n,a,c,i);case 3:e:{if(yh(n),e===null)throw Error(o(387));a=n.pendingProps,f=n.memoizedState,c=f.element,Uf(e,n),Ns(n,a,null,i);var g=n.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=ui(Error(o(423)),n),n=Ah(e,n,a,i,c);break e}else if(a!==c){c=ui(Error(o(424)),n),n=Ah(e,n,a,i,c);break e}else for(Ft=Kn(n.stateNode.containerInfo.firstChild),Ut=n,xe=!0,rn=null,i=Df(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ii(),a===c){n=On(e,n,i);break e}At(e,n,a,i)}n=n.child}return n;case 5:return Bf(n),e===null&&Yl(n),a=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Ll(a,c)?g=null:f!==null&&Ll(a,f)&&(n.flags|=32),vh(e,n),At(e,n,g,i),n.child;case 6:return e===null&&Yl(n),null;case 13:return wh(e,n,i);case 4:return Jl(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=oi(n,null,a,i):At(e,n,a,i),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:on(a,c),hh(e,n,a,c,i);case 7:return At(e,n,n.pendingProps,i),n.child;case 8:return At(e,n,n.pendingProps.children,i),n.child;case 12:return At(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,f=n.memoizedProps,g=c.value,Me(Cs,a._currentValue),a._currentValue=g,f!==null)if(nn(f.value,g)){if(f.children===c.children&&!Tt.current){n=On(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){g=f.child;for(var A=y.firstContext;A!==null;){if(A.context===a){if(f.tag===1){A=kn(-1,i&-i),A.tag=2;var k=f.updateQueue;if(k!==null){k=k.shared;var U=k.pending;U===null?A.next=A:(A.next=U.next,U.next=A),k.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),Zl(f.return,i,n),y.lanes|=i;break}A=A.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=i,y=g.alternate,y!==null&&(y.lanes|=i),Zl(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}At(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,ai(n,i),c=jt(c),a=a(c),n.flags|=1,At(e,n,a,i),n.child;case 14:return a=n.type,c=on(a,n.pendingProps),c=on(a.type,c),ph(e,n,a,c,i);case 15:return gh(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:on(a,c),Hs(e,n),n.tag=1,It(a)?(e=!0,As(n)):e=!1,ai(n,i),sh(n,a,c),fu(n,a,c,i),mu(null,n,a,!0,e,i);case 19:return Eh(e,n,i);case 22:return mh(e,n,i)}throw Error(o(156,n.tag))};function Kh(e,n){return Id(e,n)}function m0(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,n,i,a){return new m0(e,n,i,a)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===We)return 11;if(e===Re)return 14}return 2}function ir(e,n){var i=e.alternate;return i===null?(i=Kt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Qs(e,n,i,a,c,f){var g=2;if(a=e,typeof e=="function")Lu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case j:return Or(i.children,c,f,n);case Oe:g=8,c|=8;break;case Be:return e=Kt(12,i,n,c|2),e.elementType=Be,e.lanes=f,e;case He:return e=Kt(13,i,n,c),e.elementType=He,e.lanes=f,e;case _e:return e=Kt(19,i,n,c),e.elementType=_e,e.lanes=f,e;case ie:return Zs(i,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:g=10;break e;case ot:g=9;break e;case We:g=11;break e;case Re:g=14;break e;case pe:g=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Kt(g,i,n,c),n.elementType=e,n.type=a,n.lanes=f,n}function Or(e,n,i,a){return e=Kt(7,e,a,n),e.lanes=i,e}function Zs(e,n,i,a){return e=Kt(22,e,a,n),e.elementType=ie,e.lanes=i,e.stateNode={isHidden:!1},e}function Bu(e,n,i){return e=Kt(6,e,null,n),e.lanes=i,e}function Hu(e,n,i){return n=Kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function S0(e,n,i,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function xu(e,n,i,a,c,f,g,y,A){return e=new S0(e,n,i,y,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Kt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(f),e}function y0(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Xh(e){if(!e)return Qn;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(It(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(It(i))return _f(e,i,n)}return n}function Qh(e,n,i,a,c,f,g,y,A){return e=xu(i,a,!0,e,c,f,g,y,A),e.context=Xh(null),i=e.current,a=wt(),c=nr(i),f=kn(a,c),f.callback=n??null,qn(i,f,c),e.current.lanes=c,zi(e,c,a),Pt(e,a),e}function bs(e,n,i,a){var c=n.current,f=wt(),g=nr(c);return i=Xh(i),n.context===null?n.context=i:n.pendingContext=i,n=kn(f,g),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=qn(c,n,g),e!==null&&(ln(e,c,g,f),Ps(e,c,g)),g}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Gu(e,n){Zh(e,n),(e=e.alternate)&&Zh(e,n)}function A0(){return null}var bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function zu(e){this._internalRoot=e}Js.prototype.render=zu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));bs(e,n,null,null)},Js.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Pr(function(){bs(null,e,null,null)}),n[In]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var n=Md();e={blockedOn:null,target:e,priority:n};for(var i=0;i<jn.length&&n!==0&&n<jn[i].priority;i++);jn.splice(i,0,e),i===0&&Ld(e)}};function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qh(){}function w0(e,n,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var k=qs(g);f.call(k)}}var g=Qh(n,a,e,0,null,!1,!1,"",qh);return e._reactRootContainer=g,e[In]=g.current,to(e.nodeType===8?e.parentNode:e),Pr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var y=a;a=function(){var k=qs(A);y.call(k)}}var A=xu(e,0,!1,null,null,!1,!1,"",qh);return e._reactRootContainer=A,e[In]=A.current,to(e.nodeType===8?e.parentNode:e),Pr(function(){bs(n,A,i,a)}),A}function ta(e,n,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var y=c;c=function(){var A=qs(g);y.call(A)}}bs(n,g,e,c)}else g=w0(i,n,e,c,a);return qs(g)}Od=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Gi(n.pendingLanes);i!==0&&(fl(n,i|1),Pt(n,Ve()),(Ce&6)===0&&(fi=Ve()+500,Zn()))}break;case 13:Pr(function(){var a=Nn(e,1);if(a!==null){var c=wt();ln(a,e,1,c)}}),Gu(e,1)}},hl=function(e){if(e.tag===13){var n=Nn(e,134217728);if(n!==null){var i=wt();ln(n,e,134217728,i)}Gu(e,134217728)}},Dd=function(e){if(e.tag===13){var n=nr(e),i=Nn(e,n);if(i!==null){var a=wt();ln(i,e,n,a)}Gu(e,n)}},Md=function(){return De},Ud=function(e,n){var i=De;try{return De=e,n()}finally{De=i}},ol=function(e,n,i){switch(n){case"input":if(Tn(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var c=Ss(a);if(!c)throw Error(o(90));ce(a),Tn(a,c)}}}break;case"textarea":ud(e,i);break;case"select":n=i.value,n!=null&&Gn(e,!!i.multiple,n,!1)}},Sd=Mu,yd=Pr;var _0={usingClientEntryPoint:!1,Events:[io,Jr,Ss,md,vd,Mu]},yo={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ed(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||A0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Jo=na.inject(E0),fn=na}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_0,Nt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(n))throw Error(o(200));return y0(e,n,null,i)},Nt.createRoot=function(e,n){if(!Wu(e))throw Error(o(299));var i=!1,a="",c=bh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=xu(e,1,!1,null,null,i,!1,a,c),e[In]=n.current,to(e.nodeType===8?e.parentNode:e),new zu(n)},Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ed(n),e=e===null?null:e.stateNode,e},Nt.flushSync=function(e){return Pr(e)},Nt.hydrate=function(e,n,i){if(!ea(n))throw Error(o(200));return ta(null,e,n,!0,i)},Nt.hydrateRoot=function(e,n,i){if(!Wu(e))throw Error(o(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=bh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=Qh(n,null,e,1,i??null,c,!1,f,g),e[In]=n.current,to(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new Js(n)},Nt.render=function(e,n,i){if(!ea(n))throw Error(o(200));return ta(null,e,n,!1,i)},Nt.unmountComponentAtNode=function(e){if(!ea(e))throw Error(o(40));return e._reactRootContainer?(Pr(function(){ta(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1},Nt.unstable_batchedUpdates=Mu,Nt.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!ea(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return ta(e,n,i,!1,a)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var sp;function M0(){if(sp)return Yu.exports;sp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Yu.exports=D0(),Yu.exports}var ap;function U0(){if(ap)return ra;ap=1;var t=M0();return ra.createRoot=t.createRoot,ra.hydrateRoot=t.hydrateRoot,ra}var F0=U0();const L0=gg(F0),mg=Ae.createContext(void 0),B0=({initialAppState:t,children:r})=>{const[o,s]=Ae.useState(t),[u,l]=Ae.useState(void 0),d=(h,p)=>{s(h),h==="gameOver"&&p?l(p):h!=="gameOver"&&l(void 0)};return Te.jsx(mg.Provider,{value:{appState:o,setAppState:d,gameOverDetails:u},children:r})},Ha=()=>{const t=Ae.useContext(mg);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var St=function(){return St=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},St.apply(this,arguments)};function Lo(t,r,o){if(o||arguments.length===2)for(var s=0,u=r.length,l;s<u;s++)(l||!(s in r))&&(l||(l=Array.prototype.slice.call(r,0,s)),l[s]=r[s]);return t.concat(l||Array.prototype.slice.call(r))}var Le="-ms-",Oo="-moz-",ke="-webkit-",vg="comm",xa="rule",Mc="decl",H0="@import",Sg="@keyframes",x0="@layer",yg=Math.abs,Uc=String.fromCharCode,mc=Object.assign;function G0(t,r){return rt(t,0)^45?(((r<<2^rt(t,0))<<2^rt(t,1))<<2^rt(t,2))<<2^rt(t,3):0}function Ag(t){return t.trim()}function Fn(t,r){return(t=r.exec(t))?t[0]:t}function ve(t,r,o){return t.replace(r,o)}function wa(t,r,o){return t.indexOf(r,o)}function rt(t,r){return t.charCodeAt(r)|0}function Ti(t,r,o){return t.slice(r,o)}function Sn(t){return t.length}function wg(t){return t.length}function Po(t,r){return r.push(t),t}function z0(t,r){return t.map(r).join("")}function lp(t,r){return t.filter(function(o){return!Fn(o,r)})}var Ga=1,Ii=1,_g=0,qt=0,Ze=0,Mi="";function za(t,r,o,s,u,l,d,h){return{value:t,root:r,parent:o,type:s,props:u,children:l,line:Ga,column:Ii,length:d,return:"",siblings:h}}function cr(t,r){return mc(za("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function pi(t){for(;t.root;)t=cr(t.root,{children:[t]});Po(t,t.siblings)}function W0(){return Ze}function $0(){return Ze=qt>0?rt(Mi,--qt):0,Ii--,Ze===10&&(Ii=1,Ga--),Ze}function un(){return Ze=qt<_g?rt(Mi,qt++):0,Ii++,Ze===10&&(Ii=1,Ga++),Ze}function Gr(){return rt(Mi,qt)}function _a(){return qt}function Wa(t,r){return Ti(Mi,t,r)}function vc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j0(t){return Ga=Ii=1,_g=Sn(Mi=t),qt=0,[]}function Y0(t){return Mi="",t}function Xu(t){return Ag(Wa(qt-1,Sc(t===91?t+2:t===40?t+1:t)))}function V0(t){for(;(Ze=Gr())&&Ze<33;)un();return vc(t)>2||vc(Ze)>3?"":" "}function K0(t,r){for(;--r&&un()&&!(Ze<48||Ze>102||Ze>57&&Ze<65||Ze>70&&Ze<97););return Wa(t,_a()+(r<6&&Gr()==32&&un()==32))}function Sc(t){for(;un();)switch(Ze){case t:return qt;case 34:case 39:t!==34&&t!==39&&Sc(Ze);break;case 40:t===41&&Sc(t);break;case 92:un();break}return qt}function X0(t,r){for(;un()&&t+Ze!==57;)if(t+Ze===84&&Gr()===47)break;return"/*"+Wa(r,qt-1)+"*"+Uc(t===47?t:un())}function Q0(t){for(;!vc(Gr());)un();return Wa(t,qt)}function Z0(t){return Y0(Ea("",null,null,null,[""],t=j0(t),0,[0],t))}function Ea(t,r,o,s,u,l,d,h,p){for(var v=0,m=0,S=d,_=0,R=0,O=0,I=1,C=1,G=1,z=0,K="",$=u,fe=l,L=s,j=K;C;)switch(O=z,z=un()){case 40:if(O!=108&&rt(j,S-1)==58){wa(j+=ve(Xu(z),"&","&\f"),"&\f",yg(v?h[v-1]:0))!=-1&&(G=-1);break}case 34:case 39:case 91:j+=Xu(z);break;case 9:case 10:case 13:case 32:j+=V0(O);break;case 92:j+=K0(_a()-1,7);continue;case 47:switch(Gr()){case 42:case 47:Po(b0(X0(un(),_a()),r,o,p),p);break;default:j+="/"}break;case 123*I:h[v++]=Sn(j)*G;case 125*I:case 59:case 0:switch(z){case 0:case 125:C=0;case 59+m:G==-1&&(j=ve(j,/\f/g,"")),R>0&&Sn(j)-S&&Po(R>32?cp(j+";",s,o,S-1,p):cp(ve(j," ","")+";",s,o,S-2,p),p);break;case 59:j+=";";default:if(Po(L=up(j,r,o,v,m,u,h,K,$=[],fe=[],S,l),l),z===123)if(m===0)Ea(j,r,L,L,$,l,S,h,fe);else switch(_===99&&rt(j,3)===110?100:_){case 100:case 108:case 109:case 115:Ea(t,L,L,s&&Po(up(t,L,L,0,0,u,h,K,u,$=[],S,fe),fe),u,fe,S,h,s?$:fe);break;default:Ea(j,L,L,L,[""],fe,0,h,fe)}}v=m=R=0,I=G=1,K=j="",S=d;break;case 58:S=1+Sn(j),R=O;default:if(I<1){if(z==123)--I;else if(z==125&&I++==0&&$0()==125)continue}switch(j+=Uc(z),z*I){case 38:G=m>0?1:(j+="\f",-1);break;case 44:h[v++]=(Sn(j)-1)*G,G=1;break;case 64:Gr()===45&&(j+=Xu(un())),_=Gr(),m=S=Sn(K=j+=Q0(_a())),z++;break;case 45:O===45&&Sn(j)==2&&(I=0)}}return l}function up(t,r,o,s,u,l,d,h,p,v,m,S){for(var _=u-1,R=u===0?l:[""],O=wg(R),I=0,C=0,G=0;I<s;++I)for(var z=0,K=Ti(t,_+1,_=yg(C=d[I])),$=t;z<O;++z)($=Ag(C>0?R[z]+" "+K:ve(K,/&\f/g,R[z])))&&(p[G++]=$);return za(t,r,o,u===0?xa:h,p,v,m,S)}function b0(t,r,o,s){return za(t,r,o,vg,Uc(W0()),Ti(t,2,-2),0,s)}function cp(t,r,o,s,u){return za(t,r,o,Mc,Ti(t,0,s),Ti(t,s+1,-1),s,u)}function Eg(t,r,o){switch(G0(t,r)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 4789:return Oo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Oo+t+Le+t+t;case 5936:switch(rt(t,r+11)){case 114:return ke+t+Le+ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Le+ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Le+ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ke+t+Le+t+t;case 6165:return ke+t+Le+"flex-"+t+t;case 5187:return ke+t+ve(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Le+"flex-$1$2")+t;case 5443:return ke+t+Le+"flex-item-"+ve(t,/flex-|-self/g,"")+(Fn(t,/flex-|baseline/)?"":Le+"grid-row-"+ve(t,/flex-|-self/g,""))+t;case 4675:return ke+t+Le+"flex-line-pack"+ve(t,/align-content|flex-|-self/g,"")+t;case 5548:return ke+t+Le+ve(t,"shrink","negative")+t;case 5292:return ke+t+Le+ve(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+ve(t,"-grow","")+ke+t+Le+ve(t,"grow","positive")+t;case 4554:return ke+ve(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return ve(ve(ve(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return ve(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return ve(ve(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4200:if(!Fn(t,/flex-|baseline/))return Le+"grid-column-align"+Ti(t,r)+t;break;case 2592:case 3360:return Le+ve(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(s,u){return r=u,Fn(s.props,/grid-\w+-end/)})?~wa(t+(o=o[r].value),"span",0)?t:Le+ve(t,"-start","")+t+Le+"grid-row-span:"+(~wa(o,"span",0)?Fn(o,/\d+/):+Fn(o,/\d+/)-+Fn(t,/\d+/))+";":Le+ve(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(s){return Fn(s.props,/grid-\w+-start/)})?t:Le+ve(ve(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ve(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sn(t)-1-r>6)switch(rt(t,r+1)){case 109:if(rt(t,r+4)!==45)break;case 102:return ve(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Oo+(rt(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~wa(t,"stretch",0)?Eg(ve(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return ve(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,u,l,d,h,p,v){return Le+u+":"+l+v+(d?Le+u+"-span:"+(h?p:+p-+l)+v:"")+t});case 4949:if(rt(t,r+6)===121)return ve(t,":",":"+ke)+t;break;case 6444:switch(rt(t,rt(t,14)===45?18:11)){case 120:return ve(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ke+(rt(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Le+"$2box$3")+t;case 100:return ve(t,":",":"+Le)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ve(t,"scroll-","scroll-snap-")+t}return t}function Pa(t,r){for(var o="",s=0;s<t.length;s++)o+=r(t[s],s,t,r)||"";return o}function q0(t,r,o,s){switch(t.type){case x0:if(t.children.length)break;case H0:case Mc:return t.return=t.return||t.value;case vg:return"";case Sg:return t.return=t.value+"{"+Pa(t.children,s)+"}";case xa:if(!Sn(t.value=t.props.join(",")))return""}return Sn(o=Pa(t.children,s))?t.return=t.value+"{"+o+"}":""}function J0(t){var r=wg(t);return function(o,s,u,l){for(var d="",h=0;h<r;h++)d+=t[h](o,s,u,l)||"";return d}}function eS(t){return function(r){r.root||(r=r.return)&&t(r)}}function tS(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case Mc:t.return=Eg(t.value,t.length,o);return;case Sg:return Pa([cr(t,{value:ve(t.value,"@","@"+ke)})],s);case xa:if(t.length)return z0(o=t.props,function(u){switch(Fn(u,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":pi(cr(t,{props:[ve(u,/:(read-\w+)/,":"+Oo+"$1")]})),pi(cr(t,{props:[u]})),mc(t,{props:lp(o,s)});break;case"::placeholder":pi(cr(t,{props:[ve(u,/:(plac\w+)/,":"+ke+"input-$1")]})),pi(cr(t,{props:[ve(u,/:(plac\w+)/,":"+Oo+"$1")]})),pi(cr(t,{props:[ve(u,/:(plac\w+)/,Le+"input-$1")]})),pi(cr(t,{props:[u]})),mc(t,{props:lp(o,s)});break}return""})}}var nS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Ci=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",Tg="active",Ig="data-styled-version",$a="6.1.13",Fc=`/*!sc*/
`,Na=typeof window<"u"&&"HTMLElement"in window,rS=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),iS={},ja=Object.freeze([]),Ri=Object.freeze({});function Cg(t,r,o){return o===void 0&&(o=Ri),t.theme!==o.theme&&t.theme||r||o.theme}var Rg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),oS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sS=/(^-|-$)/g;function dp(t){return t.replace(oS,"-").replace(sS,"")}var aS=/(a)(d)/gi,ia=52,fp=function(t){return String.fromCharCode(t+(t>25?39:97))};function yc(t){var r,o="";for(r=Math.abs(t);r>ia;r=r/ia|0)o=fp(r%ia)+o;return(fp(r%ia)+o).replace(aS,"$1-$2")}var Qu,Pg=5381,Ai=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},Ng=function(t){return Ai(Pg,t)};function kg(t){return yc(Ng(t)>>>0)}function lS(t){return t.displayName||t.name||"Component"}function Zu(t){return typeof t=="string"&&!0}var Og=typeof Symbol=="function"&&Symbol.for,Dg=Og?Symbol.for("react.memo"):60115,uS=Og?Symbol.for("react.forward_ref"):60112,cS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Mg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fS=((Qu={})[uS]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qu[Dg]=Mg,Qu);function hp(t){return("type"in(r=t)&&r.type.$$typeof)===Dg?Mg:"$$typeof"in t?fS[t.$$typeof]:cS;var r}var hS=Object.defineProperty,pS=Object.getOwnPropertyNames,pp=Object.getOwnPropertySymbols,gS=Object.getOwnPropertyDescriptor,mS=Object.getPrototypeOf,gp=Object.prototype;function Ug(t,r,o){if(typeof r!="string"){if(gp){var s=mS(r);s&&s!==gp&&Ug(t,s,o)}var u=pS(r);pp&&(u=u.concat(pp(r)));for(var l=hp(t),d=hp(r),h=0;h<u.length;++h){var p=u[h];if(!(p in dS||o&&o[p]||d&&p in d||l&&p in l)){var v=gS(r,p);try{hS(t,p,v)}catch{}}}}return t}function Pi(t){return typeof t=="function"}function Lc(t){return typeof t=="object"&&"styledComponentId"in t}function Br(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Ac(t,r){if(t.length===0)return"";for(var o=t[0],s=1;s<t.length;s++)o+=t[s];return o}function Bo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function wc(t,r,o){if(o===void 0&&(o=!1),!o&&!Bo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)t[s]=wc(t[s],r[s]);else if(Bo(r))for(var s in r)t[s]=wc(t[s],r[s]);return t}function Bc(t,r){Object.defineProperty(t,"toString",{value:r})}function Xo(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var vS=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,u=s.length,l=u;r>=l;)if((l<<=1)<0)throw Xo(16,"".concat(r));this.groupSizes=new Uint32Array(l),this.groupSizes.set(s),this.length=l;for(var d=u;d<l;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(r+1),p=(d=0,o.length);d<p;d++)this.tag.insertRule(h,o[d])&&(this.groupSizes[r]++,h++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),u=s+o;this.groupSizes[r]=0;for(var l=s;l<u;l++)this.tag.deleteRule(s)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],u=this.indexOfGroup(r),l=u+s,d=u;d<l;d++)o+="".concat(this.tag.getRule(d)).concat(Fc);return o},t}(),Ta=new Map,ka=new Map,Ia=1,oa=function(t){if(Ta.has(t))return Ta.get(t);for(;ka.has(Ia);)Ia++;var r=Ia++;return Ta.set(t,r),ka.set(r,t),r},SS=function(t,r){Ia=r+1,Ta.set(t,r),ka.set(r,t)},yS="style[".concat(Ci,"][").concat(Ig,'="').concat($a,'"]'),AS=new RegExp("^".concat(Ci,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wS=function(t,r,o){for(var s,u=o.split(","),l=0,d=u.length;l<d;l++)(s=u[l])&&t.registerName(r,s)},_S=function(t,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(Fc),u=[],l=0,d=s.length;l<d;l++){var h=s[l].trim();if(h){var p=h.match(AS);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(SS(m,v),wS(t,m,p[3]),t.getTag().insertRules(v,u)),u.length=0}else u.push(h)}}},mp=function(t){for(var r=document.querySelectorAll(yS),o=0,s=r.length;o<s;o++){var u=r[o];u&&u.getAttribute(Ci)!==Tg&&(_S(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function ES(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Fg=function(t){var r=document.head,o=t||r,s=document.createElement("style"),u=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Ci,"]")));return p[p.length-1]}(o),l=u!==void 0?u.nextSibling:null;s.setAttribute(Ci,Tg),s.setAttribute(Ig,$a);var d=ES();return d&&s.setAttribute("nonce",d),o.insertBefore(s,l),s},TS=function(){function t(r){this.element=Fg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,u=0,l=s.length;u<l;u++){var d=s[u];if(d.ownerNode===o)return d}throw Xo(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),IS=function(){function t(r){this.element=Fg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),CS=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),vp=Na,RS={isServer:!Na,useCSSOMInjection:!rS},Oa=function(){function t(r,o,s){r===void 0&&(r=Ri),o===void 0&&(o={});var u=this;this.options=St(St({},RS),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&Na&&vp&&(vp=!1,mp(this)),Bc(this,function(){return function(l){for(var d=l.getTag(),h=d.length,p="",v=function(S){var _=function(G){return ka.get(G)}(S);if(_===void 0)return"continue";var R=l.names.get(_),O=d.getGroup(S);if(R===void 0||!R.size||O.length===0)return"continue";var I="".concat(Ci,".g").concat(S,'[id="').concat(_,'"]'),C="";R!==void 0&&R.forEach(function(G){G.length>0&&(C+="".concat(G,","))}),p+="".concat(O).concat(I,'{content:"').concat(C,'"}').concat(Fc)},m=0;m<h;m++)v(m);return p}(u)})}return t.registerId=function(r){return oa(r)},t.prototype.rehydrate=function(){!this.server&&Na&&mp(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(St(St({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,u=o.target;return o.isServer?new CS(u):s?new TS(u):new IS(u)}(this.options),new vS(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(oa(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},t.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(oa(r),s)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(oa(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),PS=/&/g,NS=/^\s*\/\/.*$/gm;function Lg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Lg(o.children,r)),o})}function kS(t){var r,o,s,u=Ri,l=u.options,d=l===void 0?Ri:l,h=u.plugins,p=h===void 0?ja:h,v=function(_,R,O){return O.startsWith(o)&&O.endsWith(o)&&O.replaceAll(o,"").length>0?".".concat(r):_},m=p.slice();m.push(function(_){_.type===xa&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(PS,o).replace(s,v))}),d.prefix&&m.push(tS),m.push(q0);var S=function(_,R,O,I){R===void 0&&(R=""),O===void 0&&(O=""),I===void 0&&(I="&"),r=I,o=R,s=new RegExp("\\".concat(o,"\\b"),"g");var C=_.replace(NS,""),G=Z0(O||R?"".concat(O," ").concat(R," { ").concat(C," }"):C);d.namespace&&(G=Lg(G,d.namespace));var z=[];return Pa(G,J0(m.concat(eS(function(K){return z.push(K)})))),z};return S.hash=p.length?p.reduce(function(_,R){return R.name||Xo(15),Ai(_,R.name)},Pg).toString():"",S}var OS=new Oa,_c=kS(),Bg=yn.createContext({shouldForwardProp:void 0,styleSheet:OS,stylis:_c});Bg.Consumer;yn.createContext(void 0);function Ec(){return Ae.useContext(Bg)}var DS=function(){function t(r,o){var s=this;this.inject=function(u,l){l===void 0&&(l=_c);var d=s.name+l.hash;u.hasNameForId(s.id,d)||u.insertRules(s.id,d,l(s.rules,d,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Bc(this,function(){throw Xo(12,String(s.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=_c),this.name+r.hash},t}(),MS=function(t){return t>="A"&&t<="Z"};function Sp(t){for(var r="",o=0;o<t.length;o++){var s=t[o];if(o===1&&s==="-"&&t[0]==="-")return t;MS(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var Hg=function(t){return t==null||t===!1||t===""},xg=function(t){var r,o,s=[];for(var u in t){var l=t[u];t.hasOwnProperty(u)&&!Hg(l)&&(Array.isArray(l)&&l.isCss||Pi(l)?s.push("".concat(Sp(u),":"),l,";"):Bo(l)?s.push.apply(s,Lo(Lo(["".concat(u," {")],xg(l),!1),["}"],!1)):s.push("".concat(Sp(u),": ").concat((r=u,(o=l)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in nS||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function pr(t,r,o,s){if(Hg(t))return[];if(Lc(t))return[".".concat(t.styledComponentId)];if(Pi(t)){if(!Pi(l=t)||l.prototype&&l.prototype.isReactComponent||!r)return[t];var u=t(r);return pr(u,r,o,s)}var l;return t instanceof DS?o?(t.inject(o,s),[t.getName(s)]):[t]:Bo(t)?xg(t):Array.isArray(t)?Array.prototype.concat.apply(ja,t.map(function(d){return pr(d,r,o,s)})):[t.toString()]}function Gg(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Pi(o)&&!Lc(o))return!1}return!0}var US=Ng($a),FS=function(){function t(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Gg(r),this.componentId=o,this.baseHash=Ai(US,o),this.baseStyle=s,Oa.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,s){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Br(u,this.staticRulesId);else{var l=Ac(pr(this.rules,r,o,s)),d=yc(Ai(this.baseHash,l)>>>0);if(!o.hasNameForId(this.componentId,d)){var h=s(l,".".concat(d),void 0,this.componentId);o.insertRules(this.componentId,d,h)}u=Br(u,d),this.staticRulesId=d}else{for(var p=Ai(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var S=this.rules[m];if(typeof S=="string")v+=S;else if(S){var _=Ac(pr(S,r,o,s));p=Ai(p,_+m),v+=_}}if(v){var R=yc(p>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,s(v,".".concat(R),void 0,this.componentId)),u=Br(u,R)}}return u},t}(),Hc=yn.createContext(void 0);Hc.Consumer;var bu={};function LS(t,r,o){var s=Lc(t),u=t,l=!Zu(t),d=r.attrs,h=d===void 0?ja:d,p=r.componentId,v=p===void 0?function($,fe){var L=typeof $!="string"?"sc":dp($);bu[L]=(bu[L]||0)+1;var j="".concat(L,"-").concat(kg($a+L+bu[L]));return fe?"".concat(fe,"-").concat(j):j}(r.displayName,r.parentComponentId):p,m=r.displayName,S=m===void 0?function($){return Zu($)?"styled.".concat($):"Styled(".concat(lS($),")")}(t):m,_=r.displayName&&r.componentId?"".concat(dp(r.displayName),"-").concat(r.componentId):r.componentId||v,R=s&&u.attrs?u.attrs.concat(h).filter(Boolean):h,O=r.shouldForwardProp;if(s&&u.shouldForwardProp){var I=u.shouldForwardProp;if(r.shouldForwardProp){var C=r.shouldForwardProp;O=function($,fe){return I($,fe)&&C($,fe)}}else O=I}var G=new FS(o,_,s?u.componentStyle:void 0);function z($,fe){return function(L,j,Oe){var Be=L.attrs,be=L.componentStyle,ot=L.defaultProps,We=L.foldedComponentIds,He=L.styledComponentId,_e=L.target,Re=yn.useContext(Hc),pe=Ec(),ie=L.shouldForwardProp||pe.shouldForwardProp,H=Cg(j,Re,ot)||Ri,Y=function(ye,oe,ge){for(var de,X=St(St({},oe),{className:void 0,theme:ge}),ne=0;ne<ye.length;ne+=1){var Ne=Pi(de=ye[ne])?de(X):de;for(var ce in Ne)X[ce]=ce==="className"?Br(X[ce],Ne[ce]):ce==="style"?St(St({},X[ce]),Ne[ce]):Ne[ce]}return oe.className&&(X.className=Br(X.className,oe.className)),X}(Be,j,H),x=Y.as||_e,E={};for(var D in Y)Y[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&Y.theme===H||(D==="forwardedAs"?E.as=Y.forwardedAs:ie&&!ie(D,x)||(E[D]=Y[D]));var te=function(ye,oe){var ge=Ec(),de=ye.generateAndInjectStyles(oe,ge.styleSheet,ge.stylis);return de}(be,Y),q=Br(We,He);return te&&(q+=" "+te),Y.className&&(q+=" "+Y.className),E[Zu(x)&&!Rg.has(x)?"class":"className"]=q,E.ref=Oe,Ae.createElement(x,E)}(K,$,fe)}z.displayName=S;var K=yn.forwardRef(z);return K.attrs=R,K.componentStyle=G,K.displayName=S,K.shouldForwardProp=O,K.foldedComponentIds=s?Br(u.foldedComponentIds,u.styledComponentId):"",K.styledComponentId=_,K.target=s?u.target:t,Object.defineProperty(K,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=s?function(fe){for(var L=[],j=1;j<arguments.length;j++)L[j-1]=arguments[j];for(var Oe=0,Be=L;Oe<Be.length;Oe++)wc(fe,Be[Oe],!0);return fe}({},u.defaultProps,$):$}}),Bc(K,function(){return".".concat(K.styledComponentId)}),l&&Ug(K,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),K}function yp(t,r){for(var o=[t[0]],s=0,u=r.length;s<u;s+=1)o.push(r[s],t[s+1]);return o}var Ap=function(t){return Object.assign(t,{isCss:!0})};function zg(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Pi(t)||Bo(t))return Ap(pr(yp(ja,Lo([t],r,!0))));var s=t;return r.length===0&&s.length===1&&typeof s[0]=="string"?pr(s):Ap(pr(yp(s,r)))}function Tc(t,r,o){if(o===void 0&&(o=Ri),!r)throw Xo(1,r);var s=function(u){for(var l=[],d=1;d<arguments.length;d++)l[d-1]=arguments[d];return t(r,o,zg.apply(void 0,Lo([u],l,!1)))};return s.attrs=function(u){return Tc(t,r,St(St({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},s.withConfig=function(u){return Tc(t,r,St(St({},o),u))},s}var Wg=function(t){return Tc(LS,t)},_n=Wg;Rg.forEach(function(t){_n[t]=Wg(t)});var BS=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=Gg(r),Oa.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,s,u){var l=u(Ac(pr(this.rules,o,s,u)),""),d=this.componentId+r;s.insertRules(d,d,l)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,s,u){r>2&&Oa.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,u)},t}();function HS(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=zg.apply(void 0,Lo([t],r,!1)),u="sc-global-".concat(kg(JSON.stringify(s))),l=new BS(s,u),d=function(p){var v=Ec(),m=yn.useContext(Hc),S=yn.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&h(S,p,v.styleSheet,m,v.stylis),yn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(S,p,v.styleSheet,m,v.stylis),function(){return l.removeStyles(S,v.styleSheet)}},[S,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,S,_){if(l.isStatic)l.renderStyles(p,iS,m,_);else{var R=St(St({},v),{theme:Cg(v,S,d.defaultProps)});l.renderStyles(p,R,m,_)}}return yn.memo(d)}function $g(t,r){var o=Ae.useRef(null),s=Ae.useRef(!1),u=Ae.useRef(t);u.current=t;var l=Ae.useCallback(function(h){s.current&&(u.current(h),o.current=requestAnimationFrame(l))},[]),d=Ae.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(l))},function(){return s.current}]},[]);return Ae.useEffect(function(){return d[0]},[]),d}function xS(t,r,o,s,u){var d;(d=t.onExit)==null||d.call(t,s,r);const l=u.find(({id:h})=>h===r);return l!=null&&l.onEnter?l.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function GS(t,r){return r.find(({id:o})=>o===t)}function zS(t,r){return t!==r}function WS(t){console.warn(`No handler found for state: ${t}`)}const Do="bushGrowing",Lr="bushFull",Ca="bushSpreading",Ho="bushDying",Qt=24,Zt=10,Hr=3e3,xr=3e3,xc=2,$S=5,jS=3,YS=12,VS=940,KS=.7,Ic=20,wp=90,jg=45,Yg=240,Vg=10,xo=80,XS=3,wo=5,Jt=150,Gc=Jt*.8,QS=Jt*.2,yt=Jt*.95,Go=30,Kg=10,ZS=10,bS=.5,dt=30,mr=dt*.75,Xg=50,qS=20,JS=xo*.8,ey=.7,ty=16,Ln=40,ny=24,zc=16,ry=72/3,_p=24,iy=1.25,oy=1.5,Ya=Jt*.6,Wc=50,sy=1,ay=350,Qg=xo*.65,ly=80,uy=50,cy=1,dy=128,Zg=10,Ep=100,fy=35,Va=dt,bg=.5,qg=2.5,hy=5,py=.5,gy=1.5,my=.1,vy=.5,Sy=1.5,yy=.25,Ay=2.5,wy=45,_y=.05,zo=5,Ey=.5,Tp=100,Ty=300,Ka=30,Wo=1,Ip=Jt*.6,Iy=Jt*.25,Cy=Jt*.7,Ry=Jt*.8,Jg=100,Py=250,Ny=120,ky=2,Oy=400,Dy=1e3,My=Jt*.85,Uy=100,Fy=3,Ly=96,By=24,Hy=600,em=600,xy=1,Gy=24,zy=1,Wy=.5,Cp=24,Cc=12,Rp=40,$y=.35,jy=24,Pp=500,Np=24,Yy=1500,qu=500,Vy=400,Ky=10,Xy=-5,Qy=1.5,Zy=1.2,by=10,qy=150,Jy=200,eA=100,tA=100,nA=.7,rA=300,iA=100,oA=120,kp=300,Da=10,tm=250,Rc=12,Xa=mr*1.2,nm=10,sA=20,rm=.15,im=200,cn=30,$c=cn*.6,jc="#4CAF50",om="#FF5722",sm="#9C27B0",aA="#2196F3",am="#FFC107",lA="#FFD700",lm="#DC143C",Yc="#FFFFFF",Vc=[5,5],Qa=5,Ni=15,uA=20,cA=16,dA=10,fA=16,hA=16,Op=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],Dp=8,pA="#FFFFFF",dr=18,kt=15,gA="rgba(0, 0, 0, 0.7)",mA=4,sr=150,Bt=15,Mn=10,wi="#555",vA="#f44336",SA="#4CAF50",yA="#2196F3",AA="#FFC107",sa=16,wA=9,Dr=32,aa=28,_A=10,EA=8,TA=8,IA=8,la=28,ua=40,CA="rgba(255, 215, 0, 0.7)",RA="rgba(0, 0, 0, 0.3)",ar=10,Mp=8,Ju=11,lr=20,ec=40,Up=5,PA=10,NA="#FFA500",kA="#808080",_i=120,OA=30,DA=20,_o="#2d3748",Ma="#ffffff",tc="#4a5568",MA=5,UA="#3a445892",FA="rgba(0, 0, 0, 0.8)",LA="#FFFFFF",Fp=14,Lp=8,Bp=-15,BA=60,HA=-50,xA=10,nc=12,Hp=10,GA="rgba(0, 0, 0, 0.5)",zA="#4CAF50",WA="#F44336",$A="#FFC107",jA="rgba(255, 255, 255, 0.2)",xp="#FFFFFF",YA="#FF6B6B",VA=5,um=30,Eo=50,ca=8,Gp=10,KA="rgba(0, 0, 0, 0.5)",XA="#FFFFFF",QA=33,ZA=400,bA=20,qA=10,JA="rgba(0, 0, 0, 0.7)",e1="#FFFFFF",rc=20,zp=16,t1=.5,Wp=5,cm="#FFD700",n1=40,dm=4,r1=3,i1=5,bt=1,No=3,o1=70,$p=600,s1=1.5,fm=.1,a1=15,l1=5e3,Mr=80,da=10;function ft(t,r,o,s,u){const l={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:s,entityId:u};return t.visualEffects.push(l),t.nextVisualEffectId++,l.id}var Ie=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t[t.CallToFollow=16]="CallToFollow",t[t.AutopilotMoveTarget=17]="AutopilotMoveTarget",t))(Ie||{}),Bn=(t=>(t.Berry="berry",t.Meat="meat",t))(Bn||{});const hm={berry:"🍓",meat:"🥩"},u1={id:Do,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/Zt);return o.age+=u,o.age>=o.lifespan?{nextState:Ho,data:{...t,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(ft(s.gameState,Ie.BushClaimLost,o.position,bt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=YS&&o.food.length<o.maxFood&&(o.food.push({type:Bn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Lr,data:{...t,enteredAt:s.gameState.time,previousState:Do}}:{nextState:Do,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},c1={id:Lr,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Qt/Zt);return o.age+=u,o.age>=o.lifespan?{nextState:Ho,data:{...t,enteredAt:s.gameState.time,previousState:Lr}}:o.food.length<o.maxFood?{nextState:Do,data:{...t,enteredAt:s.gameState.time,previousState:Lr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(ft(s.gameState,Ie.BushClaimLost,o.position,bt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=wp&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=wp&&Math.random()<o.spreadChance)?{nextState:Ca,data:{...t,enteredAt:s.gameState.time,previousState:Lr}}:{nextState:Lr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function gr(t,r){return{x:t.x+r.x,y:t.y+r.y}}function pm(t,r){return{x:t.x-r.x,y:t.y-r.y}}function An(t,r){return{x:t.x*r,y:t.y*r}}function ki(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function en(t){const r=ki(t);return r===0?{x:0,y:0}:An(t,1/r)}function d1(t,r){return ki(pm(t,r))}function Kc(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function Xc(t){if(t.length===0)return{x:0,y:0};const r=t.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/t.length,y:r.y/t.length}}function Gt(t,r,o,s){let u=r.x-t.x,l=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(l)>s/2&&(l=l-Math.sign(l)*s),{x:u,y:l}}function dn(t,r,o){const s=Gt(t,r,o.width,o.height);return en(s)}function le(t,r,o,s){const u=Gt(t,r,o,s);return ki(u)}function f1(t,r){return t.x*r.x+t.y*r.y}function h1(t,r){const o=f1(t,r),s=ki(t),u=ki(r);if(s===0||u===0)return 0;const l=Math.max(-1,Math.min(1,o/(s*u)));return Math.acos(l)}function p1(t,r,o){const s=Math.max(0,Math.min(1,o)),u={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},l={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},d=Math.round(u.r+(l.r-u.r)*s),h=Math.round(u.g+(l.g-u.g)*s),p=Math.round(u.b+(l.b-u.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(d)}${v(h)}${v(p)}`}var ue=(t=>(t.GatherFood="GatherFood",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.PlantBush="PlantBush",t.CallToAttack="CallToAttack",t.TribeSplit="TribeSplit",t.FollowMe="FollowMe",t.FeedChildren="FeedChildren",t.AutopilotMove="AutopilotMove",t.AutopilotGather="AutopilotGather",t.AutopilotAttack="AutopilotAttack",t.AutopilotProcreate="AutopilotProcreate",t.AutopilotPlant="AutopilotPlant",t.AutopilotFeedChildren="AutopilotFeedChildren",t.AutopilotFollowMe="AutopilotFollowMe",t))(ue||{});const Za={GatherFood:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",PlantBush:"🌱",CallToAttack:"📢",TribeSplit:"🔱",FollowMe:"➡️",FeedChildren:"👨‍👧",AutopilotMove:"🎯",AutopilotGather:"👇",AutopilotAttack:"⚔️",AutopilotProcreate:"❤️",AutopilotPlant:"🌱",AutopilotFeedChildren:"👨‍👧",AutopilotFollowMe:"➡️"},gm={GatherFood:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",PlantBush:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FollowMe:"Follow Me",FeedChildren:"Feed",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChildren:"Feed",AutopilotFollowMe:"Follow"};var yi=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(yi||{});const To={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var he=(t=>(t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t.ToggleProcreationBehavior="ToggleProcreationBehavior",t.TogglePlantingBehavior="TogglePlantingBehavior",t.ToggleGatheringBehavior="ToggleGatheringBehavior",t.ToggleAttackBehavior="ToggleAttackBehavior",t.ToggleCallToAttackBehavior="ToggleCallToAttackBehavior",t.ToggleFeedChildrenBehavior="ToggleFeedChildrenBehavior",t.ToggleFollowMeBehavior="ToggleFollowMeBehavior",t.FastForward="FastForward",t))(he||{});const ic=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,g1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,m1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,oc=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,v1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,S1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,y1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,A1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,w1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,_1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var ze=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.TribeSplit=9]="TribeSplit",t[t.CallToFollow=10]="CallToFollow",t[t.GameOver=11]="GameOver",t[t.ButtonClick=12]="ButtonClick",t[t.SoundTrack1=13]="SoundTrack1",t))(ze||{});const E1=new Map([[0,ic],[1,g1],[2,m1],[3,oc],[4,v1],[5,S1],[6,y1],[11,A1],[12,w1],[7,ic],[8,ic],[9,oc],[10,oc],[13,_1]]);let Io,$o;function T1(){if(!(typeof window>"u"))return $o}function Qc(){if(!(typeof window>"u"))return!Io&&typeof window.AudioContext=="function"&&(Io=new window.AudioContext,$o=Io.createGain(),$o.connect(Io.destination),Mo(.1,!1)),Io}function Mo(t,r){$o&&($o.gain.value=r?0:t/10)}const mm=new Map;let fa=!1,jp=!1;async function I1(){if(jp||fa)return;const t=Qc();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),fa=!0,console.log("Starting sound loading...");const r=[];E1.forEach((o,s)=>{const u=fetch(o).then(l=>{if(!l.ok)throw new Error(`Failed to fetch sound: ${o}`);return l.arrayBuffer()}).then(l=>t.decodeAudioData(l)).then(l=>{mm.set(s,l)}).catch(l=>{console.error(`Error loading sound ${ze[s]} from ${o}:`,l)});r.push(u)});try{await Promise.all(r),jp=!0,fa=!1,console.log("All sounds loaded successfully.")}catch(o){fa=!1,console.error("An error occurred while loading sounds:",o)}}const Uo=new Map;function Zc(t,r){const o=Qc(),s=T1();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const u=mm.get(t);if(!u){console.warn(`Sound buffer not found for type: ${ze[t]}`);return}if(r!=null&&r.trackId&&Uo.has(r.trackId))return;const l=o.createBufferSource();l.buffer=u,l.loop=(r==null?void 0:r.loop)??!1;const d=o.createGain(),h=o.createStereoPanner();let p=d;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=Gt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=le(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>$p)return;const S=1-Math.pow(m/$p,s1);d.gain.value=Math.max(0,S);const _=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(_)?0:_,d.connect(h),p=h}else{const v=t===ze.GameOver?.4:t===ze.SoundTrack1?1:.2;d.gain.value=v}l.connect(p),p.connect(s),l.start(0),r!=null&&r.trackId&&(Uo.set(r.trackId,{sourceNode:l,gainNode:d}),l.onended=()=>{Uo.delete(r.trackId)})}function Yp(t,r=1){const o=Uo.get(t),s=Qc();if(o&&s){const{sourceNode:u,gainNode:l}=o,d=s.currentTime;l.gain.setValueAtTime(l.gain.value,d),l.gain.linearRampToValueAtTime(0,d+r),u.stop(d+r),u.onended=null,Uo.delete(t)}}function ut(t,r,o){const s=xt(t.gameState);s&&Zc(r,{position:o,listenerPosition:s.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}function vm(t,r){const o=[],s=t;if(r.food.length>0&&r.hunger>Gc&&o.push({type:ue.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const d=ct(r,t,"berryBush",dt,v=>v.food.length>0),h=ct(r,t,"humanCorpse",dt,v=>v.food.length>0);let p=null;d&&h?p=le(r.position,d.position,t.mapDimensions.width,t.mapDimensions.height)<=le(r.position,h.position,t.mapDimensions.width,t.mapDimensions.height)?d:h:p=d||h,p&&o.push({type:ue.GatherFood,action:"gathering",key:"e",targetEntity:p})}const u=ct(r,t,"human",dt,d=>{const h=d;return(h.id!==r.id&&h.gender!==r.gender&&h.isAdult&&r.isAdult&&h.hunger<yt&&r.hunger<yt&&(h.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=Ln:!r.isPregnant&&r.age<=Ln))??!1});u&&o.push({type:ue.Procreate,action:"procreating",key:"r",targetEntity:u});const l=ct(r,t,"human",Va,d=>d.id!==r.id&&d.leaderId!==r.leaderId);return l&&o.push({type:ue.Attack,action:"attacking",key:"q",targetEntity:l}),r.food.filter(d=>d.type===Bn.Berry).length>=zo&&o.push({type:ue.PlantBush,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&td(r.position,r.id,s,tm).length>0&&o.push({type:ue.CallToAttack,action:"callingToAttack",key:"v"}),Jc(r,t).canSplit&&o.push({type:ue.TribeSplit,action:"tribeSplitting",key:"k"}),r.leaderId===r.id&&!r.isCallingToFollow&&o.push({type:ue.FollowMe,action:"following",key:"c"}),o}function C1(t,r,o){return r.search.human.byRadius(t.position,o).filter(u=>{var l;return u.activeAction==="procreating"&&u.gender===t.gender&&typeof u.target=="number"&&((l=t.partnerIds)==null?void 0:l.includes(u.target))})[0]}function R1(t,r,o){if(!t.leaderId)return;const s=r,u=s.search.berryBush.byRadius(t.position,o).filter(l=>l.ownerId===t.id);for(const l of u)if(l.claimedUntil&&r.time<l.claimedUntil){const d=s.search.human.byRadius(l.position,dt);for(const h of d)if(!Pc(h,t)&&h.activeAction==="gathering"&&h.target===l.id)return h}}function P1(t,r,o){const s=Ua(t,r),u=r;for(const l of s){if(le(t.position,l.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=u.search.human.byProperty("attackTargetId",l.id);for(const p of h)if(p.leaderId!==t.leaderId)return{familyMember:l,aggressor:p}}}function N1(t,r){const s=r.search.human.byRadius(t.position,rA);let u,l=1/0;for(const d of s){if(d.id===t.id||d.hitpoints<=0||d.hitpoints/d.maxHitpoints>nA||ym(t,d,r))continue;const h=le(t.position,d.position,r.mapDimensions.width,r.mapDimensions.height);h<l&&(l=h,u=d)}return u}function bc(t,r,o,s){const u=Math.random()*Math.PI*2,l=Math.sqrt(Math.random())*r,d={x:Math.cos(u)*l,y:Math.sin(u)*l},h=gr(t,d);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function Oi(t,r,o,s){const u=r,l={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},d=[...u.search.human.byRect(l),...u.search.berryBush.byRect(l),...u.search.humanCorpse.byRect(l)];for(const h of d){if(s!==void 0&&h.id===s)continue;if(le(t,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function qc(t,r,o,s,u){const l=r.mapDimensions.width,d=r.mapDimensions.height;if(!Oi(t,r,s,u))return t;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const S=m/v*2*Math.PI,_={x:Math.cos(S)*p,y:Math.sin(S)*p},R=gr(t,_),O={x:(R.x%l+l)%l,y:(R.y%d+d)%d};if(!Oi(O,r,s,u))return O}}return null}function k1(t,r){const o=ct(t,r,"berryBush",Tp,u=>u.ownerId===t.id);return o?qc(o.position,r,Tp,Ka,o.id):null}function ct(t,r,o,s,u){const l=r,d=s,h=l.search[o].byRadius(t.position,d);let p=null,v=d;for(const m of h){if(m.id===t.id||u&&!u(m))continue;const S=le(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);S<v&&(v=S,p=m)}return p}function Sm(t,r,o,s){return r.search[o].byRadius(t,s).length}function Vp(t,r,o){return r.search.human.byRadius(t.position,o).filter(l=>{if(l.id===t.id||l.gender===t.gender||!l.isAdult||l.hunger>=yt||(l.procreationCooldown||0)>0||l.gender==="female"&&l.isPregnant)return!1;const d=l.id===t.motherId||l.id===t.fatherId,h=t.id===l.motherId||t.id===l.fatherId;return!d&&!h})}function zr(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),s=(u,l)=>u.age!==l.age?l.age-u.age:u.id-l.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function xt(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function Ot(t,r){const o=t,s=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...s,...u]}function O1(t,r){var d;const s=r.search.human.byProperty("activeAction","attacking");let u=null,l=1/0;for(const h of s){if(h.attackTargetId!==t)continue;const p=le(h.position,((d=r.entities.entities.get(t))==null?void 0:d.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);p<l&&(u=h,l=p)}return u}function ym(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const l=o.entities.entities.get(t.motherId);if(l&&(l.motherId===r.id||l.fatherId===r.id))return!0}if(t.fatherId){const l=o.entities.entities.get(t.fatherId);if(l&&(l.motherId===r.id||l.fatherId===r.id))return!0}if(r.motherId){const l=o.entities.entities.get(r.motherId);if(l&&(l.motherId===t.id||l.fatherId===t.id))return!0}if(r.fatherId){const l=o.entities.entities.get(r.fatherId);if(l&&(l.motherId===t.id||l.fatherId===t.id))return!0}return!1}function Pc(t,r){var l,d;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,s=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((l=t.ancestorIds)==null?void 0:l.some(h=>r.ancestorIds.includes(h)))||((d=r.ancestorIds)==null?void 0:d.some(h=>t.ancestorIds.includes(h)));return o||s||u}function D1(t,r){const o=[];if(t.motherId){const s=r.entities.entities.get(t.motherId);s&&o.push(s)}if(t.fatherId){const s=r.entities.entities.get(t.fatherId);s&&o.push(s)}return o}function M1(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function U1(t,r){if(!t.isAdult&&t.fatherId){const o=r.entities.entities.get(t.fatherId);if(o&&o.type==="human")return o}return t.isAdult&&t.gender==="female"&&t.partnerIds&&t.partnerIds.length>0?M1(t,r):null}function Ua(t,r){var s;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(s=t.partnerIds)==null||s.forEach(u=>{const l=r.entities.entities.get(u);l&&o.add(l)}),Ot(r,t).forEach(u=>o.add(u)),Array.from(o)}let sc=0;function Nc(){const t=Op[sc];return sc=(sc+1)%Op.length,t}function F1(t,r,o){const s=o.mapDimensions.width,u=o.mapDimensions.height,l=r.radius*2;for(let d=Pp;d<s/2;d+=50)for(let h=0;h<10;h++){const p=bc(t,d,s,u);if(!(le(t,p,s,u)<Pp)&&!Oi(p,o,l,r.id))return p}return null}function Am(t,r){const o=new Map;function s(u){const l=Ot(r,u);for(const d of l)o.has(d.id)||(o.set(d.id,d),s(d))}return s(t),Array.from(o.values())}function Jc(t,r){if(!t.isAdult||t.gender!=="male"||t.leaderId===t.id||!t.leaderId)return{canSplit:!1};if(!t.leaderId)return{canSplit:!1};const o=r.entities.entities.get(t.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=zr(Ot(r,o));if(s&&s.id===t.id)return{canSplit:!1};const u=ed(t.leaderId,r);if(u.length<Rp)return{canSplit:!1};const d=Am(t,r).length+1,h=Math.min(u.length*$y,Rp);return{canSplit:d>=h,progress:d/h}}function wm(t,r){if(!Jc(t,r).canSplit)return;const o=Nc(),s=Am(t,r);t.leaderId=t.id,t.tribeBadge=o;for(const l of s)l.leaderId=t.id,l.tribeBadge=o;ut({gameState:r},ze.TribeSplit,t.position)}function ed(t,r){return r.search.human.byProperty("leaderId",t)}function td(t,r,o,s){return o.search.human.byRadius(t,s).filter(l=>l.leaderId!==r&&l.id!==r)}function L1(t,r,o){const s=o.search.human.byProperty("leaderId",t);let u=0;for(const l of s)l.attackTargetId===r&&u++;return u}function B1(t,r){var l;const o=new Map,s=Array.from(t.entities.entities.values()).filter(d=>d.type==="human");for(const d of s)d.leaderId&&(o.has(d.leaderId)||o.set(d.leaderId,{leaderId:d.leaderId,tribeBadge:d.tribeBadge||"?",members:[]}),(l=o.get(d.leaderId))==null||l.members.push(d));const u=Array.from(o.values()).map(d=>{const h=t.entities.entities.get(d.leaderId),p=d.members.filter(m=>m.isAdult).length,v=d.members.length-p;return{leaderId:d.leaderId,tribeBadge:d.tribeBadge,adultCount:p,childCount:v,isPlayerTribe:d.leaderId===r,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return u.sort((d,h)=>d.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(d.adultCount+d.childCount)),u}function Kp(t,r,o,s){const u=o.search.berryBush.byRadius(t,r),l=o.search.human.byRadius(t,r).filter(p=>p.leaderId!==s);let d=u.length*Ky;d+=l.length*Xy;let h;if(l.length>0){const p={};for(const m of l)m.leaderId&&(p[m.leaderId]=(p[m.leaderId]||0)+1);let v=0;for(const m in p)p[m]>v&&(v=p[m],h=parseInt(m,10))}return{score:d,occupyingTribeId:h}}function Xp(t){return t.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function _m(t){return Array.from(t.entities.entities.values()).filter(r=>r.type==="human")}function jo(t,r){const o=ed(t,r);if(o.length===0){const u=r.entities.entities.get(t);return u?u.position:{x:0,y:0}}const s=o.map(u=>u.position);return Xc(s)}function Qp(t,r){const s=[...Ua(t,r),t].map(u=>u.position);return Xc(s)}function Zp(t,r,o,s){const u=r.x-o.width/2,l=r.y-o.height/2,d=u+t.x,h=l+t.y,p=(d%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}function H1(t,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const u of s)if(d1(t,u.position)<u.radius)return u}function x1(t,r){if(t.id!==t.leaderId)return null;const o=r,s=jo(t.id,r),{score:u}=Kp(s,qu/2,o,t.id);let l=null,d=u;const h=Vy,p=Yy;for(let v=t.position.x-p;v<t.position.x+p;v+=h)for(let m=t.position.y-p;m<t.position.y+p;m+=h){const S={x:(v%r.mapDimensions.width+r.mapDimensions.width)%r.mapDimensions.width,y:(m%r.mapDimensions.height+r.mapDimensions.height)%r.mapDimensions.height};if(le(s,S,r.mapDimensions.width,r.mapDimensions.height)<qu*2)continue;const{score:R}=Kp(S,qu/2,o,t.id);R>d*Qy&&(d=R,l=S)}return l}const G1={id:Ca,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s,l=s.deltaTime*(Qt/Zt);if(o.age+=l,o.age>=o.lifespan)return{nextState:Ho,data:{...t,enteredAt:u.time,previousState:Ca}};const d=bc(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return Oi(d,u,15)||qa(u.entities,d,u.time),{nextState:Lr,data:{...t,enteredAt:u.time,previousState:Ca}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},z1={id:Ho,update:t=>({nextState:Ho,data:t}),onEnter:(t,r)=>(id(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},W1=[u1,c1,G1,z1],lt="humanIdle",Fr="humanMoving",ko="humanEating",ba="humanGathering",Yo="humanProcreating",Di="humanAttacking",Ra="humanPlanting",$1={id:lt,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Di,data:{...t,enteredAt:s.gameState.time,previousState:lt,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=Gc?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Fr,data:{...t,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="gathering"?{nextState:ba,data:{...t,enteredAt:s.gameState.time,previousState:lt,target:o.target}}:o.activeAction==="eating"?{nextState:ko,data:{...t,enteredAt:s.gameState.time,previousState:lt}}:o.activeAction==="planting"&&o.target?{nextState:Ra,data:{...t,enteredAt:s.gameState.time,previousState:lt,plantingSpot:o.target}}:{nextState:lt,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function Em(t){let r=ZS;return t.hunger>=Gc&&(r*=bS),t.age>=JS&&(r*=ey),t.movementSlowdown&&(r*=t.movementSlowdown.modifier),r}const ac=7.5;class j1{constructor(){me(this,"id",Fr)}update(r,o){var p;const{entity:s,updateContext:u}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Di,data:{...r,enteredAt:u.gameState.time,previousState:Fr,attackTargetId:s.attackTargetId,attackStartTime:u.gameState.time}};if(s.activeAction!=="moving")return{nextState:lt,data:{...r,enteredAt:u.gameState.time,previousState:Fr}};let l;if(typeof s.target=="object"?l=s.target:typeof s.target=="number"&&(l=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!l&&(s.direction.x!==0||s.direction.y!==0)&&(l={x:s.position.x+s.direction.x*ac*2,y:s.position.y+s.direction.y*ac*2}),!l)return{nextState:lt,data:{...r,enteredAt:u.gameState.time,previousState:Fr}};const d=Gt(s.position,l,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=en(d),s.acceleration=Em(s),le(s.position,l,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<ac?{nextState:lt,data:{...r,enteredAt:u.gameState.time,previousState:Fr}}:{nextState:Fr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const Y1=new j1,V1={id:ko,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:lt,data:{...t,enteredAt:s.gameState.time,previousState:ko}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>Go&&(o.hunger=Math.max(0,o.hunger-Go),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,ut(s,ze.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(ft(s.gameState,Ie.Eating,o.position,bt,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:lt,data:{...t,enteredAt:s.gameState.time,previousState:ko}}:{nextState:ko,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class K1{constructor(){me(this,"id",ba)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const X1=new K1,Q1=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),Z1=(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time<(t.procreationEndTime||0))return{nextState:Yo,data:t};const l=u.entities.entities.get(t.partnerId);if(l&&l.type==="human"&&!l.isPregnant&&o.hunger<yt&&l.hunger<yt&&!o.procreationCooldown&&!l.procreationCooldown){const d=o.gender==="female"?o:l.gender==="female"?l:void 0,h=o.gender==="male"?o:l.gender==="male"?l:void 0;d&&h&&(d.isPregnant=!0,d.gestationTime=ry,d.fatherId=h.id,o.procreationCooldown=_p,l.procreationCooldown=_p,ut(s,ze.Procreate,d.position))}return o.activeAction="idle",l&&(l.activeAction="idle"),{nextState:lt,data:{...t,enteredAt:u.time,previousState:Yo}}},b1={id:Yo,onEnter:Q1,update:Z1},q1={id:Di,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:lt,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:lt,data:{...t}};const s=le(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=Gt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=en(u),s>Va?r.entity.acceleration=Em(r.entity):r.entity.acceleration=0,{nextState:Di,data:t}}},J1={id:Ra,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time-t.enteredAt>=Ey){if(o.food.filter(h=>h.type===Bn.Berry).length>=zo){for(let p=0;p<zo;p++){const v=o.food.findIndex(m=>m.type===Bn.Berry);v>-1&&o.food.splice(v,1)}const h=qa(u.entities,t.plantingSpot,u.time);h.ownerId=o.id,h.claimedUntil=u.time+Yg}return{nextState:lt,data:{...t,enteredAt:u.time,previousState:Ra}}}return{nextState:Ra,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},ew=[$1,Y1,V1,X1,b1,q1,J1],bp=[...W1,...ew];function tw(t,r,o){const s=GS(t,bp);if(!s)return WS(t),[t,r];const{nextState:u,data:l}=s.update(r,o);return zS(t,u)?[u,xS(s,u,l,o,bp)]:[u,l]}function nw(t,r,o){const{gameState:s}=r,u=o*(Qt/Zt);if(t.isAdult=t.age>=zc,t.isCallingToAttack&&t.callToAttackEndTime&&s.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.isCallingToFollow&&t.callToFollowEndTime&&s.time>t.callToFollowEndTime&&(t.isCallingToFollow=!1,t.callToFollowEndTime=void 0),t.movementSlowdown&&s.time>t.movementSlowdown.endTime&&(t.movementSlowdown=void 0),t.hitpoints<t.maxHitpoints){const d=1-t.hunger/100*vy,h=my*d*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+h)}if(t.hunger+=o*(wo/(Qt/Zt)),t.hunger>o1&&(!t.lastHungerEffectTime||s.time-t.lastHungerEffectTime>No*2)&&(ft(s,Ie.Hunger,t.position,No,t.id),t.lastHungerEffectTime=s.time),t.age+=o/Vg,t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((wo*iy-wo)/(Qt/Zt)),(!t.lastPregnantEffectTime||s.time-t.lastPregnantEffectTime>No*3)&&(ft(s,Ie.Pregnant,t.position,No,t.id),t.lastPregnantEffectTime=s.time),t.gestationTime<=0&&(jw(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.isAdult?t.radius===$c&&(t.radius=cn):t.hunger+=o*((wo*oy-wo)/(Qt/Zt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const d=[];if(t.motherId){const h=s.entities.entities.get(t.motherId);h&&d.push(h)}if(t.fatherId){const h=s.entities.entities.get(t.fatherId);h&&d.push(h)}for(const h of d)if(h.age>=Qg&&h.hunger>=ly&&le(t.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=uy){t.food.pop(),h.hunger=Math.max(0,h.hunger-Go),t.feedParentCooldownTime=cy;break}}let l;if(t.hitpoints<=0?l="killed":t.hunger>=Jt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-Go)):l="hunger":t.age>=t.maxAge&&(l="oldAge"),l){if(t.leaderId===t.id){const d=zr(Ot(s,t));d?(d.leaderId=d.id,d.tribeBadge=t.tribeBadge,s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=d.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(t.isPlayer){const d=zr(Ot(s,t));d?(d.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=l)}$w(s.entities,t.position,t.gender,t.age,t.radius,t.id,s.time,t.food,t.hunger),id(s.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function rw(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/dy);const s=Math.floor(Zg*(1-t.decayProgress));t.food.length>s&&t.food.splice(s),t.decayProgress>=1&&t.food.length<=0&&id(r.gameState.entities,t.id)}var nd=(t=>(t[t.BehaviorTreeBased=0]="BehaviorTreeBased",t))(nd||{});function iw(t,r){if(t.aiBehaviorTree&&t.aiBlackboard){const o=t.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=Wo&&(t.aiBehaviorTree.execute(t,r,t.aiBlackboard),t.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle"}function ow(t,r){switch(t.aiBlackboard&&t.aiBlackboard.cleanupOldEntries(r.gameState.time),t.aiType){case nd.BehaviorTreeBased:default:iw(t,r);break}}function sw(t,r){t.forces.push(An(t.velocity,-.1));const o=An(en(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(t.velocity=An(t.velocity,.5))}),t.debuffs=t.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),t.velocity=gr(t.velocity,t.forces.reduce(gr,{x:0,y:0})),ki(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=gr(t.position,An(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?nw(t,r,r.deltaTime):t.type==="humanCorpse"&&rw(t,r),t.type==="human"&&ow(t,r),t.stateMachine&&(t.stateMachine=tw(...t.stateMachine,{entity:t,updateContext:r}))}var N=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t[t.NOT_EVALUATED=3]="NOT_EVALUATED",t))(N||{});const qp="Human Behavior",aw=1;class lw{constructor(){me(this,"nodeData",new Map);me(this,"pathStack",[]);me(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,u=this.pathStack.join(" > "),l=this.nodeData.get(u)??{path:u,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};l.totalTime+=s,l.callCount++,l.minTime=Math.min(l.minTime,s),l.maxTime=Math.max(l.maxTime,s),this.nodeData.set(u,l),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let u=s,l="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(qp);if(h){const p=h.totalTime*aw/100;u=s.filter(v=>v.totalTime>p&&v.path!==qp),l="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),l="--- Behavior Tree Full Report (Root Not Found) ---"}const d=u.sort((h,p)=>p.totalTime-h.totalTime);console.log(l),d.length>0?console.table(d.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const it=new lw;function wn(t){return Array.isArray(t)?t:[t,""]}class Ee{constructor(r,o,s=0){me(this,"name");me(this,"lastStatus");me(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&it.nodeStart(this.name);try{for(const u of this.children){const[l,d]=wn(u.execute(r,o,s));if(l!==N.SUCCESS)return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,l,o.gameState.time,this.depth,d),l}return this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,""),N.SUCCESS}finally{this.name&&it.nodeEnd()}}}class Wr{constructor(r,o,s=0){me(this,"name");me(this,"lastStatus");me(this,"depth");me(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&it.nodeStart(this.name);try{const u=this.runningChildIndex??0;for(let l=u;l<this.children.length;l++){const d=this.children[l],[h,p]=wn(d.execute(r,o,s));if(h!==N.FAILURE){if(h===N.SUCCESS)return delete this.runningChildIndex,this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,p),N.SUCCESS;if(h===N.RUNNING)return this.runningChildIndex=l,this.lastStatus=N.RUNNING,this.name&&s.recordNodeExecution(this.name,N.RUNNING,o.gameState.time,this.depth,p),N.RUNNING}}return delete this.runningChildIndex,this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,N.FAILURE,o.gameState.time,this.depth,""),N.FAILURE}finally{this.name&&it.nodeEnd()}}}class Se{constructor(r,o,s=0){me(this,"name");me(this,"lastStatus");me(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&it.nodeStart(this.name);try{const[u,l]=wn(this.action(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,l),u}finally{this.name&&it.nodeEnd()}}}class ae{constructor(r,o,s=0){me(this,"name");me(this,"lastStatus");me(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&it.nodeStart(this.name);try{const[u,l]=wn(this.condition(r,o,s)),d=u?N.SUCCESS:N.FAILURE;return this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,d,o.gameState.time,this.depth,l),d}finally{this.name&&it.nodeEnd()}}}class Jp{constructor(r,o,s,u=0){me(this,"name");me(this,"lastStatus");me(this,"depth");me(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){it.nodeStart(this.name);try{const u=o.gameState.time;let l=s.get(this.startTimeKey);const[d,h]=wn(this.child.execute(r,o,s));if(d===N.RUNNING){l===void 0&&(s.set(this.startTimeKey,u),l=u);const p=u-l;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=N.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m),this.lastStatus}this.lastStatus=N.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}return l!==void 0&&s.delete(this.startTimeKey),this.lastStatus=d,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{it.nodeEnd()}}}class Fa{constructor(r,o,s,u=0,l){me(this,"name");me(this,"lastStatus");me(this,"depth");me(this,"statusKey");me(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=l,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){it.nodeStart(this.name);try{const u=o.gameState.time,l=s.get(this.statusKey),d=s.get(this.timestampKey);if(l!==void 0&&d!==void 0){const m=u-d>this.cacheDurationHours,S=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&S){const _=(d+this.cacheDurationHours-u).toFixed(2),R=`Cache hit. Status: ${N[l]}. ${_}h left.`;return this.lastStatus=l,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,R),this.lastStatus}}const[h,p]=wn(this.child.execute(r,o,s));(h===N.SUCCESS||h===N.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,u)),this.lastStatus=h;const v=`Cache miss. Child returned ${N[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}finally{it.nodeEnd()}}}class Ui{constructor(r,o,s,u=0){me(this,"name");me(this,"lastStatus");me(this,"depth");me(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){it.nodeStart(this.name);try{const u=o.gameState.time,l=s.get(this.cooldownKey);if(this.child.lastStatus===N.RUNNING){const[p,v]=wn(this.child.execute(r,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m)}return this.lastStatus}if(l!==void 0&&u<l){const v=`Cooldown active, ${(l-u).toFixed(2)}h left`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}const[d,h]=wn(this.child.execute(r,o,s));return(d===N.SUCCESS||d===N.RUNNING)&&s.set(this.cooldownKey,u+this.cooldownDurationHours),this.lastStatus=d,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{it.nodeEnd()}}}class gi{constructor(r,o,s,u=0){me(this,"name");me(this,"lastStatus");me(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=u;const l=(d,h)=>{d.depth=h,d.children?d.children.forEach(p=>l(p,h+1)):d.child&&l(d.child,h+1)};l(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&it.nodeStart(this.name);try{if(r.isPlayer&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[l,d]=wn(this.child.execute(r,o,s));return this.lastStatus=l,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,d),this.lastStatus}finally{this.name&&it.nodeEnd()}}}class uw{constructor(r,o,s=0){me(this,"name");me(this,"lastStatus");me(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(l,d)=>{l.depth=d,l.children?l.children.forEach(h=>u(h,d+1)):l.child&&u(l.child,d+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&it.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isManuallyMoving)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Manual movement active, AI blocked."),this.lastStatus;const[u,l]=wn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,l),this.lastStatus}finally{this.name&&it.nodeEnd()}}}function cw(t){return new Ee([new ae((r,o)=>{const s=r.hunger>=Ip,u=r.food.length>0,l=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&u&&l),`${Math.floor(r.hunger-Ip)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new Se(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",N.RUNNING),"Eat",t+1)],"Eating",t)}function dw(t){return new Ee([new ae((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*rm||r.isAdult&&r.hunger>My)return!1;const u=O1(r.id,o.gameState);return u?(s.set("fleeThreat",u),!0):!1},"Should Flee",t+1),new Se((r,o,s)=>{const u=s.get("fleeThreat");if(!u)return N.FAILURE;r.activeAction="moving";const l=Gt(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),d=en(l),h=gr(r.position,An(d,im));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=d,N.RUNNING},"Execute Flee",t+1)],"Flee",t)}const Co="foodSource";function fw(t){const r=new Se((s,u,l)=>{const d=new Map,h=ct(s,u.gameState,"berryBush",kp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||u.gameState.time>=m.claimedUntil)return!0;const S=u.gameState.entities.entities.get(m.ownerId);if(!S||S.leaderId===s.leaderId)return!0;const _=d.get(S.id)??le(s.position,S.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);return d.set(S.id,_),_>oA}),p=ct(s,u.gameState,"humanCorpse",kp,m=>m.food.length>0);let v=null;if(h&&p){const m=le(s.position,h.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height),S=le(s.position,p.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);v=m<=S?h:p}else v=h||p;return v?(l.set(Co,v),[N.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[N.FAILURE,"No food source found"]},"Find Closest Food Source",t+4),o=new Se((s,u,l)=>{const d=l.get(Co);return!d||d.food.length===0?(l.delete(Co),[N.FAILURE,"Food source is invalid or depleted"]):le(s.position,d.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<mr?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=d.id,l.delete(Co),[N.SUCCESS,`Gathering from ${d.type}`]):(s.activeAction="moving",s.target=d.id,s.direction=dn(s.position,d.position,u.gameState.mapDimensions),[N.RUNNING,`Moving to ${d.type}`])},"Move To Food and Gather",t+3);return new Ee([new ae((s,u)=>{const l=s.food.length<s.maxFood,d=s.hunger>Iy,h=Ot(u.gameState,s).filter(p=>p.hunger>Ya);return[(s.isAdult&&l&&(d||h.length>0))??!1,`${d?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",t+1),new Wr([new Ee([new ae((s,u,l)=>l.has(Co),"Has Food Source?",t+2),o],"Continue Gathering Action",t+2),new Ee([new Fa(r,Wy,"Cache Food Source Search",t+3),o],"Find New Food Source and Gather",t+2)],"Perform or Start Gathering",t+1)],"Gather Food",t)}function hw(t){return new Se((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),N.SUCCESS),"Idle",t)}const ha="procreationWanderStartTime",eg=t=>t.find(r=>(r.procreationCooldown||0)<=0&&r.hunger<yt&&(r.gender==="female"?!r.isPregnant&&r.age<=Ln:!0));function pw(t){const r=new ae((l,d,h)=>{const p=Vp(l,d.gameState,mr),v=eg(p);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new Se((l,d,h)=>{var v;const p=h.get("procreationPartner");return p?(l.activeAction="procreating",l.target=void 0,h.delete("procreationPartner"),h.delete(ha),(v=l.partnerIds)!=null&&v.includes(p.id)||(l.partnerIds=l.partnerIds?[...l.partnerIds,p.id]:[p.id]),N.SUCCESS):N.FAILURE},"Start Procreating"),s=new ae((l,d,h)=>{const p=Vp(l,d.gameState,Dy),v=eg(p);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),u=new Se((l,d,h)=>{const p=h.get("procreationPartner");if(!p)return N.FAILURE;if(le(l.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<mr)return N.SUCCESS;l.activeAction="moving",l.target=p.id;const m=Gt(l.position,p.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height);return l.direction=en(m),N.RUNNING},"Move Towards Partner");return new Ee([new ae(l=>!(!l.isAdult||l.gender==="female"&&l.isPregnant||l.age<ty||l.gender==="female"&&l.age>Ln),"Is Fertile (age, not pregnant)",t+1),new ae(l=>l.hunger<yt,"Is Healthy (hunger)",t+1),new ae(l=>(l.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new Wr([new Ee([new ae((l,d)=>Sm(l.position,d.gameState,"berryBush",Oy)>=ky,"Is Environment Viable (food)",t+3),new Se((l,d,h)=>(h.delete(ha),N.SUCCESS),"Clear Wander Timer",t+3)],"Sufficient Food Path",t+2),new Ee([new ae((l,d)=>{if(l.gender==="male"){const h=Ot(d.gameState,l);return!zr(h)}return!1},"Is Male Without Heir",t+3),new Se((l,d,h)=>{const p=h.get(ha);if(p===void 0)return h.set(ha,d.gameState.time),[N.FAILURE,"Starting heirless wander timer"];const v=d.gameState.time-p;return v>=ny?[N.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[N.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",t+3)],"Heirless Desperation Path",t+2)],"Check Environment Or Desperation",t+1),new ae((l,d,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(l.id)&&p.partnerIds.map(m=>d.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>le(l.position,m.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height)<iA)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",t+1),new Wr([new Ee([r,o],"Procreate With Immediate Partner",t+2),new Ui(xy,new Ee([s,u],"Seek Distant Partner Action",t+3),"Seek Distant Partner Cooldown",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const mi="attackTarget",Ur="homeCenter",lc=150;function gw(t,r,o){let s,u=1/0;for(const l of Object.values(t.entities.entities))if(l.type==="human"&&l.id!==r.id&&l.hitpoints>0&&l.leaderId!==r.leaderId){const d=le(r.position,l.position,t.mapDimensions.width,t.mapDimensions.height);d<o&&d<u&&(u=d,s=l)}return s}function mw(t){return new Ee([new ae((r,o,s)=>{const{gameState:u}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const d=u.entities.entities.get(r.attackTargetId);if(d&&d.hitpoints>0&&le(r.position,d.position,u.mapDimensions.width,u.mapDimensions.height)<=lc){if(s.set(mi,d),!s.get(Ur)){const h=r.leaderId?jo(r.leaderId,u):Ua(r,u).length>0?Qp(r,u):r.position;s.set(Ur,h)}return!0}}const l=gw(u,r,lc);if(l){s.set(mi,l);const d=r.leaderId?jo(r.leaderId,u):Ua(r,u).length>0?Qp(r,u):r.position;return s.set(Ur,d),!0}return s.set(mi,void 0),s.set(Ur,void 0),!1},"Find Attack Target",t+1),new Se((r,o,s)=>{const u=s.get(mi),l=s.get(Ur);if(!u||!l)return N.FAILURE;const{gameState:d}=o;return le(r.position,l,d.mapDimensions.width,d.mapDimensions.height)>em?(r.activeAction="idle",r.attackTargetId=void 0,s.set(mi,void 0),s.set(Ur,void 0),N.FAILURE):u.hitpoints<=0||le(r.position,u.position,d.mapDimensions.width,d.mapDimensions.height)>lc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(mi,void 0),s.set(Ur,void 0),N.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),N.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const vw=(t,r,o)=>{const s=Ot(r.gameState,t).filter(d=>!d.isAdult);if(s.length===0)return N.FAILURE;let u=null,l=Ya;for(const d of s)d.hunger>=l&&(l=d.hunger,u=d);return u?(o.set("targetChild",u),N.SUCCESS):N.FAILURE},Sw=(t,r,o)=>{const s=o.get("targetChild");return s?le(t.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>Wc?(t.activeAction="moving",t.target=s.id,t.direction=dn(t.position,s.position,r.gameState.mapDimensions),N.RUNNING):(t.activeAction="idle",t.target=void 0,o.set("targetChild",void 0),N.SUCCESS):N.FAILURE};function yw(t){return new Ee([new ae(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new Se(vw,"Find Hungriest Child",t+1),new Se(Sw,"Move To Child and Feed",t+1)],"Feed Child",t)}function Aw(t){return new Ee([new ae(r=>!r.isAdult&&r.hunger>=Ya,"Is Hungry Child",t+1),new Se((r,o,s)=>{const u=D1(r,o.gameState);if(u.length===0)return N.FAILURE;const l=ct(r,o.gameState,"human",ay,d=>u.some(h=>h.id===d.id)&&d.food.length>0);return l?(s.set("targetParent",l),N.SUCCESS):N.FAILURE},"Find Parent With Food",t+1),new Se((r,o,s)=>{const u=s.get("targetParent");if(!u)return N.FAILURE;const l=le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",l<=Wc?(r.target=void 0,N.SUCCESS):(r.target=u.id,r.activeAction="moving",N.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}const pa="plantingSpot";function ww(t){const r=new Se((s,u,l)=>{const d=l.get(pa);return!d||Oi(d,u.gameState,Ka,s.id)?(l.delete(pa),[N.FAILURE,"Planting spot is invalid or now occupied"]):le(s.position,d,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)>mr?(s.activeAction="moving",s.target=d,s.direction=dn(s.position,d,u.gameState.mapDimensions),[N.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=d,[N.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",t+3),o=new Se((s,u,l)=>{const d=k1(s,u.gameState);return d?(l.set(pa,d),[N.SUCCESS,`Found new spot at ${d.x.toFixed(0)}, ${d.y.toFixed(0)}`]):[N.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",t+3);return new Ee([new ae(s=>{const u=s.food.filter(d=>d.type===Bn.Berry).length>=zo,l=s.hunger<Cy;return(s.isAdult&&u&&l)??!1},"Can Plant",t+1),new ae((s,u)=>{const l=Sm(s.position,u.gameState,"berryBush",Ty),d=Ot(u.gameState,s);return!(d.length===0||l>=d.length*2)},"Has Not Enough Nearby Bushes",t+1),new Wr([new Ee([new ae((s,u,l)=>l.has(pa),"Has Planting Spot?",t+2),r],"Continue Planting Action",t+2),new Ui(zy,o,"Find Planting Spot Cooldown",t+2)],"Perform or Start Planting",t+1)],"Plant Bush",t)}const uc="enemiesNearby";function _w(t){const r=new ae(l=>l.id===l.leaderId,"Is Leader?",t+1),o=new ae(l=>!l.isCallingToAttack,"Is Not Already Calling?",t+1),s=new Se((l,d,h)=>{const p=td(l.position,l.id,d.gameState,tm);return p.length>0?(h.set(uc,p),N.SUCCESS):N.FAILURE},"Find Nearby Enemies",t+1),u=new Wr([new Ee([new ae((l,d,h)=>{const p=h.get(uc);if(!p||p.length===0)return!1;const v=ed(l.id,d.gameState),m=Xp(v),S=Xp(p);return m>S*Zy},"Is Strong Enough?",t+3),new Se((l,d)=>(l.isCallingToAttack=!0,l.callToAttackEndTime=d.gameState.time+Da,ft(d.gameState,Ie.CallToAttack,l.position,Da),ut(d,ze.CallToAttack,l.position),l.activeAction="idle",l.target=void 0,N.SUCCESS),"Issue Call to Attack",t+3)],"Attack",t+2),new Se((l,d,h)=>{const p=h.get(uc);if(!p||p.length===0)return N.FAILURE;const v=p.map(O=>O.position),m=Xc(v),S=Gt(m,l.position,d.gameState.mapDimensions.width,d.gameState.mapDimensions.height),_=en(S),R=gr(l.position,An(_,im*2));return l.activeAction="moving",l.target={x:(R.x%d.gameState.mapDimensions.width+d.gameState.mapDimensions.width)%d.gameState.mapDimensions.width,y:(R.y%d.gameState.mapDimensions.height+d.gameState.mapDimensions.height)%d.gameState.mapDimensions.height},l.direction=_,N.SUCCESS},"Retreat",t+2)],"Attack or Retreat",t+2);return new Ee([r,o,s,new Ui(by,u,"Leader Combat Cooldown",t+1)],"Leader Combat Strategy",t)}const cc="combatTarget",dc="homeCenter";function Ew(t){const r=new ae(d=>d.isAdult&&d.leaderId?d.id!==d.leaderId:!1,"Is Tribe Follower?",t+1),o=new ae(d=>d.hunger<Ry&&d.hitpoints>=d.maxHitpoints*rm,"Is Fit for Combat?",t+1),s=new ae((d,h)=>{const p=h.gameState.entities.entities.get(d.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),u=new Se((d,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(d.leaderId);if(!m)return N.FAILURE;const S=td(m.position,m.id,v,Uy);if(S.length===0)return N.FAILURE;S.sort((_,R)=>{const O=le(d.position,_.position,v.mapDimensions.width,v.mapDimensions.height),I=le(d.position,R.position,v.mapDimensions.width,v.mapDimensions.height);return O-I});for(const _ of S)if(L1(m.id,_.id,v)<Fy){p.set(cc,_);const O=jo(m.id,v);return p.set(dc,O),N.SUCCESS}return N.FAILURE},"Find Best Target",t+1),l=new Se((d,h,p)=>{const v=p.get(cc),m=p.get(dc);if(!v||!m)return N.FAILURE;const{gameState:S}=h;return le(d.position,m,S.mapDimensions.width,S.mapDimensions.height)>em?(d.activeAction==="attacking"&&d.attackTargetId===v.id&&(d.activeAction="idle",d.attackTargetId=void 0),p.set(cc,void 0),p.set(dc,void 0),N.FAILURE):((!d.lastTargetAcquiredEffectTime||h.gameState.time-d.lastTargetAcquiredEffectTime>bt*5)&&(ft(h.gameState,Ie.TargetAcquired,d.position,bt,d.id),d.lastTargetAcquiredEffectTime=h.gameState.time),d.activeAction="attacking",d.attackTargetId=v.id,d.target=void 0,N.RUNNING)},"Attack Target",t+1);return new Ee([r,o,s,u,l],"Tribe Member Combat",t)}function Tw(t){const r=new ae((m,S)=>{if(!m.isAdult||m.gender!=="male")return!1;const _=m.partnerIds&&m.partnerIds.length>0,R=Ot(S.gameState,m).length>0;return _||R},"Is Adult Male With Family?",t+1),o=new ae((m,S)=>{var O;if(!m.fatherId)return!1;const _=S.gameState.entities.entities.get(m.fatherId);return!_||((O=zr(Ot(S.gameState,_)))==null?void 0:O.id)===m.id?!1:le(m.position,_.position,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<Hy},"Is Too Close To Father?",t+1),s=new ae((m,S,_)=>_.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",t+3),u=new Se((m,S,_)=>{const R=_.get("territoryMoveTarget"),O=_.get("territoryMoveStartTime");if(!R||!O)return[N.FAILURE,"Missing move data"];if(S.gameState.time-O>Ly)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[N.FAILURE,"Territory move timed out"];if(le(m.position,R,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height)<mr)return _.delete("territoryMoveTarget"),_.delete("territoryMoveStartTime"),[N.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=R;const G=Gt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=en(G),[N.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",t+3),l=new Ee([s,u],"Handle In-Progress Move",t+2),d=new ae((m,S,_)=>_.get("territoryMoveTarget")===void 0,"Should Start New Move?",t+4),h=new Se((m,S,_)=>{const R=bc(m.position,S.gameState.mapDimensions.width/4,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);_.set("territoryMoveTarget",R),_.set("territoryMoveStartTime",S.gameState.time),m.activeAction="moving",m.target=R;const O=Gt(m.position,m.target,S.gameState.mapDimensions.width,S.gameState.mapDimensions.height);return m.direction=en(O),[N.RUNNING,"Started moving to new territory"]},"Start New Territory Move",t+4),p=new Ee([d,h],"Start New Territory Move Action",t+3),v=new Wr([l,new Ui(Gy,p,"Establish Territory Cooldown",t+2)],"Establish or Continue Move",t+1);return new Ee([r,o,v],"Establish Family Territory",t)}function Iw(t){return new Ee([new Se((r,o,s)=>{const u=U1(r,o.gameState);return u?(s.set("patriarchTarget",u),[N.SUCCESS,`Found patriarch: ${u.id}`]):(s.delete("patriarchTarget"),[N.FAILURE,"No patriarch found"])},"Find Patriarch",t+1),new Se((r,o,s)=>{const u=s.get("patriarchTarget");if(!u)return[N.FAILURE,"Patriarch target missing from blackboard"];const l=le(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(l>Jg){r.activeAction="moving",r.target=u.id;const d=Gt(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=en(d),[N.RUNNING,`Moving to patriarch at ${l.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[N.SUCCESS,`Arrived at patriarch at ${l.toFixed(0)}`]},"Move Towards Patriarch",t+1)],"Follow Patriarch",t)}const fc="tribeSplitMigrationTarget";function Cw(t){const r=new Ee([new ae((o,s)=>{const{canSplit:u,progress:l}=Jc(o,s.gameState);return u?[!0,`Progress: ${(l??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",t+2),new Se((o,s,u)=>{const{gameState:l}=s;let d=u.get(fc);if(!d){if(!o.leaderId)return N.FAILURE;const p=jo(o.leaderId,l),v=F1(p,o,l);if(v)u.set(fc,v),d=v;else return N.FAILURE}return le(o.position,d,l.mapDimensions.width,l.mapDimensions.height)<mr?(u.delete(fc),o.activeAction="idle",o.target=void 0,N.SUCCESS):(o.activeAction="moving",o.target=d,N.RUNNING)},"Move to New Territory",t+2),new Se((o,s)=>(wm(o,s.gameState),N.SUCCESS),"Perform Tribe Split",t+2)],"Tribe Split Action",t+1);return new Ui(jy,r,"Tribe Split Cooldown",t)}const ga="jealousyAttackTarget";function Rw(t){return new Ee([new ae((r,o,s)=>{const u=C1(r,o.gameState,qy);return u?(s.set(ga,u),[!0,`Partner cheating with ${u.id}`]):(s.delete(ga),!1)},"Check for Infidelity",t+1),new Se((r,o,s)=>{const u=s.get(ga);return!u||u.hitpoints<=0?(s.delete(ga),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking ${u.id}`])},"Execute Jealousy Attack",t+1)],"Jealousy Attack",t)}const ma="defendAggressor";function Pw(t){return new Ee([new ae((r,o,s)=>{const u=P1(r,o.gameState,Jy);return u?(s.set(ma,u.aggressor),[!0,`Family member ${u.familyMember.id} attacked by ${u.aggressor.id}`]):(s.delete(ma),!1)},"Check Family Under Attack",t+1),new Se((r,o,s)=>{const u=s.get(ma);return!u||u.hitpoints<=0?(s.delete(ma),[N.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking aggressor ${u.id}`])},"Execute Family Defense Attack",t+1)],"Defend Family",t)}const va="bushIntruder";function Nw(t){return new Ee([new ae((r,o,s)=>{const u=R1(r,o.gameState,eA);return u?(s.set(va,u),[!0,`Intruder ${u.id} stealing berries`]):(s.delete(va),!1)},"Check For Intruders on Bushes",t+1),new Se((r,o,s)=>{const u=s.get(va);return!u||u.hitpoints<=0?(s.delete(va),[N.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking intruder ${u.id}`])},"Execute Bush Defense Attack",t+1)],"Defend Claimed Bush",t)}const Sa="desperateAttackTarget";function kw(t){return new Ee([new ae(r=>r.hunger>tA,"Is Starving",t+1),new ae((r,o)=>{const s=ct(r,o.gameState,"berryBush",dt,l=>l.food.length>0),u=ct(r,o.gameState,"humanCorpse",dt,l=>l.food.length>0);return!s&&!u},"No Other Food Available",t+1),new ae((r,o,s)=>{const u=N1(r,o.gameState);return u?(s.set(Sa,u),[!0,`Found weak target ${u.id}`]):(s.delete(Sa),!1)},"Find Weak Target",t+1),new Se((r,o,s)=>{const u=s.get(Sa);return!u||u.hitpoints<=0?(s.delete(Sa),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Desperately attacking ${u.id}`])},"Execute Desperate Attack",t+1)],"Desperate Attack",t)}function Ow(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotMove},"Has Autopilot Move Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotMove)return r.activeAction==="moving"&&typeof r.target=="object"&&(r.activeAction="idle",r.target=void 0),N.FAILURE;const u=s.position;return le(r.position,u,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<sA?(o.gameState.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):(r.activeAction="moving",r.target=u,r.direction=dn(r.position,u,o.gameState.mapDimensions),N.RUNNING)},"Execute Autopilot Move",t+1)],"Autopilot Move To Target",t)}function Dw(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotGather},"Has Autopilot Gather Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotGather)return o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.food.length===0?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>mr?(r.activeAction="moving",r.target=u,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),N.RUNNING):(r.activeAction="gathering",r.target=u,o.gameState.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS)},"Execute Autopilot Gather",t+1)],"Autopilot Gather From Target",t)}function Mw(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotAttack},"Has Autopilot Attack Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotAttack)return o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.hitpoints<=0?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Xa?(r.activeAction="attacking",r.attackTargetId=l.id,o.gameState.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Execute Autopilot Attack",t+1)],"Autopilot Attack",t)}function Uw(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotFeedChildren},"Has Autopilot Feed Child Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotFeedChildren)return o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.isAdult||r.food.length===0?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Xa?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Execute Autopilot Feed Child",t+1)],"Autopilot Feed Child",t)}function Fw(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotPlant},"Has Autopilot Plant Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotPlant)return o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE;if(r.activeAction==="planting")return N.RUNNING;const u=s.position;return Oi(u,o.gameState,Ka,r.id)?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,u,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Xa?(r.activeAction="planting",r.target=u,o.gameState.autopilotControls.activeAutopilotAction=void 0,N.RUNNING):(r.activeAction="moving",r.target=u,r.direction=dn(r.position,u,o.gameState.mapDimensions),N.RUNNING)},"Execute Autopilot Plant",t+1)],"Autopilot Plant",t)}function Lw(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotProcreate},"Has Autopilot Procreate Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotProcreate)return o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.gender===r.gender||!l.isAdult||!r.isAdult||l.gender==="female"&&(l.isPregnant||l.age>Ln)||r.gender==="female"&&(r.isPregnant||r.age>Ln)||(l.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||l.hunger>=yt||r.hunger>=yt?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Xa?(r.activeAction="procreating",o.gameState.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Execute Autopilot Procreate",t+1)],"Autopilot Procreate",t)}function Bw(t){return new Ee([new ae(r=>!!r.leaderId&&r.leaderId!==r.id,"Is Follower",t+1),new ae((r,o)=>{if(!r.leaderId)return!1;const s=o.gameState.entities.entities.get(r.leaderId);return!!s&&s.isCallingToFollow===!0},"Is Leader Calling To Follow",t+1),new ae(r=>r.hunger<Ny,"Is Not Critically Hungry",t+1),new Se((r,o)=>{if(!r.leaderId)return N.FAILURE;const s=o.gameState.entities.entities.get(r.leaderId);return s?le(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Py?(r.activeAction="moving",r.target=s.id,r.direction=dn(r.position,s.position,o.gameState.mapDimensions),N.RUNNING):(r.activeAction==="moving"&&r.target===s.id&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):N.FAILURE},"Execute Follow Leader",t+1)],"Follow Leader Command",t)}const tg="tribeMigrationCheckCooldown";function Hw(t){const r=new Ee([new ae(s=>!!s.leaderId&&s.leaderId===s.id,"Is Tribe Leader",t+2),new ae((s,u)=>{var d;const l=(d=s.aiBlackboard)==null?void 0:d.get(tg);return l?u.gameState.time-l>=Np:!0},"Is Migration Check Cooldown Over",t+2),new Se((s,u)=>{var d;(d=s.aiBlackboard)==null||d.set(tg,u.gameState.time);const l=x1(s,u.gameState);return l?(s.isCallingToFollow=!0,s.callToFollowEndTime=u.gameState.time+Rc,s.target=l,s.activeAction="moving",console.log(`Tribe ${s.tribeBadge} led by ${s.id} is migrating to`,l),N.SUCCESS):N.FAILURE},"Execute Tribe Migration",t+2)],"Tribe Migration Strategy",t+1),o=new Fa(r,Cc,"Cache Tribe Migration",t+1);return new Ui(Np,o,"Tribe Migration Cooldown",t)}function xw(t){return new Ee([new ae((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;return r.isPlayer===!0&&(s==null?void 0:s.action)===ue.AutopilotFollowMe},"Has Autopilot Follow Command",t+1),new Se((r,o)=>{const s=o.gameState.autopilotControls.activeAutopilotAction;if((s==null?void 0:s.action)!==ue.AutopilotFollowMe)return o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE;const u=s.targetEntityId,l=o.gameState.entities.entities.get(u);return!l||l.type!=="human"||l.id!==l.leaderId?(o.gameState.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):le(r.position,l.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<=Jg?(o.gameState.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),N.SUCCESS):(r.activeAction="moving",r.target=l.id,r.direction=dn(r.position,l.position,o.gameState.mapDimensions),N.RUNNING)},"Execute Autopilot Follow",t+1)],"Autopilot Follow Leader",t)}function Gw(){const t=new Wr([dw(2),Pw(2),Rw(2),Nw(2),kw(2),Ow(2),Dw(2),Mw(2),Lw(2),Fw(2),Uw(2),xw(2),new gi(_w(3),"callToAttack","Gated Leader Combat",2),Ew(2),new gi(mw(3),"attack","Gated Attacking",2),cw(2),new gi(new Jp(fw(4),Cp,"Timeout Gathering",3),"gathering","Gated Gathering",2),new gi(yw(3),"feedChildren","Gated Feed Child",2),Aw(2),new gi(new Jp(ww(4),Cp,"Timeout Planting",3),"planting","Gated Planting",2),new gi(pw(3),"procreation","Gated Procreation",2),new Fa(Cw(3),Cc,"Cache Tribe Split",2),Hw(2),new Fa(Tw(3),Cc,"Cache Establish Territory",2),Bw(2),Iw(2),hw(2)],"AI Root Selector",1);return new uw(t,"Manual Control Gate",0)}class zw{constructor(){me(this,"data",new Map);me(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,u,l){const d=this.nodeExecutionData.get(r)||{lastExecuted:0,status:N.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=d.executionHistory[d.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Wo&&d.executionHistory.push({time:h.time+Wo,status:N.NOT_EVALUATED}),d.executionHistory.push({time:s,status:o});const p=um/Zt*Qt,v=s-p;d.executionHistory=d.executionHistory.filter(S=>S.time>=v);const m={...d,lastExecuted:s,status:o,depth:u,debugInfo:l};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=By,s=[];for(const[u,l]of this.nodeExecutionData.entries())r-l.lastExecuted>o&&s.push(u);for(const u of s)this.nodeExecutionData.delete(u)}}function Ww(t){t.gameState.entities.entities.forEach(o=>{sw(o,t)})}function Tm(){return{entities:new Map,nextEntityId:1}}function rd(t,r,o){const s={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(s.id,s),s}function qa(t,r,o){return rd(t,"berryBush",{position:r,radius:Ic,food:Array.from({length:jS},()=>({type:Bn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:$S,lifespan:VS,age:0,spreadChance:KS,spreadRadius:Ic,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[Do,{enteredAt:o,previousState:void 0}]})}function La(t,r,o,s,u=!1,l=qS,d=Xg,h,p,v=[],m,S){const _=l>=zc;return rd(t,"human",{position:r,radius:_?cn:$c,hunger:d,hitpoints:Ep,maxHitpoints:Ep,age:l,gender:s,isPlayer:u,food:[],maxFood:Kg,maxAge:xo,isAdult:_,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[lt,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:S,aiType:nd.BehaviorTreeBased,aiBehaviorTree:Gw(),aiBlackboard:new zw})}function $w(t,r,o,s,u,l,d,h,p){return rd(t,"humanCorpse",{position:r,radius:u,gender:o,age:s,originalHumanId:l,timeOfDeath:d,decayProgress:0,food:[...Array.from({length:Math.max(Zg*Math.max(yt-p,0)/yt,1)},()=>({type:Bn.Meat})),...h].map(m=>({...m,id:t.nextEntityId++})),stateMachine:void 0})}function jw(t,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],l=s?[...s.ancestorIds||[],s.id]:[],d=[...u,...l],h=[...new Set(d)],p=h.slice(Math.max(h.length-XS,0)),v=Math.random()<.5?"male":"female",m=gr(t.position,{x:5,y:5}),S=La(o.gameState.entities,m,o.gameState.time,v,!1,0,Xg/2,t.id,r,p,s==null?void 0:s.leaderId,s==null?void 0:s.tribeBadge);return ut(o,ze.Birth,t.position),S}function id(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class Yw{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const u=s-1>>1,l=this.values[u];if(o>=l)break;this.ids[s]=this.ids[u],this.values[s]=l,s=u}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],u=this.length>>1;let l=0;for(;l<u;){let d=(l<<1)+1;const h=d+1;let p=this.ids[d],v=this.values[d];const m=this.values[h];if(h<this.length&&m<v&&(d=h,p=this.ids[h],v=m),v>=s)break;this.ids[l]=p,this.values[l]=v,l=d}this.ids[l]=o,this.values[l]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const ng=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],hc=3;class od{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,u]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const l=u>>4;if(l!==hc)throw new Error(`Got v${l} data when expected v${hc}.`);const d=ng[u&15];if(!d)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[p]=new Uint32Array(r,o+4,1);return new od(p,h,d,void 0,r,o)}constructor(r,o=16,s=Float64Array,u=ArrayBuffer,l,d=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=d;let h=r,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=ng.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);l&&l.byteLength!==void 0&&!l.buffer?(this.data=l,this._boxes=new this.ArrayType(this.data,d+8,p*4),this._indices=new this.IndexArrayType(this.data,d+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(hc<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new Yw}add(r,o,s=r,u=o){const l=this._pos>>2,d=this._boxes;return this._indices[l]=l,d[this._pos++]=r,d[this._pos++]=o,d[this._pos++]=s,d[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),u>this.maxY&&(this.maxY=u),l}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),l=65535;for(let d=0,h=0;d<this.numItems;d++){const p=r[h++],v=r[h++],m=r[h++],S=r[h++],_=Math.floor(l*((p+m)/2-this.minX)/o),R=Math.floor(l*((v+S)/2-this.minY)/s);u[d]=Kw(_,R)}kc(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let d=0,h=0;d<this._levelBounds.length-1;d++){const p=this._levelBounds[d];for(;h<p;){const v=h;let m=r[h++],S=r[h++],_=r[h++],R=r[h++];for(let O=1;O<this.nodeSize&&h<p;O++)m=Math.min(m,r[h++]),S=Math.min(S,r[h++]),_=Math.max(_,r[h++]),R=Math.max(R,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=S,r[this._pos++]=_,r[this._pos++]=R}}}search(r,o,s,u,l){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=[],p=[];for(;d!==void 0;){const v=Math.min(d+this.nodeSize*4,ig(d,this._levelBounds));for(let m=d;m<v;m+=4){if(s<this._boxes[m]||u<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const S=this._indices[m>>2]|0;d>=this.numItems*4?h.push(S):(l===void 0||l(S))&&p.push(S)}d=h.pop()}return p}neighbors(r,o,s=1/0,u=1/0,l){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let d=this._boxes.length-4;const h=this._queue,p=[],v=u*u;e:for(;d!==void 0;){const m=Math.min(d+this.nodeSize*4,ig(d,this._levelBounds));for(let S=d;S<m;S+=4){const _=this._indices[S>>2]|0,R=rg(r,this._boxes[S],this._boxes[S+2]),O=rg(o,this._boxes[S+1],this._boxes[S+3]),I=R*R+O*O;I>v||(d>=this.numItems*4?h.push(_<<1,I):(l===void 0||l(_))&&h.push((_<<1)+1,I))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;d=h.length?h.pop()>>1:void 0}return h.clear(),p}}function rg(t,r,o){return t<r?r-t:t<=o?0:t-o}function ig(t,r){let o=0,s=r.length-1;for(;o<s;){const u=o+s>>1;r[u]>t?s=u:o=u+1}return r[o]}function kc(t,r,o,s,u,l){if(Math.floor(s/l)>=Math.floor(u/l))return;const d=t[s+u>>1];let h=s-1,p=u+1;for(;;){do h++;while(t[h]<d);do p--;while(t[p]>d);if(h>=p)break;Vw(t,r,o,h,p)}kc(t,r,o,s,p,l),kc(t,r,o,p+1,u,l)}function Vw(t,r,o,s,u){const l=t[s];t[s]=t[u],t[u]=l;const d=4*s,h=4*u,p=r[d],v=r[d+1],m=r[d+2],S=r[d+3];r[d]=r[h],r[d+1]=r[h+1],r[d+2]=r[h+2],r[d+3]=r[h+3],r[h]=p,r[h+1]=v,r[h+2]=m,r[h+3]=S;const _=o[s];o[s]=o[u],o[u]=_}function Kw(t,r){let o=t^r,s=65535^o,u=65535^(t|r),l=t&(r^65535),d=o|s>>1,h=o>>1^o,p=u>>1^s&l>>1^u,v=o&u>>1^l>>1^l;o=d,s=h,u=p,l=v,d=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&u>>2^s&l>>2,v^=s&u>>2^(o^s)&l>>2,o=d,s=h,u=p,l=v,d=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&u>>4^s&l>>4,v^=s&u>>4^(o^s)&l>>4,o=d,s=h,u=p,l=v,p^=o&u>>8^s&l>>8,v^=s&u>>8^(o^s)&l>>8,o=p^p>>1,s=v^v>>1;let m=t^r,S=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,(S<<1|m)>>>0}function pc(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new od(t.length),s=new Map;for(const l of t)o.add(l.position.x,l.position.y,l.position.x,l.position.y);return o.finish(),{byRect(l){return o.search(l.left,l.top,l.right,l.bottom).map(h=>t[h])},byRadius(l,d){return o.neighbors(l.x,l.y,void 0,d).map(p=>t[p])},byProperty(l,d){var h;if(!s.has(l)){const p=new Map;for(const v of t){const m=v[l];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(l,p)}return((h=s.get(l))==null?void 0:h.get(d))||[]},resetPropertyCache(){s.clear()}}}function sd(t){const r=Array.from(t.entities.entities.values()),o=r.filter(d=>d.type==="human"),s=r.filter(d=>d.type==="berryBush"),u=r.filter(d=>d.type==="humanCorpse");return{...t,search:{human:pc(o),berryBush:pc(s),humanCorpse:pc(u)}}}var fr=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t))(fr||{}),Vo=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t))(Vo||{}),Et=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(Et||{});const Xw=[{key:fr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver,isCompleted:!1},{key:fr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>QS,isCompleted:!1,minDisplayTime:Wp,highlightedUIElements:[Vo.HUNGER_BAR]},{key:fr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!ct(r,t,"berryBush",dt*5,s=>s.food.length>0),getTargets:(t,r)=>{const o=[];for(const s of t.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&le(r.position,s.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:Wp},{key:fr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=ct(r,t,"berryBush",dt,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:fr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Vo.FOOD_BAR]},{key:fr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>Ot(t,r).length>0,getTargets:(t,r)=>{const o=ct(r,t,"human",dt,s=>{const u=s;return(u.id!==r.id&&u.gender!==r.gender&&u.isAdult&&r.isAdult&&u.hunger<yt&&r.hunger<yt&&(u.procreationCooldown||0)<=0&&(r.procreationCooldown||0)<=0&&(u.gender==="female"?!u.isPregnant&&u.age<=Ln:!r.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:fr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>vm(t,r).some(s=>s.type===ue.PlantBush)&&t.hasPlayerPlantedBush===!0,isCompleted:!1}];function Im(){return{steps:Xw.map(t=>({...t,isCompleted:!1}))}}function Cm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Et.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function Qw(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function Zw(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=xt(t);if(!s){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const l=1/t1;switch(o.transitionState){case Et.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=l*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Et.ACTIVE);break;case Et.ACTIVE:{t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,s)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=Et.FADING_OUT);break}case Et.FADING_OUT:if(o.transitionAlpha-=l*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=Qw(t);h!==null?(o.currentStepIndex=h,o.transitionState=Et.FADING_IN):(o.isActive=!1,o.transitionState=Et.INACTIVE)}break}o.transitionState!==Et.FADING_OUT&&o.transitionState!==Et.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,s)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function bw(){const t=Tm(),r=0;for(let m=0;m<jg;m++){const S={x:Math.random()*Hr,y:Math.random()*xr};qa(t,S,r)}const o=Hr/2,s=xr/2,u=La(t,{x:o,y:s},r,"male",!0);La(t,{x:o+50,y:s},r,"female",!1);const l=[{id:"muteButton",action:he.ToggleMute,currentWidth:_i,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ma},{id:"pauseButton",action:he.TogglePause,currentWidth:_i,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:Ma}],d=Im(),h=Cm(),p={time:r,entities:t,mapDimensions:{width:Hr,height:xr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,callToAttack:!1,followMe:!1,feedChildren:!0},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,masterVolume:fm,isMuted:!1,uiButtons:l,tutorial:d,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0}},v=sd(p);return console.log("Game world initialized:",v),v}function qw(){const t=Tm(),r=0;for(let l=0;l<jg;l++){const d={x:Math.random()*Hr,y:Math.random()*xr};qa(t,d,r)}for(let l=0;l<a1;l++){const d={x:Math.random()*Hr,y:Math.random()*xr},h=Math.random()<.5?"male":"female";La(t,d,r,h,!1)}const o=Im(),s=Cm(),u={time:r,entities:t,mapDimensions:{width:Hr,height:xr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Hr/2,y:xr/2},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,callToAttack:!1,followMe:!1,feedChildren:!0},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,masterVolume:fm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0}};return sd(u)}const Jw="humanProcreation",e_="human",t_="human",n_=dt,r_=(t,r)=>{if(t.id===r.id||t.gender===r.gender)return!1;const o=(s,u)=>s.isAdult&&s.hunger<yt&&(s.procreationCooldown||0)<=0?u?!s.isPregnant&&s.age<=Ln:!0:!1;return t.gender==="male"?!o(t,!1)||!o(r,!0)?!1:t.activeAction==="procreating":!o(t,!0)||!o(r,!1)?!1:t.activeAction==="procreating"&&r.activeAction==="procreating"},i_=(t,r,o)=>{var p,v;const{gameState:s}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},l=t.gender==="male"?t:r,d=t.gender==="female"?t:r,h=(l.partnerIds||[]).length===0;if(t.stateMachine=[Yo,{partnerId:r.id,previousState:(p=t.stateMachine)==null?void 0:p[0]}],r.stateMachine=[Yo,{partnerId:t.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id),h&&l.leaderId&&l.leaderId!==l.id){const m=s.entities.entities.get(l.leaderId);if(m){const S=Pc(l,m),_=Pc(d,m);if(!S&&!_){const R=Nc();l.leaderId=l.id,l.tribeBadge=R,d.leaderId=l.id,d.tribeBadge=R}}}else if(!t.leaderId&&!r.leaderId&&l&&d){const m=Nc();l.leaderId=l.id,l.tribeBadge=m,d.leaderId=l.id,d.tribeBadge=m}t.activeAction=void 0,ft(s,Ie.Procreation,u,No),ft(s,Ie.Partnered,t.position,bt,t.id),ft(s,Ie.Partnered,r.position,bt,r.id),t.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,ut(o,ze.Procreate,u)},o_={id:Jw,sourceType:e_,targetType:t_,maxDistance:n_,checker:r_,perform:i_},s_={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:Wc,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=Ya,perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-Go),t.feedChildCooldownTime=sy,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(ft(o.gameState,Ie.ChildFed,r.position,bt,r.id),r.lastChildFedEffectTime=o.gameState.time),ut(o,ze.ChildFed,r.position)}},a_={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Va,checker:(t,r,o)=>{var l;if(((l=t.stateMachine)==null?void 0:l[0])!==Di||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const s=t.stateMachine[1];return o.gameState.time-s.attackStartTime>=bg},perform:(t,r,o)=>{const s=Gt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=h1(en(s),r.direction);if(Math.abs(u)<wy*Math.PI/180&&Math.random()<_y)ft(o.gameState,Ie.AttackDeflected,r.position,bt,r.id);else{let h=fy;t.gender==="male"&&(h*=Sy),t.isAdult||(h*=yy),(!r.isAdult||r.age>=Qg)&&t.isAdult&&(h*=Ay),r.hitpoints-=h,r.movementSlowdown={modifier:py,endTime:o.gameState.time+gy},ft(o.gameState,Ie.Hit,r.position,bt,r.id);const v=Gt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=An(v,hy);r.forces.push(m),r.hitpoints<=0?ut(o,ze.HumanDeath,r.position):ut(o,ze.Attack,t.position)}t.attackCooldown=qg;const d=t.stateMachine[1];d.attackStartTime=o.gameState.time,ft(o.gameState,Ie.Attack,t.position,bt,t.id)}},l_={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:cn*2,checker:(t,r,{gameState:o})=>le(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const s=le(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const l=(t.radius+r.radius-s)*.05,d=en(pm(t.position,r.position)),h=An(d,l);t.forces.push(h),r.forces.push(An(h,-1))}},u_={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:dt,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===ba&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+Yg,ft(o.gameState,Ie.BushClaimed,r.position,bt),ut(o,ze.Gather,t.position)}},c_={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:dt,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===ba&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,ut(o,ze.Gather,t.position)}},d_=[u_,c_],f_=[l_,...d_,o_,s_,a_];function h_(t){const{gameState:r}=t,o=r,s=Array.from(r.entities.entities.values());for(const u of f_)for(const l of s){if(u.sourceType&&l.type!==u.sourceType)continue;const d=o.search[u.targetType].byRadius(l.position,u.maxDistance);for(const h of d){if(l.id===h.id)continue;le(l.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(l,h,t)&&u.perform(l,h,t)}}}function p_(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const g_=1/60;function m_(t,r){const o=xt(t);o&&(t.viewportCenter=Kc(t.viewportCenter,o.position,xc*r))}function Ja(t,r){if(t.isPaused)return t;for(;r>0;){const o=sd(t),s=Math.min(r,g_);if(o.gameOver)return o;const u=s*(Qt/Zt);o.time+=u,m_(o,s),Ww({gameState:o,deltaTime:s}),h_({gameState:o,deltaTime:s}),p_(o),Zw(o,s),t=o,r-=s}return t}function og(t,r,o){t.save();const{x:s,y:u,width:l,height:d}=r.rect,h=MA;t.fillStyle=r.backgroundColor,t.beginPath(),t.moveTo(s+h,u),t.lineTo(s+l-h,u),t.quadraticCurveTo(s+l,u,s+l,u+h),t.lineTo(s+l,u+d-h),t.quadraticCurveTo(s+l,u+d,s+l-h,u+d),t.lineTo(s+h,u+d),t.quadraticCurveTo(s,u+d,s,u+d-h),t.lineTo(s,u+h),t.quadraticCurveTo(s,u,s+h,u),t.closePath(),t.fill(),o&&(t.fillStyle=UA,t.globalAlpha=.5,t.fill(),t.globalAlpha=1),t.fillStyle=r.textColor,r.icon?(t.font=`${d*.55}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(r.icon,s+l/2,u+d/2),r.text&&(t.font=`${d*.18}px "Press Start 2P", Arial`,t.textAlign="right",t.textBaseline="bottom",t.fillText(r.text,s+l-4,u+d-2))):(t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,s+l/2,u+d/2)),t.restore()}function v_(t,r,o,s){t.save(),t.font=`${Fp}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="bottom";const l=t.measureText(o).width,d=Fp,h=l+Lp*2,p=d+Lp*2,v=s.x-h/2,m=t.canvas.height,S=r.y<m/2?r.y+r.height-Bp:r.y-p+Bp;t.fillStyle=FA,t.fillRect(v,S,h,p),t.fillStyle=LA,t.fillText(o,s.x,S+p/2+d/2),t.restore()}function S_(t,r,o){t.save(),r.uiButtons.some(I=>I.action===he.FastForward)||r.uiButtons.push({id:"fastForwardButton",action:he.FastForward,rect:{x:0,y:0,width:0,height:0},text:"FFWD [T]",currentWidth:_i,backgroundColor:_o,textColor:Ma,tooltip:"Fast-forward time"}),t.textAlign="right";let s=o-kt;const u=r.uiButtons.find(I=>I.action===he.ToggleMute);u&&(u.text=r.isMuted?"UN[M]UTE":"[M]UTE",u.backgroundColor=r.isMuted?tc:_o,u.tooltip=`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`);const l=r.uiButtons.find(I=>I.action===he.TogglePause);l&&(l.text=r.isPaused?"UN[P]AUSE":"[P]AUSE",l.backgroundColor=r.isPaused?tc:_o,l.currentWidth=r.isPaused?_i*1.4:_i*1.1,l.tooltip=r.isPaused?"Resume Game":"Pause Game");const d=r.uiButtons.find(I=>I.action===he.FastForward);d&&(d.text="FFWD [T]",d.backgroundColor=_o,d.currentWidth=_i*1.3,d.tooltip="Fast-forward time"),r.uiButtons=r.uiButtons.filter(I=>![he.ToggleProcreationBehavior,he.TogglePlantingBehavior,he.ToggleGatheringBehavior,he.ToggleAttackBehavior,he.ToggleCallToAttackBehavior,he.ToggleFollowMeBehavior,he.ToggleFeedChildrenBehavior].includes(I.action));const h=[{key:"gathering",action:he.ToggleGatheringBehavior,emoji:ue.GatherFood,shortcut:"E",name:"Gathering"},{key:"attack",action:he.ToggleAttackBehavior,emoji:ue.Attack,shortcut:"Q",name:"Attack"},{key:"callToAttack",action:he.ToggleCallToAttackBehavior,emoji:ue.CallToAttack,shortcut:"V",name:"Call to Attack"},{key:"followMe",action:he.ToggleFollowMeBehavior,emoji:ue.FollowMe,shortcut:"C",name:"Follow Me"},{key:"procreation",action:he.ToggleProcreationBehavior,emoji:ue.Procreate,shortcut:"R",name:"Procreation"},{key:"planting",action:he.TogglePlantingBehavior,emoji:ue.PlantBush,shortcut:"B",name:"Planting"},{key:"feedChildren",action:he.ToggleFeedChildrenBehavior,emoji:ue.FeedChildren,shortcut:"H",name:"Feed Children"}],p=4,v=2,m=p*Mr+(p-1)*da,S=v*Mr+(v-1)*da,_=(o-m)/2,R=t.canvas.height-S-20;h.forEach((I,C)=>{const G=C%p,z=Math.floor(C/p),K=_+G*(Mr+da),$=R+z*(Mr+da),fe=r.autopilotControls.behaviors[I.key],L={id:`toggle${I.name}Button`,action:I.action,rect:{x:K,y:$,width:Mr,height:Mr},icon:Za[I.emoji],text:I.shortcut,backgroundColor:fe?tc:_o,textColor:Ma,currentWidth:Mr,tooltip:`${I.name}: ${fe?"AUTO":"MANUAL"}`};r.uiButtons.push(L)}),r.uiButtons.filter(I=>I.action===he.FastForward||I.action===he.ToggleMute||I.action===he.TogglePause).forEach(I=>{const C=kt,G=s-I.currentWidth;I.rect={x:G,y:C,width:I.currentWidth,height:OA},og(t,I,r.hoveredButtonId===I.id),s-=I.currentWidth+DA}),r.uiButtons.filter(I=>[he.ToggleProcreationBehavior,he.TogglePlantingBehavior,he.ToggleGatheringBehavior,he.ToggleAttackBehavior,he.ToggleCallToAttackBehavior,he.ToggleFollowMeBehavior,he.ToggleFeedChildrenBehavior].includes(I.action)).forEach(I=>{og(t,I,r.hoveredButtonId===I.id)});const O=r.hoveredButtonId?r.uiButtons.find(I=>I.id===r.hoveredButtonId):void 0;O&&O.tooltip&&r.mousePosition&&v_(t,O.rect,O.tooltip,r.mousePosition),t.restore()}function y_(t){t.save(),t.fillStyle=KA,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=XA,t.font=`${QA}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const A_=25,w_=0,sg=28;function Rm(t,r,o,s,u,l,d,h,p){t.save();const v=r.x-d.x+h/2,m=r.y-d.y+p/2;t.strokeStyle=s,t.lineWidth=l,t.setLineDash(u),t.beginPath(),t.arc(v,m,o+Qa,0,2*Math.PI),t.stroke(),t.restore()}function __(t,r,o,s,u,l){if(r.length===0)return;t.save(),r.forEach(m=>{m.targetEntity&&Rm(t,m.targetEntity.position,m.targetEntity.radius,Yc,Vc,2,s,u,l)}),t.font=`${Ni}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const d=o.position.x-s.x+u/2,h=o.position.y-s.y+l/2;let p=0,v={};r.forEach(m=>{const S=Za[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const _=m.targetEntity.position.x-s.x+u/2,R=m.targetEntity.position.y-s.y+l/2,O=`${S}${m.key.toUpperCase()}`,I=R-m.targetEntity.radius-Qa-Ni/2-(v[m.targetEntity.id]-1)*sg;t.fillText(O,_,I)}else{t.textAlign="left";const _=`${S}${m.key.toUpperCase()}`,R=d+A_,I=h+w_+p*sg;t.fillText(_,R,I),p++,t.textAlign="center"}}),t.restore()}const re=(t,r,o,s,u,l,d)=>{l==="transparent"||s<=0||u<=0||(t.fillStyle=l,t.fillRect(Math.floor(r*d),Math.floor(o*d),Math.ceil(s*d),Math.ceil(u*d)))},ag=10,lg=10,vn=6,Un=4,ya=2,E_=5,Xt=4,T_=2,vt=4,I_=2,Ge=3,vi=2,hr=0,Fo=hr+Un-1,_t=Fo,Xe=Fo+Xt-1,C_="rgba(0, 0, 0, 0.4)",R_=4,P_=1,ad={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,s,u,l,d,h="male",p=20,v=[1,0],m=!1,S=0){const _=["dead","stunned"].includes(d),R=_?lg+4:ag,O=_?ag+4:lg+Ge,I=.15,C=Math.min(s*(1-2*I)/R,u*(1-2*I)/O),G=R*C,z=O*C,K=r+(s-G)/2,$=o+(u-z)/2;t.save(),v[0]<0&&!_?(t.translate(K+G,$),t.scale(-1,1)):t.translate(K,$);const L="#D09A5A",j=p>50?"#BDBDBD":"#281808",Oe="#7F5C4A",Be="#6B4F3A",be="#E0D8C0",ot="#A0522D",We=1-Math.max(0,Math.min(100,S))/100*.2,He=h==="male"?1.1:.9,_e=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Re=E_*We*He*_e,pe=T_*We*He*_e,ie=I_*We*_e;m&&h==="female"&&(Re*=1.5);const H=Math.round((R-Re)/2),Y=Math.round((R-vn)/2),x=H-pe,E=H+Re,D=1,te=H+(Re/2-D/2)-ie,q=H+(Re/2+D/2),ye=v[1]<-.2&&Math.abs(v[0])<.7,oe=X=>{t.fillStyle=C_,t.beginPath();const ne=R/2,Ne=X;t.ellipse(Math.floor(ne*C),Math.floor(Ne*C),Math.max(1,Math.floor(R_*C)),Math.max(1,Math.floor(P_*C)),0,0,2*Math.PI),t.fill()},ge=(X,ne)=>{h==="male"?(re(t,H,Fo+X,Re,Xt-vi,ne,C),re(t,H,Fo+Xt-vi+X,Re,vi,Oe,C)):re(t,H,Fo+X,Re,Xt,Be,C)},de=(X,ne)=>{ye?re(t,Y,hr+X,vn,Un,j,C):(re(t,Y,hr+X,vn,Un,ne,C),re(t,Y,hr+X,vn,ya,j,C),h==="female"?(re(t,Y-1,hr+ya+X,1,Un,j,C),re(t,Y+vn,hr+ya+X,1,Un,j,C)):re(t,Y+1,hr+2+X,vn-2,Un-2,j,C))};switch(d){case"idle":{const X=l*Math.PI*2,ne=Math.sin(X)*.5,ce=(Math.cos(X*2)+1)*.25;oe(Xe+Ge+1),re(t,te+ne,Xe+ce,ie,Ge,L,C),re(t,q-ne,Xe+ce,ie,Ge,L,C),ge(ce,L),re(t,x,_t+ce,pe,vt,L,C),re(t,E,_t+ce,pe,vt,L,C),de(ce,L);break}case"walk":{const X=l*Math.PI*2,ne=Math.sin(X)*2,ce=Math.abs(Math.cos(X))*1;oe(Xe+Ge+1),re(t,te+ne,Xe+ce,ie,Ge,L,C),re(t,q-ne,Xe+ce,ie,Ge,L,C),ge(ce,L),re(t,x-ne,_t+ce,pe,vt,L,C),re(t,E+ne,_t+ce,pe,vt,L,C),de(ce,L);break}case"gathering":{const X=l*Math.PI*2,ne=1,Ne=(Math.sin(X)+1)/2*2,ce=ne+Math.abs(Math.cos(X))*.5;oe(Xe+Ge+1),re(t,te,Xe+ce,ie,Ge-ne,L,C),re(t,q,Xe+ce,ie,Ge-ne,L,C),ge(ce,L),re(t,x+1,_t+ce-Ne,pe,vt,L,C),re(t,E-1,_t+ce-Ne,pe,vt,L,C),de(ce,L);break}case"eat":{oe(Xe+Ge+1),re(t,te,Xe+1,ie,Ge-1,L,C),re(t,q,Xe+1,ie,Ge-1,L,C),ge(1,L);const Ne=(Math.sin(l*Math.PI*4)+1)/2,ce=Y+vn/2,En=hr+Un/2,Dt=E+(ce-E)*Ne,zt=_t+1+(En-(_t+1))*Ne;re(t,x,_t+1,pe,vt,L,C),re(t,Dt,zt,pe,vt,L,C),re(t,Dt,zt-1,1,1,ot,C),de(1,L);break}case"procreate":{const X=(Math.sin(l*Math.PI*8)+1)/4,ne=(Math.sin(l*Math.PI*6)+1)*.5,Ne=1.5,ce=Ne-ne;oe(Xe+Ge+1),re(t,te,Xe+ce,ie,Ge-Ne,L,C),re(t,q,Xe+ce,ie,Ge-Ne,L,C),ge(ce,L),re(t,x,_t+ce,pe,vt,L,C),re(t,E,_t+ce,pe,vt,L,C),de(ce,L),t.globalAlpha=X,ge(ce,"white"),t.globalAlpha=1;break}case"attacking":{const X=Math.sin(l*Math.PI)*1.5,ne=Math.abs(Math.sin(l*Math.PI));oe(Xe+Ge+1),re(t,te-X,Xe+ne,ie,Ge,L,C),re(t,q+X*.5,Xe+ne,ie,Ge,L,C),ge(ne,L),re(t,x,_t+ne-2,pe,vt,L,C),re(t,E,_t+ne-2.5,pe,vt,L,C),de(ne,L);break}case"defending":{oe(Xe+Ge+1),re(t,te,Xe+1,ie,Ge-1,L,C),re(t,q,Xe+1,ie,Ge-1,L,C),ge(1,L),re(t,x-1,_t+1-1,pe,vt,L,C),re(t,E+1,_t+1-1,pe,vt,L,C),de(1,L);break}case"stunned":case"dead":{const X=d==="dead",ne=X?Math.min(1,l):0,Ne=ne>.5?be:L,ce=h==="male"?Oe:Be,En=ne>.8?"transparent":j,Dt=R/2,zt=O/2,vr=2;oe(O-1),re(t,Dt-ie-vr,zt,ie,Ge,Ne,C),re(t,Dt+vr,zt,ie,Ge,Ne,C),re(t,Dt-pe-vr,zt-Xt+1,pe,vt,Ne,C),re(t,Dt+vr,zt-Xt+1,pe,vt,Ne,C);const Tn=Dt-Re/2,Hn=zt-Xt/2;h==="male"?(ne<.7&&re(t,Tn,Hn+Xt-vi,Re,vi,ce,C),re(t,Tn,Hn,Re,Xt-vi,Ne,C)):ne<.7?re(t,Tn,Hn,Re,Xt,ce,C):re(t,Tn,Hn,Re,Xt,Ne,C);const $r=Dt-vn/2,xn=zt-Xt/2-Un+1;if(re(t,$r,xn,vn,Un,Ne,C),En!=="transparent"&&re(t,$r,xn,vn,ya,En,C),X&&ne>.6){const Gn="#B0A890";for(let Sr=0;Sr<3;Sr++)re(t,Tn+1,Hn+Sr*1+1,Re-2,.5,Gn,C)}break}default:re(t,0,0,R,O,"magenta",C);break}t.restore()}};function N_(t,r,o,s,u){const l=r.x,d=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(l-s/2,d,s,s/2),t.fill(),t.beginPath(),t.moveTo(l-s/2,d),t.lineTo(l-s/4,d-s/3),t.lineTo(l-s/6,d),t.moveTo(l-s/6,d),t.lineTo(l,d-s/2),t.lineTo(l+s/6,d),t.moveTo(l+s/6,d),t.lineTo(l+s/4,d-s/3),t.lineTo(l+s/2,d),t.stroke(),t.restore()}function Ko(t,r,o,s,u,l=!1,d=!1,h=!1,p=!1){s<zc&&(o=o*.75),ad.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,s,[0,0],!1,0);let v,m;l?(v=_A,m=jc):d?(v=EA,m=am):h?(v=TA,m=sm):p&&(v=IA,m=om),v&&m&&N_(t,r,o/2,v,m)}function k_(t,r,o,s,u,l){if(t.save(),s.length===0){t.restore();return}const d=s.length*u,h=4;let p;const v=d+(s.length-1)*h;s.length>1&&v>l?p=(l-d)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:S,isPlayer:_,isHeir:R,isPartner:O,isParent:I}=s[m],C=r+m*(u+p)+u/2,G=o+u/4;Ko(t,{x:C,y:G},u,S.age,S.gender,_,R,O,I)}t.restore()}function O_(t,r,o,s){if(r.length===0)return;t.save();const u=ar,l=" 00",d=" 00";t.font=`${Ju}px "Press Start 2P", Arial`;const h=t.measureText(l).width,p=t.measureText(d).width,v=ar+la+ar+lr+h+ar/2+lr+p,m=r.length*ua+(r.length-1)*Mp,S=s-m-ar;t.fillStyle=RA,t.fillRect(u,S,v,m);for(let _=0;_<r.length;_++){const R=r[_],O=S+_*(ua+Mp),I=O+ua/2;R.isPlayerTribe&&(t.fillStyle=CA,t.fillRect(u,O,v,ua));let C=u+ar;t.font=`${la}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(R.tribeBadge,C,I-la/4),C+=la+ar*1.1,R.adultCount>0&&(Ko(t,{x:C+lr/2,y:I},lr,25,"male"),C+=lr/2,t.font=`${Ju}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${R.adultCount}`,C,I),C+=t.measureText(` ${R.adultCount}`).width+ar/2),R.childCount>0&&(Ko(t,{x:C+lr/2,y:I},lr,1,"female"),C+=lr/2,t.font=`${Ju}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${R.childCount}`,C,I))}t.restore()}function D_(t,r,o,s,u){t.save();const{position:l}=r;t.strokeStyle=s,t.lineWidth=2+Math.sin(u*5)*1.5,t.setLineDash([8,8]),t.beginPath(),t.arc(l.x,l.y,o,0,2*Math.PI),t.stroke(),t.restore()}function M_(t,r,o,s,u){if(r.transitionState===Et.INACTIVE)return;const l=o.steps[r.currentStepIndex];if(!l)return;t.save(),t.globalAlpha=r.transitionAlpha;const d=ZA,h=bA,p=qA,v=`${rc}px "Press Start 2P", Arial`,m=`${zp}px "Press Start 2P", Arial`,S=e1,_=zp*1.5;t.font=m;const R=l.text.split(" ");let O="";const I=[];for(let $=0;$<R.length;$++){const fe=O+R[$]+" ";t.measureText(fe).width>d-h*2&&$>0?(I.push(O),O=R[$]+" "):O=fe}I.push(O);const C=h*2+rc+h/2+I.length*_,G=(s-d)/2,z=u-C-240;t.fillStyle=JA,t.beginPath(),t.moveTo(G+p,z),t.lineTo(G+d-p,z),t.quadraticCurveTo(G+d,z,G+d,z+p),t.lineTo(G+d,z+C-p),t.quadraticCurveTo(G+d,z+C,G+d-p,z+C),t.lineTo(G+p,z+C),t.quadraticCurveTo(G,z+C,G,z+C-p),t.lineTo(G,z+p),t.quadraticCurveTo(G,z,G+p,z),t.closePath(),t.fill(),t.fillStyle=S,t.textAlign="center",t.textBaseline="top",t.font=v,t.fillText(l.title,G+d/2,z+h),t.font=m;let K=z+h+rc+h/2;for(const $ of I)t.fillText($,G+d/2,K),K+=_;t.restore()}function ug(t,r,o){t.save();const s=i1,u={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};t.strokeStyle=cm,t.lineWidth=r1+Math.sin(o*dm)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function U_(t,r){t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20)}const Oc=10,F_=3,cg=Oc*.7;function L_(t,r,o,s,u){const{position:l,food:d,maxFood:h,ownerId:p,claimedUntil:v}=r;if(t.beginPath(),t.arc(l.x,l.y,Oc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),p&&v&&v>u&&s){const m=o.entities.entities.get(p);if(m){let S;m.id===s.id?S=jc:ym(s,m,o)?S=lA:S=lm,S&&(t.strokeStyle=S,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(l.x,l.y,Oc+2,0,Math.PI*2),t.stroke())}}if(d.length>0){const m=Math.PI*2/Math.min(d.length,h);for(let S=0;S<d.length;S++){const _=S*m,R=l.x+cg*Math.cos(_),O=l.y+cg*Math.sin(_);t.beginPath(),t.arc(R,O,F_,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}function B_(t,r){const{position:o,gender:s,age:u,decayProgress:l,food:d,radius:h}=r;if(t.save(),t.globalAlpha=1-l,ad.render(t,o.x-h,o.y-h,h*2,h*2,l,"dead",s,u,[0,0],!1,0),t.restore(),d.length>0){t.save(),t.font=`${wA}px Arial`,t.textAlign="center",t.textBaseline="middle";const p=cn*.9,v=Math.PI/Kg*3;d.forEach((m,S)=>{const _=S*v,R=o.x+p*Math.cos(_)*Math.atan2(S,S),O=o.y+p*Math.sin(_)*Math.atan2(S,S),I=hm[m.type];t.fillText(I,R,O)}),t.restore()}}function Ei(t,r,o,s,u,l,d,h){t.save(),t.fillStyle=d,t.fillRect(r,o,s,u),t.fillStyle=h,t.fillRect(r,o,s*Math.max(0,l),u),t.restore()}function H_(t,r,o,s,u,l){if(t.save(),s.length===0){t.restore();return}const d=s.length*u;let h;d>l||d+(s.length-1)*4>l?h=(l-d)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=hm[s[p].type];t.fillText(v,r+p*(u+h),o)}t.restore()}function x_(t,r,o,s,u){const l=r.autopilotControls.hoveredAutopilotAction;if(!l)return;let d,h=cn/2;const p=Za[l.action],v=gm[l.action],m=`${p} ${v}`;if("targetEntityId"in l){const S=r.entities.entities.get(l.targetEntityId);S&&(d=S.position,h=S.radius)}else"position"in l&&(d=l.position);if(d){Rm(t,d,h,Yc,Vc,2,o,s,u),t.save(),t.font=`${Ni}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const S=d.x-o.x+s/2,R=d.y-o.y+u/2-h-Qa-Ni/2;t.fillText(m,S,R),t.restore()}}function G_(t,r,o,s,u){t.save();const l=(Math.sin(u*dm)+1)/2,d=o+Qa+l*5;t.strokeStyle=Yc,t.lineWidth=2,t.setLineDash(Vc),t.beginPath(),t.arc(r.x,r.y,d,0,Math.PI*2),t.stroke(),t.setLineDash([]);const h=Za[s],p=gm[s];if(h){t.font=`${Ni*1.5}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle";const v=r.y-d-25;t.fillText(h,r.x,v),t.font=`${Ni*.8}px "Press Start 2P", Arial`,t.fillText(p,r.x,v+25)}t.restore()}function z_(t,r){const o=r.autopilotControls.activeAutopilotAction;if(!o)return;let s,u=15;if("position"in o)s=o.position;else if("targetEntityId"in o){const l=r.entities.entities.get(o.targetEntityId);l&&(s=l.position,u=l.radius||30)}s&&G_(t,s,u,o.action,r.time)}const W_={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",following:"idle",tribeSplitting:"idle"};function $_(t,r){var h;const{radius:o,position:s,activeAction:u="idle"}=r,l=((h=r.stateMachine)==null?void 0:h[0])||"N/A",d=r.isAdult?cn+20:cn*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,s.x,s.y-d),t.fillText(`State: ${l}`,s.x,s.y-d+10),t.fillText(`HP: ${r.hitpoints}`,s.x,s.y-d+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-d+30),t.restore(),t.beginPath(),t.arc(s.x,s.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function j_(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();t.save(),t.font=`${xA}px Arial`,t.textAlign="left",t.textBaseline="top";const u=S=>{switch(S){case N.SUCCESS:return zA;case N.FAILURE:return WA;case N.RUNNING:return $A;case N.NOT_EVALUATED:case null:default:return jA}},l=S=>{if(!S.name||!s.has(S.name))return{width:0,height:0};let _=0,R=0;const O=s.get(S.name),I=` ${S.name}`+(O!=null&&O.debugInfo?`: ${O.debugInfo}`:""),C=t.measureText(I).width,G=(S.depth??0)*Hp+8+C+Gp+Eo+20;if(_=Math.max(_,G),R+=nc,S.children)for(const z of S.children){const K=l(z);_=Math.max(_,K.width),R+=K.height}else if(S.child){const z=l(S.child);_=Math.max(_,z.width),R+=z.height}return{width:_,height:R}},d=(S,_,R,O)=>{if(!S.name||!s.has(S.name))return _;let I=_;const C=s.get(S.name),G=R+2+(S.depth??0)*Hp;let z=N.NOT_EVALUATED,K=xp,$="";if(C){z=C.status,$=C.debugInfo;const j=VA/Zt*Qt,Oe=o-C.lastExecuted,Be=Math.max(0,1-Oe/j);K=p1(xp,YA,Be),Oe>Wo&&(z=N.NOT_EVALUATED)}const fe=u(z);t.fillStyle=fe,t.fillText("●",G,I),t.fillStyle=K;const L=` ${S.name}`+($?`: ${$}`:"");if(t.fillText(L,G+8,I),C&&C.executionHistory.length>0){const{executionHistory:j}=C,Oe=um/Zt*Qt,Be=o,be=Be-Oe,ot=R+O-Eo-Gp;let We=ot;const He=I+(nc-ca)/2,_e=j.filter(D=>D.time<be);let Re=_e.length>0?_e[_e.length-1].status:null,pe=be;const ie=j.filter(D=>D.time>=be&&D.time<=Be),H=Eo/Oe;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(ot,He,Eo,ca);for(const D of ie){const q=(D.time-pe)*H;q>0&&(t.fillStyle=u(Re),t.fillRect(We,He,q,ca),We+=q),Re=D.status,pe=D.time}o-pe>Wo&&(Re=N.NOT_EVALUATED);const x=(Be-pe)*H;t.fillStyle=u(Re);const E=ot+Eo-We;t.fillRect(We,He,Math.min(x,E),ca)}if(I+=nc,S.children)for(const j of S.children)I=d(j,I,R,O);else S.child&&(I=d(S.child,I,R,O));return I},{width:h,height:p}=l(r.aiBehaviorTree);if(p===0){t.restore();return}const v=r.position.x+BA,m=r.position.y+HA-p/2;t.fillStyle=GA,t.fillRect(v,m,h,p+4),d(r.aiBehaviorTree,m+2,v,h),t.restore()}function Y_(t,r,o,s,u){t.save(),t.font=`${Dp}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-(s?cn:$c)-Dp-u),t.restore()}function V_(t,r,o,s,u){const l=r.x,d=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(l-s/2,d,s,s/2),t.fill(),t.beginPath(),t.moveTo(l-s/2,d),t.lineTo(l-s/4,d-s/3),t.lineTo(l-s/6,d),t.moveTo(l-s/6,d),t.lineTo(l,d-s/2),t.lineTo(l+s/6,d),t.moveTo(l+s/6,d),t.lineTo(l+s/4,d-s/3),t.lineTo(l+s/2,d),t.stroke(),t.restore()}function K_(t,r,o){var h;const{position:s,radius:u}=r,l=s.x-ec/2,d=s.y-u-PA;if(((h=r.stateMachine)==null?void 0:h[0])===Di){const p=r.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/bg,1);Ei(t,l,d,ec,Up,m,wi,NA)}else if(r.attackCooldown&&r.attackCooldown>0){const p=1-r.attackCooldown/qg;Ei(t,l,d,ec,Up,p,wi,kA)}}function X_(t,r,o=!1,s=!1,u=!1,l=!1,d=!1,h=!1,p=!1,v,m){const{position:S,activeAction:_="idle"}=r,R=r.isAdult?cn:cn*.6,O=W_[_]||"idle";ad.render(t,S.x-R,S.y-R,R*2,R*2,r.animationProgress||0,O,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(t.save(),t.strokeStyle=lm,t.lineWidth=2,t.beginPath(),t.arc(S.x,S.y,R+3,0,2*Math.PI),t.stroke(),t.restore());let I,C;d?(I=cA,C=am):o?(I=uA,C=jc):u?(I=dA,C=aA):s?(I=fA,C=om):l&&(I=hA,C=sm),I&&C&&V_(t,S,R,I,C),r.tribeBadge&&Y_(t,S,r.tribeBadge,r.isAdult??!1,I??0);const G=p&&(m===void 0||r.id===m);G&&r.aiBlackboard&&j_(t,r,v),K_(t,r,v),G&&$_(t,r)}const Pm=15;function dg(t,r,o,s,u=1.5){const l=o-r.startTime,d=Math.min(l/r.duration,1),h=1-d,v=1+Math.sin(d*Math.PI*2)*(u-1),m=Pm*v;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),t.fillStyle=s,t.fill(),t.restore()}function Si(t,r,o,s,u=2){const l=o-r.startTime,d=Math.min(l/r.duration,1),h=1-d,p=Pm*2*d;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,p,0,Math.PI*2),t.strokeStyle=s,t.lineWidth=u,t.stroke(),t.restore()}function ur(t,r,o,s){const u=o-r.startTime,l=Math.min(u/r.duration,1),d=1-l,h=-20*l;t.save(),t.globalAlpha=d,t.font="20px Arial",t.textAlign="center",t.fillText(s,r.position.x,r.position.y+h),t.restore()}function Q_(t,r,o){switch(r.type){case Ie.Hunger:dg(t,r,o,"rgba(255, 165, 0, 0.7)",1);break;case Ie.Procreation:ur(t,r,o,"❤️");break;case Ie.Pregnant:dg(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ie.TargetAcquired:Si(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case Ie.Attack:ur(t,r,o,"⚔️");break;case Ie.Partnered:ur(t,r,o,"🤝");break;case Ie.BushClaimed:Si(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case Ie.BushClaimLost:Si(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case Ie.Eating:ur(t,r,o,"🍖");break;case Ie.ChildFed:ur(t,r,o,"🍼");break;case Ie.AttackDeflected:ur(t,r,o,"🛡️");break;case Ie.AttackResisted:ur(t,r,o,"💪");break;case Ie.Hit:ur(t,r,o,"💥");break;case Ie.SeizeBuildup:Si(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case Ie.Seize:Si(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case Ie.CallToAttack:Si(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Ro(t,r,o,s,u,...l){const d={...u.position};for(let h=-o;h<=o;h+=o)for(let p=-r;p<=r;p+=r)u.position.x=d.x+p,u.position.y=d.y+h,s(t,u,...l);u.position=d}function Z_(t,r,o){const s=xt(r),u=s?Ot(r,s):[],l=zr(u),{width:d,height:h}=r.mapDimensions;if(Array.from(r.entities.entities.values()).sort((v,m)=>v.position.y-m.position.y||v.id-m.id).forEach(v=>{var m,S;if(v.type==="berryBush")Ro(t,d,h,L_,v,r,s,r.time);else if(v.type==="human"){const _=v,R=_.id===(s==null?void 0:s.id),O=u.some(K=>K.id===_.id),I=_.id===(l==null?void 0:l.id),C=s&&(_.id===s.motherId||_.id===s.fatherId),G=s&&(((m=_.partnerIds)==null?void 0:m.includes(s.id))||((S=s.partnerIds)==null?void 0:S.includes(_.id))),z=(s==null?void 0:s.attackTargetId)===_.id;Ro(t,d,h,X_,_,R,C,O,G,I,z,o,r.time,r.debugCharacterId)}else v.type==="humanCorpse"&&Ro(t,d,h,B_,v)}),r.visualEffects.forEach(v=>{Ro(t,d,h,Q_,v,r.time)}),r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const v of r.tutorialState.highlightedEntityIds){const m=r.entities.entities.get(v);m&&Ro(t,d,h,D_,m,n1,cm,r.time)}}function b_(t,r,o,s,u,l){let d=null,h=null;t.textAlign="left";let p=kt+dr;const m=r.time/(Qt/Zt)/Vg%1,S=To[yi.Time],_=25,R=kt+_;t.fillText(S,kt,p+Bt/2+dr/3),Ei(t,R,p,sr,Bt,m,wi,AA),p+=Bt+Mn;const O=p+Dr/2,I=p+(Dr-Bt)/2,C=5;Ko(t,{x:kt*2,y:O},Dr,5,o.gender,!1,!1,!1);const G=kt+Dr+C,z=sr+_-(Dr+C)*2;Ei(t,G,I,z,Bt,Math.floor(o.age)/xo,wi,yA),Ko(t,{x:G+z+C+Dr/2,y:O},Dr,xo,o.gender,!1,!1,!1),p+=Bt+Mn*2;const K=[],$=new Set;if(K.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),$.add(o.id),s&&!$.has(s.id)&&(K.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),$.add(s.id)),u.forEach(_e=>{$.has(_e.id)||(K.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),$.add(_e.id))}),l.forEach(_e=>{$.has(_e.id)||(K.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),$.add(_e.id))}),o.motherId&&!$.has(o.motherId)){const _e=r.entities.entities.get(o.motherId);_e&&(K.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),$.add(_e.id))}if(o.fatherId&&!$.has(o.fatherId)){const _e=r.entities.entities.get(o.fatherId);_e&&(K.push({member:_e,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),$.add(_e.id))}const fe=To[yi.Family],L=10,j=kt+dr+L,Oe=sr+_-(dr+L),Be=p+aa/2;t.font=`${dr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(fe,kt,Be);const be=p+aa/2;k_(t,j,be,K,aa,Oe),p+=aa+Mn,t.textBaseline="alphabetic";const ot=To[yi.Hitpoints];t.fillText(ot,kt,p+Bt/2+dr/3),Ei(t,R,p,sr,Bt,o.hitpoints/o.maxHitpoints,wi,SA),p+=Bt+Mn;const We=To[yi.Hunger];t.fillText(We,kt,p+Bt/2+dr/3),Ei(t,R,p,sr,Bt,(Jt-o.hunger)/Jt,wi,vA),d={x:kt,y:p-Mn/2,width:sr+_,height:Bt+Mn},p+=Bt+Mn,t.textBaseline="middle";const He=To[yi.Food];return t.fillText(He,kt,p+sa/2),H_(t,R,p+sa/2,o.food,sa,sr),h={x:kt,y:p-Mn/5,width:sr+_,height:sa+Mn},t.textBaseline="alphabetic",{hungerBarRect:d,foodBarRect:h}}function Ba(t,r,o,s,u,l=!1){var d;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-s.x,t.canvas.height/2-s.y),!l&&r.gameOver){t.restore(),U_(t,r);return}if(Z_(t,r,o),z_(t,r),t.restore(),!l){t.fillStyle=pA,t.font=`${dr}px "Press Start 2P", Arial`,t.shadowColor=gA,t.shadowBlur=mA;const h=xt(r);let p=null,v=null;if(h){const S=Ot(r,h),_=zr(S),R=((d=h.partnerIds)==null?void 0:d.map(I=>r.entities.entities.get(I)).filter(I=>I!==void 0))||[],O=b_(t,r,h,_,R,S);p=O.hungerBarRect,v=O.foodBarRect}const m=B1(r,h==null?void 0:h.leaderId);if(O_(t,m,t.canvas.width,t.canvas.height),S_(t,r,t.canvas.width),t.shadowColor="transparent",t.shadowBlur=0,h&&(x_(t,r,s,t.canvas.width,t.canvas.height),u.length>0&&__(t,u,h,s,t.canvas.width,t.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:S}=r.tutorialState;S.has(Vo.HUNGER_BAR)&&p&&ug(t,p,r.time),S.has(Vo.FOOD_BAR)&&v&&ug(t,v,r.time)}r.tutorialState.isActive&&M_(t,r.tutorialState,r.tutorial,t.canvas.width,t.canvas.height),r.isPaused&&y_(t)}}const q_=_n.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,J_=_n.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,eE=_n.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,tE=_n.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,nE=_n.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,gc="intro-soundtrack",fg=()=>{const{setAppState:t}=Ha(),r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(qw()),u=Ae.useRef(),l=Ae.useRef(s.current.viewportCenter),d=Ae.useRef();Ae.useEffect(()=>(Zc(ze.SoundTrack1,{loop:!0,trackId:gc}),()=>{Yp(gc,2)}),[]),Ae.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const S=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Ba(o.current,s.current,!1,l.current,[],!0))};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),Ae.useEffect(()=>{const m=()=>{const _=_m(s.current);if(_.length>0){const R=Math.floor(Math.random()*_.length);d.current=_[R].id}};m();const S=setInterval(m,l1);return()=>clearInterval(S)},[]);const[h,p]=$g(m=>{if(!o.current)return;if(u.current===void 0){u.current=m;return}const S=Math.min((m-u.current)/1e3,1);s.current=Ja(s.current,S);const _=d.current?s.current.entities.entities.get(d.current):void 0;if(_){const{mapDimensions:R}=s.current,{width:O,height:I}=R;let C={..._.position};const G=C.x-l.current.x;Math.abs(G)>O/2&&(G>0?C.x-=O:C.x+=O);const z=C.y-l.current.y;Math.abs(z)>I/2&&(z>0?C.y-=I:C.y+=I);let K=Kc(l.current,C,xc*S);K={x:(K.x%O+O)%O,y:(K.y%I+I)%I},l.current=K}Ba(o.current,s.current,!1,l.current,[],!0),u.current=m});Ae.useEffect(()=>(p(),h),[p,h]);const v=()=>{Yp(gc,2),t("game")};return Te.jsxs(q_,{children:[Te.jsx(J_,{ref:r}),Te.jsxs(eE,{children:[Te.jsx(tE,{children:"Tribe"}),Te.jsx(nE,{onClick:v,children:"Start Game"})]})]})};function rE(){return console.log("Tribe game initialized with detailed 2D world state."),bw()}const iE=({canvasRef:t,ctxRef:r,gameStateRef:o,isDebugOnRef:s,viewportCenterRef:u,playerActionHintsRef:l})=>(Ae.useEffect(()=>{const d=t.current;if(!d)return;r.current=d.getContext("2d");const h=()=>{d&&r.current&&o.current&&(d.width=window.innerWidth,d.height=window.innerHeight,Ba(r.current,o.current,s.current===!0,u.current,l.current,!1))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),Te.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})),oE=(t,r,o)=>{let s;const u=H1(t,o);if(u){if(u.type==="berryBush"&&u.food.length>0)s={action:ue.AutopilotGather,targetEntityId:u.id};else if(u.type==="human"){const l=u;l.id!==r.id&&l.leaderId!==r.leaderId?s={action:ue.AutopilotAttack,targetEntityId:l.id}:l.id!==r.id&&l.gender!==r.gender&&l.isAdult&&r.isAdult&&(l.procreationCooldown||0)<=0&&l.gender==="female"&&l.age<=Ln?s={action:ue.AutopilotProcreate,targetEntityId:l.id}:r.food.length>0&&!l.isAdult&&(l.motherId===r.id||l.fatherId===r.id)?s={action:ue.AutopilotFeedChildren,targetEntityId:l.id}:r.leaderId===l.id&&l.id===l.leaderId&&(s={action:ue.AutopilotFollowMe,targetEntityId:l.id})}}else o.autopilotControls.behaviors.planting&&r.food.filter(l=>l.type===Bn.Berry).length>=zo&&qc(t,o,1,Ka,r.id)?s={action:ue.AutopilotPlant,position:t}:s={action:ue.AutopilotMove,position:t};return s},sE=(t,r)=>{if(t.isPaused||!xt(t))return;const s=t.autopilotControls.hoveredAutopilotAction;t.autopilotControls.activeAutopilotAction=void 0,s?(t.autopilotControls.activeAutopilotAction=s,(s.action===ue.AutopilotMove||s.action===ue.AutopilotGather)&&(t.hasPlayerMovedEver=!0),s.action===ue.AutopilotPlant&&(t.hasPlayerPlantedBush=!0)):t.autopilotControls.activeAutopilotAction={action:ue.AutopilotMove,position:r}},aE=(t,r,o)=>{var l,d,h;let s=!0,u=r;switch(t){case"m":r.isMuted=!r.isMuted,Mo(r.masterVolume,r.isMuted);break;case"=":case"+":const p=Math.min(1,r.masterVolume+.1);r.masterVolume=parseFloat(p.toFixed(1)),Mo(r.masterVolume,r.isMuted);break;case"-":const v=Math.max(0,r.masterVolume-.1);r.masterVolume=parseFloat(v.toFixed(1)),Mo(r.masterVolume,r.isMuted);break;case"t":u=Ja(r,nm);break;case" ":case"p":r.isPaused=!r.isPaused;break;case"§":case"`":o.current=!o.current,o.current?u.debugCharacterId=((l=xt(u))==null?void 0:l.id)??((h=(d=_m(u))==null?void 0:d[0])==null?void 0:h.id):u.debugCharacterId=void 0;break;case"tab":o.current=!0;const m=Array.from(u.entities.entities.values()).filter(S=>S.type==="human");if(m.length>0){const S=m.sort((I,C)=>I.isPlayer?-1:I.id-C.id),_=u.debugCharacterId,O=((_?S.findIndex(I=>I.id===_):-1)+1)%S.length;u.debugCharacterId=S[O].id}else u.debugCharacterId=void 0;break;default:s=!1;break}return{newState:u,handled:s}},lE=(t,r,o,s)=>{const u={gameState:r};if(t==="e"){const l=ct(o,r,"berryBush",dt,p=>p.food.length>0&&o.food.length<o.maxFood),d=ct(o,r,"humanCorpse",dt,p=>p.food.length>0&&o.food.length<o.maxFood);let h=null;l&&d?h=le(o.position,l.position,r.mapDimensions.width,r.mapDimensions.height)<=le(o.position,d.position,r.mapDimensions.width,r.mapDimensions.height)?l:d:h=l||d,h&&(o.activeAction="gathering",ut(u,ze.Gather,o.position))}else if(t==="r")ct(o,r,"human",dt,d=>{const h=d;return h.id!==o.id&&h.gender!==o.gender&&h.isAdult&&o.isAdult&&h.hunger<yt&&o.hunger<yt&&(h.procreationCooldown||0)<=0&&(o.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant:!o.isPregnant)||!1})&&(o.activeAction="procreating",ut(u,ze.Procreate,o.position));else if(t==="f")o.activeAction="eating",ut(u,ze.Eat,o.position);else if(t==="arrowup"||t==="w")o.direction.y=-1,o.activeAction="moving",o.target=void 0,r.hasPlayerMovedEver=!0,r.autopilotControls.isManuallyMoving=!0,r.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowdown"||t==="s")o.direction.y=1,o.activeAction="moving",o.target=void 0,r.hasPlayerMovedEver=!0,r.autopilotControls.isManuallyMoving=!0,r.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowleft"||t==="a")o.direction.x=-1,o.activeAction="moving",o.target=void 0,r.hasPlayerMovedEver=!0,r.autopilotControls.isManuallyMoving=!0,r.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowright"||t==="d")o.direction.x=1,o.activeAction="moving",o.target=void 0,r.hasPlayerMovedEver=!0,r.autopilotControls.isManuallyMoving=!0,r.autopilotControls.activeAutopilotAction=void 0;else if(t==="q"){const l=ct(o,r,"human",Va,d=>d.id!==o.id&&d.leaderId!==o.leaderId);l&&(o.activeAction="attacking",o.attackTargetId=l.id)}else if(t==="b"){if(s.current.find(d=>d.type===ue.PlantBush)){const d=qc(o.position,r,50,Ic);d&&(o.activeAction="planting",o.target=d,r.hasPlayerPlantedBush=!0)}}else t==="v"?s.current.find(d=>d.type===ue.CallToAttack)&&(o.isCallingToAttack=!0,o.callToAttackEndTime=r.time+Da,ft(r,Ie.CallToAttack,o.position,Da),ut(u,ze.CallToAttack,o.position)):t==="c"?s.current.find(d=>d.type===ue.FollowMe)&&(o.isCallingToFollow=!0,o.callToFollowEndTime=r.time+Rc,ft(r,Ie.CallToFollow,o.position,Rc),ut(u,ze.CallToFollow,o.position)):t==="k"&&s.current.find(d=>d.type===ue.TribeSplit)&&wm(o,r)},uE=(t,r,o,s)=>{t==="arrowup"||t==="w"||t==="arrowdown"||t==="s"?r.direction.y=0:(t==="arrowleft"||t==="a"||t==="arrowright"||t==="d")&&(r.direction.x=0),!s.current.has("arrowup")&&!s.current.has("arrowdown")&&!s.current.has("arrowleft")&&!s.current.has("arrowright")&&!s.current.has("w")&&!s.current.has("a")&&!s.current.has("s")&&!s.current.has("d")&&(r.activeAction==="moving"&&(r.activeAction="idle"),o.autopilotControls.isManuallyMoving=!1),!s.current.has("e")&&r.activeAction==="gathering"&&(r.activeAction="idle"),!s.current.has("f")&&r.activeAction==="eating"&&(r.activeAction="idle"),!s.current.has("r")&&r.activeAction==="procreating"&&(r.activeAction="idle")},cE=(t,r)=>{const o={gameState:r},s=xt(r);switch(s&&ut(o,ze.ButtonClick,s.position),t.action){case he.ToggleMute:r.isMuted=!r.isMuted,Mo(r.masterVolume,r.isMuted);break;case he.TogglePause:r.isPaused=!r.isPaused;break;case he.FastForward:return Ja(r,nm);case he.ToggleProcreationBehavior:r.autopilotControls.behaviors.procreation=!r.autopilotControls.behaviors.procreation;break;case he.TogglePlantingBehavior:r.autopilotControls.behaviors.planting=!r.autopilotControls.behaviors.planting;break;case he.ToggleGatheringBehavior:r.autopilotControls.behaviors.gathering=!r.autopilotControls.behaviors.gathering;break;case he.ToggleAttackBehavior:r.autopilotControls.behaviors.attack=!r.autopilotControls.behaviors.attack;break;case he.ToggleCallToAttackBehavior:r.autopilotControls.behaviors.callToAttack=!r.autopilotControls.behaviors.callToAttack;break;case he.ToggleFollowMeBehavior:r.autopilotControls.behaviors.followMe=!r.autopilotControls.behaviors.followMe;break;case he.ToggleFeedChildrenBehavior:r.autopilotControls.behaviors.feedChildren=!r.autopilotControls.behaviors.feedChildren;break}return r},dE=({isActive:t,gameStateRef:r,canvasRef:o,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:l,keysPressed:d})=>(Ae.useEffect(()=>{const h=p=>{if(!t()||r.current.gameOver||!o.current||!p.target||p.target!==o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,S=p.clientY-v.top,_=r.current.uiButtons.find(O=>m>=O.rect.x&&m<=O.rect.x+O.rect.width&&S>=O.rect.y&&S<=O.rect.y+O.rect.height);if(_){r.current=cE(_,r.current);return}const R=Zp({x:m,y:S},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);sE(r.current,R)};return window.addEventListener("mousedown",h),()=>{window.removeEventListener("mousedown",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=p=>{if(!t()||!o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,S=p.clientY-v.top;r.current.mousePosition={x:m,y:S};let _;for(let O=r.current.uiButtons.length-1;O>=0;O--){const I=r.current.uiButtons[O];if(m>=I.rect.x&&m<=I.rect.x+I.rect.width&&S>=I.rect.y&&S<=I.rect.y+I.rect.height){_=I.id;break}}if(r.current.hoveredButtonId=_,_){r.current.autopilotControls.hoveredAutopilotAction=void 0;return}const R=xt(r.current);if(R){const O=Zp({x:m,y:S},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);r.current.autopilotControls.hoveredAutopilotAction=oE(O,R,r.current)}else r.current.autopilotControls.hoveredAutopilotAction=void 0};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();if((m===" "||m==="p"||m==="tab")&&v.preventDefault(),m==="escape"){r.current.autopilotControls.activeAutopilotAction=void 0;return}const S=aE(m,r.current,l);if(r.current=S.newState,S.handled)return;const _=xt(r.current);_&&(d.current.add(m),lE(m,r.current,_,u))},p=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();d.current.delete(m);const S=xt(r.current);S&&uE(m,S,r.current,d)};return window.addEventListener("keydown",h),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",p)}},[t,r,u,l,d]),null),fE=(t,r,o)=>{let u=xt(t);if(t.debugCharacterId){const l=t.entities.entities.get(t.debugCharacterId);l&&"position"in l&&(u=l)}if(u){const{mapDimensions:l}=t,{width:d,height:h}=l;let p={...u.position};const v=p.x-r.x;Math.abs(v)>d/2&&(v>0?p.x-=d:p.x+=d);const m=p.y-r.y;Math.abs(m)>h/2&&(m>0?p.y-=h:p.y+=h);let S=Kc(r,p,xc*o);return S={x:(S.x%d+d)%d,y:(S.y%h+h)%h},S}return t.viewportCenter},hE=({gameStateRef:t,ctxRef:r,isDebugOnRef:o,viewportCenterRef:s,playerActionHintsRef:u,keysPressed:l,canvasRef:d,setAppState:h,appState:p})=>{const v=Ae.useRef(),[m,S,_]=$g(R=>{if(!r.current||!v.current){v.current=R;return}const O=Math.min(R-v.current,1e3)/1e3;t.current=Ja(t.current,O);const I=xt(t.current);I?u.current=vm(t.current,I):u.current=[],s.current=fE(t.current,s.current,O),Ba(r.current,t.current,o.current,s.current,u.current,!1),v.current=R,t.current.gameOver&&p!=="gameOver"&&(Zc(ze.GameOver,{masterVolume:t.current.masterVolume,isMuted:t.current.isMuted}),h("gameOver",{generations:t.current.generationCount,cause:t.current.causeOfGameOver||"Unknown"}))});return Ae.useEffect(()=>(S(),m),[S,m]),Te.jsx(dE,{isActive:_,gameStateRef:t,canvasRef:d,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:o,keysPressed:l})},hg=()=>{const[t]=Ae.useState(()=>rE());return Te.jsx(pE,{initialState:t})},pE=({initialState:t})=>{const r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(t),u=Ae.useRef(new Set),l=Ae.useRef(!1),d=Ae.useRef(t.viewportCenter),h=Ae.useRef([]),{appState:p,setAppState:v}=Ha();return Te.jsxs(Te.Fragment,{children:[Te.jsx(iE,{canvasRef:r,ctxRef:o,gameStateRef:s,isDebugOnRef:l,viewportCenterRef:d,playerActionHintsRef:h}),Te.jsx(hE,{gameStateRef:s,ctxRef:o,isDebugOnRef:l,viewportCenterRef:d,playerActionHintsRef:h,keysPressed:u,canvasRef:r,setAppState:v,appState:p})]})},gE=_n.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,mE=_n.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Aa=_n.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,vE=_n.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,SE=()=>{const{setAppState:t,gameOverDetails:r}=Ha(),o=()=>{t("intro")};return Te.jsxs(gE,{children:[Te.jsx(mE,{children:"Game Over"}),Te.jsx(Aa,{children:"Your tribe's lineage has ended."}),r&&Te.jsxs(Te.Fragment,{children:[Te.jsxs(Aa,{children:["Generations Survived: ",r.generations]}),Te.jsxs(Aa,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Te.jsx(Aa,{children:"Game details are unavailable."}),Te.jsx(vE,{onClick:o,children:"Return to Menu"})]})},yE=HS`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function AE(t,r){Ae.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Ae.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const wE=()=>{const{appState:t,setAppState:r}=Ha();AE(t,r);const o=()=>{switch(t){case"intro":return Te.jsx(fg,{});case"game":return Te.jsx(hg,{});case"gameOver":return Te.jsxs(Te.Fragment,{children:[Te.jsx(hg,{}),Te.jsx(SE,{})]});default:return Te.jsx(fg,{})}};return Te.jsxs(Te.Fragment,{children:[Te.jsx(yE,{}),o()]})},pg=document.getElementById("root");pg?I1().then(()=>{L0.createRoot(pg).render(Te.jsx(yn.StrictMode,{children:Te.jsx(B0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Te.jsx(wE,{})})}))}):console.error("Failed to find the root element");
