var M0=Object.defineProperty;var U0=(n,i,o)=>i in n?M0(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var et=(n,i,o)=>U0(n,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(c){if(c.ep)return;c.ep=!0;const u=o(c);fetch(c.href,u)}})();function Rp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vu={exports:{}},so={},yu={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function L0(){if(Ah)return me;Ah=1;var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function A(w,D,te){this.props=w,this.context=D,this.refs=O,this.updater=te||k}A.prototype.isReactComponent={},A.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function M(){}M.prototype=A.prototype;function N(w,D,te){this.props=w,this.context=D,this.refs=O,this.updater=te||k}var Y=N.prototype=new M;Y.constructor=N,P(Y,A.prototype),Y.isPureReactComponent=!0;var H=Array.isArray,$=Object.prototype.hasOwnProperty,U={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function ee(w,D,te){var K,pe={},ae=null,fe=null;if(D!=null)for(K in D.ref!==void 0&&(fe=D.ref),D.key!==void 0&&(ae=""+D.key),D)$.call(D,K)&&!W.hasOwnProperty(K)&&(pe[K]=D[K]);var de=arguments.length-2;if(de===1)pe.children=te;else if(1<de){for(var Z=Array(de),ie=0;ie<de;ie++)Z[ie]=arguments[ie+2];pe.children=Z}if(w&&w.defaultProps)for(K in de=w.defaultProps,de)pe[K]===void 0&&(pe[K]=de[K]);return{$$typeof:n,type:w,key:ae,ref:fe,props:pe,_owner:U.current}}function Ae(w,D){return{$$typeof:n,type:w.type,key:D,ref:w.ref,props:w.props,_owner:w._owner}}function Oe(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Ze(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return D[te]})}var Le=/\/+/g;function Te(w,D){return typeof w=="object"&&w!==null&&w.key!=null?Ze(""+w.key):D.toString(36)}function ye(w,D,te,K,pe){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var fe=!1;if(w===null)fe=!0;else switch(ae){case"string":case"number":fe=!0;break;case"object":switch(w.$$typeof){case n:case i:fe=!0}}if(fe)return fe=w,pe=pe(fe),w=K===""?"."+Te(fe,0):K,H(pe)?(te="",w!=null&&(te=w.replace(Le,"$&/")+"/"),ye(pe,D,te,"",function(ie){return ie})):pe!=null&&(Oe(pe)&&(pe=Ae(pe,te+(!pe.key||fe&&fe.key===pe.key?"":(""+pe.key).replace(Le,"$&/")+"/")+w)),D.push(pe)),1;if(fe=0,K=K===""?".":K+":",H(w))for(var de=0;de<w.length;de++){ae=w[de];var Z=K+Te(ae,de);fe+=ye(ae,D,te,Z,pe)}else if(Z=T(w),typeof Z=="function")for(w=Z.call(w),de=0;!(ae=w.next()).done;)ae=ae.value,Z=K+Te(ae,de++),fe+=ye(ae,D,te,Z,pe);else if(ae==="object")throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return fe}function ve(w,D,te){if(w==null)return w;var K=[],pe=0;return ye(w,K,"","",function(ae){return D.call(te,ae,pe++)}),K}function ce(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var se={current:null},G={transition:null},V={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:G,ReactCurrentOwner:U};function j(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:ve,forEach:function(w,D,te){ve(w,function(){D.apply(this,arguments)},te)},count:function(w){var D=0;return ve(w,function(){D++}),D},toArray:function(w){return ve(w,function(D){return D})||[]},only:function(w){if(!Oe(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},me.Component=A,me.Fragment=o,me.Profiler=c,me.PureComponent=N,me.StrictMode=a,me.Suspense=m,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,me.act=j,me.cloneElement=function(w,D,te){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var K=P({},w.props),pe=w.key,ae=w.ref,fe=w._owner;if(D!=null){if(D.ref!==void 0&&(ae=D.ref,fe=U.current),D.key!==void 0&&(pe=""+D.key),w.type&&w.type.defaultProps)var de=w.type.defaultProps;for(Z in D)$.call(D,Z)&&!W.hasOwnProperty(Z)&&(K[Z]=D[Z]===void 0&&de!==void 0?de[Z]:D[Z])}var Z=arguments.length-2;if(Z===1)K.children=te;else if(1<Z){de=Array(Z);for(var ie=0;ie<Z;ie++)de[ie]=arguments[ie+2];K.children=de}return{$$typeof:n,type:w.type,key:pe,ref:ae,props:K,_owner:fe}},me.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:u,_context:w},w.Consumer=w},me.createElement=ee,me.createFactory=function(w){var D=ee.bind(null,w);return D.type=w,D},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:h,render:w}},me.isValidElement=Oe,me.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:ce}},me.memo=function(w,D){return{$$typeof:S,type:w,compare:D===void 0?null:D}},me.startTransition=function(w){var D=G.transition;G.transition={};try{w()}finally{G.transition=D}},me.unstable_act=j,me.useCallback=function(w,D){return se.current.useCallback(w,D)},me.useContext=function(w){return se.current.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w){return se.current.useDeferredValue(w)},me.useEffect=function(w,D){return se.current.useEffect(w,D)},me.useId=function(){return se.current.useId()},me.useImperativeHandle=function(w,D,te){return se.current.useImperativeHandle(w,D,te)},me.useInsertionEffect=function(w,D){return se.current.useInsertionEffect(w,D)},me.useLayoutEffect=function(w,D){return se.current.useLayoutEffect(w,D)},me.useMemo=function(w,D){return se.current.useMemo(w,D)},me.useReducer=function(w,D,te){return se.current.useReducer(w,D,te)},me.useRef=function(w){return se.current.useRef(w)},me.useState=function(w){return se.current.useState(w)},me.useSyncExternalStore=function(w,D,te){return se.current.useSyncExternalStore(w,D,te)},me.useTransition=function(){return se.current.useTransition()},me.version="18.3.1",me}var Ih;function oc(){return Ih||(Ih=1,yu.exports=L0()),yu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function F0(){if(Th)return so;Th=1;var n=oc(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,S){var g,y={},T=null,k=null;S!==void 0&&(T=""+S),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(k=m.ref);for(g in m)a.call(m,g)&&!u.hasOwnProperty(g)&&(y[g]=m[g]);if(h&&h.defaultProps)for(g in m=h.defaultProps,m)y[g]===void 0&&(y[g]=m[g]);return{$$typeof:i,type:h,key:T,ref:k,props:y,_owner:c.current}}return so.Fragment=o,so.jsx=f,so.jsxs=f,so}var Ch;function H0(){return Ch||(Ch=1,vu.exports=F0()),vu.exports}var Re=H0(),ge=oc();const pn=Rp(ge);var Ws={},Su={exports:{}},It={},Eu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function x0(){return Rh||(Rh=1,function(n){function i(G,V){var j=G.length;G.push(V);e:for(;0<j;){var w=j-1>>>1,D=G[w];if(0<c(D,V))G[w]=V,G[j]=D,j=w;else break e}}function o(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var V=G[0],j=G.pop();if(j!==V){G[0]=j;e:for(var w=0,D=G.length,te=D>>>1;w<te;){var K=2*(w+1)-1,pe=G[K],ae=K+1,fe=G[ae];if(0>c(pe,j))ae<D&&0>c(fe,pe)?(G[w]=fe,G[ae]=j,w=ae):(G[w]=pe,G[K]=j,w=K);else if(ae<D&&0>c(fe,j))G[w]=fe,G[ae]=j,w=ae;else break e}}return V}function c(G,V){var j=G.sortIndex-V.sortIndex;return j!==0?j:G.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var m=[],S=[],g=1,y=null,T=3,k=!1,P=!1,O=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(G){for(var V=o(S);V!==null;){if(V.callback===null)a(S);else if(V.startTime<=G)a(S),V.sortIndex=V.expirationTime,i(m,V);else break;V=o(S)}}function H(G){if(O=!1,Y(G),!P)if(o(m)!==null)P=!0,ce($);else{var V=o(S);V!==null&&se(H,V.startTime-G)}}function $(G,V){P=!1,O&&(O=!1,M(ee),ee=-1),k=!0;var j=T;try{for(Y(V),y=o(m);y!==null&&(!(y.expirationTime>V)||G&&!Ze());){var w=y.callback;if(typeof w=="function"){y.callback=null,T=y.priorityLevel;var D=w(y.expirationTime<=V);V=n.unstable_now(),typeof D=="function"?y.callback=D:y===o(m)&&a(m),Y(V)}else a(m);y=o(m)}if(y!==null)var te=!0;else{var K=o(S);K!==null&&se(H,K.startTime-V),te=!1}return te}finally{y=null,T=j,k=!1}}var U=!1,W=null,ee=-1,Ae=5,Oe=-1;function Ze(){return!(n.unstable_now()-Oe<Ae)}function Le(){if(W!==null){var G=n.unstable_now();Oe=G;var V=!0;try{V=W(!0,G)}finally{V?Te():(U=!1,W=null)}}else U=!1}var Te;if(typeof N=="function")Te=function(){N(Le)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ve=ye.port2;ye.port1.onmessage=Le,Te=function(){ve.postMessage(null)}}else Te=function(){A(Le,0)};function ce(G){W=G,U||(U=!0,Te())}function se(G,V){ee=A(function(){G(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){P||k||(P=!0,ce($))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return o(m)},n.unstable_next=function(G){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var j=T;T=V;try{return G()}finally{T=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var j=T;T=G;try{return V()}finally{T=j}},n.unstable_scheduleCallback=function(G,V,j){var w=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?w+j:w):j=w,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=j+D,G={id:g++,callback:V,priorityLevel:G,startTime:j,expirationTime:D,sortIndex:-1},j>w?(G.sortIndex=j,i(S,G),o(m)===null&&G===o(S)&&(O?(M(ee),ee=-1):O=!0,se(H,j-w))):(G.sortIndex=D,i(m,G),P||k||(P=!0,ce($))),G},n.unstable_shouldYield=Ze,n.unstable_wrapCallback=function(G){var V=T;return function(){var j=T;T=V;try{return G.apply(this,arguments)}finally{T=j}}}}(_u)),_u}var kh;function B0(){return kh||(kh=1,Eu.exports=x0()),Eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function G0(){if(Ph)return It;Ph=1;var n=oc(),i=B0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function T(e){return m.call(y,e)?!0:m.call(g,e)?!1:S.test(e)?y[e]=!0:(g[e]=!0,!1)}function k(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,r,s){if(t===null||typeof t>"u"||k(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,r,s,l,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,N);A[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,N);A[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,N);A[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y(e,t,r,s){var l=A.hasOwnProperty(t)?A[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,r,l,s)&&(r=null),s||l===null?T(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),U=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),G=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,w;function D(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var te=!1;function K(e,t){if(!e||te)return"";te=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var s=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){s=R}e.call(t.prototype)}else{try{throw Error()}catch(R){s=R}e()}}catch(R){if(R&&s&&typeof R.stack=="string"){for(var l=R.stack.split(`
`),d=s.stack.split(`
`),p=l.length-1,v=d.length-1;1<=p&&0<=v&&l[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(l[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||l[p]!==d[v]){var E=`
`+l[p].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=p&&0<=v);break}}}finally{te=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function pe(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case U:return"Portal";case Ae:return"Profiler";case ee:return"StrictMode";case Te:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ze:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case Le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ie(e){var t=Z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){s=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ie(e){e._valueTracker||(e._valueTracker=ie(e))}function ue(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Z(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function En(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kt(e,t){var r=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ft(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=de(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fr(e,t){t=t.checked,t!=null&&Y(e,"checked",t,!1)}function _n(e,t){fr(e,t);var r=de(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lr(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lr(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dn(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lr(e,t,r){(t!=="number"||En(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mn=Array.isArray;function Un(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+de(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function hr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(o(92));if(Mn(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:de(r)}}function Mc(e,t){var r=de(t.value),s=de(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,Fc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hm=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(e){Hm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ai[t]=Ai[e]})});function Hc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ai.hasOwnProperty(e)&&Ai[e]?(""+t).trim():t+"px"}function xc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Hc(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var xm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,t){if(t){if(xm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Na(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Da(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Fr=null,Hr=null;function Bc(e){if(e=Yi(e)){if(typeof Ma!="function")throw Error(o(280));var t=e.stateNode;t&&(t=is(t),Ma(e.stateNode,e.type,t))}}function Gc(e){Fr?Hr?Hr.push(e):Hr=[e]:Fr=e}function zc(){if(Fr){var e=Fr,t=Hr;if(Hr=Fr=null,Bc(e),t)for(e=0;e<t.length;e++)Bc(t[e])}}function jc(e,t){return e(t)}function Wc(){}var Ua=!1;function $c(e,t,r){if(Ua)return e(t,r);Ua=!0;try{return jc(e,t,r)}finally{Ua=!1,(Fr!==null||Hr!==null)&&(Wc(),zc())}}function Ii(e,t){var r=e.stateNode;if(r===null)return null;var s=is(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var La=!1;if(h)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){La=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{La=!1}function Bm(e,t,r,s,l,d,p,v,E){var R=Array.prototype.slice.call(arguments,3);try{t.apply(r,R)}catch(F){this.onError(F)}}var Ci=!1,Fo=null,Ho=!1,Fa=null,Gm={onError:function(e){Ci=!0,Fo=e}};function zm(e,t,r,s,l,d,p,v,E){Ci=!1,Fo=null,Bm.apply(Gm,arguments)}function jm(e,t,r,s,l,d,p,v,E){if(zm.apply(this,arguments),Ci){if(Ci){var R=Fo;Ci=!1,Fo=null}else throw Error(o(198));Ho||(Ho=!0,Fa=R)}}function pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Yc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vc(e){if(pr(e)!==e)throw Error(o(188))}function Wm(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return Vc(l),e;if(d===s)return Vc(l),t;d=d.sibling}throw Error(o(188))}if(r.return!==s.return)r=l,s=d;else{for(var p=!1,v=l.child;v;){if(v===r){p=!0,r=l,s=d;break}if(v===s){p=!0,s=l,r=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===r){p=!0,r=d,s=l;break}if(v===s){p=!0,s=d,r=l;break}v=v.sibling}if(!p)throw Error(o(189))}}if(r.alternate!==s)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function Xc(e){return e=Wm(e),e!==null?Kc(e):null}function Kc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kc(e);if(t!==null)return t;e=e.sibling}return null}var Qc=i.unstable_scheduleCallback,Zc=i.unstable_cancelCallback,$m=i.unstable_shouldYield,Ym=i.unstable_requestPaint,We=i.unstable_now,Vm=i.unstable_getCurrentPriorityLevel,Ha=i.unstable_ImmediatePriority,qc=i.unstable_UserBlockingPriority,xo=i.unstable_NormalPriority,Xm=i.unstable_LowPriority,Jc=i.unstable_IdlePriority,Bo=null,sn=null;function Km(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Bo,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:qm,Qm=Math.log,Zm=Math.LN2;function qm(e){return e>>>=0,e===0?32:31-(Qm(e)/Zm|0)|0}var Go=64,zo=4194304;function Ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,d=e.pingedLanes,p=r&268435455;if(p!==0){var v=p&~l;v!==0?s=Ri(v):(d&=p,d!==0&&(s=Ri(d)))}else p=r&~l,p!==0?s=Ri(p):d!==0&&(s=Ri(d));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-qt(t),l=1<<r,s|=e[r],t&=~l;return s}function Jm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-qt(d),v=1<<p,E=l[p];E===-1?((v&r)===0||(v&s)!==0)&&(l[p]=Jm(v,t)):E<=t&&(e.expiredLanes|=v),d&=~v}}function xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bc(){var e=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),e}function Ba(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ki(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=r}function eg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-qt(r),d=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~d}}function Ga(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-qt(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var ke=0;function ed(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var td,za,nd,rd,id,ja=!1,Wo=[],Ln=null,Fn=null,Hn=null,Pi=new Map,Ni=new Map,xn=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function od(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Oi(e,t,r,s,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Yi(t),t!==null&&za(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ng(e,t,r,s,l){switch(t){case"focusin":return Ln=Oi(Ln,e,t,r,s,l),!0;case"dragenter":return Fn=Oi(Fn,e,t,r,s,l),!0;case"mouseover":return Hn=Oi(Hn,e,t,r,s,l),!0;case"pointerover":var d=l.pointerId;return Pi.set(d,Oi(Pi.get(d)||null,e,t,r,s,l)),!0;case"gotpointercapture":return d=l.pointerId,Ni.set(d,Oi(Ni.get(d)||null,e,t,r,s,l)),!0}return!1}function sd(e){var t=mr(e.target);if(t!==null){var r=pr(t);if(r!==null){if(t=r.tag,t===13){if(t=Yc(r),t!==null){e.blockedOn=t,id(e.priority,function(){nd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Oa=s,r.target.dispatchEvent(s),Oa=null}else return t=Yi(r),t!==null&&za(t),e.blockedOn=r,!1;t.shift()}return!0}function ad(e,t,r){$o(e)&&r.delete(t)}function rg(){ja=!1,Ln!==null&&$o(Ln)&&(Ln=null),Fn!==null&&$o(Fn)&&(Fn=null),Hn!==null&&$o(Hn)&&(Hn=null),Pi.forEach(ad),Ni.forEach(ad)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,ja||(ja=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rg)))}function Mi(e){function t(l){return Di(l,e)}if(0<Wo.length){Di(Wo[0],e);for(var r=1;r<Wo.length;r++){var s=Wo[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ln!==null&&Di(Ln,e),Fn!==null&&Di(Fn,e),Hn!==null&&Di(Hn,e),Pi.forEach(t),Ni.forEach(t),r=0;r<xn.length;r++)s=xn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<xn.length&&(r=xn[0],r.blockedOn===null);)sd(r),r.blockedOn===null&&xn.shift()}var xr=H.ReactCurrentBatchConfig,Yo=!0;function ig(e,t,r,s){var l=ke,d=xr.transition;xr.transition=null;try{ke=1,Wa(e,t,r,s)}finally{ke=l,xr.transition=d}}function og(e,t,r,s){var l=ke,d=xr.transition;xr.transition=null;try{ke=4,Wa(e,t,r,s)}finally{ke=l,xr.transition=d}}function Wa(e,t,r,s){if(Yo){var l=$a(e,t,r,s);if(l===null)al(e,t,s,Vo,r),od(e,s);else if(ng(l,e,t,r,s))s.stopPropagation();else if(od(e,s),t&4&&-1<tg.indexOf(e)){for(;l!==null;){var d=Yi(l);if(d!==null&&td(d),d=$a(e,t,r,s),d===null&&al(e,t,s,Vo,r),d===l)break;l=d}l!==null&&s.stopPropagation()}else al(e,t,s,null,r)}}var Vo=null;function $a(e,t,r,s){if(Vo=null,e=Da(s),e=mr(e),e!==null)if(t=pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Yc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vo=e,null}function ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case Ha:return 1;case qc:return 4;case xo:case Xm:return 16;case Jc:return 536870912;default:return 16}default:return 16}}var Bn=null,Ya=null,Xo=null;function ud(){if(Xo)return Xo;var e,t=Ya,r=t.length,s,l="value"in Bn?Bn.value:Bn.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===l[d-s];s++);return Xo=l.slice(e,1<s?1-s:void 0)}function Ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function cd(){return!1}function Pt(e){function t(r,s,l,d,p){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qo:cd,this.isPropagationStopped=cd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Pt(Br),Ui=j({},Br,{view:0,detail:0}),sg=Pt(Ui),Xa,Ka,Li,Zo=j({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Xa=e.screenX-Li.screenX,Ka=e.screenY-Li.screenY):Ka=Xa=0,Li=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Ka}}),dd=Pt(Zo),ag=j({},Zo,{dataTransfer:0}),lg=Pt(ag),ug=j({},Ui,{relatedTarget:0}),Qa=Pt(ug),cg=j({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),dg=Pt(cg),fg=j({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hg=Pt(fg),pg=j({},Br,{data:0}),fd=Pt(pg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function Za(){return yg}var Sg=j({},Ui,{key:function(e){if(e.key){var t=mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eg=Pt(Sg),_g=j({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hd=Pt(_g),wg=j({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),Ag=Pt(wg),Ig=j({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=Pt(Ig),Cg=j({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rg=Pt(Cg),kg=[9,13,27,32],qa=h&&"CompositionEvent"in window,Fi=null;h&&"documentMode"in document&&(Fi=document.documentMode);var Pg=h&&"TextEvent"in window&&!Fi,pd=h&&(!qa||Fi&&8<Fi&&11>=Fi),md=" ",gd=!1;function vd(e,t){switch(e){case"keyup":return kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function Ng(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(gd=!0,md);case"textInput":return e=t.data,e===md&&gd?null:e;default:return null}}function Og(e,t){if(Gr)return e==="compositionend"||!qa&&vd(e,t)?(e=ud(),Xo=Ya=Bn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pd&&t.locale!=="ko"?null:t.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dg[e.type]:t==="textarea"}function Ed(e,t,r,s){Gc(s),t=ts(t,"onChange"),0<t.length&&(r=new Va("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Hi=null,xi=null;function Mg(e){xd(e,0)}function qo(e){var t=Yr(e);if(ue(t))return e}function Ug(e,t){if(e==="change")return t}var _d=!1;if(h){var Ja;if(h){var ba="oninput"in document;if(!ba){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),ba=typeof wd.oninput=="function"}Ja=ba}else Ja=!1;_d=Ja&&(!document.documentMode||9<document.documentMode)}function Ad(){Hi&&(Hi.detachEvent("onpropertychange",Id),xi=Hi=null)}function Id(e){if(e.propertyName==="value"&&qo(xi)){var t=[];Ed(t,xi,e,Da(e)),$c(Mg,t)}}function Lg(e,t,r){e==="focusin"?(Ad(),Hi=t,xi=r,Hi.attachEvent("onpropertychange",Id)):e==="focusout"&&Ad()}function Fg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(xi)}function Hg(e,t){if(e==="click")return qo(t)}function xg(e,t){if(e==="input"||e==="change")return qo(t)}function Bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:Bg;function Bi(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!m.call(t,l)||!Jt(e[l],t[l]))return!1}return!0}function Td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cd(e,t){var r=Td(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Td(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kd(){for(var e=window,t=En();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=En(e.document)}return t}function el(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gg(e){var t=kd(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(s!==null&&el(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(s.start,l);s=s.end===void 0?d:Math.min(s.end,l),!e.extend&&d>s&&(l=s,s=d,d=l),l=Cd(r,d);var p=Cd(r,s);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zg=h&&"documentMode"in document&&11>=document.documentMode,zr=null,tl=null,Gi=null,nl=!1;function Pd(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nl||zr==null||zr!==En(s)||(s=zr,"selectionStart"in s&&el(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gi&&Bi(Gi,s)||(Gi=s,s=ts(tl,"onSelect"),0<s.length&&(t=new Va("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zr)))}function Jo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jr={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},rl={},Nd={};h&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function bo(e){if(rl[e])return rl[e];if(!jr[e])return e;var t=jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nd)return rl[e]=t[r];return e}var Od=bo("animationend"),Dd=bo("animationiteration"),Md=bo("animationstart"),Ud=bo("transitionend"),Ld=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(e,t){Ld.set(e,t),u(t,[e])}for(var il=0;il<Fd.length;il++){var ol=Fd[il],jg=ol.toLowerCase(),Wg=ol[0].toUpperCase()+ol.slice(1);Gn(jg,"on"+Wg)}Gn(Od,"onAnimationEnd"),Gn(Dd,"onAnimationIteration"),Gn(Md,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Ud,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$g=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Hd(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,jm(s,t,void 0,e),e.currentTarget=null}function xd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],E=v.instance,R=v.currentTarget;if(v=v.listener,E!==d&&l.isPropagationStopped())break e;Hd(l,v,R),d=E}else for(p=0;p<s.length;p++){if(v=s[p],E=v.instance,R=v.currentTarget,v=v.listener,E!==d&&l.isPropagationStopped())break e;Hd(l,v,R),d=E}}}if(Ho)throw e=Fa,Ho=!1,Fa=null,e}function De(e,t){var r=t[hl];r===void 0&&(r=t[hl]=new Set);var s=e+"__bubble";r.has(s)||(Bd(t,e,2,!1),r.add(s))}function sl(e,t,r){var s=0;t&&(s|=4),Bd(r,e,s,t)}var es="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[es]){e[es]=!0,a.forEach(function(r){r!=="selectionchange"&&($g.has(r)||sl(r,!1,e),sl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[es]||(t[es]=!0,sl("selectionchange",!1,t))}}function Bd(e,t,r,s){switch(ld(t)){case 1:var l=ig;break;case 4:l=og;break;default:l=Wa}r=l.bind(null,t,r,e),l=void 0,!La||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function al(e,t,r,s,l){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(p===4)for(p=s.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===l||E.nodeType===8&&E.parentNode===l))return;p=p.return}for(;v!==null;){if(p=mr(v),p===null)return;if(E=p.tag,E===5||E===6){s=d=p;continue e}v=v.parentNode}}s=s.return}$c(function(){var R=d,F=Da(r),x=[];e:{var L=Ld.get(e);if(L!==void 0){var X=Va,q=e;switch(e){case"keypress":if(Ko(r)===0)break e;case"keydown":case"keyup":X=Eg;break;case"focusin":q="focus",X=Qa;break;case"focusout":q="blur",X=Qa;break;case"beforeblur":case"afterblur":X=Qa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ag;break;case Od:case Dd:case Md:X=dg;break;case Ud:X=Tg;break;case"scroll":X=sg;break;case"wheel":X=Rg;break;case"copy":case"cut":case"paste":X=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=hd}var J=(t&4)!==0,$e=!J&&e==="scroll",I=J?L!==null?L+"Capture":null:L;J=[];for(var _=R,C;_!==null;){C=_;var B=C.stateNode;if(C.tag===5&&B!==null&&(C=B,I!==null&&(B=Ii(_,I),B!=null&&J.push(Wi(_,B,C)))),$e)break;_=_.return}0<J.length&&(L=new X(L,q,null,r,F),x.push({event:L,listeners:J}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",L&&r!==Oa&&(q=r.relatedTarget||r.fromElement)&&(mr(q)||q[wn]))break e;if((X||L)&&(L=F.window===F?F:(L=F.ownerDocument)?L.defaultView||L.parentWindow:window,X?(q=r.relatedTarget||r.toElement,X=R,q=q?mr(q):null,q!==null&&($e=pr(q),q!==$e||q.tag!==5&&q.tag!==6)&&(q=null)):(X=null,q=R),X!==q)){if(J=dd,B="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(J=hd,B="onPointerLeave",I="onPointerEnter",_="pointer"),$e=X==null?L:Yr(X),C=q==null?L:Yr(q),L=new J(B,_+"leave",X,r,F),L.target=$e,L.relatedTarget=C,B=null,mr(F)===R&&(J=new J(I,_+"enter",q,r,F),J.target=C,J.relatedTarget=$e,B=J),$e=B,X&&q)t:{for(J=X,I=q,_=0,C=J;C;C=Wr(C))_++;for(C=0,B=I;B;B=Wr(B))C++;for(;0<_-C;)J=Wr(J),_--;for(;0<C-_;)I=Wr(I),C--;for(;_--;){if(J===I||I!==null&&J===I.alternate)break t;J=Wr(J),I=Wr(I)}J=null}else J=null;X!==null&&Gd(x,L,X,J,!1),q!==null&&$e!==null&&Gd(x,$e,q,J,!0)}}e:{if(L=R?Yr(R):window,X=L.nodeName&&L.nodeName.toLowerCase(),X==="select"||X==="input"&&L.type==="file")var b=Ug;else if(Sd(L))if(_d)b=xg;else{b=Fg;var ne=Lg}else(X=L.nodeName)&&X.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(b=Hg);if(b&&(b=b(e,R))){Ed(x,b,r,F);break e}ne&&ne(e,L,R),e==="focusout"&&(ne=L._wrapperState)&&ne.controlled&&L.type==="number"&&Lr(L,"number",L.value)}switch(ne=R?Yr(R):window,e){case"focusin":(Sd(ne)||ne.contentEditable==="true")&&(zr=ne,tl=R,Gi=null);break;case"focusout":Gi=tl=zr=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,Pd(x,r,F);break;case"selectionchange":if(zg)break;case"keydown":case"keyup":Pd(x,r,F)}var re;if(qa)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else Gr?vd(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(pd&&r.locale!=="ko"&&(Gr||le!=="onCompositionStart"?le==="onCompositionEnd"&&Gr&&(re=ud()):(Bn=F,Ya="value"in Bn?Bn.value:Bn.textContent,Gr=!0)),ne=ts(R,le),0<ne.length&&(le=new fd(le,e,null,r,F),x.push({event:le,listeners:ne}),re?le.data=re:(re=yd(r),re!==null&&(le.data=re)))),(re=Pg?Ng(e,r):Og(e,r))&&(R=ts(R,"onBeforeInput"),0<R.length&&(F=new fd("onBeforeInput","beforeinput",null,r,F),x.push({event:F,listeners:R}),F.data=re))}xd(x,t)})}function Wi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ts(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=Ii(e,r),d!=null&&s.unshift(Wi(e,d,l)),d=Ii(e,t),d!=null&&s.push(Wi(e,d,l))),e=e.return}return s}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gd(e,t,r,s,l){for(var d=t._reactName,p=[];r!==null&&r!==s;){var v=r,E=v.alternate,R=v.stateNode;if(E!==null&&E===s)break;v.tag===5&&R!==null&&(v=R,l?(E=Ii(r,d),E!=null&&p.unshift(Wi(r,E,v))):l||(E=Ii(r,d),E!=null&&p.push(Wi(r,E,v)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var Yg=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(Yg,`
`).replace(Vg,"")}function ns(e,t,r){if(t=zd(t),zd(e)!==t&&r)throw Error(o(425))}function rs(){}var ll=null,ul=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,Xg=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(Qg)}:dl;function Qg(e){setTimeout(function(){throw e})}function fl(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Mi(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Mi(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),an="__reactFiber$"+$r,$i="__reactProps$"+$r,wn="__reactContainer$"+$r,hl="__reactEvents$"+$r,Zg="__reactListeners$"+$r,qg="__reactHandles$"+$r;function mr(e){var t=e[an];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wn]||r[an]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wd(e);e!==null;){if(r=e[an])return r;e=Wd(e)}return t}e=r,r=e.parentNode}return null}function Yi(e){return e=e[an]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function is(e){return e[$i]||null}var pl=[],Vr=-1;function jn(e){return{current:e}}function Me(e){0>Vr||(e.current=pl[Vr],pl[Vr]=null,Vr--)}function Ne(e,t){Vr++,pl[Vr]=e.current,e.current=t}var Wn={},st=jn(Wn),St=jn(!1),gr=Wn;function Xr(e,t){var r=e.type.contextTypes;if(!r)return Wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Et(e){return e=e.childContextTypes,e!=null}function os(){Me(St),Me(st)}function $d(e,t,r){if(st.current!==Wn)throw Error(o(168));Ne(st,t),Ne(St,r)}function Yd(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(o(108,fe(e)||"Unknown",l));return j({},r,s)}function ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,gr=st.current,Ne(st,e),Ne(St,St.current),!0}function Vd(e,t,r){var s=e.stateNode;if(!s)throw Error(o(169));r?(e=Yd(e,t,gr),s.__reactInternalMemoizedMergedChildContext=e,Me(St),Me(st),Ne(st,e)):Me(St),Ne(St,r)}var An=null,as=!1,ml=!1;function Xd(e){An===null?An=[e]:An.push(e)}function Jg(e){as=!0,Xd(e)}function $n(){if(!ml&&An!==null){ml=!0;var e=0,t=ke;try{var r=An;for(ke=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}An=null,as=!1}catch(l){throw An!==null&&(An=An.slice(e+1)),Qc(Ha,$n),l}finally{ke=t,ml=!1}}return null}var Kr=[],Qr=0,ls=null,us=0,Ht=[],xt=0,vr=null,In=1,Tn="";function yr(e,t){Kr[Qr++]=us,Kr[Qr++]=ls,ls=e,us=t}function Kd(e,t,r){Ht[xt++]=In,Ht[xt++]=Tn,Ht[xt++]=vr,vr=e;var s=In;e=Tn;var l=32-qt(s)-1;s&=~(1<<l),r+=1;var d=32-qt(t)+l;if(30<d){var p=l-l%5;d=(s&(1<<p)-1).toString(32),s>>=p,l-=p,In=1<<32-qt(t)+l|r<<l|s,Tn=d+e}else In=1<<d|r<<l|s,Tn=e}function gl(e){e.return!==null&&(yr(e,1),Kd(e,1,0))}function vl(e){for(;e===ls;)ls=Kr[--Qr],Kr[Qr]=null,us=Kr[--Qr],Kr[Qr]=null;for(;e===vr;)vr=Ht[--xt],Ht[xt]=null,Tn=Ht[--xt],Ht[xt]=null,In=Ht[--xt],Ht[xt]=null}var Nt=null,Ot=null,Fe=!1,bt=null;function Qd(e,t){var r=jt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:In,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,Ot=null,!0):!1;default:return!1}}function yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sl(e){if(Fe){var t=Ot;if(t){var r=t;if(!Zd(e,t)){if(yl(e))throw Error(o(418));t=zn(r.nextSibling);var s=Nt;t&&Zd(e,t)?Qd(s,r):(e.flags=e.flags&-4097|2,Fe=!1,Nt=e)}}else{if(yl(e))throw Error(o(418));e.flags=e.flags&-4097|2,Fe=!1,Nt=e}}}function qd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function cs(e){if(e!==Nt)return!1;if(!Fe)return qd(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=Ot)){if(yl(e))throw Jd(),Error(o(418));for(;t;)Qd(e,t),t=zn(t.nextSibling)}if(qd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ot=zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Nt?zn(e.stateNode.nextSibling):null;return!0}function Jd(){for(var e=Ot;e;)e=zn(e.nextSibling)}function Zr(){Ot=Nt=null,Fe=!1}function El(e){bt===null?bt=[e]:bt.push(e)}var bg=H.ReactCurrentBatchConfig;function Vi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(o(309));var s=r.stateNode}if(!s)throw Error(o(147,e));var l=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var v=l.refs;p===null?delete v[d]:v[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bd(e){var t=e._init;return t(e._payload)}function ef(e){function t(I,_){if(e){var C=I.deletions;C===null?(I.deletions=[_],I.flags|=16):C.push(_)}}function r(I,_){if(!e)return null;for(;_!==null;)t(I,_),_=_.sibling;return null}function s(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function l(I,_){return I=Jn(I,_),I.index=0,I.sibling=null,I}function d(I,_,C){return I.index=C,e?(C=I.alternate,C!==null?(C=C.index,C<_?(I.flags|=2,_):C):(I.flags|=2,_)):(I.flags|=1048576,_)}function p(I){return e&&I.alternate===null&&(I.flags|=2),I}function v(I,_,C,B){return _===null||_.tag!==6?(_=du(C,I.mode,B),_.return=I,_):(_=l(_,C),_.return=I,_)}function E(I,_,C,B){var b=C.type;return b===W?F(I,_,C.props.children,B,C.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ce&&bd(b)===_.type)?(B=l(_,C.props),B.ref=Vi(I,_,C),B.return=I,B):(B=Ls(C.type,C.key,C.props,null,I.mode,B),B.ref=Vi(I,_,C),B.return=I,B)}function R(I,_,C,B){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=fu(C,I.mode,B),_.return=I,_):(_=l(_,C.children||[]),_.return=I,_)}function F(I,_,C,B,b){return _===null||_.tag!==7?(_=Cr(C,I.mode,B,b),_.return=I,_):(_=l(_,C),_.return=I,_)}function x(I,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=du(""+_,I.mode,C),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $:return C=Ls(_.type,_.key,_.props,null,I.mode,C),C.ref=Vi(I,null,_),C.return=I,C;case U:return _=fu(_,I.mode,C),_.return=I,_;case ce:var B=_._init;return x(I,B(_._payload),C)}if(Mn(_)||V(_))return _=Cr(_,I.mode,C,null),_.return=I,_;ds(I,_)}return null}function L(I,_,C,B){var b=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return b!==null?null:v(I,_,""+C,B);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $:return C.key===b?E(I,_,C,B):null;case U:return C.key===b?R(I,_,C,B):null;case ce:return b=C._init,L(I,_,b(C._payload),B)}if(Mn(C)||V(C))return b!==null?null:F(I,_,C,B,null);ds(I,C)}return null}function X(I,_,C,B,b){if(typeof B=="string"&&B!==""||typeof B=="number")return I=I.get(C)||null,v(_,I,""+B,b);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $:return I=I.get(B.key===null?C:B.key)||null,E(_,I,B,b);case U:return I=I.get(B.key===null?C:B.key)||null,R(_,I,B,b);case ce:var ne=B._init;return X(I,_,C,ne(B._payload),b)}if(Mn(B)||V(B))return I=I.get(C)||null,F(_,I,B,b,null);ds(_,B)}return null}function q(I,_,C,B){for(var b=null,ne=null,re=_,le=_=0,be=null;re!==null&&le<C.length;le++){re.index>le?(be=re,re=null):be=re.sibling;var _e=L(I,re,C[le],B);if(_e===null){re===null&&(re=be);break}e&&re&&_e.alternate===null&&t(I,re),_=d(_e,_,le),ne===null?b=_e:ne.sibling=_e,ne=_e,re=be}if(le===C.length)return r(I,re),Fe&&yr(I,le),b;if(re===null){for(;le<C.length;le++)re=x(I,C[le],B),re!==null&&(_=d(re,_,le),ne===null?b=re:ne.sibling=re,ne=re);return Fe&&yr(I,le),b}for(re=s(I,re);le<C.length;le++)be=X(re,I,le,C[le],B),be!==null&&(e&&be.alternate!==null&&re.delete(be.key===null?le:be.key),_=d(be,_,le),ne===null?b=be:ne.sibling=be,ne=be);return e&&re.forEach(function(bn){return t(I,bn)}),Fe&&yr(I,le),b}function J(I,_,C,B){var b=V(C);if(typeof b!="function")throw Error(o(150));if(C=b.call(C),C==null)throw Error(o(151));for(var ne=b=null,re=_,le=_=0,be=null,_e=C.next();re!==null&&!_e.done;le++,_e=C.next()){re.index>le?(be=re,re=null):be=re.sibling;var bn=L(I,re,_e.value,B);if(bn===null){re===null&&(re=be);break}e&&re&&bn.alternate===null&&t(I,re),_=d(bn,_,le),ne===null?b=bn:ne.sibling=bn,ne=bn,re=be}if(_e.done)return r(I,re),Fe&&yr(I,le),b;if(re===null){for(;!_e.done;le++,_e=C.next())_e=x(I,_e.value,B),_e!==null&&(_=d(_e,_,le),ne===null?b=_e:ne.sibling=_e,ne=_e);return Fe&&yr(I,le),b}for(re=s(I,re);!_e.done;le++,_e=C.next())_e=X(re,I,le,_e.value,B),_e!==null&&(e&&_e.alternate!==null&&re.delete(_e.key===null?le:_e.key),_=d(_e,_,le),ne===null?b=_e:ne.sibling=_e,ne=_e);return e&&re.forEach(function(D0){return t(I,D0)}),Fe&&yr(I,le),b}function $e(I,_,C,B){if(typeof C=="object"&&C!==null&&C.type===W&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $:e:{for(var b=C.key,ne=_;ne!==null;){if(ne.key===b){if(b=C.type,b===W){if(ne.tag===7){r(I,ne.sibling),_=l(ne,C.props.children),_.return=I,I=_;break e}}else if(ne.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ce&&bd(b)===ne.type){r(I,ne.sibling),_=l(ne,C.props),_.ref=Vi(I,ne,C),_.return=I,I=_;break e}r(I,ne);break}else t(I,ne);ne=ne.sibling}C.type===W?(_=Cr(C.props.children,I.mode,B,C.key),_.return=I,I=_):(B=Ls(C.type,C.key,C.props,null,I.mode,B),B.ref=Vi(I,_,C),B.return=I,I=B)}return p(I);case U:e:{for(ne=C.key;_!==null;){if(_.key===ne)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){r(I,_.sibling),_=l(_,C.children||[]),_.return=I,I=_;break e}else{r(I,_);break}else t(I,_);_=_.sibling}_=fu(C,I.mode,B),_.return=I,I=_}return p(I);case ce:return ne=C._init,$e(I,_,ne(C._payload),B)}if(Mn(C))return q(I,_,C,B);if(V(C))return J(I,_,C,B);ds(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(r(I,_.sibling),_=l(_,C),_.return=I,I=_):(r(I,_),_=du(C,I.mode,B),_.return=I,I=_),p(I)):r(I,_)}return $e}var qr=ef(!0),tf=ef(!1),fs=jn(null),hs=null,Jr=null,_l=null;function wl(){_l=Jr=hs=null}function Al(e){var t=fs.current;Me(fs),e._currentValue=t}function Il(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function br(e,t){hs=e,_l=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_t=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(_l!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(hs===null)throw Error(o(308));Jr=e,hs.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var Sr=null;function Tl(e){Sr===null?Sr=[e]:Sr.push(e)}function nf(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Tl(t)):(r.next=l.next,l.next=r),t.interleaved=r,Cn(e,s)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function Cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Se&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Cn(e,r)}return l=s.interleaved,l===null?(t.next=t,Tl(s)):(t.next=l.next,l.next=t),s.interleaved=t,Cn(e,r)}function ps(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ga(e,r)}}function of(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ms(e,t,r,s){var l=e.updateQueue;Yn=!1;var d=l.firstBaseUpdate,p=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var E=v,R=E.next;E.next=null,p===null?d=R:p.next=R,p=E;var F=e.alternate;F!==null&&(F=F.updateQueue,v=F.lastBaseUpdate,v!==p&&(v===null?F.firstBaseUpdate=R:v.next=R,F.lastBaseUpdate=E))}if(d!==null){var x=l.baseState;p=0,F=R=E=null,v=d;do{var L=v.lane,X=v.eventTime;if((s&L)===L){F!==null&&(F=F.next={eventTime:X,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var q=e,J=v;switch(L=t,X=r,J.tag){case 1:if(q=J.payload,typeof q=="function"){x=q.call(X,x,L);break e}x=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=J.payload,L=typeof q=="function"?q.call(X,x,L):q,L==null)break e;x=j({},x,L);break e;case 2:Yn=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,L=l.effects,L===null?l.effects=[v]:L.push(v))}else X={eventTime:X,lane:L,tag:v.tag,payload:v.payload,callback:v.callback,next:null},F===null?(R=F=X,E=x):F=F.next=X,p|=L;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;L=v,v=L.next,L.next=null,l.lastBaseUpdate=L,l.shared.pending=null}}while(!0);if(F===null&&(E=x),l.baseState=E,l.firstBaseUpdate=R,l.lastBaseUpdate=F,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);wr|=p,e.lanes=p,e.memoizedState=x}}function sf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(o(191,l));l.call(s)}}}var Xi={},ln=jn(Xi),Ki=jn(Xi),Qi=jn(Xi);function Er(e){if(e===Xi)throw Error(o(174));return e}function Rl(e,t){switch(Ne(Qi,t),Ne(Ki,e),Ne(ln,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ka(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ka(t,e)}Me(ln),Ne(ln,t)}function ei(){Me(ln),Me(Ki),Me(Qi)}function af(e){Er(Qi.current);var t=Er(ln.current),r=ka(t,e.type);t!==r&&(Ne(Ki,e),Ne(ln,r))}function kl(e){Ki.current===e&&(Me(ln),Me(Ki))}var xe=jn(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Nl(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var vs=H.ReactCurrentDispatcher,Ol=H.ReactCurrentBatchConfig,_r=0,Be=null,Ke=null,qe=null,ys=!1,Zi=!1,qi=0,e0=0;function at(){throw Error(o(321))}function Dl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jt(e[r],t[r]))return!1;return!0}function Ml(e,t,r,s,l,d){if(_r=d,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vs.current=e===null||e.memoizedState===null?i0:o0,e=r(s,l),Zi){d=0;do{if(Zi=!1,qi=0,25<=d)throw Error(o(301));d+=1,qe=Ke=null,t.updateQueue=null,vs.current=s0,e=r(s,l)}while(Zi)}if(vs.current=_s,t=Ke!==null&&Ke.next!==null,_r=0,qe=Ke=Be=null,ys=!1,t)throw Error(o(300));return e}function Ul(){var e=qi!==0;return qi=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Be.memoizedState=qe=e:qe=qe.next=e,qe}function Gt(){if(Ke===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=qe===null?Be.memoizedState:qe.next;if(t!==null)qe=t,Ke=e;else{if(e===null)throw Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},qe===null?Be.memoizedState=qe=e:qe=qe.next=e}return qe}function Ji(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=Gt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var s=Ke,l=s.baseQueue,d=r.pending;if(d!==null){if(l!==null){var p=l.next;l.next=d.next,d.next=p}s.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,s=s.baseState;var v=p=null,E=null,R=d;do{var F=R.lane;if((_r&F)===F)E!==null&&(E=E.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),s=R.hasEagerState?R.eagerState:e(s,R.action);else{var x={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};E===null?(v=E=x,p=s):E=E.next=x,Be.lanes|=F,wr|=F}R=R.next}while(R!==null&&R!==d);E===null?p=s:E.next=v,Jt(s,t.memoizedState)||(_t=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=E,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do d=l.lane,Be.lanes|=d,wr|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fl(e){var t=Gt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var p=l=l.next;do d=e(d,p.action),p=p.next;while(p!==l);Jt(d,t.memoizedState)||(_t=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,s]}function lf(){}function uf(e,t){var r=Be,s=Gt(),l=t(),d=!Jt(s.memoizedState,l);if(d&&(s.memoizedState=l,_t=!0),s=s.queue,Hl(ff.bind(null,r,s,e),[e]),s.getSnapshot!==t||d||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,bi(9,df.bind(null,r,s,l,t),void 0,null),Je===null)throw Error(o(349));(_r&30)!==0||cf(r,t,l)}return l}function cf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function df(e,t,r,s){t.value=r,t.getSnapshot=s,hf(t)&&pf(e)}function ff(e,t,r){return r(function(){hf(t)&&pf(e)})}function hf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jt(e,r)}catch{return!0}}function pf(e){var t=Cn(e,1);t!==null&&rn(t,e,1,-1)}function mf(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t.queue=e,e=e.dispatch=r0.bind(null,Be,e),[t.memoizedState,e]}function bi(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function gf(){return Gt().memoizedState}function Ss(e,t,r,s){var l=un();Be.flags|=e,l.memoizedState=bi(1|t,r,void 0,s===void 0?null:s)}function Es(e,t,r,s){var l=Gt();s=s===void 0?null:s;var d=void 0;if(Ke!==null){var p=Ke.memoizedState;if(d=p.destroy,s!==null&&Dl(s,p.deps)){l.memoizedState=bi(t,r,d,s);return}}Be.flags|=e,l.memoizedState=bi(1|t,r,d,s)}function vf(e,t){return Ss(8390656,8,e,t)}function Hl(e,t){return Es(2048,8,e,t)}function yf(e,t){return Es(4,2,e,t)}function Sf(e,t){return Es(4,4,e,t)}function Ef(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _f(e,t,r){return r=r!=null?r.concat([e]):null,Es(4,4,Ef.bind(null,t,e),r)}function xl(){}function wf(e,t){var r=Gt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Dl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Af(e,t){var r=Gt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Dl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function If(e,t,r){return(_r&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r):(Jt(r,t)||(r=bc(),Be.lanes|=r,wr|=r,e.baseState=!0),t)}function t0(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var s=Ol.transition;Ol.transition={};try{e(!1),t()}finally{ke=r,Ol.transition=s}}function Tf(){return Gt().memoizedState}function n0(e,t,r){var s=Zn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cf(e))Rf(t,r);else if(r=nf(e,t,r,s),r!==null){var l=mt();rn(r,e,s,l),kf(r,t,s)}}function r0(e,t,r){var s=Zn(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))Rf(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,r);if(l.hasEagerState=!0,l.eagerState=v,Jt(v,p)){var E=t.interleaved;E===null?(l.next=l,Tl(t)):(l.next=E.next,E.next=l),t.interleaved=l;return}}catch{}finally{}r=nf(e,t,l,s),r!==null&&(l=mt(),rn(r,e,s,l),kf(r,t,s))}}function Cf(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Rf(e,t){Zi=ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kf(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ga(e,r)}}var _s={readContext:Bt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},i0={readContext:Bt,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:vf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ss(4194308,4,Ef.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var r=un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=un();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=n0.bind(null,Be,e),[s.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:mf,useDebugValue:xl,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=mf(!1),t=e[0];return e=t0.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Be,l=un();if(Fe){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),Je===null)throw Error(o(349));(_r&30)!==0||cf(s,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,vf(ff.bind(null,s,d,e),[e]),s.flags|=2048,bi(9,df.bind(null,s,d,r,t),void 0,null),r},useId:function(){var e=un(),t=Je.identifierPrefix;if(Fe){var r=Tn,s=In;r=(s&~(1<<32-qt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=qi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=e0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o0={readContext:Bt,useCallback:wf,useContext:Bt,useEffect:Hl,useImperativeHandle:_f,useInsertionEffect:yf,useLayoutEffect:Sf,useMemo:Af,useReducer:Ll,useRef:gf,useState:function(){return Ll(Ji)},useDebugValue:xl,useDeferredValue:function(e){var t=Gt();return If(t,Ke.memoizedState,e)},useTransition:function(){var e=Ll(Ji)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:lf,useSyncExternalStore:uf,useId:Tf,unstable_isNewReconciler:!1},s0={readContext:Bt,useCallback:wf,useContext:Bt,useEffect:Hl,useImperativeHandle:_f,useInsertionEffect:yf,useLayoutEffect:Sf,useMemo:Af,useReducer:Fl,useRef:gf,useState:function(){return Fl(Ji)},useDebugValue:xl,useDeferredValue:function(e){var t=Gt();return Ke===null?t.memoizedState=e:If(t,Ke.memoizedState,e)},useTransition:function(){var e=Fl(Ji)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:lf,useSyncExternalStore:uf,useId:Tf,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Bl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:j({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ws={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=mt(),l=Zn(e),d=Rn(s,l);d.payload=t,r!=null&&(d.callback=r),t=Vn(e,d,l),t!==null&&(rn(t,e,l,s),ps(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=mt(),l=Zn(e),d=Rn(s,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Vn(e,d,l),t!==null&&(rn(t,e,l,s),ps(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),s=Zn(e),l=Rn(r,s);l.tag=2,t!=null&&(l.callback=t),t=Vn(e,l,s),t!==null&&(rn(t,e,s,r),ps(t,e,s))}};function Pf(e,t,r,s,l,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,p):t.prototype&&t.prototype.isPureReactComponent?!Bi(r,s)||!Bi(l,d):!0}function Nf(e,t,r){var s=!1,l=Wn,d=t.contextType;return typeof d=="object"&&d!==null?d=Bt(d):(l=Et(t)?gr:st.current,s=t.contextTypes,d=(s=s!=null)?Xr(e,l):Wn),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ws,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function Of(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function Gl(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Cl(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=Bt(d):(d=Et(t)?gr:st.current,l.context=Xr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Bl(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ws.enqueueReplaceState(l,l.state,null),ms(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",s=t;do r+=pe(s),s=s.return;while(s);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function zl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var a0=typeof WeakMap=="function"?WeakMap:Map;function Df(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ps||(Ps=!0,ru=s),jl(e,t)},r}function Mf(e,t,r){r=Rn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){jl(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){jl(e,t),typeof s!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function Uf(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new a0;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=_0.bind(null,e,t,r),t.then(e,e))}function Lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ff(e,t,r,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,Vn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var l0=H.ReactCurrentOwner,_t=!1;function pt(e,t,r,s){t.child=e===null?tf(t,null,r,s):qr(t,e.child,r,s)}function Hf(e,t,r,s,l){r=r.render;var d=t.ref;return br(t,l),s=Ml(e,t,r,s,d,l),r=Ul(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,kn(e,t,l)):(Fe&&r&&gl(t),t.flags|=1,pt(e,t,s,l),t.child)}function xf(e,t,r,s,l){if(e===null){var d=r.type;return typeof d=="function"&&!cu(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Bf(e,t,d,s,l)):(e=Ls(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:Bi,r(p,s)&&e.ref===t.ref)return kn(e,t,l)}return t.flags|=1,e=Jn(d,s),e.ref=t.ref,e.return=t,t.child=e}function Bf(e,t,r,s,l){if(e!==null){var d=e.memoizedProps;if(Bi(d,s)&&e.ref===t.ref)if(_t=!1,t.pendingProps=s=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,kn(e,t,l)}return Wl(e,t,r,s,l)}function Gf(e,t,r){var s=t.pendingProps,l=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(ri,Dt),Dt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(ri,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:r,Ne(ri,Dt),Dt|=s}else d!==null?(s=d.baseLanes|r,t.memoizedState=null):s=r,Ne(ri,Dt),Dt|=s;return pt(e,t,l,r),t.child}function zf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,r,s,l){var d=Et(r)?gr:st.current;return d=Xr(t,d),br(t,l),r=Ml(e,t,r,s,d,l),s=Ul(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,kn(e,t,l)):(Fe&&s&&gl(t),t.flags|=1,pt(e,t,r,l),t.child)}function jf(e,t,r,s,l){if(Et(r)){var d=!0;ss(t)}else d=!1;if(br(t,l),t.stateNode===null)Is(e,t),Nf(t,r,s),Gl(t,r,s,l),s=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var E=p.context,R=r.contextType;typeof R=="object"&&R!==null?R=Bt(R):(R=Et(r)?gr:st.current,R=Xr(t,R));var F=r.getDerivedStateFromProps,x=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function";x||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==s||E!==R)&&Of(t,p,s,R),Yn=!1;var L=t.memoizedState;p.state=L,ms(t,s,p,l),E=t.memoizedState,v!==s||L!==E||St.current||Yn?(typeof F=="function"&&(Bl(t,r,F,s),E=t.memoizedState),(v=Yn||Pf(t,r,v,s,L,E,R))?(x||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=E),p.props=s,p.state=E,p.context=R,s=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,rf(e,t),v=t.memoizedProps,R=t.type===t.elementType?v:en(t.type,v),p.props=R,x=t.pendingProps,L=p.context,E=r.contextType,typeof E=="object"&&E!==null?E=Bt(E):(E=Et(r)?gr:st.current,E=Xr(t,E));var X=r.getDerivedStateFromProps;(F=typeof X=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==x||L!==E)&&Of(t,p,s,E),Yn=!1,L=t.memoizedState,p.state=L,ms(t,s,p,l);var q=t.memoizedState;v!==x||L!==q||St.current||Yn?(typeof X=="function"&&(Bl(t,r,X,s),q=t.memoizedState),(R=Yn||Pf(t,r,R,s,L,q,E)||!1)?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,q,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,q,E)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=q),p.props=s,p.state=q,p.context=E,s=R):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return $l(e,t,r,s,d,l)}function $l(e,t,r,s,l,d){zf(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return l&&Vd(t,r,!1),kn(e,t,d);s=t.stateNode,l0.current=t;var v=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=qr(t,e.child,null,d),t.child=qr(t,null,v,d)):pt(e,t,v,d),t.memoizedState=s.state,l&&Vd(t,r,!0),t.child}function Wf(e){var t=e.stateNode;t.pendingContext?$d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$d(e,t.context,!1),Rl(e,t.containerInfo)}function $f(e,t,r,s,l){return Zr(),El(l),t.flags|=256,pt(e,t,r,s),t.child}var Yl={dehydrated:null,treeContext:null,retryLane:0};function Vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yf(e,t,r){var s=t.pendingProps,l=xe.current,d=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ne(xe,l&1),e===null)return Sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=s.children,e=s.fallback,d?(s=t.mode,d=t.child,p={mode:"hidden",children:p},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Fs(p,s,0,null),e=Cr(e,s,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Vl(r),t.memoizedState=Yl,e):Xl(t,p));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return u0(e,t,p,s,v,l,r);if(d){d=s.fallback,p=t.mode,l=e.child,v=l.sibling;var E={mode:"hidden",children:s.children};return(p&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=E,t.deletions=null):(s=Jn(l,E),s.subtreeFlags=l.subtreeFlags&14680064),v!==null?d=Jn(v,d):(d=Cr(d,p,r,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,p=e.child.memoizedState,p=p===null?Vl(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~r,t.memoizedState=Yl,s}return d=e.child,e=d.sibling,s=Jn(d,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Xl(e,t){return t=Fs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,s){return s!==null&&El(s),qr(t,e.child,null,r),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u0(e,t,r,s,l,d,p){if(r)return t.flags&256?(t.flags&=-257,s=zl(Error(o(422))),As(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,l=t.mode,s=Fs({mode:"visible",children:s.children},l,0,null),d=Cr(d,l,p,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,(t.mode&1)!==0&&qr(t,e.child,null,p),t.child.memoizedState=Vl(p),t.memoizedState=Yl,d);if((t.mode&1)===0)return As(e,t,p,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var v=s.dgst;return s=v,d=Error(o(419)),s=zl(d,s,void 0),As(e,t,p,s)}if(v=(p&e.childLanes)!==0,_t||v){if(s=Je,s!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|p))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Cn(e,l),rn(s,e,l,-1))}return uu(),s=zl(Error(o(421))),As(e,t,p,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=w0.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,Ot=zn(l.nextSibling),Nt=t,Fe=!0,bt=null,e!==null&&(Ht[xt++]=In,Ht[xt++]=Tn,Ht[xt++]=vr,In=e.id,Tn=e.overflow,vr=t),t=Xl(t,s.children),t.flags|=4096,t)}function Vf(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Il(e.return,t,r)}function Kl(e,t,r,s,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=r,d.tailMode=l)}function Xf(e,t,r){var s=t.pendingProps,l=s.revealOrder,d=s.tail;if(pt(e,t,s.children,r),s=xe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,r,t);else if(e.tag===19)Vf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ne(xe,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&gs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Kl(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&gs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Kl(t,!0,r,null,d);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function c0(e,t,r){switch(t.tag){case 3:Wf(t),Zr();break;case 5:af(t);break;case 1:Et(t.type)&&ss(t);break;case 4:Rl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Ne(fs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ne(xe,xe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Yf(e,t,r):(Ne(xe,xe.current&1),e=kn(e,t,r),e!==null?e.sibling:null);Ne(xe,xe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Xf(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ne(xe,xe.current),s)break;return null;case 22:case 23:return t.lanes=0,Gf(e,t,r)}return kn(e,t,r)}var Kf,Ql,Qf,Zf;Kf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ql=function(){},Qf=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Er(ln.current);var d=null;switch(r){case"input":l=kt(e,l),s=kt(e,s),d=[];break;case"select":l=j({},l,{value:void 0}),s=j({},s,{value:void 0}),d=[];break;case"textarea":l=hr(e,l),s=hr(e,s),d=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=rs)}Pa(r,s);var p;r=null;for(R in l)if(!s.hasOwnProperty(R)&&l.hasOwnProperty(R)&&l[R]!=null)if(R==="style"){var v=l[R];for(p in v)v.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(c.hasOwnProperty(R)?d||(d=[]):(d=d||[]).push(R,null));for(R in s){var E=s[R];if(v=l!=null?l[R]:void 0,s.hasOwnProperty(R)&&E!==v&&(E!=null||v!=null))if(R==="style")if(v){for(p in v)!v.hasOwnProperty(p)||E&&E.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in E)E.hasOwnProperty(p)&&v[p]!==E[p]&&(r||(r={}),r[p]=E[p])}else r||(d||(d=[]),d.push(R,r)),r=E;else R==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,v=v?v.__html:void 0,E!=null&&v!==E&&(d=d||[]).push(R,E)):R==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(R,""+E):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(c.hasOwnProperty(R)?(E!=null&&R==="onScroll"&&De("scroll",e),d||v===E||(d=[])):(d=d||[]).push(R,E))}r&&(d=d||[]).push("style",r);var R=d;(t.updateQueue=R)&&(t.flags|=4)}},Zf=function(e,t,r,s){r!==s&&(t.flags|=4)};function eo(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function d0(e,t,r){var s=t.pendingProps;switch(vl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Et(t.type)&&os(),lt(t),null;case 3:return s=t.stateNode,ei(),Me(St),Me(st),Nl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(su(bt),bt=null))),Ql(e,t),lt(t),null;case 5:kl(t);var l=Er(Qi.current);if(r=t.type,e!==null&&t.stateNode!=null)Qf(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return lt(t),null}if(e=Er(ln.current),cs(t)){s=t.stateNode,r=t.type;var d=t.memoizedProps;switch(s[an]=t,s[$i]=d,e=(t.mode&1)!==0,r){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(l=0;l<zi.length;l++)De(zi[l],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":Ft(s,d),De("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},De("invalid",s);break;case"textarea":Dc(s,d),De("invalid",s)}Pa(r,d),l=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?s.textContent!==v&&(d.suppressHydrationWarning!==!0&&ns(s.textContent,v,e),l=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&ns(s.textContent,v,e),l=["children",""+v]):c.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&De("scroll",s)}switch(r){case"input":Ie(s),Dn(s,d,!0);break;case"textarea":Ie(s),Uc(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=rs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(r,{is:s.is}):(e=p.createElement(r),r==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,r),e[an]=t,e[$i]=s,Kf(e,t,!1,!1),t.stateNode=e;e:{switch(p=Na(r,s),r){case"dialog":De("cancel",e),De("close",e),l=s;break;case"iframe":case"object":case"embed":De("load",e),l=s;break;case"video":case"audio":for(l=0;l<zi.length;l++)De(zi[l],e);l=s;break;case"source":De("error",e),l=s;break;case"img":case"image":case"link":De("error",e),De("load",e),l=s;break;case"details":De("toggle",e),l=s;break;case"input":Ft(e,s),l=kt(e,s),De("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=j({},s,{value:void 0}),De("invalid",e);break;case"textarea":Dc(e,s),l=hr(e,s),De("invalid",e);break;default:l=s}Pa(r,l),v=l;for(d in v)if(v.hasOwnProperty(d)){var E=v[d];d==="style"?xc(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Fc(e,E)):d==="children"?typeof E=="string"?(r!=="textarea"||E!=="")&&wi(e,E):typeof E=="number"&&wi(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(c.hasOwnProperty(d)?E!=null&&d==="onScroll"&&De("scroll",e):E!=null&&Y(e,d,E,p))}switch(r){case"input":Ie(e),Dn(e,s,!1);break;case"textarea":Ie(e),Uc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+de(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?Un(e,!!s.multiple,d,!1):s.defaultValue!=null&&Un(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=rs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Zf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(r=Er(Qi.current),Er(ln.current),cs(t)){if(s=t.stateNode,r=t.memoizedProps,s[an]=t,(d=s.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:ns(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ns(s.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[an]=t,t.stateNode=s}return lt(t),null;case 13:if(Me(xe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Ot!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Jd(),Zr(),t.flags|=98560,d=!1;else if(d=cs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[an]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),d=!1}else bt!==null&&(su(bt),bt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(xe.current&1)!==0?Qe===0&&(Qe=3):uu())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return ei(),Ql(e,t),e===null&&ji(t.stateNode.containerInfo),lt(t),null;case 10:return Al(t.type._context),lt(t),null;case 17:return Et(t.type)&&os(),lt(t),null;case 19:if(Me(xe),d=t.memoizedState,d===null)return lt(t),null;if(s=(t.flags&128)!==0,p=d.rendering,p===null)if(s)eo(d,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=gs(e),p!==null){for(t.flags|=128,eo(d,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)d=r,e=s,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(xe,xe.current&1|2),t.child}e=e.sibling}d.tail!==null&&We()>ii&&(t.flags|=128,s=!0,eo(d,!1),t.lanes=4194304)}else{if(!s)if(e=gs(p),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Fe)return lt(t),null}else 2*We()-d.renderingStartTime>ii&&r!==1073741824&&(t.flags|=128,s=!0,eo(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(r=d.last,r!==null?r.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=We(),t.sibling=null,r=xe.current,Ne(xe,s?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return lu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function f0(e,t){switch(vl(t),t.tag){case 1:return Et(t.type)&&os(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Me(St),Me(st),Nl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return kl(t),null;case 13:if(Me(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(xe),null;case 4:return ei(),null;case 10:return Al(t.type._context),null;case 22:case 23:return lu(),null;case 24:return null;default:return null}}var Ts=!1,ut=!1,h0=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ni(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ze(e,t,s)}else r.current=null}function Zl(e,t,r){try{r()}catch(s){ze(e,t,s)}}var qf=!1;function p0(e,t){if(ll=Yo,e=kd(),el(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,v=-1,E=-1,R=0,F=0,x=e,L=null;t:for(;;){for(var X;x!==r||l!==0&&x.nodeType!==3||(v=p+l),x!==d||s!==0&&x.nodeType!==3||(E=p+s),x.nodeType===3&&(p+=x.nodeValue.length),(X=x.firstChild)!==null;)L=x,x=X;for(;;){if(x===e)break t;if(L===r&&++R===l&&(v=p),L===d&&++F===s&&(E=p),(X=x.nextSibling)!==null)break;x=L,L=x.parentNode}x=X}r=v===-1||E===-1?null:{start:v,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(ul={focusedElem:e,selectionRange:r},Yo=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var J=q.memoizedProps,$e=q.memoizedState,I=t.stateNode,_=I.getSnapshotBeforeUpdate(t.elementType===t.type?J:en(t.type,J),$e);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){ze(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return q=qf,qf=!1,q}function to(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&Zl(t,r,d)}l=l.next}while(l!==s)}}function Cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ql(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[$i],delete t[hl],delete t[Zg],delete t[qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bf(e){return e.tag===5||e.tag===3||e.tag===4}function eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rs));else if(s!==4&&(e=e.child,e!==null))for(Jl(e,t,r),e=e.sibling;e!==null;)Jl(e,t,r),e=e.sibling}function bl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bl(e,t,r),e=e.sibling;e!==null;)bl(e,t,r),e=e.sibling}var rt=null,tn=!1;function Xn(e,t,r){for(r=r.child;r!==null;)th(e,t,r),r=r.sibling}function th(e,t,r){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Bo,r)}catch{}switch(r.tag){case 5:ut||ni(r,t);case 6:var s=rt,l=tn;rt=null,Xn(e,t,r),rt=s,tn=l,rt!==null&&(tn?(e=rt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(tn?(e=rt,r=r.stateNode,e.nodeType===8?fl(e.parentNode,r):e.nodeType===1&&fl(e,r),Mi(e)):fl(rt,r.stateNode));break;case 4:s=rt,l=tn,rt=r.stateNode.containerInfo,tn=!0,Xn(e,t,r),rt=s,tn=l;break;case 0:case 11:case 14:case 15:if(!ut&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var d=l,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&Zl(r,t,p),l=l.next}while(l!==s)}Xn(e,t,r);break;case 1:if(!ut&&(ni(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(v){ze(r,t,v)}Xn(e,t,r);break;case 21:Xn(e,t,r);break;case 22:r.mode&1?(ut=(s=ut)||r.memoizedState!==null,Xn(e,t,r),ut=s):Xn(e,t,r);break;default:Xn(e,t,r)}}function nh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new h0),t.forEach(function(s){var l=A0.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function nn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:rt=v.stateNode,tn=!1;break e;case 3:rt=v.stateNode.containerInfo,tn=!0;break e;case 4:rt=v.stateNode.containerInfo,tn=!0;break e}v=v.return}if(rt===null)throw Error(o(160));th(d,p,l),rt=null,tn=!1;var E=l.alternate;E!==null&&(E.return=null),l.return=null}catch(R){ze(l,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),cn(e),s&4){try{to(3,e,e.return),Cs(3,e)}catch(J){ze(e,e.return,J)}try{to(5,e,e.return)}catch(J){ze(e,e.return,J)}}break;case 1:nn(t,e),cn(e),s&512&&r!==null&&ni(r,r.return);break;case 5:if(nn(t,e),cn(e),s&512&&r!==null&&ni(r,r.return),e.flags&32){var l=e.stateNode;try{wi(l,"")}catch(J){ze(e,e.return,J)}}if(s&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,p=r!==null?r.memoizedProps:d,v=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&fr(l,d),Na(v,p);var R=Na(v,d);for(p=0;p<E.length;p+=2){var F=E[p],x=E[p+1];F==="style"?xc(l,x):F==="dangerouslySetInnerHTML"?Fc(l,x):F==="children"?wi(l,x):Y(l,F,x,R)}switch(v){case"input":_n(l,d);break;case"textarea":Mc(l,d);break;case"select":var L=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var X=d.value;X!=null?Un(l,!!d.multiple,X,!1):L!==!!d.multiple&&(d.defaultValue!=null?Un(l,!!d.multiple,d.defaultValue,!0):Un(l,!!d.multiple,d.multiple?[]:"",!1))}l[$i]=d}catch(J){ze(e,e.return,J)}}break;case 6:if(nn(t,e),cn(e),s&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(J){ze(e,e.return,J)}}break;case 3:if(nn(t,e),cn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(J){ze(e,e.return,J)}break;case 4:nn(t,e),cn(e);break;case 13:nn(t,e),cn(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(nu=We())),s&4&&nh(e);break;case 22:if(F=r!==null&&r.memoizedState!==null,e.mode&1?(ut=(R=ut)||F,nn(t,e),ut=R):nn(t,e),cn(e),s&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!F&&(e.mode&1)!==0)for(Q=e,F=e.child;F!==null;){for(x=Q=F;Q!==null;){switch(L=Q,X=L.child,L.tag){case 0:case 11:case 14:case 15:to(4,L,L.return);break;case 1:ni(L,L.return);var q=L.stateNode;if(typeof q.componentWillUnmount=="function"){s=L,r=L.return;try{t=s,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(J){ze(s,r,J)}}break;case 5:ni(L,L.return);break;case 22:if(L.memoizedState!==null){sh(x);continue}}X!==null?(X.return=L,Q=X):sh(x)}F=F.sibling}e:for(F=null,x=e;;){if(x.tag===5){if(F===null){F=x;try{l=x.stateNode,R?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=x.stateNode,E=x.memoizedProps.style,p=E!=null&&E.hasOwnProperty("display")?E.display:null,v.style.display=Hc("display",p))}catch(J){ze(e,e.return,J)}}}else if(x.tag===6){if(F===null)try{x.stateNode.nodeValue=R?"":x.memoizedProps}catch(J){ze(e,e.return,J)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;F===x&&(F=null),x=x.return}F===x&&(F=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:nn(t,e),cn(e),s&4&&nh(e);break;case 21:break;default:nn(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bf(r)){var s=r;break e}r=r.return}throw Error(o(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(wi(l,""),s.flags&=-33);var d=eh(e);bl(e,d,l);break;case 3:case 4:var p=s.stateNode.containerInfo,v=eh(e);Jl(e,v,p);break;default:throw Error(o(161))}}catch(E){ze(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m0(e,t,r){Q=e,ih(e)}function ih(e,t,r){for(var s=(e.mode&1)!==0;Q!==null;){var l=Q,d=l.child;if(l.tag===22&&s){var p=l.memoizedState!==null||Ts;if(!p){var v=l.alternate,E=v!==null&&v.memoizedState!==null||ut;v=Ts;var R=ut;if(Ts=p,(ut=E)&&!R)for(Q=l;Q!==null;)p=Q,E=p.child,p.tag===22&&p.memoizedState!==null?ah(l):E!==null?(E.return=p,Q=E):ah(l);for(;d!==null;)Q=d,ih(d),d=d.sibling;Q=l,Ts=v,ut=R}oh(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,Q=d):oh(e)}}function oh(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ut||Cs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ut)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:en(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&sf(t,d,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sf(t,p,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&r.focus();break;case"img":E.src&&(r.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var x=F.dehydrated;x!==null&&Mi(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ut||t.flags&512&&ql(t)}catch(L){ze(t,t.return,L)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function sh(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function ah(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cs(4,t)}catch(E){ze(t,r,E)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(E){ze(t,l,E)}}var d=t.return;try{ql(t)}catch(E){ze(t,d,E)}break;case 5:var p=t.return;try{ql(t)}catch(E){ze(t,p,E)}}}catch(E){ze(t,t.return,E)}if(t===e){Q=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Q=v;break}Q=t.return}}var g0=Math.ceil,Rs=H.ReactCurrentDispatcher,eu=H.ReactCurrentOwner,zt=H.ReactCurrentBatchConfig,Se=0,Je=null,Ve=null,it=0,Dt=0,ri=jn(0),Qe=0,no=null,wr=0,ks=0,tu=0,ro=null,wt=null,nu=0,ii=1/0,Pn=null,Ps=!1,ru=null,Kn=null,Ns=!1,Qn=null,Os=0,io=0,iu=null,Ds=-1,Ms=0;function mt(){return(Se&6)!==0?We():Ds!==-1?Ds:Ds=We()}function Zn(e){return(e.mode&1)===0?1:(Se&2)!==0&&it!==0?it&-it:bg.transition!==null?(Ms===0&&(Ms=bc()),Ms):(e=ke,e!==0||(e=window.event,e=e===void 0?16:ld(e.type)),e)}function rn(e,t,r,s){if(50<io)throw io=0,iu=null,Error(o(185));ki(e,r,s),((Se&2)===0||e!==Je)&&(e===Je&&((Se&2)===0&&(ks|=r),Qe===4&&qn(e,it)),At(e,s),r===1&&Se===0&&(t.mode&1)===0&&(ii=We()+500,as&&$n()))}function At(e,t){var r=e.callbackNode;bm(e,t);var s=jo(e,e===Je?it:0);if(s===0)r!==null&&Zc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Zc(r),t===1)e.tag===0?Jg(uh.bind(null,e)):Xd(uh.bind(null,e)),Kg(function(){(Se&6)===0&&$n()}),r=null;else{switch(ed(s)){case 1:r=Ha;break;case 4:r=qc;break;case 16:r=xo;break;case 536870912:r=Jc;break;default:r=xo}r=vh(r,lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lh(e,t){if(Ds=-1,Ms=0,(Se&6)!==0)throw Error(o(327));var r=e.callbackNode;if(oi()&&e.callbackNode!==r)return null;var s=jo(e,e===Je?it:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Us(e,s);else{t=s;var l=Se;Se|=2;var d=dh();(Je!==e||it!==t)&&(Pn=null,ii=We()+500,Ir(e,t));do try{S0();break}catch(v){ch(e,v)}while(!0);wl(),Rs.current=d,Se=l,Ve!==null?t=0:(Je=null,it=0,t=Qe)}if(t!==0){if(t===2&&(l=xa(e),l!==0&&(s=l,t=ou(e,l))),t===1)throw r=no,Ir(e,0),qn(e,s),At(e,We()),r;if(t===6)qn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!v0(l)&&(t=Us(e,s),t===2&&(d=xa(e),d!==0&&(s=d,t=ou(e,d))),t===1))throw r=no,Ir(e,0),qn(e,s),At(e,We()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Tr(e,wt,Pn);break;case 3:if(qn(e,s),(s&130023424)===s&&(t=nu+500-We(),10<t)){if(jo(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){mt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=dl(Tr.bind(null,e,wt,Pn),t);break}Tr(e,wt,Pn);break;case 4:if(qn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var p=31-qt(s);d=1<<p,p=t[p],p>l&&(l=p),s&=~d}if(s=l,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*g0(s/1960))-s,10<s){e.timeoutHandle=dl(Tr.bind(null,e,wt,Pn),s);break}Tr(e,wt,Pn);break;case 5:Tr(e,wt,Pn);break;default:throw Error(o(329))}}}return At(e,We()),e.callbackNode===r?lh.bind(null,e):null}function ou(e,t){var r=ro;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=Us(e,t),e!==2&&(t=wt,wt=r,t!==null&&su(t)),e}function su(e){wt===null?wt=e:wt.push.apply(wt,e)}function v0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],d=l.getSnapshot;l=l.value;try{if(!Jt(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~tu,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qt(t),s=1<<r;e[r]=-1,t&=~s}}function uh(e){if((Se&6)!==0)throw Error(o(327));oi();var t=jo(e,0);if((t&1)===0)return At(e,We()),null;var r=Us(e,t);if(e.tag!==0&&r===2){var s=xa(e);s!==0&&(t=s,r=ou(e,s))}if(r===1)throw r=no,Ir(e,0),qn(e,t),At(e,We()),r;if(r===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,wt,Pn),At(e,We()),null}function au(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(ii=We()+500,as&&$n())}}function Ar(e){Qn!==null&&Qn.tag===0&&(Se&6)===0&&oi();var t=Se;Se|=1;var r=zt.transition,s=ke;try{if(zt.transition=null,ke=1,e)return e()}finally{ke=s,zt.transition=r,Se=t,(Se&6)===0&&$n()}}function lu(){Dt=ri.current,Me(ri)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xg(r)),Ve!==null)for(r=Ve.return;r!==null;){var s=r;switch(vl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&os();break;case 3:ei(),Me(St),Me(st),Nl();break;case 5:kl(s);break;case 4:ei();break;case 13:Me(xe);break;case 19:Me(xe);break;case 10:Al(s.type._context);break;case 22:case 23:lu()}r=r.return}if(Je=e,Ve=e=Jn(e.current,null),it=Dt=t,Qe=0,no=null,tu=ks=wr=0,wt=ro=null,Sr!==null){for(t=0;t<Sr.length;t++)if(r=Sr[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,d=r.pending;if(d!==null){var p=d.next;d.next=l,s.next=p}r.pending=s}Sr=null}return e}function ch(e,t){do{var r=Ve;try{if(wl(),vs.current=_s,ys){for(var s=Be.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ys=!1}if(_r=0,qe=Ke=Be=null,Zi=!1,qi=0,eu.current=null,r===null||r.return===null){Qe=1,no=t,Ve=null;break}e:{var d=e,p=r.return,v=r,E=t;if(t=it,v.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var R=E,F=v,x=F.tag;if((F.mode&1)===0&&(x===0||x===11||x===15)){var L=F.alternate;L?(F.updateQueue=L.updateQueue,F.memoizedState=L.memoizedState,F.lanes=L.lanes):(F.updateQueue=null,F.memoizedState=null)}var X=Lf(p);if(X!==null){X.flags&=-257,Ff(X,p,v,d,t),X.mode&1&&Uf(d,R,t),t=X,E=R;var q=t.updateQueue;if(q===null){var J=new Set;J.add(E),t.updateQueue=J}else q.add(E);break e}else{if((t&1)===0){Uf(d,R,t),uu();break e}E=Error(o(426))}}else if(Fe&&v.mode&1){var $e=Lf(p);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Ff($e,p,v,d,t),El(ti(E,v));break e}}d=E=ti(E,v),Qe!==4&&(Qe=2),ro===null?ro=[d]:ro.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var I=Df(d,E,t);of(d,I);break e;case 1:v=E;var _=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Kn===null||!Kn.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var B=Mf(d,v,t);of(d,B);break e}}d=d.return}while(d!==null)}hh(r)}catch(b){t=b,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(!0)}function dh(){var e=Rs.current;return Rs.current=_s,e===null?_s:e}function uu(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||(wr&268435455)===0&&(ks&268435455)===0||qn(Je,it)}function Us(e,t){var r=Se;Se|=2;var s=dh();(Je!==e||it!==t)&&(Pn=null,Ir(e,t));do try{y0();break}catch(l){ch(e,l)}while(!0);if(wl(),Se=r,Rs.current=s,Ve!==null)throw Error(o(261));return Je=null,it=0,Qe}function y0(){for(;Ve!==null;)fh(Ve)}function S0(){for(;Ve!==null&&!$m();)fh(Ve)}function fh(e){var t=gh(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?hh(e):Ve=t,eu.current=null}function hh(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=d0(r,t,Dt),r!==null){Ve=r;return}}else{if(r=f0(r,t),r!==null){r.flags&=32767,Ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ve=null;return}}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Qe===0&&(Qe=5)}function Tr(e,t,r){var s=ke,l=zt.transition;try{zt.transition=null,ke=1,E0(e,t,r,s)}finally{zt.transition=l,ke=s}return null}function E0(e,t,r,s){do oi();while(Qn!==null);if((Se&6)!==0)throw Error(o(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(eg(e,d),e===Je&&(Ve=Je=null,it=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ns||(Ns=!0,vh(xo,function(){return oi(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=zt.transition,zt.transition=null;var p=ke;ke=1;var v=Se;Se|=4,eu.current=null,p0(e,r),rh(r,e),Gg(ul),Yo=!!ll,ul=ll=null,e.current=r,m0(r),Ym(),Se=v,ke=p,zt.transition=d}else e.current=r;if(Ns&&(Ns=!1,Qn=e,Os=l),d=e.pendingLanes,d===0&&(Kn=null),Km(r.stateNode),At(e,We()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ps)throw Ps=!1,e=ru,ru=null,e;return(Os&1)!==0&&e.tag!==0&&oi(),d=e.pendingLanes,(d&1)!==0?e===iu?io++:(io=0,iu=e):io=0,$n(),null}function oi(){if(Qn!==null){var e=ed(Os),t=zt.transition,r=ke;try{if(zt.transition=null,ke=16>e?16:e,Qn===null)var s=!1;else{if(e=Qn,Qn=null,Os=0,(Se&6)!==0)throw Error(o(331));var l=Se;for(Se|=4,Q=e.current;Q!==null;){var d=Q,p=d.child;if((Q.flags&16)!==0){var v=d.deletions;if(v!==null){for(var E=0;E<v.length;E++){var R=v[E];for(Q=R;Q!==null;){var F=Q;switch(F.tag){case 0:case 11:case 15:to(8,F,d)}var x=F.child;if(x!==null)x.return=F,Q=x;else for(;Q!==null;){F=Q;var L=F.sibling,X=F.return;if(Jf(F),F===R){Q=null;break}if(L!==null){L.return=X,Q=L;break}Q=X}}}var q=d.alternate;if(q!==null){var J=q.child;if(J!==null){q.child=null;do{var $e=J.sibling;J.sibling=null,J=$e}while(J!==null)}}Q=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,Q=p;else e:for(;Q!==null;){if(d=Q,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:to(9,d,d.return)}var I=d.sibling;if(I!==null){I.return=d.return,Q=I;break e}Q=d.return}}var _=e.current;for(Q=_;Q!==null;){p=Q;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,Q=C;else e:for(p=_;Q!==null;){if(v=Q,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Cs(9,v)}}catch(b){ze(v,v.return,b)}if(v===p){Q=null;break e}var B=v.sibling;if(B!==null){B.return=v.return,Q=B;break e}Q=v.return}}if(Se=l,$n(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Bo,e)}catch{}s=!0}return s}finally{ke=r,zt.transition=t}}return!1}function ph(e,t,r){t=ti(r,t),t=Df(e,t,1),e=Vn(e,t,1),t=mt(),e!==null&&(ki(e,1,t),At(e,t))}function ze(e,t,r){if(e.tag===3)ph(e,e,r);else for(;t!==null;){if(t.tag===3){ph(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){e=ti(r,e),e=Mf(t,e,1),t=Vn(t,e,1),e=mt(),t!==null&&(ki(t,1,e),At(t,e));break}}t=t.return}}function _0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(it&r)===r&&(Qe===4||Qe===3&&(it&130023424)===it&&500>We()-nu?Ir(e,0):tu|=r),At(e,t)}function mh(e,t){t===0&&((e.mode&1)===0?t=1:(t=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var r=mt();e=Cn(e,t),e!==null&&(ki(e,t,r),At(e,r))}function w0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mh(e,r)}function A0(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),mh(e,r)}var gh;gh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)_t=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return _t=!1,c0(e,t,r);_t=(e.flags&131072)!==0}else _t=!1,Fe&&(t.flags&1048576)!==0&&Kd(t,us,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var l=Xr(t,st.current);br(t,r),l=Ml(null,t,s,e,l,r);var d=Ul();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(s)?(d=!0,ss(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Cl(t),l.updater=ws,t.stateNode=l,l._reactInternals=t,Gl(t,s,e,r),t=$l(null,t,s,!0,d,r)):(t.tag=0,Fe&&d&&gl(t),pt(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=T0(s),e=en(s,e),l){case 0:t=Wl(null,t,s,e,r);break e;case 1:t=jf(null,t,s,e,r);break e;case 11:t=Hf(null,t,s,e,r);break e;case 14:t=xf(null,t,s,en(s.type,e),r);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:en(s,l),Wl(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:en(s,l),jf(e,t,s,l,r);case 3:e:{if(Wf(t),e===null)throw Error(o(387));s=t.pendingProps,d=t.memoizedState,l=d.element,rf(e,t),ms(t,s,null,r);var p=t.memoizedState;if(s=p.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=ti(Error(o(423)),t),t=$f(e,t,s,r,l);break e}else if(s!==l){l=ti(Error(o(424)),t),t=$f(e,t,s,r,l);break e}else for(Ot=zn(t.stateNode.containerInfo.firstChild),Nt=t,Fe=!0,bt=null,r=tf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),s===l){t=kn(e,t,r);break e}pt(e,t,s,r)}t=t.child}return t;case 5:return af(t),e===null&&Sl(t),s=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,p=l.children,cl(s,l)?p=null:d!==null&&cl(s,d)&&(t.flags|=32),zf(e,t),pt(e,t,p,r),t.child;case 6:return e===null&&Sl(t),null;case 13:return Yf(e,t,r);case 4:return Rl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=qr(t,null,s,r):pt(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:en(s,l),Hf(e,t,s,l,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,d=t.memoizedProps,p=l.value,Ne(fs,s._currentValue),s._currentValue=p,d!==null)if(Jt(d.value,p)){if(d.children===l.children&&!St.current){t=kn(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var E=v.firstContext;E!==null;){if(E.context===s){if(d.tag===1){E=Rn(-1,r&-r),E.tag=2;var R=d.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?E.next=E:(E.next=F.next,F.next=E),R.pending=E}}d.lanes|=r,E=d.alternate,E!==null&&(E.lanes|=r),Il(d.return,r,t),v.lanes|=r;break}E=E.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(o(341));p.lanes|=r,v=p.alternate,v!==null&&(v.lanes|=r),Il(p,r,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}pt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,br(t,r),l=Bt(l),s=s(l),t.flags|=1,pt(e,t,s,r),t.child;case 14:return s=t.type,l=en(s,t.pendingProps),l=en(s.type,l),xf(e,t,s,l,r);case 15:return Bf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:en(s,l),Is(e,t),t.tag=1,Et(s)?(e=!0,ss(t)):e=!1,br(t,r),Nf(t,s,l),Gl(t,s,l,r),$l(null,t,s,!0,e,r);case 19:return Xf(e,t,r);case 22:return Gf(e,t,r)}throw Error(o(156,t.tag))};function vh(e,t){return Qc(e,t)}function I0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,r,s){return new I0(e,t,r,s)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T0(e){if(typeof e=="function")return cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Le)return 11;if(e===ve)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=jt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ls(e,t,r,s,l,d){var p=2;if(s=e,typeof e=="function")cu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case W:return Cr(r.children,l,d,t);case ee:p=8,l|=8;break;case Ae:return e=jt(12,r,t,l|2),e.elementType=Ae,e.lanes=d,e;case Te:return e=jt(13,r,t,l),e.elementType=Te,e.lanes=d,e;case ye:return e=jt(19,r,t,l),e.elementType=ye,e.lanes=d,e;case se:return Fs(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:p=10;break e;case Ze:p=9;break e;case Le:p=11;break e;case ve:p=14;break e;case ce:p=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=jt(p,r,t,l),t.elementType=e,t.type=s,t.lanes=d,t}function Cr(e,t,r,s){return e=jt(7,e,s,t),e.lanes=r,e}function Fs(e,t,r,s){return e=jt(22,e,s,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function du(e,t,r){return e=jt(6,e,null,t),e.lanes=r,e}function fu(e,t,r){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C0(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function hu(e,t,r,s,l,d,p,v,E){return e=new C0(e,t,r,v,E),t===1?(t=1,d===!0&&(t|=8)):t=0,d=jt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(d),e}function R0(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function yh(e){if(!e)return Wn;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var r=e.type;if(Et(r))return Yd(e,r,t)}return t}function Sh(e,t,r,s,l,d,p,v,E){return e=hu(r,s,!0,e,l,d,p,v,E),e.context=yh(null),r=e.current,s=mt(),l=Zn(r),d=Rn(s,l),d.callback=t??null,Vn(r,d,l),e.current.lanes=l,ki(e,l,s),At(e,s),e}function Hs(e,t,r,s){var l=t.current,d=mt(),p=Zn(l);return r=yh(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(d,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Vn(l,t,p),e!==null&&(rn(e,l,p,d),ps(e,l,p)),p}function xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pu(e,t){Eh(e,t),(e=e.alternate)&&Eh(e,t)}function k0(){return null}var _h=typeof reportError=="function"?reportError:function(e){console.error(e)};function mu(e){this._internalRoot=e}Bs.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Hs(e,t,null,null)},Bs.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){Hs(null,e,null,null)}),t[wn]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xn.length&&t!==0&&t<xn[r].priority;r++);xn.splice(r,0,e),r===0&&sd(e)}};function gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wh(){}function P0(e,t,r,s,l){if(l){if(typeof s=="function"){var d=s;s=function(){var R=xs(p);d.call(R)}}var p=Sh(t,s,e,0,null,!1,!1,"",wh);return e._reactRootContainer=p,e[wn]=p.current,ji(e.nodeType===8?e.parentNode:e),Ar(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var v=s;s=function(){var R=xs(E);v.call(R)}}var E=hu(e,0,!1,null,null,!1,!1,"",wh);return e._reactRootContainer=E,e[wn]=E.current,ji(e.nodeType===8?e.parentNode:e),Ar(function(){Hs(t,E,r,s)}),E}function zs(e,t,r,s,l){var d=r._reactRootContainer;if(d){var p=d;if(typeof l=="function"){var v=l;l=function(){var E=xs(p);v.call(E)}}Hs(t,p,e,l)}else p=P0(r,t,e,l,s);return xs(p)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ri(t.pendingLanes);r!==0&&(Ga(t,r|1),At(t,We()),(Se&6)===0&&(ii=We()+500,$n()))}break;case 13:Ar(function(){var s=Cn(e,1);if(s!==null){var l=mt();rn(s,e,1,l)}}),pu(e,1)}},za=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=mt();rn(t,e,134217728,r)}pu(e,134217728)}},nd=function(e){if(e.tag===13){var t=Zn(e),r=Cn(e,t);if(r!==null){var s=mt();rn(r,e,t,s)}pu(e,t)}},rd=function(){return ke},id=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}},Ma=function(e,t,r){switch(t){case"input":if(_n(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=is(s);if(!l)throw Error(o(90));ue(s),_n(s,l)}}}break;case"textarea":Mc(e,r);break;case"select":t=r.value,t!=null&&Un(e,!!r.multiple,t,!1)}},jc=au,Wc=Ar;var N0={usingClientEntryPoint:!1,Events:[Yi,Yr,is,Gc,zc,au]},oo={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O0={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xc(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||k0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{Bo=js.inject(O0),sn=js}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0,It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(t))throw Error(o(200));return R0(e,t,null,r)},It.createRoot=function(e,t){if(!gu(e))throw Error(o(299));var r=!1,s="",l=_h;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=hu(e,1,!1,null,null,r,!1,s,l),e[wn]=t.current,ji(e.nodeType===8?e.parentNode:e),new mu(t)},It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Xc(t),e=e===null?null:e.stateNode,e},It.flushSync=function(e){return Ar(e)},It.hydrate=function(e,t,r){if(!Gs(t))throw Error(o(200));return zs(null,e,t,!0,r)},It.hydrateRoot=function(e,t,r){if(!gu(e))throw Error(o(405));var s=r!=null&&r.hydratedSources||null,l=!1,d="",p=_h;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Sh(t,null,e,1,r??null,l,!1,d,p),e[wn]=t.current,ji(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Bs(t)},It.render=function(e,t,r){if(!Gs(t))throw Error(o(200));return zs(null,e,t,!1,r)},It.unmountComponentAtNode=function(e){if(!Gs(e))throw Error(o(40));return e._reactRootContainer?(Ar(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},It.unstable_batchedUpdates=au,It.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Gs(r))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return zs(e,t,r,!1,s)},It.version="18.3.1-next-f1338f8080-20240426",It}var Nh;function z0(){if(Nh)return Su.exports;Nh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Su.exports=G0(),Su.exports}var Oh;function j0(){if(Oh)return Ws;Oh=1;var n=z0();return Ws.createRoot=n.createRoot,Ws.hydrateRoot=n.hydrateRoot,Ws}var W0=j0();const $0=Rp(W0),kp=ge.createContext(void 0),Y0=({initialAppState:n,children:i})=>{const[o,a]=ge.useState(n),[c,u]=ge.useState(void 0),f=(h,m)=>{a(h),h==="gameOver"&&m?u(m):h!=="gameOver"&&u(void 0)};return Re.jsx(kp.Provider,{value:{appState:o,setAppState:f,gameOverDetails:c},children:i})},ga=()=>{const n=ge.useContext(kp);if(n===void 0)throw new Error("useGameContext must be used within a GameProvider");return n};var ft=function(){return ft=Object.assign||function(i){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i},ft.apply(this,arguments)};function wo(n,i,o){if(o||arguments.length===2)for(var a=0,c=i.length,u;a<c;a++)(u||!(a in i))&&(u||(u=Array.prototype.slice.call(i,0,a)),u[a]=i[a]);return n.concat(u||Array.prototype.slice.call(i))}var Ue="-ms-",vo="-moz-",Ce="-webkit-",Pp="comm",va="rule",sc="decl",V0="@import",Np="@keyframes",X0="@layer",Op=Math.abs,ac=String.fromCharCode,ju=Object.assign;function K0(n,i){return tt(n,0)^45?(((i<<2^tt(n,0))<<2^tt(n,1))<<2^tt(n,2))<<2^tt(n,3):0}function Dp(n){return n.trim()}function On(n,i){return(n=i.exec(n))?n[0]:n}function he(n,i,o){return n.replace(i,o)}function bs(n,i,o){return n.indexOf(i,o)}function tt(n,i){return n.charCodeAt(i)|0}function pi(n,i,o){return n.slice(i,o)}function hn(n){return n.length}function Mp(n){return n.length}function po(n,i){return i.push(n),n}function Q0(n,i){return n.map(i).join("")}function Dh(n,i){return n.filter(function(o){return!On(o,i)})}var ya=1,mi=1,Up=0,Kt=0,Xe=0,_i="";function Sa(n,i,o,a,c,u,f,h){return{value:n,root:i,parent:o,type:a,props:c,children:u,line:ya,column:mi,length:f,return:"",siblings:h}}function or(n,i){return ju(Sa("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},i)}function si(n){for(;n.root;)n=or(n.root,{children:[n]});po(n,n.siblings)}function Z0(){return Xe}function q0(){return Xe=Kt>0?tt(_i,--Kt):0,mi--,Xe===10&&(mi=1,ya--),Xe}function on(){return Xe=Kt<Up?tt(_i,Kt++):0,mi++,Xe===10&&(mi=1,ya++),Xe}function Ur(){return tt(_i,Kt)}function ea(){return Kt}function Ea(n,i){return pi(_i,n,i)}function Wu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function J0(n){return ya=mi=1,Up=hn(_i=n),Kt=0,[]}function b0(n){return _i="",n}function wu(n){return Dp(Ea(Kt-1,$u(n===91?n+2:n===40?n+1:n)))}function ev(n){for(;(Xe=Ur())&&Xe<33;)on();return Wu(n)>2||Wu(Xe)>3?"":" "}function tv(n,i){for(;--i&&on()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return Ea(n,ea()+(i<6&&Ur()==32&&on()==32))}function $u(n){for(;on();)switch(Xe){case n:return Kt;case 34:case 39:n!==34&&n!==39&&$u(Xe);break;case 40:n===41&&$u(n);break;case 92:on();break}return Kt}function nv(n,i){for(;on()&&n+Xe!==57;)if(n+Xe===84&&Ur()===47)break;return"/*"+Ea(i,Kt-1)+"*"+ac(n===47?n:on())}function rv(n){for(;!Wu(Ur());)on();return Ea(n,Kt)}function iv(n){return b0(ta("",null,null,null,[""],n=J0(n),0,[0],n))}function ta(n,i,o,a,c,u,f,h,m){for(var S=0,g=0,y=f,T=0,k=0,P=0,O=1,A=1,M=1,N=0,Y="",H=c,$=u,U=a,W=Y;A;)switch(P=N,N=on()){case 40:if(P!=108&&tt(W,y-1)==58){bs(W+=he(wu(N),"&","&\f"),"&\f",Op(S?h[S-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:W+=wu(N);break;case 9:case 10:case 13:case 32:W+=ev(P);break;case 92:W+=tv(ea()-1,7);continue;case 47:switch(Ur()){case 42:case 47:po(ov(nv(on(),ea()),i,o,m),m);break;default:W+="/"}break;case 123*O:h[S++]=hn(W)*M;case 125*O:case 59:case 0:switch(N){case 0:case 125:A=0;case 59+g:M==-1&&(W=he(W,/\f/g,"")),k>0&&hn(W)-y&&po(k>32?Uh(W+";",a,o,y-1,m):Uh(he(W," ","")+";",a,o,y-2,m),m);break;case 59:W+=";";default:if(po(U=Mh(W,i,o,S,g,c,h,Y,H=[],$=[],y,u),u),N===123)if(g===0)ta(W,i,U,U,H,u,y,h,$);else switch(T===99&&tt(W,3)===110?100:T){case 100:case 108:case 109:case 115:ta(n,U,U,a&&po(Mh(n,U,U,0,0,c,h,Y,c,H=[],y,$),$),c,$,y,h,a?H:$);break;default:ta(W,U,U,U,[""],$,0,h,$)}}S=g=k=0,O=M=1,Y=W="",y=f;break;case 58:y=1+hn(W),k=P;default:if(O<1){if(N==123)--O;else if(N==125&&O++==0&&q0()==125)continue}switch(W+=ac(N),N*O){case 38:M=g>0?1:(W+="\f",-1);break;case 44:h[S++]=(hn(W)-1)*M,M=1;break;case 64:Ur()===45&&(W+=wu(on())),T=Ur(),g=y=hn(Y=W+=rv(ea())),N++;break;case 45:P===45&&hn(W)==2&&(O=0)}}return u}function Mh(n,i,o,a,c,u,f,h,m,S,g,y){for(var T=c-1,k=c===0?u:[""],P=Mp(k),O=0,A=0,M=0;O<a;++O)for(var N=0,Y=pi(n,T+1,T=Op(A=f[O])),H=n;N<P;++N)(H=Dp(A>0?k[N]+" "+Y:he(Y,/&\f/g,k[N])))&&(m[M++]=H);return Sa(n,i,o,c===0?va:h,m,S,g,y)}function ov(n,i,o,a){return Sa(n,i,o,Pp,ac(Z0()),pi(n,2,-2),0,a)}function Uh(n,i,o,a,c){return Sa(n,i,o,sc,pi(n,0,a),pi(n,a+1,-1),a,c)}function Lp(n,i,o){switch(K0(n,i)){case 5103:return Ce+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+n+n;case 4789:return vo+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+n+vo+n+Ue+n+n;case 5936:switch(tt(n,i+11)){case 114:return Ce+n+Ue+he(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ce+n+Ue+he(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ce+n+Ue+he(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ce+n+Ue+n+n;case 6165:return Ce+n+Ue+"flex-"+n+n;case 5187:return Ce+n+he(n,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+Ue+"flex-$1$2")+n;case 5443:return Ce+n+Ue+"flex-item-"+he(n,/flex-|-self/g,"")+(On(n,/flex-|baseline/)?"":Ue+"grid-row-"+he(n,/flex-|-self/g,""))+n;case 4675:return Ce+n+Ue+"flex-line-pack"+he(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ce+n+Ue+he(n,"shrink","negative")+n;case 5292:return Ce+n+Ue+he(n,"basis","preferred-size")+n;case 6060:return Ce+"box-"+he(n,"-grow","")+Ce+n+Ue+he(n,"grow","positive")+n;case 4554:return Ce+he(n,/([^-])(transform)/g,"$1"+Ce+"$2")+n;case 6187:return he(he(he(n,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),n,"")+n;case 5495:case 3959:return he(n,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return he(he(n,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+Ue+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+n+n;case 4200:if(!On(n,/flex-|baseline/))return Ue+"grid-column-align"+pi(n,i)+n;break;case 2592:case 3360:return Ue+he(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(a,c){return i=c,On(a.props,/grid-\w+-end/)})?~bs(n+(o=o[i].value),"span",0)?n:Ue+he(n,"-start","")+n+Ue+"grid-row-span:"+(~bs(o,"span",0)?On(o,/\d+/):+On(o,/\d+/)-+On(n,/\d+/))+";":Ue+he(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(a){return On(a.props,/grid-\w+-start/)})?n:Ue+he(he(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return he(n,/(.+)-inline(.+)/,Ce+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hn(n)-1-i>6)switch(tt(n,i+1)){case 109:if(tt(n,i+4)!==45)break;case 102:return he(n,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+vo+(tt(n,i+3)==108?"$3":"$2-$3"))+n;case 115:return~bs(n,"stretch",0)?Lp(he(n,"stretch","fill-available"),i,o)+n:n}break;case 5152:case 5920:return he(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,c,u,f,h,m,S){return Ue+c+":"+u+S+(f?Ue+c+"-span:"+(h?m:+m-+u)+S:"")+n});case 4949:if(tt(n,i+6)===121)return he(n,":",":"+Ce)+n;break;case 6444:switch(tt(n,tt(n,14)===45?18:11)){case 120:return he(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ce+(tt(n,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+Ue+"$2box$3")+n;case 100:return he(n,":",":"+Ue)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return he(n,"scroll-","scroll-snap-")+n}return n}function aa(n,i){for(var o="",a=0;a<n.length;a++)o+=i(n[a],a,n,i)||"";return o}function sv(n,i,o,a){switch(n.type){case X0:if(n.children.length)break;case V0:case sc:return n.return=n.return||n.value;case Pp:return"";case Np:return n.return=n.value+"{"+aa(n.children,a)+"}";case va:if(!hn(n.value=n.props.join(",")))return""}return hn(o=aa(n.children,a))?n.return=n.value+"{"+o+"}":""}function av(n){var i=Mp(n);return function(o,a,c,u){for(var f="",h=0;h<i;h++)f+=n[h](o,a,c,u)||"";return f}}function lv(n){return function(i){i.root||(i=i.return)&&n(i)}}function uv(n,i,o,a){if(n.length>-1&&!n.return)switch(n.type){case sc:n.return=Lp(n.value,n.length,o);return;case Np:return aa([or(n,{value:he(n.value,"@","@"+Ce)})],a);case va:if(n.length)return Q0(o=n.props,function(c){switch(On(c,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":si(or(n,{props:[he(c,/:(read-\w+)/,":"+vo+"$1")]})),si(or(n,{props:[c]})),ju(n,{props:Dh(o,a)});break;case"::placeholder":si(or(n,{props:[he(c,/:(plac\w+)/,":"+Ce+"input-$1")]})),si(or(n,{props:[he(c,/:(plac\w+)/,":"+vo+"$1")]})),si(or(n,{props:[he(c,/:(plac\w+)/,Ue+"input-$1")]})),si(or(n,{props:[c]})),ju(n,{props:Dh(o,a)});break}return""})}}var cv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ut={},gi=typeof process<"u"&&Ut!==void 0&&(Ut.REACT_APP_SC_ATTR||Ut.SC_ATTR)||"data-styled",Fp="active",Hp="data-styled-version",_a="6.1.13",lc=`/*!sc*/
`,la=typeof window<"u"&&"HTMLElement"in window,dv=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ut!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ut.REACT_APP_SC_DISABLE_SPEEDY!==""?Ut.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ut.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ut!==void 0&&Ut.SC_DISABLE_SPEEDY!==void 0&&Ut.SC_DISABLE_SPEEDY!==""&&Ut.SC_DISABLE_SPEEDY!=="false"&&Ut.SC_DISABLE_SPEEDY),fv={},wa=Object.freeze([]),vi=Object.freeze({});function xp(n,i,o){return o===void 0&&(o=vi),n.theme!==o.theme&&n.theme||i||o.theme}var Bp=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,pv=/(^-|-$)/g;function Lh(n){return n.replace(hv,"-").replace(pv,"")}var mv=/(a)(d)/gi,$s=52,Fh=function(n){return String.fromCharCode(n+(n>25?39:97))};function Yu(n){var i,o="";for(i=Math.abs(n);i>$s;i=i/$s|0)o=Fh(i%$s)+o;return(Fh(i%$s)+o).replace(mv,"$1-$2")}var Au,Gp=5381,di=function(n,i){for(var o=i.length;o;)n=33*n^i.charCodeAt(--o);return n},zp=function(n){return di(Gp,n)};function jp(n){return Yu(zp(n)>>>0)}function gv(n){return n.displayName||n.name||"Component"}function Iu(n){return typeof n=="string"&&!0}var Wp=typeof Symbol=="function"&&Symbol.for,$p=Wp?Symbol.for("react.memo"):60115,vv=Wp?Symbol.for("react.forward_ref"):60112,yv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Sv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ev=((Au={})[vv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Au[$p]=Yp,Au);function Hh(n){return("type"in(i=n)&&i.type.$$typeof)===$p?Yp:"$$typeof"in n?Ev[n.$$typeof]:yv;var i}var _v=Object.defineProperty,wv=Object.getOwnPropertyNames,xh=Object.getOwnPropertySymbols,Av=Object.getOwnPropertyDescriptor,Iv=Object.getPrototypeOf,Bh=Object.prototype;function Vp(n,i,o){if(typeof i!="string"){if(Bh){var a=Iv(i);a&&a!==Bh&&Vp(n,a,o)}var c=wv(i);xh&&(c=c.concat(xh(i)));for(var u=Hh(n),f=Hh(i),h=0;h<c.length;++h){var m=c[h];if(!(m in Sv||o&&o[m]||f&&m in f||u&&m in u)){var S=Av(i,m);try{_v(n,m,S)}catch{}}}}return n}function yi(n){return typeof n=="function"}function uc(n){return typeof n=="object"&&"styledComponentId"in n}function Or(n,i){return n&&i?"".concat(n," ").concat(i):n||i||""}function Vu(n,i){if(n.length===0)return"";for(var o=n[0],a=1;a<n.length;a++)o+=n[a];return o}function Ao(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Xu(n,i,o){if(o===void 0&&(o=!1),!o&&!Ao(n)&&!Array.isArray(n))return i;if(Array.isArray(i))for(var a=0;a<i.length;a++)n[a]=Xu(n[a],i[a]);else if(Ao(i))for(var a in i)n[a]=Xu(n[a],i[a]);return n}function cc(n,i){Object.defineProperty(n,"toString",{value:i})}function Uo(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var Tv=function(){function n(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return n.prototype.indexOfGroup=function(i){for(var o=0,a=0;a<i;a++)o+=this.groupSizes[a];return o},n.prototype.insertRules=function(i,o){if(i>=this.groupSizes.length){for(var a=this.groupSizes,c=a.length,u=c;i>=u;)if((u<<=1)<0)throw Uo(16,"".concat(i));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var f=c;f<u;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(i+1),m=(f=0,o.length);f<m;f++)this.tag.insertRule(h,o[f])&&(this.groupSizes[i]++,h++)},n.prototype.clearGroup=function(i){if(i<this.length){var o=this.groupSizes[i],a=this.indexOfGroup(i),c=a+o;this.groupSizes[i]=0;for(var u=a;u<c;u++)this.tag.deleteRule(a)}},n.prototype.getGroup=function(i){var o="";if(i>=this.length||this.groupSizes[i]===0)return o;for(var a=this.groupSizes[i],c=this.indexOfGroup(i),u=c+a,f=c;f<u;f++)o+="".concat(this.tag.getRule(f)).concat(lc);return o},n}(),na=new Map,ua=new Map,ra=1,Ys=function(n){if(na.has(n))return na.get(n);for(;ua.has(ra);)ra++;var i=ra++;return na.set(n,i),ua.set(i,n),i},Cv=function(n,i){ra=i+1,na.set(n,i),ua.set(i,n)},Rv="style[".concat(gi,"][").concat(Hp,'="').concat(_a,'"]'),kv=new RegExp("^".concat(gi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Pv=function(n,i,o){for(var a,c=o.split(","),u=0,f=c.length;u<f;u++)(a=c[u])&&n.registerName(i,a)},Nv=function(n,i){for(var o,a=((o=i.textContent)!==null&&o!==void 0?o:"").split(lc),c=[],u=0,f=a.length;u<f;u++){var h=a[u].trim();if(h){var m=h.match(kv);if(m){var S=0|parseInt(m[1],10),g=m[2];S!==0&&(Cv(g,S),Pv(n,g,m[3]),n.getTag().insertRules(S,c)),c.length=0}else c.push(h)}}},Gh=function(n){for(var i=document.querySelectorAll(Rv),o=0,a=i.length;o<a;o++){var c=i[o];c&&c.getAttribute(gi)!==Fp&&(Nv(n,c),c.parentNode&&c.parentNode.removeChild(c))}};function Ov(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Xp=function(n){var i=document.head,o=n||i,a=document.createElement("style"),c=function(h){var m=Array.from(h.querySelectorAll("style[".concat(gi,"]")));return m[m.length-1]}(o),u=c!==void 0?c.nextSibling:null;a.setAttribute(gi,Fp),a.setAttribute(Hp,_a);var f=Ov();return f&&a.setAttribute("nonce",f),o.insertBefore(a,u),a},Dv=function(){function n(i){this.element=Xp(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,c=0,u=a.length;c<u;c++){var f=a[c];if(f.ownerNode===o)return f}throw Uo(17)}(this.element),this.length=0}return n.prototype.insertRule=function(i,o){try{return this.sheet.insertRule(o,i),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},n.prototype.getRule=function(i){var o=this.sheet.cssRules[i];return o&&o.cssText?o.cssText:""},n}(),Mv=function(){function n(i){this.element=Xp(i),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(i,o){if(i<=this.length&&i>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[i]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},n.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},n}(),Uv=function(){function n(i){this.rules=[],this.length=0}return n.prototype.insertRule=function(i,o){return i<=this.length&&(this.rules.splice(i,0,o),this.length++,!0)},n.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},n.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},n}(),zh=la,Lv={isServer:!la,useCSSOMInjection:!dv},ca=function(){function n(i,o,a){i===void 0&&(i=vi),o===void 0&&(o={});var c=this;this.options=ft(ft({},Lv),i),this.gs=o,this.names=new Map(a),this.server=!!i.isServer,!this.server&&la&&zh&&(zh=!1,Gh(this)),cc(this,function(){return function(u){for(var f=u.getTag(),h=f.length,m="",S=function(y){var T=function(M){return ua.get(M)}(y);if(T===void 0)return"continue";var k=u.names.get(T),P=f.getGroup(y);if(k===void 0||!k.size||P.length===0)return"continue";var O="".concat(gi,".g").concat(y,'[id="').concat(T,'"]'),A="";k!==void 0&&k.forEach(function(M){M.length>0&&(A+="".concat(M,","))}),m+="".concat(P).concat(O,'{content:"').concat(A,'"}').concat(lc)},g=0;g<h;g++)S(g);return m}(c)})}return n.registerId=function(i){return Ys(i)},n.prototype.rehydrate=function(){!this.server&&la&&Gh(this)},n.prototype.reconstructWithOptions=function(i,o){return o===void 0&&(o=!0),new n(ft(ft({},this.options),i),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(i=function(o){var a=o.useCSSOMInjection,c=o.target;return o.isServer?new Uv(c):a?new Dv(c):new Mv(c)}(this.options),new Tv(i)));var i},n.prototype.hasNameForId=function(i,o){return this.names.has(i)&&this.names.get(i).has(o)},n.prototype.registerName=function(i,o){if(Ys(i),this.names.has(i))this.names.get(i).add(o);else{var a=new Set;a.add(o),this.names.set(i,a)}},n.prototype.insertRules=function(i,o,a){this.registerName(i,o),this.getTag().insertRules(Ys(i),a)},n.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},n.prototype.clearRules=function(i){this.getTag().clearGroup(Ys(i)),this.clearNames(i)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Fv=/&/g,Hv=/^\s*\/\/.*$/gm;function Kp(n,i){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(i," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(i," ")),o.props=o.props.map(function(a){return"".concat(i," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Kp(o.children,i)),o})}function xv(n){var i,o,a,c=vi,u=c.options,f=u===void 0?vi:u,h=c.plugins,m=h===void 0?wa:h,S=function(T,k,P){return P.startsWith(o)&&P.endsWith(o)&&P.replaceAll(o,"").length>0?".".concat(i):T},g=m.slice();g.push(function(T){T.type===va&&T.value.includes("&")&&(T.props[0]=T.props[0].replace(Fv,o).replace(a,S))}),f.prefix&&g.push(uv),g.push(sv);var y=function(T,k,P,O){k===void 0&&(k=""),P===void 0&&(P=""),O===void 0&&(O="&"),i=O,o=k,a=new RegExp("\\".concat(o,"\\b"),"g");var A=T.replace(Hv,""),M=iv(P||k?"".concat(P," ").concat(k," { ").concat(A," }"):A);f.namespace&&(M=Kp(M,f.namespace));var N=[];return aa(M,av(g.concat(lv(function(Y){return N.push(Y)})))),N};return y.hash=m.length?m.reduce(function(T,k){return k.name||Uo(15),di(T,k.name)},Gp).toString():"",y}var Bv=new ca,Ku=xv(),Qp=pn.createContext({shouldForwardProp:void 0,styleSheet:Bv,stylis:Ku});Qp.Consumer;pn.createContext(void 0);function Qu(){return ge.useContext(Qp)}var Gv=function(){function n(i,o){var a=this;this.inject=function(c,u){u===void 0&&(u=Ku);var f=a.name+u.hash;c.hasNameForId(a.id,f)||c.insertRules(a.id,f,u(a.rules,f,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=o,cc(this,function(){throw Uo(12,String(a.name))})}return n.prototype.getName=function(i){return i===void 0&&(i=Ku),this.name+i.hash},n}(),zv=function(n){return n>="A"&&n<="Z"};function jh(n){for(var i="",o=0;o<n.length;o++){var a=n[o];if(o===1&&a==="-"&&n[0]==="-")return n;zv(a)?i+="-"+a.toLowerCase():i+=a}return i.startsWith("ms-")?"-"+i:i}var Zp=function(n){return n==null||n===!1||n===""},qp=function(n){var i,o,a=[];for(var c in n){var u=n[c];n.hasOwnProperty(c)&&!Zp(u)&&(Array.isArray(u)&&u.isCss||yi(u)?a.push("".concat(jh(c),":"),u,";"):Ao(u)?a.push.apply(a,wo(wo(["".concat(c," {")],qp(u),!1),["}"],!1)):a.push("".concat(jh(c),": ").concat((i=c,(o=u)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||i in cv||i.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function ur(n,i,o,a){if(Zp(n))return[];if(uc(n))return[".".concat(n.styledComponentId)];if(yi(n)){if(!yi(u=n)||u.prototype&&u.prototype.isReactComponent||!i)return[n];var c=n(i);return ur(c,i,o,a)}var u;return n instanceof Gv?o?(n.inject(o,a),[n.getName(a)]):[n]:Ao(n)?qp(n):Array.isArray(n)?Array.prototype.concat.apply(wa,n.map(function(f){return ur(f,i,o,a)})):[n.toString()]}function Jp(n){for(var i=0;i<n.length;i+=1){var o=n[i];if(yi(o)&&!uc(o))return!1}return!0}var jv=zp(_a),Wv=function(){function n(i,o,a){this.rules=i,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Jp(i),this.componentId=o,this.baseHash=di(jv,o),this.baseStyle=a,ca.registerId(o)}return n.prototype.generateAndInjectStyles=function(i,o,a){var c=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))c=Or(c,this.staticRulesId);else{var u=Vu(ur(this.rules,i,o,a)),f=Yu(di(this.baseHash,u)>>>0);if(!o.hasNameForId(this.componentId,f)){var h=a(u,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,h)}c=Or(c,f),this.staticRulesId=f}else{for(var m=di(this.baseHash,a.hash),S="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")S+=y;else if(y){var T=Vu(ur(y,i,o,a));m=di(m,T+g),S+=T}}if(S){var k=Yu(m>>>0);o.hasNameForId(this.componentId,k)||o.insertRules(this.componentId,k,a(S,".".concat(k),void 0,this.componentId)),c=Or(c,k)}}return c},n}(),dc=pn.createContext(void 0);dc.Consumer;var Tu={};function $v(n,i,o){var a=uc(n),c=n,u=!Iu(n),f=i.attrs,h=f===void 0?wa:f,m=i.componentId,S=m===void 0?function(H,$){var U=typeof H!="string"?"sc":Lh(H);Tu[U]=(Tu[U]||0)+1;var W="".concat(U,"-").concat(jp(_a+U+Tu[U]));return $?"".concat($,"-").concat(W):W}(i.displayName,i.parentComponentId):m,g=i.displayName,y=g===void 0?function(H){return Iu(H)?"styled.".concat(H):"Styled(".concat(gv(H),")")}(n):g,T=i.displayName&&i.componentId?"".concat(Lh(i.displayName),"-").concat(i.componentId):i.componentId||S,k=a&&c.attrs?c.attrs.concat(h).filter(Boolean):h,P=i.shouldForwardProp;if(a&&c.shouldForwardProp){var O=c.shouldForwardProp;if(i.shouldForwardProp){var A=i.shouldForwardProp;P=function(H,$){return O(H,$)&&A(H,$)}}else P=O}var M=new Wv(o,T,a?c.componentStyle:void 0);function N(H,$){return function(U,W,ee){var Ae=U.attrs,Oe=U.componentStyle,Ze=U.defaultProps,Le=U.foldedComponentIds,Te=U.styledComponentId,ye=U.target,ve=pn.useContext(dc),ce=Qu(),se=U.shouldForwardProp||ce.shouldForwardProp,G=xp(W,ve,Ze)||vi,V=function(pe,ae,fe){for(var de,Z=ft(ft({},ae),{className:void 0,theme:fe}),ie=0;ie<pe.length;ie+=1){var Ie=yi(de=pe[ie])?de(Z):de;for(var ue in Ie)Z[ue]=ue==="className"?Or(Z[ue],Ie[ue]):ue==="style"?ft(ft({},Z[ue]),Ie[ue]):Ie[ue]}return ae.className&&(Z.className=Or(Z.className,ae.className)),Z}(Ae,W,G),j=V.as||ye,w={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===G||(D==="forwardedAs"?w.as=V.forwardedAs:se&&!se(D,j)||(w[D]=V[D]));var te=function(pe,ae){var fe=Qu(),de=pe.generateAndInjectStyles(ae,fe.styleSheet,fe.stylis);return de}(Oe,V),K=Or(Le,Te);return te&&(K+=" "+te),V.className&&(K+=" "+V.className),w[Iu(j)&&!Bp.has(j)?"class":"className"]=K,w.ref=ee,ge.createElement(j,w)}(Y,H,$)}N.displayName=y;var Y=pn.forwardRef(N);return Y.attrs=k,Y.componentStyle=M,Y.displayName=y,Y.shouldForwardProp=P,Y.foldedComponentIds=a?Or(c.foldedComponentIds,c.styledComponentId):"",Y.styledComponentId=T,Y.target=a?c.target:n,Object.defineProperty(Y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(H){this._foldedDefaultProps=a?function($){for(var U=[],W=1;W<arguments.length;W++)U[W-1]=arguments[W];for(var ee=0,Ae=U;ee<Ae.length;ee++)Xu($,Ae[ee],!0);return $}({},c.defaultProps,H):H}}),cc(Y,function(){return".".concat(Y.styledComponentId)}),u&&Vp(Y,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Y}function Wh(n,i){for(var o=[n[0]],a=0,c=i.length;a<c;a+=1)o.push(i[a],n[a+1]);return o}var $h=function(n){return Object.assign(n,{isCss:!0})};function bp(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(yi(n)||Ao(n))return $h(ur(Wh(wa,wo([n],i,!0))));var a=n;return i.length===0&&a.length===1&&typeof a[0]=="string"?ur(a):$h(ur(Wh(a,i)))}function Zu(n,i,o){if(o===void 0&&(o=vi),!i)throw Uo(1,i);var a=function(c){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return n(i,o,bp.apply(void 0,wo([c],u,!1)))};return a.attrs=function(c){return Zu(n,i,ft(ft({},o),{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},a.withConfig=function(c){return Zu(n,i,ft(ft({},o),c))},a}var em=function(n){return Zu($v,n)},Sn=em;Bp.forEach(function(n){Sn[n]=em(n)});var Yv=function(){function n(i,o){this.rules=i,this.componentId=o,this.isStatic=Jp(i),ca.registerId(this.componentId+1)}return n.prototype.createStyles=function(i,o,a,c){var u=c(Vu(ur(this.rules,o,a,c)),""),f=this.componentId+i;a.insertRules(f,f,u)},n.prototype.removeStyles=function(i,o){o.clearRules(this.componentId+i)},n.prototype.renderStyles=function(i,o,a,c){i>2&&ca.registerId(this.componentId+i),this.removeStyles(i,a),this.createStyles(i,o,a,c)},n}();function Vv(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=bp.apply(void 0,wo([n],i,!1)),c="sc-global-".concat(jp(JSON.stringify(a))),u=new Yv(a,c),f=function(m){var S=Qu(),g=pn.useContext(dc),y=pn.useRef(S.styleSheet.allocateGSInstance(c)).current;return S.styleSheet.server&&h(y,m,S.styleSheet,g,S.stylis),pn.useLayoutEffect(function(){if(!S.styleSheet.server)return h(y,m,S.styleSheet,g,S.stylis),function(){return u.removeStyles(y,S.styleSheet)}},[y,m,S.styleSheet,g,S.stylis]),null};function h(m,S,g,y,T){if(u.isStatic)u.renderStyles(m,fv,g,T);else{var k=ft(ft({},S),{theme:xp(S,y,f.defaultProps)});u.renderStyles(m,k,g,T)}}return pn.memo(f)}function tm(n,i){var o=ge.useRef(null),a=ge.useRef(!1),c=ge.useRef(n);c.current=n;var u=ge.useCallback(function(h){a.current&&(c.current(h),o.current=requestAnimationFrame(u))},[]),f=ge.useMemo(function(){return[function(){a.current&&(a.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){a.current||(a.current=!0,o.current=requestAnimationFrame(u))},function(){return a.current}]},[]);return ge.useEffect(function(){return f[0]},[]),f}function Xv(n,i,o,a,c){var f;(f=n.onExit)==null||f.call(n,a,i);const u=c.find(({id:h})=>h===i);return u!=null&&u.onEnter?u.onEnter(a,o):{...o,enteredAt:a.updateContext.gameState.time}}function Kv(n,i){return i.find(({id:o})=>o===n)}function Qv(n,i){return n!==i}function Zv(n){console.warn(`No handler found for state: ${n}`)}const yo="bushGrowing",Nr="bushFull",ia="bushSpreading",Io="bushDying",Yt=24,Vt=10,Dr=3e3,Mr=3e3,fc=2,qv=5,Jv=3,bv=12,ey=940,ty=.7,qu=20,Yh=90,nm=45,ny=240,rm=10,To=80,ry=3,ao=5,Qt=150,hc=Qt*.8,iy=Qt*.2,Rt=Qt*.95,Co=30,im=10,oy=10,sy=.5,Ct=30,Ro=Ct*.75,om=50,ay=20,ly=To*.8,uy=.7,cy=16,Si=40,pc=16,dy=72/3,Vh=24,fy=1.25,hy=1.5,mc=Qt*.6,gc=50,py=1,my=350,sm=To*.65,gy=80,vy=50,yy=1,Sy=128,am=10,Xh=100,Ey=20,Aa=Ct,lm=.5,um=5,_y=5,wy=.1,Ay=.5,Iy=1.5,Ty=.25,Cy=2,Ry=45,ky=.05,da=5,Py=.5,Ny=100,Oy=300,Dy=30,ko=.5,Kh=Qt*.6,My=Qt*.5,Uy=Qt*.7,Ly=Qt*.8,Fy=100,Hy=2,xy=400,By=1e3,Gy=Qt*.85,zy=100,jy=3,Wy=96,$y=24,Yy=600,cm=600,Vy=40,Xy=.35,Ky=24,Qy=1.2,Zy=10,fa=10,dm=250,fm=.3,hm=200,vn=30,vc=vn*.6,yc="#4CAF50",pm="#FF5722",mm="#9C27B0",qy="#2196F3",gm="#FFC107",Jy="#FFD700",vm="#DC143C",by="#FFFFFF",eS=[5,5],ym=5,Qh=20,tS=20,nS=16,rS=10,iS=16,oS=16,Zh=["","","","","","","","","",""],qh=8,sS="#FFFFFF",er=18,Tt=15,aS="rgba(0, 0, 0, 0.7)",lS=4,tr=150,Mt=15,dn=10,fi="#555",uS="#f44336",cS="#4CAF50",dS="#2196F3",fS="#FFC107",lo=16,hS=9,Rr=32,Vs=28,pS=10,mS=8,gS=8,vS=8,Xs=28,Ks=40,yS="rgba(255, 215, 0, 0.7)",SS="rgba(0, 0, 0, 0.3)",nr=10,Jh=8,Cu=11,rr=20,Ru=40,bh=5,ES=10,_S="#FFA500",wS="#808080",So=120,AS=30,IS=20,ku="#2d3748",TS="#ffffff",Pu="#4a5568",CS=60,RS=-50,kS=10,Nu=12,ep=10,PS="rgba(0, 0, 0, 0.5)",NS="#4CAF50",OS="#F44336",DS="#FFC107",MS="rgba(255, 255, 255, 0.2)",tp="#FFFFFF",US="#FF6B6B",LS=5,Sm=30,uo=50,Qs=8,np=10,FS="rgba(0, 0, 0, 0.5)",HS="#FFFFFF",xS=33,BS=400,GS=20,zS=10,jS="rgba(0, 0, 0, 0.7)",WS="#FFFFFF",Ou=20,rp=16,$S=.5,ip=5,Em="#FFD700",YS=40,VS=4,XS=3,KS=5,Xt=1,mo=3,QS=70,op=600,ZS=1.5,_m=.1,qS=15,JS=5e3;function ht(n,i,o,a,c){const u={id:n.nextVisualEffectId,type:i,position:o,startTime:n.time,duration:a,entityId:c};return n.visualEffects.push(u),n.nextVisualEffectId++,u.id}var Ee=(n=>(n[n.Hunger=0]="Hunger",n[n.Procreation=1]="Procreation",n[n.Pregnant=2]="Pregnant",n[n.TargetAcquired=3]="TargetAcquired",n[n.Attack=4]="Attack",n[n.Partnered=5]="Partnered",n[n.BushClaimed=6]="BushClaimed",n[n.BushClaimLost=7]="BushClaimLost",n[n.Eating=8]="Eating",n[n.ChildFed=9]="ChildFed",n[n.AttackDeflected=10]="AttackDeflected",n[n.AttackResisted=11]="AttackResisted",n[n.Hit=12]="Hit",n[n.SeizeBuildup=13]="SeizeBuildup",n[n.Seize=14]="Seize",n[n.CallToAttack=15]="CallToAttack",n))(Ee||{}),dr=(n=>(n.Berry="berry",n.Meat="meat",n))(dr||{});const wm={berry:"",meat:""},bS={id:yo,update:(n,i)=>{const{entity:o,updateContext:a}=i,c=a.deltaTime*(Yt/Vt);return o.age+=c,o.age>=o.lifespan?{nextState:Io,data:{...n,enteredAt:a.gameState.time}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(ht(a.gameState,Ee.BushClaimLost,o.position,Xt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=c,o.timeSinceLastBerryRegen>=bv&&o.food.length<o.maxFood&&(o.food.push({type:dr.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:Nr,data:{...n,enteredAt:a.gameState.time,previousState:yo}}:{nextState:yo,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},e1={id:Nr,update:(n,i)=>{const{entity:o,updateContext:a}=i,c=a.deltaTime*(Yt/Vt);return o.age+=c,o.age>=o.lifespan?{nextState:Io,data:{...n,enteredAt:a.gameState.time,previousState:Nr}}:o.food.length<o.maxFood?{nextState:yo,data:{...n,enteredAt:a.gameState.time,previousState:Nr}}:(o.ownerId&&o.claimedUntil&&a.gameState.time>o.claimedUntil&&(ht(a.gameState,Ee.BushClaimLost,o.position,Xt),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=c,o.timeSinceLastSpreadAttempt>=Yh&&(o.timeSinceLastSpreadAttempt=0,a.gameState.time-o.timeSinceLastHarvest>=Yh&&Math.random()<o.spreadChance)?{nextState:ia,data:{...n,enteredAt:a.gameState.time,previousState:Nr}}:{nextState:Nr,data:n})},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})};function cr(n,i){return{x:n.x+i.x,y:n.y+i.y}}function t1(n,i){return{x:n.x-i.x,y:n.y-i.y}}function mn(n,i){return{x:n.x*i,y:n.y*i}}function Po(n){return Math.sqrt(n.x*n.x+n.y*n.y)}function Zt(n){const i=Po(n);return i===0?{x:0,y:0}:mn(n,1/i)}function Sc(n,i,o){return{x:n.x+(i.x-n.x)*o,y:n.y+(i.y-n.y)*o}}function Ec(n){if(n.length===0)return{x:0,y:0};const i=n.reduce((o,a)=>({x:o.x+a.x,y:o.y+a.y}),{x:0,y:0});return{x:i.x/n.length,y:i.y/n.length}}function Lt(n,i,o,a){let c=i.x-n.x,u=i.y-n.y;return Math.abs(c)>o/2&&(c=c-Math.sign(c)*o),Math.abs(u)>a/2&&(u=u-Math.sign(u)*a),{x:c,y:u}}function Am(n,i,o){const a=Lt(n,i,o.width,o.height);return Zt(a)}function we(n,i,o,a){const c=Lt(n,i,o,a);return Po(c)}function n1(n,i){return n.x*i.x+n.y*i.y}function r1(n,i){const o=n1(n,i),a=Po(n),c=Po(i);if(a===0||c===0)return 0;const u=Math.max(-1,Math.min(1,o/(a*c)));return Math.acos(u)}function i1(n,i,o){const a=Math.max(0,Math.min(1,o)),c={r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)},u={r:parseInt(i.substring(1,3),16),g:parseInt(i.substring(3,5),16),b:parseInt(i.substring(5,7),16)},f=Math.round(c.r+(u.r-c.r)*a),h=Math.round(c.g+(u.g-c.g)*a),m=Math.round(c.b+(u.b-c.b)*a),S=g=>("00"+g.toString(16)).slice(-2);return`#${S(f)}${S(h)}${S(m)}`}var $t=(n=>(n.GatherFood="GatherFood",n.Eat="Eat",n.Procreate="Procreate",n.Attack="Attack",n.PlantBush="PlantBush",n.CallToAttack="CallToAttack",n.TribeSplit="TribeSplit",n))($t||{});const o1={GatherFood:"",Eat:"",Procreate:"",Attack:"",PlantBush:"",CallToAttack:"",TribeSplit:""};var ci=(n=>(n.Time="Time",n.Hunger="Hunger",n.Hitpoints="Hitpoints",n.Food="Food",n.Autopilot="Autopilot",n.Muted="Muted",n.Family="Family",n.Tribes="Tribes",n))(ci||{});const co={Time:"",Hunger:"",Hitpoints:"",Food:"",Autopilot:"",Muted:"",Family:"",Tribes:""};var gn=(n=>(n.ToggleAutopilot="ToggleAutopilot",n.ToggleMute="ToggleMute",n.TogglePause="TogglePause",n))(gn||{});const Du=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,s1=""+new URL("gather-CU75596W.mp3",import.meta.url).href,a1=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,sp=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,l1=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,u1=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,c1=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,d1=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,f1=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,h1=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Ge=(n=>(n[n.Attack=0]="Attack",n[n.Gather=1]="Gather",n[n.Eat=2]="Eat",n[n.Procreate=3]="Procreate",n[n.Birth=4]="Birth",n[n.ChildFed=5]="ChildFed",n[n.HumanDeath=6]="HumanDeath",n[n.Seize=7]="Seize",n[n.CallToAttack=8]="CallToAttack",n[n.TribeSplit=9]="TribeSplit",n[n.GameOver=10]="GameOver",n[n.ButtonClick=11]="ButtonClick",n[n.SoundTrack1=12]="SoundTrack1",n))(Ge||{});const p1=new Map([[0,Du],[1,s1],[2,a1],[3,sp],[4,l1],[5,u1],[6,c1],[10,d1],[11,f1],[7,Du],[8,Du],[9,sp],[12,h1]]);let fo,No;function m1(){if(!(typeof window>"u"))return No}function _c(){if(!(typeof window>"u"))return!fo&&typeof window.AudioContext=="function"&&(fo=new window.AudioContext,No=fo.createGain(),No.connect(fo.destination),oa(.1,!1)),fo}function oa(n,i){No&&(No.gain.value=i?0:n/10)}const Im=new Map;let Zs=!1,ap=!1;async function g1(){if(ap||Zs)return;const n=_c();if(!n){console.error("AudioContext not supported. Cannot load sounds.");return}n.state==="suspended"&&n.resume(),Zs=!0,console.log("Starting sound loading...");const i=[];p1.forEach((o,a)=>{const c=fetch(o).then(u=>{if(!u.ok)throw new Error(`Failed to fetch sound: ${o}`);return u.arrayBuffer()}).then(u=>n.decodeAudioData(u)).then(u=>{Im.set(a,u)}).catch(u=>{console.error(`Error loading sound ${Ge[a]} from ${o}:`,u)});i.push(c)});try{await Promise.all(i),ap=!0,Zs=!1,console.log("All sounds loaded successfully.")}catch(o){Zs=!1,console.error("An error occurred while loading sounds:",o)}}const Eo=new Map;function wc(n,i){const o=_c(),a=m1();if(!o||!a||a.gain.value===0&&(i==null?void 0:i.trackId)===void 0)return;o.state==="suspended"&&o.resume();const c=Im.get(n);if(!c){console.warn(`Sound buffer not found for type: ${Ge[n]}`);return}if(i!=null&&i.trackId&&Eo.has(i.trackId))return;const u=o.createBufferSource();u.buffer=c,u.loop=(i==null?void 0:i.loop)??!1;const f=o.createGain(),h=o.createStereoPanner();let m=f;if(i!=null&&i.position&&(i!=null&&i.listenerPosition)&&(i!=null&&i.worldDimensions)){const S=Lt(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height),g=we(i.listenerPosition,i.position,i.worldDimensions.width,i.worldDimensions.height);if(g>op)return;const y=1-Math.pow(g/op,ZS);f.gain.value=Math.max(0,y);const T=Math.sin(S.x/g*(Math.PI/2));h.pan.value=isNaN(T)?0:T,f.connect(h),m=h}else{const S=n===Ge.GameOver?.4:n===Ge.SoundTrack1?1:.2;f.gain.value=S}u.connect(m),m.connect(a),u.start(0),i!=null&&i.trackId&&(Eo.set(i.trackId,{sourceNode:u,gainNode:f}),u.onended=()=>{Eo.delete(i.trackId)})}function lp(n,i=1){const o=Eo.get(n),a=_c();if(o&&a){const{sourceNode:c,gainNode:u}=o,f=a.currentTime;u.gain.setValueAtTime(u.gain.value,f),u.gain.linearRampToValueAtTime(0,f+i),c.stop(f+i),c.onended=null,Eo.delete(n)}}function dt(n,i,o){const a=lr(n.gameState);a&&wc(i,{position:o,listenerPosition:a.position,worldDimensions:n.gameState.mapDimensions,masterVolume:n.gameState.masterVolume,isMuted:n.gameState.isMuted})}function Tm(n,i){const o=[],a=n;if(i.food.length>0&&i.hunger>hc&&o.push({type:$t.Eat,action:"eating",key:"f"}),i.food.length<i.maxFood){const f=yt(i,n,"berryBush",Ct,S=>S.food.length>0),h=yt(i,n,"humanCorpse",Ct,S=>S.food.length>0);let m=null;f&&h?m=we(i.position,f.position,n.mapDimensions.width,n.mapDimensions.height)<=we(i.position,h.position,n.mapDimensions.width,n.mapDimensions.height)?f:h:m=f||h,m&&o.push({type:$t.GatherFood,action:"gathering",key:"e",targetEntity:m})}const c=yt(i,n,"human",Ct,f=>{const h=f;return(h.id!==i.id&&h.gender!==i.gender&&h.isAdult&&i.isAdult&&h.hunger<Rt&&i.hunger<Rt&&(h.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(h.gender==="female"?!h.isPregnant&&h.age<=Si:!i.isPregnant&&i.age<=Si))??!1});c&&o.push({type:$t.Procreate,action:"procreating",key:"r",targetEntity:c});const u=yt(i,n,"human",Aa,f=>f.id!==i.id);return u&&o.push({type:$t.Attack,action:"attacking",key:"q",targetEntity:u}),i.food.filter(f=>f.type===dr.Berry).length>=da&&o.push({type:$t.PlantBush,action:"planting",key:"b"}),i.leaderId===i.id&&!i.isCallingToAttack&&Tc(i.position,i.id,a,dm).length>0&&o.push({type:$t.CallToAttack,action:"callingToAttack",key:"v"}),Ac(i,n).canSplit&&o.push({type:$t.TribeSplit,action:"tribeSplitting",key:"k"}),o}function Cm(n,i,o,a){const c=Math.random()*Math.PI*2,u=Math.sqrt(Math.random())*i,f={x:Math.cos(c)*u,y:Math.sin(c)*u},h=cr(n,f);return{x:(h.x%o+o)%o,y:(h.y%a+a)%a}}function Ju(n,i,o){const a=i,c={left:n.x-o,top:n.y-o,right:n.x+o,bottom:n.y+o},u=[...a.search.human.byRect(c),...a.search.berryBush.byRect(c),...a.search.humanCorpse.byRect(c)];for(const f of u)if(we(n,f.position,i.mapDimensions.width,i.mapDimensions.height)<o+f.radius)return!0;return!1}function Rm(n,i,o,a){const c=i.mapDimensions.width,u=i.mapDimensions.height;if(!Ju(n,i,a))return n;const f=a;for(let h=f;h<=o;h+=f){const m=Math.ceil(2*Math.PI*h/f);for(let S=0;S<m;S++){const g=S/m*2*Math.PI,y={x:Math.cos(g)*h,y:Math.sin(g)*h},T=cr(n,y),k={x:(T.x%c+c)%c,y:(T.y%u+u)%u};if(!Ju(k,i,a))return k}}return null}function v1(n,i){const o=yt(n,i,"berryBush",void 0,c=>c.ownerId===n.id);return o?Rm(o.position,i,Ny,Dy):null}function yt(n,i,o,a,c){const u=i,f=a!==void 0?a:Math.max(i.mapDimensions.width,i.mapDimensions.height),h=u.search[o].byRadius(n.position,f);let m=null,S=f;for(const g of h){if(g.id===n.id||c&&!c(g))continue;const y=we(n.position,g.position,i.mapDimensions.width,i.mapDimensions.height);y<S&&(S=y,m=g)}return m}function km(n,i,o,a){return i.search[o].byRadius(n,a).length}function up(n,i,o){return i.search.human.byRadius(n.position,o).filter(u=>{if(u.id===n.id||u.gender===n.gender||!u.isAdult||u.hunger>=Rt||(u.procreationCooldown||0)>0||u.gender==="female"&&u.isPregnant)return!1;const f=u.id===n.motherId||u.id===n.fatherId,h=n.id===u.motherId||n.id===u.fatherId;return!f&&!h})}function ha(n){if(n.length===0)return;const i=n.filter(c=>c.gender==="male"),o=n.filter(c=>c.gender==="female"),a=(c,u)=>c.age!==u.age?u.age-c.age:c.id-u.id;if(i.sort(a),i.length>0)return i[0];if(o.sort(a),o.length>0)return o[0]}function lr(n){const o=n.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function yn(n,i){const o=n,a=o.search.human.byProperty("motherId",i.id),c=o.search.human.byProperty("fatherId",i.id);return[...a,...c]}function y1(n,i){var f;const a=i.search.human.byProperty("activeAction","attacking");let c=null,u=1/0;for(const h of a){if(h.attackTargetId!==n)continue;const m=we(h.position,((f=i.entities.entities.get(n))==null?void 0:f.position)||{x:0,y:0},i.mapDimensions.width,i.mapDimensions.height);m<u&&(c=h,u=m)}return c}function S1(n,i,o){var c;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id||n.motherId&&n.motherId===i.motherId||n.fatherId&&n.fatherId===i.fatherId||(c=n.partnerIds)!=null&&c.includes(i.id))return!0;if(n.motherId){const u=o.entities.entities.get(n.motherId);if(u&&(u.motherId===i.id||u.fatherId===i.id))return!0}if(n.fatherId){const u=o.entities.entities.get(n.fatherId);if(u&&(u.motherId===i.id||u.fatherId===i.id))return!0}if(i.motherId){const u=o.entities.entities.get(i.motherId);if(u&&(u.motherId===n.id||u.fatherId===n.id))return!0}if(i.fatherId){const u=o.entities.entities.get(i.fatherId);if(u&&(u.motherId===n.id||u.fatherId===n.id))return!0}return!1}function cp(n,i){var u,f;if(n.id===i.id||n.motherId===i.id||n.fatherId===i.id||i.motherId===n.id||i.fatherId===n.id)return!0;const o=n.motherId===i.motherId||n.fatherId===i.fatherId,a=i.motherId===n.motherId||i.fatherId===n.fatherId,c=((u=n.ancestorIds)==null?void 0:u.some(h=>i.ancestorIds.includes(h)))||((f=i.ancestorIds)==null?void 0:f.some(h=>n.ancestorIds.includes(h)));return o||a||c}function Pm(n,i){const o=[];if(n.motherId){const a=i.entities.entities.get(n.motherId);a&&o.push(a)}if(n.fatherId){const a=i.entities.entities.get(n.fatherId);a&&o.push(a)}return o}function E1(n,i){if(n.gender!=="female"||!n.partnerIds||n.partnerIds.length===0)return null;for(const o of n.partnerIds){const a=i.entities.entities.get(o);if(a&&a.gender==="male")return a}return null}function _1(n,i){if(!n.isAdult&&n.fatherId){const o=i.entities.entities.get(n.fatherId);if(o&&o.type==="human")return o}return n.isAdult&&n.gender==="female"&&n.partnerIds&&n.partnerIds.length>0?E1(n,i):null}function bu(n,i){var a;const o=new Set;if(n.motherId){const c=i.entities.entities.get(n.motherId);c&&o.add(c)}if(n.fatherId){const c=i.entities.entities.get(n.fatherId);c&&o.add(c)}return(a=n.partnerIds)==null||a.forEach(c=>{const u=i.entities.entities.get(c);u&&o.add(u)}),yn(i,n).forEach(c=>o.add(c)),Array.from(o)}let Mu=0;function ec(){const n=Zh[Mu];return Mu=(Mu+1)%Zh.length,n}function Nm(n,i){const o=new Map;function a(c){const u=yn(i,c);for(const f of u)o.has(f.id)||(o.set(f.id,f),a(f))}return a(n),Array.from(o.values())}function Ac(n,i){if(!n.isAdult||n.gender!=="male"||n.leaderId===n.id||!n.leaderId)return{canSplit:!1};if(!n.leaderId)return{canSplit:!1};const o=i.entities.entities.get(n.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const a=ha(yn(i,o));if(a&&a.id===n.id)return{canSplit:!1};const c=Ic(n.leaderId,i);if(c.length<Vy)return{canSplit:!1};const f=Nm(n,i).length+1,h=c.length*Xy;return{canSplit:f>=h,progress:f/h}}function Om(n,i){if(!Ac(n,i).canSplit)return;const o=ec(),a=Nm(n,i);n.leaderId=n.id,n.tribeBadge=o;for(const u of a)u.leaderId=n.id,u.tribeBadge=o;dt({gameState:i},Ge.TribeSplit,n.position)}function Ic(n,i){return i.search.human.byProperty("leaderId",n)}function Tc(n,i,o,a){return o.search.human.byRadius(n,a).filter(u=>u.leaderId!==i&&u.id!==i)}function w1(n,i,o){const a=o.search.human.byProperty("leaderId",n);let c=0;for(const u of a)u.attackTargetId===i&&c++;return c}function A1(n,i){var u;const o=new Map,a=Array.from(n.entities.entities.values()).filter(f=>f.type==="human");for(const f of a)f.leaderId&&(o.has(f.leaderId)||o.set(f.leaderId,{leaderId:f.leaderId,tribeBadge:f.tribeBadge||"?",members:[]}),(u=o.get(f.leaderId))==null||u.members.push(f));const c=Array.from(o.values()).map(f=>{const h=n.entities.entities.get(f.leaderId),m=f.members.filter(g=>g.isAdult).length,S=f.members.length-m;return{leaderId:f.leaderId,tribeBadge:f.tribeBadge,adultCount:m,childCount:S,isPlayerTribe:f.leaderId===i,leaderAge:(h==null?void 0:h.age)??0,leaderGender:(h==null?void 0:h.gender)??"male"}});return c.sort((f,h)=>f.isPlayerTribe?-1:h.isPlayerTribe?1:h.adultCount+h.childCount-(f.adultCount+f.childCount)),c}function dp(n){return n.filter(i=>i.isAdult).reduce((i,o)=>{let a=o.hitpoints;return a+=(o.maxAge-o.age)*.5,a+=o.food.length*2,i+a},0)}function I1(n){return Array.from(n.entities.entities.values()).filter(i=>i.type==="human")}function tc(n,i){const o=Ic(n,i);if(o.length===0){const c=i.entities.entities.get(n);return c?c.position:{x:0,y:0}}const a=o.map(c=>c.position);return Ec(a)}function fp(n,i){const a=[...bu(n,i),n].map(c=>c.position);return Ec(a)}const T1={id:ia,update:(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:c}=a,u=a.deltaTime*(Yt/Vt);if(o.age+=u,o.age>=o.lifespan)return{nextState:Io,data:{...n,enteredAt:c.time,previousState:ia}};const f=Cm(o.position,o.spreadRadius,c.mapDimensions.width,c.mapDimensions.height);return Ju(f,c,15)||Ra(c.entities,f,c.time),{nextState:Nr,data:{...n,enteredAt:c.time,previousState:ia}}},onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time})},C1={id:Io,update:n=>({nextState:Io,data:n}),onEnter:(n,i)=>(kc(n.updateContext.gameState.entities,n.entity.id),{...i,enteredAt:n.updateContext.gameState.time})},R1=[bS,e1,T1,C1],ot="humanIdle",Pr="humanMoving",go="humanEating",Ia="humanGathering",Oo="humanProcreating",Ei="humanAttacking",sa="humanPlanting",k1={id:ot,update:(n,i)=>{const{entity:o,updateContext:a}=i;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Ei,data:{...n,enteredAt:a.gameState.time,previousState:ot,attackTargetId:o.attackTargetId,attackStartTime:a.gameState.time}}:(o.hunger>=hc?(o.debuffs=o.debuffs.filter(c=>c.type!=="slow"),o.debuffs.push({type:"slow",startTime:a.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(c=>c.type!=="slow"),o.activeAction==="moving"?{nextState:Pr,data:{...n,enteredAt:a.gameState.time,previousState:ot,target:o.target}}:o.activeAction==="gathering"?{nextState:Ia,data:{...n,enteredAt:a.gameState.time,previousState:ot,target:o.target}}:o.activeAction==="eating"?{nextState:go,data:{...n,enteredAt:a.gameState.time,previousState:ot}}:o.activeAction==="planting"&&o.target?{nextState:sa,data:{...n,enteredAt:a.gameState.time,previousState:ot,plantingSpot:o.target}}:{nextState:ot,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};function Dm(n){let i=oy;return n.hunger>=hc&&(i*=sy),n.age>=ly&&(i*=uy),i}const Uu=7.5;class P1{constructor(){et(this,"id",Pr)}update(i,o){var m;const{entity:a,updateContext:c}=o;if(a.activeAction==="attacking"&&a.attackTargetId)return{nextState:Ei,data:{...i,enteredAt:c.gameState.time,previousState:Pr,attackTargetId:a.attackTargetId,attackStartTime:c.gameState.time}};if(a.activeAction!=="moving")return{nextState:ot,data:{...i,enteredAt:c.gameState.time,previousState:Pr}};let u;if(typeof a.target=="object"?u=a.target:typeof a.target=="number"&&(u=(m=o.updateContext.gameState.entities.entities.get(a.target))==null?void 0:m.position),!u&&(a.direction.x!==0||a.direction.y!==0)&&(u={x:a.position.x+a.direction.x*Uu*2,y:a.position.y+a.direction.y*Uu*2}),!u)return{nextState:ot,data:{...i,enteredAt:c.gameState.time,previousState:Pr}};const f=Lt(a.position,u,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return a.direction=Zt(f),a.acceleration=Dm(a),we(a.position,u,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<Uu?{nextState:ot,data:{...i,enteredAt:c.gameState.time,previousState:Pr}}:{nextState:Pr,data:i}}onExit(i){const{entity:o}=i;o.acceleration=0,o.target=void 0}}const N1=new P1,O1={id:go,update:(n,i)=>{const{entity:o,updateContext:a}=i;return o.activeAction!=="eating"?{nextState:ot,data:{...n,enteredAt:a.gameState.time,previousState:go}}:(o.food.length>0&&(!o.eatingCooldownTime||a.gameState.time>=o.eatingCooldownTime)&&o.hunger>Co&&(o.hunger=Math.max(0,o.hunger-Co),o.food.pop(),o.eatingCooldownTime=a.gameState.time+1,dt(a,Ge.Eat,o.position),(!o.lastEatingEffectTime||a.gameState.time-o.lastEatingEffectTime>2)&&(ht(a.gameState,Ee.Eating,o.position,Xt,o.id),o.lastEatingEffectTime=a.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ot,data:{...n,enteredAt:a.gameState.time,previousState:go}}:{nextState:go,data:n})},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})};class D1{constructor(){et(this,"id",Ia)}update(i,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...i,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:i}}}const M1=new D1,U1=(n,i)=>(i.procreationEndTime=n.updateContext.gameState.time+(i.duration||2),i),L1=(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:c}=a;if(c.time<(n.procreationEndTime||0))return{nextState:Oo,data:n};const u=c.entities.entities.get(n.partnerId);if(u&&u.type==="human"&&!u.isPregnant&&o.hunger<Rt&&u.hunger<Rt&&!o.procreationCooldown&&!u.procreationCooldown){const f=o.gender==="female"?o:u.gender==="female"?u:void 0,h=o.gender==="male"?o:u.gender==="male"?u:void 0;f&&h&&(f.isPregnant=!0,f.gestationTime=dy,f.fatherId=h.id,o.procreationCooldown=Vh,u.procreationCooldown=Vh,dt(a,Ge.Procreate,f.position))}return o.activeAction="idle",u&&(u.activeAction="idle"),{nextState:ot,data:{...n,enteredAt:c.time,previousState:Oo}}},F1={id:Oo,onEnter:U1,update:L1},H1={id:Ei,onEnter:(n,i)=>({...i,enteredAt:n.updateContext.gameState.time,attackStartTime:n.updateContext.gameState.time}),update:(n,i)=>{if(i.entity.activeAction!=="attacking"||!i.entity.attackTargetId)return i.entity.activeAction="idle",{nextState:ot,data:{...n}};const o=i.updateContext.gameState.entities.entities.get(i.entity.attackTargetId);if(!o||o.type!=="human")return i.entity.activeAction="idle",{nextState:ot,data:{...n}};const a=we(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height),c=Lt(i.entity.position,o.position,i.updateContext.gameState.mapDimensions.width,i.updateContext.gameState.mapDimensions.height);return i.entity.direction=Zt(c),a>Aa?i.entity.acceleration=Dm(i.entity):i.entity.acceleration=0,{nextState:Ei,data:n}}},x1={id:sa,update:(n,i)=>{const{entity:o,updateContext:a}=i,{gameState:c}=a;if(c.time-n.enteredAt>=Py){if(o.food.filter(h=>h.type===dr.Berry).length>=da){for(let h=0;h<da;h++){const m=o.food.findIndex(S=>S.type===dr.Berry);m>-1&&o.food.splice(m,1)}Ra(c.entities,n.plantingSpot,c.time)}return{nextState:ot,data:{...n,enteredAt:c.time,previousState:sa}}}return{nextState:sa,data:n}},onEnter:(n,i)=>(n.entity.acceleration=0,n.entity.velocity={x:0,y:0},{...i,enteredAt:n.updateContext.gameState.time})},B1=[k1,N1,O1,M1,F1,H1,x1],hp=[...R1,...B1];function G1(n,i,o){const a=Kv(n,hp);if(!a)return Zv(n),[n,i];const{nextState:c,data:u}=a.update(i,o);return Qv(n,c)?[c,Xv(a,c,u,o,hp)]:[c,u]}function z1(n,i,o){const{gameState:a}=i,c=o*(Yt/Vt);if(n.isAdult=n.age>=pc,n.isCallingToAttack&&n.callToAttackEndTime&&a.time>n.callToAttackEndTime&&(n.isCallingToAttack=!1,n.callToAttackEndTime=void 0),n.hitpoints<n.maxHitpoints){const f=1-n.hunger/100*Ay,h=wy*f*c;n.hitpoints=Math.min(n.maxHitpoints,n.hitpoints+h)}if(n.hunger+=o*(ao/(Yt/Vt)),n.hunger>QS&&(!n.lastHungerEffectTime||a.time-n.lastHungerEffectTime>mo*2)&&(ht(a,Ee.Hunger,n.position,mo,n.id),n.lastHungerEffectTime=a.time),n.age+=o/rm,n.gender==="female"&&n.isPregnant&&n.gestationTime&&(n.gestationTime-=c,n.hunger+=o*((ao*fy-ao)/(Yt/Vt)),(!n.lastPregnantEffectTime||a.time-n.lastPregnantEffectTime>mo*3)&&(ht(a,Ee.Pregnant,n.position,mo,n.id),n.lastPregnantEffectTime=a.time),n.gestationTime<=0&&(hE(n,n.fatherId,i),n.isPregnant=!1,n.gestationTime=0,n.fatherId=void 0)),n.procreationCooldown&&(n.procreationCooldown-=c,n.procreationCooldown<0&&(n.procreationCooldown=0)),n.attackCooldown&&(n.attackCooldown-=c,n.attackCooldown<0&&(n.attackCooldown=0)),n.feedParentCooldownTime&&(n.feedParentCooldownTime-=c,n.feedParentCooldownTime<0&&(n.feedParentCooldownTime=0)),n.feedChildCooldownTime&&(n.feedChildCooldownTime-=c,n.feedChildCooldownTime<0&&(n.feedChildCooldownTime=0)),n.leaderMetaStrategyCooldown&&(n.leaderMetaStrategyCooldown-=c,n.leaderMetaStrategyCooldown<0&&(n.leaderMetaStrategyCooldown=0)),n.leaderCallToAttackCooldown&&(n.leaderCallToAttackCooldown-=c,n.leaderCallToAttackCooldown<0&&(n.leaderCallToAttackCooldown=0)),n.isAdult?n.radius===vc&&(n.radius=vn):n.hunger+=o*((ao*hy-ao)/(Yt/Vt)),n.isAdult&&n.food.length>0&&(!n.feedParentCooldownTime||n.feedParentCooldownTime<=0)){const f=[];if(n.motherId){const h=a.entities.entities.get(n.motherId);h&&f.push(h)}if(n.fatherId){const h=a.entities.entities.get(n.fatherId);h&&f.push(h)}for(const h of f)if(h.age>=sm&&h.hunger>=gy&&we(n.position,h.position,a.mapDimensions.width,a.mapDimensions.height)<=vy){n.food.pop(),h.hunger=Math.max(0,h.hunger-Co),n.feedParentCooldownTime=yy;break}}let u;if(n.hitpoints<=0?u="killed":n.hunger>=Qt?n.food.length>0&&n.isAdult?(n.food.pop(),n.hunger=Math.max(0,n.hunger-Co)):u="hunger":n.age>=n.maxAge&&(u="oldAge"),u){if(n.leaderId===n.id){const f=ha(yn(a,n));f?(f.leaderId=f.id,f.tribeBadge=n.tribeBadge,a.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const m=h;m.leaderId=f.id}})):a.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===n.id){const m=h;m.leaderId=void 0,m.tribeBadge=void 0}})}if(n.isPlayer){const f=ha(yn(a,n));f?(f.isPlayer=!0,a.generationCount++):(a.gameOver=!0,a.causeOfGameOver=u)}fE(a.entities,n.position,n.gender,n.age,n.radius,n.id,a.time,n.food,n.hunger),kc(a.entities,n.id);return}n.animationProgress===void 0&&(n.animationProgress=0),n.animationSpeed===void 0&&(n.animationSpeed=1),n.animationProgress+=o*n.animationSpeed,n.animationProgress>=1&&(n.animationProgress=0)}function j1(n,i){const o=i.gameState.time-n.timeOfDeath;n.decayProgress=Math.min(1,o/Sy);const a=Math.floor(am*(1-n.decayProgress));n.food.length>a&&n.food.splice(a),n.decayProgress>=1&&n.food.length<=0&&kc(i.gameState.entities,n.id)}var Cc=(n=>(n[n.BehaviorTreeBased=0]="BehaviorTreeBased",n))(Cc||{});function W1(n,i){if(n.aiBehaviorTree&&n.aiBlackboard){const o=n.aiBlackboard.get("lastAiUpdateTime")??0;i.gameState.time-o>=ko&&(n.aiBehaviorTree.execute(n,i,n.aiBlackboard),n.aiBlackboard.set("lastAiUpdateTime",i.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${n.id}, but the tree or blackboard was missing.`),n.activeAction="idle"}function $1(n,i){switch(n.aiBlackboard&&n.aiBlackboard.cleanupOldEntries(i.gameState.time),n.aiType){case Cc.BehaviorTreeBased:default:W1(n,i);break}}function Y1(n,i){n.forces.push(mn(n.velocity,-.1));const o=mn(Zt(n.direction),n.acceleration);n.forces.push(o),n.debuffs.forEach(a=>{i.gameState.time-a.startTime<a.duration&&a.type==="slow"&&(n.velocity=mn(n.velocity,.5))}),n.debuffs=n.debuffs.filter(a=>i.gameState.time-a.startTime<a.duration),n.velocity=cr(n.velocity,n.forces.reduce(cr,{x:0,y:0})),Po(n.velocity)<.001&&(n.velocity={x:0,y:0}),n.position=cr(n.position,mn(n.velocity,i.deltaTime)),n.position.x=(n.position.x%i.gameState.mapDimensions.width+i.gameState.mapDimensions.width)%i.gameState.mapDimensions.width,n.position.y=(n.position.y%i.gameState.mapDimensions.height+i.gameState.mapDimensions.height)%i.gameState.mapDimensions.height,n.forces=[],n.type==="human"?z1(n,i,i.deltaTime):n.type==="humanCorpse"&&j1(n,i),n.type==="human"&&(!n.isPlayer||i.gameState.isPlayerOnAutopilot)&&$1(n,i),n.stateMachine&&(n.stateMachine=G1(...n.stateMachine,{entity:n,updateContext:i}))}var z=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.FAILURE=1]="FAILURE",n[n.RUNNING=2]="RUNNING",n[n.NOT_EVALUATED=3]="NOT_EVALUATED",n))(z||{});function Ta(n){return Array.isArray(n)?n:[n,""]}class nt{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");this.children=i,this.name=o,this.depth=a,this.children.forEach(c=>{c.depth=(this.depth??0)+1})}execute(i,o,a){for(const c of this.children){const[u,f]=Ta(c.execute(i,o,a));if(u!==z.SUCCESS)return this.lastStatus=u,this.name&&a.recordNodeExecution(this.name,u,o.gameState.time,this.depth,f),u}return this.lastStatus=z.SUCCESS,this.name&&a.recordNodeExecution(this.name,z.SUCCESS,o.gameState.time,this.depth,""),z.SUCCESS}}class Ca{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");et(this,"runningChildIndex");this.children=i,this.name=o,this.depth=a,this.children.forEach(c=>{c.depth=(this.depth??0)+1})}execute(i,o,a){const c=this.runningChildIndex??0;for(let u=c;u<this.children.length;u++){const f=this.children[u],[h,m]=Ta(f.execute(i,o,a));if(h!==z.FAILURE){if(h===z.SUCCESS)return delete this.runningChildIndex,this.lastStatus=z.SUCCESS,this.name&&a.recordNodeExecution(this.name,z.SUCCESS,o.gameState.time,this.depth,m),z.SUCCESS;if(h===z.RUNNING)return this.runningChildIndex=u,this.lastStatus=z.RUNNING,this.name&&a.recordNodeExecution(this.name,z.RUNNING,o.gameState.time,this.depth,m),z.RUNNING}}return delete this.runningChildIndex,this.lastStatus=z.FAILURE,this.name&&a.recordNodeExecution(this.name,z.FAILURE,o.gameState.time,this.depth,""),z.FAILURE}}class je{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");this.action=i,this.name=o,this.depth=a}execute(i,o,a){const[c,u]=Ta(this.action(i,o,a));return this.lastStatus=c,this.name&&a.recordNodeExecution(this.name,c,o.gameState.time,this.depth,u),c}}class Pe{constructor(i,o,a=0){et(this,"name");et(this,"lastStatus");et(this,"depth");this.condition=i,this.name=o,this.depth=a}execute(i,o,a){let[c,u]=Ta(this.condition(i,o,a));const f=c?z.SUCCESS:z.FAILURE;return this.lastStatus=f,this.name&&a.recordNodeExecution(this.name,f,o.gameState.time,this.depth,u),f}}function V1(n){return new nt([new Pe((i,o)=>{const a=i.hunger>=Kh,c=i.food.length>0,u=!i.eatingCooldownTime||o.gameState.time>=i.eatingCooldownTime;return[!!(i.isAdult&&a&&c&&u),`${Math.floor(i.hunger-Kh)}, ${i.food.length}, ${i.eatingCooldownTime?Math.floor(i.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",n+1),new je(i=>(i.direction={x:0,y:0},i.target=void 0,i.activeAction="eating",z.RUNNING),"Eat",n+1)],"Eating",n)}function X1(n){return new nt([new Pe((i,o,a)=>{if(i.isAdult&&i.hitpoints>i.maxHitpoints*fm||i.isAdult&&i.hunger>Gy)return!1;const c=y1(i.id,o.gameState);return c?(a.set("fleeThreat",c),!0):!1},"Should Flee",n+1),new je((i,o,a)=>{const c=a.get("fleeThreat");if(!c)return z.FAILURE;i.activeAction="moving";const u=Lt(c.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),f=Zt(u),h=cr(i.position,mn(f,hm));return i.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},i.direction=f,z.RUNNING},"Execute Flee",n+1)],"Flee",n)}function K1(n){return new nt([new Pe((i,o,a)=>{const c=i.food.length<i.maxFood;if(!i.isAdult||!c||i.hunger<My)return!1;const u=yt(i,o.gameState,"berryBush",void 0,m=>m.food.length>0),f=yt(i,o.gameState,"humanCorpse",void 0,m=>m.food.length>0);let h=null;if(u&&f){const m=we(i.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),S=we(i.position,f.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);h=m<=S?u:f}else h=u||f;return h?(a.set("foodSource",h),!0):!1},"Should Gather Food",n+1),new je((i,o,a)=>{const c=a.get("foodSource");return c?we(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)<Ro?(i.activeAction="gathering",i.direction={x:0,y:0},i.target=void 0,z.SUCCESS):(i.activeAction="moving",i.target=c.id,z.RUNNING):z.FAILURE},"Move To Food and Gather",n+1)],"Gather Food",n)}function Q1(n){return new je((i,o,a)=>(i.activeAction="idle",i.direction={x:0,y:0},i.target=void 0,a.set("wanderTarget",void 0),z.SUCCESS),"Idle",n)}const pp=n=>n.find(i=>(i.procreationCooldown||0)<=0&&i.hunger<Rt&&(i.gender==="female"?!i.isPregnant&&i.age<=Si:!0));function Z1(n){const i=new Pe((u,f,h)=>{const m=up(u,f.gameState,Ro),S=pp(m);return S?(h.set("procreationPartner",S),!0):!1},"Find Immediate Partner",n+2),o=new je((u,f,h)=>{var S;const m=h.get("procreationPartner");return m?(u.activeAction="procreating",u.target=void 0,(S=u.partnerIds)!=null&&S.includes(m.id)||(u.partnerIds=u.partnerIds?[...u.partnerIds,m.id]:[m.id]),z.SUCCESS):z.FAILURE},"Start Procreating",n+2),a=new Pe((u,f,h)=>{const m=up(u,f.gameState,By),S=pp(m);return S?(h.set("procreationPartner",S),!0):!1},"Locate Distant Partner",n+2),c=new je((u,f,h)=>{const m=h.get("procreationPartner");if(!m)return z.FAILURE;if(we(u.position,m.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height)<Ro)return z.SUCCESS;u.activeAction="moving",u.target=m.id;const g=Lt(u.position,m.position,f.gameState.mapDimensions.width,f.gameState.mapDimensions.height);return u.direction=Zt(g),z.RUNNING},"Move Towards Partner",n+2);return new nt([new Pe(u=>!(!u.isAdult||u.gender==="female"&&u.isPregnant||u.age<cy||u.gender==="female"&&u.age>Si),"Is Fertile (age, not pregnant)",n+1),new Pe(u=>u.hunger<Rt,"Is Healthy (hunger)",n+1),new Pe(u=>(u.procreationCooldown||0)<=0,"Is Ready (cooldown)",n+1),new Pe((u,f)=>km(u.position,f.gameState,"berryBush",xy)>=Hy,"Is Environment Viable (food)",n+1),new Ca([new nt([i,o],"Procreate With Immediate Partner",n+2),new nt([a,c],"Seek Distant Partner",n+2)],"Find Partner And Procreate",n+1)],"Procreate",n)}const ai="attackTarget",kr="homeCenter",Lu=150;function q1(n,i,o){let a,c=1/0;for(const u of Object.values(n.entities.entities))if(u.type==="human"&&u.id!==i.id&&u.hitpoints>0&&u.leaderId!==i.leaderId){const f=we(i.position,u.position,n.mapDimensions.width,n.mapDimensions.height);f<o&&f<c&&(c=f,a=u)}return a}function J1(n){return new nt([new Pe((i,o,a)=>{const{gameState:c}=o;if(i.activeAction==="attacking"&&i.attackTargetId){const f=c.entities.entities.get(i.attackTargetId);if(f&&f.hitpoints>0&&we(i.position,f.position,c.mapDimensions.width,c.mapDimensions.height)<=Lu){if(a.set(ai,f),!a.get(kr)){const h=i.leaderId?tc(i.leaderId,c):bu(i,c).length>0?fp(i,c):i.position;a.set(kr,h)}return!0}}const u=q1(c,i,Lu);if(u){a.set(ai,u);const f=i.leaderId?tc(i.leaderId,c):bu(i,c).length>0?fp(i,c):i.position;return a.set(kr,f),!0}return a.set(ai,void 0),a.set(kr,void 0),!1},"Find Attack Target",n+1),new je((i,o,a)=>{const c=a.get(ai),u=a.get(kr);if(!c||!u)return z.FAILURE;const{gameState:f}=o;return we(i.position,u,f.mapDimensions.width,f.mapDimensions.height)>cm?(i.activeAction="idle",i.attackTargetId=void 0,a.set(ai,void 0),a.set(kr,void 0),z.FAILURE):c.hitpoints<=0||we(i.position,c.position,f.mapDimensions.width,f.mapDimensions.height)>Lu?(i.activeAction==="attacking"&&(i.activeAction="idle",i.attackTargetId=void 0),a.set(ai,void 0),a.set(kr,void 0),z.SUCCESS):(i.activeAction==="attacking"&&i.attackTargetId===c.id||(i.activeAction="attacking",i.attackTargetId=c.id),z.RUNNING)},"Execute Attack",n+1)],"Attack",n)}const b1=(n,i,o)=>{const a=yn(i.gameState,n).filter(f=>!f.isAdult);if(a.length===0)return z.FAILURE;let c=null,u=mc;for(const f of a)f.hunger>=u&&(u=f.hunger,c=f);return c?(o.set("targetChild",c),z.SUCCESS):z.FAILURE},eE=(n,i,o)=>{const a=o.get("targetChild");return a?we(n.position,a.position,i.gameState.mapDimensions.width,i.gameState.mapDimensions.height)>gc?(n.activeAction="moving",n.target=a.id,n.direction=Am(n.position,a.position,i.gameState.mapDimensions),z.RUNNING):(n.activeAction="idle",n.target=void 0,o.set("targetChild",void 0),z.SUCCESS):z.FAILURE};function tE(n){return new nt([new Pe(i=>(i.isAdult&&i.food.length>0&&(!i.feedChildCooldownTime||i.feedChildCooldownTime<=0))??!1,"Can Feed Child",n+1),new je(b1,"Find Hungriest Child",n+1),new je(eE,"Move To Child and Feed",n+1)],"Feed Child",n)}function nE(n){return new nt([new Pe(i=>!i.isAdult&&i.hunger>=mc,"Is Hungry Child",n+1),new je((i,o,a)=>{const c=Pm(i,o.gameState);if(c.length===0)return z.FAILURE;const u=yt(i,o.gameState,"human",my,f=>c.some(h=>h.id===f.id)&&f.food.length>0);return u?(a.set("targetParent",u),z.SUCCESS):z.FAILURE},"Find Parent With Food",n+1),new je((i,o,a)=>{const c=a.get("targetParent");if(!c)return z.FAILURE;const u=we(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.activeAction="idle",u<=gc?(i.target=void 0,z.SUCCESS):(i.target=c.id,i.activeAction="moving",z.RUNNING)},"Move To Parent",n+1)],"Seek Food From Parent",n)}function rE(n){return new nt([new Pe(i=>{const o=i.food.filter(c=>c.type===dr.Berry).length>=da,a=i.hunger<Uy;return(i.isAdult&&o&&a)??!1},"Can Plant",n+1),new Pe((i,o)=>{const a=km(i.position,o.gameState,"berryBush",Oy),c=yn(o.gameState,i);return!(c.length===0||a>=c.length*2)},"Has Not Enough Nearby Bushes",n+1),new je((i,o,a)=>{const c="plantingSpot";let u=a.get(c);if(u&&i.activeAction!=="planting"&&(i.activeAction!=="moving"||i.target!==u))return a.set(c,void 0),z.FAILURE;if(!u){const h=v1(i,o.gameState);if(h)a.set(c,h),u=h;else return z.FAILURE}return we(i.position,u,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>Ro?(i.activeAction="moving",i.target=u,i.direction=Am(i.position,u,o.gameState.mapDimensions),z.RUNNING):(i.activeAction="planting",i.target=u,z.RUNNING)},"Find, Move, and Plant",n+1)],"Plant Bush",n)}const Fu="enemiesNearby";function iE(n){const i=new Pe(f=>f.id===f.leaderId,"Is Leader?",n+1),o=new Pe(f=>!f.isCallingToAttack,"Is Not Already Calling?",n+1),a=new Pe(f=>(f.leaderCallToAttackCooldown??0)<=0,"Is Cooldown Ready?",n+1),c=new je((f,h,m)=>{const S=Tc(f.position,f.id,h.gameState,dm);return S.length>0?(m.set(Fu,S),z.SUCCESS):z.FAILURE},"Find Nearby Enemies",n+1),u=new Ca([new nt([new Pe((f,h,m)=>{const S=m.get(Fu);if(!S||S.length===0)return!1;const g=Ic(f.id,h.gameState),y=dp(g),T=dp(S);return y>T*Qy},"Is Strong Enough?",n+2),new je((f,h)=>(f.isCallingToAttack=!0,f.callToAttackEndTime=h.gameState.time+fa,f.leaderCallToAttackCooldown=Zy,ht(h.gameState,Ee.CallToAttack,f.position,fa),dt(h,Ge.CallToAttack,f.position),f.activeAction="idle",f.target=void 0,z.SUCCESS),"Issue Call to Attack",n+2)],"Attack",n+1),new je((f,h,m)=>{const S=m.get(Fu);if(!S||S.length===0)return z.FAILURE;const g=S.map(O=>O.position),y=Ec(g),T=Lt(y,f.position,h.gameState.mapDimensions.width,h.gameState.mapDimensions.height),k=Zt(T),P=cr(f.position,mn(k,hm*2));return f.activeAction="moving",f.target={x:(P.x%h.gameState.mapDimensions.width+h.gameState.mapDimensions.width)%h.gameState.mapDimensions.width,y:(P.y%h.gameState.mapDimensions.height+h.gameState.mapDimensions.height)%h.gameState.mapDimensions.height},f.direction=k,z.SUCCESS},"Retreat",n+1)],"Attack or Retreat",n+1);return new nt([i,o,a,c,u],"Leader Combat Strategy",n)}const Hu="combatTarget",xu="homeCenter";function oE(n){const i=new Pe(f=>f.isAdult&&f.leaderId?f.id!==f.leaderId:!1,"Is Tribe Follower?",n+1),o=new Pe(f=>f.hunger<Ly&&f.hitpoints>=f.maxHitpoints*fm,"Is Fit for Combat?",n+1),a=new Pe((f,h)=>{const m=h.gameState.entities.entities.get(f.leaderId);return!!(m!=null&&m.isCallingToAttack)},"Is Leader Calling to Attack?",n+1),c=new je((f,h,m)=>{const{gameState:S}=h,g=S.entities.entities.get(f.leaderId);if(!g)return z.FAILURE;const y=Tc(g.position,g.id,S,zy);if(y.length===0)return z.FAILURE;y.sort((T,k)=>{const P=we(f.position,T.position,S.mapDimensions.width,S.mapDimensions.height),O=we(f.position,k.position,S.mapDimensions.width,S.mapDimensions.height);return P-O});for(const T of y)if(w1(g.id,T.id,S)<jy){m.set(Hu,T);const P=tc(g.id,S);return m.set(xu,P),z.SUCCESS}return z.FAILURE},"Find Best Target",n+1),u=new je((f,h,m)=>{const S=m.get(Hu),g=m.get(xu);if(!S||!g)return z.FAILURE;const{gameState:y}=h;return we(f.position,g,y.mapDimensions.width,y.mapDimensions.height)>cm?(f.activeAction==="attacking"&&f.attackTargetId===S.id&&(f.activeAction="idle",f.attackTargetId=void 0),m.set(Hu,void 0),m.set(xu,void 0),z.FAILURE):((!f.lastTargetAcquiredEffectTime||h.gameState.time-f.lastTargetAcquiredEffectTime>Xt*5)&&(ht(h.gameState,Ee.TargetAcquired,f.position,Xt,f.id),f.lastTargetAcquiredEffectTime=h.gameState.time),f.activeAction="attacking",f.attackTargetId=S.id,f.target=void 0,z.RUNNING)},"Attack Target",n+1);return new nt([i,o,a,c,u],"Tribe Member Combat",n)}function sE(n){const i=new Pe((g,y)=>{if(!g.isAdult||g.gender!=="male")return!1;const T=g.partnerIds&&g.partnerIds.length>0,k=yn(y.gameState,g).length>0;return T||k},"Is Adult Male With Family?",n+1),o=new Pe((g,y)=>{const T=Pm(g,y.gameState);if(T.length===0)return!1;for(const k of T)if(we(g.position,k.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<Yy)return!0;return!1},"Is Too Close To Parents?",n+1),a=new Pe((g,y,T)=>T.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",n+3),c=new je((g,y,T)=>{const k=T.get("territoryMoveTarget"),P=T.get("territoryMoveStartTime");if(!k||!P)return[z.FAILURE,"Missing move data"];if(y.gameState.time-P>Wy)return T.delete("territoryMoveTarget"),T.delete("territoryMoveStartTime"),[z.FAILURE,"Territory move timed out"];if(we(g.position,k,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<Ro)return T.delete("territoryMoveTarget"),T.delete("territoryMoveStartTime"),[z.SUCCESS,"Arrived at new territory"];g.activeAction="moving",g.target=k;const M=Lt(g.position,g.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return g.direction=Zt(M),[z.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",n+3),u=new nt([a,c],"Handle In-Progress Move",n+2),f=new Pe((g,y,T)=>T.get("territoryMoveTarget")===void 0,"Should Start New Move?",n+3),h=new je((g,y,T)=>{const k=Cm(g.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);T.set("territoryMoveTarget",k),T.set("territoryMoveStartTime",y.gameState.time),g.activeAction="moving",g.target=k;const P=Lt(g.position,g.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return g.direction=Zt(P),[z.RUNNING,"Started moving to new territory"]},"Start New Territory Move",n+3),m=new nt([f,h],"Start New Territory Move Sequence",n+2),S=new Ca([u,m],"Establish or Continue Move",n+1);return new nt([i,o,S],"Establish Family Territory",n)}function aE(n){return new nt([new je((i,o,a)=>{const c=_1(i,o.gameState);return c?(a.set("patriarchTarget",c),[z.SUCCESS,`Found patriarch: ${c.id}`]):(a.delete("patriarchTarget"),[z.FAILURE,"No patriarch found"])},"Find Patriarch",n+1),new je((i,o,a)=>{const c=a.get("patriarchTarget");if(!c)return[z.FAILURE,"Patriarch target missing from blackboard"];const u=we(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(u>Fy){i.activeAction="moving",i.target=c.id;const f=Lt(i.position,c.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return i.direction=Zt(f),[z.RUNNING,`Moving to patriarch at ${u.toFixed(0)}`]}return i.activeAction="idle",i.target=void 0,i.direction={x:0,y:0},[z.SUCCESS,`Arrived at patriarch at ${u.toFixed(0)}`]},"Move Towards Patriarch",n+1)],"Follow Patriarch",n)}function lE(n){return new nt([new Pe((i,o,a)=>{const c=a.get("lastTribeSplitCheckTime")||0,u=o.gameState.time;return u-c>=Ky?(a.set("lastTribeSplitCheckTime",u),!0):!1},"Is Cooldown Ready?",n+1),new Pe((i,o)=>{const{canSplit:a,progress:c}=Ac(i,o.gameState);return c?[a,`Progress: ${c??"N/A"}`]:!1},"Can Split Tribe?",n+1),new je((i,o)=>(Om(i,o.gameState),z.SUCCESS),"Perform Tribe Split",n+1)],"Tribe Split",n)}function uE(){return new Ca([X1(1),iE(1),oE(1),J1(1),V1(1),K1(1),tE(1),nE(1),rE(1),Z1(1),lE(1),sE(1),aE(1),Q1(1)],"Human Behavior",0)}class cE{constructor(){et(this,"data",new Map);et(this,"nodeExecutionData",new Map)}set(i,o){this.data.set(i,o)}get(i){return this.data.get(i)}delete(i){this.data.delete(i)}has(i){return this.data.has(i)}recordNodeExecution(i,o,a,c,u){const f=this.nodeExecutionData.get(i)||{lastExecuted:0,status:z.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=f.executionHistory[f.executionHistory.length-1];h&&a-(h==null?void 0:h.time)>ko&&f.executionHistory.push({time:h.time+ko,status:z.NOT_EVALUATED}),f.executionHistory.push({time:a,status:o});const m=Sm/Vt*Yt,S=a-m;f.executionHistory=f.executionHistory.filter(y=>y.time>=S);const g={...f,lastExecuted:a,status:o,depth:c,debugInfo:u};this.nodeExecutionData.set(i,g)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(i){const o=$y,a=[];for(const[c,u]of this.nodeExecutionData.entries())i-u.lastExecuted>o&&a.push(c);for(const c of a)this.nodeExecutionData.delete(c)}}function dE(n){n.gameState.entities.entities.forEach(o=>{Y1(o,n)})}function Mm(){return{entities:new Map,nextEntityId:1}}function Rc(n,i,o){const a={id:n.nextEntityId++,type:i,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return n.entities.set(a.id,a),a}function Ra(n,i,o){return Rc(n,"berryBush",{position:i,radius:qu,food:Array.from({length:Jv},()=>({type:dr.Berry})).map(c=>({...c,id:n.nextEntityId++})),maxFood:qv,lifespan:ey,age:0,spreadChance:ty,spreadRadius:qu,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[yo,{enteredAt:o,previousState:void 0}]})}function pa(n,i,o,a,c=!1,u=ay,f=om,h,m,S=[],g,y){const T=u>=pc;return Rc(n,"human",{position:i,radius:T?vn:vc,hunger:f,hitpoints:Xh,maxHitpoints:Xh,age:u,gender:a,isPlayer:c,food:[],maxFood:im,maxAge:To,isAdult:T,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:m,ancestorIds:S,stateMachine:[ot,{enteredAt:o,previousState:void 0}],leaderId:g,tribeBadge:y,aiType:Cc.BehaviorTreeBased,aiBehaviorTree:uE(),aiBlackboard:new cE})}function fE(n,i,o,a,c,u,f,h,m){return Rc(n,"humanCorpse",{position:i,radius:c,gender:o,age:a,originalHumanId:u,timeOfDeath:f,decayProgress:0,food:[...Array.from({length:Math.max(am*Math.max(Rt-m,0)/Rt,1)},()=>({type:dr.Meat})),...h].map(g=>({...g,id:n.nextEntityId++})),stateMachine:void 0})}function hE(n,i,o){const a=i?o.gameState.entities.entities.get(i):void 0,c=[...n.ancestorIds||[],n.id],u=a?[...a.ancestorIds||[],a.id]:[],f=[...c,...u],h=[...new Set(f)],m=h.slice(Math.max(h.length-ry,0)),S=Math.random()<.5?"male":"female",g=cr(n.position,{x:5,y:5}),y=pa(o.gameState.entities,g,o.gameState.time,S,!1,0,om/2,n.id,i,m,a==null?void 0:a.leaderId,a==null?void 0:a.tribeBadge);return dt(o,Ge.Birth,n.position),y}function kc(n,i){return n.entities.get(i)?(n.entities.delete(i),!0):!1}class pE{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(i,o){let a=this.length++;for(;a>0;){const c=a-1>>1,u=this.values[c];if(o>=u)break;this.ids[a]=this.ids[c],this.values[a]=u,a=c}this.ids[a]=i,this.values[a]=o}pop(){if(this.length===0)return;const i=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],a=this.values[0]=this.values[this.length],c=this.length>>1;let u=0;for(;u<c;){let f=(u<<1)+1;const h=f+1;let m=this.ids[f],S=this.values[f];const g=this.values[h];if(h<this.length&&g<S&&(f=h,m=this.ids[h],S=g),S>=a)break;this.ids[u]=m,this.values[u]=S,u=f}this.ids[u]=o,this.values[u]=a}return i}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const mp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Bu=3;class Pc{static from(i,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!i||i.byteLength===void 0||i.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[a,c]=new Uint8Array(i,o+0,2);if(a!==251)throw new Error("Data does not appear to be in a Flatbush format.");const u=c>>4;if(u!==Bu)throw new Error(`Got v${u} data when expected v${Bu}.`);const f=mp[c&15];if(!f)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(i,o+2,1),[m]=new Uint32Array(i,o+4,1);return new Pc(m,h,f,void 0,i,o)}constructor(i,o=16,a=Float64Array,c=ArrayBuffer,u,f=0){if(i===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(i)||i<=0)throw new Error(`Unexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=f;let h=i,m=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),m+=h,this._levelBounds.push(m*4);while(h!==1);this.ArrayType=a,this.IndexArrayType=m<16384?Uint16Array:Uint32Array;const S=mp.indexOf(this.ArrayType),g=m*4*this.ArrayType.BYTES_PER_ELEMENT;if(S<0)throw new Error(`Unexpected typed array class: ${a}.`);u&&u.byteLength!==void 0&&!u.buffer?(this.data=u,this._boxes=new this.ArrayType(this.data,f+8,m*4),this._indices=new this.IndexArrayType(this.data,f+8+g,m),this._pos=m*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new c(8+g+m*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,m*4),this._indices=new this.IndexArrayType(this.data,8+g,m),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Bu<<4)+S]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=i),this._queue=new pE}add(i,o,a=i,c=o){const u=this._pos>>2,f=this._boxes;return this._indices[u]=u,f[this._pos++]=i,f[this._pos++]=o,f[this._pos++]=a,f[this._pos++]=c,i<this.minX&&(this.minX=i),o<this.minY&&(this.minY=o),a>this.maxX&&(this.maxX=a),c>this.maxY&&(this.maxY=c),u}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const i=this._boxes;if(this.numItems<=this.nodeSize){i[this._pos++]=this.minX,i[this._pos++]=this.minY,i[this._pos++]=this.maxX,i[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,a=this.maxY-this.minY||1,c=new Uint32Array(this.numItems),u=65535;for(let f=0,h=0;f<this.numItems;f++){const m=i[h++],S=i[h++],g=i[h++],y=i[h++],T=Math.floor(u*((m+g)/2-this.minX)/o),k=Math.floor(u*((S+y)/2-this.minY)/a);c[f]=gE(T,k)}nc(c,i,this._indices,0,this.numItems-1,this.nodeSize);for(let f=0,h=0;f<this._levelBounds.length-1;f++){const m=this._levelBounds[f];for(;h<m;){const S=h;let g=i[h++],y=i[h++],T=i[h++],k=i[h++];for(let P=1;P<this.nodeSize&&h<m;P++)g=Math.min(g,i[h++]),y=Math.min(y,i[h++]),T=Math.max(T,i[h++]),k=Math.max(k,i[h++]);this._indices[this._pos>>2]=S,i[this._pos++]=g,i[this._pos++]=y,i[this._pos++]=T,i[this._pos++]=k}}}search(i,o,a,c,u){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const h=[],m=[];for(;f!==void 0;){const S=Math.min(f+this.nodeSize*4,vp(f,this._levelBounds));for(let g=f;g<S;g+=4){if(a<this._boxes[g]||c<this._boxes[g+1]||i>this._boxes[g+2]||o>this._boxes[g+3])continue;const y=this._indices[g>>2]|0;f>=this.numItems*4?h.push(y):(u===void 0||u(y))&&m.push(y)}f=h.pop()}return m}neighbors(i,o,a=1/0,c=1/0,u){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let f=this._boxes.length-4;const h=this._queue,m=[],S=c*c;e:for(;f!==void 0;){const g=Math.min(f+this.nodeSize*4,vp(f,this._levelBounds));for(let y=f;y<g;y+=4){const T=this._indices[y>>2]|0,k=gp(i,this._boxes[y],this._boxes[y+2]),P=gp(o,this._boxes[y+1],this._boxes[y+3]),O=k*k+P*P;O>S||(f>=this.numItems*4?h.push(T<<1,O):(u===void 0||u(T))&&h.push((T<<1)+1,O))}for(;h.length&&h.peek()&1;)if(h.peekValue()>S||(m.push(h.pop()>>1),m.length===a))break e;f=h.length?h.pop()>>1:void 0}return h.clear(),m}}function gp(n,i,o){return n<i?i-n:n<=o?0:n-o}function vp(n,i){let o=0,a=i.length-1;for(;o<a;){const c=o+a>>1;i[c]>n?a=c:o=c+1}return i[o]}function nc(n,i,o,a,c,u){if(Math.floor(a/u)>=Math.floor(c/u))return;const f=n[a+c>>1];let h=a-1,m=c+1;for(;;){do h++;while(n[h]<f);do m--;while(n[m]>f);if(h>=m)break;mE(n,i,o,h,m)}nc(n,i,o,a,m,u),nc(n,i,o,m+1,c,u)}function mE(n,i,o,a,c){const u=n[a];n[a]=n[c],n[c]=u;const f=4*a,h=4*c,m=i[f],S=i[f+1],g=i[f+2],y=i[f+3];i[f]=i[h],i[f+1]=i[h+1],i[f+2]=i[h+2],i[f+3]=i[h+3],i[h]=m,i[h+1]=S,i[h+2]=g,i[h+3]=y;const T=o[a];o[a]=o[c],o[c]=T}function gE(n,i){let o=n^i,a=65535^o,c=65535^(n|i),u=n&(i^65535),f=o|a>>1,h=o>>1^o,m=c>>1^a&u>>1^c,S=o&c>>1^u>>1^u;o=f,a=h,c=m,u=S,f=o&o>>2^a&a>>2,h=o&a>>2^a&(o^a)>>2,m^=o&c>>2^a&u>>2,S^=a&c>>2^(o^a)&u>>2,o=f,a=h,c=m,u=S,f=o&o>>4^a&a>>4,h=o&a>>4^a&(o^a)>>4,m^=o&c>>4^a&u>>4,S^=a&c>>4^(o^a)&u>>4,o=f,a=h,c=m,u=S,m^=o&c>>8^a&u>>8,S^=a&c>>8^(o^a)&u>>8,o=m^m>>1,a=S^S>>1;let g=n^i,y=a|65535^(g|o);return g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|g)>>>0}function Gu(n,i){if(n.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Pc(n.length),a=new Map;for(const u of n)o.add(u.position.x,u.position.y,u.position.x,u.position.y);return o.finish(),{byRect(u){return o.search(u.left,u.top,u.right,u.bottom).map(h=>n[h])},byRadius(u,f){return o.neighbors(u.x,u.y,void 0,f).map(m=>n[m])},byProperty(u,f){var h;if(!a.has(u)){const m=new Map;for(const S of n){const g=S[u];m.has(g)||m.set(g,[]),m.get(g).push(S)}a.set(u,m)}return((h=a.get(u))==null?void 0:h.get(f))||[]},resetPropertyCache(){a.clear()}}}function Nc(n){const i=Array.from(n.entities.entities.values()),o=i.filter(f=>f.type==="human"),a=i.filter(f=>f.type==="berryBush"),c=i.filter(f=>f.type==="humanCorpse");return{...n,search:{human:Gu(o),berryBush:Gu(a),humanCorpse:Gu(c)}}}var sr=(n=>(n.MOVE="MOVE",n.HUNGER="HUNGER",n.EAT="EAT",n.FIND_BUSH="FIND_BUSH",n.GATHER="GATHER",n.PROCREATE="PROCREATE",n.PLANT_BUSH="PLANT_BUSH",n))(sr||{}),Do=(n=>(n.HUNGER_BAR="HUNGER_BAR",n.FOOD_BAR="FOOD_BAR",n))(Do||{}),vt=(n=>(n[n.FADING_IN=0]="FADING_IN",n[n.ACTIVE=1]="ACTIVE",n[n.FADING_OUT=2]="FADING_OUT",n[n.INACTIVE=3]="INACTIVE",n))(vt||{});const vE=[{key:sr.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:n=>n.hasPlayerMovedEver,isCompleted:!1},{key:sr.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(n,i)=>i.hunger>iy,isCompleted:!1,minDisplayTime:ip,highlightedUIElements:[Do.HUNGER_BAR]},{key:sr.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(n,i)=>!!yt(i,n,"berryBush",Ct*5,a=>a.food.length>0),getTargets:(n,i)=>{const o=[];for(const a of n.entities.entities.values())a.type==="berryBush"&&a.food.length>0&&we(i.position,a.position,n.mapDimensions.width,n.mapDimensions.height)<500&&o.push(a);return o.map(a=>a.id)},isCompleted:!1,minDisplayTime:ip},{key:sr.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(n,i)=>i.food.length>0,getTargets:(n,i)=>{const o=yt(i,n,"berryBush",Ct,a=>a.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:sr.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(n,i)=>i.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Do.FOOD_BAR]},{key:sr.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(n,i)=>yn(n,i).length>0,getTargets:(n,i)=>{const o=yt(i,n,"human",Ct,a=>{const c=a;return(c.id!==i.id&&c.gender!==i.gender&&c.isAdult&&i.isAdult&&c.hunger<Rt&&i.hunger<Rt&&(c.procreationCooldown||0)<=0&&(i.procreationCooldown||0)<=0&&(c.gender==="female"?!c.isPregnant&&c.age<=Si:!i.isPregnant))??!1});return o?[o.id]:[]},isCompleted:!1},{key:sr.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(n,i)=>Tm(n,i).some(a=>a.type===$t.PlantBush)&&n.hasPlayerPlantedBush===!0,isCompleted:!1}];function Um(){return{steps:vE.map(n=>({...n,isCompleted:!1}))}}function Lm(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:vt.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function yE(n){for(let i=0;i<n.tutorial.steps.length;i++){const o=n.tutorial.steps[i];if(!o.isCompleted)if(o.dependsOn){if(n.tutorialState.completedSteps.has(o.dependsOn))return i}else return i}return null}function SE(n,i){const o=n.tutorialState;if(!o.isActive){o.transitionState=vt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=lr(n);if(!a){o.isActive=!1,o.transitionState=vt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const c=n.tutorial.steps[o.currentStepIndex];if(!c){o.isActive=!1,o.transitionState=vt.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=1/$S;switch(o.transitionState){case vt.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=n.time),o.transitionAlpha+=u*i,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=vt.ACTIVE);break;case vt.ACTIVE:{(n.time-(o.stepStartTime||n.time)>=(c.minDisplayTime||0)&&c.condition(n,a)||n.isPlayerOnAutopilot)&&(c.isCompleted=!0,o.completedSteps.add(c.key),o.transitionState=vt.FADING_OUT);break}case vt.FADING_OUT:if(o.transitionAlpha-=u*i,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=yE(n);h!==null?(o.currentStepIndex=h,o.transitionState=vt.FADING_IN):(o.isActive=!1,o.transitionState=vt.INACTIVE)}break}o.transitionState!==vt.FADING_OUT&&o.transitionState!==vt.INACTIVE?(c.getTargets?o.highlightedEntityIds=new Set(c.getTargets(n,a)):o.highlightedEntityIds.clear(),c.highlightedUIElements?o.activeUIHighlights=new Set(c.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function EE(){const n=Mm(),i=0;for(let g=0;g<nm;g++){const y={x:Math.random()*Dr,y:Math.random()*Mr};Ra(n,y,i)}const o=Dr/2,a=Mr/2,c=pa(n,{x:o,y:a},i,"male",!0);pa(n,{x:o+50,y:a},i,"female",!1);const u=[{id:"autopilotButton",action:gn.ToggleAutopilot,currentWidth:So,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"muteButton",action:gn.ToggleMute,currentWidth:So,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""},{id:"pauseButton",action:gn.TogglePause,currentWidth:So,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:""}],f=Um(),h=Lm(),m={time:i,entities:n,mapDimensions:{width:Dr,height:Mr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...c.position},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:_m,isMuted:!1,uiButtons:u,tutorial:f,tutorialState:h},S=Nc(m);return console.log("Game world initialized:",S),S}function _E(){const n=Mm(),i=0;for(let u=0;u<nm;u++){const f={x:Math.random()*Dr,y:Math.random()*Mr};Ra(n,f,i)}for(let u=0;u<qS;u++){const f={x:Math.random()*Dr,y:Math.random()*Mr},h=Math.random()<.5?"male":"female";pa(n,f,i,h,!1)}const o=Um(),a=Lm(),c={time:i,entities:n,mapDimensions:{width:Dr,height:Mr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:Dr/2,y:Mr/2},isPaused:!1,isPlayerOnAutopilot:!1,hasPlayerMovedEver:!1,masterVolume:_m,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:a};return Nc(c)}const wE="humanProcreation",AE="human",IE="human",TE=Ct,CE=(n,i)=>{if(n.id===i.id||n.gender===i.gender)return!1;const o=(a,c)=>a.isAdult&&a.hunger<Rt&&(a.procreationCooldown||0)<=0?c?!a.isPregnant&&a.age<=Si:!0:!1;return n.gender==="male"?!o(n,!1)||!o(i,!0)?!1:n.activeAction==="procreating":!o(n,!0)||!o(i,!1)?!1:n.activeAction==="procreating"&&i.activeAction==="procreating"},RE=(n,i,o)=>{var m,S;const{gameState:a}=o,c={x:(n.position.x+i.position.x)/2,y:(n.position.y+i.position.y)/2},u=n.gender==="male"?n:i,f=n.gender==="female"?n:i,h=(u.partnerIds||[]).length===0;if(n.stateMachine=[Oo,{partnerId:i.id,previousState:(m=n.stateMachine)==null?void 0:m[0]}],i.stateMachine=[Oo,{partnerId:n.id,previousState:(S=i.stateMachine)==null?void 0:S[0]}],n.partnerIds||(n.partnerIds=[]),n.partnerIds.includes(i.id)||n.partnerIds.push(i.id),i.partnerIds||(i.partnerIds=[]),i.partnerIds.includes(n.id)||i.partnerIds.push(n.id),h&&u.leaderId&&u.leaderId!==u.id){const g=a.entities.entities.get(u.leaderId);if(g){const y=cp(u,g),T=cp(f,g);if(!y&&!T){const k=ec();u.leaderId=u.id,u.tribeBadge=k,f.leaderId=u.id,f.tribeBadge=k}}}else if(!n.leaderId&&!i.leaderId&&u&&f){const g=ec();u.leaderId=u.id,u.tribeBadge=g,f.leaderId=u.id,f.tribeBadge=g}n.activeAction=void 0,ht(a,Ee.Procreation,c,mo),ht(a,Ee.Partnered,n.position,Xt,n.id),ht(a,Ee.Partnered,i.position,Xt,i.id),n.lastPartneredEffectTime=a.time,i.lastPartneredEffectTime=a.time,i.activeAction=void 0,dt(o,Ge.Procreate,c)},kE={id:wE,sourceType:AE,targetType:IE,maxDistance:TE,checker:CE,perform:RE},PE={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:gc,checker:(n,i)=>n.isAdult===!0&&n.food.length>0&&(!n.feedChildCooldownTime||n.feedChildCooldownTime<=0)&&i.isAdult===!1&&(i.motherId===n.id||i.fatherId===n.id)&&i.hunger>=mc,perform:(n,i,o)=>{n.food.pop(),i.hunger=Math.max(0,i.hunger-Co),n.feedChildCooldownTime=py,(!i.lastChildFedEffectTime||o.gameState.time-i.lastChildFedEffectTime>2)&&(ht(o.gameState,Ee.ChildFed,i.position,Xt,i.id),i.lastChildFedEffectTime=o.gameState.time),dt(o,Ge.ChildFed,i.position)}},NE={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:Aa,checker:(n,i,o)=>{var u;if(((u=n.stateMachine)==null?void 0:u[0])!==Ei||n.attackTargetId!==i.id||(n.attackCooldown||0)>0)return!1;const a=n.stateMachine[1];return o.gameState.time-a.attackStartTime>=lm},perform:(n,i,o)=>{const a=Lt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=r1(Zt(a),i.direction);if(Math.abs(c)<Ry*Math.PI/180&&Math.random()<ky)ht(o.gameState,Ee.AttackDeflected,i.position,Xt,i.id);else{let h=Ey;n.gender==="male"&&(h*=Iy),n.isAdult||(h*=Ty),(!i.isAdult||i.age>=sm)&&n.isAdult&&(h*=Cy),i.hitpoints-=h,ht(o.gameState,Ee.Hit,i.position,Xt,i.id);const S=Lt(n.position,i.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),g=mn(S,_y);i.forces.push(g),i.hitpoints<=0?dt(o,Ge.HumanDeath,i.position):dt(o,Ge.Attack,n.position)}n.attackCooldown=um;const f=n.stateMachine[1];f.attackStartTime=o.gameState.time,ht(o.gameState,Ee.Attack,n.position,Xt,n.id)}},OE={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:vn*2,checker:(n,i,{gameState:o})=>we(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height)<(n.radius+i.radius)/3,perform:(n,i,{gameState:o})=>{const a=we(n.position,i.position,o.mapDimensions.width,o.mapDimensions.height);if(a===0){n.forces.push({x:.1,y:0}),i.forces.push({x:-.1,y:0});return}const u=(n.radius+i.radius-a)*.05,f=Zt(t1(n.position,i.position)),h=mn(f,u);n.forces.push(h),i.forces.push(mn(h,-1))}},DE={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:Ct,checker:(n,i,o)=>{var a;return n.isAdult&&i.food.length>0&&((a=n.stateMachine)==null?void 0:a[0])===Ia&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const a=i.food.pop();a&&n.food.push(a),n.gatheringCooldownTime=o.gameState.time+1,i.timeSinceLastHarvest=o.gameState.time,i.ownerId=n.id,i.claimedUntil=o.gameState.time+ny,ht(o.gameState,Ee.BushClaimed,i.position,Xt),dt(o,Ge.Gather,n.position)}},ME={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:Ct,checker:(n,i,o)=>{var a;return n.isAdult&&i.food.length>0&&((a=n.stateMachine)==null?void 0:a[0])===Ia&&n.food.length<n.maxFood&&(!n.gatheringCooldownTime||n.gatheringCooldownTime<o.gameState.time)||!1},perform:(n,i,o)=>{const a=i.food.pop();a&&n.food.push(a),n.gatheringCooldownTime=o.gameState.time+1,dt(o,Ge.Gather,n.position)}},UE=[DE,ME],LE=[OE,...UE,kE,PE,NE];function FE(n){const{gameState:i}=n,o=i,a=Array.from(i.entities.entities.values());for(const c of LE)for(const u of a){if(c.sourceType&&u.type!==c.sourceType)continue;const f=o.search[c.targetType].byRadius(u.position,c.maxDistance);for(const h of f){if(u.id===h.id)continue;we(u.position,h.position,i.mapDimensions.width,i.mapDimensions.height)<=c.maxDistance&&c.checker(u,h,n)&&c.perform(u,h,n)}}}function HE(n){n.visualEffects=n.visualEffects.filter(i=>n.time-i.startTime<=i.duration)}const xE=1/60;function BE(n,i){const o=lr(n);o&&(n.viewportCenter=Sc(n.viewportCenter,o.position,fc*i))}function rc(n,i){if(n.isPaused)return n;for(;i>0;){const o=Nc(n),a=Math.min(i,xE);if(o.gameOver)return o;const c=a*(Yt/Vt);o.time+=c,BE(o,a),dE({gameState:o,deltaTime:a}),FE({gameState:o,deltaTime:a}),HE(o),SE(o,a),n=o,i-=a}return n}const ic=10,GE=3,yp=ic*.7;function zE(n,i,o,a,c){const{position:u,food:f,maxFood:h,ownerId:m,claimedUntil:S}=i;if(n.beginPath(),n.arc(u.x,u.y,ic,0,Math.PI*2),n.fillStyle="#228B22",n.fill(),n.strokeStyle="#006400",n.lineWidth=1,n.stroke(),m&&S&&S>c&&a){const g=o.entities.entities.get(m);if(g){let y;g.id===a.id?y=yc:S1(a,g,o)?y=Jy:y=vm,y&&(n.strokeStyle=y,n.lineWidth=1+Math.sin(c*2)*.5,n.beginPath(),n.arc(u.x,u.y,ic+2,0,Math.PI*2),n.stroke())}}if(f.length>0){const g=Math.PI*2/Math.min(f.length,h);for(let y=0;y<f.length;y++){const T=y*g,k=u.x+yp*Math.cos(T),P=u.y+yp*Math.sin(T);n.beginPath(),n.arc(k,P,GE,0,Math.PI*2),n.fillStyle="#FF0000",n.fill()}}}const oe=(n,i,o,a,c,u,f)=>{u==="transparent"||a<=0||c<=0||(n.fillStyle=u,n.fillRect(Math.floor(i*f),Math.floor(o*f),Math.ceil(a*f),Math.ceil(c*f)))},Sp=10,Ep=10,fn=6,Nn=4,qs=2,jE=5,Wt=4,WE=2,ct=4,$E=2,He=3,li=2,ar=0,_o=ar+Nn-1,gt=_o,Ye=_o+Wt-1,YE="rgba(0, 0, 0, 0.4)",VE=4,XE=1,Oc={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(n,i,o,a,c,u,f,h="male",m=20,S=[1,0],g=!1,y=0){const T=["dead","stunned"].includes(f),k=T?Ep+4:Sp,P=T?Sp+4:Ep+He,O=.15,A=Math.min(a*(1-2*O)/k,c*(1-2*O)/P),M=k*A,N=P*A,Y=i+(a-M)/2,H=o+(c-N)/2;n.save(),S[0]<0&&!T?(n.translate(Y+M,H),n.scale(-1,1)):n.translate(Y,H);const U="#D09A5A",W=m>50?"#BDBDBD":"#281808",ee="#7F5C4A",Ae="#6B4F3A",Oe="#E0D8C0",Ze="#A0522D",Le=1-Math.max(0,Math.min(100,y))/100*.2,Te=h==="male"?1.1:.9,ye=.8+(Math.max(1,Math.min(m,60))-1)/59*.2;let ve=jE*Le*Te*ye,ce=WE*Le*Te*ye,se=$E*Le*ye;g&&h==="female"&&(ve*=1.5);const G=Math.round((k-ve)/2),V=Math.round((k-fn)/2),j=G-ce,w=G+ve,D=1,te=G+(ve/2-D/2)-se,K=G+(ve/2+D/2),pe=S[1]<-.2&&Math.abs(S[0])<.7,ae=Z=>{n.fillStyle=YE,n.beginPath();const ie=k/2,Ie=Z;n.ellipse(Math.floor(ie*A),Math.floor(Ie*A),Math.max(1,Math.floor(VE*A)),Math.max(1,Math.floor(XE*A)),0,0,2*Math.PI),n.fill()},fe=(Z,ie)=>{h==="male"?(oe(n,G,_o+Z,ve,Wt-li,ie,A),oe(n,G,_o+Wt-li+Z,ve,li,ee,A)):oe(n,G,_o+Z,ve,Wt,Ae,A)},de=(Z,ie)=>{pe?oe(n,V,ar+Z,fn,Nn,W,A):(oe(n,V,ar+Z,fn,Nn,ie,A),oe(n,V,ar+Z,fn,qs,W,A),h==="female"?(oe(n,V-1,ar+qs+Z,1,Nn,W,A),oe(n,V+fn,ar+qs+Z,1,Nn,W,A)):oe(n,V+1,ar+2+Z,fn-2,Nn-2,W,A))};switch(f){case"idle":{const Z=u*Math.PI*2,ie=Math.sin(Z)*.5,ue=(Math.cos(Z*2)+1)*.25;ae(Ye+He+1),oe(n,te+ie,Ye+ue,se,He,U,A),oe(n,K-ie,Ye+ue,se,He,U,A),fe(ue,U),oe(n,j,gt+ue,ce,ct,U,A),oe(n,w,gt+ue,ce,ct,U,A),de(ue,U);break}case"walk":{const Z=u*Math.PI*2,ie=Math.sin(Z)*2,ue=Math.abs(Math.cos(Z))*1;ae(Ye+He+1),oe(n,te+ie,Ye+ue,se,He,U,A),oe(n,K-ie,Ye+ue,se,He,U,A),fe(ue,U),oe(n,j-ie,gt+ue,ce,ct,U,A),oe(n,w+ie,gt+ue,ce,ct,U,A),de(ue,U);break}case"gathering":{const Z=u*Math.PI*2,ie=1,Ie=(Math.sin(Z)+1)/2*2,ue=ie+Math.abs(Math.cos(Z))*.5;ae(Ye+He+1),oe(n,te,Ye+ue,se,He-ie,U,A),oe(n,K,Ye+ue,se,He-ie,U,A),fe(ue,U),oe(n,j+1,gt+ue-Ie,ce,ct,U,A),oe(n,w-1,gt+ue-Ie,ce,ct,U,A),de(ue,U);break}case"eat":{ae(Ye+He+1),oe(n,te,Ye+1,se,He-1,U,A),oe(n,K,Ye+1,se,He-1,U,A),fe(1,U);const Ie=(Math.sin(u*Math.PI*4)+1)/2,ue=V+fn/2,En=ar+Nn/2,kt=w+(ue-w)*Ie,Ft=gt+1+(En-(gt+1))*Ie;oe(n,j,gt+1,ce,ct,U,A),oe(n,kt,Ft,ce,ct,U,A),oe(n,kt,Ft-1,1,1,Ze,A),de(1,U);break}case"procreate":{const Z=(Math.sin(u*Math.PI*8)+1)/4,ie=(Math.sin(u*Math.PI*6)+1)*.5,Ie=1.5,ue=Ie-ie;ae(Ye+He+1),oe(n,te,Ye+ue,se,He-Ie,U,A),oe(n,K,Ye+ue,se,He-Ie,U,A),fe(ue,U),oe(n,j,gt+ue,ce,ct,U,A),oe(n,w,gt+ue,ce,ct,U,A),de(ue,U),n.globalAlpha=Z,fe(ue,"white"),n.globalAlpha=1;break}case"attacking":{const Z=Math.sin(u*Math.PI)*1.5,ie=Math.abs(Math.sin(u*Math.PI));ae(Ye+He+1),oe(n,te-Z,Ye+ie,se,He,U,A),oe(n,K+Z*.5,Ye+ie,se,He,U,A),fe(ie,U),oe(n,j,gt+ie-2,ce,ct,U,A),oe(n,w,gt+ie-2.5,ce,ct,U,A),de(ie,U);break}case"defending":{ae(Ye+He+1),oe(n,te,Ye+1,se,He-1,U,A),oe(n,K,Ye+1,se,He-1,U,A),fe(1,U),oe(n,j-1,gt+1-1,ce,ct,U,A),oe(n,w+1,gt+1-1,ce,ct,U,A),de(1,U);break}case"stunned":case"dead":{const Z=f==="dead",ie=Z?Math.min(1,u):0,Ie=ie>.5?Oe:U,ue=h==="male"?ee:Ae,En=ie>.8?"transparent":W,kt=k/2,Ft=P/2,fr=2;ae(P-1),oe(n,kt-se-fr,Ft,se,He,Ie,A),oe(n,kt+fr,Ft,se,He,Ie,A),oe(n,kt-ce-fr,Ft-Wt+1,ce,ct,Ie,A),oe(n,kt+fr,Ft-Wt+1,ce,ct,Ie,A);const _n=kt-ve/2,Dn=Ft-Wt/2;h==="male"?(ie<.7&&oe(n,_n,Dn+Wt-li,ve,li,ue,A),oe(n,_n,Dn,ve,Wt-li,Ie,A)):ie<.7?oe(n,_n,Dn,ve,Wt,ue,A):oe(n,_n,Dn,ve,Wt,Ie,A);const Lr=kt-fn/2,Mn=Ft-Wt/2-Nn+1;if(oe(n,Lr,Mn,fn,Nn,Ie,A),En!=="transparent"&&oe(n,Lr,Mn,fn,qs,En,A),Z&&ie>.6){const Un="#B0A890";for(let hr=0;hr<3;hr++)oe(n,_n+1,Dn+hr*1+1,ve-2,.5,Un,A)}break}default:oe(n,0,0,k,P,"magenta",A);break}n.restore()}};function KE(n,i){const{position:o,gender:a,age:c,decayProgress:u,food:f,radius:h}=i;if(n.save(),n.globalAlpha=1-u,Oc.render(n,o.x-h,o.y-h,h*2,h*2,u,"dead",a,c,[0,0],!1,0),n.restore(),f.length>0){n.save(),n.font=`${hS}px Arial`,n.textAlign="center",n.textBaseline="middle";const m=vn*.9,S=Math.PI/im*3;f.forEach((g,y)=>{const T=y*S,k=o.x+m*Math.cos(T)*Math.atan2(y,y),P=o.y+m*Math.sin(T)*Math.atan2(y,y),O=wm[g.type];n.fillText(O,k,P)}),n.restore()}}const QE=25,ZE=0,_p=28;function qE(n,i,o,a,c,u,f,h,m){n.save();const S=i.x-f.x+h/2,g=i.y-f.y+m/2;n.strokeStyle=a,n.lineWidth=u,n.setLineDash(c),n.beginPath(),n.arc(S,g,o+ym,0,2*Math.PI),n.stroke(),n.restore()}function JE(n,i,o,a,c,u){if(i.length===0)return;n.save(),i.forEach(g=>{g.targetEntity&&qE(n,g.targetEntity.position,g.targetEntity.radius,by,eS,2,a,c,u)}),n.font=`${Qh}px "Press Start 2P", Arial`,n.fillStyle="white",n.textAlign="center",n.textBaseline="bottom",n.shadowColor="black",n.shadowBlur=5;const f=o.position.x-a.x+c/2,h=o.position.y-a.y+u/2;let m=0,S={};i.forEach(g=>{const y=o1[g.type];if(g.targetEntity){S[g.targetEntity.id]=(S[g.targetEntity.id]||0)+1;const T=g.targetEntity.position.x-a.x+c/2,k=g.targetEntity.position.y-a.y+u/2,P=`${y}${g.key.toUpperCase()}`,O=k-g.targetEntity.radius-ym-Qh/2-(S[g.targetEntity.id]-1)*_p;n.fillText(P,T,O)}else{n.textAlign="left";const T=`${y}${g.key.toUpperCase()}`,k=f+QE,O=h+ZE+m*_p;n.fillText(T,k,O),m++,n.textAlign="center"}}),n.restore()}function bE(n,i){n.save(),n.fillStyle=i.backgroundColor,n.fillRect(i.rect.x,i.rect.y,i.rect.width,i.rect.height),n.fillStyle=i.textColor,n.textAlign="center",n.textBaseline="middle",n.fillText(i.text,i.rect.x+i.rect.width/2,i.rect.y+i.rect.height/2),n.restore()}function hi(n,i,o,a,c,u,f,h){n.save(),n.fillStyle=f,n.fillRect(i,o,a,c),n.fillStyle=h,n.fillRect(i,o,a*Math.max(0,u),c),n.restore()}function e_(n,i,o,a,c,u){if(n.save(),a.length===0){n.restore();return}const f=a.length*c;let h;f>u||f+(a.length-1)*4>u?h=(u-f)/(a.length-1):h=4,a.length===1&&(h=0);for(let m=0;m<a.length;m++){const S=wm[a[m].type];n.fillText(S,i+m*(c+h),o)}n.restore()}function t_(n,i,o,a,c){const u=i.x,f=i.y-o-a/2;n.save(),n.fillStyle=c,n.strokeStyle=c,n.lineWidth=1.5,n.beginPath(),n.rect(u-a/2,f,a,a/2),n.fill(),n.beginPath(),n.moveTo(u-a/2,f),n.lineTo(u-a/4,f-a/3),n.lineTo(u-a/6,f),n.moveTo(u-a/6,f),n.lineTo(u,f-a/2),n.lineTo(u+a/6,f),n.moveTo(u+a/6,f),n.lineTo(u+a/4,f-a/3),n.lineTo(u+a/2,f),n.stroke(),n.restore()}function Mo(n,i,o,a,c,u=!1,f=!1,h=!1,m=!1){a<pc&&(o=o*.75),Oc.render(n,i.x-o/2,i.y-o/2,o,o,0,"idle",c,a,[0,0],!1,0);let S,g;u?(S=pS,g=yc):f?(S=mS,g=gm):h?(S=gS,g=mm):m&&(S=vS,g=pm),S&&g&&t_(n,i,o/2,S,g)}function n_(n,i,o,a,c,u){if(n.save(),a.length===0){n.restore();return}const f=a.length*c,h=4;let m;const S=f+(a.length-1)*h;a.length>1&&S>u?m=(u-f)/(a.length-1):m=h,a.length<=1&&(m=0);for(let g=0;g<a.length;g++){const{member:y,isPlayer:T,isHeir:k,isPartner:P,isParent:O}=a[g],A=i+g*(c+m)+c/2,M=o+c/4;Mo(n,{x:A,y:M},c,y.age,y.gender,T,k,P,O)}n.restore()}function r_(n,i,o,a){if(i.length===0)return;n.save();const c=nr,u=" 00",f=" 00";n.font=`${Cu}px "Press Start 2P", Arial`;const h=n.measureText(u).width,m=n.measureText(f).width,S=nr+Xs+nr+rr+h+nr/2+rr+m,g=i.length*Ks+(i.length-1)*Jh,y=a-g-nr;n.fillStyle=SS,n.fillRect(c,y,S,g);for(let T=0;T<i.length;T++){const k=i[T],P=y+T*(Ks+Jh),O=P+Ks/2;k.isPlayerTribe&&(n.fillStyle=yS,n.fillRect(c,P,S,Ks));let A=c+nr;n.font=`${Xs}px "Press Start 2P", Arial`,n.textBaseline="middle",n.textAlign="left",n.fillText(k.tribeBadge,A,O-Xs/4),A+=Xs+nr*1.1,k.adultCount>0&&(Mo(n,{x:A+rr/2,y:O},rr,25,"male"),A+=rr/2,n.font=`${Cu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${k.adultCount}`,A,O),A+=n.measureText(` ${k.adultCount}`).width+nr/2),k.childCount>0&&(Mo(n,{x:A+rr/2,y:O},rr,1,"female"),A+=rr/2,n.font=`${Cu}px "Press Start 2P", Arial`,n.fillStyle="white",n.textBaseline="middle",n.textAlign="left",n.fillText(` ${k.childCount}`,A,O))}n.restore()}function i_(n,i,o,a,c){n.save();const{position:u}=i;n.strokeStyle=a,n.lineWidth=2+Math.sin(c*5)*1.5,n.setLineDash([8,8]),n.beginPath(),n.arc(u.x,u.y,o,0,2*Math.PI),n.stroke(),n.restore()}function o_(n,i,o,a,c){if(i.transitionState===vt.INACTIVE)return;const u=o.steps[i.currentStepIndex];if(!u)return;n.save(),n.globalAlpha=i.transitionAlpha;const f=BS,h=GS,m=zS,S=`${Ou}px "Press Start 2P", Arial`,g=`${rp}px "Press Start 2P", Arial`,y=WS,T=rp*1.5;n.font=g;const k=u.text.split(" ");let P="";const O=[];for(let H=0;H<k.length;H++){const $=P+k[H]+" ";n.measureText($).width>f-h*2&&H>0?(O.push(P),P=k[H]+" "):P=$}O.push(P);const A=h*2+Ou+h/2+O.length*T,M=(a-f)/2,N=c-A-20;n.fillStyle=jS,n.beginPath(),n.moveTo(M+m,N),n.lineTo(M+f-m,N),n.quadraticCurveTo(M+f,N,M+f,N+m),n.lineTo(M+f,N+A-m),n.quadraticCurveTo(M+f,N+A,M+f-m,N+A),n.lineTo(M+m,N+A),n.quadraticCurveTo(M,N+A,M,N+A-m),n.lineTo(M,N+m),n.quadraticCurveTo(M,N,M+m,N),n.closePath(),n.fill(),n.fillStyle=y,n.textAlign="center",n.textBaseline="top",n.font=S,n.fillText(u.title,M+f/2,N+h),n.font=g;let Y=N+h+Ou+h/2;for(const H of O)n.fillText(H,M+f/2,Y),Y+=T;n.restore()}function wp(n,i,o){n.save();const a=KS,c={x:i.x-a,y:i.y-a,width:i.width+a*2,height:i.height+a*2};n.strokeStyle=Em,n.lineWidth=XS+Math.sin(o*VS)*1.5,n.setLineDash([8,8]),n.strokeRect(c.x,c.y,c.width,c.height),n.restore()}function s_(n){n.save(),n.fillStyle=FS,n.fillRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle=HS,n.font=`${xS}px "Press Start 2P", Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText("PAUSED",n.canvas.width/2,n.canvas.height/2),n.restore()}const a_={moving:"walk",gathering:"gathering",eating:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering",callingToAttack:"idle",tribeSplitting:"idle"};function l_(n,i){var h;const{radius:o,position:a,activeAction:c="idle"}=i,u=((h=i.stateMachine)==null?void 0:h[0])||"N/A",f=i.isAdult?vn+20:vn*.6+20;n.save(),n.fillStyle="white",n.font="10px Arial",n.textAlign="center",n.fillText(`Action: ${c}`,a.x,a.y-f),n.fillText(`State: ${u}`,a.x,a.y-f+10),n.fillText(`HP: ${i.hitpoints}`,a.x,a.y-f+20),n.fillText(`Cooldown: ${i.attackCooldown||"N/A"}`,a.x,a.y-f+30),n.restore(),n.beginPath(),n.arc(a.x,a.y,o,0,Math.PI*2),n.strokeStyle="rgba(255, 0, 0, 0.5)",n.lineWidth=1,n.stroke(),n.closePath()}function u_(n,i,o){if(!i.aiBehaviorTree||!i.aiBlackboard)return;const a=i.aiBlackboard.getNodeExecutionData();n.save(),n.font=`${kS}px Arial`,n.textAlign="left",n.textBaseline="top";const c=y=>{switch(y){case z.SUCCESS:return NS;case z.FAILURE:return OS;case z.RUNNING:return DS;case z.NOT_EVALUATED:case null:default:return MS}},u=y=>{if(!y.name||!a.has(y.name))return{width:0,height:0};let T=0,k=0;const P=a.get(y.name),O=` ${y.name}`+(P!=null&&P.debugInfo?`: ${P.debugInfo}`:""),A=n.measureText(O).width,M=(y.depth??0)*ep+8+A+np+uo+20;if(T=Math.max(T,M),k+=Nu,y.children)for(const N of y.children){const Y=u(N);T=Math.max(T,Y.width),k+=Y.height}else if(y.child){const N=u(y.child);T=Math.max(T,N.width),k+=N.height}return{width:T,height:k}},f=(y,T,k,P)=>{if(!y.name||!a.has(y.name))return T;let O=T;const A=a.get(y.name),M=k+2+(y.depth??0)*ep;let N=z.NOT_EVALUATED,Y=tp,H="";if(A){N=A.status,H=A.debugInfo;const W=LS/Vt*Yt,ee=o-A.lastExecuted,Ae=Math.max(0,1-ee/W);Y=i1(tp,US,Ae),ee>ko&&(N=z.NOT_EVALUATED)}const $=c(N);n.fillStyle=$,n.fillText("",M,O),n.fillStyle=Y;const U=` ${y.name}`+(H?`: ${H}`:"");if(n.fillText(U,M+8,O),A&&A.executionHistory.length>0){const{executionHistory:W}=A,ee=Sm/Vt*Yt,Ae=o,Oe=Ae-ee,Ze=k+P-uo-np;let Le=Ze;const Te=O+(Nu-Qs)/2,ye=W.filter(D=>D.time<Oe);let ve=ye.length>0?ye[ye.length-1].status:null,ce=Oe;const se=W.filter(D=>D.time>=Oe&&D.time<=Ae),G=uo/ee;n.fillStyle="rgba(255, 255, 255, 0.1)",n.fillRect(Ze,Te,uo,Qs);for(const D of se){const K=(D.time-ce)*G;K>0&&(n.fillStyle=c(ve),n.fillRect(Le,Te,K,Qs),Le+=K),ve=D.status,ce=D.time}o-ce>ko&&(ve=z.NOT_EVALUATED);const j=(Ae-ce)*G;n.fillStyle=c(ve);const w=Ze+uo-Le;n.fillRect(Le,Te,Math.min(j,w),Qs)}if(O+=Nu,y.children)for(const W of y.children)O=f(W,O,k,P);else y.child&&(O=f(y.child,O,k,P));return O},{width:h,height:m}=u(i.aiBehaviorTree);if(m===0){n.restore();return}const S=i.position.x+CS,g=i.position.y+RS-m/2;n.fillStyle=PS,n.fillRect(S,g,h,m+4),f(i.aiBehaviorTree,g+2,S,h),n.restore()}function c_(n,i,o,a,c){n.save(),n.font=`${qh}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(o,i.x,i.y-(a?vn:vc)-qh-c),n.restore()}function d_(n,i,o,a,c){const u=i.x,f=i.y-o-a/2;n.save(),n.fillStyle=c,n.strokeStyle=c,n.lineWidth=1.5,n.beginPath(),n.rect(u-a/2,f,a,a/2),n.fill(),n.beginPath(),n.moveTo(u-a/2,f),n.lineTo(u-a/4,f-a/3),n.lineTo(u-a/6,f),n.moveTo(u-a/6,f),n.lineTo(u,f-a/2),n.lineTo(u+a/6,f),n.moveTo(u+a/6,f),n.lineTo(u+a/4,f-a/3),n.lineTo(u+a/2,f),n.stroke(),n.restore()}function f_(n,i,o){var h;const{position:a,radius:c}=i,u=a.x-Ru/2,f=a.y-c-ES;if(((h=i.stateMachine)==null?void 0:h[0])===Ei){const m=i.stateMachine[1],S=o-m.attackStartTime,g=Math.min(S/lm,1);hi(n,u,f,Ru,bh,g,fi,_S)}else if(i.attackCooldown&&i.attackCooldown>0){const m=1-i.attackCooldown/um;hi(n,u,f,Ru,bh,m,fi,wS)}}function h_(n,i,o=!1,a=!1,c=!1,u=!1,f=!1,h=!1,m=!1,S,g){const{position:y,activeAction:T="idle"}=i,k=i.isAdult?vn:vn*.6,P=a_[T]||"idle";Oc.render(n,y.x-k,y.y-k,k*2,k*2,i.animationProgress||0,P,i.gender,i.age,[i.direction.x,i.direction.y],i.isPregnant??!1,i.hunger),h&&(n.save(),n.strokeStyle=vm,n.lineWidth=2,n.beginPath(),n.arc(y.x,y.y,k+3,0,2*Math.PI),n.stroke(),n.restore());let O,A;f?(O=nS,A=gm):o?(O=tS,A=yc):c?(O=rS,A=qy):a?(O=iS,A=pm):u&&(O=oS,A=mm),O&&A&&d_(n,y,k,O,A),i.tribeBadge&&c_(n,y,i.tribeBadge,i.isAdult??!1,O??0);const M=m&&(g===void 0||i.id===g);M&&i.aiBlackboard&&u_(n,i,S),f_(n,i,S),M&&l_(n,i)}const Fm=15;function Ap(n,i,o,a,c=1.5){const u=o-i.startTime,f=Math.min(u/i.duration,1),h=1-f,S=1+Math.sin(f*Math.PI*2)*(c-1),g=Fm*S;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,Math.max(0,g),0,Math.PI*2),n.fillStyle=a,n.fill(),n.restore()}function ui(n,i,o,a,c=2){const u=o-i.startTime,f=Math.min(u/i.duration,1),h=1-f,m=Fm*2*f;n.save(),n.globalAlpha=h,n.beginPath(),n.arc(i.position.x,i.position.y,m,0,Math.PI*2),n.strokeStyle=a,n.lineWidth=c,n.stroke(),n.restore()}function ir(n,i,o,a){const c=o-i.startTime,u=Math.min(c/i.duration,1),f=1-u,h=-20*u;n.save(),n.globalAlpha=f,n.font="20px Arial",n.textAlign="center",n.fillText(a,i.position.x,i.position.y+h),n.restore()}function p_(n,i,o){switch(i.type){case Ee.Hunger:Ap(n,i,o,"rgba(255, 165, 0, 0.7)",1);break;case Ee.Procreation:ir(n,i,o,"");break;case Ee.Pregnant:Ap(n,i,o,"rgba(255, 105, 180, 0.7)",1.2);break;case Ee.TargetAcquired:ui(n,i,o,"rgba(255, 0, 0, 0.8)",3);break;case Ee.Attack:ir(n,i,o,"");break;case Ee.Partnered:ir(n,i,o,"");break;case Ee.BushClaimed:ui(n,i,o,"rgba(0, 255, 0, 0.7)",2);break;case Ee.BushClaimLost:ui(n,i,o,"rgba(128, 128, 128, 0.7)",2);break;case Ee.Eating:ir(n,i,o,"");break;case Ee.ChildFed:ir(n,i,o,"");break;case Ee.AttackDeflected:ir(n,i,o,"");break;case Ee.AttackResisted:ir(n,i,o,"");break;case Ee.Hit:ir(n,i,o,"");break;case Ee.SeizeBuildup:ui(n,i,o,"rgba(255, 215, 0, 0.8)",4);break;case Ee.Seize:ui(n,i,o,"rgba(148, 0, 211, 0.8)",4);break;case Ee.CallToAttack:ui(n,i,o,"rgba(255, 255, 0, 0.8)",4);break}}function ho(n,i,o,a,c,...u){const f={...c.position};for(let h=-o;h<=o;h+=o)for(let m=-i;m<=i;m+=i)c.position.x=f.x+m,c.position.y=f.y+h,a(n,c,...u);c.position=f}function ma(n,i,o,a,c,u=!1){var k;if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#2c5234",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.translate(n.canvas.width/2-a.x,n.canvas.height/2-a.y),!u&&i.gameOver){n.restore(),n.fillStyle="white",n.font='30px "Press Start 2P", Arial',n.textAlign="center",n.fillText("Game Over!",n.canvas.width/2,n.canvas.height/2-60),n.font='20px "Press Start 2P", Arial',n.fillText("Lineage Extinct.",n.canvas.width/2,n.canvas.height/2-20),n.fillText(`Cause: ${i.causeOfGameOver||"Unknown"}`,n.canvas.width/2,n.canvas.height/2+20);return}const f=lr(i),h=f?yn(i,f):[],m=ha(h),S=((k=f==null?void 0:f.partnerIds)==null?void 0:k.map(P=>i.entities.entities.get(P)).filter(P=>P!==void 0))||[],{width:g,height:y}=i.mapDimensions;if(Array.from(i.entities.entities.values()).sort((P,O)=>P.position.y-O.position.y||P.id-O.id).forEach(P=>{var O,A;if(P.type==="berryBush")ho(n,g,y,zE,P,i,f,i.time);else if(P.type==="human"){const M=P,N=M.id===(f==null?void 0:f.id),Y=h.some(ee=>ee.id===M.id),H=M.id===(m==null?void 0:m.id),$=f&&(M.id===f.motherId||M.id===f.fatherId),U=f&&(((O=M.partnerIds)==null?void 0:O.includes(f.id))||((A=f.partnerIds)==null?void 0:A.includes(M.id))),W=(f==null?void 0:f.attackTargetId)===M.id;ho(n,g,y,h_,M,N,$,Y,U,H,W,o,i.time,i.debugCharacterId)}else P.type==="humanCorpse"&&ho(n,g,y,KE,P)}),i.visualEffects.forEach(P=>{ho(n,g,y,p_,P,i.time)}),i.tutorialState.isActive&&i.tutorialState.highlightedEntityIds.size>0)for(const P of i.tutorialState.highlightedEntityIds){const O=i.entities.entities.get(P);O&&ho(n,g,y,i_,O,YS,Em,i.time)}if(n.restore(),!u){let P=null,O=null;n.fillStyle=sS,n.font=`${er}px "Press Start 2P", Arial`,n.shadowColor=aS,n.shadowBlur=lS;let A=Tt+er;const N=i.time/(Yt/Vt)/rm%1,Y=co[ci.Time],H=25,$=Tt+H;if(n.fillText(Y,Tt,A+Mt/2+er/3),hi(n,$,A,tr,Mt,N,fi,fS),A+=Mt+dn,f){const ee=A+Rr/2,Ae=A+(Rr-Mt)/2,Oe=5;Mo(n,{x:Tt*2,y:ee},Rr,5,f.gender,!1,!1,!1);const Ze=Tt+Rr+Oe,Le=tr+H-(Rr+Oe)*2;hi(n,Ze,Ae,Le,Mt,Math.floor(f.age)/To,fi,dS),Mo(n,{x:Ze+Le+Oe+Rr/2,y:ee},Rr,To,f.gender,!1,!1,!1),A+=Mt+dn*2;const Te=[],ye=new Set;if(Te.push({member:f,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(f.id),m&&!ye.has(m.id)&&(Te.push({member:m,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),ye.add(m.id)),S.forEach(K=>{ye.has(K.id)||(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),ye.add(K.id))}),h.forEach(K=>{ye.has(K.id)||(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),ye.add(K.id))}),f.motherId&&!ye.has(f.motherId)){const K=i.entities.entities.get(f.motherId);K&&(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(K.id))}if(f.fatherId&&!ye.has(f.fatherId)){const K=i.entities.entities.get(f.fatherId);K&&(Te.push({member:K,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),ye.add(K.id))}const ve=co[ci.Family],ce=10,se=Tt+er+ce,G=tr+H-(er+ce),V=A+Vs/2;n.font=`${er}px "Press Start 2P", Arial`,n.textBaseline="middle",n.fillText(ve,Tt,V);const j=A+Vs/2;n_(n,se,j,Te,Vs,G),A+=Vs+dn,n.textBaseline="alphabetic";const w=co[ci.Hitpoints];n.fillText(w,Tt,A+Mt/2+er/3),hi(n,$,A,tr,Mt,f.hitpoints/f.maxHitpoints,fi,cS),A+=Mt+dn;const D=co[ci.Hunger];n.fillText(D,Tt,A+Mt/2+er/3),hi(n,$,A,tr,Mt,(Qt-f.hunger)/Qt,fi,uS),P={x:Tt,y:A-dn/2,width:tr+H,height:Mt+dn},A+=Mt+dn,n.textBaseline="middle";const te=co[ci.Food];n.fillText(te,Tt,A+lo/2),e_(n,$,A+lo/2,f.food,lo,tr),O={x:Tt,y:A-dn/5,width:tr+H,height:lo+dn},n.textBaseline="alphabetic",A+=lo+dn*2}let U=n.canvas.width-Tt;i.uiButtons.forEach(ee=>{const Ae=Tt,Oe=U-ee.currentWidth;switch(ee.rect={x:Oe,y:Ae,width:ee.currentWidth,height:AS},ee.textColor=TS,ee.action){case gn.ToggleAutopilot:ee.text="AUT[O]",ee.backgroundColor=i.isPlayerOnAutopilot?Pu:ku;break;case gn.ToggleMute:ee.text=i.isMuted?"UN[M]UTE":"[M]UTE",ee.backgroundColor=i.isMuted?Pu:ku;break;case gn.TogglePause:ee.text=i.isPaused?"UN[P]AUSE":"[P]AUSE",ee.backgroundColor=i.isPaused?Pu:ku,i.isPaused?ee.currentWidth=So*1.4:ee.currentWidth=So*1.1;break}bE(n,ee),U-=ee.currentWidth+IS});const W=A1(i,f==null?void 0:f.leaderId);if(r_(n,W,n.canvas.width,n.canvas.height),n.shadowColor="transparent",n.shadowBlur=0,f&&c.length>0&&JE(n,c,f,a,n.canvas.width,n.canvas.height),i.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:ee}=i.tutorialState;ee.has(Do.HUNGER_BAR)&&P&&wp(n,P,i.time),ee.has(Do.FOOD_BAR)&&O&&wp(n,O,i.time)}i.tutorialState.isActive&&o_(n,i.tutorialState,i.tutorial,n.canvas.width,n.canvas.height),i.isPaused&&s_(n)}}const m_=Sn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,g_=Sn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,v_=Sn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,y_=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,S_=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,zu="intro-soundtrack",Ip=()=>{const{setAppState:n}=ga(),i=ge.useRef(null),o=ge.useRef(null),a=ge.useRef(_E()),c=ge.useRef(),u=ge.useRef(a.current.viewportCenter),f=ge.useRef();ge.useEffect(()=>(wc(Ge.SoundTrack1,{loop:!0,trackId:zu}),()=>{lp(zu,2)}),[]),ge.useEffect(()=>{const g=i.current;if(!g)return;o.current=g.getContext("2d");const y=()=>{g&&o.current&&(g.width=window.innerWidth,g.height=window.innerHeight,ma(o.current,a.current,!1,u.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),ge.useEffect(()=>{const g=()=>{const T=I1(a.current);if(T.length>0){const k=Math.floor(Math.random()*T.length);f.current=T[k].id}};g();const y=setInterval(g,JS);return()=>clearInterval(y)},[]);const[h,m]=tm(g=>{if(!o.current)return;if(c.current===void 0){c.current=g;return}const y=Math.min((g-c.current)/1e3,1);a.current=rc(a.current,y);const T=f.current?a.current.entities.entities.get(f.current):void 0;if(T){const{mapDimensions:k}=a.current,{width:P,height:O}=k;let A={...T.position};const M=A.x-u.current.x;Math.abs(M)>P/2&&(M>0?A.x-=P:A.x+=P);const N=A.y-u.current.y;Math.abs(N)>O/2&&(N>0?A.y-=O:A.y+=O);let Y=Sc(u.current,A,fc*y);Y={x:(Y.x%P+P)%P,y:(Y.y%O+O)%O},u.current=Y}ma(o.current,a.current,!1,u.current,[],!0),c.current=g});ge.useEffect(()=>(m(),h),[m,h]);const S=()=>{lp(zu,2),n("game")};return Re.jsxs(m_,{children:[Re.jsx(g_,{ref:i}),Re.jsxs(v_,{children:[Re.jsx(y_,{children:"Tribe"}),Re.jsx(S_,{onClick:S,children:"Start Game"})]})]})};function E_(){return console.log("Tribe game initialized with detailed 2D world state."),EE()}const Tp=()=>{const[n]=ge.useState(()=>E_());return Re.jsx(__,{initialState:n})},__=({initialState:n})=>{const i=ge.useRef(null),o=ge.useRef(null),a=ge.useRef(n),c=ge.useRef(),u=ge.useRef(new Set),f=ge.useRef(!1),h=ge.useRef(n.viewportCenter),m=ge.useRef([]),{appState:S,setAppState:g}=ga();ge.useEffect(()=>{const P=i.current;if(!P)return;o.current=P.getContext("2d");const O=()=>{P&&o.current&&(P.width=window.innerWidth,P.height=window.innerHeight,ma(o.current,a.current,f.current,h.current,m.current,!1))};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const[y,T,k]=tm(P=>{if(!o.current||!c.current){c.current=P;return}const O=Math.min(P-c.current,1e3)/1e3;a.current=rc(a.current,O);const A=lr(a.current);if(A?m.current=Tm(a.current,A):m.current=[],A){const{mapDimensions:M}=a.current,{width:N,height:Y}=M;let H={...A.position};if(a.current.debugCharacterId){const ee=a.current.entities.entities.get(a.current.debugCharacterId);ee&&(H={...ee.position})}const $=H.x-h.current.x;Math.abs($)>N/2&&($>0?H.x-=N:H.x+=N);const U=H.y-h.current.y;Math.abs(U)>Y/2&&(U>0?H.y-=Y:H.y+=Y);let W=Sc(h.current,H,fc*O);W={x:(W.x%N+N)%N,y:(W.y%Y+Y)%Y},h.current=W}else h.current=a.current.viewportCenter;ma(o.current,a.current,f.current,h.current,m.current,!1),c.current=P,a.current.gameOver&&S!=="gameOver"&&(wc(Ge.GameOver,{masterVolume:a.current.masterVolume,isMuted:a.current.isMuted}),g("gameOver",{generations:a.current.generationCount,cause:a.current.causeOfGameOver||"Unknown"}))});return ge.useEffect(()=>(T(),y),[T,y]),ge.useEffect(()=>{const P=O=>{if(!k()||a.current.gameOver||!i.current)return;const A=i.current.getBoundingClientRect(),M=O.clientX-A.left,N=O.clientY-A.top,Y={gameState:a.current};a.current.uiButtons.forEach(H=>{if(M>=H.rect.x&&M<=H.rect.x+H.rect.width&&N>=H.rect.y&&N<=H.rect.y+H.rect.height){const $=lr(a.current);switch($&&dt(Y,Ge.ButtonClick,$.position),H.action){case gn.ToggleAutopilot:a.current.isPlayerOnAutopilot=!a.current.isPlayerOnAutopilot;break;case gn.ToggleMute:a.current.isMuted=!a.current.isMuted;break;case gn.TogglePause:a.current.isPaused=!a.current.isPaused;break}}})};return window.addEventListener("mousedown",P),()=>{window.removeEventListener("mousedown",P)}},[k]),ge.useEffect(()=>{const P=A=>{if(!k()||a.current.gameOver)return;const M=A.key.toLowerCase();if(M==="m"){a.current.isMuted=!a.current.isMuted,oa(a.current.masterVolume,a.current.isMuted);return}if(M==="="||M==="+"){const H=Math.min(1,a.current.masterVolume+.1);a.current.masterVolume=parseFloat(H.toFixed(1)),oa(a.current.masterVolume,a.current.isMuted);return}if(M==="-"){const H=Math.max(0,a.current.masterVolume-.1);a.current.masterVolume=parseFloat(H.toFixed(1)),oa(a.current.masterVolume,a.current.isMuted);return}if(M==="t"){a.current=rc(a.current,10);return}if(M===" "||M==="p"){A.preventDefault(),a.current.isPaused=!a.current.isPaused;return}if(M==="o"){a.current.isPlayerOnAutopilot=!a.current.isPlayerOnAutopilot;return}if(M===""||M==="`"){f.current=!f.current,f.current||(a.current.debugCharacterId=void 0);return}if(M==="tab"){A.preventDefault(),f.current=!0;const H=Array.from(a.current.entities.entities.values()).filter($=>$.type==="human");if(H.length>0){const $=H.sort((Ae,Oe)=>Ae.isPlayer?-1:Ae.id-Oe.id),U=a.current.debugCharacterId,ee=((U?$.findIndex(Ae=>Ae.id===U):-1)+1)%$.length;a.current.debugCharacterId=$[ee].id}else a.current.debugCharacterId=void 0;return}if(a.current.isPlayerOnAutopilot)return;u.current.add(M);const N=lr(a.current);if(!N)return;const Y={gameState:a.current};if(M==="e"){const H=yt(N,a.current,"berryBush",Ct,W=>W.food.length>0&&N.food.length<N.maxFood),$=yt(N,a.current,"humanCorpse",Ct,W=>W.food.length>0&&N.food.length<N.maxFood);let U=null;H&&$?U=we(N.position,H.position,a.current.mapDimensions.width,a.current.mapDimensions.height)<=we(N.position,$.position,a.current.mapDimensions.width,a.current.mapDimensions.height)?H:$:U=H||$,U&&(N.activeAction="gathering",dt(Y,Ge.Gather,N.position))}else if(M==="r")yt(N,a.current,"human",Ct,$=>{const U=$;return U.id!==N.id&&U.gender!==N.gender&&U.isAdult&&N.isAdult&&U.hunger<Rt&&N.hunger<Rt&&(U.procreationCooldown||0)<=0&&(N.procreationCooldown||0)<=0&&(U.gender==="female"?!U.isPregnant:!N.isPregnant)||!1})&&(N.activeAction="procreating",dt(Y,Ge.Procreate,N.position));else if(M==="f")N.activeAction="eating",dt(Y,Ge.Eat,N.position);else if(M==="arrowup"||M==="w")N.direction.y=-1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowdown"||M==="s")N.direction.y=1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowleft"||M==="a")N.direction.x=-1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="arrowright"||M==="d")N.direction.x=1,N.activeAction="moving",a.current.hasPlayerMovedEver=!0;else if(M==="q"){const H=yt(N,a.current,"human",Aa,$=>$.id!==N.id);H&&(N.activeAction="attacking",N.attackTargetId=H.id)}else if(M==="b"){if(m.current.find($=>$.type===$t.PlantBush)){const $=Rm(N.position,a.current,50,qu);$&&(N.activeAction="planting",N.target=$,a.current.hasPlayerPlantedBush=!0)}}else if(M==="v")m.current.find($=>$.type===$t.CallToAttack)&&(N.isCallingToAttack=!0,N.callToAttackEndTime=a.current.time+fa,ht(a.current,Ee.CallToAttack,N.position,fa),dt(Y,Ge.CallToAttack,N.position));else if(M==="k")m.current.find($=>$.type===$t.TribeSplit)&&Om(N,a.current);else return},O=A=>{if(!k()||a.current.gameOver)return;const M=A.key.toLowerCase();u.current.delete(M);const N=lr(a.current);!N||a.current.isPlayerOnAutopilot||(M==="arrowup"||M==="w"||M==="arrowdown"||M==="s"?N.direction.y=0:(M==="arrowleft"||M==="a"||M==="arrowright"||M==="d")&&(N.direction.x=0),!u.current.has("arrowup")&&!u.current.has("arrowdown")&&!u.current.has("arrowleft")&&!u.current.has("arrowright")&&!u.current.has("w")&&!u.current.has("a")&&!u.current.has("s")&&!u.current.has("d")&&N&&N.activeAction==="moving"&&(N.activeAction="idle"),!u.current.has("e")&&N.activeAction==="gathering"&&(N.activeAction="idle"),!u.current.has("f")&&N.activeAction==="eating"&&(N.activeAction="idle"),!u.current.has("r")&&N.activeAction==="procreating"&&(N.activeAction="idle"))};return window.addEventListener("keydown",P),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",P),window.removeEventListener("keyup",O)}},[k,S,g,T,y]),Re.jsx("canvas",{ref:i,style:{display:"block",background:"#2c5234"}})},w_=Sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,A_=Sn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Js=Sn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,I_=Sn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,T_=()=>{const{setAppState:n,gameOverDetails:i}=ga(),o=()=>{n("intro")};return Re.jsxs(w_,{children:[Re.jsx(A_,{children:"Game Over"}),Re.jsx(Js,{children:"Your tribe's lineage has ended."}),i&&Re.jsxs(Re.Fragment,{children:[Re.jsxs(Js,{children:["Generations Survived: ",i.generations]}),Re.jsxs(Js,{children:["Cause of Extinction: ",i.cause]})]}),!i&&Re.jsx(Js,{children:"Game details are unavailable."}),Re.jsx(I_,{onClick:o,children:"Return to Menu"})]})},C_=Vv`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function R_(n,i){ge.useEffect(()=>{const o=()=>{const a=document.location.hash==="#game"?"game":"intro";i(a)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),ge.useEffect(()=>{n==="game"?document.location.hash="#game":n==="intro"&&(document.location.hash="")},[n])}const k_=()=>{const{appState:n,setAppState:i}=ga();R_(n,i);const o=()=>{switch(n){case"intro":return Re.jsx(Ip,{});case"game":return Re.jsx(Tp,{});case"gameOver":return Re.jsxs(Re.Fragment,{children:[Re.jsx(Tp,{}),Re.jsx(T_,{})]});default:return Re.jsx(Ip,{})}};return Re.jsxs(Re.Fragment,{children:[Re.jsx(C_,{}),o()]})},Cp=document.getElementById("root");Cp?g1().then(()=>{$0.createRoot(Cp).render(Re.jsx(pn.StrictMode,{children:Re.jsx(Y0,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Re.jsx(k_,{})})}))}):console.error("Failed to find the root element");
