var Vv=Object.defineProperty;var Kv=(t,r,o)=>r in t?Vv(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var de=(t,r,o)=>Kv(t,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(u){if(u.ep)return;u.ep=!0;const a=o(u);fetch(u.href,a)}})();function Dg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ju={exports:{}},Oo={},ec={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Xv(){if(hp)return Ie;hp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function I(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function C(T,D,te){this.props=T,this.context=D,this.refs=P,this.updater=te||E}C.prototype.isReactComponent={},C.prototype.setState=function(T,D){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,D,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function x(){}x.prototype=C.prototype;function B(T,D,te){this.props=T,this.context=D,this.refs=P,this.updater=te||E}var H=B.prototype=new x;H.constructor=B,k(H,C.prototype),H.isPureReactComponent=!0;var $=Array.isArray,le=Object.prototype.hasOwnProperty,M={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function pe(T,D,te){var q,Se={},oe=null,me=null;if(D!=null)for(q in D.ref!==void 0&&(me=D.ref),D.key!==void 0&&(oe=""+D.key),D)le.call(D,q)&&!j.hasOwnProperty(q)&&(Se[q]=D[q]);var ce=arguments.length-2;if(ce===1)Se.children=te;else if(1<ce){for(var X=Array(ce),ne=0;ne<ce;ne++)X[ne]=arguments[ne+2];Se.children=X}if(T&&T.defaultProps)for(q in ce=T.defaultProps,ce)Se[q]===void 0&&(Se[q]=ce[q]);return{$$typeof:t,type:T,key:oe,ref:me,props:Se,_owner:M.current}}function Re(T,D){return{$$typeof:t,type:T.type,key:D,ref:T.ref,props:T.props,_owner:T._owner}}function Ue(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function Ve(T){var D={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(te){return D[te]})}var Be=/\/+/g;function Le(T,D){return typeof T=="object"&&T!==null&&T.key!=null?Ve(""+T.key):D.toString(36)}function ye(T,D,te,q,Se){var oe=typeof T;(oe==="undefined"||oe==="boolean")&&(T=null);var me=!1;if(T===null)me=!0;else switch(oe){case"string":case"number":me=!0;break;case"object":switch(T.$$typeof){case t:case r:me=!0}}if(me)return me=T,Se=Se(me),T=q===""?"."+Le(me,0):q,$(Se)?(te="",T!=null&&(te=T.replace(Be,"$&/")+"/"),ye(Se,D,te,"",function(ne){return ne})):Se!=null&&(Ue(Se)&&(Se=Re(Se,te+(!Se.key||me&&me.key===Se.key?"":(""+Se.key).replace(Be,"$&/")+"/")+T)),D.push(Se)),1;if(me=0,q=q===""?".":q+":",$(T))for(var ce=0;ce<T.length;ce++){oe=T[ce];var X=q+Le(oe,ce);me+=ye(oe,D,te,X,Se)}else if(X=I(T),typeof X=="function")for(T=X.call(T),ce=0;!(oe=T.next()).done;)oe=oe.value,X=q+Le(oe,ce++),me+=ye(oe,D,te,X,Se);else if(oe==="object")throw D=String(T),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return me}function Ne(T,D,te){if(T==null)return T;var q=[],Se=0;return ye(T,q,"","",function(oe){return D.call(te,oe,Se++)}),q}function ge(T){if(T._status===-1){var D=T._result;D=D(),D.then(function(te){(T._status===0||T._status===-1)&&(T._status=1,T._result=te)},function(te){(T._status===0||T._status===-1)&&(T._status=2,T._result=te)}),T._status===-1&&(T._status=0,T._result=D)}if(T._status===1)return T._result.default;throw T._result}var ie={current:null},z={transition:null},V={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:z,ReactCurrentOwner:M};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ne,forEach:function(T,D,te){Ne(T,function(){D.apply(this,arguments)},te)},count:function(T){var D=0;return Ne(T,function(){D++}),D},toArray:function(T){return Ne(T,function(D){return D})||[]},only:function(T){if(!Ue(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ie.Component=C,Ie.Fragment=o,Ie.Profiler=u,Ie.PureComponent=B,Ie.StrictMode=s,Ie.Suspense=p,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ie.act=W,Ie.cloneElement=function(T,D,te){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var q=k({},T.props),Se=T.key,oe=T.ref,me=T._owner;if(D!=null){if(D.ref!==void 0&&(oe=D.ref,me=M.current),D.key!==void 0&&(Se=""+D.key),T.type&&T.type.defaultProps)var ce=T.type.defaultProps;for(X in D)le.call(D,X)&&!j.hasOwnProperty(X)&&(q[X]=D[X]===void 0&&ce!==void 0?ce[X]:D[X])}var X=arguments.length-2;if(X===1)q.children=te;else if(1<X){ce=Array(X);for(var ne=0;ne<X;ne++)ce[ne]=arguments[ne+2];q.children=ce}return{$$typeof:t,type:T.type,key:Se,ref:oe,props:q,_owner:me}},Ie.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},Ie.createElement=pe,Ie.createFactory=function(T){var D=pe.bind(null,T);return D.type=T,D},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(T){return{$$typeof:h,render:T}},Ie.isValidElement=Ue,Ie.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:ge}},Ie.memo=function(T,D){return{$$typeof:v,type:T,compare:D===void 0?null:D}},Ie.startTransition=function(T){var D=z.transition;z.transition={};try{T()}finally{z.transition=D}},Ie.unstable_act=W,Ie.useCallback=function(T,D){return ie.current.useCallback(T,D)},Ie.useContext=function(T){return ie.current.useContext(T)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(T){return ie.current.useDeferredValue(T)},Ie.useEffect=function(T,D){return ie.current.useEffect(T,D)},Ie.useId=function(){return ie.current.useId()},Ie.useImperativeHandle=function(T,D,te){return ie.current.useImperativeHandle(T,D,te)},Ie.useInsertionEffect=function(T,D){return ie.current.useInsertionEffect(T,D)},Ie.useLayoutEffect=function(T,D){return ie.current.useLayoutEffect(T,D)},Ie.useMemo=function(T,D){return ie.current.useMemo(T,D)},Ie.useReducer=function(T,D,te){return ie.current.useReducer(T,D,te)},Ie.useRef=function(T){return ie.current.useRef(T)},Ie.useState=function(T){return ie.current.useState(T)},Ie.useSyncExternalStore=function(T,D,te){return ie.current.useSyncExternalStore(T,D,te)},Ie.useTransition=function(){return ie.current.useTransition()},Ie.version="18.3.1",Ie}var pp;function Yc(){return pp||(pp=1,ec.exports=Xv()),ec.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function bv(){if(gp)return Oo;gp=1;var t=Yc(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var m,y={},I=null,E=null;v!==void 0&&(I=""+v),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(E=p.ref);for(m in p)s.call(p,m)&&!a.hasOwnProperty(m)&&(y[m]=p[m]);if(h&&h.defaultProps)for(m in p=h.defaultProps,p)y[m]===void 0&&(y[m]=p[m]);return{$$typeof:r,type:h,key:I,ref:E,props:y,_owner:u.current}}return Oo.Fragment=o,Oo.jsx=c,Oo.jsxs=c,Oo}var mp;function Qv(){return mp||(mp=1,Ju.exports=bv()),Ju.exports}var Ee=Qv(),Ae=Yc();const Tn=Dg(Ae);var hl={},tc={exports:{}},Ot={},nc={exports:{}},rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Zv(){return vp||(vp=1,function(t){function r(z,V){var W=z.length;z.push(V);e:for(;0<W;){var T=W-1>>>1,D=z[T];if(0<u(D,V))z[T]=V,z[W]=D,W=T;else break e}}function o(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var V=z[0],W=z.pop();if(W!==V){z[0]=W;e:for(var T=0,D=z.length,te=D>>>1;T<te;){var q=2*(T+1)-1,Se=z[q],oe=q+1,me=z[oe];if(0>u(Se,W))oe<D&&0>u(me,Se)?(z[T]=me,z[oe]=W,T=oe):(z[T]=Se,z[q]=W,T=q);else if(oe<D&&0>u(me,W))z[T]=me,z[oe]=W,T=oe;else break e}}return V}function u(z,V){var W=z.sortIndex-V.sortIndex;return W!==0?W:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],v=[],m=1,y=null,I=3,E=!1,k=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(z){for(var V=o(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=z)s(v),V.sortIndex=V.expirationTime,r(p,V);else break;V=o(v)}}function $(z){if(P=!1,H(z),!k)if(o(p)!==null)k=!0,ge(le);else{var V=o(v);V!==null&&ie($,V.startTime-z)}}function le(z,V){k=!1,P&&(P=!1,x(pe),pe=-1),E=!0;var W=I;try{for(H(V),y=o(p);y!==null&&(!(y.expirationTime>V)||z&&!Ve());){var T=y.callback;if(typeof T=="function"){y.callback=null,I=y.priorityLevel;var D=T(y.expirationTime<=V);V=t.unstable_now(),typeof D=="function"?y.callback=D:y===o(p)&&s(p),H(V)}else s(p);y=o(p)}if(y!==null)var te=!0;else{var q=o(v);q!==null&&ie($,q.startTime-V),te=!1}return te}finally{y=null,I=W,E=!1}}var M=!1,j=null,pe=-1,Re=5,Ue=-1;function Ve(){return!(t.unstable_now()-Ue<Re)}function Be(){if(j!==null){var z=t.unstable_now();Ue=z;var V=!0;try{V=j(!0,z)}finally{V?Le():(M=!1,j=null)}}else M=!1}var Le;if(typeof B=="function")Le=function(){B(Be)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ne=ye.port2;ye.port1.onmessage=Be,Le=function(){Ne.postMessage(null)}}else Le=function(){C(Be,0)};function ge(z){j=z,M||(M=!0,Le())}function ie(z,V){pe=C(function(){z(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,ge(le))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return o(p)},t.unstable_next=function(z){switch(I){case 1:case 2:case 3:var V=3;break;default:V=I}var W=I;I=V;try{return z()}finally{I=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=I;I=z;try{return V()}finally{I=W}},t.unstable_scheduleCallback=function(z,V,W){var T=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?T+W:T):W=T,z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,z={id:m++,callback:V,priorityLevel:z,startTime:W,expirationTime:D,sortIndex:-1},W>T?(z.sortIndex=W,r(v,z),o(p)===null&&z===o(v)&&(P?(x(pe),pe=-1):P=!0,ie($,W-T))):(z.sortIndex=D,r(p,z),k||E||(k=!0,ge(le))),z},t.unstable_shouldYield=Ve,t.unstable_wrapCallback=function(z){var V=I;return function(){var W=I;I=V;try{return z.apply(this,arguments)}finally{I=W}}}}(rc)),rc}var yp;function qv(){return yp||(yp=1,nc.exports=Zv()),nc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function Jv(){if(Sp)return Ot;Sp=1;var t=Yc(),r=qv();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function a(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(u[e]=n,e=0;e<n.length;e++)s.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function I(e){return p.call(y,e)?!0:p.call(m,e)?!1:v.test(e)?y[e]=!0:(m[e]=!0,!1)}function E(e,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,i,l){if(n===null||typeof n>"u"||E(e,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function P(e,n,i,l,d,f,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=g}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new P(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(x,B);C[n]=new P(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(x,B);C[n]=new P(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(x,B);C[n]=new P(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,n,i,l){var d=C.hasOwnProperty(n)?C[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,i,d,l)&&(i=null),l||d===null?I(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,n,i):e.setAttribute(n,i))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Ue=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),z=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,T;function D(e){if(T===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+e}var te=!1;function q(e,n){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(O){var l=O}Reflect.construct(e,[],n)}else{try{n.call()}catch(O){l=O}e.call(n.prototype)}else{try{throw Error()}catch(O){l=O}e()}}catch(O){if(O&&l&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),f=l.stack.split(`
`),g=d.length-1,S=f.length-1;1<=g&&0<=S&&d[g]!==f[S];)S--;for(;1<=g&&0<=S;g--,S--)if(d[g]!==f[S]){if(g!==1||S!==1)do if(g--,S--,0>S||d[g]!==f[S]){var A=`
`+d[g].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=g&&0<=S);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function Se(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1),e;case 11:return e=q(e.type.render,!1),e;case 1:return e=q(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case M:return"Portal";case Re:return"Profiler";case pe:return"StrictMode";case Le:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ve:return(e.displayName||"Context")+".Consumer";case Ue:return(e._context.displayName||"Context")+".Provider";case Be:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function me(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(e){var n=X(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Oe(e){e._valueTracker||(e._valueTracker=ne(e))}function ue(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=X(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Cn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ut(e,n){var i=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Wt(e,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=ce(n.value!=null?n.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ir(e,n){n=n.checked,n!=null&&H(e,"checked",n,!1)}function Rn(e,n){Ir(e,n);var i=ce(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qr(e,n.type,i):n.hasOwnProperty("defaultValue")&&Qr(e,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Wn(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Qr(e,n,i){(n!=="number"||Cn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var $n=Array.isArray;function jn(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+ce(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function _r(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _d(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if($n(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:ce(i)}}function Td(e,n){var i=ce(n.value),l=ce(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Ed(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function wd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?wd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var os,Cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,i,l,d)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Yi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qm=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){Qm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Vi[n]=Vi[e]})});function Rd(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+n).trim():n+"px"}function Nd(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=Rd(i,n[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var Zm=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(e,n){if(n){if(Zm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function fa(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ga=null,Zr=null,qr=null;function Pd(e){if(e=go(e)){if(typeof ga!="function")throw Error(o(280));var n=e.stateNode;n&&(n=Ns(n),ga(e.stateNode,e.type,n))}}function Od(e){Zr?qr?qr.push(e):qr=[e]:Zr=e}function kd(){if(Zr){var e=Zr,n=qr;if(qr=Zr=null,Pd(e),n)for(e=0;e<n.length;e++)Pd(n[e])}}function Dd(e,n){return e(n)}function Ud(){}var ma=!1;function Md(e,n,i){if(ma)return e(n,i);ma=!0;try{return Dd(e,n,i)}finally{ma=!1,(Zr!==null||qr!==null)&&(Ud(),kd())}}function Ki(e,n){var i=e.stateNode;if(i===null)return null;var l=Ns(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var va=!1;if(h)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){va=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{va=!1}function qm(e,n,i,l,d,f,g,S,A){var O=Array.prototype.slice.call(arguments,3);try{n.apply(i,O)}catch(F){this.onError(F)}}var bi=!1,ss=null,ls=!1,ya=null,Jm={onError:function(e){bi=!0,ss=e}};function e0(e,n,i,l,d,f,g,S,A){bi=!1,ss=null,qm.apply(Jm,arguments)}function t0(e,n,i,l,d,f,g,S,A){if(e0.apply(this,arguments),bi){if(bi){var O=ss;bi=!1,ss=null}else throw Error(o(198));ls||(ls=!0,ya=O)}}function Tr(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Fd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ld(e){if(Tr(e)!==e)throw Error(o(188))}function n0(e){var n=e.alternate;if(!n){if(n=Tr(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Ld(d),e;if(f===l)return Ld(d),n;f=f.sibling}throw Error(o(188))}if(i.return!==l.return)i=d,l=f;else{for(var g=!1,S=d.child;S;){if(S===i){g=!0,i=d,l=f;break}if(S===l){g=!0,l=d,i=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===i){g=!0,i=f,l=d;break}if(S===l){g=!0,l=f,i=d;break}S=S.sibling}if(!g)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function Bd(e){return e=n0(e),e!==null?Hd(e):null}function Hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Hd(e);if(n!==null)return n;e=e.sibling}return null}var xd=r.unstable_scheduleCallback,Gd=r.unstable_cancelCallback,r0=r.unstable_shouldYield,i0=r.unstable_requestPaint,Xe=r.unstable_now,o0=r.unstable_getCurrentPriorityLevel,Sa=r.unstable_ImmediatePriority,zd=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,s0=r.unstable_LowPriority,Wd=r.unstable_IdlePriority,us=null,pn=null;function l0(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(us,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:c0,a0=Math.log,u0=Math.LN2;function c0(e){return e>>>=0,e===0?32:31-(a0(e)/u0|0)|0}var cs=64,ds=4194304;function Qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fs(e,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var S=g&~d;S!==0?l=Qi(S):(f&=g,f!==0&&(l=Qi(f)))}else g=i&~d,g!==0?l=Qi(g):f!==0&&(l=Qi(f));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((l&4)!==0&&(l|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)i=31-rn(n),d=1<<i,l|=e[i],n&=~d;return l}function d0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-rn(f),S=1<<g,A=d[g];A===-1?((S&i)===0||(S&l)!==0)&&(d[g]=d0(S,n)):A<=n&&(e.expiredLanes|=S),f&=~S}}function Aa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $d(){var e=cs;return cs<<=1,(cs&4194240)===0&&(cs=64),e}function Ia(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Zi(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-rn(n),e[n]=i}function h0(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-rn(i),f=1<<d;n[d]=0,l[d]=-1,e[d]=-1,i&=~f}}function _a(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-rn(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}var Me=0;function jd(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Yd,Ta,Vd,Kd,Xd,Ea=!1,hs=[],Yn=null,Vn=null,Kn=null,qi=new Map,Ji=new Map,Xn=[],p0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(e,n){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":qi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(n.pointerId)}}function eo(e,n,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=go(n),n!==null&&Ta(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function g0(e,n,i,l,d){switch(n){case"focusin":return Yn=eo(Yn,e,n,i,l,d),!0;case"dragenter":return Vn=eo(Vn,e,n,i,l,d),!0;case"mouseover":return Kn=eo(Kn,e,n,i,l,d),!0;case"pointerover":var f=d.pointerId;return qi.set(f,eo(qi.get(f)||null,e,n,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ji.set(f,eo(Ji.get(f)||null,e,n,i,l,d)),!0}return!1}function Qd(e){var n=Er(e.target);if(n!==null){var i=Tr(n);if(i!==null){if(n=i.tag,n===13){if(n=Fd(i),n!==null){e.blockedOn=n,Xd(e.priority,function(){Vd(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ps(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ca(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ha=l,i.target.dispatchEvent(l),ha=null}else return n=go(i),n!==null&&Ta(n),e.blockedOn=i,!1;n.shift()}return!0}function Zd(e,n,i){ps(e)&&i.delete(n)}function m0(){Ea=!1,Yn!==null&&ps(Yn)&&(Yn=null),Vn!==null&&ps(Vn)&&(Vn=null),Kn!==null&&ps(Kn)&&(Kn=null),qi.forEach(Zd),Ji.forEach(Zd)}function to(e,n){e.blockedOn===n&&(e.blockedOn=null,Ea||(Ea=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m0)))}function no(e){function n(d){return to(d,e)}if(0<hs.length){to(hs[0],e);for(var i=1;i<hs.length;i++){var l=hs[i];l.blockedOn===e&&(l.blockedOn=null)}}for(Yn!==null&&to(Yn,e),Vn!==null&&to(Vn,e),Kn!==null&&to(Kn,e),qi.forEach(n),Ji.forEach(n),i=0;i<Xn.length;i++)l=Xn[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Xn.length&&(i=Xn[0],i.blockedOn===null);)Qd(i),i.blockedOn===null&&Xn.shift()}var Jr=$.ReactCurrentBatchConfig,gs=!0;function v0(e,n,i,l){var d=Me,f=Jr.transition;Jr.transition=null;try{Me=1,wa(e,n,i,l)}finally{Me=d,Jr.transition=f}}function y0(e,n,i,l){var d=Me,f=Jr.transition;Jr.transition=null;try{Me=4,wa(e,n,i,l)}finally{Me=d,Jr.transition=f}}function wa(e,n,i,l){if(gs){var d=Ca(e,n,i,l);if(d===null)$a(e,n,l,ms,i),bd(e,l);else if(g0(d,e,n,i,l))l.stopPropagation();else if(bd(e,l),n&4&&-1<p0.indexOf(e)){for(;d!==null;){var f=go(d);if(f!==null&&Yd(f),f=Ca(e,n,i,l),f===null&&$a(e,n,l,ms,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else $a(e,n,l,null,i)}}var ms=null;function Ca(e,n,i,l){if(ms=null,e=pa(l),e=Er(e),e!==null)if(n=Tr(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Fd(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ms=e,null}function qd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o0()){case Sa:return 1;case zd:return 4;case as:case s0:return 16;case Wd:return 536870912;default:return 16}default:return 16}}var bn=null,Ra=null,vs=null;function Jd(){if(vs)return vs;var e,n=Ra,i=n.length,l,d="value"in bn?bn.value:bn.textContent,f=d.length;for(e=0;e<i&&n[e]===d[e];e++);var g=i-e;for(l=1;l<=g&&n[i-l]===d[f-l];l++);return vs=d.slice(e,1<l?1-l:void 0)}function ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function ef(){return!1}function Mt(e){function n(i,l,d,f,g){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ss:ef,this.isPropagationStopped=ef,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),n}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Mt(ei),ro=W({},ei,{view:0,detail:0}),S0=Mt(ro),Pa,Oa,io,As=W({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(Pa=e.screenX-io.screenX,Oa=e.screenY-io.screenY):Oa=Pa=0,io=e),Pa)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),tf=Mt(As),A0=W({},As,{dataTransfer:0}),I0=Mt(A0),_0=W({},ro,{relatedTarget:0}),ka=Mt(_0),T0=W({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=Mt(T0),w0=W({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C0=Mt(w0),R0=W({},ei,{data:0}),nf=Mt(R0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=O0[e])?!!n[e]:!1}function Da(){return k0}var D0=W({},ro,{key:function(e){if(e.key){var n=N0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U0=Mt(D0),M0=W({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Mt(M0),F0=W({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),L0=Mt(F0),B0=W({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=Mt(B0),x0=W({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=Mt(x0),z0=[9,13,27,32],Ua=h&&"CompositionEvent"in window,oo=null;h&&"documentMode"in document&&(oo=document.documentMode);var W0=h&&"TextEvent"in window&&!oo,of=h&&(!Ua||oo&&8<oo&&11>=oo),sf=" ",lf=!1;function af(e,n){switch(e){case"keyup":return z0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function $0(e,n){switch(e){case"compositionend":return uf(n);case"keypress":return n.which!==32?null:(lf=!0,sf);case"textInput":return e=n.data,e===sf&&lf?null:e;default:return null}}function j0(e,n){if(ti)return e==="compositionend"||!Ua&&af(e,n)?(e=Jd(),vs=Ra=bn=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return of&&n.locale!=="ko"?null:n.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Y0[e.type]:n==="textarea"}function df(e,n,i,l){Od(l),n=ws(n,"onChange"),0<n.length&&(i=new Na("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var so=null,lo=null;function V0(e){Pf(e,0)}function Is(e){var n=si(e);if(ue(n))return e}function K0(e,n){if(e==="change")return n}var ff=!1;if(h){var Ma;if(h){var Fa="oninput"in document;if(!Fa){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Fa=typeof hf.oninput=="function"}Ma=Fa}else Ma=!1;ff=Ma&&(!document.documentMode||9<document.documentMode)}function pf(){so&&(so.detachEvent("onpropertychange",gf),lo=so=null)}function gf(e){if(e.propertyName==="value"&&Is(lo)){var n=[];df(n,lo,e,pa(e)),Md(V0,n)}}function X0(e,n,i){e==="focusin"?(pf(),so=n,lo=i,so.attachEvent("onpropertychange",gf)):e==="focusout"&&pf()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(lo)}function Q0(e,n){if(e==="click")return Is(n)}function Z0(e,n){if(e==="input"||e==="change")return Is(n)}function q0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:q0;function ao(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!p.call(n,d)||!on(e[d],n[d]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vf(e,n){var i=mf(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=mf(i)}}function yf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sf(){for(var e=window,n=Cn();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Cn(e.document)}return n}function La(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function J0(e){var n=Sf(),i=e.focusedElem,l=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&yf(i.ownerDocument.documentElement,i)){if(l!==null&&La(i)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=vf(i,f);var g=vf(i,l);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ev=h&&"documentMode"in document&&11>=document.documentMode,ni=null,Ba=null,uo=null,Ha=!1;function Af(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ha||ni==null||ni!==Cn(l)||(l=ni,"selectionStart"in l&&La(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),uo&&ao(uo,l)||(uo=l,l=ws(Ba,"onSelect"),0<l.length&&(n=new Na("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=ni)))}function _s(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ri={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},xa={},If={};h&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Ts(e){if(xa[e])return xa[e];if(!ri[e])return e;var n=ri[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in If)return xa[e]=n[i];return e}var _f=Ts("animationend"),Tf=Ts("animationiteration"),Ef=Ts("animationstart"),wf=Ts("transitionend"),Cf=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,n){Cf.set(e,n),a(n,[e])}for(var Ga=0;Ga<Rf.length;Ga++){var za=Rf[Ga],tv=za.toLowerCase(),nv=za[0].toUpperCase()+za.slice(1);Qn(tv,"on"+nv)}Qn(_f,"onAnimationEnd"),Qn(Tf,"onAnimationIteration"),Qn(Ef,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(wf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function Nf(e,n,i){var l=e.type||"unknown-event";e.currentTarget=i,t0(l,n,void 0,e),e.currentTarget=null}function Pf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var S=l[g],A=S.instance,O=S.currentTarget;if(S=S.listener,A!==f&&d.isPropagationStopped())break e;Nf(d,S,O),f=A}else for(g=0;g<l.length;g++){if(S=l[g],A=S.instance,O=S.currentTarget,S=S.listener,A!==f&&d.isPropagationStopped())break e;Nf(d,S,O),f=A}}}if(ls)throw e=ya,ls=!1,ya=null,e}function xe(e,n){var i=n[ba];i===void 0&&(i=n[ba]=new Set);var l=e+"__bubble";i.has(l)||(Of(n,e,2,!1),i.add(l))}function Wa(e,n,i){var l=0;n&&(l|=4),Of(i,e,l,n)}var Es="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Es]){e[Es]=!0,s.forEach(function(i){i!=="selectionchange"&&(rv.has(i)||Wa(i,!1,e),Wa(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Es]||(n[Es]=!0,Wa("selectionchange",!1,n))}}function Of(e,n,i,l){switch(qd(n)){case 1:var d=v0;break;case 4:d=y0;break;default:d=wa}i=d.bind(null,n,i,e),d=void 0,!va||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function $a(e,n,i,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(g===4)for(g=l.return;g!==null;){var A=g.tag;if((A===3||A===4)&&(A=g.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;g=g.return}for(;S!==null;){if(g=Er(S),g===null)return;if(A=g.tag,A===5||A===6){l=f=g;continue e}S=S.parentNode}}l=l.return}Md(function(){var O=f,F=pa(i),L=[];e:{var U=Cf.get(e);if(U!==void 0){var Y=Na,b=e;switch(e){case"keypress":if(ys(i)===0)break e;case"keydown":case"keyup":Y=U0;break;case"focusin":b="focus",Y=ka;break;case"focusout":b="blur",Y=ka;break;case"beforeblur":case"afterblur":Y=ka;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=L0;break;case _f:case Tf:case Ef:Y=E0;break;case wf:Y=H0;break;case"scroll":Y=S0;break;case"wheel":Y=G0;break;case"copy":case"cut":case"paste":Y=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=rf}var Q=(n&4)!==0,be=!Q&&e==="scroll",w=Q?U!==null?U+"Capture":null:U;Q=[];for(var _=O,R;_!==null;){R=_;var G=R.stateNode;if(R.tag===5&&G!==null&&(R=G,w!==null&&(G=Ki(_,w),G!=null&&Q.push(ho(_,G,R)))),be)break;_=_.return}0<Q.length&&(U=new Y(U,b,null,i,F),L.push({event:U,listeners:Q}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&i!==ha&&(b=i.relatedTarget||i.fromElement)&&(Er(b)||b[Nn]))break e;if((Y||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(b=i.relatedTarget||i.toElement,Y=O,b=b?Er(b):null,b!==null&&(be=Tr(b),b!==be||b.tag!==5&&b.tag!==6)&&(b=null)):(Y=null,b=O),Y!==b)){if(Q=tf,G="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Q=rf,G="onPointerLeave",w="onPointerEnter",_="pointer"),be=Y==null?U:si(Y),R=b==null?U:si(b),U=new Q(G,_+"leave",Y,i,F),U.target=be,U.relatedTarget=R,G=null,Er(F)===O&&(Q=new Q(w,_+"enter",b,i,F),Q.target=R,Q.relatedTarget=be,G=Q),be=G,Y&&b)t:{for(Q=Y,w=b,_=0,R=Q;R;R=ii(R))_++;for(R=0,G=w;G;G=ii(G))R++;for(;0<_-R;)Q=ii(Q),_--;for(;0<R-_;)w=ii(w),R--;for(;_--;){if(Q===w||w!==null&&Q===w.alternate)break t;Q=ii(Q),w=ii(w)}Q=null}else Q=null;Y!==null&&kf(L,U,Y,Q,!1),b!==null&&be!==null&&kf(L,be,b,Q,!0)}}e:{if(U=O?si(O):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var Z=K0;else if(cf(U))if(ff)Z=Z0;else{Z=b0;var J=X0}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=Q0);if(Z&&(Z=Z(e,O))){df(L,Z,i,F);break e}J&&J(e,U,O),e==="focusout"&&(J=U._wrapperState)&&J.controlled&&U.type==="number"&&Qr(U,"number",U.value)}switch(J=O?si(O):window,e){case"focusin":(cf(J)||J.contentEditable==="true")&&(ni=J,Ba=O,uo=null);break;case"focusout":uo=Ba=ni=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,Af(L,i,F);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":Af(L,i,F)}var ee;if(Ua)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else ti?af(e,i)&&(se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(se="onCompositionStart");se&&(of&&i.locale!=="ko"&&(ti||se!=="onCompositionStart"?se==="onCompositionEnd"&&ti&&(ee=Jd()):(bn=F,Ra="value"in bn?bn.value:bn.textContent,ti=!0)),J=ws(O,se),0<J.length&&(se=new nf(se,e,null,i,F),L.push({event:se,listeners:J}),ee?se.data=ee:(ee=uf(i),ee!==null&&(se.data=ee)))),(ee=W0?$0(e,i):j0(e,i))&&(O=ws(O,"onBeforeInput"),0<O.length&&(F=new nf("onBeforeInput","beforeinput",null,i,F),L.push({event:F,listeners:O}),F.data=ee))}Pf(L,n)})}function ho(e,n,i){return{instance:e,listener:n,currentTarget:i}}function ws(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ki(e,i),f!=null&&l.unshift(ho(e,f,d)),f=Ki(e,n),f!=null&&l.push(ho(e,f,d))),e=e.return}return l}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kf(e,n,i,l,d){for(var f=n._reactName,g=[];i!==null&&i!==l;){var S=i,A=S.alternate,O=S.stateNode;if(A!==null&&A===l)break;S.tag===5&&O!==null&&(S=O,d?(A=Ki(i,f),A!=null&&g.unshift(ho(i,A,S))):d||(A=Ki(i,f),A!=null&&g.push(ho(i,A,S)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var iv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(iv,`
`).replace(ov,"")}function Cs(e,n,i){if(n=Df(n),Df(e)!==n&&i)throw Error(o(425))}function Rs(){}var ja=null,Ya=null;function Va(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(e){return Uf.resolve(null).then(e).catch(av)}:Ka;function av(e){setTimeout(function(){throw e})}function Xa(e,n){var i=n,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),no(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);no(n)}function Zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var oi=Math.random().toString(36).slice(2),gn="__reactFiber$"+oi,po="__reactProps$"+oi,Nn="__reactContainer$"+oi,ba="__reactEvents$"+oi,uv="__reactListeners$"+oi,cv="__reactHandles$"+oi;function Er(e){var n=e[gn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Nn]||i[gn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[gn])return i;e=Mf(e)}return n}e=i,i=e.parentNode}return null}function go(e){return e=e[gn]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ns(e){return e[po]||null}var Qa=[],li=-1;function qn(e){return{current:e}}function Ge(e){0>li||(e.current=Qa[li],Qa[li]=null,li--)}function He(e,n){li++,Qa[li]=e.current,e.current=n}var Jn={},gt=qn(Jn),wt=qn(!1),wr=Jn;function ai(e,n){var i=e.type.contextTypes;if(!i)return Jn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ct(e){return e=e.childContextTypes,e!=null}function Ps(){Ge(wt),Ge(gt)}function Ff(e,n,i){if(gt.current!==Jn)throw Error(o(168));He(gt,n),He(wt,i)}function Lf(e,n,i){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(o(108,me(e)||"Unknown",d));return W({},i,l)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,wr=gt.current,He(gt,e),He(wt,wt.current),!0}function Bf(e,n,i){var l=e.stateNode;if(!l)throw Error(o(169));i?(e=Lf(e,n,wr),l.__reactInternalMemoizedMergedChildContext=e,Ge(wt),Ge(gt),He(gt,e)):Ge(wt),He(wt,i)}var Pn=null,ks=!1,Za=!1;function Hf(e){Pn===null?Pn=[e]:Pn.push(e)}function dv(e){ks=!0,Hf(e)}function er(){if(!Za&&Pn!==null){Za=!0;var e=0,n=Me;try{var i=Pn;for(Me=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Pn=null,ks=!1}catch(d){throw Pn!==null&&(Pn=Pn.slice(e+1)),xd(Sa,er),d}finally{Me=n,Za=!1}}return null}var ui=[],ci=0,Ds=null,Us=0,$t=[],jt=0,Cr=null,On=1,kn="";function Rr(e,n){ui[ci++]=Us,ui[ci++]=Ds,Ds=e,Us=n}function xf(e,n,i){$t[jt++]=On,$t[jt++]=kn,$t[jt++]=Cr,Cr=e;var l=On;e=kn;var d=32-rn(l)-1;l&=~(1<<d),i+=1;var f=32-rn(n)+d;if(30<f){var g=d-d%5;f=(l&(1<<g)-1).toString(32),l>>=g,d-=g,On=1<<32-rn(n)+d|i<<d|l,kn=f+e}else On=1<<f|i<<d|l,kn=e}function qa(e){e.return!==null&&(Rr(e,1),xf(e,1,0))}function Ja(e){for(;e===Ds;)Ds=ui[--ci],ui[ci]=null,Us=ui[--ci],ui[ci]=null;for(;e===Cr;)Cr=$t[--jt],$t[jt]=null,kn=$t[--jt],$t[jt]=null,On=$t[--jt],$t[jt]=null}var Ft=null,Lt=null,We=!1,sn=null;function Gf(e,n){var i=Xt(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function zf(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ft=e,Lt=Zn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ft=e,Lt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Cr!==null?{id:On,overflow:kn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Xt(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Ft=e,Lt=null,!0):!1;default:return!1}}function eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tu(e){if(We){var n=Lt;if(n){var i=n;if(!zf(e,n)){if(eu(e))throw Error(o(418));n=Zn(i.nextSibling);var l=Ft;n&&zf(e,n)?Gf(l,i):(e.flags=e.flags&-4097|2,We=!1,Ft=e)}}else{if(eu(e))throw Error(o(418));e.flags=e.flags&-4097|2,We=!1,Ft=e}}}function Wf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function Ms(e){if(e!==Ft)return!1;if(!We)return Wf(e),We=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Va(e.type,e.memoizedProps)),n&&(n=Lt)){if(eu(e))throw $f(),Error(o(418));for(;n;)Gf(e,n),n=Zn(n.nextSibling)}if(Wf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Lt=Zn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Lt=null}}else Lt=Ft?Zn(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=Lt;e;)e=Zn(e.nextSibling)}function di(){Lt=Ft=null,We=!1}function nu(e){sn===null?sn=[e]:sn.push(e)}var fv=$.ReactCurrentBatchConfig;function mo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var l=i.stateNode}if(!l)throw Error(o(147,e));var d=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(g){var S=d.refs;g===null?delete S[f]:S[f]=g},n._stringRef=f,n)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Fs(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function jf(e){var n=e._init;return n(e._payload)}function Yf(e){function n(w,_){if(e){var R=w.deletions;R===null?(w.deletions=[_],w.flags|=16):R.push(_)}}function i(w,_){if(!e)return null;for(;_!==null;)n(w,_),_=_.sibling;return null}function l(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function d(w,_){return w=ar(w,_),w.index=0,w.sibling=null,w}function f(w,_,R){return w.index=R,e?(R=w.alternate,R!==null?(R=R.index,R<_?(w.flags|=2,_):R):(w.flags|=2,_)):(w.flags|=1048576,_)}function g(w){return e&&w.alternate===null&&(w.flags|=2),w}function S(w,_,R,G){return _===null||_.tag!==6?(_=Ku(R,w.mode,G),_.return=w,_):(_=d(_,R),_.return=w,_)}function A(w,_,R,G){var Z=R.type;return Z===j?F(w,_,R.props.children,G,R.key):_!==null&&(_.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ge&&jf(Z)===_.type)?(G=d(_,R.props),G.ref=mo(w,_,R),G.return=w,G):(G=ol(R.type,R.key,R.props,null,w.mode,G),G.ref=mo(w,_,R),G.return=w,G)}function O(w,_,R,G){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=Xu(R,w.mode,G),_.return=w,_):(_=d(_,R.children||[]),_.return=w,_)}function F(w,_,R,G,Z){return _===null||_.tag!==7?(_=Fr(R,w.mode,G,Z),_.return=w,_):(_=d(_,R),_.return=w,_)}function L(w,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ku(""+_,w.mode,R),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case le:return R=ol(_.type,_.key,_.props,null,w.mode,R),R.ref=mo(w,null,_),R.return=w,R;case M:return _=Xu(_,w.mode,R),_.return=w,_;case ge:var G=_._init;return L(w,G(_._payload),R)}if($n(_)||V(_))return _=Fr(_,w.mode,R,null),_.return=w,_;Fs(w,_)}return null}function U(w,_,R,G){var Z=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Z!==null?null:S(w,_,""+R,G);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case le:return R.key===Z?A(w,_,R,G):null;case M:return R.key===Z?O(w,_,R,G):null;case ge:return Z=R._init,U(w,_,Z(R._payload),G)}if($n(R)||V(R))return Z!==null?null:F(w,_,R,G,null);Fs(w,R)}return null}function Y(w,_,R,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number")return w=w.get(R)||null,S(_,w,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case le:return w=w.get(G.key===null?R:G.key)||null,A(_,w,G,Z);case M:return w=w.get(G.key===null?R:G.key)||null,O(_,w,G,Z);case ge:var J=G._init;return Y(w,_,R,J(G._payload),Z)}if($n(G)||V(G))return w=w.get(R)||null,F(_,w,G,Z,null);Fs(_,G)}return null}function b(w,_,R,G){for(var Z=null,J=null,ee=_,se=_=0,lt=null;ee!==null&&se<R.length;se++){ee.index>se?(lt=ee,ee=null):lt=ee.sibling;var Pe=U(w,ee,R[se],G);if(Pe===null){ee===null&&(ee=lt);break}e&&ee&&Pe.alternate===null&&n(w,ee),_=f(Pe,_,se),J===null?Z=Pe:J.sibling=Pe,J=Pe,ee=lt}if(se===R.length)return i(w,ee),We&&Rr(w,se),Z;if(ee===null){for(;se<R.length;se++)ee=L(w,R[se],G),ee!==null&&(_=f(ee,_,se),J===null?Z=ee:J.sibling=ee,J=ee);return We&&Rr(w,se),Z}for(ee=l(w,ee);se<R.length;se++)lt=Y(ee,w,se,R[se],G),lt!==null&&(e&&lt.alternate!==null&&ee.delete(lt.key===null?se:lt.key),_=f(lt,_,se),J===null?Z=lt:J.sibling=lt,J=lt);return e&&ee.forEach(function(ur){return n(w,ur)}),We&&Rr(w,se),Z}function Q(w,_,R,G){var Z=V(R);if(typeof Z!="function")throw Error(o(150));if(R=Z.call(R),R==null)throw Error(o(151));for(var J=Z=null,ee=_,se=_=0,lt=null,Pe=R.next();ee!==null&&!Pe.done;se++,Pe=R.next()){ee.index>se?(lt=ee,ee=null):lt=ee.sibling;var ur=U(w,ee,Pe.value,G);if(ur===null){ee===null&&(ee=lt);break}e&&ee&&ur.alternate===null&&n(w,ee),_=f(ur,_,se),J===null?Z=ur:J.sibling=ur,J=ur,ee=lt}if(Pe.done)return i(w,ee),We&&Rr(w,se),Z;if(ee===null){for(;!Pe.done;se++,Pe=R.next())Pe=L(w,Pe.value,G),Pe!==null&&(_=f(Pe,_,se),J===null?Z=Pe:J.sibling=Pe,J=Pe);return We&&Rr(w,se),Z}for(ee=l(w,ee);!Pe.done;se++,Pe=R.next())Pe=Y(ee,w,se,Pe.value,G),Pe!==null&&(e&&Pe.alternate!==null&&ee.delete(Pe.key===null?se:Pe.key),_=f(Pe,_,se),J===null?Z=Pe:J.sibling=Pe,J=Pe);return e&&ee.forEach(function(Yv){return n(w,Yv)}),We&&Rr(w,se),Z}function be(w,_,R,G){if(typeof R=="object"&&R!==null&&R.type===j&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case le:e:{for(var Z=R.key,J=_;J!==null;){if(J.key===Z){if(Z=R.type,Z===j){if(J.tag===7){i(w,J.sibling),_=d(J,R.props.children),_.return=w,w=_;break e}}else if(J.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ge&&jf(Z)===J.type){i(w,J.sibling),_=d(J,R.props),_.ref=mo(w,J,R),_.return=w,w=_;break e}i(w,J);break}else n(w,J);J=J.sibling}R.type===j?(_=Fr(R.props.children,w.mode,G,R.key),_.return=w,w=_):(G=ol(R.type,R.key,R.props,null,w.mode,G),G.ref=mo(w,_,R),G.return=w,w=G)}return g(w);case M:e:{for(J=R.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){i(w,_.sibling),_=d(_,R.children||[]),_.return=w,w=_;break e}else{i(w,_);break}else n(w,_);_=_.sibling}_=Xu(R,w.mode,G),_.return=w,w=_}return g(w);case ge:return J=R._init,be(w,_,J(R._payload),G)}if($n(R))return b(w,_,R,G);if(V(R))return Q(w,_,R,G);Fs(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(i(w,_.sibling),_=d(_,R),_.return=w,w=_):(i(w,_),_=Ku(R,w.mode,G),_.return=w,w=_),g(w)):i(w,_)}return be}var fi=Yf(!0),Vf=Yf(!1),Ls=qn(null),Bs=null,hi=null,ru=null;function iu(){ru=hi=Bs=null}function ou(e){var n=Ls.current;Ge(Ls),e._currentValue=n}function su(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function pi(e,n){Bs=e,ru=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Rt=!0),e.firstContext=null)}function Yt(e){var n=e._currentValue;if(ru!==e)if(e={context:e,memoizedValue:n,next:null},hi===null){if(Bs===null)throw Error(o(308));hi=e,Bs.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return n}var Nr=null;function lu(e){Nr===null?Nr=[e]:Nr.push(e)}function Kf(e,n,i,l){var d=n.interleaved;return d===null?(i.next=i,lu(n)):(i.next=d.next,d.next=i),n.interleaved=i,Dn(e,l)}function Dn(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var tr=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function nr(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,Dn(e,i)}return d=l.interleaved,d===null?(n.next=n,lu(l)):(n.next=d.next,d.next=n),l.interleaved=n,Dn(e,i)}function Hs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,_a(e,i)}}function bf(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=n:f=f.next=n}else d=f=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function xs(e,n,i,l){var d=e.updateQueue;tr=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var A=S,O=A.next;A.next=null,g===null?f=O:g.next=O,g=A;var F=e.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==g&&(S===null?F.firstBaseUpdate=O:S.next=O,F.lastBaseUpdate=A))}if(f!==null){var L=d.baseState;g=0,F=O=A=null,S=f;do{var U=S.lane,Y=S.eventTime;if((l&U)===U){F!==null&&(F=F.next={eventTime:Y,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var b=e,Q=S;switch(U=n,Y=i,Q.tag){case 1:if(b=Q.payload,typeof b=="function"){L=b.call(Y,L,U);break e}L=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=Q.payload,U=typeof b=="function"?b.call(Y,L,U):b,U==null)break e;L=W({},L,U);break e;case 2:tr=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[S]:U.push(S))}else Y={eventTime:Y,lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(O=F=Y,A=L):F=F.next=Y,g|=U;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;U=S,S=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(F===null&&(A=L),d.baseState=A,d.firstBaseUpdate=O,d.lastBaseUpdate=F,n=d.shared.interleaved,n!==null){d=n;do g|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);kr|=g,e.lanes=g,e.memoizedState=L}}function Qf(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(o(191,d));d.call(l)}}}var vo={},mn=qn(vo),yo=qn(vo),So=qn(vo);function Pr(e){if(e===vo)throw Error(o(174));return e}function uu(e,n){switch(He(So,n),He(yo,e),He(mn,vo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ca(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ca(n,e)}Ge(mn),He(mn,n)}function gi(){Ge(mn),Ge(yo),Ge(So)}function Zf(e){Pr(So.current);var n=Pr(mn.current),i=ca(n,e.type);n!==i&&(He(yo,e),He(mn,i))}function cu(e){yo.current===e&&(Ge(mn),Ge(yo))}var je=qn(0);function Gs(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var du=[];function fu(){for(var e=0;e<du.length;e++)du[e]._workInProgressVersionPrimary=null;du.length=0}var zs=$.ReactCurrentDispatcher,hu=$.ReactCurrentBatchConfig,Or=0,Ye=null,tt=null,ot=null,Ws=!1,Ao=!1,Io=0,hv=0;function mt(){throw Error(o(321))}function pu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!on(e[i],n[i]))return!1;return!0}function gu(e,n,i,l,d,f){if(Or=f,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zs.current=e===null||e.memoizedState===null?vv:yv,e=i(l,d),Ao){f=0;do{if(Ao=!1,Io=0,25<=f)throw Error(o(301));f+=1,ot=tt=null,n.updateQueue=null,zs.current=Sv,e=i(l,d)}while(Ao)}if(zs.current=Ys,n=tt!==null&&tt.next!==null,Or=0,ot=tt=Ye=null,Ws=!1,n)throw Error(o(300));return e}function mu(){var e=Io!==0;return Io=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ye.memoizedState=ot=e:ot=ot.next=e,ot}function Vt(){if(tt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=ot===null?Ye.memoizedState:ot.next;if(n!==null)ot=n,tt=e;else{if(e===null)throw Error(o(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?Ye.memoizedState=ot=e:ot=ot.next=e}return ot}function _o(e,n){return typeof n=="function"?n(e):n}function vu(e){var n=Vt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=tt,d=l.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}l.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,l=l.baseState;var S=g=null,A=null,O=f;do{var F=O.lane;if((Or&F)===F)A!==null&&(A=A.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),l=O.hasEagerState?O.eagerState:e(l,O.action);else{var L={lane:F,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};A===null?(S=A=L,g=l):A=A.next=L,Ye.lanes|=F,kr|=F}O=O.next}while(O!==null&&O!==f);A===null?g=l:A.next=S,on(l,n.memoizedState)||(Rt=!0),n.memoizedState=l,n.baseState=g,n.baseQueue=A,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Ye.lanes|=f,kr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function yu(e){var n=Vt(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=n.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);on(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function qf(){}function Jf(e,n){var i=Ye,l=Vt(),d=n(),f=!on(l.memoizedState,d);if(f&&(l.memoizedState=d,Rt=!0),l=l.queue,Su(nh.bind(null,i,l,e),[e]),l.getSnapshot!==n||f||ot!==null&&ot.memoizedState.tag&1){if(i.flags|=2048,To(9,th.bind(null,i,l,d,n),void 0,null),st===null)throw Error(o(349));(Or&30)!==0||eh(i,n,d)}return d}function eh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function th(e,n,i,l){n.value=i,n.getSnapshot=l,rh(n)&&ih(e)}function nh(e,n,i){return i(function(){rh(n)&&ih(e)})}function rh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!on(e,i)}catch{return!0}}function ih(e){var n=Dn(e,1);n!==null&&cn(n,e,1,-1)}function oh(e){var n=vn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},n.queue=e,e=e.dispatch=mv.bind(null,Ye,e),[n.memoizedState,e]}function To(e,n,i,l){return e={tag:e,create:n,destroy:i,deps:l,next:null},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e)),e}function sh(){return Vt().memoizedState}function $s(e,n,i,l){var d=vn();Ye.flags|=e,d.memoizedState=To(1|n,i,void 0,l===void 0?null:l)}function js(e,n,i,l){var d=Vt();l=l===void 0?null:l;var f=void 0;if(tt!==null){var g=tt.memoizedState;if(f=g.destroy,l!==null&&pu(l,g.deps)){d.memoizedState=To(n,i,f,l);return}}Ye.flags|=e,d.memoizedState=To(1|n,i,f,l)}function lh(e,n){return $s(8390656,8,e,n)}function Su(e,n){return js(2048,8,e,n)}function ah(e,n){return js(4,2,e,n)}function uh(e,n){return js(4,4,e,n)}function ch(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dh(e,n,i){return i=i!=null?i.concat([e]):null,js(4,4,ch.bind(null,n,e),i)}function Au(){}function fh(e,n){var i=Vt();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&pu(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function hh(e,n){var i=Vt();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&pu(n,l[1])?l[0]:(e=e(),i.memoizedState=[e,n],e)}function ph(e,n,i){return(Or&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=i):(on(i,n)||(i=$d(),Ye.lanes|=i,kr|=i,e.baseState=!0),n)}function pv(e,n){var i=Me;Me=i!==0&&4>i?i:4,e(!0);var l=hu.transition;hu.transition={};try{e(!1),n()}finally{Me=i,hu.transition=l}}function gh(){return Vt().memoizedState}function gv(e,n,i){var l=sr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},mh(e))vh(n,i);else if(i=Kf(e,n,i,l),i!==null){var d=_t();cn(i,e,l,d),yh(i,n,l)}}function mv(e,n,i){var l=sr(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(mh(e))vh(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,S=f(g,i);if(d.hasEagerState=!0,d.eagerState=S,on(S,g)){var A=n.interleaved;A===null?(d.next=d,lu(n)):(d.next=A.next,A.next=d),n.interleaved=d;return}}catch{}finally{}i=Kf(e,n,d,l),i!==null&&(d=_t(),cn(i,e,l,d),yh(i,n,l))}}function mh(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function vh(e,n){Ao=Ws=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function yh(e,n,i){if((i&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,_a(e,i)}}var Ys={readContext:Yt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},vv={readContext:Yt,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:Yt,useEffect:lh,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,$s(4194308,4,ch.bind(null,n,e),i)},useLayoutEffect:function(e,n){return $s(4194308,4,e,n)},useInsertionEffect:function(e,n){return $s(4,2,e,n)},useMemo:function(e,n){var i=vn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var l=vn();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=gv.bind(null,Ye,e),[l.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:oh,useDebugValue:Au,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=oh(!1),n=e[0];return e=pv.bind(null,e[1]),vn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var l=Ye,d=vn();if(We){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),st===null)throw Error(o(349));(Or&30)!==0||eh(l,n,i)}d.memoizedState=i;var f={value:i,getSnapshot:n};return d.queue=f,lh(nh.bind(null,l,f,e),[e]),l.flags|=2048,To(9,th.bind(null,l,f,i,n),void 0,null),i},useId:function(){var e=vn(),n=st.identifierPrefix;if(We){var i=kn,l=On;i=(l&~(1<<32-rn(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=Io++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=hv++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},yv={readContext:Yt,useCallback:fh,useContext:Yt,useEffect:Su,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:vu,useRef:sh,useState:function(){return vu(_o)},useDebugValue:Au,useDeferredValue:function(e){var n=Vt();return ph(n,tt.memoizedState,e)},useTransition:function(){var e=vu(_o)[0],n=Vt().memoizedState;return[e,n]},useMutableSource:qf,useSyncExternalStore:Jf,useId:gh,unstable_isNewReconciler:!1},Sv={readContext:Yt,useCallback:fh,useContext:Yt,useEffect:Su,useImperativeHandle:dh,useInsertionEffect:ah,useLayoutEffect:uh,useMemo:hh,useReducer:yu,useRef:sh,useState:function(){return yu(_o)},useDebugValue:Au,useDeferredValue:function(e){var n=Vt();return tt===null?n.memoizedState=e:ph(n,tt.memoizedState,e)},useTransition:function(){var e=yu(_o)[0],n=Vt().memoizedState;return[e,n]},useMutableSource:qf,useSyncExternalStore:Jf,useId:gh,unstable_isNewReconciler:!1};function ln(e,n){if(e&&e.defaultProps){n=W({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Iu(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:W({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Vs={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var l=_t(),d=sr(e),f=Un(l,d);f.payload=n,i!=null&&(f.callback=i),n=nr(e,f,d),n!==null&&(cn(n,e,d,l),Hs(n,e,d))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=_t(),d=sr(e),f=Un(l,d);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=nr(e,f,d),n!==null&&(cn(n,e,d,l),Hs(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=_t(),l=sr(e),d=Un(i,l);d.tag=2,n!=null&&(d.callback=n),n=nr(e,d,l),n!==null&&(cn(n,e,l,i),Hs(n,e,l))}};function Sh(e,n,i,l,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ao(i,l)||!ao(d,f):!0}function Ah(e,n,i){var l=!1,d=Jn,f=n.contextType;return typeof f=="object"&&f!==null?f=Yt(f):(d=Ct(n)?wr:gt.current,l=n.contextTypes,f=(l=l!=null)?ai(e,d):Jn),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function Ih(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Vs.enqueueReplaceState(n,n.state,null)}function _u(e,n,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},au(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Yt(f):(f=Ct(n)?wr:gt.current,d.context=ai(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Iu(e,n,f,i),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Vs.enqueueReplaceState(d,d.state,null),xs(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function mi(e,n){try{var i="",l=n;do i+=Se(l),l=l.return;while(l);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function Tu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Eu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Av=typeof WeakMap=="function"?WeakMap:Map;function _h(e,n,i){i=Un(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){Js||(Js=!0,xu=l),Eu(e,n)},i}function Th(e,n,i){i=Un(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;i.payload=function(){return l(d)},i.callback=function(){Eu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Eu(e,n),typeof l!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),i}function Eh(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Av;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(d.add(i),e=Mv.bind(null,e,n,i),n.then(e,e))}function wh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ch(e,n,i,l,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Un(-1,1),n.tag=2,nr(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Iv=$.ReactCurrentOwner,Rt=!1;function It(e,n,i,l){n.child=e===null?Vf(n,null,i,l):fi(n,e.child,i,l)}function Rh(e,n,i,l,d){i=i.render;var f=n.ref;return pi(n,d),l=gu(e,n,i,l,f,d),i=mu(),e!==null&&!Rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Mn(e,n,d)):(We&&i&&qa(n),n.flags|=1,It(e,n,l,d),n.child)}function Nh(e,n,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!Vu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Ph(e,n,f,l,d)):(e=ol(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ao,i(g,l)&&e.ref===n.ref)return Mn(e,n,d)}return n.flags|=1,e=ar(f,l),e.ref=n.ref,e.return=n,n.child=e}function Ph(e,n,i,l,d){if(e!==null){var f=e.memoizedProps;if(ao(f,l)&&e.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Rt=!0);else return n.lanes=e.lanes,Mn(e,n,d)}return wu(e,n,i,l,d)}function Oh(e,n,i){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(yi,Bt),Bt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,He(yi,Bt),Bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,He(yi,Bt),Bt|=l}else f!==null?(l=f.baseLanes|i,n.memoizedState=null):l=i,He(yi,Bt),Bt|=l;return It(e,n,d,i),n.child}function kh(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function wu(e,n,i,l,d){var f=Ct(i)?wr:gt.current;return f=ai(n,f),pi(n,d),i=gu(e,n,i,l,f,d),l=mu(),e!==null&&!Rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Mn(e,n,d)):(We&&l&&qa(n),n.flags|=1,It(e,n,i,d),n.child)}function Dh(e,n,i,l,d){if(Ct(i)){var f=!0;Os(n)}else f=!1;if(pi(n,d),n.stateNode===null)Xs(e,n),Ah(n,i,l),_u(n,i,l,d),l=!0;else if(e===null){var g=n.stateNode,S=n.memoizedProps;g.props=S;var A=g.context,O=i.contextType;typeof O=="object"&&O!==null?O=Yt(O):(O=Ct(i)?wr:gt.current,O=ai(n,O));var F=i.getDerivedStateFromProps,L=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";L||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==l||A!==O)&&Ih(n,g,l,O),tr=!1;var U=n.memoizedState;g.state=U,xs(n,l,g,d),A=n.memoizedState,S!==l||U!==A||wt.current||tr?(typeof F=="function"&&(Iu(n,i,F,l),A=n.memoizedState),(S=tr||Sh(n,i,S,l,U,A,O))?(L||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),g.props=l,g.state=A,g.context=O,l=S):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,Xf(e,n),S=n.memoizedProps,O=n.type===n.elementType?S:ln(n.type,S),g.props=O,L=n.pendingProps,U=g.context,A=i.contextType,typeof A=="object"&&A!==null?A=Yt(A):(A=Ct(i)?wr:gt.current,A=ai(n,A));var Y=i.getDerivedStateFromProps;(F=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==L||U!==A)&&Ih(n,g,l,A),tr=!1,U=n.memoizedState,g.state=U,xs(n,l,g,d);var b=n.memoizedState;S!==L||U!==b||wt.current||tr?(typeof Y=="function"&&(Iu(n,i,Y,l),b=n.memoizedState),(O=tr||Sh(n,i,O,l,U,b,A)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,b,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,b,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=b),g.props=l,g.state=b,g.context=A,l=O):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),l=!1)}return Cu(e,n,i,l,f,d)}function Cu(e,n,i,l,d,f){kh(e,n);var g=(n.flags&128)!==0;if(!l&&!g)return d&&Bf(n,i,!1),Mn(e,n,f);l=n.stateNode,Iv.current=n;var S=g&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&g?(n.child=fi(n,e.child,null,f),n.child=fi(n,null,S,f)):It(e,n,S,f),n.memoizedState=l.state,d&&Bf(n,i,!0),n.child}function Uh(e){var n=e.stateNode;n.pendingContext?Ff(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Ff(e,n.context,!1),uu(e,n.containerInfo)}function Mh(e,n,i,l,d){return di(),nu(d),n.flags|=256,It(e,n,i,l),n.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,n,i){var l=n.pendingProps,d=je.current,f=!1,g=(n.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(d&2)!==0),S?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),He(je,d&1),e===null)return tu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=l.children,e=l.fallback,f?(l=n.mode,f=n.child,g={mode:"hidden",children:g},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=sl(g,l,0,null),e=Fr(e,l,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Nu(i),n.memoizedState=Ru,e):Pu(n,g));if(d=e.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return _v(e,n,g,l,S,d,i);if(f){f=l.fallback,g=n.mode,d=e.child,S=d.sibling;var A={mode:"hidden",children:l.children};return(g&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=A,n.deletions=null):(l=ar(d,A),l.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=ar(S,f):(f=Fr(f,g,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,g=e.child.memoizedState,g=g===null?Nu(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,n.memoizedState=Ru,l}return f=e.child,e=f.sibling,l=ar(f,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=i),l.return=n,l.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=l,n.memoizedState=null,l}function Pu(e,n){return n=sl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ks(e,n,i,l){return l!==null&&nu(l),fi(n,e.child,null,i),e=Pu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _v(e,n,i,l,d,f,g){if(i)return n.flags&256?(n.flags&=-257,l=Tu(Error(o(422))),Ks(e,n,g,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,d=n.mode,l=sl({mode:"visible",children:l.children},d,0,null),f=Fr(f,d,g,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,(n.mode&1)!==0&&fi(n,e.child,null,g),n.child.memoizedState=Nu(g),n.memoizedState=Ru,f);if((n.mode&1)===0)return Ks(e,n,g,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var S=l.dgst;return l=S,f=Error(o(419)),l=Tu(f,l,void 0),Ks(e,n,g,l)}if(S=(g&e.childLanes)!==0,Rt||S){if(l=st,l!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Dn(e,d),cn(l,e,d,-1))}return Yu(),l=Tu(Error(o(421))),Ks(e,n,g,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=Fv.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Lt=Zn(d.nextSibling),Ft=n,We=!0,sn=null,e!==null&&($t[jt++]=On,$t[jt++]=kn,$t[jt++]=Cr,On=e.id,kn=e.overflow,Cr=n),n=Pu(n,l.children),n.flags|=4096,n)}function Lh(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),su(e.return,n,i)}function Ou(e,n,i,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function Bh(e,n,i){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(It(e,n,l.children,i),l=je.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lh(e,i,n);else if(e.tag===19)Lh(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(He(je,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Gs(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Ou(n,!1,d,i,f);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Gs(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Ou(n,!0,i,null,f);break;case"together":Ou(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xs(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Mn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=ar(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ar(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Tv(e,n,i){switch(n.tag){case 3:Uh(n),di();break;case 5:Zf(n);break;case 1:Ct(n.type)&&Os(n);break;case 4:uu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;He(Ls,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(He(je,je.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Fh(e,n,i):(He(je,je.current&1),e=Mn(e,n,i),e!==null?e.sibling:null);He(je,je.current&1);break;case 19:if(l=(i&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Bh(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(je,je.current),l)break;return null;case 22:case 23:return n.lanes=0,Oh(e,n,i)}return Mn(e,n,i)}var Hh,ku,xh,Gh;Hh=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ku=function(){},xh=function(e,n,i,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,Pr(mn.current);var f=null;switch(i){case"input":d=Ut(e,d),l=Ut(e,l),f=[];break;case"select":d=W({},d,{value:void 0}),l=W({},l,{value:void 0}),f=[];break;case"textarea":d=_r(e,d),l=_r(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Rs)}da(i,l);var g;i=null;for(O in d)if(!l.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var S=d[O];for(g in S)S.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(u.hasOwnProperty(O)?f||(f=[]):(f=f||[]).push(O,null));for(O in l){var A=l[O];if(S=d!=null?d[O]:void 0,l.hasOwnProperty(O)&&A!==S&&(A!=null||S!=null))if(O==="style")if(S){for(g in S)!S.hasOwnProperty(g)||A&&A.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in A)A.hasOwnProperty(g)&&S[g]!==A[g]&&(i||(i={}),i[g]=A[g])}else i||(f||(f=[]),f.push(O,i)),i=A;else O==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(f=f||[]).push(O,A)):O==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(O,""+A):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(u.hasOwnProperty(O)?(A!=null&&O==="onScroll"&&xe("scroll",e),f||S===A||(f=[])):(f=f||[]).push(O,A))}i&&(f=f||[]).push("style",i);var O=f;(n.updateQueue=O)&&(n.flags|=4)}},Gh=function(e,n,i,l){i!==l&&(n.flags|=4)};function Eo(e,n){if(!We)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function Ev(e,n,i){var l=n.pendingProps;switch(Ja(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return Ct(n.type)&&Ps(),vt(n),null;case 3:return l=n.stateNode,gi(),Ge(wt),Ge(gt),fu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ms(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sn!==null&&(Wu(sn),sn=null))),ku(e,n),vt(n),null;case 5:cu(n);var d=Pr(So.current);if(i=n.type,e!==null&&n.stateNode!=null)xh(e,n,i,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(o(166));return vt(n),null}if(e=Pr(mn.current),Ms(n)){l=n.stateNode,i=n.type;var f=n.memoizedProps;switch(l[gn]=n,l[po]=f,e=(n.mode&1)!==0,i){case"dialog":xe("cancel",l),xe("close",l);break;case"iframe":case"object":case"embed":xe("load",l);break;case"video":case"audio":for(d=0;d<co.length;d++)xe(co[d],l);break;case"source":xe("error",l);break;case"img":case"image":case"link":xe("error",l),xe("load",l);break;case"details":xe("toggle",l);break;case"input":Wt(l,f),xe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},xe("invalid",l);break;case"textarea":_d(l,f),xe("invalid",l)}da(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var S=f[g];g==="children"?typeof S=="string"?l.textContent!==S&&(f.suppressHydrationWarning!==!0&&Cs(l.textContent,S,e),d=["children",S]):typeof S=="number"&&l.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&Cs(l.textContent,S,e),d=["children",""+S]):u.hasOwnProperty(g)&&S!=null&&g==="onScroll"&&xe("scroll",l)}switch(i){case"input":Oe(l),Wn(l,f,!0);break;case"textarea":Oe(l),Ed(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Rs)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wd(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(i,{is:l.is}):(e=g.createElement(i),i==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,i),e[gn]=n,e[po]=l,Hh(e,n,!1,!1),n.stateNode=e;e:{switch(g=fa(i,l),i){case"dialog":xe("cancel",e),xe("close",e),d=l;break;case"iframe":case"object":case"embed":xe("load",e),d=l;break;case"video":case"audio":for(d=0;d<co.length;d++)xe(co[d],e);d=l;break;case"source":xe("error",e),d=l;break;case"img":case"image":case"link":xe("error",e),xe("load",e),d=l;break;case"details":xe("toggle",e),d=l;break;case"input":Wt(e,l),d=Ut(e,l),xe("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=W({},l,{value:void 0}),xe("invalid",e);break;case"textarea":_d(e,l),d=_r(e,l),xe("invalid",e);break;default:d=l}da(i,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var A=S[f];f==="style"?Nd(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Cd(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Yi(e,A):typeof A=="number"&&Yi(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?A!=null&&f==="onScroll"&&xe("scroll",e):A!=null&&H(e,f,A,g))}switch(i){case"input":Oe(e),Wn(e,l,!1);break;case"textarea":Oe(e),Ed(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ce(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?jn(e,!!l.multiple,f,!1):l.defaultValue!=null&&jn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Rs)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return vt(n),null;case 6:if(e&&n.stateNode!=null)Gh(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(i=Pr(So.current),Pr(mn.current),Ms(n)){if(l=n.stateNode,i=n.memoizedProps,l[gn]=n,(f=l.nodeValue!==i)&&(e=Ft,e!==null))switch(e.tag){case 3:Cs(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(l.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[gn]=n,n.stateNode=l}return vt(n),null;case 13:if(Ge(je),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Lt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)$f(),di(),n.flags|=98560,f=!1;else if(f=Ms(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[gn]=n}else di(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),f=!1}else sn!==null&&(Wu(sn),sn=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(je.current&1)!==0?nt===0&&(nt=3):Yu())),n.updateQueue!==null&&(n.flags|=4),vt(n),null);case 4:return gi(),ku(e,n),e===null&&fo(n.stateNode.containerInfo),vt(n),null;case 10:return ou(n.type._context),vt(n),null;case 17:return Ct(n.type)&&Ps(),vt(n),null;case 19:if(Ge(je),f=n.memoizedState,f===null)return vt(n),null;if(l=(n.flags&128)!==0,g=f.rendering,g===null)if(l)Eo(f,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Gs(e),g!==null){for(n.flags|=128,Eo(f,!1),l=g.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)f=i,e=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return He(je,je.current&1|2),n.child}e=e.sibling}f.tail!==null&&Xe()>Si&&(n.flags|=128,l=!0,Eo(f,!1),n.lanes=4194304)}else{if(!l)if(e=Gs(g),e!==null){if(n.flags|=128,l=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Eo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!We)return vt(n),null}else 2*Xe()-f.renderingStartTime>Si&&i!==1073741824&&(n.flags|=128,l=!0,Eo(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(i=f.last,i!==null?i.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Xe(),n.sibling=null,i=je.current,He(je,l?i&1|2:i&1),n):(vt(n),null);case 22:case 23:return ju(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Bt&1073741824)!==0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function wv(e,n){switch(Ja(n),n.tag){case 1:return Ct(n.type)&&Ps(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gi(),Ge(wt),Ge(gt),fu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return cu(n),null;case 13:if(Ge(je),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));di()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ge(je),null;case 4:return gi(),null;case 10:return ou(n.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var bs=!1,yt=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,K=null;function vi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Ke(e,n,l)}else i.current=null}function Du(e,n,i){try{i()}catch(l){Ke(e,n,l)}}var zh=!1;function Rv(e,n){if(ja=gs,e=Sf(),La(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,S=-1,A=-1,O=0,F=0,L=e,U=null;t:for(;;){for(var Y;L!==i||d!==0&&L.nodeType!==3||(S=g+d),L!==f||l!==0&&L.nodeType!==3||(A=g+l),L.nodeType===3&&(g+=L.nodeValue.length),(Y=L.firstChild)!==null;)U=L,L=Y;for(;;){if(L===e)break t;if(U===i&&++O===d&&(S=g),U===f&&++F===l&&(A=g),(Y=L.nextSibling)!==null)break;L=U,U=L.parentNode}L=Y}i=S===-1||A===-1?null:{start:S,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ya={focusedElem:e,selectionRange:i},gs=!1,K=n;K!==null;)if(n=K,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,K=e;else for(;K!==null;){n=K;try{var b=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var Q=b.memoizedProps,be=b.memoizedState,w=n.stateNode,_=w.getSnapshotBeforeUpdate(n.elementType===n.type?Q:ln(n.type,Q),be);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(G){Ke(n,n.return,G)}if(e=n.sibling,e!==null){e.return=n.return,K=e;break}K=n.return}return b=zh,zh=!1,b}function wo(e,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Du(n,i,f)}d=d.next}while(d!==l)}}function Qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function Uu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Wh(e){var n=e.alternate;n!==null&&(e.alternate=null,Wh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[gn],delete n[po],delete n[ba],delete n[uv],delete n[cv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $h(e){return e.tag===5||e.tag===3||e.tag===4}function jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Rs));else if(l!==4&&(e=e.child,e!==null))for(Mu(e,n,i),e=e.sibling;e!==null;)Mu(e,n,i),e=e.sibling}function Fu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Fu(e,n,i),e=e.sibling;e!==null;)Fu(e,n,i),e=e.sibling}var ct=null,an=!1;function rr(e,n,i){for(i=i.child;i!==null;)Yh(e,n,i),i=i.sibling}function Yh(e,n,i){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(us,i)}catch{}switch(i.tag){case 5:yt||vi(i,n);case 6:var l=ct,d=an;ct=null,rr(e,n,i),ct=l,an=d,ct!==null&&(an?(e=ct,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):ct.removeChild(i.stateNode));break;case 18:ct!==null&&(an?(e=ct,i=i.stateNode,e.nodeType===8?Xa(e.parentNode,i):e.nodeType===1&&Xa(e,i),no(e)):Xa(ct,i.stateNode));break;case 4:l=ct,d=an,ct=i.stateNode.containerInfo,an=!0,rr(e,n,i),ct=l,an=d;break;case 0:case 11:case 14:case 15:if(!yt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Du(i,n,g),d=d.next}while(d!==l)}rr(e,n,i);break;case 1:if(!yt&&(vi(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(S){Ke(i,n,S)}rr(e,n,i);break;case 21:rr(e,n,i);break;case 22:i.mode&1?(yt=(l=yt)||i.memoizedState!==null,rr(e,n,i),yt=l):rr(e,n,i);break;default:rr(e,n,i)}}function Vh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Cv),n.forEach(function(l){var d=Lv.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function un(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var f=e,g=n,S=g;e:for(;S!==null;){switch(S.tag){case 5:ct=S.stateNode,an=!1;break e;case 3:ct=S.stateNode.containerInfo,an=!0;break e;case 4:ct=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(ct===null)throw Error(o(160));Yh(f,g,d),ct=null,an=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(O){Ke(d,n,O)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Kh(n,e),n=n.sibling}function Kh(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(n,e),yn(e),l&4){try{wo(3,e,e.return),Qs(3,e)}catch(Q){Ke(e,e.return,Q)}try{wo(5,e,e.return)}catch(Q){Ke(e,e.return,Q)}}break;case 1:un(n,e),yn(e),l&512&&i!==null&&vi(i,i.return);break;case 5:if(un(n,e),yn(e),l&512&&i!==null&&vi(i,i.return),e.flags&32){var d=e.stateNode;try{Yi(d,"")}catch(Q){Ke(e,e.return,Q)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,S=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&Ir(d,f),fa(S,g);var O=fa(S,f);for(g=0;g<A.length;g+=2){var F=A[g],L=A[g+1];F==="style"?Nd(d,L):F==="dangerouslySetInnerHTML"?Cd(d,L):F==="children"?Yi(d,L):H(d,F,L,O)}switch(S){case"input":Rn(d,f);break;case"textarea":Td(d,f);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Y=f.value;Y!=null?jn(d,!!f.multiple,Y,!1):U!==!!f.multiple&&(f.defaultValue!=null?jn(d,!!f.multiple,f.defaultValue,!0):jn(d,!!f.multiple,f.multiple?[]:"",!1))}d[po]=f}catch(Q){Ke(e,e.return,Q)}}break;case 6:if(un(n,e),yn(e),l&4){if(e.stateNode===null)throw Error(o(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Q){Ke(e,e.return,Q)}}break;case 3:if(un(n,e),yn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(Q){Ke(e,e.return,Q)}break;case 4:un(n,e),yn(e);break;case 13:un(n,e),yn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Hu=Xe())),l&4&&Vh(e);break;case 22:if(F=i!==null&&i.memoizedState!==null,e.mode&1?(yt=(O=yt)||F,un(n,e),yt=O):un(n,e),yn(e),l&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!F&&(e.mode&1)!==0)for(K=e,F=e.child;F!==null;){for(L=K=F;K!==null;){switch(U=K,Y=U.child,U.tag){case 0:case 11:case 14:case 15:wo(4,U,U.return);break;case 1:vi(U,U.return);var b=U.stateNode;if(typeof b.componentWillUnmount=="function"){l=U,i=U.return;try{n=l,b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(Q){Ke(l,i,Q)}}break;case 5:vi(U,U.return);break;case 22:if(U.memoizedState!==null){Qh(L);continue}}Y!==null?(Y.return=U,K=Y):Qh(L)}F=F.sibling}e:for(F=null,L=e;;){if(L.tag===5){if(F===null){F=L;try{d=L.stateNode,O?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=L.stateNode,A=L.memoizedProps.style,g=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=Rd("display",g))}catch(Q){Ke(e,e.return,Q)}}}else if(L.tag===6){if(F===null)try{L.stateNode.nodeValue=O?"":L.memoizedProps}catch(Q){Ke(e,e.return,Q)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;F===L&&(F=null),L=L.return}F===L&&(F=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:un(n,e),yn(e),l&4&&Vh(e);break;case 21:break;default:un(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if($h(i)){var l=i;break e}i=i.return}throw Error(o(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Yi(d,""),l.flags&=-33);var f=jh(e);Fu(e,f,d);break;case 3:case 4:var g=l.stateNode.containerInfo,S=jh(e);Mu(e,S,g);break;default:throw Error(o(161))}}catch(A){Ke(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Nv(e,n,i){K=e,Xh(e)}function Xh(e,n,i){for(var l=(e.mode&1)!==0;K!==null;){var d=K,f=d.child;if(d.tag===22&&l){var g=d.memoizedState!==null||bs;if(!g){var S=d.alternate,A=S!==null&&S.memoizedState!==null||yt;S=bs;var O=yt;if(bs=g,(yt=A)&&!O)for(K=d;K!==null;)g=K,A=g.child,g.tag===22&&g.memoizedState!==null?Zh(d):A!==null?(A.return=g,K=A):Zh(d);for(;f!==null;)K=f,Xh(f),f=f.sibling;K=d,bs=S,yt=O}bh(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,K=f):bh(e)}}function bh(e){for(;K!==null;){var n=K;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:yt||Qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!yt)if(i===null)l.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:ln(n.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Qf(n,f,l);break;case 3:var g=n.updateQueue;if(g!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Qf(n,g,i)}break;case 5:var S=n.stateNode;if(i===null&&n.flags&4){i=S;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var O=n.alternate;if(O!==null){var F=O.memoizedState;if(F!==null){var L=F.dehydrated;L!==null&&no(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}yt||n.flags&512&&Uu(n)}catch(U){Ke(n,n.return,U)}}if(n===e){K=null;break}if(i=n.sibling,i!==null){i.return=n.return,K=i;break}K=n.return}}function Qh(e){for(;K!==null;){var n=K;if(n===e){K=null;break}var i=n.sibling;if(i!==null){i.return=n.return,K=i;break}K=n.return}}function Zh(e){for(;K!==null;){var n=K;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Qs(4,n)}catch(A){Ke(n,i,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(A){Ke(n,d,A)}}var f=n.return;try{Uu(n)}catch(A){Ke(n,f,A)}break;case 5:var g=n.return;try{Uu(n)}catch(A){Ke(n,g,A)}}}catch(A){Ke(n,n.return,A)}if(n===e){K=null;break}var S=n.sibling;if(S!==null){S.return=n.return,K=S;break}K=n.return}}var Pv=Math.ceil,Zs=$.ReactCurrentDispatcher,Lu=$.ReactCurrentOwner,Kt=$.ReactCurrentBatchConfig,Ce=0,st=null,qe=null,dt=0,Bt=0,yi=qn(0),nt=0,Co=null,kr=0,qs=0,Bu=0,Ro=null,Nt=null,Hu=0,Si=1/0,Fn=null,Js=!1,xu=null,ir=null,el=!1,or=null,tl=0,No=0,Gu=null,nl=-1,rl=0;function _t(){return(Ce&6)!==0?Xe():nl!==-1?nl:nl=Xe()}function sr(e){return(e.mode&1)===0?1:(Ce&2)!==0&&dt!==0?dt&-dt:fv.transition!==null?(rl===0&&(rl=$d()),rl):(e=Me,e!==0||(e=window.event,e=e===void 0?16:qd(e.type)),e)}function cn(e,n,i,l){if(50<No)throw No=0,Gu=null,Error(o(185));Zi(e,i,l),((Ce&2)===0||e!==st)&&(e===st&&((Ce&2)===0&&(qs|=i),nt===4&&lr(e,dt)),Pt(e,l),i===1&&Ce===0&&(n.mode&1)===0&&(Si=Xe()+500,ks&&er()))}function Pt(e,n){var i=e.callbackNode;f0(e,n);var l=fs(e,e===st?dt:0);if(l===0)i!==null&&Gd(i),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(i!=null&&Gd(i),n===1)e.tag===0?dv(Jh.bind(null,e)):Hf(Jh.bind(null,e)),lv(function(){(Ce&6)===0&&er()}),i=null;else{switch(jd(l)){case 1:i=Sa;break;case 4:i=zd;break;case 16:i=as;break;case 536870912:i=Wd;break;default:i=as}i=lp(i,qh.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function qh(e,n){if(nl=-1,rl=0,(Ce&6)!==0)throw Error(o(327));var i=e.callbackNode;if(Ai()&&e.callbackNode!==i)return null;var l=fs(e,e===st?dt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=il(e,l);else{n=l;var d=Ce;Ce|=2;var f=tp();(st!==e||dt!==n)&&(Fn=null,Si=Xe()+500,Ur(e,n));do try{Dv();break}catch(S){ep(e,S)}while(!0);iu(),Zs.current=f,Ce=d,qe!==null?n=0:(st=null,dt=0,n=nt)}if(n!==0){if(n===2&&(d=Aa(e),d!==0&&(l=d,n=zu(e,d))),n===1)throw i=Co,Ur(e,0),lr(e,l),Pt(e,Xe()),i;if(n===6)lr(e,l);else{if(d=e.current.alternate,(l&30)===0&&!Ov(d)&&(n=il(e,l),n===2&&(f=Aa(e),f!==0&&(l=f,n=zu(e,f))),n===1))throw i=Co,Ur(e,0),lr(e,l),Pt(e,Xe()),i;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(o(345));case 2:Mr(e,Nt,Fn);break;case 3:if(lr(e,l),(l&130023424)===l&&(n=Hu+500-Xe(),10<n)){if(fs(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){_t(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Ka(Mr.bind(null,e,Nt,Fn),n);break}Mr(e,Nt,Fn);break;case 4:if(lr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var g=31-rn(l);f=1<<g,g=n[g],g>d&&(d=g),l&=~f}if(l=d,l=Xe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Pv(l/1960))-l,10<l){e.timeoutHandle=Ka(Mr.bind(null,e,Nt,Fn),l);break}Mr(e,Nt,Fn);break;case 5:Mr(e,Nt,Fn);break;default:throw Error(o(329))}}}return Pt(e,Xe()),e.callbackNode===i?qh.bind(null,e):null}function zu(e,n){var i=Ro;return e.current.memoizedState.isDehydrated&&(Ur(e,n).flags|=256),e=il(e,n),e!==2&&(n=Nt,Nt=i,n!==null&&Wu(n)),e}function Wu(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function Ov(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!on(f(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(e,n){for(n&=~Bu,n&=~qs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-rn(n),l=1<<i;e[i]=-1,n&=~l}}function Jh(e){if((Ce&6)!==0)throw Error(o(327));Ai();var n=fs(e,0);if((n&1)===0)return Pt(e,Xe()),null;var i=il(e,n);if(e.tag!==0&&i===2){var l=Aa(e);l!==0&&(n=l,i=zu(e,l))}if(i===1)throw i=Co,Ur(e,0),lr(e,n),Pt(e,Xe()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Mr(e,Nt,Fn),Pt(e,Xe()),null}function $u(e,n){var i=Ce;Ce|=1;try{return e(n)}finally{Ce=i,Ce===0&&(Si=Xe()+500,ks&&er())}}function Dr(e){or!==null&&or.tag===0&&(Ce&6)===0&&Ai();var n=Ce;Ce|=1;var i=Kt.transition,l=Me;try{if(Kt.transition=null,Me=1,e)return e()}finally{Me=l,Kt.transition=i,Ce=n,(Ce&6)===0&&er()}}function ju(){Bt=yi.current,Ge(yi)}function Ur(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,sv(i)),qe!==null)for(i=qe.return;i!==null;){var l=i;switch(Ja(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ps();break;case 3:gi(),Ge(wt),Ge(gt),fu();break;case 5:cu(l);break;case 4:gi();break;case 13:Ge(je);break;case 19:Ge(je);break;case 10:ou(l.type._context);break;case 22:case 23:ju()}i=i.return}if(st=e,qe=e=ar(e.current,null),dt=Bt=n,nt=0,Co=null,Bu=qs=kr=0,Nt=Ro=null,Nr!==null){for(n=0;n<Nr.length;n++)if(i=Nr[n],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,l.next=g}i.pending=l}Nr=null}return e}function ep(e,n){do{var i=qe;try{if(iu(),zs.current=Ys,Ws){for(var l=Ye.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Ws=!1}if(Or=0,ot=tt=Ye=null,Ao=!1,Io=0,Lu.current=null,i===null||i.return===null){nt=1,Co=n,qe=null;break}e:{var f=e,g=i.return,S=i,A=n;if(n=dt,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var O=A,F=S,L=F.tag;if((F.mode&1)===0&&(L===0||L===11||L===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var Y=wh(g);if(Y!==null){Y.flags&=-257,Ch(Y,g,S,f,n),Y.mode&1&&Eh(f,O,n),n=Y,A=O;var b=n.updateQueue;if(b===null){var Q=new Set;Q.add(A),n.updateQueue=Q}else b.add(A);break e}else{if((n&1)===0){Eh(f,O,n),Yu();break e}A=Error(o(426))}}else if(We&&S.mode&1){var be=wh(g);if(be!==null){(be.flags&65536)===0&&(be.flags|=256),Ch(be,g,S,f,n),nu(mi(A,S));break e}}f=A=mi(A,S),nt!==4&&(nt=2),Ro===null?Ro=[f]:Ro.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var w=_h(f,A,n);bf(f,w);break e;case 1:S=A;var _=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(ir===null||!ir.has(R)))){f.flags|=65536,n&=-n,f.lanes|=n;var G=Th(f,S,n);bf(f,G);break e}}f=f.return}while(f!==null)}rp(i)}catch(Z){n=Z,qe===i&&i!==null&&(qe=i=i.return);continue}break}while(!0)}function tp(){var e=Zs.current;return Zs.current=Ys,e===null?Ys:e}function Yu(){(nt===0||nt===3||nt===2)&&(nt=4),st===null||(kr&268435455)===0&&(qs&268435455)===0||lr(st,dt)}function il(e,n){var i=Ce;Ce|=2;var l=tp();(st!==e||dt!==n)&&(Fn=null,Ur(e,n));do try{kv();break}catch(d){ep(e,d)}while(!0);if(iu(),Ce=i,Zs.current=l,qe!==null)throw Error(o(261));return st=null,dt=0,nt}function kv(){for(;qe!==null;)np(qe)}function Dv(){for(;qe!==null&&!r0();)np(qe)}function np(e){var n=sp(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,n===null?rp(e):qe=n,Lu.current=null}function rp(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=Ev(i,n,Bt),i!==null){qe=i;return}}else{if(i=wv(i,n),i!==null){i.flags&=32767,qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,qe=null;return}}if(n=n.sibling,n!==null){qe=n;return}qe=n=e}while(n!==null);nt===0&&(nt=5)}function Mr(e,n,i){var l=Me,d=Kt.transition;try{Kt.transition=null,Me=1,Uv(e,n,i,l)}finally{Kt.transition=d,Me=l}return null}function Uv(e,n,i,l){do Ai();while(or!==null);if((Ce&6)!==0)throw Error(o(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(h0(e,f),e===st&&(qe=st=null,dt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||el||(el=!0,lp(as,function(){return Ai(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Kt.transition,Kt.transition=null;var g=Me;Me=1;var S=Ce;Ce|=4,Lu.current=null,Rv(e,i),Kh(i,e),J0(Ya),gs=!!ja,Ya=ja=null,e.current=i,Nv(i),i0(),Ce=S,Me=g,Kt.transition=f}else e.current=i;if(el&&(el=!1,or=e,tl=d),f=e.pendingLanes,f===0&&(ir=null),l0(i.stateNode),Pt(e,Xe()),n!==null)for(l=e.onRecoverableError,i=0;i<n.length;i++)d=n[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(Js)throw Js=!1,e=xu,xu=null,e;return(tl&1)!==0&&e.tag!==0&&Ai(),f=e.pendingLanes,(f&1)!==0?e===Gu?No++:(No=0,Gu=e):No=0,er(),null}function Ai(){if(or!==null){var e=jd(tl),n=Kt.transition,i=Me;try{if(Kt.transition=null,Me=16>e?16:e,or===null)var l=!1;else{if(e=or,or=null,tl=0,(Ce&6)!==0)throw Error(o(331));var d=Ce;for(Ce|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var S=f.deletions;if(S!==null){for(var A=0;A<S.length;A++){var O=S[A];for(K=O;K!==null;){var F=K;switch(F.tag){case 0:case 11:case 15:wo(8,F,f)}var L=F.child;if(L!==null)L.return=F,K=L;else for(;K!==null;){F=K;var U=F.sibling,Y=F.return;if(Wh(F),F===O){K=null;break}if(U!==null){U.return=Y,K=U;break}K=Y}}}var b=f.alternate;if(b!==null){var Q=b.child;if(Q!==null){b.child=null;do{var be=Q.sibling;Q.sibling=null,Q=be}while(Q!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:wo(9,f,f.return)}var w=f.sibling;if(w!==null){w.return=f.return,K=w;break e}K=f.return}}var _=e.current;for(K=_;K!==null;){g=K;var R=g.child;if((g.subtreeFlags&2064)!==0&&R!==null)R.return=g,K=R;else e:for(g=_;K!==null;){if(S=K,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Qs(9,S)}}catch(Z){Ke(S,S.return,Z)}if(S===g){K=null;break e}var G=S.sibling;if(G!==null){G.return=S.return,K=G;break e}K=S.return}}if(Ce=d,er(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(us,e)}catch{}l=!0}return l}finally{Me=i,Kt.transition=n}}return!1}function ip(e,n,i){n=mi(i,n),n=_h(e,n,1),e=nr(e,n,1),n=_t(),e!==null&&(Zi(e,1,n),Pt(e,n))}function Ke(e,n,i){if(e.tag===3)ip(e,e,i);else for(;n!==null;){if(n.tag===3){ip(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){e=mi(i,e),e=Th(n,e,1),n=nr(n,e,1),e=_t(),n!==null&&(Zi(n,1,e),Pt(n,e));break}}n=n.return}}function Mv(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),n=_t(),e.pingedLanes|=e.suspendedLanes&i,st===e&&(dt&i)===i&&(nt===4||nt===3&&(dt&130023424)===dt&&500>Xe()-Hu?Ur(e,0):Bu|=i),Pt(e,n)}function op(e,n){n===0&&((e.mode&1)===0?n=1:(n=ds,ds<<=1,(ds&130023424)===0&&(ds=4194304)));var i=_t();e=Dn(e,n),e!==null&&(Zi(e,n,i),Pt(e,i))}function Fv(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),op(e,i)}function Lv(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(n),op(e,i)}var sp;sp=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||wt.current)Rt=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return Rt=!1,Tv(e,n,i);Rt=(e.flags&131072)!==0}else Rt=!1,We&&(n.flags&1048576)!==0&&xf(n,Us,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Xs(e,n),e=n.pendingProps;var d=ai(n,gt.current);pi(n,i),d=gu(null,n,l,e,d,i);var f=mu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ct(l)?(f=!0,Os(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,au(n),d.updater=Vs,n.stateNode=d,d._reactInternals=n,_u(n,l,e,i),n=Cu(null,n,l,!0,f,i)):(n.tag=0,We&&f&&qa(n),It(null,n,d,i),n=n.child),n;case 16:l=n.elementType;e:{switch(Xs(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=Hv(l),e=ln(l,e),d){case 0:n=wu(null,n,l,e,i);break e;case 1:n=Dh(null,n,l,e,i);break e;case 11:n=Rh(null,n,l,e,i);break e;case 14:n=Nh(null,n,l,ln(l.type,e),i);break e}throw Error(o(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:ln(l,d),wu(e,n,l,d,i);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:ln(l,d),Dh(e,n,l,d,i);case 3:e:{if(Uh(n),e===null)throw Error(o(387));l=n.pendingProps,f=n.memoizedState,d=f.element,Xf(e,n),xs(n,l,null,i);var g=n.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=mi(Error(o(423)),n),n=Mh(e,n,l,i,d);break e}else if(l!==d){d=mi(Error(o(424)),n),n=Mh(e,n,l,i,d);break e}else for(Lt=Zn(n.stateNode.containerInfo.firstChild),Ft=n,We=!0,sn=null,i=Vf(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(di(),l===d){n=Mn(e,n,i);break e}It(e,n,l,i)}n=n.child}return n;case 5:return Zf(n),e===null&&tu(n),l=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,Va(l,d)?g=null:f!==null&&Va(l,f)&&(n.flags|=32),kh(e,n),It(e,n,g,i),n.child;case 6:return e===null&&tu(n),null;case 13:return Fh(e,n,i);case 4:return uu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=fi(n,null,l,i):It(e,n,l,i),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:ln(l,d),Rh(e,n,l,d,i);case 7:return It(e,n,n.pendingProps,i),n.child;case 8:return It(e,n,n.pendingProps.children,i),n.child;case 12:return It(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,f=n.memoizedProps,g=d.value,He(Ls,l._currentValue),l._currentValue=g,f!==null)if(on(f.value,g)){if(f.children===d.children&&!wt.current){n=Mn(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var S=f.dependencies;if(S!==null){g=f.child;for(var A=S.firstContext;A!==null;){if(A.context===l){if(f.tag===1){A=Un(-1,i&-i),A.tag=2;var O=f.updateQueue;if(O!==null){O=O.shared;var F=O.pending;F===null?A.next=A:(A.next=F.next,F.next=A),O.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),su(f.return,i,n),S.lanes|=i;break}A=A.next}}else if(f.tag===10)g=f.type===n.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(o(341));g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),su(g,i,n),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===n){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}It(e,n,d.children,i),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,pi(n,i),d=Yt(d),l=l(d),n.flags|=1,It(e,n,l,i),n.child;case 14:return l=n.type,d=ln(l,n.pendingProps),d=ln(l.type,d),Nh(e,n,l,d,i);case 15:return Ph(e,n,n.type,n.pendingProps,i);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:ln(l,d),Xs(e,n),n.tag=1,Ct(l)?(e=!0,Os(n)):e=!1,pi(n,i),Ah(n,l,d),_u(n,l,d,i),Cu(null,n,l,!0,e,i);case 19:return Bh(e,n,i);case 22:return Oh(e,n,i)}throw Error(o(156,n.tag))};function lp(e,n){return xd(e,n)}function Bv(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,i,l){return new Bv(e,n,i,l)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hv(e){if(typeof e=="function")return Vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===Ne)return 14}return 2}function ar(e,n){var i=e.alternate;return i===null?(i=Xt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ol(e,n,i,l,d,f){var g=2;if(l=e,typeof e=="function")Vu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case j:return Fr(i.children,d,f,n);case pe:g=8,d|=8;break;case Re:return e=Xt(12,i,n,d|2),e.elementType=Re,e.lanes=f,e;case Le:return e=Xt(13,i,n,d),e.elementType=Le,e.lanes=f,e;case ye:return e=Xt(19,i,n,d),e.elementType=ye,e.lanes=f,e;case ie:return sl(i,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ue:g=10;break e;case Ve:g=9;break e;case Be:g=11;break e;case Ne:g=14;break e;case ge:g=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=Xt(g,i,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function Fr(e,n,i,l){return e=Xt(7,e,l,n),e.lanes=i,e}function sl(e,n,i,l){return e=Xt(22,e,l,n),e.elementType=ie,e.lanes=i,e.stateNode={isHidden:!1},e}function Ku(e,n,i){return e=Xt(6,e,null,n),e.lanes=i,e}function Xu(e,n,i){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function xv(e,n,i,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ia(0),this.expirationTimes=Ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bu(e,n,i,l,d,f,g,S,A){return e=new xv(e,n,i,S,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Xt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(f),e}function Gv(e,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:l==null?null:""+l,children:e,containerInfo:n,implementation:i}}function ap(e){if(!e)return Jn;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ct(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(Ct(i))return Lf(e,i,n)}return n}function up(e,n,i,l,d,f,g,S,A){return e=bu(i,l,!0,e,d,f,g,S,A),e.context=ap(null),i=e.current,l=_t(),d=sr(i),f=Un(l,d),f.callback=n??null,nr(i,f,d),e.current.lanes=d,Zi(e,d,l),Pt(e,l),e}function ll(e,n,i,l){var d=n.current,f=_t(),g=sr(d);return i=ap(i),n.context===null?n.context=i:n.pendingContext=i,n=Un(f,g),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=nr(d,n,g),e!==null&&(cn(e,d,g,f),Hs(e,d,g)),g}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Qu(e,n){cp(e,n),(e=e.alternate)&&cp(e,n)}function zv(){return null}var dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}ul.prototype.render=Zu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));ll(e,n,null,null)},ul.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dr(function(){ll(null,e,null,null)}),n[Nn]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var n=Kd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xn.length&&n!==0&&n<Xn[i].priority;i++);Xn.splice(i,0,e),i===0&&Qd(e)}};function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fp(){}function Wv(e,n,i,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var O=al(g);f.call(O)}}var g=up(n,l,e,0,null,!1,!1,"",fp);return e._reactRootContainer=g,e[Nn]=g.current,fo(e.nodeType===8?e.parentNode:e),Dr(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var S=l;l=function(){var O=al(A);S.call(O)}}var A=bu(e,0,!1,null,null,!1,!1,"",fp);return e._reactRootContainer=A,e[Nn]=A.current,fo(e.nodeType===8?e.parentNode:e),Dr(function(){ll(n,A,i,l)}),A}function dl(e,n,i,l,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var S=d;d=function(){var A=al(g);S.call(A)}}ll(n,g,e,d)}else g=Wv(i,n,e,d,l);return al(g)}Yd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Qi(n.pendingLanes);i!==0&&(_a(n,i|1),Pt(n,Xe()),(Ce&6)===0&&(Si=Xe()+500,er()))}break;case 13:Dr(function(){var l=Dn(e,1);if(l!==null){var d=_t();cn(l,e,1,d)}}),Qu(e,1)}},Ta=function(e){if(e.tag===13){var n=Dn(e,134217728);if(n!==null){var i=_t();cn(n,e,134217728,i)}Qu(e,134217728)}},Vd=function(e){if(e.tag===13){var n=sr(e),i=Dn(e,n);if(i!==null){var l=_t();cn(i,e,n,l)}Qu(e,n)}},Kd=function(){return Me},Xd=function(e,n){var i=Me;try{return Me=e,n()}finally{Me=i}},ga=function(e,n,i){switch(n){case"input":if(Rn(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=Ns(l);if(!d)throw Error(o(90));ue(l),Rn(l,d)}}}break;case"textarea":Td(e,i);break;case"select":n=i.value,n!=null&&jn(e,!!i.multiple,n,!1)}},Dd=$u,Ud=Dr;var $v={usingClientEntryPoint:!1,Events:[go,si,Ns,Od,kd,$u]},Po={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jv={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bd(e),e===null?null:e.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||zv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{us=fl.inject(jv),pn=fl}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$v,Ot.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(n))throw Error(o(200));return Gv(e,n,null,i)},Ot.createRoot=function(e,n){if(!qu(e))throw Error(o(299));var i=!1,l="",d=dp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=bu(e,1,!1,null,null,i,!1,l,d),e[Nn]=n.current,fo(e.nodeType===8?e.parentNode:e),new Zu(n)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Bd(n),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return Dr(e)},Ot.hydrate=function(e,n,i){if(!cl(n))throw Error(o(200));return dl(null,e,n,!0,i)},Ot.hydrateRoot=function(e,n,i){if(!qu(e))throw Error(o(405));var l=i!=null&&i.hydratedSources||null,d=!1,f="",g=dp;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),n=up(n,null,e,1,i??null,d,!1,f,g),e[Nn]=n.current,fo(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new ul(n)},Ot.render=function(e,n,i){if(!cl(n))throw Error(o(200));return dl(null,e,n,!1,i)},Ot.unmountComponentAtNode=function(e){if(!cl(e))throw Error(o(40));return e._reactRootContainer?(Dr(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1},Ot.unstable_batchedUpdates=$u,Ot.unstable_renderSubtreeIntoContainer=function(e,n,i,l){if(!cl(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return dl(e,n,i,!1,l)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Ap;function ey(){if(Ap)return tc.exports;Ap=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),tc.exports=Jv(),tc.exports}var Ip;function ty(){if(Ip)return hl;Ip=1;var t=ey();return hl.createRoot=t.createRoot,hl.hydrateRoot=t.hydrateRoot,hl}var ny=ty();const ry=Dg(ny),Ug=Ae.createContext(void 0),iy=({initialAppState:t,children:r})=>{const[o,s]=Ae.useState(t),[u,a]=Ae.useState(void 0),c=(h,p)=>{s(h),h==="gameOver"&&p?a(p):h!=="gameOver"&&a(void 0)};return Ee.jsx(Ug.Provider,{value:{appState:o,setAppState:c,gameOverDetails:u},children:r})},bl=()=>{const t=Ae.useContext(Ug);if(t===void 0)throw new Error("useGameContext must be used within a GameProvider");return t};var At=function(){return At=Object.assign||function(r){for(var o,s=1,u=arguments.length;s<u;s++){o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},At.apply(this,arguments)};function Yo(t,r,o){if(o||arguments.length===2)for(var s=0,u=r.length,a;s<u;s++)(a||!(s in r))&&(a||(a=Array.prototype.slice.call(r,0,s)),a[s]=r[s]);return t.concat(a||Array.prototype.slice.call(r))}var ze="-ms-",Go="-moz-",De="-webkit-",Mg="comm",Ql="rule",Vc="decl",oy="@import",Fg="@keyframes",sy="@layer",Lg=Math.abs,Kc=String.fromCharCode,Nc=Object.assign;function ly(t,r){return at(t,0)^45?(((r<<2^at(t,0))<<2^at(t,1))<<2^at(t,2))<<2^at(t,3):0}function Bg(t){return t.trim()}function xn(t,r){return(t=r.exec(t))?t[0]:t}function ve(t,r,o){return t.replace(r,o)}function Ul(t,r,o){return t.indexOf(r,o)}function at(t,r){return t.charCodeAt(r)|0}function Ui(t,r,o){return t.slice(r,o)}function _n(t){return t.length}function Hg(t){return t.length}function Bo(t,r){return r.push(t),t}function ay(t,r){return t.map(r).join("")}function _p(t,r){return t.filter(function(o){return!xn(o,r)})}var Zl=1,Mi=1,xg=0,tn=0,Je=0,$i="";function ql(t,r,o,s,u,a,c,h){return{value:t,root:r,parent:o,type:s,props:u,children:a,line:Zl,column:Mi,length:c,return:"",siblings:h}}function hr(t,r){return Nc(ql("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function Ii(t){for(;t.root;)t=hr(t.root,{children:[t]});Bo(t,t.siblings)}function uy(){return Je}function cy(){return Je=tn>0?at($i,--tn):0,Mi--,Je===10&&(Mi=1,Zl--),Je}function fn(){return Je=tn<xg?at($i,tn++):0,Mi++,Je===10&&(Mi=1,Zl++),Je}function Yr(){return at($i,tn)}function Ml(){return tn}function Jl(t,r){return Ui($i,t,r)}function Pc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dy(t){return Zl=Mi=1,xg=_n($i=t),tn=0,[]}function fy(t){return $i="",t}function ic(t){return Bg(Jl(tn-1,Oc(t===91?t+2:t===40?t+1:t)))}function hy(t){for(;(Je=Yr())&&Je<33;)fn();return Pc(t)>2||Pc(Je)>3?"":" "}function py(t,r){for(;--r&&fn()&&!(Je<48||Je>102||Je>57&&Je<65||Je>70&&Je<97););return Jl(t,Ml()+(r<6&&Yr()==32&&fn()==32))}function Oc(t){for(;fn();)switch(Je){case t:return tn;case 34:case 39:t!==34&&t!==39&&Oc(Je);break;case 40:t===41&&Oc(t);break;case 92:fn();break}return tn}function gy(t,r){for(;fn()&&t+Je!==57;)if(t+Je===84&&Yr()===47)break;return"/*"+Jl(r,tn-1)+"*"+Kc(t===47?t:fn())}function my(t){for(;!Pc(Yr());)fn();return Jl(t,tn)}function vy(t){return fy(Fl("",null,null,null,[""],t=dy(t),0,[0],t))}function Fl(t,r,o,s,u,a,c,h,p){for(var v=0,m=0,y=c,I=0,E=0,k=0,P=1,C=1,x=1,B=0,H="",$=u,le=a,M=s,j=H;C;)switch(k=B,B=fn()){case 40:if(k!=108&&at(j,y-1)==58){Ul(j+=ve(ic(B),"&","&\f"),"&\f",Lg(v?h[v-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:j+=ic(B);break;case 9:case 10:case 13:case 32:j+=hy(k);break;case 92:j+=py(Ml()-1,7);continue;case 47:switch(Yr()){case 42:case 47:Bo(yy(gy(fn(),Ml()),r,o,p),p);break;default:j+="/"}break;case 123*P:h[v++]=_n(j)*x;case 125*P:case 59:case 0:switch(B){case 0:case 125:C=0;case 59+m:x==-1&&(j=ve(j,/\f/g,"")),E>0&&_n(j)-y&&Bo(E>32?Ep(j+";",s,o,y-1,p):Ep(ve(j," ","")+";",s,o,y-2,p),p);break;case 59:j+=";";default:if(Bo(M=Tp(j,r,o,v,m,u,h,H,$=[],le=[],y,a),a),B===123)if(m===0)Fl(j,r,M,M,$,a,y,h,le);else switch(I===99&&at(j,3)===110?100:I){case 100:case 108:case 109:case 115:Fl(t,M,M,s&&Bo(Tp(t,M,M,0,0,u,h,H,u,$=[],y,le),le),u,le,y,h,s?$:le);break;default:Fl(j,M,M,M,[""],le,0,h,le)}}v=m=E=0,P=x=1,H=j="",y=c;break;case 58:y=1+_n(j),E=k;default:if(P<1){if(B==123)--P;else if(B==125&&P++==0&&cy()==125)continue}switch(j+=Kc(B),B*P){case 38:x=m>0?1:(j+="\f",-1);break;case 44:h[v++]=(_n(j)-1)*x,x=1;break;case 64:Yr()===45&&(j+=ic(fn())),I=Yr(),m=y=_n(H=j+=my(Ml())),B++;break;case 45:k===45&&_n(j)==2&&(P=0)}}return a}function Tp(t,r,o,s,u,a,c,h,p,v,m,y){for(var I=u-1,E=u===0?a:[""],k=Hg(E),P=0,C=0,x=0;P<s;++P)for(var B=0,H=Ui(t,I+1,I=Lg(C=c[P])),$=t;B<k;++B)($=Bg(C>0?E[B]+" "+H:ve(H,/&\f/g,E[B])))&&(p[x++]=$);return ql(t,r,o,u===0?Ql:h,p,v,m,y)}function yy(t,r,o,s){return ql(t,r,o,Mg,Kc(uy()),Ui(t,2,-2),0,s)}function Ep(t,r,o,s,u){return ql(t,r,o,Vc,Ui(t,0,s),Ui(t,s+1,-1),s,u)}function Gg(t,r,o){switch(ly(t,r)){case 5103:return De+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return De+t+t;case 4789:return Go+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return De+t+Go+t+ze+t+t;case 5936:switch(at(t,r+11)){case 114:return De+t+ze+ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return De+t+ze+ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return De+t+ze+ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return De+t+ze+t+t;case 6165:return De+t+ze+"flex-"+t+t;case 5187:return De+t+ve(t,/(\w+).+(:[^]+)/,De+"box-$1$2"+ze+"flex-$1$2")+t;case 5443:return De+t+ze+"flex-item-"+ve(t,/flex-|-self/g,"")+(xn(t,/flex-|baseline/)?"":ze+"grid-row-"+ve(t,/flex-|-self/g,""))+t;case 4675:return De+t+ze+"flex-line-pack"+ve(t,/align-content|flex-|-self/g,"")+t;case 5548:return De+t+ze+ve(t,"shrink","negative")+t;case 5292:return De+t+ze+ve(t,"basis","preferred-size")+t;case 6060:return De+"box-"+ve(t,"-grow","")+De+t+ze+ve(t,"grow","positive")+t;case 4554:return De+ve(t,/([^-])(transform)/g,"$1"+De+"$2")+t;case 6187:return ve(ve(ve(t,/(zoom-|grab)/,De+"$1"),/(image-set)/,De+"$1"),t,"")+t;case 5495:case 3959:return ve(t,/(image-set\([^]*)/,De+"$1$`$1");case 4968:return ve(ve(t,/(.+:)(flex-)?(.*)/,De+"box-pack:$3"+ze+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+De+t+t;case 4200:if(!xn(t,/flex-|baseline/))return ze+"grid-column-align"+Ui(t,r)+t;break;case 2592:case 3360:return ze+ve(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(s,u){return r=u,xn(s.props,/grid-\w+-end/)})?~Ul(t+(o=o[r].value),"span",0)?t:ze+ve(t,"-start","")+t+ze+"grid-row-span:"+(~Ul(o,"span",0)?xn(o,/\d+/):+xn(o,/\d+/)-+xn(t,/\d+/))+";":ze+ve(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(s){return xn(s.props,/grid-\w+-start/)})?t:ze+ve(ve(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ve(t,/(.+)-inline(.+)/,De+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_n(t)-1-r>6)switch(at(t,r+1)){case 109:if(at(t,r+4)!==45)break;case 102:return ve(t,/(.+:)(.+)-([^]+)/,"$1"+De+"$2-$3$1"+Go+(at(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Ul(t,"stretch",0)?Gg(ve(t,"stretch","fill-available"),r,o)+t:t}break;case 5152:case 5920:return ve(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,u,a,c,h,p,v){return ze+u+":"+a+v+(c?ze+u+"-span:"+(h?p:+p-+a)+v:"")+t});case 4949:if(at(t,r+6)===121)return ve(t,":",":"+De)+t;break;case 6444:switch(at(t,at(t,14)===45?18:11)){case 120:return ve(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+De+(at(t,14)===45?"inline-":"")+"box$3$1"+De+"$2$3$1"+ze+"$2box$3")+t;case 100:return ve(t,":",":"+ze)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ve(t,"scroll-","scroll-snap-")+t}return t}function Gl(t,r){for(var o="",s=0;s<t.length;s++)o+=r(t[s],s,t,r)||"";return o}function Sy(t,r,o,s){switch(t.type){case sy:if(t.children.length)break;case oy:case Vc:return t.return=t.return||t.value;case Mg:return"";case Fg:return t.return=t.value+"{"+Gl(t.children,s)+"}";case Ql:if(!_n(t.value=t.props.join(",")))return""}return _n(o=Gl(t.children,s))?t.return=t.value+"{"+o+"}":""}function Ay(t){var r=Hg(t);return function(o,s,u,a){for(var c="",h=0;h<r;h++)c+=t[h](o,s,u,a)||"";return c}}function Iy(t){return function(r){r.root||(r=r.return)&&t(r)}}function _y(t,r,o,s){if(t.length>-1&&!t.return)switch(t.type){case Vc:t.return=Gg(t.value,t.length,o);return;case Fg:return Gl([hr(t,{value:ve(t.value,"@","@"+De)})],s);case Ql:if(t.length)return ay(o=t.props,function(u){switch(xn(u,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ii(hr(t,{props:[ve(u,/:(read-\w+)/,":"+Go+"$1")]})),Ii(hr(t,{props:[u]})),Nc(t,{props:_p(o,s)});break;case"::placeholder":Ii(hr(t,{props:[ve(u,/:(plac\w+)/,":"+De+"input-$1")]})),Ii(hr(t,{props:[ve(u,/:(plac\w+)/,":"+Go+"$1")]})),Ii(hr(t,{props:[ve(u,/:(plac\w+)/,ze+"input-$1")]})),Ii(hr(t,{props:[u]})),Nc(t,{props:_p(o,s)});break}return""})}}var Ty={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xt={},Fi=typeof process<"u"&&xt!==void 0&&(xt.REACT_APP_SC_ATTR||xt.SC_ATTR)||"data-styled",zg="active",Wg="data-styled-version",ea="6.1.13",Xc=`/*!sc*/
`,zl=typeof window<"u"&&"HTMLElement"in window,Ey=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xt!==void 0&&xt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xt.REACT_APP_SC_DISABLE_SPEEDY!==""?xt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xt!==void 0&&xt.SC_DISABLE_SPEEDY!==void 0&&xt.SC_DISABLE_SPEEDY!==""&&xt.SC_DISABLE_SPEEDY!=="false"&&xt.SC_DISABLE_SPEEDY),wy={},ta=Object.freeze([]),Li=Object.freeze({});function $g(t,r,o){return o===void 0&&(o=Li),t.theme!==o.theme&&t.theme||r||o.theme}var jg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Cy=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ry=/(^-|-$)/g;function wp(t){return t.replace(Cy,"-").replace(Ry,"")}var Ny=/(a)(d)/gi,pl=52,Cp=function(t){return String.fromCharCode(t+(t>25?39:97))};function kc(t){var r,o="";for(r=Math.abs(t);r>pl;r=r/pl|0)o=Cp(r%pl)+o;return(Cp(r%pl)+o).replace(Ny,"$1-$2")}var oc,Yg=5381,Ni=function(t,r){for(var o=r.length;o;)t=33*t^r.charCodeAt(--o);return t},Vg=function(t){return Ni(Yg,t)};function Kg(t){return kc(Vg(t)>>>0)}function Py(t){return t.displayName||t.name||"Component"}function sc(t){return typeof t=="string"&&!0}var Xg=typeof Symbol=="function"&&Symbol.for,bg=Xg?Symbol.for("react.memo"):60115,Oy=Xg?Symbol.for("react.forward_ref"):60112,ky={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Dy={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Uy=((oc={})[Oy]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oc[bg]=Qg,oc);function Rp(t){return("type"in(r=t)&&r.type.$$typeof)===bg?Qg:"$$typeof"in t?Uy[t.$$typeof]:ky;var r}var My=Object.defineProperty,Fy=Object.getOwnPropertyNames,Np=Object.getOwnPropertySymbols,Ly=Object.getOwnPropertyDescriptor,By=Object.getPrototypeOf,Pp=Object.prototype;function Zg(t,r,o){if(typeof r!="string"){if(Pp){var s=By(r);s&&s!==Pp&&Zg(t,s,o)}var u=Fy(r);Np&&(u=u.concat(Np(r)));for(var a=Rp(t),c=Rp(r),h=0;h<u.length;++h){var p=u[h];if(!(p in Dy||o&&o[p]||c&&p in c||a&&p in a)){var v=Ly(r,p);try{My(t,p,v)}catch{}}}}return t}function Bi(t){return typeof t=="function"}function bc(t){return typeof t=="object"&&"styledComponentId"in t}function Wr(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Dc(t,r){if(t.length===0)return"";for(var o=t[0],s=1;s<t.length;s++)o+=t[s];return o}function Vo(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Uc(t,r,o){if(o===void 0&&(o=!1),!o&&!Vo(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var s=0;s<r.length;s++)t[s]=Uc(t[s],r[s]);else if(Vo(r))for(var s in r)t[s]=Uc(t[s],r[s]);return t}function Qc(t,r){Object.defineProperty(t,"toString",{value:r})}function is(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Hy=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var o=0,s=0;s<r;s++)o+=this.groupSizes[s];return o},t.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var s=this.groupSizes,u=s.length,a=u;r>=a;)if((a<<=1)<0)throw is(16,"".concat(r));this.groupSizes=new Uint32Array(a),this.groupSizes.set(s),this.length=a;for(var c=u;c<a;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(r+1),p=(c=0,o.length);c<p;c++)this.tag.insertRule(h,o[c])&&(this.groupSizes[r]++,h++)},t.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],s=this.indexOfGroup(r),u=s+o;this.groupSizes[r]=0;for(var a=s;a<u;a++)this.tag.deleteRule(s)}},t.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var s=this.groupSizes[r],u=this.indexOfGroup(r),a=u+s,c=u;c<a;c++)o+="".concat(this.tag.getRule(c)).concat(Xc);return o},t}(),Ll=new Map,Wl=new Map,Bl=1,gl=function(t){if(Ll.has(t))return Ll.get(t);for(;Wl.has(Bl);)Bl++;var r=Bl++;return Ll.set(t,r),Wl.set(r,t),r},xy=function(t,r){Bl=r+1,Ll.set(t,r),Wl.set(r,t)},Gy="style[".concat(Fi,"][").concat(Wg,'="').concat(ea,'"]'),zy=new RegExp("^".concat(Fi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Wy=function(t,r,o){for(var s,u=o.split(","),a=0,c=u.length;a<c;a++)(s=u[a])&&t.registerName(r,s)},$y=function(t,r){for(var o,s=((o=r.textContent)!==null&&o!==void 0?o:"").split(Xc),u=[],a=0,c=s.length;a<c;a++){var h=s[a].trim();if(h){var p=h.match(zy);if(p){var v=0|parseInt(p[1],10),m=p[2];v!==0&&(xy(m,v),Wy(t,m,p[3]),t.getTag().insertRules(v,u)),u.length=0}else u.push(h)}}},Op=function(t){for(var r=document.querySelectorAll(Gy),o=0,s=r.length;o<s;o++){var u=r[o];u&&u.getAttribute(Fi)!==zg&&($y(t,u),u.parentNode&&u.parentNode.removeChild(u))}};function jy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var qg=function(t){var r=document.head,o=t||r,s=document.createElement("style"),u=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Fi,"]")));return p[p.length-1]}(o),a=u!==void 0?u.nextSibling:null;s.setAttribute(Fi,zg),s.setAttribute(Wg,ea);var c=jy();return c&&s.setAttribute("nonce",c),o.insertBefore(s,a),s},Yy=function(){function t(r){this.element=qg(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,u=0,a=s.length;u<a;u++){var c=s[u];if(c.ownerNode===o)return c}throw is(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},t}(),Vy=function(){function t(r){this.element=qg(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),Ky=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),kp=zl,Xy={isServer:!zl,useCSSOMInjection:!Ey},$l=function(){function t(r,o,s){r===void 0&&(r=Li),o===void 0&&(o={});var u=this;this.options=At(At({},Xy),r),this.gs=o,this.names=new Map(s),this.server=!!r.isServer,!this.server&&zl&&kp&&(kp=!1,Op(this)),Qc(this,function(){return function(a){for(var c=a.getTag(),h=c.length,p="",v=function(y){var I=function(x){return Wl.get(x)}(y);if(I===void 0)return"continue";var E=a.names.get(I),k=c.getGroup(y);if(E===void 0||!E.size||k.length===0)return"continue";var P="".concat(Fi,".g").concat(y,'[id="').concat(I,'"]'),C="";E!==void 0&&E.forEach(function(x){x.length>0&&(C+="".concat(x,","))}),p+="".concat(k).concat(P,'{content:"').concat(C,'"}').concat(Xc)},m=0;m<h;m++)v(m);return p}(u)})}return t.registerId=function(r){return gl(r)},t.prototype.rehydrate=function(){!this.server&&zl&&Op(this)},t.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new t(At(At({},this.options),r),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var s=o.useCSSOMInjection,u=o.target;return o.isServer?new Ky(u):s?new Yy(u):new Vy(u)}(this.options),new Hy(r)));var r},t.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},t.prototype.registerName=function(r,o){if(gl(r),this.names.has(r))this.names.get(r).add(o);else{var s=new Set;s.add(o),this.names.set(r,s)}},t.prototype.insertRules=function(r,o,s){this.registerName(r,o),this.getTag().insertRules(gl(r),s)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(gl(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),by=/&/g,Qy=/^\s*\/\/.*$/gm;function Jg(t,r){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(s){return"".concat(r," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Jg(o.children,r)),o})}function Zy(t){var r,o,s,u=Li,a=u.options,c=a===void 0?Li:a,h=u.plugins,p=h===void 0?ta:h,v=function(I,E,k){return k.startsWith(o)&&k.endsWith(o)&&k.replaceAll(o,"").length>0?".".concat(r):I},m=p.slice();m.push(function(I){I.type===Ql&&I.value.includes("&")&&(I.props[0]=I.props[0].replace(by,o).replace(s,v))}),c.prefix&&m.push(_y),m.push(Sy);var y=function(I,E,k,P){E===void 0&&(E=""),k===void 0&&(k=""),P===void 0&&(P="&"),r=P,o=E,s=new RegExp("\\".concat(o,"\\b"),"g");var C=I.replace(Qy,""),x=vy(k||E?"".concat(k," ").concat(E," { ").concat(C," }"):C);c.namespace&&(x=Jg(x,c.namespace));var B=[];return Gl(x,Ay(m.concat(Iy(function(H){return B.push(H)})))),B};return y.hash=p.length?p.reduce(function(I,E){return E.name||is(15),Ni(I,E.name)},Yg).toString():"",y}var qy=new $l,Mc=Zy(),em=Tn.createContext({shouldForwardProp:void 0,styleSheet:qy,stylis:Mc});em.Consumer;Tn.createContext(void 0);function Fc(){return Ae.useContext(em)}var Jy=function(){function t(r,o){var s=this;this.inject=function(u,a){a===void 0&&(a=Mc);var c=s.name+a.hash;u.hasNameForId(s.id,c)||u.insertRules(s.id,c,a(s.rules,c,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Qc(this,function(){throw is(12,String(s.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=Mc),this.name+r.hash},t}(),eS=function(t){return t>="A"&&t<="Z"};function Dp(t){for(var r="",o=0;o<t.length;o++){var s=t[o];if(o===1&&s==="-"&&t[0]==="-")return t;eS(s)?r+="-"+s.toLowerCase():r+=s}return r.startsWith("ms-")?"-"+r:r}var tm=function(t){return t==null||t===!1||t===""},nm=function(t){var r,o,s=[];for(var u in t){var a=t[u];t.hasOwnProperty(u)&&!tm(a)&&(Array.isArray(a)&&a.isCss||Bi(a)?s.push("".concat(Dp(u),":"),a,";"):Vo(a)?s.push.apply(s,Yo(Yo(["".concat(u," {")],nm(a),!1),["}"],!1)):s.push("".concat(Dp(u),": ").concat((r=u,(o=a)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in Ty||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function mr(t,r,o,s){if(tm(t))return[];if(bc(t))return[".".concat(t.styledComponentId)];if(Bi(t)){if(!Bi(a=t)||a.prototype&&a.prototype.isReactComponent||!r)return[t];var u=t(r);return mr(u,r,o,s)}var a;return t instanceof Jy?o?(t.inject(o,s),[t.getName(s)]):[t]:Vo(t)?nm(t):Array.isArray(t)?Array.prototype.concat.apply(ta,t.map(function(c){return mr(c,r,o,s)})):[t.toString()]}function rm(t){for(var r=0;r<t.length;r+=1){var o=t[r];if(Bi(o)&&!bc(o))return!1}return!0}var tS=Vg(ea),nS=function(){function t(r,o,s){this.rules=r,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&rm(r),this.componentId=o,this.baseHash=Ni(tS,o),this.baseStyle=s,$l.registerId(o)}return t.prototype.generateAndInjectStyles=function(r,o,s){var u=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))u=Wr(u,this.staticRulesId);else{var a=Dc(mr(this.rules,r,o,s)),c=kc(Ni(this.baseHash,a)>>>0);if(!o.hasNameForId(this.componentId,c)){var h=s(a,".".concat(c),void 0,this.componentId);o.insertRules(this.componentId,c,h)}u=Wr(u,c),this.staticRulesId=c}else{for(var p=Ni(this.baseHash,s.hash),v="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")v+=y;else if(y){var I=Dc(mr(y,r,o,s));p=Ni(p,I+m),v+=I}}if(v){var E=kc(p>>>0);o.hasNameForId(this.componentId,E)||o.insertRules(this.componentId,E,s(v,".".concat(E),void 0,this.componentId)),u=Wr(u,E)}}return u},t}(),Zc=Tn.createContext(void 0);Zc.Consumer;var lc={};function rS(t,r,o){var s=bc(t),u=t,a=!sc(t),c=r.attrs,h=c===void 0?ta:c,p=r.componentId,v=p===void 0?function($,le){var M=typeof $!="string"?"sc":wp($);lc[M]=(lc[M]||0)+1;var j="".concat(M,"-").concat(Kg(ea+M+lc[M]));return le?"".concat(le,"-").concat(j):j}(r.displayName,r.parentComponentId):p,m=r.displayName,y=m===void 0?function($){return sc($)?"styled.".concat($):"Styled(".concat(Py($),")")}(t):m,I=r.displayName&&r.componentId?"".concat(wp(r.displayName),"-").concat(r.componentId):r.componentId||v,E=s&&u.attrs?u.attrs.concat(h).filter(Boolean):h,k=r.shouldForwardProp;if(s&&u.shouldForwardProp){var P=u.shouldForwardProp;if(r.shouldForwardProp){var C=r.shouldForwardProp;k=function($,le){return P($,le)&&C($,le)}}else k=P}var x=new nS(o,I,s?u.componentStyle:void 0);function B($,le){return function(M,j,pe){var Re=M.attrs,Ue=M.componentStyle,Ve=M.defaultProps,Be=M.foldedComponentIds,Le=M.styledComponentId,ye=M.target,Ne=Tn.useContext(Zc),ge=Fc(),ie=M.shouldForwardProp||ge.shouldForwardProp,z=$g(j,Ne,Ve)||Li,V=function(Se,oe,me){for(var ce,X=At(At({},oe),{className:void 0,theme:me}),ne=0;ne<Se.length;ne+=1){var Oe=Bi(ce=Se[ne])?ce(X):ce;for(var ue in Oe)X[ue]=ue==="className"?Wr(X[ue],Oe[ue]):ue==="style"?At(At({},X[ue]),Oe[ue]):Oe[ue]}return oe.className&&(X.className=Wr(X.className,oe.className)),X}(Re,j,z),W=V.as||ye,T={};for(var D in V)V[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&V.theme===z||(D==="forwardedAs"?T.as=V.forwardedAs:ie&&!ie(D,W)||(T[D]=V[D]));var te=function(Se,oe){var me=Fc(),ce=Se.generateAndInjectStyles(oe,me.styleSheet,me.stylis);return ce}(Ue,V),q=Wr(Be,Le);return te&&(q+=" "+te),V.className&&(q+=" "+V.className),T[sc(W)&&!jg.has(W)?"class":"className"]=q,T.ref=pe,Ae.createElement(W,T)}(H,$,le)}B.displayName=y;var H=Tn.forwardRef(B);return H.attrs=E,H.componentStyle=x,H.displayName=y,H.shouldForwardProp=k,H.foldedComponentIds=s?Wr(u.foldedComponentIds,u.styledComponentId):"",H.styledComponentId=I,H.target=s?u.target:t,Object.defineProperty(H,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=s?function(le){for(var M=[],j=1;j<arguments.length;j++)M[j-1]=arguments[j];for(var pe=0,Re=M;pe<Re.length;pe++)Uc(le,Re[pe],!0);return le}({},u.defaultProps,$):$}}),Qc(H,function(){return".".concat(H.styledComponentId)}),a&&Zg(H,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),H}function Up(t,r){for(var o=[t[0]],s=0,u=r.length;s<u;s+=1)o.push(r[s],t[s+1]);return o}var Mp=function(t){return Object.assign(t,{isCss:!0})};function im(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(Bi(t)||Vo(t))return Mp(mr(Up(ta,Yo([t],r,!0))));var s=t;return r.length===0&&s.length===1&&typeof s[0]=="string"?mr(s):Mp(mr(Up(s,r)))}function Lc(t,r,o){if(o===void 0&&(o=Li),!r)throw is(1,r);var s=function(u){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];return t(r,o,im.apply(void 0,Yo([u],a,!1)))};return s.attrs=function(u){return Lc(t,r,At(At({},o),{attrs:Array.prototype.concat(o.attrs,u).filter(Boolean)}))},s.withConfig=function(u){return Lc(t,r,At(At({},o),u))},s}var om=function(t){return Lc(rS,t)},wn=om;jg.forEach(function(t){wn[t]=om(t)});var iS=function(){function t(r,o){this.rules=r,this.componentId=o,this.isStatic=rm(r),$l.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,o,s,u){var a=u(Dc(mr(this.rules,o,s,u)),""),c=this.componentId+r;s.insertRules(c,c,a)},t.prototype.removeStyles=function(r,o){o.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,o,s,u){r>2&&$l.registerId(this.componentId+r),this.removeStyles(r,s),this.createStyles(r,o,s,u)},t}();function oS(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s=im.apply(void 0,Yo([t],r,!1)),u="sc-global-".concat(Kg(JSON.stringify(s))),a=new iS(s,u),c=function(p){var v=Fc(),m=Tn.useContext(Zc),y=Tn.useRef(v.styleSheet.allocateGSInstance(u)).current;return v.styleSheet.server&&h(y,p,v.styleSheet,m,v.stylis),Tn.useLayoutEffect(function(){if(!v.styleSheet.server)return h(y,p,v.styleSheet,m,v.stylis),function(){return a.removeStyles(y,v.styleSheet)}},[y,p,v.styleSheet,m,v.stylis]),null};function h(p,v,m,y,I){if(a.isStatic)a.renderStyles(p,wy,m,I);else{var E=At(At({},v),{theme:$g(v,y,c.defaultProps)});a.renderStyles(p,E,m,I)}}return Tn.memo(c)}function sm(t,r){var o=Ae.useRef(null),s=Ae.useRef(!1),u=Ae.useRef(t);u.current=t;var a=Ae.useCallback(function(h){s.current&&(u.current(h),o.current=requestAnimationFrame(a))},[]),c=Ae.useMemo(function(){return[function(){s.current&&(s.current=!1,o.current&&cancelAnimationFrame(o.current))},function(){s.current||(s.current=!0,o.current=requestAnimationFrame(a))},function(){return s.current}]},[]);return Ae.useEffect(function(){return c[0]},[]),c}function sS(t,r,o,s,u){var c;(c=t.onExit)==null||c.call(t,s,r);const a=u.find(({id:h})=>h===r);return a!=null&&a.onEnter?a.onEnter(s,o):{...o,enteredAt:s.updateContext.gameState.time}}function lS(t,r){return r.find(({id:o})=>o===t)}function aS(t,r){return t!==r}function uS(t){console.warn(`No handler found for state: ${t}`)}const zo="bushGrowing",zr="bushFull",Hl="bushSpreading",Ko="bushDying",Zt=24,qt=10,$r=3e3,jr=3e3,qc=2,cS=5,dS=3,fS=12,hS=940,pS=.7,Bc=20,Fp=90,lm=45,am=240,um=10,Xo=80,gS=3,ko=5,Gt=150,cm=Gt*.8,mS=Gt*.2,yr=Gt*.95,Sr=30,dm=10,vS=10,yS=.5,ut=30,Ar=ut*.75,fm=50,SS=20,AS=Xo*.8,IS=.7,_S=16,hm=40,TS=24,Jc=16,ES=72/3,Lp=24,wS=1.25,CS=1.5,ed=Gt*.6,td=50,RS=1,NS=350,pm=Xo*.65,PS=80,OS=50,kS=1,DS=128,gm=10,Bp=100,US=35,na=ut,mm=.5,vm=2.5,MS=5,FS=.5,LS=1.5,BS=.1,HS=.5,xS=1.5,GS=.25,zS=2.5,WS=45,$S=.05,bo=5,jS=.5,Hp=100,YS=300,ra=30,Qo=1,xp=Gt*.6,VS=Gt*.25,KS=Gt*.7,XS=Gt*.8,ym=100,bS=250,QS=120,ZS=2,qS=400,JS=1e3,eA=Gt*.85,tA=100,nA=3,rA=96,iA=24,oA=600,Sm=600,sA=1,lA=24,aA=1,uA=.5,Gp=24,Hc=12,zp=40,cA=.3,dA=24,Wp=500,fA=24,$p=24,hA=1500,ac=500,pA=400,gA=10,mA=-5,vA=1.5,yA=1.5,SA=1.2,AA=10,IA=150,_A=200,TA=100,EA=100,wA=.7,CA=300,RA=100,NA=120,jp=400,Hi=10,Am=250,Zo=12,ml=Ar*1.2,Im=10,PA=20,_m=.15,Tm=200,Jt=30,ia=Jt*.6,nd="#4CAF50",Em="#FF5722",wm="#9C27B0",OA="#2196F3",Cm="#FFC107",kA="#FFD700",Rm="#DC143C",rd="#FFFFFF",id=[5,5],oa=5,xi=15,DA=20,UA=16,MA=10,FA=16,LA=16,Yp=["👑","💀","🔥","💧","☘️","☀️","🌙","⭐","⚡","⚜️"],xc=8,BA="#FFFFFF",pr=18,kt=15,HA="rgba(0, 0, 0, 0.7)",xA=4,cr=150,Ht=15,Ln=10,Pi="#555",GA="#f44336",zA="#4CAF50",WA="#2196F3",$A="#FFC107",vl=16,jA=9,Lr=32,yl=28,YA=10,VA=8,KA=8,XA=8,bt=28,Sl=40,bA="rgba(255, 215, 0, 0.7)",QA="rgba(0, 0, 0, 0.3)",Sn=10,Vp=8,uc=11,dr=20,cc=40,Kp=5,ZA=10,qA="#FFA500",JA="#808080",Oi=120,eI=30,tI=20,Al="#2d3748",ki="#ffffff",dc="#4a5568",nI=5,Nm="#bdc9f792",rI="#272c36ff",iI="#a0aec0",Xp=300,oI="rgba(255, 255, 255, 0.5)",sI="rgba(0, 0, 0, 0.8)",lI="#FFFFFF",bp=14,Qp=8,Zp=-15,aI="#FFD700",uI=5,cI=60,dI=-50,fI=10,fc=12,qp=10,hI="rgba(0, 0, 0, 0.5)",pI="#4CAF50",gI="#F44336",mI="#FFC107",vI="rgba(255, 255, 255, 0.2)",Jp="#FFFFFF",yI="#FF6B6B",SI=5,Pm=30,Do=50,Il=8,eg=10,AI="rgba(0, 0, 0, 0.5)",II="#FFFFFF",_I=33,TI=400,EI=20,wI=10,CI="rgba(0, 0, 0, 0.7)",RI="#FFFFFF",hc=20,tg=16,NI=.5,ng=5,Om="#FFD700",PI=40,od=4,km=3,OI=5,Dm=20,Um=5,kI="#FFFFFF",DI="#FF6B6B",en=1,Ho=3,UI=70,rg=600,MI=1.5,Mm=.1,FI=15,LI=5e3,Br=80,_l=10,BI=12,HI=24,xI=Gt*.9,GI=24,Tl=300,Hr=15,zI=8,WI="rgba(0, 0, 0, 0.8)",$I="#FFFFFF",pc=14,ig=10,An=20,jI="#FF6B6B",YI="#4CAF50",og="#FFD700",VI="rgba(255, 255, 0, 0.3)",KI=2,XI=500,bI=120,QI=45,ZI="#FFD700",qI=3,JI=4;function it(t,r,o,s,u){const a={id:t.nextVisualEffectId,type:r,position:o,startTime:t.time,duration:s,entityId:u};return t.visualEffects.push(a),t.nextVisualEffectId++,a.id}var _e=(t=>(t[t.Hunger=0]="Hunger",t[t.Procreation=1]="Procreation",t[t.Pregnant=2]="Pregnant",t[t.TargetAcquired=3]="TargetAcquired",t[t.Attack=4]="Attack",t[t.Partnered=5]="Partnered",t[t.BushClaimed=6]="BushClaimed",t[t.BushClaimLost=7]="BushClaimLost",t[t.Eating=8]="Eating",t[t.ChildFed=9]="ChildFed",t[t.AttackDeflected=10]="AttackDeflected",t[t.AttackResisted=11]="AttackResisted",t[t.Hit=12]="Hit",t[t.SeizeBuildup=13]="SeizeBuildup",t[t.Seize=14]="Seize",t[t.CallToAttack=15]="CallToAttack",t[t.CallToFollow=16]="CallToFollow",t[t.AutopilotMoveTarget=17]="AutopilotMoveTarget",t))(_e||{}),Gn=(t=>(t.Berry="berry",t.Meat="meat",t))(Gn||{});const Fm={berry:"🍓",meat:"🥩"},e_={id:zo,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Zt/qt);return o.age+=u,o.age>=o.lifespan?{nextState:Ko,data:{...t,enteredAt:s.gameState.time}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(it(s.gameState,_e.BushClaimLost,o.position,en),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastBerryRegen+=u,o.timeSinceLastBerryRegen>=fS&&o.food.length<o.maxFood&&(o.food.push({type:Gn.Berry}),o.timeSinceLastBerryRegen=0),o.food.length>=o.maxFood?{nextState:zr,data:{...t,enteredAt:s.gameState.time,previousState:zo}}:{nextState:zo,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},t_={id:zr,update:(t,r)=>{const{entity:o,updateContext:s}=r,u=s.deltaTime*(Zt/qt);return o.age+=u,o.age>=o.lifespan?{nextState:Ko,data:{...t,enteredAt:s.gameState.time,previousState:zr}}:o.food.length<o.maxFood?{nextState:zo,data:{...t,enteredAt:s.gameState.time,previousState:zr}}:(o.ownerId&&o.claimedUntil&&s.gameState.time>o.claimedUntil&&(it(s.gameState,_e.BushClaimLost,o.position,en),o.ownerId=void 0,o.claimedUntil=void 0),o.timeSinceLastSpreadAttempt+=u,o.timeSinceLastSpreadAttempt>=Fp&&(o.timeSinceLastSpreadAttempt=0,s.gameState.time-o.timeSinceLastHarvest>=Fp&&Math.random()<o.spreadChance)?{nextState:Hl,data:{...t,enteredAt:s.gameState.time,previousState:zr}}:{nextState:zr,data:t})},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})};function vr(t,r){return{x:t.x+r.x,y:t.y+r.y}}function Lm(t,r){return{x:t.x-r.x,y:t.y-r.y}}function En(t,r){return{x:t.x*r,y:t.y*r}}function Gi(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function nn(t){const r=Gi(t);return r===0?{x:0,y:0}:En(t,1/r)}function n_(t,r){return Gi(Lm(t,r))}function sd(t,r,o){return{x:t.x+(r.x-t.x)*o,y:t.y+(r.y-t.y)*o}}function ld(t){if(t.length===0)return{x:0,y:0};const r=t.reduce((o,s)=>({x:o.x+s.x,y:o.y+s.y}),{x:0,y:0});return{x:r.x/t.length,y:r.y/t.length}}function zt(t,r,o,s){let u=r.x-t.x,a=r.y-t.y;return Math.abs(u)>o/2&&(u=u-Math.sign(u)*o),Math.abs(a)>s/2&&(a=a-Math.sign(a)*s),{x:u,y:a}}function dn(t,r,o){const s=zt(t,r,o.width,o.height);return nn(s)}function ae(t,r,o,s){const u=zt(t,r,o,s);return Gi(u)}function r_(t,r){return t.x*r.x+t.y*r.y}function i_(t,r){const o=r_(t,r),s=Gi(t),u=Gi(r);if(s===0||u===0)return 0;const a=Math.max(-1,Math.min(1,o/(s*u)));return Math.acos(a)}function o_(t,r,o){const s=Math.max(0,Math.min(1,o)),u={r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)},a={r:parseInt(r.substring(1,3),16),g:parseInt(r.substring(3,5),16),b:parseInt(r.substring(5,7),16)},c=Math.round(u.r+(a.r-u.r)*s),h=Math.round(u.g+(a.g-u.g)*s),p=Math.round(u.b+(a.b-u.b)*s),v=m=>("00"+m.toString(16)).slice(-2);return`#${v(c)}${v(h)}${v(p)}`}function sg(t,r,o){return r.search.human.byRadius(t.position,o).filter(a=>{if(a.id===t.id||a.gender===t.gender||!a.isAdult||a.hunger>=yr||(a.procreationCooldown||0)>0||a.gender==="female"&&a.isPregnant)return!1;const c=a.id===t.motherId||a.id===t.fatherId,h=t.id===a.motherId||t.id===a.fatherId;return!c&&!h})}function zn(t){if(t.length===0)return;const r=t.filter(u=>u.gender==="male"),o=t.filter(u=>u.gender==="female"),s=(u,a)=>u.age!==a.age?a.age-u.age:u.id-a.id;if(r.sort(s),r.length>0)return r[0];if(o.sort(s),o.length>0)return o[0]}function ht(t,r){const o=t,s=o.search.human.byProperty("motherId",r.id),u=o.search.human.byProperty("fatherId",r.id);return[...s,...u]}function Bm(t,r,o){var u;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id||t.motherId&&t.motherId===r.motherId||t.fatherId&&t.fatherId===r.fatherId||(u=t.partnerIds)!=null&&u.includes(r.id))return!0;if(t.motherId){const a=o.entities.entities.get(t.motherId);if(a&&(a.motherId===r.id||a.fatherId===r.id))return!0}if(t.fatherId){const a=o.entities.entities.get(t.fatherId);if(a&&(a.motherId===r.id||a.fatherId===r.id))return!0}if(r.motherId){const a=o.entities.entities.get(r.motherId);if(a&&(a.motherId===t.id||a.fatherId===t.id))return!0}if(r.fatherId){const a=o.entities.entities.get(r.fatherId);if(a&&(a.motherId===t.id||a.fatherId===t.id))return!0}return!1}function Gc(t,r){var a,c;if(t.id===r.id||t.motherId===r.id||t.fatherId===r.id||r.motherId===t.id||r.fatherId===t.id)return!0;const o=t.motherId===r.motherId||t.fatherId===r.fatherId,s=r.motherId===t.motherId||r.fatherId===t.fatherId,u=((a=t.ancestorIds)==null?void 0:a.some(h=>r.ancestorIds.includes(h)))||((c=r.ancestorIds)==null?void 0:c.some(h=>t.ancestorIds.includes(h)));return o||s||u}function s_(t,r){const o=[];if(t.motherId){const s=r.entities.entities.get(t.motherId);s&&o.push(s)}if(t.fatherId){const s=r.entities.entities.get(t.fatherId);s&&o.push(s)}return o}function l_(t,r){if(t.gender!=="female"||!t.partnerIds||t.partnerIds.length===0)return null;for(const o of t.partnerIds){const s=r.entities.entities.get(o);if(s&&s.gender==="male")return s}return null}function a_(t,r){var o;if(!t.isAdult&&t.fatherId){const s=r.entities.entities.get(t.fatherId);if(s&&s.type==="human")return s}if(t.isAdult&&t.fatherId){const s=r.entities.entities.get(t.fatherId);if(s&&s.type==="human"&&((o=zn(ht(r,s)))==null?void 0:o.id)===t.id)return s}return t.isAdult&&t.gender==="female"&&t.partnerIds&&t.partnerIds.length>0?l_(t,r):null}function jl(t,r){var s;const o=new Set;if(t.motherId){const u=r.entities.entities.get(t.motherId);u&&o.add(u)}if(t.fatherId){const u=r.entities.entities.get(t.fatherId);u&&o.add(u)}return(s=t.partnerIds)==null||s.forEach(u=>{const a=r.entities.entities.get(u);a&&o.add(a)}),ht(r,t).forEach(u=>o.add(u)),Array.from(o)}function Hm(t,r){const o=new Map;function s(u){const a=ht(r,u);for(const c of a)o.has(c.id)||(o.set(c.id,c),s(c))}return s(t),Array.from(o.values())}function qo(t,r){return r.search.human.byProperty("leaderId",t)}function xm(t,r){var c,h;const o=new Map,s=Array.from(t.entities.entities.values()).filter(p=>p.type==="human");for(const p of s)p.leaderId&&(o.has(p.leaderId)||o.set(p.leaderId,{leaderId:p.leaderId,tribeBadge:p.tribeBadge||"?",members:[]}),(c=o.get(p.leaderId))==null||c.members.push(p));const u=r?(h=t.entities.entities.get(r))==null?void 0:h.diplomacy:void 0,a=Array.from(o.values()).map(p=>{const v=t.entities.entities.get(p.leaderId),m=p.members.filter(I=>I.isAdult).length,y=p.members.length-m;return{leaderId:p.leaderId,tribeBadge:p.tribeBadge,adultCount:m,childCount:y,isPlayerTribe:p.leaderId===r,leaderAge:(v==null?void 0:v.age)??0,leaderGender:(v==null?void 0:v.gender)??"male",diplomacyStatus:u==null?void 0:u.get(p.leaderId??-1)}});return a.sort((p,v)=>p.isPlayerTribe?-1:v.isPlayerTribe?1:v.adultCount+v.childCount-(p.adultCount+p.childCount)),a}function rt(t,r,o,s,u){const a=r,c=s,h=a.search[o].byRadius(t.position,c);let p=null,v=c;for(const m of h){if(m.id===t.id||u&&!u(m))continue;const y=ae(t.position,m.position,r.mapDimensions.width,r.mapDimensions.height);y<v&&(v=y,p=m)}return p}function Gm(t,r,o,s){return r.search[o].byRadius(t,s).length}function pt(t){const o=t.search.human.byProperty("isPlayer",!0);return o.length>0?o[0]:void 0}function u_(t,r){var c;const s=r.search.human.byProperty("activeAction","attacking");let u=null,a=1/0;for(const h of s){if(h.attackTargetId!==t)continue;const p=ae(h.position,((c=r.entities.entities.get(t))==null?void 0:c.position)||{x:0,y:0},r.mapDimensions.width,r.mapDimensions.height);p<a&&(u=h,a=p)}return u}function zm(t){return Array.from(t.entities.entities.values()).filter(r=>r.type==="human")}function c_(t,r,o){const s=Array.from(r.entities.entities.values()).reverse();for(const u of s)if(n_(t,u.position)<u.radius)return u}function ad(t,r,o,s){const u=Math.random()*Math.PI*2,a=Math.sqrt(Math.random())*r,c={x:Math.cos(u)*a,y:Math.sin(u)*a},h=vr(t,c);return{x:(h.x%o+o)%o,y:(h.y%s+s)%s}}function zi(t,r,o,s){const u=r,a={left:t.x-o,top:t.y-o,right:t.x+o,bottom:t.y+o},c=[...u.search.human.byRect(a),...u.search.berryBush.byRect(a),...u.search.humanCorpse.byRect(a)];for(const h of c){if(s!==void 0&&h.id===s)continue;if(ae(t,h.position,r.mapDimensions.width,r.mapDimensions.height)<o+h.radius)return!0}return!1}function ud(t,r,o,s,u){const a=r.mapDimensions.width,c=r.mapDimensions.height;if(!zi(t,r,s,u))return t;const h=s;for(let p=h;p<=o;p+=h){const v=Math.ceil(2*Math.PI*p/h);for(let m=0;m<v;m++){const y=m/v*2*Math.PI,I={x:Math.cos(y)*p,y:Math.sin(y)*p},E=vr(t,I),k={x:(E.x%a+a)%a,y:(E.y%c+c)%c};if(!zi(k,r,s,u))return k}}return null}function Jo(t,r){const o=qo(t,r);if(o.length===0){const u=r.entities.entities.get(t);return u?u.position:{x:0,y:0}}const s=o.map(u=>u.position);return ld(s)}function lg(t,r){const s=[...jl(t,r),t].map(u=>u.position);return ld(s)}function ag(t,r,o,s){const u=r.x-o.width/2,a=r.y-o.height/2,c=u+t.x,h=a+t.y,p=(c%s.width+s.width)%s.width,v=(h%s.height+s.height)%s.height;return{x:p,y:v}}function d_(t,r,o){return r.search.human.byRadius(t.position,o).filter(u=>{var a;return u.activeAction==="procreating"&&u.gender===t.gender&&typeof u.target=="number"&&((a=t.partnerIds)==null?void 0:a.includes(u.target))})[0]}function f_(t,r,o){if(!t.leaderId)return;const s=r,u=s.search.berryBush.byRadius(t.position,o).filter(a=>a.ownerId===t.id);for(const a of u)if(a.claimedUntil&&r.time<a.claimedUntil){const c=s.search.human.byRadius(a.position,ut);for(const h of c)if(!Gc(h,t)&&h.activeAction==="gathering"&&h.target===a.id)return h}}function h_(t,r,o){const s=jl(t,r),u=r;for(const a of s){if(ae(t.position,a.position,r.mapDimensions.width,r.mapDimensions.height)>o)continue;const h=u.search.human.byProperty("attackTargetId",a.id);for(const p of h)if(p.leaderId!==t.leaderId)return{familyMember:a,aggressor:p}}}function p_(t,r){const s=r.search.human.byRadius(t.position,CA);let u,a=1/0;for(const c of s){if(c.id===t.id||c.hitpoints<=0||c.hitpoints/c.maxHitpoints>wA||Bm(t,c,r))continue;const h=ae(t.position,c.position,r.mapDimensions.width,r.mapDimensions.height);h<a&&(a=h,u=c)}return u}function g_(t,r){const o=rt(t,r,"berryBush",Hp,u=>u.ownerId===t.id);return o?ud(o.position,r,Hp,ra,o.id):null}function cd(t,r,o){return r.search.human.byRadius(t.position,o).filter(u=>ji(t,u,r))}function m_(t,r,o){const s=o.search.human.byProperty("leaderId",t);let u=0;for(const a of s)a.attackTargetId===r&&u++;return u}function ug(t,r,o,s){const u=o.search.berryBush.byRadius(t,r),a=o.search.human.byRadius(t,r).filter(p=>p.leaderId!==s);let c=u.length*gA;c+=a.length*mA;let h;if(a.length>0){const p={};for(const m of a)m.leaderId&&(p[m.leaderId]=(p[m.leaderId]||0)+1);let v=0;for(const m in p)p[m]>v&&(v=p[m],h=parseInt(m,10))}return{score:c,occupyingTribeId:h}}function Yl(t){return t.filter(r=>r.isAdult).reduce((r,o)=>{let s=o.hitpoints;return s+=(o.maxAge-o.age)*.5,s+=o.food.length*2,r+s},0)}function v_(t,r){if(t.id!==t.leaderId)return null;const o=r,s=Jo(t.id,r),{score:u}=ug(s,ac/2,o,t.id);let a=null,c=u;const h=pA,p=hA;for(let v=t.position.x-p;v<t.position.x+p;v+=h)for(let m=t.position.y-p;m<t.position.y+p;m+=h){const y={x:(v%r.mapDimensions.width+r.mapDimensions.width)%r.mapDimensions.width,y:(m%r.mapDimensions.height+r.mapDimensions.height)%r.mapDimensions.height};if(ae(s,y,r.mapDimensions.width,r.mapDimensions.height)<ac*2)continue;const{score:E}=ug(y,ac/2,o,t.id);E>c*vA&&(c=E,a=y)}return a}let gc=0;function zc(){const t=Yp[gc];return gc=(gc+1)%Yp.length,t}var fe=(t=>(t.Gather="Gather",t.Eat="Eat",t.Procreate="Procreate",t.Attack="Attack",t.Plant="Plant",t.CallToAttack="CallToAttack",t.TribeSplit="TribeSplit",t.FollowMe="FollowMe",t.FeedChild="FeedChild",t.AutopilotMove="AutopilotMove",t.AutopilotGather="AutopilotGather",t.AutopilotAttack="AutopilotAttack",t.AutopilotProcreate="AutopilotProcreate",t.AutopilotPlant="AutopilotPlant",t.AutopilotFeedChild="AutopilotFeedChild",t.AutopilotFollowMe="AutopilotFollowMe",t))(fe||{});const sa={Gather:"✋",Eat:"🍖",Procreate:"❤️",Attack:"⚔️",Plant:"🌱",CallToAttack:"📢",TribeSplit:"🔱",FollowMe:"➡️",FeedChild:"👨‍👧",AutopilotMove:"🎯",AutopilotGather:"✋",AutopilotAttack:"⚔️",AutopilotProcreate:"❤️",AutopilotPlant:"🌱",AutopilotFeedChild:"👨‍👧",AutopilotFollowMe:"➡️"},Wm={Gather:"Gather",Eat:"Eat",Procreate:"Procreate",Attack:"Attack",Plant:"Plant",CallToAttack:"Call to Attack",TribeSplit:"Split Tribe",FollowMe:"Follow Me",FeedChild:"Feed Child",AutopilotMove:"Walk",AutopilotGather:"Gather",AutopilotAttack:"Attack",AutopilotProcreate:"Procreate",AutopilotPlant:"Plant",AutopilotFeedChild:"Feed",AutopilotFollowMe:"Follow"};var Ri=(t=>(t.Time="Time",t.Hunger="Hunger",t.Hitpoints="Hitpoints",t.Food="Food",t.Autopilot="Autopilot",t.Muted="Muted",t.Family="Family",t.Tribes="Tribes",t))(Ri||{});const Uo={Time:"🗓️",Hunger:"🍖",Hitpoints:"❤️",Food:"🍓",Autopilot:"🤖",Muted:"🔇",Family:"👨‍👩‍👧‍👦",Tribes:"🛖"};var Te=(t=>(t.ToggleMute="ToggleMute",t.TogglePause="TogglePause",t.FastForward="FastForward",t.DismissTutorial="DismissTutorial",t.CommandEat="CommandEat",t.CommandPlant="CommandPlant",t.CommandCallToAttack="CommandCallToAttack",t.CommandFollowMe="CommandFollowMe",t.CommandGather="CommandGather",t.CommandTribeSplit="CommandTribeSplit",t.ToggleProcreationBehavior="ToggleProcreationBehavior",t.ToggleAttackBehavior="ToggleAttackBehavior",t.ToggleFeedChildBehavior="ToggleFeedChildBehavior",t.TogglePlantingBehavior="TogglePlantingBehavior",t.ToggleGatheringBehavior="ToggleGatheringBehavior",t.ToggleAutopilotFollowLeaderBehavior="ToggleAutopilotFollowLeaderBehavior",t.ToggleDiplomacy="ToggleDiplomacy",t))(Te||{}),es=(t=>(t.Hello="HELLO",t.NewTribeFormed="NEW_TRIBE_FORMED",t.NoHeir="NO_HEIR",t.ChildrenStarving="CHILDREN_STARVING",t))(es||{});let y_=0;function S_(){return`notification-${Date.now()}-${y_++}`}function Wc(t,r){if(r.identifier){const s=t.notifications.find(u=>u.identifier===r.identifier);if(s){if(s.dismissedUntil&&t.time<s.dismissedUntil)return;s.message=r.message,s.timestamp=t.time,s.creationTime=Date.now(),s.duration=r.duration,s.targetEntityIds=r.targetEntityIds,s.highlightedEntityIds=r.highlightedEntityIds,s.targetPosition=r.targetPosition,s.targetArea=r.targetArea,s.targetRadius=r.targetRadius,s.isDismissed=!1,s.dismissedUntil=void 0;return}}const o={...r,id:S_(),timestamp:t.time,creationTime:Date.now(),isDismissed:!1};t.notifications.push(o)}function A_(t,r){const o=t.notifications.find(s=>s.id===r);o&&(o.isDismissed=!0,o.identifier&&(o.dismissedUntil=t.time+GI))}function I_(t){const r=t.time;t.notifications=t.notifications.filter(o=>o.duration===0?!0:!(r-o.timestamp>o.duration))}const mc=""+new URL("attack-D4MA8VWK.mp3",import.meta.url).href,__=""+new URL("gather-CU75596W.mp3",import.meta.url).href,T_=""+new URL("eat-DCjHq2QD.mp3",import.meta.url).href,vc=""+new URL("procreate-CfE4r5Cp.mp3",import.meta.url).href,E_=""+new URL("birth-Cbd67GHT.mp3",import.meta.url).href,w_=""+new URL("child-fed-DzEPuMid.mp3",import.meta.url).href,C_=""+new URL("human-death-B6HFLXES.mp3",import.meta.url).href,R_=""+new URL("game-over-C5dqkyER.mp3",import.meta.url).href,N_=""+new URL("button-click-DomLUeaU.mp3",import.meta.url).href,P_=""+new URL("soundtrack-1-BdlYUGye.mp3",import.meta.url).href;var Fe=(t=>(t[t.Attack=0]="Attack",t[t.Gather=1]="Gather",t[t.Eat=2]="Eat",t[t.Procreate=3]="Procreate",t[t.Birth=4]="Birth",t[t.ChildFed=5]="ChildFed",t[t.HumanDeath=6]="HumanDeath",t[t.Seize=7]="Seize",t[t.CallToAttack=8]="CallToAttack",t[t.TribeSplit=9]="TribeSplit",t[t.CallToFollow=10]="CallToFollow",t[t.GameOver=11]="GameOver",t[t.ButtonClick=12]="ButtonClick",t[t.SoundTrack1=13]="SoundTrack1",t))(Fe||{});const O_=new Map([[0,mc],[1,__],[2,T_],[3,vc],[4,E_],[5,w_],[6,C_],[11,R_],[12,N_],[7,mc],[8,mc],[9,vc],[10,vc],[13,P_]]);let Mo,ts;function k_(){if(!(typeof window>"u"))return ts}function dd(){if(!(typeof window>"u"))return!Mo&&typeof window.AudioContext=="function"&&(Mo=new window.AudioContext,ts=Mo.createGain(),ts.connect(Mo.destination),Wo(.1,!1)),Mo}function Wo(t,r){ts&&(ts.gain.value=r?0:t/10)}const $m=new Map;let El=!1,cg=!1;async function D_(){if(cg||El)return;const t=dd();if(!t){console.error("AudioContext not supported. Cannot load sounds.");return}t.state==="suspended"&&t.resume(),El=!0,console.log("Starting sound loading...");const r=[];O_.forEach((o,s)=>{const u=fetch(o).then(a=>{if(!a.ok)throw new Error(`Failed to fetch sound: ${o}`);return a.arrayBuffer()}).then(a=>t.decodeAudioData(a)).then(a=>{$m.set(s,a)}).catch(a=>{console.error(`Error loading sound ${Fe[s]} from ${o}:`,a)});r.push(u)});try{await Promise.all(r),cg=!0,El=!1,console.log("All sounds loaded successfully.")}catch(o){El=!1,console.error("An error occurred while loading sounds:",o)}}const $o=new Map;function fd(t,r){const o=dd(),s=k_();if(!o||!s||s.gain.value===0&&(r==null?void 0:r.trackId)===void 0)return;o.state==="suspended"&&o.resume();const u=$m.get(t);if(!u){console.warn(`Sound buffer not found for type: ${Fe[t]}`);return}if(r!=null&&r.trackId&&$o.has(r.trackId))return;const a=o.createBufferSource();a.buffer=u,a.loop=(r==null?void 0:r.loop)??!1;const c=o.createGain(),h=o.createStereoPanner();let p=c;if(r!=null&&r.position&&(r!=null&&r.listenerPosition)&&(r!=null&&r.worldDimensions)){const v=zt(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height),m=ae(r.listenerPosition,r.position,r.worldDimensions.width,r.worldDimensions.height);if(m>rg)return;const y=1-Math.pow(m/rg,MI);c.gain.value=Math.max(0,y);const I=Math.sin(v.x/m*(Math.PI/2));h.pan.value=isNaN(I)?0:I,c.connect(h),p=h}else{const v=t===Fe.GameOver?.4:t===Fe.SoundTrack1?1:.2;c.gain.value=v}a.connect(p),p.connect(s),a.start(0),r!=null&&r.trackId&&($o.set(r.trackId,{sourceNode:a,gainNode:c}),a.onended=()=>{$o.delete(r.trackId)})}function dg(t,r=1){const o=$o.get(t),s=dd();if(o&&s){const{sourceNode:u,gainNode:a}=o,c=s.currentTime;a.gain.setValueAtTime(a.gain.value,c),a.gain.linearRampToValueAtTime(0,c+r),u.stop(c+r),u.onended=null,$o.delete(t)}}function Ze(t,r,o){const s=pt(t.gameState);s&&fd(r,{position:o,listenerPosition:s.position,worldDimensions:t.gameState.mapDimensions,masterVolume:t.gameState.masterVolume,isMuted:t.gameState.isMuted})}var Dt=(t=>(t.Friendly="Friendly",t.Hostile="Hostile",t))(Dt||{});function U_(t,r,o){const s=o.mapDimensions.width,u=o.mapDimensions.height,a=r.radius*2;for(let c=Wp;c<s/2;c+=50)for(let h=0;h<10;h++){const p=ad(t,c,s,u);if(!(ae(t,p,s,u)<Wp)&&!zi(p,o,a,r.id))return p}return null}function hd(t,r){if(!t.isAdult||t.gender!=="male"||t.leaderId===t.id||!t.leaderId)return{canSplit:!1};if(!t.leaderId)return{canSplit:!1};const o=r.entities.entities.get(t.leaderId);if(!o||o.type!=="human")return{canSplit:!1};const s=zn(ht(r,o));if(s&&s.id===t.id)return{canSplit:!1};const u=qo(t.leaderId,r);if(u.length<zp)return{canSplit:!1};const c=Hm(t,r).length+1,h=Math.min(u.length*cA,zp);return{canSplit:c>=h,progress:c/h}}function pd(t,r){var c;if(!hd(t,r).canSplit)return;const o=t.leaderId?r.entities.entities.get(t.leaderId):void 0,s=zc(),u=Hm(t,r);t.leaderId=t.id,t.tribeBadge=s,t.diplomacy=new Map,o&&((c=o.diplomacy)==null||c.set(t.id,Dt.Hostile));for(const h of u)h.leaderId=t.id,h.tribeBadge=s;Wc(r,{type:es.NewTribeFormed,message:`A new tribe has formed! ${s}`,duration:HI,targetEntityIds:[t.id],highlightedEntityIds:[t.id,...u.map(h=>h.id)]}),Ze({gameState:r},Fe.TribeSplit,t.position)}function gd(t,r){const o=[];if(r.food.length>0&&r.hunger>Sr&&o.push({type:fe.Eat,action:"eating",key:"f"}),r.food.length<r.maxFood){const a=rt(r,t,"berryBush",ut,p=>p.food.length>0),c=rt(r,t,"humanCorpse",ut,p=>p.food.length>0);let h=null;a&&c?h=ae(r.position,a.position,t.mapDimensions.width,t.mapDimensions.height)<=ae(r.position,c.position,t.mapDimensions.width,t.mapDimensions.height)?a:c:h=a||c,h&&o.push({type:fe.Gather,action:"gathering",key:"e",targetEntity:h})}const s=rt(r,t,"human",ut,a=>Xr(r,a,t));if(s&&o.push({type:fe.Procreate,action:"procreating",key:"r",targetEntity:s}),r.food.length>0&&r.isAdult){const a=rt(r,t,"human",ut,c=>{const h=c;return!h.isAdult&&(h.motherId===r.id||h.fatherId===r.id)&&h.hunger>=Sr});a&&o.push({type:fe.FeedChild,action:"feeding",key:"h",targetEntity:a})}const u=rt(r,t,"human",na,a=>ji(r,a,t));return u&&o.push({type:fe.Attack,action:"attacking",key:"q",targetEntity:u}),r.food.filter(a=>a.type===Gn.Berry).length>=bo&&o.push({type:fe.Plant,action:"planting",key:"b"}),r.leaderId===r.id&&!r.isCallingToAttack&&cd(r,t,Am).length>0&&o.push({type:fe.CallToAttack,action:"idle",key:"v"}),hd(r,t).canSplit&&o.push({type:fe.TribeSplit,action:"idle",key:"k"}),r.leaderId===r.id&&!r.isCallingToFollow&&o.push({type:fe.FollowMe,action:"idle",key:"c"}),o}const ji=(t,r,o)=>{var s,u,a,c;if(t.id===r.id||t.leaderId===r.leaderId)return!1;if(t.leaderId&&r.leaderId){const h=(u=(s=o.entities.entities.get(t.leaderId))==null?void 0:s.diplomacy)==null?void 0:u.get(r.leaderId),p=(c=(a=o.entities.entities.get(r.leaderId))==null?void 0:a.diplomacy)==null?void 0:c.get(t.leaderId);return h===Dt.Hostile||p===Dt.Hostile}return!1},Xr=(t,r,o)=>{if(t.id===r.id||t.gender===r.gender||!t.isAdult||!r.isAdult||t.hunger>=yr||r.hunger>=yr||(t.procreationCooldown||0)>0||(r.procreationCooldown||0)>0||ji(t,r,o))return!1;const s=t.gender==="female"?t:r;return!(s.isPregnant||s.age>hm)},M_={id:Hl,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s,a=s.deltaTime*(Zt/qt);if(o.age+=a,o.age>=o.lifespan)return{nextState:Ko,data:{...t,enteredAt:u.time,previousState:Hl}};const c=ad(o.position,o.spreadRadius,u.mapDimensions.width,u.mapDimensions.height);return zi(c,u,15)||aa(u.entities,c,u.time),{nextState:zr,data:{...t,enteredAt:u.time,previousState:Hl}}},onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time})},F_={id:Ko,update:t=>({nextState:Ko,data:t}),onEnter:(t,r)=>(yd(t.updateContext.gameState.entities,t.entity.id),{...r,enteredAt:t.updateContext.gameState.time})},L_=[e_,t_,M_,F_],ft="humanIdle",Gr="humanMoving",xo="humanEating",la="humanGathering",ns="humanProcreating",Wi="humanAttacking",xl="humanPlanting",B_={id:ft,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction==="attacking"&&o.attackTargetId?{nextState:Wi,data:{...t,enteredAt:s.gameState.time,previousState:ft,attackTargetId:o.attackTargetId,attackStartTime:s.gameState.time}}:(o.hunger>=cm?(o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.debuffs.push({type:"slow",startTime:s.gameState.time,duration:.1})):o.debuffs=o.debuffs.filter(u=>u.type!=="slow"),o.activeAction==="moving"?{nextState:Gr,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="gathering"?{nextState:la,data:{...t,enteredAt:s.gameState.time,previousState:ft,target:o.target}}:o.activeAction==="eating"?{nextState:xo,data:{...t,enteredAt:s.gameState.time,previousState:ft}}:o.activeAction==="planting"&&o.target?{nextState:xl,data:{...t,enteredAt:s.gameState.time,previousState:ft,plantingSpot:o.target}}:{nextState:ft,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};function jm(t){let r=vS;return t.hunger>=cm&&(r*=yS),t.age>=AS&&(r*=IS),t.movementSlowdown&&(r*=t.movementSlowdown.modifier),r}const yc=7.5;class H_{constructor(){de(this,"id",Gr)}update(r,o){var p;const{entity:s,updateContext:u}=o;if(s.activeAction==="attacking"&&s.attackTargetId)return{nextState:Wi,data:{...r,enteredAt:u.gameState.time,previousState:Gr,attackTargetId:s.attackTargetId,attackStartTime:u.gameState.time}};if(s.activeAction!=="moving")return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Gr}};let a;if(typeof s.target=="object"?a=s.target:typeof s.target=="number"&&(a=(p=o.updateContext.gameState.entities.entities.get(s.target))==null?void 0:p.position),!a&&(s.direction.x!==0||s.direction.y!==0)&&(a={x:s.position.x+s.direction.x*yc*2,y:s.position.y+s.direction.y*yc*2}),!a)return{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Gr}};const c=zt(s.position,a,o.updateContext.gameState.mapDimensions.width,o.updateContext.gameState.mapDimensions.height);return s.direction=nn(c),s.acceleration=jm(s),ae(s.position,a,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<yc?{nextState:ft,data:{...r,enteredAt:u.gameState.time,previousState:Gr}}:{nextState:Gr,data:r}}onExit(r){const{entity:o}=r;o.acceleration=0}}const x_=new H_,G_={id:xo,update:(t,r)=>{const{entity:o,updateContext:s}=r;return o.activeAction!=="eating"?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:xo}}:(o.food.length>0&&(!o.eatingCooldownTime||s.gameState.time>=o.eatingCooldownTime)&&o.hunger>Sr&&(o.hunger=Math.max(0,o.hunger-Sr),o.food.pop(),o.eatingCooldownTime=s.gameState.time+1,Ze(s,Fe.Eat,o.position),(!o.lastEatingEffectTime||s.gameState.time-o.lastEatingEffectTime>2)&&(it(s.gameState,_e.Eating,o.position,en,o.id),o.lastEatingEffectTime=s.gameState.time)),o.hunger<=0||o.food.length<=0?{nextState:ft,data:{...t,enteredAt:s.gameState.time,previousState:xo}}:{nextState:xo,data:t})},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})};class z_{constructor(){de(this,"id",la)}update(r,o){return o.entity.activeAction!=="gathering"?{nextState:"humanIdle",data:{...r,enteredAt:o.updateContext.gameState.time,previousState:this.id}}:{nextState:this.id,data:r}}}const W_=new z_,$_=(t,r)=>(r.procreationEndTime=t.updateContext.gameState.time+(r.duration||2),r),j_=(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time<(t.procreationEndTime||0))return{nextState:ns,data:t};const a=u.entities.entities.get(t.partnerId);if(a&&a.type==="human"&&!a.isPregnant&&o.hunger<yr&&a.hunger<yr&&!o.procreationCooldown&&!a.procreationCooldown){const c=o.gender==="female"?o:a.gender==="female"?a:void 0,h=o.gender==="male"?o:a.gender==="male"?a:void 0;c&&h&&(c.isPregnant=!0,c.gestationTime=ES,c.fatherId=h.id,o.procreationCooldown=Lp,a.procreationCooldown=Lp,Ze(s,Fe.Procreate,c.position))}return o.activeAction="idle",a&&(a.activeAction="idle"),{nextState:ft,data:{...t,enteredAt:u.time,previousState:ns}}},Y_={id:ns,onEnter:$_,update:j_},V_={id:Wi,onEnter:(t,r)=>({...r,enteredAt:t.updateContext.gameState.time,attackStartTime:t.updateContext.gameState.time}),update:(t,r)=>{if(r.entity.activeAction!=="attacking"||!r.entity.attackTargetId)return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const o=r.updateContext.gameState.entities.entities.get(r.entity.attackTargetId);if(!o||o.type!=="human")return r.entity.activeAction="idle",{nextState:ft,data:{...t}};const s=ae(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height),u=zt(r.entity.position,o.position,r.updateContext.gameState.mapDimensions.width,r.updateContext.gameState.mapDimensions.height);return r.entity.direction=nn(u),s>na?r.entity.acceleration=jm(r.entity):r.entity.acceleration=0,{nextState:Wi,data:t}}},K_={id:xl,update:(t,r)=>{const{entity:o,updateContext:s}=r,{gameState:u}=s;if(u.time-t.enteredAt>=jS){if(o.food.filter(h=>h.type===Gn.Berry).length>=bo){for(let p=0;p<bo;p++){const v=o.food.findIndex(m=>m.type===Gn.Berry);v>-1&&o.food.splice(v,1)}const h=aa(u.entities,t.plantingSpot,u.time);h.ownerId=o.id,h.claimedUntil=u.time+am}return{nextState:ft,data:{...t,enteredAt:u.time,previousState:xl}}}return{nextState:xl,data:t}},onEnter:(t,r)=>(t.entity.acceleration=0,t.entity.velocity={x:0,y:0},{...r,enteredAt:t.updateContext.gameState.time})},X_=[B_,x_,G_,W_,Y_,V_,K_],fg=[...L_,...X_];function b_(t,r,o){const s=lS(t,fg);if(!s)return uS(t),[t,r];const{nextState:u,data:a}=s.update(r,o);return aS(t,u)?[u,sS(s,u,a,o,fg)]:[u,a]}function Q_(t,r,o){const{gameState:s}=r,u=o*(Zt/qt);if(t.isAdult=t.age>=Jc,t.isCallingToAttack&&t.callToAttackEndTime&&s.time>t.callToAttackEndTime&&(t.isCallingToAttack=!1,t.callToAttackEndTime=void 0),t.isCallingToFollow&&t.callToFollowEndTime&&s.time>t.callToFollowEndTime&&(t.isCallingToFollow=!1,t.callToFollowEndTime=void 0),t.movementSlowdown&&s.time>t.movementSlowdown.endTime&&(t.movementSlowdown=void 0),t.hitpoints<t.maxHitpoints){const c=1-t.hunger/100*HS,h=BS*c*u;t.hitpoints=Math.min(t.maxHitpoints,t.hitpoints+h)}if(t.hunger+=o*(ko/(Zt/qt)),t.hunger>UI&&(!t.lastHungerEffectTime||s.time-t.lastHungerEffectTime>Ho*2)&&(it(s,_e.Hunger,t.position,Ho,t.id),t.lastHungerEffectTime=s.time),t.age+=o/um,t.isPlayer){const c=ht(s,t).filter(h=>h.hunger>=xI);if(c.length>0){const h=c.map(p=>p.id);Wc(s,{identifier:"children_starving",type:es.ChildrenStarving,message:"Your children are starving!",duration:BI,targetEntityIds:h,highlightedEntityIds:h})}}if(t.gender==="female"&&t.isPregnant&&t.gestationTime&&(t.gestationTime-=u,t.hunger+=o*((ko*wS-ko)/(Zt/qt)),(!t.lastPregnantEffectTime||s.time-t.lastPregnantEffectTime>Ho*3)&&(it(s,_e.Pregnant,t.position,Ho,t.id),t.lastPregnantEffectTime=s.time),t.gestationTime<=0&&(DT(t,t.fatherId,r),t.isPregnant=!1,t.gestationTime=0,t.fatherId=void 0)),t.procreationCooldown&&(t.procreationCooldown-=u,t.procreationCooldown<0&&(t.procreationCooldown=0)),t.attackCooldown&&(t.attackCooldown-=u,t.attackCooldown<0&&(t.attackCooldown=0)),t.feedParentCooldownTime&&(t.feedParentCooldownTime-=u,t.feedParentCooldownTime<0&&(t.feedParentCooldownTime=0)),t.feedChildCooldownTime&&(t.feedChildCooldownTime-=u,t.feedChildCooldownTime<0&&(t.feedChildCooldownTime=0)),t.leaderMetaStrategyCooldown&&(t.leaderMetaStrategyCooldown-=u,t.leaderMetaStrategyCooldown<0&&(t.leaderMetaStrategyCooldown=0)),t.isAdult?t.radius===ia&&(t.radius=Jt):t.hunger+=o*((ko*CS-ko)/(Zt/qt)),t.isAdult&&t.food.length>0&&(!t.feedParentCooldownTime||t.feedParentCooldownTime<=0)){const c=[];if(t.motherId){const h=s.entities.entities.get(t.motherId);h&&c.push(h)}if(t.fatherId){const h=s.entities.entities.get(t.fatherId);h&&c.push(h)}for(const h of c)if(h.age>=pm&&h.hunger>=PS&&ae(t.position,h.position,s.mapDimensions.width,s.mapDimensions.height)<=OS){t.food.pop(),h.hunger=Math.max(0,h.hunger-Sr),t.feedParentCooldownTime=kS;break}}let a;if(t.hitpoints<=0?a="killed":t.hunger>=Gt?t.food.length>0&&t.isAdult?(t.food.pop(),t.hunger=Math.max(0,t.hunger-Sr)):a="hunger":t.age>=t.maxAge&&(a="oldAge"),a){if(t.leaderId===t.id){const c=zn(ht(s,t));c?(c.leaderId=c.id,c.tribeBadge=t.tribeBadge,c.diplomacy=new Map(t.diplomacy),s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=c.id}})):s.entities.entities.forEach(h=>{if(h.type==="human"&&h.leaderId===t.id){const p=h;p.leaderId=void 0,p.tribeBadge=void 0}})}if(t.isPlayer){const c=zn(ht(s,t));c?(c.isPlayer=!0,s.generationCount++):(s.gameOver=!0,s.causeOfGameOver=a,Wc(s,{identifier:"no_heir",type:es.NoHeir,message:"Your lineage has ended. You have no heir.",duration:0}))}kT(s.entities,t.position,t.gender,t.age,t.radius,t.id,s.time,t.food,t.hunger),yd(s.entities,t.id);return}t.animationProgress===void 0&&(t.animationProgress=0),t.animationSpeed===void 0&&(t.animationSpeed=1),t.animationProgress+=o*t.animationSpeed,t.animationProgress>=1&&(t.animationProgress=0)}function Z_(t,r){const o=r.gameState.time-t.timeOfDeath;t.decayProgress=Math.min(1,o/DS);const s=Math.floor(gm*(1-t.decayProgress));t.food.length>s&&t.food.splice(s),t.decayProgress>=1&&t.food.length<=0&&yd(r.gameState.entities,t.id)}var md=(t=>(t[t.BehaviorTreeBased=0]="BehaviorTreeBased",t))(md||{});function q_(t,r){if(t.aiBehaviorTree&&t.aiBlackboard){const o=t.aiBlackboard.get("lastAiUpdateTime")??0;r.gameState.time-o>=Qo&&(t.aiBehaviorTree.execute(t,r,t.aiBlackboard),t.aiBlackboard.set("lastAiUpdateTime",r.gameState.time))}else console.warn(`Behavior Tree AI ticked for human ${t.id}, but the tree or blackboard was missing.`),t.activeAction="idle"}function J_(t,r){switch(t.aiBlackboard&&t.aiBlackboard.cleanupOldEntries(r.gameState.time),t.aiType){case md.BehaviorTreeBased:default:q_(t,r);break}}function eT(t,r){t.forces.push(En(t.velocity,-.1));const o=En(nn(t.direction),t.acceleration);t.forces.push(o),t.debuffs.forEach(s=>{r.gameState.time-s.startTime<s.duration&&s.type==="slow"&&(t.velocity=En(t.velocity,.5))}),t.debuffs=t.debuffs.filter(s=>r.gameState.time-s.startTime<s.duration),t.velocity=vr(t.velocity,t.forces.reduce(vr,{x:0,y:0})),Gi(t.velocity)<.001&&(t.velocity={x:0,y:0}),t.position=vr(t.position,En(t.velocity,r.deltaTime)),t.position.x=(t.position.x%r.gameState.mapDimensions.width+r.gameState.mapDimensions.width)%r.gameState.mapDimensions.width,t.position.y=(t.position.y%r.gameState.mapDimensions.height+r.gameState.mapDimensions.height)%r.gameState.mapDimensions.height,t.forces=[],t.type==="human"?Q_(t,r,r.deltaTime):t.type==="humanCorpse"&&Z_(t,r),t.type==="human"&&J_(t,r),t.stateMachine&&(t.stateMachine=b_(...t.stateMachine,{entity:t,updateContext:r}))}var N=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.FAILURE=1]="FAILURE",t[t.RUNNING=2]="RUNNING",t[t.NOT_EVALUATED=3]="NOT_EVALUATED",t))(N||{});const hg="Human Behavior",tT=1;class nT{constructor(){de(this,"nodeData",new Map);de(this,"pathStack",[]);de(this,"startTimeStack",[])}nodeStart(r){this.pathStack.push(r),this.startTimeStack.push(performance.now())}nodeEnd(){if(this.startTimeStack.length===0||this.pathStack.length===0){console.error("BTProfiler: nodeEnd() called without a matching nodeStart().");return}const r=performance.now(),o=this.startTimeStack.pop(),s=r-o,u=this.pathStack.join(" > "),a=this.nodeData.get(u)??{path:u,totalTime:0,callCount:0,minTime:1/0,maxTime:-1/0};a.totalTime+=s,a.callCount++,a.minTime=Math.min(a.minTime,s),a.maxTime=Math.max(a.maxTime,s),this.nodeData.set(u,a),this.pathStack.pop()}report(r={}){const{showAll:o=!1}=r,s=Array.from(this.nodeData.values());if(s.length===0){console.log("--- Behavior Tree Profiler: No data collected. ---");return}let u=s,a="--- Behavior Tree Full Report ---";if(!o){const h=this.nodeData.get(hg);if(h){const p=h.totalTime*tT/100;u=s.filter(v=>v.totalTime>p&&v.path!==hg),a="--- Behavior Tree Problem Report ---"}else console.log('BTProfiler: Root node "Human Behavior" not found. Showing full report.'),a="--- Behavior Tree Full Report (Root Not Found) ---"}const c=u.sort((h,p)=>p.totalTime-h.totalTime);console.log(a),c.length>0?console.table(c.map(h=>({Path:h.path,"Total Time (ms)":h.totalTime.toFixed(3),Calls:h.callCount,"Avg Time (ms)":(h.totalTime/h.callCount).toFixed(3),"Min Time (ms)":h.minTime.toFixed(3),"Max Time (ms)":h.maxTime.toFixed(3)}))):console.log("No significant performance problems detected."),console.log("------------------------------------")}reset(){this.nodeData.clear(),this.pathStack=[],this.startTimeStack=[]}}const et=new nT;function hn(t){return Array.isArray(t)?t:[t,""]}class ke{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&et.nodeStart(this.name);try{for(const u of this.children){const[a,c]=hn(u.execute(r,o,s));if(a!==N.SUCCESS)return this.lastStatus=a,this.name&&s.recordNodeExecution(this.name,a,o.gameState.time,this.depth,c),a}return this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,""),N.SUCCESS}finally{this.name&&et.nodeEnd()}}}class Kr{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"runningChildIndex");this.children=r,this.name=o,this.depth=s,this.children.forEach(u=>{u.depth=(this.depth??0)+1})}execute(r,o,s){this.name&&et.nodeStart(this.name);try{const u=this.runningChildIndex??0;for(let a=u;a<this.children.length;a++){const c=this.children[a],[h,p]=hn(c.execute(r,o,s));if(h!==N.FAILURE){if(h===N.SUCCESS)return delete this.runningChildIndex,this.lastStatus=N.SUCCESS,this.name&&s.recordNodeExecution(this.name,N.SUCCESS,o.gameState.time,this.depth,p),N.SUCCESS;if(h===N.RUNNING)return this.runningChildIndex=a,this.lastStatus=N.RUNNING,this.name&&s.recordNodeExecution(this.name,N.RUNNING,o.gameState.time,this.depth,p),N.RUNNING}}return delete this.runningChildIndex,this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,N.FAILURE,o.gameState.time,this.depth,""),N.FAILURE}finally{this.name&&et.nodeEnd()}}}class we{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.action=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&et.nodeStart(this.name);try{const[u,a]=hn(this.action(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,u,o.gameState.time,this.depth,a),u}finally{this.name&&et.nodeEnd()}}}class he{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.condition=r,this.name=o,this.depth=s}execute(r,o,s){this.name&&et.nodeStart(this.name);try{const[u,a]=hn(this.condition(r,o,s)),c=u?N.SUCCESS:N.FAILURE;return this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,c,o.gameState.time,this.depth,a),c}finally{this.name&&et.nodeEnd()}}}class pg{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"startTimeKey");this.child=r,this.timeoutDurationHours=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.startTimeKey=`timeout_${this.name}_startTime`}execute(r,o,s){et.nodeStart(this.name);try{const u=o.gameState.time;let a=s.get(this.startTimeKey);const[c,h]=hn(this.child.execute(r,o,s));if(c===N.RUNNING){a===void 0&&(s.set(this.startTimeKey,u),a=u);const p=u-a;if(p>this.timeoutDurationHours){s.delete(this.startTimeKey),this.lastStatus=N.FAILURE;const m=`Timed out after ${p.toFixed(2)}h.`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m),this.lastStatus}this.lastStatus=N.RUNNING;const v=`Running for ${p.toFixed(2)}h. ${h}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}return a!==void 0&&s.delete(this.startTimeKey),this.lastStatus=c,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{et.nodeEnd()}}}class Vl{constructor(r,o,s,u=0,a){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"statusKey");de(this,"timestampKey");this.child=r,this.cacheDurationHours=o,this.validityCheck=a,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.statusKey=`caching_${this.name}_status`,this.timestampKey=`caching_${this.name}_timestamp`}execute(r,o,s){et.nodeStart(this.name);try{const u=o.gameState.time,a=s.get(this.statusKey),c=s.get(this.timestampKey);if(a!==void 0&&c!==void 0){const m=u-c>this.cacheDurationHours,y=this.validityCheck?this.validityCheck(r,o,s):!0;if(!m&&y){const I=(c+this.cacheDurationHours-u).toFixed(2),E=`Cache hit. Status: ${N[a]}. ${I}h left.`;return this.lastStatus=a,s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,E),this.lastStatus}}const[h,p]=hn(this.child.execute(r,o,s));(h===N.SUCCESS||h===N.FAILURE)&&(s.set(this.statusKey,h),s.set(this.timestampKey,u)),this.lastStatus=h;const v=`Cache miss. Child returned ${N[h]}. ${p}`;return s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}finally{et.nodeEnd()}}}class br{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");de(this,"cooldownKey");this.cooldownDurationHours=r,this.child=o,this.name=s,this.depth=u,this.child.depth=(this.depth??0)+1,this.cooldownKey=`cooldown_${this.name}`}execute(r,o,s){et.nodeStart(this.name);try{const u=o.gameState.time,a=s.get(this.cooldownKey);if(this.child.lastStatus===N.RUNNING){const[p,v]=hn(this.child.execute(r,o,s));if(this.lastStatus=p,this.name){const m=`Continuing running child. ${v}`;s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,m)}return this.lastStatus}if(a!==void 0&&u<a){const v=`Cooldown active, ${(a-u).toFixed(2)}h left`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,v),this.lastStatus}const[c,h]=hn(this.child.execute(r,o,s));return(c===N.SUCCESS||c===N.RUNNING)&&s.set(this.cooldownKey,u+this.cooldownDurationHours),this.lastStatus=c,this.name&&s.recordNodeExecution(this.name,this.lastStatus,u,this.depth,h),this.lastStatus}finally{et.nodeEnd()}}}class _i{constructor(r,o,s,u=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.behaviorKey=o,this.name=s,this.depth=u;const a=(c,h)=>{c.depth=h,c.children?c.children.forEach(p=>a(p,h+1)):c.child&&a(c.child,h+1)};a(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&et.nodeStart(this.name);try{if(r.isPlayer&&!o.gameState.autopilotControls.behaviors[this.behaviorKey]){const h=`Player autopilot for '${this.behaviorKey}' is disabled.`;return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,h),this.lastStatus}const[a,c]=hn(this.child.execute(r,o,s));return this.lastStatus=a,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,c),this.lastStatus}finally{this.name&&et.nodeEnd()}}}class rT{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(a,c)=>{a.depth=c,a.children?a.children.forEach(h=>u(h,c+1)):a.child&&u(a.child,c+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&et.nodeStart(this.name);try{if(r.isPlayer&&o.gameState.autopilotControls.isManuallyMoving)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Manual movement active, AI blocked."),this.lastStatus;const[u,a]=hn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,a),this.lastStatus}finally{this.name&&et.nodeEnd()}}}class Fo{constructor(r,o,s=0){de(this,"name");de(this,"lastStatus");de(this,"depth");this.child=r,this.name=o,this.depth=s;const u=(a,c)=>{a.depth=c,a.children?a.children.forEach(h=>u(h,c+1)):a.child&&u(a.child,c+1)};u(this.child,(this.depth??0)+1)}execute(r,o,s){this.name&&et.nodeStart(this.name);try{if(r.isPlayer)return this.lastStatus=N.FAILURE,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,"Player controlled, AI blocked."),this.lastStatus;const[u,a]=hn(this.child.execute(r,o,s));return this.lastStatus=u,this.name&&s.recordNodeExecution(this.name,this.lastStatus,o.gameState.time,this.depth,a),this.lastStatus}finally{this.name&&et.nodeEnd()}}}function iT(t){return new ke([new he((r,o)=>{const s=r.hunger>=xp,u=r.food.length>0,a=!r.eatingCooldownTime||o.gameState.time>=r.eatingCooldownTime;return[!!(r.isAdult&&s&&u&&a),`${Math.floor(r.hunger-xp)}, ${r.food.length}, ${r.eatingCooldownTime?Math.floor(r.eatingCooldownTime-o.gameState.time):""}`]},"Can Eat",t+1),new we(r=>(r.direction={x:0,y:0},r.target=void 0,r.activeAction="eating",N.RUNNING),"Eat",t+1)],"Eating",t)}function oT(t){return new ke([new he((r,o,s)=>{if(r.isAdult&&r.hitpoints>r.maxHitpoints*_m||r.isAdult&&r.hunger>eA)return!1;const u=u_(r.id,o.gameState);return u?(s.set("fleeThreat",u),!0):!1},"Should Flee",t+1),new we((r,o,s)=>{const u=s.get("fleeThreat");if(!u)return N.FAILURE;r.activeAction="moving";const a=zt(u.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),c=nn(a),h=vr(r.position,En(c,Tm));return r.target={x:(h.x%o.gameState.mapDimensions.width+o.gameState.mapDimensions.width)%o.gameState.mapDimensions.width,y:(h.y%o.gameState.mapDimensions.height+o.gameState.mapDimensions.height)%o.gameState.mapDimensions.height},r.direction=c,N.RUNNING},"Execute Flee",t+1)],"Flee",t)}const Lo="foodSource";function sT(t){const r=new we((s,u,a)=>{const c=new Map,h=rt(s,u.gameState,"berryBush",jp,m=>{if(m.food.length===0)return!1;if(!m.ownerId||!m.claimedUntil||u.gameState.time>=m.claimedUntil)return!0;const y=u.gameState.entities.entities.get(m.ownerId);if(!y||y.leaderId===s.leaderId)return!0;const I=c.get(y.id)??ae(s.position,y.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);return c.set(y.id,I),I>NA}),p=rt(s,u.gameState,"humanCorpse",jp,m=>m.food.length>0);let v=null;if(h&&p){const m=ae(s.position,h.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height),y=ae(s.position,p.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height);v=m<=y?h:p}else v=h||p;return v?(a.set(Lo,v),[N.SUCCESS,`Found food: ${v.type} at ${v.position.x.toFixed(0)},${v.position.y.toFixed(0)}`]):[N.FAILURE,"No food source found"]},"Find Closest Food Source",t+4),o=new we((s,u,a)=>{const c=a.get(Lo);return!c||c.food.length===0?(a.delete(Lo),[N.FAILURE,"Food source is invalid or depleted"]):ae(s.position,c.position,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)<Ar?(s.activeAction="gathering",s.direction={x:0,y:0},s.target=c.id,a.delete(Lo),[N.SUCCESS,`Gathering from ${c.type}`]):(s.activeAction="moving",s.target=c.id,s.direction=dn(s.position,c.position,u.gameState.mapDimensions),[N.RUNNING,`Moving to ${c.type}`])},"Move To Food and Gather",t+3);return new ke([new he((s,u)=>{const a=s.food.length<s.maxFood,c=s.hunger>VS,h=ht(u.gameState,s).filter(p=>p.hunger>ed);return[(s.isAdult&&a&&(c||h.length>0))??!1,`${c?"H":""}, ${h.length>0?" HC("+h.length+")":""}`]},"Should Gather Food",t+1),new Kr([new ke([new he((s,u,a)=>a.has(Lo),"Has Food Source?",t+2),o],"Continue Gathering Action",t+2),new ke([new Vl(r,uA,"Cache Food Source Search",t+3),o],"Find New Food Source and Gather",t+2)],"Perform or Start Gathering",t+1)],"Gather Food",t)}function lT(t){return new we((r,o,s)=>(r.activeAction="idle",r.direction={x:0,y:0},r.target=void 0,s.set("wanderTarget",void 0),N.SUCCESS),"Idle",t)}const wl="procreationWanderStartTime",gg=(t,r,o)=>r.find(s=>Xr(t,s,o));function aT(t){const r=new he((a,c,h)=>{const p=sg(a,c.gameState,Ar),v=gg(a,p,c.gameState);return v?(h.set("procreationPartner",v),!0):!1},"Find Immediate Partner"),o=new we((a,c,h)=>{var v;const p=h.get("procreationPartner");return p?(a.activeAction="procreating",a.target=void 0,h.delete("procreationPartner"),h.delete(wl),(v=a.partnerIds)!=null&&v.includes(p.id)||(a.partnerIds=a.partnerIds?[...a.partnerIds,p.id]:[p.id]),N.SUCCESS):N.FAILURE},"Start Procreating"),s=new he((a,c,h)=>{const p=sg(a,c.gameState,JS),v=gg(a,p,c.gameState);return v?(h.set("procreationPartner",v),!0):!1},"Locate Distant Partner"),u=new we((a,c,h)=>{const p=h.get("procreationPartner");if(!p)return N.FAILURE;if(ae(a.position,p.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<Ar)return N.SUCCESS;a.activeAction="moving",a.target=p.id;const m=zt(a.position,p.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height);return a.direction=nn(m),N.RUNNING},"Move Towards Partner");return new ke([new he(a=>!(!a.isAdult||a.gender==="female"&&a.isPregnant||a.age<_S||a.gender==="female"&&a.age>hm),"Is Fertile (age, not pregnant)",t+1),new he(a=>a.hunger<yr,"Is Healthy (hunger)",t+1),new he(a=>(a.procreationCooldown||0)<=0,"Is Ready (cooldown)",t+1),new Kr([new ke([new he((a,c)=>Gm(a.position,c.gameState,"berryBush",qS)>=ZS,"Is Environment Viable (food)",t+3),new we((a,c,h)=>(h.delete(wl),N.SUCCESS),"Clear Wander Timer",t+3)],"Sufficient Food Path",t+2),new ke([new he((a,c)=>{if(a.gender==="male"){const h=ht(c.gameState,a);return!zn(h)}return!1},"Is Male Without Heir",t+3),new we((a,c,h)=>{const p=h.get(wl);if(p===void 0)return h.set(wl,c.gameState.time),[N.FAILURE,"Starting heirless wander timer"];const v=c.gameState.time-p;return v>=TS?[N.SUCCESS,`Wandered for ${v.toFixed(1)}h, proceeding without food`]:[N.FAILURE,`Wandering for heir, ${v.toFixed(1)}h elapsed`]},"Check Wander Timer",t+3)],"Heirless Desperation Path",t+2)],"Check Environment Or Desperation",t+1),new he((a,c,h)=>{var v;const p=h.get("procreationPartner");return p&&((v=p.partnerIds)!=null&&v.length)&&!p.partnerIds.includes(a.id)&&p.partnerIds.map(m=>c.gameState.entities.entities.get(m)).filter(m=>!!m).some(m=>ae(a.position,m.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height)<RA)?[!1,"Partner's primary partner is too close"]:!0},"Is Partner's Primary Partner Nearby",t+1),new Kr([new ke([r,o],"Procreate With Immediate Partner",t+2),new br(sA,new ke([s,u],"Seek Distant Partner Action",t+3),"Seek Distant Partner Cooldown",t+2)],"Find Partner And Procreate",t+1)],"Procreate",t)}const Ti="attackTarget",xr="homeCenter",Sc=150;function uT(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const{gameState:u}=o;if(r.activeAction==="attacking"&&r.attackTargetId){const c=u.entities.entities.get(r.attackTargetId);if(c&&c.hitpoints>0&&ae(r.position,c.position,u.mapDimensions.width,u.mapDimensions.height)<=Sc){if(s.set(Ti,c),!s.get(xr)){const h=r.leaderId?Jo(r.leaderId,u):jl(r,u).length>0?lg(r,u):r.position;s.set(xr,h)}return!0}}const a=rt(r,u,"human",Sc,c=>c.hitpoints>0&&ji(r,c,u));if(a){s.set(Ti,a);const c=r.leaderId?Jo(r.leaderId,u):jl(r,u).length>0?lg(r,u):r.position;return s.set(xr,c),!0}return s.set(Ti,void 0),s.set(xr,void 0),!1},"Find Attack Target",t+1),new we((r,o,s)=>{const u=s.get(Ti),a=s.get(xr);if(!u||!a)return N.FAILURE;const{gameState:c}=o;return ae(r.position,a,c.mapDimensions.width,c.mapDimensions.height)>Sm?(r.activeAction="idle",r.attackTargetId=void 0,s.set(Ti,void 0),s.set(xr,void 0),N.FAILURE):u.hitpoints<=0||ae(r.position,u.position,c.mapDimensions.width,c.mapDimensions.height)>Sc?(r.activeAction==="attacking"&&(r.activeAction="idle",r.attackTargetId=void 0),s.set(Ti,void 0),s.set(xr,void 0),N.SUCCESS):(r.activeAction==="attacking"&&r.attackTargetId===u.id||(r.activeAction="attacking",r.attackTargetId=u.id),N.RUNNING)},"Execute Attack",t+1)],"Attack",t)}const cT=(t,r,o)=>{const s=ht(r.gameState,t).filter(c=>!c.isAdult);if(s.length===0)return N.FAILURE;let u=null,a=ed;for(const c of s)c.hunger>=a&&(a=c.hunger,u=c);return u?(o.set("targetChild",u),N.SUCCESS):N.FAILURE},dT=(t,r,o)=>{const s=o.get("targetChild");return s?ae(t.position,s.position,r.gameState.mapDimensions.width,r.gameState.mapDimensions.height)>td?(t.activeAction="moving",t.target=s.id,t.direction=dn(t.position,s.position,r.gameState.mapDimensions),N.RUNNING):(t.activeAction="feeding",t.target=void 0,o.set("targetChild",void 0),N.SUCCESS):N.FAILURE};function fT(t){return new ke([new he(r=>(r.isAdult&&r.food.length>0&&(!r.feedChildCooldownTime||r.feedChildCooldownTime<=0))??!1,"Can Feed Child",t+1),new we(cT,"Find Hungriest Child",t+1),new we(dT,"Move To Child and Feed",t+1)],"Feed Child",t)}function hT(t){return new ke([new he(r=>!r.isAdult&&r.hunger>=ed,"Is Hungry Child",t+1),new we((r,o,s)=>{const u=s_(r,o.gameState);if(u.length===0)return N.FAILURE;const a=rt(r,o.gameState,"human",NS,c=>u.some(h=>h.id===c.id)&&c.food.length>0);return a?(s.set("targetParent",a),N.SUCCESS):N.FAILURE},"Find Parent With Food",t+1),new we((r,o,s)=>{const u=s.get("targetParent");if(!u)return N.FAILURE;const a=ae(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.activeAction="idle",a<=td?(r.target=void 0,N.SUCCESS):(r.target=u.id,r.activeAction="moving",N.RUNNING)},"Move To Parent",t+1)],"Seek Food From Parent",t)}const Cl="plantingSpot";function pT(t){const r=new we((s,u,a)=>{const c=a.get(Cl);return!c||zi(c,u.gameState,ra,s.id)?(a.delete(Cl),[N.FAILURE,"Planting spot is invalid or now occupied"]):ae(s.position,c,u.gameState.mapDimensions.width,u.gameState.mapDimensions.height)>Ar?(s.activeAction="moving",s.target=c,s.direction=dn(s.position,c,u.gameState.mapDimensions),[N.RUNNING,"Moving to planting spot"]):(s.activeAction="planting",s.target=c,[N.RUNNING,"Planting state initiated"])},"Move To Spot and Plant",t+3),o=new we((s,u,a)=>{const c=g_(s,u.gameState);return c?(a.set(Cl,c),[N.SUCCESS,`Found new spot at ${c.x.toFixed(0)}, ${c.y.toFixed(0)}`]):[N.FAILURE,"No suitable planting spot found"]},"Find Optimal Planting Spot",t+3);return new ke([new he(s=>{const u=s.food.filter(c=>c.type===Gn.Berry).length>=bo,a=s.hunger<KS;return(s.isAdult&&u&&a)??!1},"Can Plant",t+1),new he((s,u)=>{const a=Gm(s.position,u.gameState,"berryBush",YS),c=ht(u.gameState,s);return!(c.length===0||a>=c.length*5)},"Has Not Enough Nearby Bushes",t+1),new Kr([new ke([new he((s,u,a)=>a.has(Cl),"Has Planting Spot?",t+2),r],"Continue Planting Action",t+2),new br(aA,o,"Find Planting Spot Cooldown",t+2)],"Perform or Start Planting",t+1)],"Plant Bush",t)}const Ac="enemiesNearby";function gT(t){const r=new he(a=>a.id===a.leaderId,"Is Leader?",t+1),o=new he(a=>!a.isCallingToAttack,"Is Not Already Calling?",t+1),s=new we((a,c,h)=>{const p=cd(a,c.gameState,Am);return p.length>0?(h.set(Ac,p),N.SUCCESS):N.FAILURE},"Find Nearby Enemies",t+1),u=new Kr([new ke([new he((a,c,h)=>{const p=h.get(Ac);if(!p||p.length===0)return!1;const v=qo(a.id,c.gameState),m=Yl(v),y=Yl(p);return m>y*SA},"Is Strong Enough?",t+3),new we((a,c)=>(a.isCallingToAttack=!0,a.callToAttackEndTime=c.gameState.time+Hi,it(c.gameState,_e.CallToAttack,a.position,Hi),Ze(c,Fe.CallToAttack,a.position),a.activeAction="idle",a.target=void 0,N.SUCCESS),"Issue Call to Attack",t+3)],"Attack",t+2),new we((a,c,h)=>{const p=h.get(Ac);if(!p||p.length===0)return N.FAILURE;const v=p.map(k=>k.position),m=ld(v),y=zt(m,a.position,c.gameState.mapDimensions.width,c.gameState.mapDimensions.height),I=nn(y),E=vr(a.position,En(I,Tm*2));return a.activeAction="moving",a.target={x:(E.x%c.gameState.mapDimensions.width+c.gameState.mapDimensions.width)%c.gameState.mapDimensions.width,y:(E.y%c.gameState.mapDimensions.height+c.gameState.mapDimensions.height)%c.gameState.mapDimensions.height},a.direction=I,N.SUCCESS},"Retreat",t+2)],"Attack or Retreat",t+2);return new ke([r,o,s,new br(AA,u,"Leader Combat Cooldown",t+1)],"Leader Combat Strategy",t)}const Ic="combatTarget",_c="homeCenter";function mT(t){const r=new he(c=>c.isAdult&&c.leaderId?c.id!==c.leaderId:!1,"Is Tribe Follower?",t+1),o=new he(c=>c.hunger<XS&&c.hitpoints>=c.maxHitpoints*_m,"Is Fit for Combat?",t+1),s=new he((c,h)=>{const p=h.gameState.entities.entities.get(c.leaderId);return!!(p!=null&&p.isCallingToAttack)},"Is Leader Calling to Attack?",t+1),u=new we((c,h,p)=>{const{gameState:v}=h,m=v.entities.entities.get(c.leaderId);if(!m)return N.FAILURE;const y=cd(m,v,tA);if(y.length===0)return N.FAILURE;y.sort((I,E)=>{const k=ae(c.position,I.position,v.mapDimensions.width,v.mapDimensions.height),P=ae(c.position,E.position,v.mapDimensions.width,v.mapDimensions.height);return k-P});for(const I of y)if(m_(m.id,I.id,v)<nA){p.set(Ic,I);const k=Jo(m.id,v);return p.set(_c,k),N.SUCCESS}return N.FAILURE},"Find Best Target",t+1),a=new we((c,h,p)=>{const v=p.get(Ic),m=p.get(_c);if(!v||!m)return N.FAILURE;const{gameState:y}=h;return ae(c.position,m,y.mapDimensions.width,y.mapDimensions.height)>Sm?(c.activeAction==="attacking"&&c.attackTargetId===v.id&&(c.activeAction="idle",c.attackTargetId=void 0),p.set(Ic,void 0),p.set(_c,void 0),N.FAILURE):((!c.lastTargetAcquiredEffectTime||h.gameState.time-c.lastTargetAcquiredEffectTime>en*5)&&(it(h.gameState,_e.TargetAcquired,c.position,en,c.id),c.lastTargetAcquiredEffectTime=h.gameState.time),c.activeAction="attacking",c.attackTargetId=v.id,c.target=void 0,N.RUNNING)},"Attack Target",t+1);return new ke([r,o,s,u,a],"Tribe Member Combat",t)}function vT(t){const r=new he((m,y)=>{if(!m.isAdult||m.gender!=="male")return!1;const I=m.partnerIds&&m.partnerIds.length>0,E=ht(y.gameState,m).length>0;return I||E},"Is Adult Male With Family?",t+1),o=new he((m,y)=>{var P;const I=pt(y.gameState);if(I){const C=zn(ht(y.gameState,I));if((C==null?void 0:C.id)===m.id)return!1}if(!m.fatherId)return!1;const E=y.gameState.entities.entities.get(m.fatherId);return!E||((P=zn(ht(y.gameState,E)))==null?void 0:P.id)===m.id?!1:ae(m.position,E.position,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<oA},"Is Too Close To Father?",t+1),s=new he((m,y,I)=>I.get("territoryMoveTarget")!==void 0,"Is Moving To Territory?",t+3),u=new we((m,y,I)=>{const E=I.get("territoryMoveTarget"),k=I.get("territoryMoveStartTime");if(!E||!k)return[N.FAILURE,"Missing move data"];if(y.gameState.time-k>rA)return I.delete("territoryMoveTarget"),I.delete("territoryMoveStartTime"),[N.FAILURE,"Territory move timed out"];if(ae(m.position,E,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height)<Ar)return I.delete("territoryMoveTarget"),I.delete("territoryMoveStartTime"),[N.SUCCESS,"Arrived at new territory"];m.activeAction="moving",m.target=E;const x=zt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=nn(x),[N.RUNNING,"Continuing move to territory"]},"Check Timeout & Arrival",t+3),a=new ke([s,u],"Handle In-Progress Move",t+2),c=new he((m,y,I)=>I.get("territoryMoveTarget")===void 0,"Should Start New Move?",t+4),h=new we((m,y,I)=>{const E=ad(m.position,y.gameState.mapDimensions.width/4,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);I.set("territoryMoveTarget",E),I.set("territoryMoveStartTime",y.gameState.time),m.activeAction="moving",m.target=E;const k=zt(m.position,m.target,y.gameState.mapDimensions.width,y.gameState.mapDimensions.height);return m.direction=nn(k),[N.RUNNING,"Started moving to new territory"]},"Start New Territory Move",t+4),p=new ke([c,h],"Start New Territory Move Action",t+3),v=new Kr([a,new br(lA,p,"Establish Territory Cooldown",t+2)],"Establish or Continue Move",t+1);return new ke([r,o,v],"Establish Family Territory",t)}function yT(t){return new ke([new we((r,o,s)=>{const u=a_(r,o.gameState);return u?(s.set("patriarchTarget",u),[N.SUCCESS,`Found patriarch: ${u.id}`]):(s.delete("patriarchTarget"),[N.FAILURE,"No patriarch found"])},"Find Patriarch",t+1),new we((r,o,s)=>{const u=s.get("patriarchTarget");if(!u)return[N.FAILURE,"Patriarch target missing from blackboard"];const a=ae(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);if(a>ym){r.activeAction="moving",r.target=u.id;const c=zt(r.position,u.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height);return r.direction=nn(c),[N.RUNNING,`Moving to patriarch at ${a.toFixed(0)}`]}return r.activeAction="idle",r.target=void 0,r.direction={x:0,y:0},[N.SUCCESS,`Arrived at patriarch at ${a.toFixed(0)}`]},"Move Towards Patriarch",t+1)],"Follow Patriarch",t)}const Tc="tribeSplitMigrationTarget";function ST(t){const r=new ke([new he((o,s)=>{const{canSplit:u,progress:a}=hd(o,s.gameState);return u?[!0,`Progress: ${(a??0)*100}%`]:[!1,"Cannot split"]},"Can Split Tribe?",t+2),new we((o,s,u)=>{const{gameState:a}=s;let c=u.get(Tc);if(!c){if(!o.leaderId)return N.FAILURE;const p=Jo(o.leaderId,a),v=U_(p,o,a);if(v)u.set(Tc,v),c=v;else return N.FAILURE}return ae(o.position,c,a.mapDimensions.width,a.mapDimensions.height)<Ar?(u.delete(Tc),o.activeAction="idle",o.target=void 0,N.SUCCESS):(o.activeAction="moving",o.target=c,N.RUNNING)},"Move to New Territory",t+2),new we((o,s)=>(pd(o,s.gameState),N.SUCCESS),"Perform Tribe Split",t+2)],"Tribe Split Action",t+1);return new br(dA,r,"Tribe Split Cooldown",t)}const Rl="jealousyAttackTarget";function AT(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=d_(r,o.gameState,IA);return u?(s.set(Rl,u),[!0,`Partner cheating with ${u.id}`]):(s.delete(Rl),!1)},"Check for Infidelity",t+1),new we((r,o,s)=>{const u=s.get(Rl);return!u||u.hitpoints<=0?(s.delete(Rl),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking ${u.id}`])},"Execute Jealousy Attack",t+1)],"Jealousy Attack",t)}const Nl="defendAggressor";function IT(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=h_(r,o.gameState,_A);return u?(s.set(Nl,u),[!0,`Family member ${u.familyMember.id} attacked by ${u.aggressor.id}`]):(s.delete(Nl),!1)},"Check Family Under Attack",t+1),new we((r,o,s)=>{const u=s.get(Nl);return!u||u.hitpoints<=0?(s.delete(Nl),[N.FAILURE,"Target invalid/dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking aggressor ${u.id}`])},"Execute Family Defense Attack",t+1)],"Defend Family",t)}const Pl="bushIntruder";function _T(t){return new ke([new he((r,o,s)=>{if(!r.isAdult)return[!1,"Not an adult"];const u=f_(r,o.gameState,TA);return u?(s.set(Pl,u),[!0,`Intruder ${u.id} stealing berries`]):(s.delete(Pl),!1)},"Check For Intruders on Bushes",t+1),new we((r,o,s)=>{const u=s.get(Pl);return!u||u.hitpoints<=0?(s.delete(Pl),[N.FAILURE,"Intruder is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Attacking intruder ${u.id}`])},"Execute Bush Defense Attack",t+1)],"Defend Claimed Bush",t)}const Ol="desperateAttackTarget";function TT(t){return new ke([new he(r=>r.hunger>EA,"Is Starving",t+1),new he((r,o)=>{if(!r.isAdult)return[!1,"Not an adult"];const s=rt(r,o.gameState,"berryBush",ut,a=>a.food.length>0),u=rt(r,o.gameState,"humanCorpse",ut,a=>a.food.length>0);return!s&&!u},"No Other Food Available",t+1),new he((r,o,s)=>{const u=p_(r,o.gameState);return u?(s.set(Ol,u),[!0,`Found weak target ${u.id}`]):(s.delete(Ol),!1)},"Find Weak Target",t+1),new we((r,o,s)=>{const u=s.get(Ol);return!u||u.hitpoints<=0?(s.delete(Ol),[N.FAILURE,"Target is invalid or dead"]):r.activeAction==="attacking"&&r.attackTargetId===u.id?N.RUNNING:(r.activeAction="attacking",r.attackTargetId=u.id,[N.RUNNING,`Desperately attacking ${u.id}`])},"Execute Desperate Attack",t+1)],"Desperate Attack",t)}function ET(t){return new ke([new he((r,o)=>r.isPlayer===!0&&!!o.gameState.autopilotControls.activeAutopilotAction,"Has Player Command",t+1),new we((r,o)=>{const{gameState:s}=o,u=s.autopilotControls.activeAutopilotAction;if(!u)return N.FAILURE;switch(u.action){case fe.AutopilotMove:{const a=u.position;return ae(r.position,a,s.mapDimensions.width,s.mapDimensions.height)<PA?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):(r.activeAction="moving",r.target=a,r.direction=dn(r.position,a,s.mapDimensions),N.RUNNING)}case fe.AutopilotGather:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)>Ar?(r.activeAction="moving",r.target=a.id,r.direction=dn(r.position,a.position,s.mapDimensions),N.RUNNING):(r.activeAction="gathering",r.target=a.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS)}case fe.AutopilotAttack:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.hitpoints<=0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=ml?(r.activeAction="attacking",r.attackTargetId=a.id,s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=dn(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotProcreate:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||!Xr(r,a,o.gameState)?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=ml?(r.activeAction="procreating",s.autopilotControls.activeAutopilotAction=void 0,N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=dn(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotPlant:{if(r.activeAction==="planting")return N.RUNNING;const a=u.position;return zi(a,s,ra,r.id)?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,a,s.mapDimensions.width,s.mapDimensions.height)<=ml?(r.activeAction="planting",r.target=a,s.autopilotControls.activeAutopilotAction=void 0,s.hasPlayerPlantedBush=!0,N.RUNNING):(r.activeAction="moving",r.target=a,r.direction=dn(r.position,a,s.mapDimensions),N.RUNNING)}case fe.AutopilotFeedChild:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.isAdult||r.food.length===0?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=ml?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction="feeding",N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=dn(r.position,a.position,s.mapDimensions),N.RUNNING)}case fe.AutopilotFollowMe:{const a=s.entities.entities.get(u.targetEntityId);return!a||a.type!=="human"||a.id!==a.leaderId?(s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE):ae(r.position,a.position,s.mapDimensions.width,s.mapDimensions.height)<=ym?(s.autopilotControls.activeAutopilotAction=void 0,r.activeAction==="moving"&&(r.activeAction="idle"),N.SUCCESS):(r.activeAction="moving",r.target=a.id,r.direction=dn(r.position,a.position,s.mapDimensions),N.RUNNING)}default:return s.autopilotControls.activeAutopilotAction=void 0,N.FAILURE}},"Execute Player Command",t+1)],"Player Command Handler",t)}function wT(t){return new ke([new he(r=>!!r.leaderId&&r.leaderId!==r.id,"Is Follower",t+1),new he((r,o)=>{if(!r.leaderId)return!1;const s=o.gameState.entities.entities.get(r.leaderId);return!!s&&s.isCallingToFollow===!0},"Is Leader Calling To Follow",t+1),new he(r=>r.hunger<QS,"Is Not Critically Hungry",t+1),new we((r,o)=>{if(!r.leaderId)return N.FAILURE;const s=o.gameState.entities.entities.get(r.leaderId);return s?ae(r.position,s.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height)>bS?(r.activeAction="moving",r.target=s.id,r.direction=dn(r.position,s.position,o.gameState.mapDimensions),N.RUNNING):(r.activeAction==="moving"&&r.target===s.id&&(r.activeAction="idle",r.target=void 0),N.SUCCESS):N.FAILURE},"Execute Follow Leader",t+1)],"Follow Leader Command",t)}const mg="tribeMigrationCheckCooldown";function CT(t){const r=new ke([new he(s=>!!s.leaderId&&s.leaderId===s.id,"Is Tribe Leader",t+2),new he((s,u)=>{var c;const a=(c=s.aiBlackboard)==null?void 0:c.get(mg);return a?u.gameState.time-a>=$p:!0},"Is Migration Check Cooldown Over",t+2),new we((s,u)=>{var c;(c=s.aiBlackboard)==null||c.set(mg,u.gameState.time);const a=v_(s,u.gameState);return a?(s.isCallingToFollow=!0,s.callToFollowEndTime=u.gameState.time+Zo,s.target=a,s.activeAction="moving",N.SUCCESS):N.FAILURE},"Execute Tribe Migration",t+2)],"Tribe Migration Strategy",t+1),o=new Vl(r,Hc,"Cache Tribe Migration",t+1);return new br($p,o,"Tribe Migration Cooldown",t)}function RT(t){const r=new he(s=>s.id===s.leaderId,"Is Leader?",t+1),o=new we((s,u)=>{var v,m,y;const{gameState:a}=u,c=qo(s.id,a),h=Yl(c),p=xm(a).filter(I=>I.leaderId!==s.id);for(const I of p){const E=qo(I.leaderId,a),k=Yl(E),P=((v=s.diplomacy)==null?void 0:v.get(I.leaderId))||Dt.Friendly;h>k*yA?P!==Dt.Hostile&&((m=s.diplomacy)==null||m.set(I.leaderId,Dt.Hostile)):P!==Dt.Friendly&&((y=s.diplomacy)==null||y.set(I.leaderId,Dt.Friendly))}return N.SUCCESS},"Evaluate Diplomacy",t+2);return new ke([r,new br(fA,o,"Diplomacy Cooldown",t+1)],"Manage Diplomacy",t)}function NT(){const t=new Kr([oT(2),IT(2),AT(2),_T(2),TT(2),ET(2),new Fo(gT(3),"Gated Leader Combat Strategy",2),new Fo(RT(3),"Gated Diplomacy",2),mT(2),new _i(uT(3),"attack","Gated Attacking",2),iT(2),new pg(new _i(sT(4),"gathering","Gated Gathering",3),Gp,"Timeout Gathering",2),new _i(fT(3),"feedChildren","Gated Feed Child",2),hT(2),new pg(new _i(pT(4),"planting","Gated Planting",3),Gp,"Timeout Planting",2),new _i(aT(3),"procreation","Gated Procreation",2),new Vl(ST(3),Hc,"Cache Tribe Split",2),new Fo(CT(3),"Gated Tribe Migration",2),new Vl(vT(3),Hc,"Cache Establish Territory",2),new _i(wT(3),"followLeader","Gated Follow Leader",2),new Fo(yT(2),"Gated Follow Patriarch",2),new Fo(lT(2),"Gated Idle Wander",2)],"AI Root Selector",1);return new rT(t,"Manual Control Gate",0)}class PT{constructor(){de(this,"data",new Map);de(this,"nodeExecutionData",new Map)}set(r,o){this.data.set(r,o)}get(r){return this.data.get(r)}delete(r){this.data.delete(r)}has(r){return this.data.has(r)}recordNodeExecution(r,o,s,u,a){const c=this.nodeExecutionData.get(r)||{lastExecuted:0,status:N.FAILURE,depth:0,debugInfo:"",executionHistory:[]},h=c.executionHistory[c.executionHistory.length-1];h&&s-(h==null?void 0:h.time)>Qo&&c.executionHistory.push({time:h.time+Qo,status:N.NOT_EVALUATED}),c.executionHistory.push({time:s,status:o});const p=Pm/qt*Zt,v=s-p;c.executionHistory=c.executionHistory.filter(y=>y.time>=v);const m={...c,lastExecuted:s,status:o,depth:u,debugInfo:a};this.nodeExecutionData.set(r,m)}getNodeExecutionData(){return this.nodeExecutionData}cleanupOldEntries(r){const o=iA,s=[];for(const[u,a]of this.nodeExecutionData.entries())r-a.lastExecuted>o&&s.push(u);for(const u of s)this.nodeExecutionData.delete(u)}}function OT(t){t.gameState.entities.entities.forEach(o=>{eT(o,t)})}function Ym(){return{entities:new Map,nextEntityId:1}}function vd(t,r,o){const s={id:t.nextEntityId++,type:r,velocity:{x:0,y:0},direction:{x:0,y:0},acceleration:0,forces:[],debuffs:[],...o};return t.entities.set(s.id,s),s}function aa(t,r,o){return vd(t,"berryBush",{position:r,radius:Bc,food:Array.from({length:dS},()=>({type:Gn.Berry})).map(u=>({...u,id:t.nextEntityId++})),maxFood:cS,lifespan:hS,age:0,spreadChance:pS,spreadRadius:Bc,timeSinceLastBerryRegen:0,timeSinceLastSpreadAttempt:0,timeSinceLastHarvest:0,stateMachine:[zo,{enteredAt:o,previousState:void 0}]})}function Kl(t,r,o,s,u=!1,a=SS,c=fm,h,p,v=[],m,y){const I=a>=Jc;return vd(t,"human",{position:r,radius:I?Jt:ia,hunger:c,hitpoints:Bp,maxHitpoints:Bp,age:a,gender:s,isPlayer:u,food:[],maxFood:dm,maxAge:Xo,isAdult:I,isPregnant:!1,gestationTime:0,procreationCooldown:0,attackCooldown:0,motherId:h,fatherId:p,ancestorIds:v,stateMachine:[ft,{enteredAt:o,previousState:void 0}],leaderId:m,tribeBadge:y,aiType:md.BehaviorTreeBased,aiBehaviorTree:NT(),aiBlackboard:new PT})}function kT(t,r,o,s,u,a,c,h,p){return vd(t,"humanCorpse",{position:r,radius:u,gender:o,age:s,originalHumanId:a,timeOfDeath:c,decayProgress:0,food:[...Array.from({length:Math.max(gm*Math.max(yr-p,0)/yr,1)},()=>({type:Gn.Meat})),...h].map(m=>({...m,id:t.nextEntityId++})),stateMachine:void 0})}function DT(t,r,o){const s=r?o.gameState.entities.entities.get(r):void 0,u=[...t.ancestorIds||[],t.id],a=s?[...s.ancestorIds||[],s.id]:[],c=[...u,...a],h=[...new Set(c)],p=h.slice(Math.max(h.length-gS,0)),v=Math.random()<.5?"male":"female",m=vr(t.position,{x:5,y:5}),y=Kl(o.gameState.entities,m,o.gameState.time,v,!1,0,fm/2,t.id,r,p,(s==null?void 0:s.leaderId)??t.leaderId,(s==null?void 0:s.tribeBadge)??t.tribeBadge);return Ze(o,Fe.Birth,t.position),y}function yd(t,r){return t.entities.get(r)?(t.entities.delete(r),!0):!1}class UT{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(r,o){let s=this.length++;for(;s>0;){const u=s-1>>1,a=this.values[u];if(o>=a)break;this.ids[s]=this.ids[u],this.values[s]=a,s=u}this.ids[s]=r,this.values[s]=o}pop(){if(this.length===0)return;const r=this.ids[0];if(this.length--,this.length>0){const o=this.ids[0]=this.ids[this.length],s=this.values[0]=this.values[this.length],u=this.length>>1;let a=0;for(;a<u;){let c=(a<<1)+1;const h=c+1;let p=this.ids[c],v=this.values[c];const m=this.values[h];if(h<this.length&&m<v&&(c=h,p=this.ids[h],v=m),v>=s)break;this.ids[a]=p,this.values[a]=v,a=c}this.ids[a]=o,this.values[a]=s}return r}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const vg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ec=3;class Sd{static from(r,o=0){if(o%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!r||r.byteLength===void 0||r.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[s,u]=new Uint8Array(r,o+0,2);if(s!==251)throw new Error("Data does not appear to be in a Flatbush format.");const a=u>>4;if(a!==Ec)throw new Error(`Got v${a} data when expected v${Ec}.`);const c=vg[u&15];if(!c)throw new Error("Unrecognized array type.");const[h]=new Uint16Array(r,o+2,1),[p]=new Uint32Array(r,o+4,1);return new Sd(p,h,c,void 0,r,o)}constructor(r,o=16,s=Float64Array,u=ArrayBuffer,a,c=0){if(r===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(r)||r<=0)throw new Error(`Unexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+o,2),65535),this.byteOffset=c;let h=r,p=h;this._levelBounds=[h*4];do h=Math.ceil(h/this.nodeSize),p+=h,this._levelBounds.push(p*4);while(h!==1);this.ArrayType=s,this.IndexArrayType=p<16384?Uint16Array:Uint32Array;const v=vg.indexOf(this.ArrayType),m=p*4*this.ArrayType.BYTES_PER_ELEMENT;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);a&&a.byteLength!==void 0&&!a.buffer?(this.data=a,this._boxes=new this.ArrayType(this.data,c+8,p*4),this._indices=new this.IndexArrayType(this.data,c+8+m,p),this._pos=p*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new u(8+m+p*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,p*4),this._indices=new this.IndexArrayType(this.data,8+m,p),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(Ec<<4)+v]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=r),this._queue=new UT}add(r,o,s=r,u=o){const a=this._pos>>2,c=this._boxes;return this._indices[a]=a,c[this._pos++]=r,c[this._pos++]=o,c[this._pos++]=s,c[this._pos++]=u,r<this.minX&&(this.minX=r),o<this.minY&&(this.minY=o),s>this.maxX&&(this.maxX=s),u>this.maxY&&(this.maxY=u),a}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const r=this._boxes;if(this.numItems<=this.nodeSize){r[this._pos++]=this.minX,r[this._pos++]=this.minY,r[this._pos++]=this.maxX,r[this._pos++]=this.maxY;return}const o=this.maxX-this.minX||1,s=this.maxY-this.minY||1,u=new Uint32Array(this.numItems),a=65535;for(let c=0,h=0;c<this.numItems;c++){const p=r[h++],v=r[h++],m=r[h++],y=r[h++],I=Math.floor(a*((p+m)/2-this.minX)/o),E=Math.floor(a*((v+y)/2-this.minY)/s);u[c]=FT(I,E)}$c(u,r,this._indices,0,this.numItems-1,this.nodeSize);for(let c=0,h=0;c<this._levelBounds.length-1;c++){const p=this._levelBounds[c];for(;h<p;){const v=h;let m=r[h++],y=r[h++],I=r[h++],E=r[h++];for(let k=1;k<this.nodeSize&&h<p;k++)m=Math.min(m,r[h++]),y=Math.min(y,r[h++]),I=Math.max(I,r[h++]),E=Math.max(E,r[h++]);this._indices[this._pos>>2]=v,r[this._pos++]=m,r[this._pos++]=y,r[this._pos++]=I,r[this._pos++]=E}}}search(r,o,s,u,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const h=[],p=[];for(;c!==void 0;){const v=Math.min(c+this.nodeSize*4,Sg(c,this._levelBounds));for(let m=c;m<v;m+=4){if(s<this._boxes[m]||u<this._boxes[m+1]||r>this._boxes[m+2]||o>this._boxes[m+3])continue;const y=this._indices[m>>2]|0;c>=this.numItems*4?h.push(y):(a===void 0||a(y))&&p.push(y)}c=h.pop()}return p}neighbors(r,o,s=1/0,u=1/0,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const h=this._queue,p=[],v=u*u;e:for(;c!==void 0;){const m=Math.min(c+this.nodeSize*4,Sg(c,this._levelBounds));for(let y=c;y<m;y+=4){const I=this._indices[y>>2]|0,E=yg(r,this._boxes[y],this._boxes[y+2]),k=yg(o,this._boxes[y+1],this._boxes[y+3]),P=E*E+k*k;P>v||(c>=this.numItems*4?h.push(I<<1,P):(a===void 0||a(I))&&h.push((I<<1)+1,P))}for(;h.length&&h.peek()&1;)if(h.peekValue()>v||(p.push(h.pop()>>1),p.length===s))break e;c=h.length?h.pop()>>1:void 0}return h.clear(),p}}function yg(t,r,o){return t<r?r-t:t<=o?0:t-o}function Sg(t,r){let o=0,s=r.length-1;for(;o<s;){const u=o+s>>1;r[u]>t?s=u:o=u+1}return r[o]}function $c(t,r,o,s,u,a){if(Math.floor(s/a)>=Math.floor(u/a))return;const c=t[s+u>>1];let h=s-1,p=u+1;for(;;){do h++;while(t[h]<c);do p--;while(t[p]>c);if(h>=p)break;MT(t,r,o,h,p)}$c(t,r,o,s,p,a),$c(t,r,o,p+1,u,a)}function MT(t,r,o,s,u){const a=t[s];t[s]=t[u],t[u]=a;const c=4*s,h=4*u,p=r[c],v=r[c+1],m=r[c+2],y=r[c+3];r[c]=r[h],r[c+1]=r[h+1],r[c+2]=r[h+2],r[c+3]=r[h+3],r[h]=p,r[h+1]=v,r[h+2]=m,r[h+3]=y;const I=o[s];o[s]=o[u],o[u]=I}function FT(t,r){let o=t^r,s=65535^o,u=65535^(t|r),a=t&(r^65535),c=o|s>>1,h=o>>1^o,p=u>>1^s&a>>1^u,v=o&u>>1^a>>1^a;o=c,s=h,u=p,a=v,c=o&o>>2^s&s>>2,h=o&s>>2^s&(o^s)>>2,p^=o&u>>2^s&a>>2,v^=s&u>>2^(o^s)&a>>2,o=c,s=h,u=p,a=v,c=o&o>>4^s&s>>4,h=o&s>>4^s&(o^s)>>4,p^=o&u>>4^s&a>>4,v^=s&u>>4^(o^s)&a>>4,o=c,s=h,u=p,a=v,p^=o&u>>8^s&a>>8,v^=s&u>>8^(o^s)&a>>8,o=p^p>>1,s=v^v>>1;let m=t^r,y=s|65535^(m|o);return m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,y=(y|y<<8)&16711935,y=(y|y<<4)&252645135,y=(y|y<<2)&858993459,y=(y|y<<1)&1431655765,(y<<1|m)>>>0}function wc(t,r){if(t.length===0)return{byRect:()=>[],byRadius:()=>[],byProperty:()=>[],resetPropertyCache:()=>{}};const o=new Sd(t.length),s=new Map;for(const a of t)o.add(a.position.x,a.position.y,a.position.x,a.position.y);return o.finish(),{byRect(a){return o.search(a.left,a.top,a.right,a.bottom).map(h=>t[h])},byRadius(a,c){return o.neighbors(a.x,a.y,void 0,c).map(p=>t[p])},byProperty(a,c){var h;if(!s.has(a)){const p=new Map;for(const v of t){const m=v[a];p.has(m)||p.set(m,[]),p.get(m).push(v)}s.set(a,p)}return((h=s.get(a))==null?void 0:h.get(c))||[]},resetPropertyCache(){s.clear()}}}function Ad(t){const r=Array.from(t.entities.entities.values()),o=r.filter(c=>c.type==="human"),s=r.filter(c=>c.type==="berryBush"),u=r.filter(c=>c.type==="humanCorpse");return{...t,search:{human:wc(o),berryBush:wc(s),humanCorpse:wc(u)}}}var Bn=(t=>(t.MOVE="MOVE",t.HUNGER="HUNGER",t.EAT="EAT",t.FIND_BUSH="FIND_BUSH",t.GATHER="GATHER",t.PROCREATE="PROCREATE",t.PLANT_BUSH="PLANT_BUSH",t.AUTOPILOT="AUTOPILOT",t))(Bn||{}),Vr=(t=>(t.HUNGER_BAR="HUNGER_BAR",t.FOOD_BAR="FOOD_BAR",t.COMMAND_BUTTONS="COMMAND_BUTTONS",t))(Vr||{}),Et=(t=>(t[t.FADING_IN=0]="FADING_IN",t[t.ACTIVE=1]="ACTIVE",t[t.FADING_OUT=2]="FADING_OUT",t[t.INACTIVE=3]="INACTIVE",t))(Et||{});const LT=[{key:Bn.MOVE,title:"Movement",text:"Use WASD or Arrow Keys to move your character around the world.",condition:t=>t.hasPlayerMovedEver||t.hasPlayerEnabledAutopilot>2,isCompleted:!1},{key:Bn.HUNGER,title:"Hunger",text:"Your character gets hungry over time. Watch the hunger bar!",condition:(t,r)=>r.hunger>mS,isCompleted:!1,minDisplayTime:ng,highlightedUIElements:[Vr.HUNGER_BAR]},{key:Bn.FIND_BUSH,title:"Find Food",text:"Look for berry bushes. They are your primary source of food.",condition:(t,r)=>!!rt(r,t,"berryBush",ut*5,s=>s.food.length>0),getTargets:(t,r)=>{const o=[];for(const s of t.entities.entities.values())s.type==="berryBush"&&s.food.length>0&&ae(r.position,s.position,t.mapDimensions.width,t.mapDimensions.height)<500&&o.push(s);return o.map(s=>s.id)},isCompleted:!1,minDisplayTime:ng},{key:Bn.GATHER,title:"Gather Berries",text:"Get close to a bush and press 'E' to gather berries.",condition:(t,r)=>r.food.length>0,getTargets:(t,r)=>{const o=rt(r,t,"berryBush",ut,s=>s.food.length>0);return o?[o.id]:[]},isCompleted:!1},{key:Bn.EAT,title:"Eat",text:"When you are hungry and have food, press 'F' to eat.",condition:(t,r)=>r.activeAction==="eating",isCompleted:!1,highlightedUIElements:[Vr.FOOD_BAR]},{key:Bn.PROCREATE,title:"Procreate",text:"Find a mate and press 'R' to start a family. This is how you continue your lineage.",condition:(t,r)=>ht(t,r).length>0,getTargets:(t,r)=>{const o=rt(r,t,"human",ut,s=>Xr(r,s,t));return o?[o.id]:[]},isCompleted:!1},{key:Bn.PLANT_BUSH,title:"Farming",text:"You can plant new berry bushes. Carry some berries and press 'B' to plant.",condition:(t,r)=>gd(t,r).some(s=>s.type===fe.Plant)||t.hasPlayerPlantedBush===!0,isCompleted:!1},{key:Bn.AUTOPILOT,title:"Autopilot!",text:"You can turn autopilot for specific actions, press Shift and click on the action button to enable it.",condition:t=>t.hasPlayerEnabledAutopilot>2,highlightedUIElements:[Vr.COMMAND_BUTTONS],isCompleted:!1}];function Vm(){return{steps:LT.map(t=>({...t,isCompleted:!1}))}}function Km(){return{currentStepIndex:0,completedSteps:new Set,isActive:!0,transitionState:Et.FADING_IN,transitionAlpha:0,highlightedEntityIds:new Set,stepStartTime:null,activeUIHighlights:new Set}}function BT(t){for(let r=0;r<t.tutorial.steps.length;r++){const o=t.tutorial.steps[r];if(!o.isCompleted)if(o.dependsOn){if(t.tutorialState.completedSteps.has(o.dependsOn))return r}else return r}return null}function HT(t,r){const o=t.tutorialState;if(!o.isActive){o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const s=pt(t);if(!s){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const u=t.tutorial.steps[o.currentStepIndex];if(!u){o.isActive=!1,o.transitionState=Et.INACTIVE,o.highlightedEntityIds.clear(),o.activeUIHighlights.clear();return}const a=1/NI;switch(o.transitionState){case Et.FADING_IN:o.stepStartTime===null&&(o.stepStartTime=t.time),o.transitionAlpha+=a*r,o.transitionAlpha>=1&&(o.transitionAlpha=1,o.transitionState=Et.ACTIVE);break;case Et.ACTIVE:{t.time-(o.stepStartTime||t.time)>=(u.minDisplayTime||0)&&u.condition(t,s)&&(u.isCompleted=!0,o.completedSteps.add(u.key),o.transitionState=Et.FADING_OUT);break}case Et.FADING_OUT:if(o.transitionAlpha-=a*r,o.transitionAlpha<=0){o.transitionAlpha=0,o.stepStartTime=null;const h=BT(t);h!==null?(o.currentStepIndex=h,o.transitionState=Et.FADING_IN):(o.isActive=!1,o.transitionState=Et.INACTIVE)}break}o.transitionState!==Et.FADING_OUT&&o.transitionState!==Et.INACTIVE?(u.getTargets?o.highlightedEntityIds=new Set(u.getTargets(t,s)):o.highlightedEntityIds.clear(),u.highlightedUIElements?o.activeUIHighlights=new Set(u.highlightedUIElements):o.activeUIHighlights.clear()):(o.highlightedEntityIds.clear(),o.activeUIHighlights.clear())}function xT(){const t=Ym(),r=0;for(let m=0;m<lm;m++){const y={x:Math.random()*$r,y:Math.random()*jr};aa(t,y,r)}const o=$r/2,s=jr/2,u=Kl(t,{x:o,y:s},r,"male",!0);Kl(t,{x:o+50,y:s},r,"female",!1);const a=[{id:"muteButton",action:Te.ToggleMute,currentWidth:Oi,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:ki},{id:"pauseButton",action:Te.TogglePause,currentWidth:Oi,rect:{x:0,y:0,width:0,height:0},text:"",backgroundColor:"",textColor:ki}],c=Vm(),h=Km(),p={time:r,entities:t,mapDimensions:{width:$r,height:jr},generationCount:1,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{...u.position},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,hasPlayerPlantedBush:!1,hasPlayerEnabledAutopilot:0,masterVolume:Mm,isMuted:!1,uiButtons:a,tutorial:c,tutorialState:h,hoveredButtonId:void 0,mousePosition:{x:0,y:0},notifications:[{id:"welcome",type:es.Hello,message:"Welcome to the game!",duration:50,targetEntityIds:[u.id],highlightedEntityIds:[u.id],timestamp:0,isDismissed:!1,creationTime:Date.now()}]},v=Ad(p);return console.log("Game world initialized:",v),v}function GT(){const t=Ym(),r=0;for(let a=0;a<lm;a++){const c={x:Math.random()*$r,y:Math.random()*jr};aa(t,c,r)}for(let a=0;a<FI;a++){const c={x:Math.random()*$r,y:Math.random()*jr},h=Math.random()<.5?"male":"female";Kl(t,c,r,h,!1)}const o=Vm(),s=Km(),u={time:r,entities:t,mapDimensions:{width:$r,height:jr},generationCount:0,gameOver:!1,visualEffects:[],nextVisualEffectId:0,viewportCenter:{x:$r/2,y:jr/2},isPaused:!1,autopilotControls:{behaviors:{procreation:!1,planting:!1,gathering:!1,attack:!1,feedChildren:!0,followLeader:!1},hoveredAutopilotAction:void 0,activeAutopilotAction:void 0,isManuallyMoving:!1},hasPlayerMovedEver:!1,hasPlayerPlantedBush:!1,hasPlayerEnabledAutopilot:0,masterVolume:Mm,isMuted:!0,uiButtons:[],tutorial:o,tutorialState:s,hoveredButtonId:void 0,mousePosition:{x:0,y:0},notifications:[]};return Ad(u)}const zT="humanProcreation",WT="human",$T="human",jT=ut,YT=(t,r,o)=>Xr(t,r,o.gameState)?t.gender==="male"?t.activeAction==="procreating":t.activeAction==="procreating"&&r.activeAction==="procreating":!1,VT=(t,r,o)=>{var p,v;const{gameState:s}=o,u={x:(t.position.x+r.position.x)/2,y:(t.position.y+r.position.y)/2},a=t.gender==="male"?t:r,c=t.gender==="female"?t:r,h=(a.partnerIds||[]).length===0;if(t.stateMachine=[ns,{partnerId:r.id,previousState:(p=t.stateMachine)==null?void 0:p[0]}],r.stateMachine=[ns,{partnerId:t.id,previousState:(v=r.stateMachine)==null?void 0:v[0]}],t.partnerIds||(t.partnerIds=[]),t.partnerIds.includes(r.id)||t.partnerIds.push(r.id),r.partnerIds||(r.partnerIds=[]),r.partnerIds.includes(t.id)||r.partnerIds.push(t.id),h&&a.leaderId&&a.leaderId!==a.id){const m=s.entities.entities.get(a.leaderId);if(m){const y=Gc(a,m),I=Gc(c,m);if(!y&&!I){const E=zc();a.leaderId=a.id,a.tribeBadge=E,a.diplomacy=new Map,c.leaderId=a.id,c.tribeBadge=E}}}else if(!t.leaderId&&!r.leaderId&&a&&c){const m=zc();a.leaderId=a.id,a.tribeBadge=m,a.diplomacy=new Map,c.leaderId=a.id,c.tribeBadge=m}t.activeAction=void 0,it(s,_e.Procreation,u,Ho),it(s,_e.Partnered,t.position,en,t.id),it(s,_e.Partnered,r.position,en,r.id),t.lastPartneredEffectTime=s.time,r.lastPartneredEffectTime=s.time,r.activeAction=void 0,Ze(o,Fe.Procreate,u)},KT={id:zT,sourceType:WT,targetType:$T,maxDistance:jT,checker:YT,perform:VT},XT={id:"humanChildFeeding",sourceType:"human",targetType:"human",maxDistance:td,checker:(t,r)=>t.isAdult===!0&&t.food.length>0&&(!t.feedChildCooldownTime||t.feedChildCooldownTime<=0)&&r.isAdult===!1&&(r.motherId===t.id||r.fatherId===t.id)&&r.hunger>=Sr&&t.activeAction==="feeding",perform:(t,r,o)=>{t.food.pop(),r.hunger=Math.max(0,r.hunger-Sr),t.feedChildCooldownTime=RS,(!r.lastChildFedEffectTime||o.gameState.time-r.lastChildFedEffectTime>2)&&(it(o.gameState,_e.ChildFed,r.position,en,r.id),r.lastChildFedEffectTime=o.gameState.time),Ze(o,Fe.ChildFed,r.position)}},bT={id:"human-attack",sourceType:"human",targetType:"human",maxDistance:na,checker:(t,r,o)=>{var a;if(((a=t.stateMachine)==null?void 0:a[0])!==Wi||t.attackTargetId!==r.id||(t.attackCooldown||0)>0)return!1;const s=t.stateMachine[1];return o.gameState.time-s.attackStartTime>=mm},perform:(t,r,o)=>{const s=zt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),u=i_(nn(s),r.direction);if(Math.abs(u)<WS*Math.PI/180&&Math.random()<$S)it(o.gameState,_e.AttackDeflected,r.position,en,r.id);else{let h=US;t.gender==="male"&&(h*=xS),t.isAdult||(h*=GS),(!r.isAdult||r.age>=pm)&&t.isAdult&&(h*=zS),r.hitpoints-=h,r.movementSlowdown={modifier:FS,endTime:o.gameState.time+LS},it(o.gameState,_e.Hit,r.position,en,r.id);const v=zt(t.position,r.position,o.gameState.mapDimensions.width,o.gameState.mapDimensions.height),m=En(v,MS);r.forces.push(m),r.hitpoints<=0?Ze(o,Fe.HumanDeath,r.position):Ze(o,Fe.Attack,t.position)}t.attackCooldown=vm;const c=t.stateMachine[1];c.attackStartTime=o.gameState.time,it(o.gameState,_e.Attack,t.position,en,t.id)}},QT={id:"human-collision",sourceType:"human",targetType:"human",maxDistance:Jt*2,checker:(t,r,{gameState:o})=>ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height)<(t.radius+r.radius)/3,perform:(t,r,{gameState:o})=>{const s=ae(t.position,r.position,o.mapDimensions.width,o.mapDimensions.height);if(s===0){t.forces.push({x:.1,y:0}),r.forces.push({x:-.1,y:0});return}const a=(t.radius+r.radius-s)*.05,c=nn(Lm(t.position,r.position)),h=En(c,a);t.forces.push(h),r.forces.push(En(h,-1))}},ZT={id:"humanBerryBushGather",sourceType:"human",targetType:"berryBush",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===la&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,r.timeSinceLastHarvest=o.gameState.time,r.ownerId=t.id,r.claimedUntil=o.gameState.time+am,it(o.gameState,_e.BushClaimed,r.position,en),Ze(o,Fe.Gather,t.position)}},qT={id:"humanCorpseGather",sourceType:"human",targetType:"humanCorpse",maxDistance:ut,checker:(t,r,o)=>{var s;return t.isAdult&&r.food.length>0&&((s=t.stateMachine)==null?void 0:s[0])===la&&t.food.length<t.maxFood&&(!t.gatheringCooldownTime||t.gatheringCooldownTime<o.gameState.time)||!1},perform:(t,r,o)=>{const s=r.food.pop();s&&t.food.push(s),t.gatheringCooldownTime=o.gameState.time+1,Ze(o,Fe.Gather,t.position)}},JT=[ZT,qT],eE=[QT,...JT,KT,XT,bT];function tE(t){const{gameState:r}=t,o=r,s=Array.from(r.entities.entities.values());for(const u of eE)for(const a of s){if(u.sourceType&&a.type!==u.sourceType)continue;const c=o.search[u.targetType].byRadius(a.position,u.maxDistance);for(const h of c){if(a.id===h.id)continue;ae(a.position,h.position,r.mapDimensions.width,r.mapDimensions.height)<=u.maxDistance&&u.checker(a,h,t)&&u.perform(a,h,t)}}}function nE(t){t.visualEffects=t.visualEffects.filter(r=>t.time-r.startTime<=r.duration)}const rE=1/60;function iE(t,r){const o=pt(t);o&&(t.viewportCenter=sd(t.viewportCenter,o.position,qc*r))}function oE(t){for(const o of t.entities.entities.values())o.isHighlighted=!1;const r=t.notifications.filter(o=>!o.isDismissed);for(const o of r)if(o.highlightedEntityIds)for(const s of o.highlightedEntityIds){const u=t.entities.entities.get(s);u&&(u.isHighlighted=!0)}}function ua(t,r){if(t.isPaused)return t;for(;r>0;){const o=Ad(t),s=Math.min(r,rE);if(o.gameOver)return o;const u=s*(Zt/qt);o.time+=u,iE(o,s),I_(o),oE(o),OT({gameState:o,deltaTime:s}),tE({gameState:o,deltaTime:s}),nE(o),HT(o,s),t=o,r-=s}return t}function Ag(t,r,o){t.save();const{x:s,y:u,width:a,height:c}=r.rect,h=nI;if(t.beginPath(),t.moveTo(s+h,u),t.lineTo(s+a-h,u),t.quadraticCurveTo(s+a,u,s+a,u+h),t.lineTo(s+a,u+c-h),t.quadraticCurveTo(s+a,u+c,s+a-h,u+c),t.lineTo(s+h,u+c),t.quadraticCurveTo(s,u+c,s,u+c-h),t.lineTo(s,u+h),t.quadraticCurveTo(s,u,s+h,u),t.closePath(),t.fillStyle=r.isDisabled?rI:r.backgroundColor,t.fill(),r.activated){t.save();const p=(Math.sin(Date.now()/1e3*uI)+1)/2;t.strokeStyle=aI,t.lineWidth=2+p*2,t.globalAlpha=.7+p*.3,t.stroke(),t.restore()}if(r.lastActivated){const p=Date.now()-r.lastActivated;if(p<Xp){const v=1-p/Xp;t.fillStyle=oI,t.globalAlpha=v,t.fill(),t.globalAlpha=1}}o&&!r.isDisabled&&(t.fillStyle=Nm,t.globalAlpha=.5,t.fill(),t.globalAlpha=1),t.fillStyle=r.isDisabled?iI:r.textColor,r.icon?(t.font=`${c*.55}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(r.icon,s+a/2,u+c/2),r.text&&(t.font=`${c*.18}px "Press Start 2P", Arial`,t.textAlign="right",t.textBaseline="bottom",t.fillText(r.text,s+a-4,u+c-2))):(t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,s+a/2,u+c/2)),t.restore()}function sE(t,r,o,s){t.save(),t.font=`${bp}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="bottom";const a=t.measureText(o).width,c=bp,h=a+Qp*2,p=c+Qp*2,v=s.x-h/2,m=t.canvas.height,y=r.y<m/2?r.y+r.height-Zp:r.y-p+Zp;t.fillStyle=sI,t.fillRect(v,y,h,p),t.fillStyle=lI,t.fillText(o,s.x,y+p/2+c/2),t.restore()}function lE(t,r,o){t.save();const s=pt(r),u=[{id:"fastForwardButton",action:Te.FastForward,text:"FFWD [T]",currentWidth:Oi*1.3,backgroundColor:Al,textColor:ki,tooltip:"Fast-forward time",rect:{x:0,y:0,width:0,height:0}},{id:"pauseButton",action:Te.TogglePause,text:r.isPaused?"UN[P]AUSE":"[P]AUSE",backgroundColor:r.isPaused?dc:Al,currentWidth:r.isPaused?Oi*1.4:Oi*1.1,tooltip:r.isPaused?"Resume Game":"Pause Game",rect:{x:0,y:0,width:0,height:0},textColor:ki},{id:"muteButton",action:Te.ToggleMute,text:r.isMuted?"UN[M]UTE":"[M]UTE",backgroundColor:r.isMuted?dc:Al,tooltip:`Toggle Sound (${r.isMuted?"Muted":"Enabled"})`,currentWidth:Oi,rect:{x:0,y:0,width:0,height:0},textColor:ki}];if(r.uiButtons.push(...u),s){const v=gd(r,s),m=new Set(v.map(B=>B.type));let y=[{playerAction:fe.Gather,buttonAction:Te.CommandGather,shortcut:"E",name:"Gather",toggleKey:"gathering",condition:()=>s.isAdult===!0},{playerAction:fe.Eat,buttonAction:Te.CommandEat,shortcut:"F",name:"Eat"},{playerAction:fe.Plant,buttonAction:Te.CommandPlant,shortcut:"B",name:"Plant",toggleKey:"planting",condition:()=>s.isAdult===!0},{playerAction:fe.Procreate,buttonAction:Te.ToggleProcreationBehavior,shortcut:"R",name:"Procreation",toggleKey:"procreation",condition:()=>s.isAdult===!0},{playerAction:fe.FeedChild,buttonAction:Te.ToggleFeedChildBehavior,shortcut:"H",name:"Feed Child",toggleKey:"feedChildren",condition:()=>s.isAdult===!0},{playerAction:fe.Attack,buttonAction:Te.ToggleAttackBehavior,shortcut:"Q",name:"Attack",toggleKey:"attack",condition:()=>s.isAdult===!0},{playerAction:fe.FollowMe,buttonAction:Te.CommandFollowMe,shortcut:"C",name:"Follow Me",toggleKey:"followLeader",condition:()=>s.isAdult===!0},{playerAction:fe.CallToAttack,buttonAction:Te.CommandCallToAttack,shortcut:"V",name:"Call to Attack",condition:()=>s.isAdult===!0},{playerAction:fe.TribeSplit,buttonAction:Te.CommandTribeSplit,shortcut:"K",name:"Split Tribe",condition:()=>s.leaderId!==void 0&&s.leaderId!==s.id&&s.isAdult===!0}];y=y.filter(B=>B.condition?B.condition():!0);const I=1,E=y.length,k=E*Br+(E-1)*_l,P=I*Br+(I-1)*_l,C=(o-k)/2,x=t.canvas.height-P-20;y.forEach((B,H)=>{const $=H%E,le=Math.floor(H/E),M=C+$*(Br+_l),j=x+le*(Br+_l),pe=!!B.toggleKey,Re=pe&&r.autopilotControls.behaviors[B.toggleKey],Ue=!m.has(B.playerAction),Ve=!r.hasPlayerEnabledAutopilot||r.hasPlayerEnabledAutopilot<3?" (Press Shift to toggle Auto)":"",Be=pe?`${B.name}${Ve}`:B.name,Le=Re?dc:Al,ye={id:`commandButton_${B.name}`,action:B.buttonAction,rect:{x:M,y:j,width:Br,height:Br},icon:sa[B.playerAction],text:B.shortcut,backgroundColor:Le,textColor:ki,currentWidth:Br,tooltip:Be,isDisabled:Ue,activated:Re};r.uiButtons.push(ye)})}let a=o-kt;u.forEach(v=>{const m=kt,y=a-v.currentWidth;v.rect={x:y,y:m,width:v.currentWidth,height:eI},Ag(t,v,r.hoveredButtonId===v.id),a-=v.currentWidth+tI});let c=null;r.uiButtons.filter(v=>v.id.startsWith("commandButton_")).forEach(v=>{c||(c={x:v.rect.x,y:v.rect.y,width:v.rect.width,height:v.rect.height}),c.x=Math.min(c.x,v.rect.x),c.y=Math.min(c.y,v.rect.y),c.width=Math.max(c.width,v.rect.x+v.rect.width-c.x),c.height=Math.max(c.height,v.rect.y+v.rect.height-c.y),Ag(t,v,r.hoveredButtonId===v.id)});const p=r.hoveredButtonId?r.uiButtons.find(v=>v.id===r.hoveredButtonId):void 0;return p&&p.tooltip&&r.mousePosition&&sE(t,p.rect,p.tooltip,r.mousePosition),t.restore(),{commandButtonsRect:c}}function aE(t){t.save(),t.fillStyle=AI,t.fillRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle=II,t.font=`${_I}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("PAUSED",t.canvas.width/2,t.canvas.height/2),t.restore()}const uE=25,cE=0,Ig=28;function Xm(t,r,o,s,u,a,c,h,p){t.save();const v=r.x-c.x+h/2,m=r.y-c.y+p/2;t.strokeStyle=s,t.lineWidth=a,t.setLineDash(u),t.beginPath(),t.arc(v,m,o+oa,0,2*Math.PI),t.stroke(),t.restore()}function dE(t,r,o,s,u,a){if(r=r.filter(m=>m.type!==fe.FollowMe),r.length===0)return;t.save(),r.forEach(m=>{m.targetEntity&&Xm(t,m.targetEntity.position,m.targetEntity.radius,rd,id,2,s,u,a)}),t.font=`${xi}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const c=o.position.x-s.x+u/2,h=o.position.y-s.y+a/2;let p=0,v={};r.forEach(m=>{const y=sa[m.type];if(m.targetEntity){v[m.targetEntity.id]=(v[m.targetEntity.id]||0)+1;const I=m.targetEntity.position.x-s.x+u/2,E=m.targetEntity.position.y-s.y+a/2,k=`${y}${m.key.toUpperCase()}`,P=E-m.targetEntity.radius-oa-xi/2-(v[m.targetEntity.id]-1)*Ig;t.fillText(k,I,P)}else{t.textAlign="left";const I=`${y}${m.key.toUpperCase()}`,E=c+uE,P=h+cE+p*Ig;t.fillText(I,E,P),p++,t.textAlign="center"}}),t.restore()}const re=(t,r,o,s,u,a,c)=>{a==="transparent"||s<=0||u<=0||(t.fillStyle=a,t.fillRect(Math.floor(r*c),Math.floor(o*c),Math.ceil(s*c),Math.ceil(u*c)))},_g=10,Tg=10,In=6,Hn=4,kl=2,fE=5,Qt=4,hE=2,St=4,pE=2,$e=3,Ei=2,gr=0,jo=gr+Hn-1,Tt=jo,Qe=jo+Qt-1,gE="rgba(0, 0, 0, 0.4)",mE=4,vE=1,Id={name:"tribe-human-2d",referenceImage:"swos.png",description:`A 2D human character asset for the Tribe game. This includes ensuring that the unique animations for stances like 'eat' and 'procreate' do not erroneously appear in other stances, such as 'walk', which was observed in the provided rendered media. The 'idle' animation was updated to a leg sway to better match the provided video for that stance, replacing a simpler body bob.

# Visual style

Human characters in the Tribe game are inspired by classic 2D pixel art, they look like Sensible Soccer players(Sensible Soccer game visual style is IMPORTANT), with a simple and recognizable design. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

Character in Tribe game look like people from stone age, they have simple clothing, no shoes, and no modern accessories. The characters are designed to be easily distinguishable and animated in a way that conveys their actions clearly.

# Technical details

The asset is rendered on a canvas using the CanvasRenderingContext2D API. The rendering function takes parameters for position, size, progress, stance, direction, gender, and age. The character can face left or right, and the rendering adapts based on the stance (e.g., idle, walk, eat, procreate).
The rendering function must be simple and efficient, it should not use complex patterns or gradients, and should focus on solid colors and basic shapes to maintain the pixel art aesthetic.

15% padding from all edges of the rendering box is required to ensure the character is not cut off during rendering.

Subtle shadow should be drawn under the character to give it a sense of depth.

# Rendering parameters

- age: The age of the character, which affects the size and proportions of the body parts. Age is a number between 1 and 60, with 20 being the average age.
- gender: 
  - The male characters should have only pants, while female cover their breasts with a top. The clothing should be simple and muted, reflecting a stone-age style.
  - Female characters should have long hair, while male should have short hair and beard.
  - Male characters should have a more robust, muscular build
  - Female characters should have thinner arms and legs, with a more pronounced waist and hips.
- isPregnant: (applicable only for females) Indicates if the character is pregnant, like very large belly. Pregnant characters should have a larger torso.
- direction: A vector indicating the character's facing direction. There should be at least 8 directions (like in Sensible Soccer): top left, top, top right, left, right, bottom left, bottom, bottom right. The character should be flipped horizontally if the direction vector's X component is negative.
             When moving up(top, top left, top right), the character back of the head should be visible, when moving down(Y > 0), the character face should be visible.
- hungryLevel: A number between 0 and 100 indicating how hungry the character is, hunger level 100 means the character is starving, 0 means the character is not hungry at all. So hungry characters should be thinner, with less body fat, and more pronounced muscles. The character's hunger level affects the size and proportions of the body parts, with hungrier characters being smaller and more gaunt.

# Rendering details

- All parts of the body must be connected
- Rendering must take into account direction vector (X and Y) to flip the character horizontally if needed
- The character's age affects the size and proportions of the body parts, with older characters being larger and more robust. Hair color should become gray for older characters.

# Stances

- 'idle': The character stands still, with a slight leg sway to indicate life.
- 'walk': The character moves forward, with legs and arms in motion.
- 'gathering': The character is gathering food from berry bushes, with arms reaching out and a slight bend at the knees.
- 'eat': The character holds food and brings it to their mouth, with a slight bend at the knees.
- 'procreate': The character performs a mating animation, with a specific pose and movement. There should be some additional visual effects to indicate this action, such as a slight glow or aura around the characters, or dust particles to indicate movement.
- 'attacking': The character performs an attack animation, with arms raised and a forward motion.
- 'defending': The character takes a defensive stance, with arms raised and a slight bend at the knees.
- 'stunned': The character is stunned and laying on the ground, with limbs relaxed and a neutral expression.
- 'dead': The character lies on the ground, with limbs relaxed and a neutral expression, slowly turns into a skeleton over time.

`,stances:["idle","walk","gathering","eat","procreate","dead","attacking","defending","stunned"],render(t,r,o,s,u,a,c,h="male",p=20,v=[1,0],m=!1,y=0){const I=["dead","stunned"].includes(c),E=I?Tg+4:_g,k=I?_g+4:Tg+$e,P=.15,C=Math.min(s*(1-2*P)/E,u*(1-2*P)/k),x=E*C,B=k*C,H=r+(s-x)/2,$=o+(u-B)/2;t.save(),v[0]<0&&!I?(t.translate(H+x,$),t.scale(-1,1)):t.translate(H,$);const M="#D09A5A",j=p>50?"#BDBDBD":"#281808",pe="#7F5C4A",Re="#6B4F3A",Ue="#E0D8C0",Ve="#A0522D",Be=1-Math.max(0,Math.min(100,y))/100*.2,Le=h==="male"?1.1:.9,ye=.8+(Math.max(1,Math.min(p,60))-1)/59*.2;let Ne=fE*Be*Le*ye,ge=hE*Be*Le*ye,ie=pE*Be*ye;m&&h==="female"&&(Ne*=1.5);const z=Math.round((E-Ne)/2),V=Math.round((E-In)/2),W=z-ge,T=z+Ne,D=1,te=z+(Ne/2-D/2)-ie,q=z+(Ne/2+D/2),Se=v[1]<-.2&&Math.abs(v[0])<.7,oe=X=>{t.fillStyle=gE,t.beginPath();const ne=E/2,Oe=X;t.ellipse(Math.floor(ne*C),Math.floor(Oe*C),Math.max(1,Math.floor(mE*C)),Math.max(1,Math.floor(vE*C)),0,0,2*Math.PI),t.fill()},me=(X,ne)=>{h==="male"?(re(t,z,jo+X,Ne,Qt-Ei,ne,C),re(t,z,jo+Qt-Ei+X,Ne,Ei,pe,C)):re(t,z,jo+X,Ne,Qt,Re,C)},ce=(X,ne)=>{Se?re(t,V,gr+X,In,Hn,j,C):(re(t,V,gr+X,In,Hn,ne,C),re(t,V,gr+X,In,kl,j,C),h==="female"?(re(t,V-1,gr+kl+X,1,Hn,j,C),re(t,V+In,gr+kl+X,1,Hn,j,C)):re(t,V+1,gr+2+X,In-2,Hn-2,j,C))};switch(c){case"idle":{const X=a*Math.PI*2,ne=Math.sin(X)*.5,ue=(Math.cos(X*2)+1)*.25;oe(Qe+$e+1),re(t,te+ne,Qe+ue,ie,$e,M,C),re(t,q-ne,Qe+ue,ie,$e,M,C),me(ue,M),re(t,W,Tt+ue,ge,St,M,C),re(t,T,Tt+ue,ge,St,M,C),ce(ue,M);break}case"walk":{const X=a*Math.PI*2,ne=Math.sin(X)*2,ue=Math.abs(Math.cos(X))*1;oe(Qe+$e+1),re(t,te+ne,Qe+ue,ie,$e,M,C),re(t,q-ne,Qe+ue,ie,$e,M,C),me(ue,M),re(t,W-ne,Tt+ue,ge,St,M,C),re(t,T+ne,Tt+ue,ge,St,M,C),ce(ue,M);break}case"gathering":{const X=a*Math.PI*2,ne=1,Oe=(Math.sin(X)+1)/2*2,ue=ne+Math.abs(Math.cos(X))*.5;oe(Qe+$e+1),re(t,te,Qe+ue,ie,$e-ne,M,C),re(t,q,Qe+ue,ie,$e-ne,M,C),me(ue,M),re(t,W+1,Tt+ue-Oe,ge,St,M,C),re(t,T-1,Tt+ue-Oe,ge,St,M,C),ce(ue,M);break}case"eat":{oe(Qe+$e+1),re(t,te,Qe+1,ie,$e-1,M,C),re(t,q,Qe+1,ie,$e-1,M,C),me(1,M);const Oe=(Math.sin(a*Math.PI*4)+1)/2,ue=V+In/2,Cn=gr+Hn/2,Ut=T+(ue-T)*Oe,Wt=Tt+1+(Cn-(Tt+1))*Oe;re(t,W,Tt+1,ge,St,M,C),re(t,Ut,Wt,ge,St,M,C),re(t,Ut,Wt-1,1,1,Ve,C),ce(1,M);break}case"procreate":{const X=(Math.sin(a*Math.PI*8)+1)/4,ne=(Math.sin(a*Math.PI*6)+1)*.5,Oe=1.5,ue=Oe-ne;oe(Qe+$e+1),re(t,te,Qe+ue,ie,$e-Oe,M,C),re(t,q,Qe+ue,ie,$e-Oe,M,C),me(ue,M),re(t,W,Tt+ue,ge,St,M,C),re(t,T,Tt+ue,ge,St,M,C),ce(ue,M),t.globalAlpha=X,me(ue,"white"),t.globalAlpha=1;break}case"attacking":{const X=Math.sin(a*Math.PI)*1.5,ne=Math.abs(Math.sin(a*Math.PI));oe(Qe+$e+1),re(t,te-X,Qe+ne,ie,$e,M,C),re(t,q+X*.5,Qe+ne,ie,$e,M,C),me(ne,M),re(t,W,Tt+ne-2,ge,St,M,C),re(t,T,Tt+ne-2.5,ge,St,M,C),ce(ne,M);break}case"defending":{oe(Qe+$e+1),re(t,te,Qe+1,ie,$e-1,M,C),re(t,q,Qe+1,ie,$e-1,M,C),me(1,M),re(t,W-1,Tt+1-1,ge,St,M,C),re(t,T+1,Tt+1-1,ge,St,M,C),ce(1,M);break}case"stunned":case"dead":{const X=c==="dead",ne=X?Math.min(1,a):0,Oe=ne>.5?Ue:M,ue=h==="male"?pe:Re,Cn=ne>.8?"transparent":j,Ut=E/2,Wt=k/2,Ir=2;oe(k-1),re(t,Ut-ie-Ir,Wt,ie,$e,Oe,C),re(t,Ut+Ir,Wt,ie,$e,Oe,C),re(t,Ut-ge-Ir,Wt-Qt+1,ge,St,Oe,C),re(t,Ut+Ir,Wt-Qt+1,ge,St,Oe,C);const Rn=Ut-Ne/2,Wn=Wt-Qt/2;h==="male"?(ne<.7&&re(t,Rn,Wn+Qt-Ei,Ne,Ei,ue,C),re(t,Rn,Wn,Ne,Qt-Ei,Oe,C)):ne<.7?re(t,Rn,Wn,Ne,Qt,ue,C):re(t,Rn,Wn,Ne,Qt,Oe,C);const Qr=Ut-In/2,$n=Wt-Qt/2-Hn+1;if(re(t,Qr,$n,In,Hn,Oe,C),Cn!=="transparent"&&re(t,Qr,$n,In,kl,Cn,C),X&&ne>.6){const jn="#B0A890";for(let _r=0;_r<3;_r++)re(t,Rn+1,Wn+_r*1+1,Ne-2,.5,jn,C)}break}default:re(t,0,0,E,k,"magenta",C);break}t.restore()}};function yE(t,r,o,s,u){const a=r.x,c=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(a-s/2,c,s,s/2),t.fill(),t.beginPath(),t.moveTo(a-s/2,c),t.lineTo(a-s/4,c-s/3),t.lineTo(a-s/6,c),t.moveTo(a-s/6,c),t.lineTo(a,c-s/2),t.lineTo(a+s/6,c),t.moveTo(a+s/6,c),t.lineTo(a+s/4,c-s/3),t.lineTo(a+s/2,c),t.stroke(),t.restore()}function rs(t,r,o,s,u,a=!1,c=!1,h=!1,p=!1){s<Jc&&(o=o*.75),Id.render(t,r.x-o/2,r.y-o/2,o,o,0,"idle",u,s,[0,0],!1,0);let v,m;a?(v=YA,m=nd):c?(v=VA,m=Cm):h?(v=KA,m=wm):p&&(v=XA,m=Em),v&&m&&yE(t,r,o/2,v,m)}function SE(t,r,o,s,u,a){if(t.save(),s.length===0){t.restore();return}const c=s.length*u,h=4;let p;const v=c+(s.length-1)*h;s.length>1&&v>a?p=(a-c)/(s.length-1):p=h,s.length<=1&&(p=0);for(let m=0;m<s.length;m++){const{member:y,isPlayer:I,isHeir:E,isPartner:k,isParent:P}=s[m],C=r+m*(u+p)+u/2,x=o+u/4;rs(t,{x:C,y:x},u,y.age,y.gender,I,E,k,P)}t.restore()}function AE(t,r,o,s,u){if(o.length===0)return;t.save();const a=Sn,c=" 00",h=" 00";t.font=`${uc}px "Press Start 2P", Arial`;const p=t.measureText(c).width,v=t.measureText(h).width,m=Sn+bt+Sn+bt+Sn+dr+p+Sn/2+dr+v,y=o.length*Sl+(o.length-1)*Vp,I=u-y-Sn;t.fillStyle=QA,t.fillRect(a,I,m,y);for(let E=0;E<o.length;E++){const k=o[E],P=I+E*(Sl+Vp),C=P+Sl/2;k.isPlayerTribe&&(t.fillStyle=bA,t.fillRect(a,P,m,Sl));let x=a+Sn;if(t.font=`${bt}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="left",t.fillText(k.tribeBadge,x,C-bt/4),x+=bt+Sn,!k.isPlayerTribe){const B=k.diplomacyStatus===Dt.Friendly?"🤝":"⚔️",H=`diplomacyButton_${k.leaderId}`,$={x,y:C-bt/2,width:bt,height:bt},le={id:H,action:Te.ToggleDiplomacy,rect:$,text:"",icon:B,backgroundColor:"transparent",textColor:"white",currentWidth:bt,tooltip:`Toggle diplomacy with this tribe (Currently: ${k.diplomacyStatus})`,targetTribeId:k.leaderId};r.uiButtons.push(le),r.hoveredButtonId===H&&(t.fillStyle=Nm,t.globalAlpha=.5,t.fillRect($.x,$.y,$.width,$.height),t.globalAlpha=1),t.font=`${bt*.8}px "Press Start 2P", Arial`,t.textBaseline="middle",t.textAlign="center",t.fillText(B,x+bt/2,C)}x+=bt+Sn,k.adultCount>0&&(rs(t,{x:x+dr/2,y:C},dr,25,"male"),x+=dr/2,t.font=`${uc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${k.adultCount}`,x,C),x+=t.measureText(` ${k.adultCount}`).width+Sn/2),k.childCount>0&&(rs(t,{x:x+dr/2,y:C},dr,1,"female"),x+=dr/2,t.font=`${uc}px "Press Start 2P", Arial`,t.fillStyle="white",t.textBaseline="middle",t.textAlign="left",t.fillText(` ${k.childCount}`,x,C))}t.restore()}function IE(t,r,o,s,u){const a=Dm,c=Um,h=r+s-a-c,p=o+c;t.save(),t.lineWidth=2,t.strokeStyle=u?DI:kI,t.beginPath();const v=5;t.moveTo(h+v,p+v),t.lineTo(h+a-v,p+a-v),t.moveTo(h+a-v,p+v),t.lineTo(h+v,p+a-v),t.stroke(),t.restore()}function _E(t,r,o,s){const{tutorialState:u,tutorial:a}=r;if(u.transitionState===Et.INACTIVE)return;const c=a.steps[u.currentStepIndex];if(!c)return;t.save(),t.globalAlpha=u.transitionAlpha;const h=TI,p=EI,v=wI,m=`${hc}px "Press Start 2P", Arial`,y=`${tg}px "Press Start 2P", Arial`,I=RI,E=tg*1.5;t.font=y;const k=c.text.split(" ");let P="";const C=[];for(let Ue=0;Ue<k.length;Ue++){const Ve=P+k[Ue]+" ";t.measureText(Ve).width>h-p*2&&Ue>0?(C.push(P),P=k[Ue]+" "):P=Ve}C.push(P);const x=p*2+hc+p/2+C.length*E,B=(o-h)/2,H=s-x-160;t.fillStyle=CI,t.beginPath(),t.moveTo(B+v,H),t.lineTo(B+h-v,H),t.quadraticCurveTo(B+h,H,B+h,H+v),t.lineTo(B+h,H+x-v),t.quadraticCurveTo(B+h,H+x,B+h-v,H+x),t.lineTo(B+v,H+x),t.quadraticCurveTo(B,H+x,B,H+x-v),t.lineTo(B,H+v),t.quadraticCurveTo(B,H,B+v,H),t.closePath(),t.fill(),t.fillStyle=I,t.textAlign="center",t.textBaseline="top",t.font=m,t.fillText(c.title,B+h/2,H+p),t.font=y;let $=H+p+hc+p/2;for(const Ue of C)t.fillText(Ue,B+h/2,$),$+=E;const le=r.hoveredButtonId==="tutorial-dismiss";IE(t,B,H,h,le),t.restore();const M=Dm,j=Um,pe=B+h-M-j,Re=H+j;return{x:pe,y:Re,width:M,height:M}}function Cc(t,r,o){t.save();const s=OI,u={x:r.x-s,y:r.y-s,width:r.width+s*2,height:r.height+s*2};t.strokeStyle=Om,t.lineWidth=km+Math.sin(o*od)*1.5,t.setLineDash([8,8]),t.strokeRect(u.x,u.y,u.width,u.height),t.restore()}function TE(t,r){t.fillStyle="white",t.font='30px "Press Start 2P", Arial',t.textAlign="center",t.fillText("Game Over!",t.canvas.width/2,t.canvas.height/2-60),t.font='20px "Press Start 2P", Arial',t.fillText("Lineage Extinct.",t.canvas.width/2,t.canvas.height/2-20),t.fillText(`Cause: ${r.causeOfGameOver||"Unknown"}`,t.canvas.width/2,t.canvas.height/2+20)}const jc=10,EE=3,Eg=jc*.7;function wE(t,r,o,s,u){const{position:a,food:c,maxFood:h,ownerId:p,claimedUntil:v}=r;if(t.beginPath(),t.arc(a.x,a.y,jc,0,Math.PI*2),t.fillStyle="#228B22",t.fill(),t.strokeStyle="#006400",t.lineWidth=1,t.stroke(),p&&v&&v>u&&s){const m=o.entities.entities.get(p);if(m){let y;m.id===s.id?y=nd:Bm(s,m,o)?y=kA:y=Rm,y&&(t.strokeStyle=y,t.lineWidth=1+Math.sin(u*2)*.5,t.beginPath(),t.arc(a.x,a.y,jc+2,0,Math.PI*2),t.stroke())}}if(c.length>0){const m=Math.PI*2/Math.min(c.length,h);for(let y=0;y<c.length;y++){const I=y*m,E=a.x+Eg*Math.cos(I),k=a.y+Eg*Math.sin(I);t.beginPath(),t.arc(E,k,EE,0,Math.PI*2),t.fillStyle="#FF0000",t.fill()}}}function CE(t,r){const{position:o,gender:s,age:u,decayProgress:a,food:c,radius:h}=r;if(t.save(),t.globalAlpha=1-a,Id.render(t,o.x-h,o.y-h,h*2,h*2,a,"dead",s,u,[0,0],!1,0),t.restore(),c.length>0){t.save(),t.font=`${jA}px Arial`,t.textAlign="center",t.textBaseline="middle";const p=Jt*.9,v=Math.PI/dm*3;c.forEach((m,y)=>{const I=y*v,E=o.x+p*Math.cos(I)*Math.atan2(y,y),k=o.y+p*Math.sin(I)*Math.atan2(y,y),P=Fm[m.type];t.fillText(P,E,k)}),t.restore()}}function Di(t,r,o,s,u,a,c,h){t.save(),t.fillStyle=c,t.fillRect(r,o,s,u),t.fillStyle=h,t.fillRect(r,o,s*Math.max(0,a),u),t.restore()}function RE(t,r,o,s,u,a){if(t.save(),s.length===0){t.restore();return}const c=s.length*u;let h;c>a||c+(s.length-1)*4>a?h=(a-c)/(s.length-1):h=4,s.length===1&&(h=0);for(let p=0;p<s.length;p++){const v=Fm[s[p].type];t.fillText(v,r+p*(u+h),o)}t.restore()}function NE(t,r,o,s,u){const a=r.autopilotControls.hoveredAutopilotAction;if(!a)return;let c,h=Jt/2;const p=sa[a.action],v=Wm[a.action],m=`${p} ${v}`;if("targetEntityId"in a){const y=r.entities.entities.get(a.targetEntityId);y&&(c=y.position,h=y.radius)}else"position"in a&&(c=a.position);if(c){Xm(t,c,h,rd,id,2,o,s,u),t.save(),t.font=`${xi}px "Press Start 2P", Arial`,t.fillStyle="white",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=5;const y=c.x-o.x+s/2,E=c.y-o.y+u/2-h-oa-xi/2;t.fillText(m,y,E),t.restore()}}function PE(t,r,o,s,u){t.save();const a=(Math.sin(u*od)+1)/2,c=o+oa+a*5;t.strokeStyle=rd,t.lineWidth=2,t.setLineDash(id),t.beginPath(),t.arc(r.x,r.y,c,0,Math.PI*2),t.stroke(),t.setLineDash([]);const h=sa[s],p=Wm[s];if(h){t.font=`${xi*1.5}px "Press Start 2P", Arial`,t.textAlign="center",t.textBaseline="middle";const v=r.y-c-25;t.fillText(h,r.x,v),t.font=`${xi*.8}px "Press Start 2P", Arial`,t.fillText(p,r.x,v+25)}t.restore()}function wg(t,r,o){t.save();const s=30,u=70,a=3,c=u/a;for(let h=0;h<a;h++){const p=h*c,v=(o*s+p)%u,m=1-v/u;t.strokeStyle=`rgba(255, 215, 0, ${m*.7})`,t.lineWidth=1+(1-m)*2,t.beginPath(),t.arc(r.x,r.y,v,0,Math.PI*2),t.stroke()}t.restore()}function OE(t,r){const{activeAutopilotAction:o,behaviors:s}=r.autopilotControls,u=pt(r);if(u&&(u.isCallingToFollow&&wg(t,u.position,r.time),s.followLeader&&!o&&wg(t,u.position,r.time),o)){let a,c=15;if("position"in o)a=o.position;else if("targetEntityId"in o){const h=r.entities.entities.get(o.targetEntityId);h&&(a=h.position,c=h.radius||30)}a&&o.action!==fe.AutopilotFollowMe&&!u.isCallingToFollow&&PE(t,a,c,o.action,r.time)}}function Cg(t,r,o,s,u,a,c=!0){const h=r.split(" ");let p="";const v=[];for(let m=0;m<h.length;m++){const y=p+h[m]+" ";t.measureText(y).width>u&&m>0?(v.push(p),p=h[m]+" "):p=y}if(v.push(p),c)for(let m=0;m<v.length;m++)t.fillText(v[m],o,s+m*a);return v.length*a}function kE(t){return 1-Math.pow(1-t,3)}function DE(t,r,o,s){r.notificationButtonRects={dismiss:new Map,view:new Map};const u=r.notifications.filter(c=>!c.isDismissed);if(u.length===0)return;t.save();let a=s-bI;for(const c of u){const h=o-Tl-Hr;t.font=`${pc}px "Press Start 2P", Arial`;const p=h+Hr,v=Tl-Hr*2,m=Cg(t,c.message,-9999,-9999,v,pc*1.2,!1),y=Hr*2+m+An,I=a-y,E=Date.now()-c.creationTime,k=Math.min(E/XI,1),P=kE(k),C=s,x=C+(I-C)*P;t.fillStyle=WI,t.beginPath(),t.roundRect(h,x,Tl,y,zI),t.fill(),t.fillStyle=$I,t.textBaseline="top",Cg(t,c.message,p,x+Hr,v,pc*1.2,!0);const B=x+y-An-Hr/2,H=h+Tl-An-Hr/2,$={x:H,y:B,width:An,height:An};r.notificationButtonRects.dismiss.set(c.id,$);const le=r.hoveredButtonId===`notification-dismiss-${c.id}`;if(t.fillStyle=le?og:jI,t.font=`${An}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText("✖",$.x+$.width/2,$.y+$.height/2),c.targetEntityIds||c.targetPosition||c.targetArea||c.targetRadius){const pe={x:H-An-ig,y:B,width:An,height:An};r.notificationButtonRects.view.set(c.id,pe);const Re=r.hoveredButtonId===`notification-view-${c.id}`;t.fillStyle=Re?og:YI,t.font=`${An*(Re?1.5:1.2)}px Arial`,t.fillText("👁️",pe.x+pe.width/2,pe.y+pe.height/2)}a-=y+ig}t.restore()}const UE={moving:"walk",gathering:"gathering",eating:"eat",feeding:"eat",procreating:"procreate",idle:"idle",attacking:"attacking",planting:"gathering"};function ME(t,r){var h;const{radius:o,position:s,activeAction:u="idle"}=r,a=((h=r.stateMachine)==null?void 0:h[0])||"N/A",c=r.isAdult?Jt+20:Jt*.6+20;t.save(),t.fillStyle="white",t.font="10px Arial",t.textAlign="center",t.fillText(`Action: ${u}`,s.x,s.y-c),t.fillText(`State: ${a}`,s.x,s.y-c+10),t.fillText(`HP: ${r.hitpoints}`,s.x,s.y-c+20),t.fillText(`Cooldown: ${r.attackCooldown||"N/A"}`,s.x,s.y-c+30),t.fillText(`Tribe: ${r.leaderId||"N/A"}`,s.x,s.y-c+40),t.restore(),t.beginPath(),t.arc(s.x,s.y,o,0,Math.PI*2),t.strokeStyle="rgba(255, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.closePath()}function FE(t,r,o){if(!r.aiBehaviorTree||!r.aiBlackboard)return;const s=r.aiBlackboard.getNodeExecutionData();t.save(),t.font=`${fI}px Arial`,t.textAlign="left",t.textBaseline="top";const u=y=>{switch(y){case N.SUCCESS:return pI;case N.FAILURE:return gI;case N.RUNNING:return mI;case N.NOT_EVALUATED:case null:default:return vI}},a=y=>{if(!y.name||!s.has(y.name))return{width:0,height:0};let I=0,E=0;const k=s.get(y.name),P=` ${y.name}`+(k!=null&&k.debugInfo?`: ${k.debugInfo}`:""),C=t.measureText(P).width,x=(y.depth??0)*qp+8+C+eg+Do+20;if(I=Math.max(I,x),E+=fc,y.children)for(const B of y.children){const H=a(B);I=Math.max(I,H.width),E+=H.height}else if(y.child){const B=a(y.child);I=Math.max(I,B.width),E+=B.height}return{width:I,height:E}},c=(y,I,E,k)=>{if(!y.name||!s.has(y.name))return I;let P=I;const C=s.get(y.name),x=E+2+(y.depth??0)*qp;let B=N.NOT_EVALUATED,H=Jp,$="";if(C){B=C.status,$=C.debugInfo;const j=SI/qt*Zt,pe=o-C.lastExecuted,Re=Math.max(0,1-pe/j);H=o_(Jp,yI,Re),pe>Qo&&(B=N.NOT_EVALUATED)}const le=u(B);t.fillStyle=le,t.fillText("●",x,P),t.fillStyle=H;const M=` ${y.name}`+($?`: ${$}`:"");if(t.fillText(M,x+8,P),C&&C.executionHistory.length>0){const{executionHistory:j}=C,pe=Pm/qt*Zt,Re=o,Ue=Re-pe,Ve=E+k-Do-eg;let Be=Ve;const Le=P+(fc-Il)/2,ye=j.filter(D=>D.time<Ue);let Ne=ye.length>0?ye[ye.length-1].status:null,ge=Ue;const ie=j.filter(D=>D.time>=Ue&&D.time<=Re),z=Do/pe;t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(Ve,Le,Do,Il);for(const D of ie){const q=(D.time-ge)*z;q>0&&(t.fillStyle=u(Ne),t.fillRect(Be,Le,q,Il),Be+=q),Ne=D.status,ge=D.time}o-ge>Qo&&(Ne=N.NOT_EVALUATED);const W=(Re-ge)*z;t.fillStyle=u(Ne);const T=Ve+Do-Be;t.fillRect(Be,Le,Math.min(W,T),Il)}if(P+=fc,y.children)for(const j of y.children)P=c(j,P,E,k);else y.child&&(P=c(y.child,P,E,k));return P},{width:h,height:p}=a(r.aiBehaviorTree);if(p===0){t.restore();return}const v=r.position.x+cI,m=r.position.y+dI-p/2;t.fillStyle=hI,t.fillRect(v,m,h,p+4),c(r.aiBehaviorTree,m+2,v,h),t.restore()}function LE(t,r,o,s,u){t.save(),t.font=`${xc}px Arial`,t.textAlign="center",t.textBaseline="middle",t.fillText(o,r.x,r.y-(s?Jt:ia)-xc-u),t.restore()}function BE(t,r,o,s,u){const a=r.x,c=r.y-o-s/2;t.save(),t.fillStyle=u,t.strokeStyle=u,t.lineWidth=1.5,t.beginPath(),t.rect(a-s/2,c,s,s/2),t.fill(),t.beginPath(),t.moveTo(a-s/2,c),t.lineTo(a-s/4,c-s/3),t.lineTo(a-s/6,c),t.moveTo(a-s/6,c),t.lineTo(a,c-s/2),t.lineTo(a+s/6,c),t.moveTo(a+s/6,c),t.lineTo(a+s/4,c-s/3),t.lineTo(a+s/2,c),t.stroke(),t.restore()}function HE(t,r,o){var h;const{position:s,radius:u}=r,a=s.x-cc/2,c=s.y-u-ZA;if(((h=r.stateMachine)==null?void 0:h[0])===Wi){const p=r.stateMachine[1],v=o-p.attackStartTime,m=Math.min(v/mm,1);Di(t,a,c,cc,Kp,m,Pi,qA)}else if(r.attackCooldown&&r.attackCooldown>0){const p=1-r.attackCooldown/vm;Di(t,a,c,cc,Kp,p,Pi,JA)}}function xE(t,r,o){const u="➡️";t.save(),t.font="15px Arial",t.textAlign="center",t.textBaseline="bottom",t.shadowColor="black",t.shadowBlur=3,t.fillText(u,r.x,r.y-o),t.restore()}function GE(t,r,o=!1,s=!1,u=!1,a=!1,c=!1,h=!1,p=!1,v=!1,m,y){const{position:I,activeAction:E="idle"}=r,k=r.isAdult?Jt:Jt*.6,P=UE[E]||"idle";Id.render(t,I.x-k,I.y-k,k*2,k*2,r.animationProgress||0,P,r.gender,r.age,[r.direction.x,r.direction.y],r.isPregnant??!1,r.hunger),h&&(t.save(),t.strokeStyle=Rm,t.lineWidth=2,t.beginPath(),t.arc(I.x,I.y,k+3,0,2*Math.PI),t.stroke(),t.restore());let C,x;if(c?(C=UA,x=Cm):o?(C=DA,x=nd):u?(C=MA,x=OA):s?(C=FA,x=Em):a&&(C=LA,x=wm),C&&x&&BE(t,I,k,C,x),r.tribeBadge&&LE(t,I,r.tribeBadge,r.isAdult??!1,C??0),p){let H=(r.isAdult?Jt:ia)+5;C&&(H+=C),r.tribeBadge&&(H+=xc),xE(t,I,H)}const B=v&&(y===void 0||r.id===y);B&&r.aiBlackboard&&FE(t,r,m),HE(t,r,m),B&&ME(t,r)}const bm=15;function Rg(t,r,o,s,u=1.5){const a=o-r.startTime,c=Math.min(a/r.duration,1),h=1-c,v=1+Math.sin(c*Math.PI*2)*(u-1),m=bm*v;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,Math.max(0,m),0,Math.PI*2),t.fillStyle=s,t.fill(),t.restore()}function wi(t,r,o,s,u=2){const a=o-r.startTime,c=Math.min(a/r.duration,1),h=1-c,p=bm*2*c;t.save(),t.globalAlpha=h,t.beginPath(),t.arc(r.position.x,r.position.y,p,0,Math.PI*2),t.strokeStyle=s,t.lineWidth=u,t.stroke(),t.restore()}function fr(t,r,o,s){const u=o-r.startTime,a=Math.min(u/r.duration,1),c=1-a,h=-20*a;t.save(),t.globalAlpha=c,t.font="20px Arial",t.textAlign="center",t.fillText(s,r.position.x,r.position.y+h),t.restore()}function zE(t,r,o){switch(r.type){case _e.Hunger:Rg(t,r,o,"rgba(255, 165, 0, 0.7)",1);break;case _e.Procreation:fr(t,r,o,"❤️");break;case _e.Pregnant:Rg(t,r,o,"rgba(255, 105, 180, 0.7)",1.2);break;case _e.TargetAcquired:wi(t,r,o,"rgba(255, 0, 0, 0.8)",3);break;case _e.Attack:fr(t,r,o,"⚔️");break;case _e.Partnered:fr(t,r,o,"🤝");break;case _e.BushClaimed:wi(t,r,o,"rgba(0, 255, 0, 0.7)",2);break;case _e.BushClaimLost:wi(t,r,o,"rgba(128, 128, 128, 0.7)",2);break;case _e.Eating:fr(t,r,o,"🍖");break;case _e.ChildFed:fr(t,r,o,"🍼");break;case _e.AttackDeflected:fr(t,r,o,"🛡️");break;case _e.AttackResisted:fr(t,r,o,"💪");break;case _e.Hit:fr(t,r,o,"💥");break;case _e.SeizeBuildup:wi(t,r,o,"rgba(255, 215, 0, 0.8)",4);break;case _e.Seize:wi(t,r,o,"rgba(148, 0, 211, 0.8)",4);break;case _e.CallToAttack:wi(t,r,o,"rgba(255, 255, 0, 0.8)",4);break}}function Ng(t,r,o,s,u,a,c){t.save();const{position:h}=r;t.strokeStyle=s,t.lineWidth=u+Math.sin(c*a)*(u/2),t.setLineDash([8,8]),t.beginPath(),t.arc(h.x,h.y,o,0,2*Math.PI),t.stroke(),t.restore()}function Ci(t,r,o,s,u,...a){const c={...u.position};for(let h=-o;h<=o;h+=o)for(let p=-r;p<=r;p+=r)u.position.x=c.x+p,u.position.y=c.y+h,s(t,u,...a);u.position=c}function WE(t,r,o){const s=pt(r),u=s?ht(r,s):[],a=zn(u),{width:c,height:h}=r.mapDimensions;Array.from(r.entities.entities.values()).sort((m,y)=>m.position.y-y.position.y||m.id-y.id).forEach(m=>{var y,I;if(m.type==="berryBush")Ci(t,c,h,wE,m,r,s,r.time);else if(m.type==="human"){const E=m,k=E.id===(s==null?void 0:s.id),P=u.some(M=>M.id===E.id),C=E.id===(a==null?void 0:a.id),x=s&&(E.id===s.motherId||E.id===s.fatherId),B=s&&(((y=E.partnerIds)==null?void 0:y.includes(s.id))||((I=s.partnerIds)==null?void 0:I.includes(E.id))),H=(s==null?void 0:s.attackTargetId)===E.id,$=E.leaderId?r.entities.entities.get(E.leaderId):void 0,le=s?E.leaderId===s.id&&E.activeAction==="moving"&&E.target===E.leaderId&&($==null?void 0:$.isCallingToFollow):!1;Ci(t,c,h,GE,E,k,x,P,B,C,H,le,o,r.time,r.debugCharacterId)}else m.type==="humanCorpse"&&Ci(t,c,h,CE,m)}),r.visualEffects.forEach(m=>{Ci(t,c,h,zE,m,r.time)});const v=r.notifications.filter(m=>!m.isDismissed);for(const m of v)if(m.highlightedEntityIds&&m.renderHighlights)for(const y of m.highlightedEntityIds){const I=r.entities.entities.get(y);I&&Ci(t,c,h,Ng,I,QI,ZI,JI,qI,r.time)}if(r.tutorialState.isActive&&r.tutorialState.highlightedEntityIds.size>0)for(const m of r.tutorialState.highlightedEntityIds){const y=r.entities.entities.get(m);y&&Ci(t,c,h,Ng,y,PI,Om,km,od,r.time)}}function $E(t,r,o,s,u,a){let c=null,h=null;t.textAlign="left";let p=kt+pr;const m=r.time/(Zt/qt)/um%1,y=Uo[Ri.Time],I=25,E=kt+I;t.fillText(y,kt,p+Ht/2+pr/3),Di(t,E,p,cr,Ht,m,Pi,$A),p+=Ht+Ln;const k=p+Lr/2,P=p+(Lr-Ht)/2,C=5;rs(t,{x:kt*2,y:k},Lr,5,o.gender,!1,!1,!1);const x=kt+Lr+C,B=cr+I-(Lr+C)*2;Di(t,x,P,B,Ht,Math.floor(o.age)/Xo,Pi,WA),rs(t,{x:x+B+C+Lr/2,y:k},Lr,Xo,o.gender,!1,!1,!1),p+=Ht+Ln*2;const H=[],$=new Set;if(H.push({member:o,isPlayer:!0,isHeir:!1,isPartner:!1,isParent:!1}),$.add(o.id),s&&!$.has(s.id)&&(H.push({member:s,isPlayer:!1,isHeir:!0,isPartner:!1,isParent:!1}),$.add(s.id)),u.forEach(ye=>{$.has(ye.id)||(H.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!0,isParent:!1}),$.add(ye.id))}),a.forEach(ye=>{$.has(ye.id)||(H.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!1}),$.add(ye.id))}),o.motherId&&!$.has(o.motherId)){const ye=r.entities.entities.get(o.motherId);ye&&(H.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),$.add(ye.id))}if(o.fatherId&&!$.has(o.fatherId)){const ye=r.entities.entities.get(o.fatherId);ye&&(H.push({member:ye,isPlayer:!1,isHeir:!1,isPartner:!1,isParent:!0}),$.add(ye.id))}const le=Uo[Ri.Family],M=10,j=kt+pr+M,pe=cr+I-(pr+M),Re=p+yl/2;t.font=`${pr}px "Press Start 2P", Arial`,t.textBaseline="middle",t.fillText(le,kt,Re);const Ue=p+yl/2;SE(t,j,Ue,H,yl,pe),p+=yl+Ln,t.textBaseline="alphabetic";const Ve=Uo[Ri.Hitpoints];t.fillText(Ve,kt,p+Ht/2+pr/3),Di(t,E,p,cr,Ht,o.hitpoints/o.maxHitpoints,Pi,zA),p+=Ht+Ln;const Be=Uo[Ri.Hunger];t.fillText(Be,kt,p+Ht/2+pr/3),Di(t,E,p,cr,Ht,(Gt-o.hunger)/Gt,Pi,GA),c={x:kt,y:p-Ln/2,width:cr+I,height:Ht+Ln},p+=Ht+Ln,t.textBaseline="middle";const Le=Uo[Ri.Food];return t.fillText(Le,kt,p+vl/2),RE(t,E,p+vl/2,o.food,vl,cr),h={x:kt,y:p-Ln/5,width:cr+I,height:vl+Ln},t.textBaseline="alphabetic",{hungerBarRect:c,foodBarRect:h}}function Xl(t,r,o,s,u,a=!1){var h;if(t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#2c5234",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.translate(t.canvas.width/2-s.x,t.canvas.height/2-s.y),!a&&r.gameOver){t.restore(),TE(t,r);return}WE(t,r,o);const c=r.notifications.filter(p=>!p.isDismissed);for(const p of c){const v=(Math.sin(r.time*KI)+1)/2;t.globalAlpha=v*.5+.25,t.fillStyle=VI,p.targetArea&&t.fillRect(p.targetArea.x,p.targetArea.y,p.targetArea.width,p.targetArea.height),p.targetRadius&&(t.beginPath(),t.arc(p.targetRadius.x,p.targetRadius.y,p.targetRadius.radius,0,Math.PI*2),t.fill())}if(t.globalAlpha=1,OE(t,r),t.restore(),!a){t.fillStyle=BA,t.font=`${pr}px "Press Start 2P", Arial`,t.shadowColor=HA,t.shadowBlur=xA,r.uiButtons=[];const p=pt(r);let v=null,m=null;if(p){const E=ht(r,p),k=zn(E),P=((h=p.partnerIds)==null?void 0:h.map(x=>r.entities.entities.get(x)).filter(x=>x!==void 0))||[],C=$E(t,r,p,k,P,E);v=C.hungerBarRect,m=C.foodBarRect}const y=xm(r,p==null?void 0:p.leaderId);AE(t,r,y,t.canvas.width,t.canvas.height);const{commandButtonsRect:I}=lE(t,r,t.canvas.width);if(t.shadowColor="transparent",t.shadowBlur=0,p&&(NE(t,r,s,t.canvas.width,t.canvas.height),u.length>0&&dE(t,u,p,s,t.canvas.width,t.canvas.height)),r.tutorialState.activeUIHighlights.size>0){const{activeUIHighlights:E}=r.tutorialState;E.has(Vr.HUNGER_BAR)&&v&&Cc(t,v,r.time),E.has(Vr.FOOD_BAR)&&m&&Cc(t,m,r.time),E.has(Vr.COMMAND_BUTTONS)&&I&&Cc(t,I,r.time)}if(r.tutorialState.isActive){const E=_E(t,r,t.canvas.width,t.canvas.height);E&&r.uiButtons.push({id:"tutorial-dismiss",action:Te.DismissTutorial,rect:E,text:"",currentWidth:E.width,backgroundColor:"transparent",textColor:"transparent"})}DE(t,r,t.canvas.width,t.canvas.height),r.isPaused&&aE(t)}}const jE=wn.div`
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
`,YE=wn.canvas`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #2c5234;
`,VE=wn.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 1;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.7) 100%);
`,KE=wn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #fff;
  text-shadow: 4px 4px 0px #ff0000;
  margin-bottom: 2rem;
`,XE=wn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  color: #fff;
  background-color: #ff0000;
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;

  &:hover {
    background-color: #fff;
    color: #ff0000;
    box-shadow: 4px 4px 0px #ff0000;
  }
`,Rc="intro-soundtrack",Pg=()=>{const{setAppState:t}=bl(),r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(GT()),u=Ae.useRef(),a=Ae.useRef(s.current.viewportCenter),c=Ae.useRef();Ae.useEffect(()=>(fd(Fe.SoundTrack1,{loop:!0,trackId:Rc}),()=>{dg(Rc,2)}),[]),Ae.useEffect(()=>{const m=r.current;if(!m)return;o.current=m.getContext("2d");const y=()=>{m&&o.current&&(m.width=window.innerWidth,m.height=window.innerHeight,Xl(o.current,s.current,!1,a.current,[],!0))};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),Ae.useEffect(()=>{const m=()=>{const I=zm(s.current);if(I.length>0){const E=Math.floor(Math.random()*I.length);c.current=I[E].id}};m();const y=setInterval(m,LI);return()=>clearInterval(y)},[]);const[h,p]=sm(m=>{if(!o.current)return;if(u.current===void 0){u.current=m;return}const y=Math.min((m-u.current)/1e3,1);s.current=ua(s.current,y);const I=c.current?s.current.entities.entities.get(c.current):void 0;if(I){const{mapDimensions:E}=s.current,{width:k,height:P}=E;let C={...I.position};const x=C.x-a.current.x;Math.abs(x)>k/2&&(x>0?C.x-=k:C.x+=k);const B=C.y-a.current.y;Math.abs(B)>P/2&&(B>0?C.y-=P:C.y+=P);let H=sd(a.current,C,qc*y);H={x:(H.x%k+k)%k,y:(H.y%P+P)%P},a.current=H}Xl(o.current,s.current,!1,a.current,[],!0),u.current=m});Ae.useEffect(()=>(p(),h),[p,h]);const v=()=>{dg(Rc,2),t("game")};return Ee.jsxs(jE,{children:[Ee.jsx(YE,{ref:r}),Ee.jsxs(VE,{children:[Ee.jsx(KE,{children:"Tribe"}),Ee.jsx(XE,{onClick:v,children:"Start Game"})]})]})};function bE(){return console.log("Tribe game initialized with detailed 2D world state."),xT()}const QE=({canvasRef:t,ctxRef:r,gameStateRef:o,isDebugOnRef:s,viewportCenterRef:u,playerActionHintsRef:a})=>(Ae.useEffect(()=>{const c=t.current;if(!c)return;r.current=c.getContext("2d");const h=()=>{c&&r.current&&o.current&&(c.width=window.innerWidth,c.height=window.innerHeight,Xl(r.current,o.current,s.current===!0,u.current,a.current,!1))};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),Ee.jsx("canvas",{ref:t,style:{display:"block",background:"#2c5234"}})),ZE=(t,r,o)=>{let s;const u=c_(t,o);if(u){if(r.isAdult&&u.type==="berryBush"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(r.isAdult&&u.type==="humanCorpse"&&u.food.length>0)s={action:fe.AutopilotGather,targetEntityId:u.id};else if(u.type==="human"){const a=u;r.isAdult&&ji(r,a,o)?s={action:fe.AutopilotAttack,targetEntityId:a.id}:Xr(r,a,o)?s={action:fe.AutopilotProcreate,targetEntityId:a.id}:r.food.length>0&&!a.isAdult&&(a.motherId===r.id||a.fatherId===r.id)&&(s={action:fe.AutopilotFeedChild,targetEntityId:a.id})}}else o.autopilotControls.isManuallyPlanting&&r.food.filter(a=>a.type===Gn.Berry).length>=bo&&ud(t,o,1,ra,r.id)?s={action:fe.AutopilotPlant,position:t}:s={action:fe.AutopilotMove,position:t};return s},qE=(t,r)=>{if(t.isPaused||!pt(t))return;const s=t.autopilotControls.hoveredAutopilotAction;t.autopilotControls.activeAutopilotAction=void 0,s?(t.autopilotControls.activeAutopilotAction=s,(s.action===fe.AutopilotMove||s.action===fe.AutopilotGather)&&(t.hasPlayerMovedEver=!0),s.action===fe.AutopilotPlant&&(t.hasPlayerPlantedBush=!0)):t.autopilotControls.activeAutopilotAction={action:fe.AutopilotMove,position:r},t.autopilotControls.isManuallyMoving=!1,t.autopilotControls.isManuallyPlanting=!1},JE=(t,r,o)=>{var a,c,h;let s=!0,u=r;switch(t){case"m":r.isMuted=!r.isMuted,Wo(r.masterVolume,r.isMuted);break;case"=":case"+":const p=Math.min(1,r.masterVolume+.1);r.masterVolume=parseFloat(p.toFixed(1)),Wo(r.masterVolume,r.isMuted);break;case"-":const v=Math.max(0,r.masterVolume-.1);r.masterVolume=parseFloat(v.toFixed(1)),Wo(r.masterVolume,r.isMuted);break;case"t":u=ua(r,Im);break;case" ":case"p":r.isPaused=!r.isPaused;break;case"§":case"`":o.current=!o.current,o.current?u.debugCharacterId=((a=pt(u))==null?void 0:a.id)??((h=(c=zm(u))==null?void 0:c[0])==null?void 0:h.id):u.debugCharacterId=void 0;break;case"tab":o.current=!0;const m=Array.from(u.entities.entities.values()).filter(y=>y.type==="human");if(m.length>0){const y=m.sort((P,C)=>P.isPlayer?-1:P.id-C.id),I=u.debugCharacterId,k=((I?y.findIndex(P=>P.id===I):-1)+1)%y.length;u.debugCharacterId=y[k].id}else u.debugCharacterId=void 0;break;default:s=!1;break}return{newState:u,handled:s}},ew=(t,r,o,s,u)=>{const a={gameState:o};if(r&&["e","b","r","h"].includes(t)&&o.hasPlayerEnabledAutopilot++,t==="e"){if(r){o.autopilotControls.behaviors.gathering=!o.autopilotControls.behaviors.gathering;return}const c=rt(s,o,"berryBush",ut,v=>v.food.length>0&&s.food.length<s.maxFood),h=rt(s,o,"humanCorpse",ut,v=>v.food.length>0&&s.food.length<s.maxFood);let p=null;c&&h?p=ae(s.position,c.position,o.mapDimensions.width,o.mapDimensions.height)<=ae(s.position,h.position,o.mapDimensions.width,o.mapDimensions.height)?c:h:p=c||h,p&&(s.activeAction="gathering",Ze(a,Fe.Gather,s.position))}else if(t==="r"){if(r){o.autopilotControls.behaviors.procreation=!o.autopilotControls.behaviors.procreation;return}rt(s,o,"human",ut,h=>Xr(s,h,o))&&(s.activeAction="procreating",Ze(a,Fe.Procreate,s.position))}else if(t==="f")s.food.length>0&&(s.activeAction="eating",Ze(a,Fe.Eat,s.position));else if(t==="h"){if(r){o.autopilotControls.behaviors.feedChildren=!o.autopilotControls.behaviors.feedChildren;return}const c=u.find(h=>h.type===fe.FeedChild);c&&c.targetEntity&&(s.activeAction="feeding",s.target=c.targetEntity.id)}else if(t==="arrowup"||t==="w")s.direction.y=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowdown"||t==="s")s.direction.y=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowleft"||t==="a")s.direction.x=-1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="arrowright"||t==="d")s.direction.x=1,s.activeAction="moving",s.target=void 0,o.hasPlayerMovedEver=!0,o.autopilotControls.isManuallyMoving=!0,o.autopilotControls.activeAutopilotAction=void 0;else if(t==="q"){if(r){o.autopilotControls.behaviors.attack=!o.autopilotControls.behaviors.attack;return}const c=rt(s,o,"human",na,h=>ji(s,h,o));c&&(s.activeAction="attacking",s.attackTargetId=c.id)}else if(t==="b"){if(r){o.autopilotControls.behaviors.planting=!o.autopilotControls.behaviors.planting;return}if(u.find(h=>h.type===fe.Plant)){const h=ud(s.position,o,50,Bc);h&&(s.activeAction="planting",s.target=h,o.hasPlayerPlantedBush=!0)}}else t==="v"?(s.isCallingToAttack=!0,s.callToAttackEndTime=o.time+Hi,it(o,_e.CallToAttack,s.position,Hi),Ze(a,Fe.CallToAttack,s.position)):t==="c"?(s.isCallingToFollow=!0,s.callToFollowEndTime=o.time+Zo,it(o,_e.CallToFollow,s.position,Zo),Ze(a,Fe.CallToFollow,s.position)):t==="k"&&pd(s,o)},tw=(t,r,o,s)=>{t==="arrowup"||t==="w"||t==="arrowdown"||t==="s"?r.direction.y=0:(t==="arrowleft"||t==="a"||t==="arrowright"||t==="d")&&(r.direction.x=0),!s.current.has("arrowup")&&!s.current.has("arrowdown")&&!s.current.has("arrowleft")&&!s.current.has("arrowright")&&!s.current.has("w")&&!s.current.has("a")&&!s.current.has("s")&&!s.current.has("d")&&(r.activeAction==="moving"&&(r.activeAction="idle"),o.autopilotControls.isManuallyMoving=!1),!s.current.has("e")&&r.activeAction==="gathering"&&(r.activeAction="idle"),!s.current.has("f")&&r.activeAction==="eating"&&(r.activeAction="idle"),!s.current.has("r")&&r.activeAction==="procreating"&&(r.activeAction="idle"),!s.current.has("h")&&r.activeAction==="feeding"&&(r.activeAction="idle")},nw=(t,r,o)=>{let u=pt(t);if(t.debugCharacterId){const a=t.entities.entities.get(t.debugCharacterId);a&&"position"in a&&(u=a)}if(u){const{mapDimensions:a}=t,{width:c,height:h}=a;let p={...u.position};const v=p.x-r.x;Math.abs(v)>c/2&&(v>0?p.x-=c:p.x+=c);const m=p.y-r.y;Math.abs(m)>h/2&&(m>0?p.y-=h:p.y+=h);let y=sd(r,p,qc*o);return y={x:(y.x%c+c)%c,y:(y.y%h+h)%h},y}return t.viewportCenter};function rw(t,r){const{width:o,height:s}=t.mapDimensions;t.viewportCenter={x:(r.x%o+o)%o,y:(r.y%s+s)%s}}const iw=(t,r,o)=>{const s={gameState:o},u=pt(o);u&&Ze(s,Fe.ButtonClick,u.position);const a=o.uiButtons.find(h=>h.id===t.id);a&&(a.lastActivated=Date.now()),r&&[Te.CommandGather,Te.CommandPlant,Te.ToggleProcreationBehavior].includes(t.action)&&o.hasPlayerEnabledAutopilot++;const{behaviors:c}=o.autopilotControls;switch(t.action){case Te.ToggleMute:o.isMuted=!o.isMuted,Wo(o.masterVolume,o.isMuted);break;case Te.TogglePause:o.isPaused=!o.isPaused;break;case Te.FastForward:return ua(o,Im);case Te.DismissTutorial:o.tutorialState.isActive=!1;break;case Te.CommandEat:u&&u.food.length>0&&(u.activeAction="eating");break;case Te.CommandGather:r?c.gathering=!c.gathering:u&&(u.activeAction="gathering");break;case Te.CommandPlant:r?c.planting=!c.planting:u&&(o.autopilotControls.isManuallyPlanting=!0);break;case Te.ToggleProcreationBehavior:c.procreation=!c.procreation;break;case Te.ToggleAttackBehavior:c.attack=!c.attack;break;case Te.ToggleFeedChildBehavior:c.feedChildren=!c.feedChildren;break;case Te.ToggleAutopilotFollowLeaderBehavior:c.followLeader=!c.followLeader;break;case Te.CommandCallToAttack:u&&u.leaderId===u.id&&(u.isCallingToAttack=!0,u.callToAttackEndTime=o.time+Hi,it(o,_e.CallToAttack,u.position,Hi),Ze(s,Fe.CallToAttack,u.position));break;case Te.CommandFollowMe:r?c.followLeader=!c.followLeader:u&&u.leaderId===u.id&&(u.isCallingToFollow=!0,u.callToFollowEndTime=o.time+Zo,it(o,_e.CallToFollow,u.position,Zo),Ze(s,Fe.CallToFollow,u.position));break;case Te.CommandTribeSplit:u&&pd(u,o);break;case Te.ToggleDiplomacy:if(u&&u.leaderId&&t.targetTribeId){const h=u.leaderId,p=t.targetTribeId,v=o.entities.entities.get(p),m=u.diplomacy,y=v==null?void 0:v.diplomacy;if(m&&y){const E=(m.get(p)||Dt.Friendly)===Dt.Friendly?Dt.Hostile:Dt.Friendly;m.set(p,E),y.set(h,E)}}break}return o};function ow(t,r,o){if(!t.notificationButtonRects)return!1;const s=pt(t);for(const[u,a]of t.notificationButtonRects.dismiss.entries())if(r>=a.x&&r<=a.x+a.width&&o>=a.y&&o<=a.y+a.height)return A_(t,u),s&&Ze({gameState:t},Fe.ButtonClick,s.position),!0;for(const[u,a]of t.notificationButtonRects.view.entries())if(r>=a.x&&r<=a.x+a.width&&o>=a.y&&o<=a.y+a.height){const c=t.notifications.find(h=>h.id===u);if(c){let h=c.targetPosition;if(!h&&c.targetEntityIds&&c.targetEntityIds.length>0){const p=t.entities.entities.get(c.targetEntityIds[0]);p&&(h=p.position)}return h&&rw(t,h),s&&Ze({gameState:t},Fe.ButtonClick,s.position),c.highlightedEntityIds&&(c.renderHighlights=!c.renderHighlights),!0}}return!1}const sw=({isActive:t,gameStateRef:r,canvasRef:o,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:a,keysPressed:c})=>(Ae.useEffect(()=>{const h=p=>{if(!t()||r.current.gameOver||!o.current||!p.target||p.target!==o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;if(ow(r.current,m,y))return;const E=r.current.uiButtons.find(P=>m>=P.rect.x&&m<=P.rect.x+P.rect.width&&y>=P.rect.y&&y<=P.rect.y+P.rect.height);if(E){r.current=iw(E,p.shiftKey,r.current);return}const k=ag({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);qE(r.current,k)};return window.addEventListener("mousedown",h),()=>{window.removeEventListener("mousedown",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=p=>{if(!t()||!o.current)return;const v=o.current.getBoundingClientRect(),m=p.clientX-v.left,y=p.clientY-v.top;r.current.mousePosition={x:m,y};let I;if(r.current.notificationButtonRects){for(const[k,P]of r.current.notificationButtonRects.dismiss.entries())if(m>=P.x&&m<=P.x+P.width&&y>=P.y&&y<=P.y+P.height){I=`notification-dismiss-${k}`;break}if(!I){for(const[k,P]of r.current.notificationButtonRects.view.entries())if(m>=P.x&&m<=P.x+P.width&&y>=P.y&&y<=P.y+P.height){I=`notification-view-${k}`;break}}}if(!I)for(let k=r.current.uiButtons.length-1;k>=0;k--){const P=r.current.uiButtons[k];if(m>=P.rect.x&&m<=P.rect.x+P.rect.width&&y>=P.rect.y&&y<=P.rect.y+P.rect.height){I=P.id;break}}if(r.current.hoveredButtonId=I,I){r.current.autopilotControls.hoveredAutopilotAction=void 0;return}const E=pt(r.current);if(E){const k=ag({x:m,y},s.current,{width:o.current.width,height:o.current.height},r.current.mapDimensions);r.current.autopilotControls.hoveredAutopilotAction=ZE(k,E,r.current)}else r.current.autopilotControls.hoveredAutopilotAction=void 0};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[t,o,r,s]),Ae.useEffect(()=>{const h=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();if((m===" "||m==="p"||m==="tab")&&v.preventDefault(),m==="escape"){r.current.autopilotControls.activeAutopilotAction=void 0;return}const y=JE(m,r.current,a);if(r.current=y.newState,y.handled)return;const I=pt(r.current);I&&(c.current.add(m),ew(m,v.shiftKey,r.current,I,u.current))},p=v=>{if(!t()||r.current.gameOver)return;const m=v.key.toLowerCase();c.current.delete(m);const y=pt(r.current);y&&tw(m,y,r.current,c)};return window.addEventListener("keydown",h),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",p)}},[t,r,u,a,c]),null),lw=({gameStateRef:t,ctxRef:r,isDebugOnRef:o,viewportCenterRef:s,playerActionHintsRef:u,keysPressed:a,canvasRef:c,setAppState:h,appState:p})=>{const v=Ae.useRef(),[m,y,I]=sm(E=>{if(!r.current||!v.current){v.current=E;return}const k=Math.min(E-v.current,1e3)/1e3;t.current=ua(t.current,k);const P=pt(t.current);P?u.current=gd(t.current,P):u.current=[],s.current=nw(t.current,s.current,k),Xl(r.current,t.current,o.current,s.current,u.current,!1),v.current=E,t.current.gameOver&&p!=="gameOver"&&(fd(Fe.GameOver,{masterVolume:t.current.masterVolume,isMuted:t.current.isMuted}),h("gameOver",{generations:t.current.generationCount,cause:t.current.causeOfGameOver||"Unknown"}))});return Ae.useEffect(()=>(y(),m),[y,m]),Ee.jsx(sw,{isActive:I,gameStateRef:t,canvasRef:c,viewportCenterRef:s,playerActionHintsRef:u,isDebugOnRef:o,keysPressed:a})},Og=()=>{const[t]=Ae.useState(()=>bE());return Ee.jsx(aw,{initialState:t})},aw=({initialState:t})=>{const r=Ae.useRef(null),o=Ae.useRef(null),s=Ae.useRef(t),u=Ae.useRef(new Set),a=Ae.useRef(!1),c=Ae.useRef(t.viewportCenter),h=Ae.useRef([]),{appState:p,setAppState:v}=bl();return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(QE,{canvasRef:r,ctxRef:o,gameStateRef:s,isDebugOnRef:a,viewportCenterRef:c,playerActionHintsRef:h}),Ee.jsx(lw,{gameStateRef:s,ctxRef:o,isDebugOnRef:a,viewportCenterRef:c,playerActionHintsRef:h,keysPressed:u,canvasRef:r,setAppState:v,appState:p})]})},uw=wn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-color: rgba(0, 0, 0, 0.75); // Semi-transparent overlay
  color: #fff;
  padding: 20px;
  z-index: 10; // Ensure it's on top
`,cw=wn.h1`
  font-family: 'Press Start 2P', cursive;
  font-size: 4rem;
  color: #ff4136; // Red for emphasis
  text-shadow: 4px 4px 0px #000;
  margin-bottom: 1.5rem;
`,Dl=wn.p`
  font-family: 'Press Start 2P', cursive;
  font-size: 1.2rem;
  margin: 0.5em 0;
  color: #fff;
  text-shadow: 2px 2px 0px #000;
`,dw=wn.button`
  font-family: 'Press Start 2P', cursive;
  font-size: 1rem;
  padding: 1rem 2rem;
  margin-top: 2em;
  color: #fff;
  background-color: #ff4136; // Red button
  border: 2px solid #fff;
  box-shadow: 4px 4px 0px #fff;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  text-transform: uppercase;

  &:hover {
    background-color: #fff;
    color: #ff4136;
    box-shadow: 4px 4px 0px #ff4136;
  }
`,fw=()=>{const{setAppState:t,gameOverDetails:r}=bl(),o=()=>{t("intro")};return Ee.jsxs(uw,{children:[Ee.jsx(cw,{children:"Game Over"}),Ee.jsx(Dl,{children:"Your tribe's lineage has ended."}),r&&Ee.jsxs(Ee.Fragment,{children:[Ee.jsxs(Dl,{children:["Generations Survived: ",r.generations]}),Ee.jsxs(Dl,{children:["Cause of Extinction: ",r.cause]})]}),!r&&Ee.jsx(Dl,{children:"Game details are unavailable."}),Ee.jsx(dw,{onClick:o,children:"Return to Menu"})]})},hw=oS`
  /* CSS Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', 'Arial', sans-serif;
    background-color: #121212;
    color: #f0f0f0;
    line-height: 1.6;
  }

  /* Additional global styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }

  button {
    cursor: pointer;
    font-family: inherit;
  }

  /* Prevent overflow issues */
  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  /* Root element for React app */
  #root {
    height: 100%;
  }
`;function pw(t,r){Ae.useEffect(()=>{const o=()=>{const s=document.location.hash==="#game"?"game":"intro";r(s)};return window.addEventListener("hashchange",o),o(),()=>{window.removeEventListener("hashchange",o)}},[]),Ae.useEffect(()=>{t==="game"?document.location.hash="#game":t==="intro"&&(document.location.hash="")},[t])}const gw=()=>{const{appState:t,setAppState:r}=bl();pw(t,r);const o=()=>{switch(t){case"intro":return Ee.jsx(Pg,{});case"game":return Ee.jsx(Og,{});case"gameOver":return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(Og,{}),Ee.jsx(fw,{})]});default:return Ee.jsx(Pg,{})}};return Ee.jsxs(Ee.Fragment,{children:[Ee.jsx(hw,{}),o()]})},kg=document.getElementById("root");kg?D_().then(()=>{ry.createRoot(kg).render(Ee.jsx(Tn.StrictMode,{children:Ee.jsx(iy,{initialAppState:document.location.hash==="#game"?"game":"intro",children:Ee.jsx(gw,{})})}))}):console.error("Failed to find the root element");
