import{R as j,r as E,c as G,g as pi,j as p,u as Ir,a as gi,b as vi}from"./index-DA9Vs_f-.js";var $=function(){return $=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$.apply(this,arguments)};function me(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var w="-ms-",De="-moz-",_="-webkit-",Fr="comm",ut="rule",rn="decl",yi="@import",Ar="@keyframes",bi="@layer",Sr=Math.abs,sn=String.fromCharCode,kt=Object.assign;function Ei(e,t){return P(e,0)^45?(((t<<2^P(e,0))<<2^P(e,1))<<2^P(e,2))<<2^P(e,3):0}function Dr(e){return e.trim()}function Q(e,t){return(e=t.exec(e))?e[0]:e}function F(e,t,n){return e.replace(t,n)}function He(e,t,n){return e.indexOf(t,n)}function P(e,t){return e.charCodeAt(t)|0}function pe(e,t,n){return e.slice(t,n)}function X(e){return e.length}function Tr(e){return e.length}function Se(e,t){return t.push(e),e}function xi(e,t){return e.map(t).join("")}function An(e,t){return e.filter(function(n){return!Q(n,t)})}var lt=1,ge=1,_r=0,H=0,O=0,xe="";function dt(e,t,n,r,s,a,i,o){return{value:e,root:t,parent:n,type:r,props:s,children:a,line:lt,column:ge,length:i,return:"",siblings:o}}function ne(e,t){return kt(dt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ce(e){for(;e.root;)e=ne(e.root,{children:[e]});Se(e,e.siblings)}function Ci(){return O}function Ii(){return O=H>0?P(xe,--H):0,ge--,O===10&&(ge=1,lt--),O}function W(){return O=H<_r?P(xe,H++):0,ge++,O===10&&(ge=1,lt++),O}function ae(){return P(xe,H)}function qe(){return H}function ft(e,t){return pe(xe,e,t)}function Bt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fi(e){return lt=ge=1,_r=X(xe=e),H=0,[]}function Ai(e){return xe="",e}function xt(e){return Dr(ft(H-1,Rt(e===91?e+2:e===40?e+1:e)))}function Si(e){for(;(O=ae())&&O<33;)W();return Bt(e)>2||Bt(O)>3?"":" "}function Di(e,t){for(;--t&&W()&&!(O<48||O>102||O>57&&O<65||O>70&&O<97););return ft(e,qe()+(t<6&&ae()==32&&W()==32))}function Rt(e){for(;W();)switch(O){case e:return H;case 34:case 39:e!==34&&e!==39&&Rt(O);break;case 40:e===41&&Rt(e);break;case 92:W();break}return H}function Ti(e,t){for(;W()&&e+O!==57;)if(e+O===84&&ae()===47)break;return"/*"+ft(t,H-1)+"*"+sn(e===47?e:W())}function _i(e){for(;!Bt(ae());)W();return ft(e,H)}function wi(e){return Ai(We("",null,null,null,[""],e=Fi(e),0,[0],e))}function We(e,t,n,r,s,a,i,o,c){for(var l=0,u=0,d=i,f=0,h=0,m=0,g=1,v=1,x=1,y=0,C="",T=s,B=a,D=r,A=C;v;)switch(m=y,y=W()){case 40:if(m!=108&&P(A,d-1)==58){He(A+=F(xt(y),"&","&\f"),"&\f",Sr(l?o[l-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:A+=xt(y);break;case 9:case 10:case 13:case 32:A+=Si(m);break;case 92:A+=Di(qe()-1,7);continue;case 47:switch(ae()){case 42:case 47:Se(Mi(Ti(W(),qe()),t,n,c),c);break;default:A+="/"}break;case 123*g:o[l++]=X(A)*x;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:x==-1&&(A=F(A,/\f/g,"")),h>0&&X(A)-d&&Se(h>32?Dn(A+";",r,n,d-1,c):Dn(F(A," ","")+";",r,n,d-2,c),c);break;case 59:A+=";";default:if(Se(D=Sn(A,t,n,l,u,s,o,C,T=[],B=[],d,a),a),y===123)if(u===0)We(A,t,D,D,T,a,d,o,B);else switch(f===99&&P(A,3)===110?100:f){case 100:case 108:case 109:case 115:We(e,D,D,r&&Se(Sn(e,D,D,0,0,s,o,C,s,T=[],d,B),B),s,B,d,o,r?T:B);break;default:We(A,D,D,D,[""],B,0,o,B)}}l=u=h=0,g=x=1,C=A="",d=i;break;case 58:d=1+X(A),h=m;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Ii()==125)continue}switch(A+=sn(y),y*g){case 38:x=u>0?1:(A+="\f",-1);break;case 44:o[l++]=(X(A)-1)*x,x=1;break;case 64:ae()===45&&(A+=xt(W())),f=ae(),u=d=X(C=A+=_i(qe())),y++;break;case 45:m===45&&X(A)==2&&(g=0)}}return a}function Sn(e,t,n,r,s,a,i,o,c,l,u,d){for(var f=s-1,h=s===0?a:[""],m=Tr(h),g=0,v=0,x=0;g<r;++g)for(var y=0,C=pe(e,f+1,f=Sr(v=i[g])),T=e;y<m;++y)(T=Dr(v>0?h[y]+" "+C:F(C,/&\f/g,h[y])))&&(c[x++]=T);return dt(e,t,n,s===0?ut:o,c,l,u,d)}function Mi(e,t,n,r){return dt(e,t,n,Fr,sn(Ci()),pe(e,2,-2),0,r)}function Dn(e,t,n,r,s){return dt(e,t,n,rn,pe(e,0,r),pe(e,r+1,-1),r,s)}function wr(e,t,n){switch(Ei(e,t)){case 5103:return _+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _+e+e;case 4789:return De+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _+e+De+e+w+e+e;case 5936:switch(P(e,t+11)){case 114:return _+e+w+F(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _+e+w+F(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _+e+w+F(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return _+e+w+e+e;case 6165:return _+e+w+"flex-"+e+e;case 5187:return _+e+F(e,/(\w+).+(:[^]+)/,_+"box-$1$2"+w+"flex-$1$2")+e;case 5443:return _+e+w+"flex-item-"+F(e,/flex-|-self/g,"")+(Q(e,/flex-|baseline/)?"":w+"grid-row-"+F(e,/flex-|-self/g,""))+e;case 4675:return _+e+w+"flex-line-pack"+F(e,/align-content|flex-|-self/g,"")+e;case 5548:return _+e+w+F(e,"shrink","negative")+e;case 5292:return _+e+w+F(e,"basis","preferred-size")+e;case 6060:return _+"box-"+F(e,"-grow","")+_+e+w+F(e,"grow","positive")+e;case 4554:return _+F(e,/([^-])(transform)/g,"$1"+_+"$2")+e;case 6187:return F(F(F(e,/(zoom-|grab)/,_+"$1"),/(image-set)/,_+"$1"),e,"")+e;case 5495:case 3959:return F(e,/(image-set\([^]*)/,_+"$1$`$1");case 4968:return F(F(e,/(.+:)(flex-)?(.*)/,_+"box-pack:$3"+w+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_+e+e;case 4200:if(!Q(e,/flex-|baseline/))return w+"grid-column-align"+pe(e,t)+e;break;case 2592:case 3360:return w+F(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,s){return t=s,Q(r.props,/grid-\w+-end/)})?~He(e+(n=n[t].value),"span",0)?e:w+F(e,"-start","")+e+w+"grid-row-span:"+(~He(n,"span",0)?Q(n,/\d+/):+Q(n,/\d+/)-+Q(e,/\d+/))+";":w+F(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Q(r.props,/grid-\w+-start/)})?e:w+F(F(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return F(e,/(.+)-inline(.+)/,_+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(X(e)-1-t>6)switch(P(e,t+1)){case 109:if(P(e,t+4)!==45)break;case 102:return F(e,/(.+:)(.+)-([^]+)/,"$1"+_+"$2-$3$1"+De+(P(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~He(e,"stretch",0)?wr(F(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return F(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,a,i,o,c,l){return w+s+":"+a+l+(i?w+s+"-span:"+(o?c:+c-+a)+l:"")+e});case 4949:if(P(e,t+6)===121)return F(e,":",":"+_)+e;break;case 6444:switch(P(e,P(e,14)===45?18:11)){case 120:return F(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+_+(P(e,14)===45?"inline-":"")+"box$3$1"+_+"$2$3$1"+w+"$2box$3")+e;case 100:return F(e,":",":"+w)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return F(e,"scroll-","scroll-snap-")+e}return e}function Qe(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function ki(e,t,n,r){switch(e.type){case bi:if(e.children.length)break;case yi:case rn:return e.return=e.return||e.value;case Fr:return"";case Ar:return e.return=e.value+"{"+Qe(e.children,r)+"}";case ut:if(!X(e.value=e.props.join(",")))return""}return X(n=Qe(e.children,r))?e.return=e.value+"{"+n+"}":""}function Bi(e){var t=Tr(e);return function(n,r,s,a){for(var i="",o=0;o<t;o++)i+=e[o](n,r,s,a)||"";return i}}function Ri(e){return function(t){t.root||(t=t.return)&&e(t)}}function Li(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case rn:e.return=wr(e.value,e.length,n);return;case Ar:return Qe([ne(e,{value:F(e.value,"@","@"+_)})],r);case ut:if(e.length)return xi(n=e.props,function(s){switch(Q(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ce(ne(e,{props:[F(s,/:(read-\w+)/,":"+De+"$1")]})),ce(ne(e,{props:[s]})),kt(e,{props:An(n,r)});break;case"::placeholder":ce(ne(e,{props:[F(s,/:(plac\w+)/,":"+_+"input-$1")]})),ce(ne(e,{props:[F(s,/:(plac\w+)/,":"+De+"$1")]})),ce(ne(e,{props:[F(s,/:(plac\w+)/,w+"input-$1")]})),ce(ne(e,{props:[s]})),kt(e,{props:An(n,r)});break}return""})}}var Oi={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y={},ve=typeof process<"u"&&Y!==void 0&&(Y.REACT_APP_SC_ATTR||Y.SC_ATTR)||"data-styled",Mr="active",kr="data-styled-version",ht="6.1.12",an=`/*!sc*/
`,et=typeof window<"u"&&"HTMLElement"in window,Pi=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Y!==void 0&&Y.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Y.REACT_APP_SC_DISABLE_SPEEDY!==""?Y.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Y.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Y!==void 0&&Y.SC_DISABLE_SPEEDY!==void 0&&Y.SC_DISABLE_SPEEDY!==""&&Y.SC_DISABLE_SPEEDY!=="false"&&Y.SC_DISABLE_SPEEDY),ji={},mt=Object.freeze([]),ye=Object.freeze({});function Br(e,t,n){return n===void 0&&(n=ye),e.theme!==n.theme&&e.theme||t||n.theme}var Rr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),$i=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ni=/(^-|-$)/g;function Tn(e){return e.replace($i,"-").replace(Ni,"")}var Ui=/(a)(d)/gi,$e=52,_n=function(e){return String.fromCharCode(e+(e>25?39:97))};function Lt(e){var t,n="";for(t=Math.abs(e);t>$e;t=t/$e|0)n=_n(t%$e)+n;return(_n(t%$e)+n).replace(Ui,"$1-$2")}var Ct,Lr=5381,he=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Or=function(e){return he(Lr,e)};function on(e){return Lt(Or(e)>>>0)}function Yi(e){return e.displayName||e.name||"Component"}function It(e){return typeof e=="string"&&!0}var Pr=typeof Symbol=="function"&&Symbol.for,jr=Pr?Symbol.for("react.memo"):60115,zi=Pr?Symbol.for("react.forward_ref"):60112,Gi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Hi={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qi=((Ct={})[zi]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ct[jr]=$r,Ct);function wn(e){return("type"in(t=e)&&t.type.$$typeof)===jr?$r:"$$typeof"in e?qi[e.$$typeof]:Gi;var t}var Wi=Object.defineProperty,Vi=Object.getOwnPropertyNames,Mn=Object.getOwnPropertySymbols,Xi=Object.getOwnPropertyDescriptor,Ki=Object.getPrototypeOf,kn=Object.prototype;function Nr(e,t,n){if(typeof t!="string"){if(kn){var r=Ki(t);r&&r!==kn&&Nr(e,r,n)}var s=Vi(t);Mn&&(s=s.concat(Mn(t)));for(var a=wn(e),i=wn(t),o=0;o<s.length;++o){var c=s[o];if(!(c in Hi||n&&n[c]||i&&c in i||a&&c in a)){var l=Xi(t,c);try{Wi(e,c,l)}catch{}}}}return e}function be(e){return typeof e=="function"}function cn(e){return typeof e=="object"&&"styledComponentId"in e}function ie(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function tt(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function Te(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Ot(e,t,n){if(n===void 0&&(n=!1),!n&&!Te(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Ot(e[r],t[r]);else if(Te(t))for(var r in t)e[r]=Ot(e[r],t[r]);return e}function un(e,t){Object.defineProperty(e,"toString",{value:t})}function we(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Zi=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,a=s;t>=a;)if((a<<=1)<0)throw we(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var i=s;i<a;i++)this.groupSizes[i]=0}for(var o=this.indexOfGroup(t+1),c=(i=0,n.length);i<c;i++)this.tag.insertRule(o,n[i])&&(this.groupSizes[t]++,o++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),s=r+n;this.groupSizes[t]=0;for(var a=r;a<s;a++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],s=this.indexOfGroup(t),a=s+r,i=s;i<a;i++)n+="".concat(this.tag.getRule(i)).concat(an);return n},e}(),Ve=new Map,nt=new Map,Xe=1,Ne=function(e){if(Ve.has(e))return Ve.get(e);for(;nt.has(Xe);)Xe++;var t=Xe++;return Ve.set(e,t),nt.set(t,e),t},Ji=function(e,t){Xe=t+1,Ve.set(e,t),nt.set(t,e)},Qi="style[".concat(ve,"][").concat(kr,'="').concat(ht,'"]'),ea=new RegExp("^".concat(ve,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ta=function(e,t,n){for(var r,s=n.split(","),a=0,i=s.length;a<i;a++)(r=s[a])&&e.registerName(t,r)},na=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(an),s=[],a=0,i=r.length;a<i;a++){var o=r[a].trim();if(o){var c=o.match(ea);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&(Ji(u,l),ta(e,u,c[3]),e.getTag().insertRules(l,s)),s.length=0}else s.push(o)}}},Bn=function(e){for(var t=document.querySelectorAll(Qi),n=0,r=t.length;n<r;n++){var s=t[n];s&&s.getAttribute(ve)!==Mr&&(na(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function ra(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ur=function(e){var t=document.head,n=e||t,r=document.createElement("style"),s=function(o){var c=Array.from(o.querySelectorAll("style[".concat(ve,"]")));return c[c.length-1]}(n),a=s!==void 0?s.nextSibling:null;r.setAttribute(ve,Mr),r.setAttribute(kr,ht);var i=ra();return i&&r.setAttribute("nonce",i),n.insertBefore(r,a),r},sa=function(){function e(t){this.element=Ur(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,a=r.length;s<a;s++){var i=r[s];if(i.ownerNode===n)return i}throw we(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),ia=function(){function e(t){this.element=Ur(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),aa=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Rn=et,oa={isServer:!et,useCSSOMInjection:!Pi},rt=function(){function e(t,n,r){t===void 0&&(t=ye),n===void 0&&(n={});var s=this;this.options=$($({},oa),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&et&&Rn&&(Rn=!1,Bn(this)),un(this,function(){return function(a){for(var i=a.getTag(),o=i.length,c="",l=function(d){var f=function(x){return nt.get(x)}(d);if(f===void 0)return"continue";var h=a.names.get(f),m=i.getGroup(d);if(h===void 0||!h.size||m.length===0)return"continue";var g="".concat(ve,".g").concat(d,'[id="').concat(f,'"]'),v="";h!==void 0&&h.forEach(function(x){x.length>0&&(v+="".concat(x,","))}),c+="".concat(m).concat(g,'{content:"').concat(v,'"}').concat(an)},u=0;u<o;u++)l(u);return c}(s)})}return e.registerId=function(t){return Ne(t)},e.prototype.rehydrate=function(){!this.server&&et&&Bn(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e($($({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new aa(s):r?new sa(s):new ia(s)}(this.options),new Zi(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Ne(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Ne(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Ne(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),ca=/&/g,ua=/^\s*\/\/.*$/gm;function Yr(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Yr(n.children,t)),n})}function la(e){var t,n,r,s=ye,a=s.options,i=a===void 0?ye:a,o=s.plugins,c=o===void 0?mt:o,l=function(f,h,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(t):f},u=c.slice();u.push(function(f){f.type===ut&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(ca,n).replace(r,l))}),i.prefix&&u.push(Li),u.push(ki);var d=function(f,h,m,g){h===void 0&&(h=""),m===void 0&&(m=""),g===void 0&&(g="&"),t=g,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var v=f.replace(ua,""),x=wi(m||h?"".concat(m," ").concat(h," { ").concat(v," }"):v);i.namespace&&(x=Yr(x,i.namespace));var y=[];return Qe(x,Bi(u.concat(Ri(function(C){return y.push(C)})))),y};return d.hash=c.length?c.reduce(function(f,h){return h.name||we(15),he(f,h.name)},Lr).toString():"",d}var da=new rt,Pt=la(),zr=j.createContext({shouldForwardProp:void 0,styleSheet:da,stylis:Pt});zr.Consumer;j.createContext(void 0);function jt(){return E.useContext(zr)}var Gr=function(){function e(t,n){var r=this;this.inject=function(s,a){a===void 0&&(a=Pt);var i=r.name+a.hash;s.hasNameForId(r.id,i)||s.insertRules(r.id,i,a(r.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,un(this,function(){throw we(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Pt),this.name+t.hash},e}(),fa=function(e){return e>="A"&&e<="Z"};function Ln(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;fa(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Hr=function(e){return e==null||e===!1||e===""},qr=function(e){var t,n,r=[];for(var s in e){var a=e[s];e.hasOwnProperty(s)&&!Hr(a)&&(Array.isArray(a)&&a.isCss||be(a)?r.push("".concat(Ln(s),":"),a,";"):Te(a)?r.push.apply(r,me(me(["".concat(s," {")],qr(a),!1),["}"],!1)):r.push("".concat(Ln(s),": ").concat((t=s,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in Oi||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function re(e,t,n,r){if(Hr(e))return[];if(cn(e))return[".".concat(e.styledComponentId)];if(be(e)){if(!be(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var s=e(t);return re(s,t,n,r)}var a;return e instanceof Gr?n?(e.inject(n,r),[e.getName(r)]):[e]:Te(e)?qr(e):Array.isArray(e)?Array.prototype.concat.apply(mt,e.map(function(i){return re(i,t,n,r)})):[e.toString()]}function Wr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(be(n)&&!cn(n))return!1}return!0}var ha=Or(ht),ma=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Wr(t),this.componentId=n,this.baseHash=he(ha,n),this.baseStyle=r,rt.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=ie(s,this.staticRulesId);else{var a=tt(re(this.rules,t,n,r)),i=Lt(he(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,i)){var o=r(a,".".concat(i),void 0,this.componentId);n.insertRules(this.componentId,i,o)}s=ie(s,i),this.staticRulesId=i}else{for(var c=he(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")l+=d;else if(d){var f=tt(re(d,t,n,r));c=he(c,f+u),l+=f}}if(l){var h=Lt(c>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(l,".".concat(h),void 0,this.componentId)),s=ie(s,h)}}return s},e}(),ln=j.createContext(void 0);ln.Consumer;var Ft={};function pa(e,t,n){var r=cn(e),s=e,a=!It(e),i=t.attrs,o=i===void 0?mt:i,c=t.componentId,l=c===void 0?function(T,B){var D=typeof T!="string"?"sc":Tn(T);Ft[D]=(Ft[D]||0)+1;var A="".concat(D,"-").concat(on(ht+D+Ft[D]));return B?"".concat(B,"-").concat(A):A}(t.displayName,t.parentComponentId):c,u=t.displayName,d=u===void 0?function(T){return It(T)?"styled.".concat(T):"Styled(".concat(Yi(T),")")}(e):u,f=t.displayName&&t.componentId?"".concat(Tn(t.displayName),"-").concat(t.componentId):t.componentId||l,h=r&&s.attrs?s.attrs.concat(o).filter(Boolean):o,m=t.shouldForwardProp;if(r&&s.shouldForwardProp){var g=s.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(T,B){return g(T,B)&&v(T,B)}}else m=g}var x=new ma(n,f,r?s.componentStyle:void 0);function y(T,B){return function(D,A,Ce){var Re=D.attrs,ci=D.componentStyle,ui=D.defaultProps,li=D.foldedComponentIds,di=D.styledComponentId,fi=D.target,hi=j.useContext(ln),mi=jt(),yt=D.shouldForwardProp||mi.shouldForwardProp,In=Br(A,hi,ui)||ye,J=function(Oe,Fe,Pe){for(var Ae,se=$($({},Fe),{className:void 0,theme:Pe}),Et=0;Et<Oe.length;Et+=1){var je=be(Ae=Oe[Et])?Ae(se):Ae;for(var te in je)se[te]=te==="className"?ie(se[te],je[te]):te==="style"?$($({},se[te]),je[te]):je[te]}return Fe.className&&(se.className=ie(se.className,Fe.className)),se}(Re,A,In),Le=J.as||fi,Ie={};for(var ee in J)J[ee]===void 0||ee[0]==="$"||ee==="as"||ee==="theme"&&J.theme===In||(ee==="forwardedAs"?Ie.as=J.forwardedAs:yt&&!yt(ee,Le)||(Ie[ee]=J[ee]));var Fn=function(Oe,Fe){var Pe=jt(),Ae=Oe.generateAndInjectStyles(Fe,Pe.styleSheet,Pe.stylis);return Ae}(ci,J),bt=ie(li,di);return Fn&&(bt+=" "+Fn),J.className&&(bt+=" "+J.className),Ie[It(Le)&&!Rr.has(Le)?"class":"className"]=bt,Ie.ref=Ce,E.createElement(Le,Ie)}(C,T,B)}y.displayName=d;var C=j.forwardRef(y);return C.attrs=h,C.componentStyle=x,C.displayName=d,C.shouldForwardProp=m,C.foldedComponentIds=r?ie(s.foldedComponentIds,s.styledComponentId):"",C.styledComponentId=f,C.target=r?s.target:e,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=r?function(B){for(var D=[],A=1;A<arguments.length;A++)D[A-1]=arguments[A];for(var Ce=0,Re=D;Ce<Re.length;Ce++)Ot(B,Re[Ce],!0);return B}({},s.defaultProps,T):T}}),un(C,function(){return".".concat(C.styledComponentId)}),a&&Nr(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function On(e,t){for(var n=[e[0]],r=0,s=t.length;r<s;r+=1)n.push(t[r],e[r+1]);return n}var Pn=function(e){return Object.assign(e,{isCss:!0})};function dn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(be(e)||Te(e))return Pn(re(On(mt,me([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?re(r):Pn(re(On(r,t)))}function $t(e,t,n){if(n===void 0&&(n=ye),!t)throw we(1,t);var r=function(s){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return e(t,n,dn.apply(void 0,me([s],a,!1)))};return r.attrs=function(s){return $t(e,t,$($({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return $t(e,t,$($({},n),s))},r}var Vr=function(e){return $t(pa,e)},S=Vr;Rr.forEach(function(e){S[e]=Vr(e)});var ga=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Wr(t),rt.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,s){var a=s(tt(re(this.rules,n,r,s)),""),i=this.componentId+t;r.insertRules(i,i,a)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,s){t>2&&rt.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,s)},e}();function va(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=dn.apply(void 0,me([e],t,!1)),s="sc-global-".concat(on(JSON.stringify(r))),a=new ga(r,s),i=function(c){var l=jt(),u=j.useContext(ln),d=j.useRef(l.styleSheet.allocateGSInstance(s)).current;return l.styleSheet.server&&o(d,c,l.styleSheet,u,l.stylis),j.useLayoutEffect(function(){if(!l.styleSheet.server)return o(d,c,l.styleSheet,u,l.stylis),function(){return a.removeStyles(d,l.styleSheet)}},[d,c,l.styleSheet,u,l.stylis]),null};function o(c,l,u,d,f){if(a.isStatic)a.renderStyles(c,ji,u,f);else{var h=$($({},l),{theme:Br(l,d,i.defaultProps)});a.renderStyles(c,h,u,f)}}return j.memo(i)}function pt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=tt(dn.apply(void 0,me([e],t,!1))),s=on(r);return new Gr(s,r)}const fn=20,Ke=fn*1.5,Nt=5,Z=20,ya=1,ba=5,Ea=Z/ba,Xr=.5,Kr=500,Ue=.05,Ut=5,xa=4,At=60,I=16,K=I*5,Zr=1e3,hn=K*6,Ca=10,Ia=fn/10,Fa=1e3,Aa=.5,Sa=.05,Da=.1,Ta=.1,R=I*.7,_a=5;var b=(e=>(e.NEUTRAL="NEUTRAL",e.FRIENDLY="FRIENDLY",e.HOSTILE="HOSTILE",e))(b||{}),Jr=(e=>(e.LAUNCH_SITE="LAUNCH_SITE",e))(Jr||{}),N=(e=>(e.WATER="WATER",e.GROUND="GROUND",e))(N||{}),U=(e=>(e.ATTACK="ATTACK",e.DEFENCE="DEFENCE",e))(U||{});function wa(e,t){const n=[];for(let r=0;r<t;r++)for(let s=0;s<e;s++)n.push({id:`${s*I},${r*I}`,position:{x:s*I,y:r*I},rect:{left:s*I,top:r*I,right:(s+1)*I,bottom:(r+1)*I},type:N.WATER,depth:0,height:0,population:0});return n}function Ma(e,t,n){const r=[],s=Array(n).fill(null).map(()=>Array(t).fill(!1));for(let a=0;a<n;a++)for(let i=0;i<t;i++){const o=a*t+i;e[o].type===N.WATER&&ka(i,a,t,n,e)&&(r.push([i,a,0]),s[a][i]=!0)}for(;r.length>0;){const[a,i,o]=r.shift(),c=i*t+a;e[c].type===N.WATER?e[c].depth=o+(Math.random()-Math.random())/5:e[c].type===N.GROUND&&(e[c].height=Math.sqrt(o)+(Math.random()-Math.random())/10);const l=[[-1,0],[1,0],[0,-1],[0,1]];for(const[u,d]of l){const f=a+u,h=i+d;Qr(f,h,t,n)&&!s[h][f]&&(r.push([f,h,o+1]),s[h][f]=!0)}}}function ka(e,t,n,r,s){return[[-1,0],[1,0],[0,-1],[0,1]].some(([i,o])=>{const c=e+i,l=t+o;if(Qr(c,l,n,r)){const u=l*n+c;return s[u].type===N.GROUND}return!1})}function Qr(e,t,n,r){return e>=0&&e<n&&t>=0&&t<r}var es={exports:{}},Ba=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}];(function(e){var t=Ba,n=t.filter(function(s){return!!s.css}),r=t.filter(function(s){return!!s.vga});e.exports=function(s){var a=e.exports.get(s);return a&&a.value},e.exports.get=function(s){return s=s||"",s=s.trim().toLowerCase(),t.filter(function(a){return a.name.toLowerCase()===s}).pop()},e.exports.all=e.exports.get.all=function(){return t},e.exports.get.css=function(s){return s?(s=s||"",s=s.trim().toLowerCase(),n.filter(function(a){return a.name.toLowerCase()===s}).pop()):n},e.exports.get.vga=function(s){return s?(s=s||"",s=s.trim().toLowerCase(),r.filter(function(a){return a.name.toLowerCase()===s}).pop()):r}})(es);var Ra=es.exports,La=1/0,Oa="[object Symbol]",Pa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ts="\\ud800-\\udfff",ja="\\u0300-\\u036f\\ufe20-\\ufe23",$a="\\u20d0-\\u20f0",ns="\\u2700-\\u27bf",rs="a-z\\xdf-\\xf6\\xf8-\\xff",Na="\\xac\\xb1\\xd7\\xf7",Ua="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ya="\\u2000-\\u206f",za=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ss="A-Z\\xc0-\\xd6\\xd8-\\xde",Ga="\\ufe0e\\ufe0f",is=Na+Ua+Ya+za,as="[']",jn="["+is+"]",Ha="["+ja+$a+"]",os="\\d+",qa="["+ns+"]",cs="["+rs+"]",us="[^"+ts+is+os+ns+rs+ss+"]",Wa="\\ud83c[\\udffb-\\udfff]",Va="(?:"+Ha+"|"+Wa+")",Xa="[^"+ts+"]",ls="(?:\\ud83c[\\udde6-\\uddff]){2}",ds="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="["+ss+"]",Ka="\\u200d",$n="(?:"+cs+"|"+us+")",Za="(?:"+fe+"|"+us+")",Nn="(?:"+as+"(?:d|ll|m|re|s|t|ve))?",Un="(?:"+as+"(?:D|LL|M|RE|S|T|VE))?",fs=Va+"?",hs="["+Ga+"]?",Ja="(?:"+Ka+"(?:"+[Xa,ls,ds].join("|")+")"+hs+fs+")*",Qa=hs+fs+Ja,eo="(?:"+[qa,ls,ds].join("|")+")"+Qa,to=RegExp([fe+"?"+cs+"+"+Nn+"(?="+[jn,fe,"$"].join("|")+")",Za+"+"+Un+"(?="+[jn,fe+$n,"$"].join("|")+")",fe+"?"+$n+"+"+Nn,fe+"+"+Un,os,eo].join("|"),"g"),no=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ro=typeof G=="object"&&G&&G.Object===Object&&G,so=typeof self=="object"&&self&&self.Object===Object&&self,io=ro||so||Function("return this")();function ao(e){return e.match(Pa)||[]}function oo(e){return no.test(e)}function co(e){return e.match(to)||[]}var uo=Object.prototype,lo=uo.toString,Yn=io.Symbol,zn=Yn?Yn.prototype:void 0,Gn=zn?zn.toString:void 0;function fo(e){if(typeof e=="string")return e;if(mo(e))return Gn?Gn.call(e):"";var t=e+"";return t=="0"&&1/e==-La?"-0":t}function ho(e){return!!e&&typeof e=="object"}function mo(e){return typeof e=="symbol"||ho(e)&&lo.call(e)==Oa}function po(e){return e==null?"":fo(e)}function go(e,t,n){return e=po(e),t=n?void 0:t,t===void 0?oo(e)?co(e):ao(e):e.match(t)||[]}var vo=go,yo=1/0,bo="[object Symbol]",Eo=/^\s+/,mn="\\ud800-\\udfff",ms="\\u0300-\\u036f\\ufe20-\\ufe23",ps="\\u20d0-\\u20f0",gs="\\ufe0e\\ufe0f",xo="["+mn+"]",Yt="["+ms+ps+"]",zt="\\ud83c[\\udffb-\\udfff]",Co="(?:"+Yt+"|"+zt+")",vs="[^"+mn+"]",ys="(?:\\ud83c[\\udde6-\\uddff]){2}",bs="[\\ud800-\\udbff][\\udc00-\\udfff]",Es="\\u200d",xs=Co+"?",Cs="["+gs+"]?",Io="(?:"+Es+"(?:"+[vs,ys,bs].join("|")+")"+Cs+xs+")*",Fo=Cs+xs+Io,Ao="(?:"+[vs+Yt+"?",Yt,ys,bs,xo].join("|")+")",So=RegExp(zt+"(?="+zt+")|"+Ao+Fo,"g"),Do=RegExp("["+Es+mn+ms+ps+gs+"]"),To=typeof G=="object"&&G&&G.Object===Object&&G,_o=typeof self=="object"&&self&&self.Object===Object&&self,wo=To||_o||Function("return this")();function Mo(e){return e.split("")}function ko(e,t,n,r){for(var s=e.length,a=n+-1;++a<s;)if(t(e[a],a,e))return a;return-1}function Bo(e,t,n){if(t!==t)return ko(e,Ro,n);for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function Ro(e){return e!==e}function Lo(e,t){for(var n=-1,r=e.length;++n<r&&Bo(t,e[n],0)>-1;);return n}function Oo(e){return Do.test(e)}function Hn(e){return Oo(e)?Po(e):Mo(e)}function Po(e){return e.match(So)||[]}var jo=Object.prototype,$o=jo.toString,qn=wo.Symbol,Wn=qn?qn.prototype:void 0,Vn=Wn?Wn.toString:void 0;function No(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}function Is(e){if(typeof e=="string")return e;if(zo(e))return Vn?Vn.call(e):"";var t=e+"";return t=="0"&&1/e==-yo?"-0":t}function Uo(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:No(e,t,n)}function Yo(e){return!!e&&typeof e=="object"}function zo(e){return typeof e=="symbol"||Yo(e)&&$o.call(e)==bo}function Go(e){return e==null?"":Is(e)}function Ho(e,t,n){if(e=Go(e),e&&(n||t===void 0))return e.replace(Eo,"");if(!e||!(t=Is(t)))return e;var r=Hn(e),s=Lo(r,Hn(t));return Uo(r,s).join("")}var qo=Ho,Gt=1/0,Wo=9007199254740991,Vo=17976931348623157e292,Xn=NaN,Xo="[object Symbol]",Ko=/^\s+|\s+$/g,Zo=/^[-+]0x[0-9a-f]+$/i,Jo=/^0b[01]+$/i,Qo=/^0o[0-7]+$/i,pn="\\ud800-\\udfff",Fs="\\u0300-\\u036f\\ufe20-\\ufe23",As="\\u20d0-\\u20f0",Ss="\\ufe0e\\ufe0f",ec="["+pn+"]",Ht="["+Fs+As+"]",qt="\\ud83c[\\udffb-\\udfff]",tc="(?:"+Ht+"|"+qt+")",Ds="[^"+pn+"]",Ts="(?:\\ud83c[\\udde6-\\uddff]){2}",_s="[\\ud800-\\udbff][\\udc00-\\udfff]",ws="\\u200d",Ms=tc+"?",ks="["+Ss+"]?",nc="(?:"+ws+"(?:"+[Ds,Ts,_s].join("|")+")"+ks+Ms+")*",rc=ks+Ms+nc,sc="(?:"+[Ds+Ht+"?",Ht,Ts,_s,ec].join("|")+")",Wt=RegExp(qt+"(?="+qt+")|"+sc+rc,"g"),ic=RegExp("["+ws+pn+Fs+As+Ss+"]"),ac=parseInt,oc=typeof G=="object"&&G&&G.Object===Object&&G,cc=typeof self=="object"&&self&&self.Object===Object&&self,uc=oc||cc||Function("return this")(),lc=fc("length");function dc(e){return e.split("")}function fc(e){return function(t){return t==null?void 0:t[e]}}function gn(e){return ic.test(e)}function Bs(e){return gn(e)?mc(e):lc(e)}function hc(e){return gn(e)?pc(e):dc(e)}function mc(e){for(var t=Wt.lastIndex=0;Wt.test(e);)t++;return t}function pc(e){return e.match(Wt)||[]}var gc=Object.prototype,vc=gc.toString,Kn=uc.Symbol,yc=Math.ceil,bc=Math.floor,Zn=Kn?Kn.prototype:void 0,Jn=Zn?Zn.toString:void 0;function Qn(e,t){var n="";if(!e||t<1||t>Wo)return n;do t%2&&(n+=e),t=bc(t/2),t&&(e+=e);while(t);return n}function Ec(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}function Rs(e){if(typeof e=="string")return e;if(Ls(e))return Jn?Jn.call(e):"";var t=e+"";return t=="0"&&1/e==-Gt?"-0":t}function xc(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Ec(e,t,n)}function Cc(e,t){t=t===void 0?" ":Rs(t);var n=t.length;if(n<2)return n?Qn(t,e):t;var r=Qn(t,yc(e/Bs(t)));return gn(t)?xc(hc(r),0,e).join(""):r.slice(0,e)}function er(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ic(e){return!!e&&typeof e=="object"}function Ls(e){return typeof e=="symbol"||Ic(e)&&vc.call(e)==Xo}function Fc(e){if(!e)return e===0?e:0;if(e=Sc(e),e===Gt||e===-Gt){var t=e<0?-1:1;return t*Vo}return e===e?e:0}function Ac(e){var t=Fc(e),n=t%1;return t===t?n?t-n:t:0}function Sc(e){if(typeof e=="number")return e;if(Ls(e))return Xn;if(er(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=er(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Ko,"");var n=Jo.test(e);return n||Qo.test(e)?ac(e.slice(2),n?2:8):Zo.test(e)?Xn:+e}function Dc(e){return e==null?"":Rs(e)}function Tc(e,t,n){e=Dc(e),t=Ac(t);var r=t?Bs(e):0;return t&&r<t?e+Cc(t-r,n):e}var _c=Tc,wc=(e,t,n,r)=>{const s=(e+(r||"")).toString().includes("%");if(typeof e=="string"?[e,t,n,r]=e.match(/(0?\.?\d{1,3})%?\b/g).map(Number):r!==void 0&&(r=parseFloat(r)),typeof e!="number"||typeof t!="number"||typeof n!="number"||e>255||t>255||n>255)throw new TypeError("Expected three numbers below 256");if(typeof r=="number"){if(!s&&r>=0&&r<=1)r=Math.round(255*r);else if(s&&r>=0&&r<=100)r=Math.round(255*r/100);else throw new TypeError(`Expected alpha value (${r}) as a fraction or percentage`);r=(r|256).toString(16).slice(1)}else r="";return(n|t<<8|e<<16|1<<24).toString(16).slice(1)+r};const _e="a-f\\d",Mc=`#?[${_e}]{3}[${_e}]?`,kc=`#?[${_e}]{6}([${_e}]{2})?`,Bc=new RegExp(`[^#${_e}]`,"gi"),Rc=new RegExp(`^${Mc}$|^${kc}$`,"i");var Lc=(e,t={})=>{if(typeof e!="string"||Bc.test(e)||!Rc.test(e))throw new TypeError("Expected a valid hex string");e=e.replace(/^#/,"");let n=1;e.length===8&&(n=Number.parseInt(e.slice(6,8),16)/255,e=e.slice(0,6)),e.length===4&&(n=Number.parseInt(e.slice(3,4).repeat(2),16)/255,e=e.slice(0,3)),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=Number.parseInt(e,16),s=r>>16,a=r>>8&255,i=r&255,o=typeof t.alpha=="number"?t.alpha:n;if(t.format==="array")return[s,a,i,o];if(t.format==="css"){const c=o===1?"":` / ${Number((o*100).toFixed(2))}%`;return`rgb(${s} ${a} ${i}${c})`}return{red:s,green:a,blue:i,alpha:o}},Oc=Ra,Pc=vo,jc=qo,$c=_c,Nc=wc,Os=Lc;const St=.75,Dt=.25,Tt=16777215,Uc=49979693;var Yc=function(e){return"#"+Hc(String(JSON.stringify(e)))};function zc(e){var t=Pc(e),n=[];return t.forEach(function(r){var s=Oc(r);s&&n.push(Os(jc(s,"#"),{format:"array"}))}),n}function Gc(e){var t=[0,0,0];return e.forEach(function(n){for(var r=0;r<3;r++)t[r]+=n[r]}),[t[0]/e.length,t[1]/e.length,t[2]/e.length]}function Hc(e){var t,n=zc(e);n.length>0&&(t=Gc(n));var r=1,s=0,a=1;if(e.length>0)for(var i=0;i<e.length;i++)e[i].charCodeAt(0)>s&&(s=e[i].charCodeAt(0)),a=parseInt(Tt/s),r=(r+e[i].charCodeAt(0)*a*Uc)%Tt;var o=(r*e.length%Tt).toString(16);o=$c(o,6,o);var c=Os(o,{format:"array"});return t?Nc(Dt*c[0]+St*t[0],Dt*c[1]+St*t[1],Dt*c[2]+St*t[2]):o}const qc=pi(Yc);function Wc(e){return[...Vc].sort(()=>Math.random()-Math.random()).slice(0,e)}const Vc=["Elloria","Velaris","Cairndor","Morthril","Silverkeep","Eaglebrook","Frostholm","Mournwind","Shadowfen","Sunspire","Tristfall","Winterhold","Duskendale","Ravenwood","Greenguard","Dragonfall","Stormwatch","Starhaven","Ironforge","Ironclad","Goldshire","Blacksand","Ashenvale","Whisperwind","Brightwater","Highrock","Stonegate","Thunderbluff","Dunewatch","Zephyrhills","Fallbrook","Lunarglade","Stormpeak","Cragmoor","Ridgewood","Mistvale","Eversong","Coldspring","Hawke's Hollow","Pinecrest","Thornfield","Emberfall","Stormholm","Myrkwater","Windstead","Feyberry","Duskmire","Elmshade","Stonemire","Willowdale","Grimmreach","Thundertop","Nighthaven","Sunfall","Ashenwood","Brightmire","Stoneridge","Ironoak","Mithrintor","Sablecross","Westwatch","Greendale","Dragonspire","Eagle's Perch","Stormhaven","Brightforge","Silverglade","Mournstone","Opalspire","Griffon's Roost","Sunshadow","Frostpeak","Thorncrest","Goldspire","Darkhollow","Eastgate","Wolf's Den","Shrouded Hollow","Brambleshire","Onyxbluff","Skystone","Cinderfall","Emberstone","Stormglen","Highfell","Silverbrook","Elmsreach","Lostbay","Gloomshade","Thundertree","Bywater","Nighthollow","Firefly Glen","Iceridge","Greenmont","Ashenshade","Winterfort","Duskhaven"];function Ps(e){return[...Xc].sort(()=>Math.random()-Math.random()).slice(0,e)}const Xc=["Unittoria","Zaratopia","Novo Brasil","Industia","Chimerica","Ruslavia","Generistan","Eurasica","Pacifika","Afrigon","Arablend","Mexitana","Canadia","Germaine","Italica","Portugo","Francette","Iberica","Scotlund","Norgecia","Suedland","Fennia","Australis","Zealandia","Argentum","Chileon","Peruvio","Bolivar","Colombera","Venezuelaa","Arcticia","Antausia"];function Kc(){const e=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[0,1],[0,-1]],t=Array.from({length:256},(s,a)=>a).sort(()=>Math.random()-.5),n=[...t,...t];function r(s,a,i){return s[0]*a+s[1]*i}return function(a,i){const o=Math.floor(a)&255,c=Math.floor(i)&255;a-=Math.floor(a),i-=Math.floor(i);const l=a*a*a*(a*(a*6-15)+10),u=i*i*i*(i*(i*6-15)+10),d=n[o]+c,f=n[o+1]+c;return(1+(r(e[n[d]&7],a,i)*(1-l)+r(e[n[f]&7],a-1,i)*l)*(1-u)+(r(e[n[d+1]&7],a,i-1)*(1-l)+r(e[n[f+1]&7],a-1,i-1)*l)*u)/2}}function Vt(e,t,n,r,s){const a=Kc(),i=Math.floor(e.x/I),o=Math.floor(e.y/I),c=Math.floor(r/4),l=.5,u=.005,d=.7;for(let h=o-c;h<=o+c;h++)for(let m=i-c;m<=i+c;m++)if(m>=0&&m<r&&h>=0&&h<s){let g=m,v=h;for(let C=0;C<t;C++)Math.random()<d&&(g+=Math.random()>.5?1:-1,v+=Math.random()>.5?1:-1);g=Math.max(0,Math.min(r-1,g)),v=Math.max(0,Math.min(s-1,v));const x=Math.sqrt((g-i)*(g-i)+(v-o)*(v-o))/c,y=a(m*u,h*u);if(x<1&&y>l+x*.01){const C=h*r+m;n[C].type=N.GROUND,n[C].depth=void 0,n[C].height=(1-x)*2*(y-l)}}const f=Math.min(Math.max(o*r+i,0),r);n[f].type=N.GROUND,n[f].depth=void 0,n[f].height=1}function Zc(e,t){return{x:Math.floor(Math.random()*(e*.8)+e*.1)*I,y:Math.floor(Math.random()*(t*.8)+t*.1)*I}}function Jc(e,t,n,r){if(e.x<0||e.y<0||e.x>=n||e.y>=r)return!1;const s=Math.floor(n/(Math.sqrt(t.length+1)*2));return t.every(a=>Math.abs(e.x-a.x)>s||Math.abs(e.y-a.y)>s)}function Qc(e,t,n){return t.every(r=>Math.sqrt(Math.pow(e.x-r.position.x,2)+Math.pow(e.y-r.position.y,2))>=n)}function eu(e,t,n,r,s){const a=[],i=[],o=[],c=Z*3,l=Ps(e*2).filter(h=>h!==t),u=5,d=Wc(e*u*2),f=[];for(let h=0;h<e;h++){const m=`state-${h+1}`,g=h===0?t:l.pop(),v=tu(m,g,h===0);a.push(v),a.forEach(y=>{v.strategies[y.id]=b.NEUTRAL,y.strategies[m]=b.NEUTRAL});const x=nu(f,n,r);f.push(x),Vt(x,n/2,s,n,r),ru(m,x,u,d,i,o,c,s,n,r),v.population=i.filter(y=>y.stateId===m).reduce((y,C)=>y+C.population,0)}return su(s,i),{states:a,cities:i,launchSites:o}}function tu(e,t,n){return{id:e,name:t,color:qc(t),isPlayerControlled:n,strategies:{},lastStrategyUpdate:0,generalStrategy:n?void 0:[b.NEUTRAL,b.HOSTILE,b.FRIENDLY].sort(()=>Math.random()-.5)[0],population:0,defenceLines:[],currentDefenceLineIndex:0,lastDefenceEvaluationTimestamp:0}}function nu(e,t,n){let r,s=10;do if(r=Zc(t,n),s--<=0)break;while(!Jc(r,e,t,n));return r}function ru(e,t,n,r,s,a,i,o,c,l){const u=[];for(let d=0;d<n;d++){const f=tr(t,u,i,30*I);u.push({position:f}),s.push({id:`city-${s.length+1}`,stateId:e,name:r.pop(),position:f,population:Math.floor(Math.random()*3e3)+1e3}),Vt(f,2,o,c,l)}for(const d of s){const f=o.filter(h=>{const m=h.position.x-d.position.x,g=h.position.y-d.position.y;return Math.sqrt(m*m+g*g)<K});for(const h of f){h.cityId=d.id;const m=h.position.x-d.position.x,g=h.position.y-d.position.y,v=Math.sqrt(m*m+g*g);h.population=Math.max(0,K-v)/K*Zr}d.population=f.reduce((h,m)=>h+m.population,0)}for(let d=0;d<4;d++){const f=tr(t,u,i,15*I);u.push({position:f}),a.push({type:Jr.LAUNCH_SITE,id:`launch-site-${a.length+1}`,stateId:e,position:f,mode:Math.random()>.5?U.DEFENCE:U.ATTACK}),Vt(f,1,o,c,l)}return u}function tr(e,t,n,r){let s,a=10;do if(s={x:e.x+(Math.random()-.5)*r,y:e.y+(Math.random()-.5)*r},a--<=0)break;while(!Qc(s,t,n));return s}function su(e,t){const n=new Map(e.map(s=>[s.id,s])),r=[];for(t.forEach(s=>{e.filter(i=>i.cityId===s.id).forEach(i=>{i.stateId=s.stateId,r.push(i)})});r.length>0;){const s=r.splice(0,1)[0];iu(s,n).forEach(i=>{!i.stateId&&i.type===N.GROUND&&(i.stateId=s.stateId,r.push(i))})}}function iu(e,t){const n=[];return[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}].forEach(({dx:s,dy:a})=>{const i=`${e.position.x+s*I},${e.position.y+a*I}`,o=t.get(i);o&&n.push(o)}),n}function js(e){return Object.fromEntries(e.states.map(t=>[t.id,t.population]))}function st(e){return e>=1e3?`${(e/1e3).toFixed(1)}M`:`${e.toFixed(0)}K`}function $s(e,t){const n=[],r=new Map;e.forEach(a=>{r.set(`${a.position.x},${a.position.y}`,a)});const s=(a,i)=>{const o=r.get(`${i.x},${i.y}`);if(o&&o.stateId&&o.stateId!==t.id){const c=n.find(()=>a.id===o.id)??{...a,adjacentStateIds:new Set};n.includes(c)||n.push(c),c.adjacentStateIds.add(o.stateId)}};return e.forEach(a=>{a.stateId===t.id&&[{x:a.position.x,y:a.position.y-I},{x:a.position.x,y:a.position.y+I},{x:a.position.x-I,y:a.position.y},{x:a.position.x+I,y:a.position.y}].forEach(o=>s(a,o))}),Array.from(n)}let au=0;function ou(e,t,n){const r=[],s=$s(e,t),a={};s.forEach(o=>{for(const c of o.adjacentStateIds)a[c]=(a[c]||0)+1});const i=Object.values(a).reduce((o,c)=>o+c,0);return s.forEach(o=>{if(o.stateId&&o.stateId===t.id){const c=Array.from(o.adjacentStateIds).reduce((d,f)=>d+a[f],0),l=c/i,u=Math.round(n*l)/c*(Math.random()*.1+.9);u>0&&r.push({id:String(au++),quantity:u,position:{x:o.position.x+I/2,y:o.position.y+I/2},rect:{left:o.position.x-I/2,top:o.position.y-I/2,right:o.position.x+I/2,bottom:o.position.y+I/2},stateId:t.id,order:{type:"stay"}})}}),r}function V(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function cu(e,t){const n=$s(t.sectors,e),r=du(n),s=[];s.push({id:`${e.id}_border`,sectors:r,isBreach:!1});const a=uu(t,e.id);s.push({id:`${e.id}_inner`,sectors:a,isBreach:!1});const i=lu(t,e.id);return s.push({id:`${e.id}_final`,sectors:i,isBreach:!1}),s}function uu(e,t){return[...e.searchCity.byProperty("stateId",t).map(n=>it(e.searchSector.byRadius(n.position,K*2))).flat(),...e.searchLaunchSite.byProperty("stateId",t).map(n=>it(e.searchSector.byRadius(n.position,I*6))).flat()]}function lu(e,t){return[...e.searchCity.byProperty("stateId",t).map(n=>it(e.searchSector.byProperty("cityId",n.id))).flat(),...e.searchLaunchSite.byProperty("stateId",t).map(n=>it(e.searchSector.byRadius(n.position,I*3))).flat()]}function du(e){if(e.length<3)return e;const t=[e.shift()];for(;e.length;){let n=0,r=1/0;for(let s=0;s<e.length;s++){const a=V(t[t.length-1].position.x,t[t.length-1].position.y,e[s].position.x,e[s].position.y);a<r&&(r=a,n=s)}t.push(e.splice(n,1)[0])}return t}function it(e){if(e.length<3)return e;const t=e.reduce((s,a)=>a.position.y<s.position.y?a:s,e[0]),n=e.sort((s,a)=>{const i=Math.atan2(s.position.y-t.position.y,s.position.x-t.position.x),o=Math.atan2(a.position.y-t.position.y,a.position.x-t.position.x);return i-o}),r=[n[0],n[1]];for(let s=2;s<n.length;s++){for(;r.length>1&&!fu(r[r.length-2].position,r[r.length-1].position,n[s].position);)r.pop();r.push(n[s])}return r}function fu(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)>0}class hu{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,n){let r=this.length++;for(;r>0;){const s=r-1>>1,a=this.values[s];if(n>=a)break;this.ids[r]=this.ids[s],this.values[r]=a,r=s}this.ids[r]=t,this.values[r]=n}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const n=this.ids[0]=this.ids[this.length],r=this.values[0]=this.values[this.length],s=this.length>>1;let a=0;for(;a<s;){let i=(a<<1)+1;const o=i+1;let c=this.ids[i],l=this.values[i];const u=this.values[o];if(o<this.length&&u<l&&(i=o,c=this.ids[o],l=u),l>=r)break;this.ids[a]=c,this.values[a]=l,a=i}this.ids[a]=n,this.values[a]=r}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const nr=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_t=3;class vn{static from(t,n=0){if(n%8!==0)throw new Error("byteOffset must be 8-byte aligned.");if(!t||t.byteLength===void 0||t.buffer)throw new Error("Data must be an instance of ArrayBuffer or SharedArrayBuffer.");const[r,s]=new Uint8Array(t,n+0,2);if(r!==251)throw new Error("Data does not appear to be in a Flatbush format.");const a=s>>4;if(a!==_t)throw new Error(`Got v${a} data when expected v${_t}.`);const i=nr[s&15];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(t,n+2,1),[c]=new Uint32Array(t,n+4,1);return new vn(c,o,i,void 0,t,n)}constructor(t,n=16,r=Float64Array,s=ArrayBuffer,a,i=0){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.byteOffset=i;let o=t,c=o;this._levelBounds=[o*4];do o=Math.ceil(o/this.nodeSize),c+=o,this._levelBounds.push(c*4);while(o!==1);this.ArrayType=r,this.IndexArrayType=c<16384?Uint16Array:Uint32Array;const l=nr.indexOf(this.ArrayType),u=c*4*this.ArrayType.BYTES_PER_ELEMENT;if(l<0)throw new Error(`Unexpected typed array class: ${r}.`);a&&a.byteLength!==void 0&&!a.buffer?(this.data=a,this._boxes=new this.ArrayType(this.data,i+8,c*4),this._indices=new this.IndexArrayType(this.data,i+8+u,c),this._pos=c*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new s(8+u+c*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,c*4),this._indices=new this.IndexArrayType(this.data,8+u,c),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(_t<<4)+l]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t),this._queue=new hu}add(t,n,r=t,s=n){const a=this._pos>>2,i=this._boxes;return this._indices[a]=a,i[this._pos++]=t,i[this._pos++]=n,i[this._pos++]=r,i[this._pos++]=s,t<this.minX&&(this.minX=t),n<this.minY&&(this.minY=n),r>this.maxX&&(this.maxX=r),s>this.maxY&&(this.maxY=s),a}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);const t=this._boxes;if(this.numItems<=this.nodeSize){t[this._pos++]=this.minX,t[this._pos++]=this.minY,t[this._pos++]=this.maxX,t[this._pos++]=this.maxY;return}const n=this.maxX-this.minX||1,r=this.maxY-this.minY||1,s=new Uint32Array(this.numItems),a=65535;for(let i=0,o=0;i<this.numItems;i++){const c=t[o++],l=t[o++],u=t[o++],d=t[o++],f=Math.floor(a*((c+u)/2-this.minX)/n),h=Math.floor(a*((l+d)/2-this.minY)/r);s[i]=pu(f,h)}Xt(s,t,this._indices,0,this.numItems-1,this.nodeSize);for(let i=0,o=0;i<this._levelBounds.length-1;i++){const c=this._levelBounds[i];for(;o<c;){const l=o;let u=t[o++],d=t[o++],f=t[o++],h=t[o++];for(let m=1;m<this.nodeSize&&o<c;m++)u=Math.min(u,t[o++]),d=Math.min(d,t[o++]),f=Math.max(f,t[o++]),h=Math.max(h,t[o++]);this._indices[this._pos>>2]=l,t[this._pos++]=u,t[this._pos++]=d,t[this._pos++]=f,t[this._pos++]=h}}}search(t,n,r,s,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let i=this._boxes.length-4;const o=[],c=[];for(;i!==void 0;){const l=Math.min(i+this.nodeSize*4,sr(i,this._levelBounds));for(let u=i;u<l;u+=4){if(r<this._boxes[u]||s<this._boxes[u+1]||t>this._boxes[u+2]||n>this._boxes[u+3])continue;const d=this._indices[u>>2]|0;i>=this.numItems*4?o.push(d):(a===void 0||a(d))&&c.push(d)}i=o.pop()}return c}neighbors(t,n,r=1/0,s=1/0,a){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let i=this._boxes.length-4;const o=this._queue,c=[],l=s*s;e:for(;i!==void 0;){const u=Math.min(i+this.nodeSize*4,sr(i,this._levelBounds));for(let d=i;d<u;d+=4){const f=this._indices[d>>2]|0,h=rr(t,this._boxes[d],this._boxes[d+2]),m=rr(n,this._boxes[d+1],this._boxes[d+3]),g=h*h+m*m;g>l||(i>=this.numItems*4?o.push(f<<1,g):(a===void 0||a(f))&&o.push((f<<1)+1,g))}for(;o.length&&o.peek()&1;)if(o.peekValue()>l||(c.push(o.pop()>>1),c.length===r))break e;i=o.length?o.pop()>>1:void 0}return o.clear(),c}}function rr(e,t,n){return e<t?t-e:e<=n?0:e-n}function sr(e,t){let n=0,r=t.length-1;for(;n<r;){const s=n+r>>1;t[s]>e?r=s:n=s+1}return t[n]}function Xt(e,t,n,r,s,a){if(Math.floor(r/a)>=Math.floor(s/a))return;const i=e[r+s>>1];let o=r-1,c=s+1;for(;;){do o++;while(e[o]<i);do c--;while(e[c]>i);if(o>=c)break;mu(e,t,n,o,c)}Xt(e,t,n,r,c,a),Xt(e,t,n,c+1,s,a)}function mu(e,t,n,r,s){const a=e[r];e[r]=e[s],e[s]=a;const i=4*r,o=4*s,c=t[i],l=t[i+1],u=t[i+2],d=t[i+3];t[i]=t[o],t[i+1]=t[o+1],t[i+2]=t[o+2],t[i+3]=t[o+3],t[o]=c,t[o+1]=l,t[o+2]=u,t[o+3]=d;const f=n[r];n[r]=n[s],n[s]=f}function pu(e,t){let n=e^t,r=65535^n,s=65535^(e|t),a=e&(t^65535),i=n|r>>1,o=n>>1^n,c=s>>1^r&a>>1^s,l=n&s>>1^a>>1^a;n=i,r=o,s=c,a=l,i=n&n>>2^r&r>>2,o=n&r>>2^r&(n^r)>>2,c^=n&s>>2^r&a>>2,l^=r&s>>2^(n^r)&a>>2,n=i,r=o,s=c,a=l,i=n&n>>4^r&r>>4,o=n&r>>4^r&(n^r)>>4,c^=n&s>>4^r&a>>4,l^=r&s>>4^(n^r)&a>>4,n=i,r=o,s=c,a=l,c^=n&s>>8^r&a>>8,l^=r&s>>8^(n^r)&a>>8,n=c^c>>1,r=l^l>>1;let u=e^t,d=r|65535^(u|n);return u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765,(d<<1|u)>>>0}function Ns(e,t=!1){return{...e,searchUnit:ue(e.units),searchSector:ue(e.sectors,t?void 0:"sectors"),searchCity:ue(e.cities),searchLaunchSite:ue(e.launchSites),searchMissile:ue(e.missiles),searchInterceptor:ue(e.interceptors)}}const wt={};function ue(e,t){if(t&&wt[t])return wt[t];e=[...e];const n=e.length===0?void 0:new vn(e.length);for(const a of e)"rect"in a?n==null||n.add(a.rect.left,a.rect.top,a.rect.right,a.rect.bottom):"position"in a&&(n==null||n.add(a.position.x,a.position.y,a.position.x,a.position.y));n==null||n.finish();const r=new Map,s={byRect:a=>(n==null?void 0:n.search(a.left,a.top,a.right,a.bottom).map(i=>e[i]))??[],byRadius:(a,i)=>(n==null?void 0:n.neighbors(a.x,a.y,void 0,i).map(o=>e[o]))??[],byProperty:(a,i)=>{if(!r.has(a)){const o=r.set(a,new Map).get(a);e.forEach(c=>{if(a in c){const l=c[a];o.has(l)||o.set(l,[]),o.get(l).push(c)}})}return r.get(a).get(i)??[]},resetPropertyCache:()=>{r.clear()}};return t&&(wt[t]=s),s}function gu({playerStateName:e,numberOfStates:t=3,groundWarfare:n}){const r=Math.max(200,Math.ceil(Math.sqrt(t)*10)),s=r,a=wa(r,s),{states:i,cities:o,launchSites:c}=eu(t,e,r,s,a);Ma(a,r,s);const l=[],u=[],d=[],f=[],m={timestamp:0,states:i,cities:o,launchSites:c,sectors:a,units:f,missiles:l,explosions:u,interceptors:d,battles:[]};if(n){const g=Ns(m,!0);i.forEach(v=>{v.defenceLines=cu(v,g),v.currentDefenceLineIndex=0});for(const v of i)f.push(...ou(a,v,Fa))}return m}function vu(e){var n;if(e.lastLaunchGenerationTimestamp&&e.timestamp-e.lastLaunchGenerationTimestamp>Da)return;e.lastLaunchGenerationTimestamp=e.timestamp;const t=e.sectors.filter(r=>r.cityId&&r.population>0);for(const r of e.states){const s=e.cities.filter(u=>u.stateId===r.id),a=e.launchSites.filter(u=>u.stateId===r.id),i=e.cities.filter(u=>r.strategies[u.stateId]===b.HOSTILE&&u.stateId!==r.id&&u.population>0).map(u=>({...u,isCity:!0})),o=e.missiles.filter(u=>r.strategies[u.stateId]!==b.FRIENDLY&&u.stateId!==r.id),c=e.launchSites.filter(u=>r.strategies[u.stateId]===b.HOSTILE&&u.stateId!==r.id).map(u=>({...u,isCity:!1})),l=o.filter(u=>s.some(d=>Kt(u.target,d.position,Z+K))||a.some(d=>Kt(u.target,d.position,Z))).filter(u=>(e.timestamp-u.launchTimestamp)/(u.targetTimestamp-u.launchTimestamp)>.5);for(const u of e.launchSites.filter(d=>d.stateId===r.id)){if(u.nextLaunchTarget)continue;if(i.length===0&&c.length===0&&o.length===0)break;if(l.length===0&&u.mode===U.DEFENCE||l.length>0&&u.mode===U.ATTACK){u.modeChangeTimestamp||(u.modeChangeTimestamp=e.timestamp);continue}const d=ir(l.map(v=>({...v,isCity:!1})),u.position),f=e.missiles.filter(v=>v.stateId===r.id),h=e.interceptors.filter(v=>v.stateId===r.id),m=h.filter(v=>!v.targetMissileId&&u.id===v.launchSiteId),g=bu(h,d).filter(([,v])=>v<a.length);if(u.mode===U.DEFENCE&&g.length>0){const v=g[0][0];m.length>0?m[0].targetMissileId=v:u.nextLaunchTarget={type:"missile",missileId:v}}else if(u.mode===U.ATTACK){const v=yu(ir([...c,...i],u.position),f),x=(n=v==null?void 0:v[0])==null?void 0:n[0];if(x!=null&&x.position&&(x!=null&&x.isCity)){const y=Eu(x,t);u.nextLaunchTarget={type:"position",position:y||{x:x.position.x+(Math.random()-Math.random())*K,y:x.position.y+(Math.random()-Math.random())*K}}}else u.nextLaunchTarget=x!=null&&x.position?{type:"position",position:x==null?void 0:x.position}:void 0}}}}function Kt(e,t,n){return V(e.x,e.y,t.x,t.y)<=n}function ir(e,t){return e.sort((n,r)=>V(n.position.x,n.position.y,t.x,t.y)-V(r.position.x,r.position.y,t.x,t.y))}function yu(e,t){const n=new Map;for(const r of e)n.set(r,t.filter(s=>Kt(s.target,r.position,Z)).length);return Array.from(n).sort((r,s)=>r[1]-s[1])}function bu(e,t){const n=new Map;for(const r of t)n.set(r.id,0);for(const r of e)r.targetMissileId&&n.set(r.targetMissileId,(n.get(r.targetMissileId)??0)+1);return Array.from(n).sort((r,s)=>r[1]-s[1])}function Eu(e,t){const n=t.filter(s=>s.cityId===e.id);return!n||n.length===0?null:n[Math.floor(Math.random()*n.length)].position}function xu(e){var t,n;if(!(e.lastStrategyUpdateTimestamp&&e.timestamp-e.lastStrategyUpdateTimestamp>Ta)){e.lastStrategyUpdateTimestamp=e.timestamp;for(const r of e.missiles.filter(s=>s.launchTimestamp===e.timestamp)){const s=e.states.find(i=>i.id===r.stateId),a=((t=e.cities.find(i=>V(i.position.x,i.position.y,r.target.x,r.target.y)<=Z+K))==null?void 0:t.stateId)||((n=e.launchSites.find(i=>V(i.position.x,i.position.y,r.target.x,r.target.y)<=Z))==null?void 0:n.stateId);if(s&&a&&s.id!==a){s.strategies[a]!==b.HOSTILE&&(s.strategies[a]=b.HOSTILE);const i=e.states.find(o=>o.id===a);i&&i.strategies[s.id]!==b.HOSTILE&&(i.strategies[s.id]=b.HOSTILE,e.states.forEach(o=>{o.id!==i.id&&o.strategies[i.id]===b.FRIENDLY&&i.strategies[o.id]===b.FRIENDLY&&(o.strategies[s.id]=b.HOSTILE,s.strategies[o.id]=b.HOSTILE)}))}}for(const r of e.states.filter(s=>!s.isPlayerControlled))Cu(r,e)}}function Cu(e,t){if(e.lastStrategyUpdate&&t.timestamp-e.lastStrategyUpdate<Ca)return;e.lastStrategyUpdate=t.timestamp;const n=t.states.filter(i=>i.id!==e.id),r=n.filter(i=>e.strategies[i.id]===b.FRIENDLY&&i.strategies[e.id]===b.FRIENDLY);e.strategies={...e.strategies},n.forEach(i=>{i.strategies[e.id]===b.FRIENDLY&&e.strategies[i.id]===b.NEUTRAL&&(e.generalStrategy!==b.HOSTILE?e.strategies[i.id]=b.FRIENDLY:i.strategies[e.id]=b.NEUTRAL)}),n.forEach(i=>{i.strategies[e.id]===b.NEUTRAL&&e.strategies[i.id]===b.HOSTILE&&(ar(e,i,r,t)?e.strategies[i.id]=b.NEUTRAL:i.strategies[e.id]=b.HOSTILE)});const s=n.filter(i=>Object.values(i.strategies).every(o=>o!==b.HOSTILE)&&i.generalStrategy!==b.HOSTILE);if(s.length>0&&e.generalStrategy===b.FRIENDLY){const i=s[Math.floor(Math.random()*s.length)];e.strategies[i.id]=b.FRIENDLY}r.forEach(i=>{n.forEach(o=>{o.strategies[i.id]===b.HOSTILE&&e.strategies[o.id]!==b.HOSTILE&&(e.strategies[o.id]=b.HOSTILE)})}),n.filter(i=>i.strategies[e.id]!==b.FRIENDLY&&e.strategies[i.id]!==b.FRIENDLY).forEach(i=>{if(ar(i,e,r,t)){const o=t.launchSites.filter(c=>c.stateId===e.id&&!c.lastLaunchTimestamp);if(o.length>0){const c=o[Math.floor(Math.random()*o.length)],l=[...t.cities.filter(u=>u.stateId===i.id),...t.launchSites.filter(u=>u.stateId===i.id)];if(l.length>0){const u=l[Math.floor(Math.random()*l.length)];c.nextLaunchTarget={type:"position",position:u.position}}}}})}function ar(e,t,n,r){const s=r.states.filter(c=>e.strategies[c.id]===b.FRIENDLY&&c.strategies[e.id]===b.FRIENDLY&&c.id!==e.id),a=r.launchSites.filter(c=>c.stateId===e.id||s.some(l=>l.id===c.stateId)),i=r.launchSites.filter(c=>c.stateId===t.id||n.some(l=>l.id===c.stateId));return a.length<i.length?!0:r.missiles.some(c=>r.cities.some(l=>l.stateId===e.id&&V(l.position.x,l.position.y,c.target.x,c.target.y)<=Z)||r.launchSites.some(l=>l.stateId===e.id&&V(l.position.x,l.position.y,c.target.x,c.target.y)<=Z))}function Iu(e){for(const t of e.missiles){const n=(e.timestamp-t.launchTimestamp)/(t.targetTimestamp-t.launchTimestamp);t.position={x:t.launch.x+(t.target.x-t.launch.x)*n,y:t.launch.y+(t.target.y-t.launch.y)*n}}}function Fu(e,t){e.interceptors=e.interceptors.filter(n=>{const r=e.missiles.find(c=>c.id===n.targetMissileId);r||(n.targetMissileId=void 0);const s=r?r.position.x-n.position.x:Math.cos(n.direction),a=r?r.position.y-n.position.y:Math.sin(n.direction),i=Math.sqrt(s*s+a*a);if(n.direction=Math.atan2(a,s),r&&i<=Ke*t)n.position={...r.position};else{const c=Ke*t/i;n.position={x:n.position.x+s*c,y:n.position.y+a*c}}return n.tail=[...n.tail.slice(-100),{timestamp:e.timestamp,position:n.position}],Ke*(e.timestamp-n.launchTimestamp)<=n.maxRange})}function Au(e){for(const t of e.interceptors){const n=e.missiles.find(r=>r.id===t.targetMissileId);n&&V(t.position.x,t.position.y,n.position.x,n.position.y)<ya&&(e.missiles=e.missiles.filter(s=>s.id!==n.id),e.interceptors=e.interceptors.filter(s=>s.id!==t.id))}}function Su(e){for(const t of e.missiles.filter(n=>n.targetTimestamp<=e.timestamp)){const n=Du(t);e.explosions.push(n),Tu(e,n),_u(e,n),wu(e,n),Mu(e,n)}e.explosions=e.explosions.filter(t=>t.endTimestamp>=e.timestamp),e.missiles=e.missiles.filter(t=>t.targetTimestamp>e.timestamp)}function Du(e){return{id:`explosion-${Math.random()}`,missileId:e.id,startTimestamp:e.targetTimestamp,endTimestamp:e.targetTimestamp+Ea,position:e.target,radius:Z}}function Tu(e,t){for(const n of e.searchSector.byRadius(t.position,t.radius))if(n.population){const r=Math.max(Kr,n.population*Xr);n.population=Math.max(0,n.population-r)}return e}function _u(e,t){const n=e.searchMissile.byRadius(t.position,t.radius).filter(r=>r.id!==t.missileId&&r.launchTimestamp<=t.startTimestamp&&r.targetTimestamp>=t.startTimestamp);for(const r of n)r.targetTimestamp=t.startTimestamp;e.interceptors=e.interceptors.filter(r=>!(r.launchTimestamp<=t.startTimestamp&&V(r.position.x,r.position.y,t.position.x,t.position.y)<=t.radius))}function wu(e,t){const n=e.searchLaunchSite.byRadius(t.position,t.radius);e.launchSites=e.launchSites.filter(r=>!n.some(s=>s.id===r.id))}function Mu(e,t){const n=e.searchUnit.byRadius(t.position,t.radius);e.units=e.units.map(r=>{if(n.find(a=>a.id===r.id)){const a=Math.max(Kr,r.quantity*Xr),i=Math.max(0,r.quantity-a);return{...r,quantity:i}}return r}),e.units=e.units.filter(r=>r.quantity>0)}function ku(e){for(const t of e.launchSites)t.modeChangeTimestamp&&e.timestamp>=t.modeChangeTimestamp+Nt&&(t.mode=t.mode===U.ATTACK?U.DEFENCE:U.ATTACK,t.modeChangeTimestamp=void 0)}function Bu(e){var t,n;for(const r of e.launchSites)if(r.nextLaunchTarget&&!(r.lastLaunchTimestamp&&e.timestamp-r.lastLaunchTimestamp<(r.mode===U.ATTACK?Ut:xa))){if(r.mode===U.ATTACK&&((t=r.nextLaunchTarget)==null?void 0:t.type)==="position")e.missiles.push(Ru(r,r.nextLaunchTarget.position,e.timestamp));else if(r.mode===U.DEFENCE&&((n=r.nextLaunchTarget)==null?void 0:n.type)==="missile"){const s=r.nextLaunchTarget.missileId,a=e.searchMissile.byProperty("id",s)[0];a&&e.interceptors.push(Lu(r,e.timestamp,a))}r.lastLaunchTimestamp=e.timestamp,r.nextLaunchTarget=void 0}}function Ru(e,t,n){return{id:Math.random()+"",stateId:e.stateId,launchSiteId:e.id,launch:e.position,launchTimestamp:n,position:e.position,target:t,targetTimestamp:n+V(e.position.x,e.position.y,t.x,t.y)/fn}}function Lu(e,t,n){return{id:Math.random()+"",stateId:e.stateId,launchSiteId:e.id,launch:e.position,launchTimestamp:t,position:e.position,direction:Math.atan2(e.position.y-n.position.y,e.position.x-n.position.x),tail:[],targetMissileId:n.id,maxRange:hn}}function Ou(e){const t=e.sectors.reduce((n,r)=>(r.cityId&&(n[r.cityId]=n[r.cityId]?n[r.cityId]+(r.population??0):r.population??0),n),{});for(const n of e.cities)n.population=t[n.id];e.states=e.states.map(n=>{const r=e.cities.filter(s=>s.stateId===n.id).reduce((s,a)=>s+a.population,0);return{...n,population:r}})}function Pu(e){const t=[];for(const n of e.units){for(const s of t)if(n.rect.left<s.rect.right&&n.rect.right>s.rect.left&&n.rect.top<s.rect.bottom&&n.rect.bottom>s.rect.top){s.units.push(n),s.rect={left:Math.min(s.rect.left,n.rect.left),top:Math.min(s.rect.top,n.rect.top),right:Math.max(s.rect.right,n.rect.right),bottom:Math.max(s.rect.bottom,n.rect.bottom)},s.position={x:(s.rect.left+s.rect.right)/2,y:(s.rect.top+s.rect.bottom)/2},s.size=Math.max(s.rect.right-s.rect.left,s.rect.bottom-s.rect.top);break}const r=e.states.find(s=>s.id===n.stateId);for(const s of e.searchUnit.byRect(n.rect)){if(s.stateId===n.stateId||(r==null?void 0:r.strategies[s.stateId])!==b.HOSTILE)continue;const a={units:[n,s],rect:{left:Math.min(n.rect.left,s.rect.left),top:Math.min(n.rect.top,s.rect.top),right:Math.max(n.rect.right,s.rect.right),bottom:Math.max(n.rect.bottom,s.rect.bottom)},position:{x:(Math.min(n.rect.left,s.rect.left)+Math.max(n.rect.right,s.rect.right))/2,y:(Math.min(n.rect.top,s.rect.top)+Math.max(n.rect.bottom,s.rect.bottom))/2},size:Math.max(Math.abs(n.rect.right-s.rect.left),Math.abs(n.rect.bottom-s.rect.top))};t.push(a);break}}return t}function ju(e,t,n){for(const r of t){const s=r.units.reduce((i,o)=>(i[o.stateId]=(i[o.stateId]??0)+o.quantity,i),{}),a=Object.values(s).reduce((i,o)=>i=i+o,0);a&&r.units.forEach(i=>{i.quantity=Math.max(0,i.quantity-Math.max(Aa*n,s[i.stateId]/a*n*Sa*i.quantity))})}return e}function Us(e,t){for(const n of t)if(n.units.find(r=>r.id===e.id))return!0;return!1}const Ys=2;function zs(e,t,n,r){const s=r.states.find(m=>m.id===t.stateId);if(!s||!e.stateId)return 0;const a=s.strategies[e.stateId];if(a!==b.HOSTILE&&e.stateId!==t.stateId)return-1e3;let i=0;Yu(e,r)&&(i+=100),e.population>0&&(i+=50);const c=$u(e,t.stateId,n,s.strategies);i+=c*10;const l=Nu(e,t.stateId,n,s.strategies);i+=l*5;const u=Uu(e,t.stateId,n);i+=u*20;const f=(at(e,r)+zu(e,r))/Ys;switch(i-=f*30,a){case b.HOSTILE:i*=1.5;break;case b.FRIENDLY:i*=.5;break;case b.NEUTRAL:i*=.25;break}const h=Hu(e,s);return i+=h,i}function $u(e,t,n,r){return n.filter(a=>Math.abs(a.position.x-e.position.x)<=I&&Math.abs(a.position.y-e.position.y)<=I&&(a.stateId===t||a.stateId&&r[a.stateId]===b.FRIENDLY)).length}function Nu(e,t,n,r){const s=n.filter(i=>Math.abs(i.position.x-e.position.x)<=I&&Math.abs(i.position.y-e.position.y)<=I);return s.filter(i=>i.stateId===t||i.stateId&&r[i.stateId]===b.FRIENDLY).length/s.length}function Uu(e,t,n){const r=n.filter(l=>l.stateId===t),s=r.reduce((l,u)=>l+u.position.x,0)/r.length,a=r.reduce((l,u)=>l+u.position.y,0)/r.length,i=Math.sqrt((e.position.x-s)**2+(e.position.y-a)**2),o=Math.sqrt(I*I*2)*Math.sqrt(n.length);return 1-i/o}function Yu(e,t){return t.searchLaunchSite.byRect(e.rect).filter(n=>n.stateId!==e.stateId)[0]}function at(e,t){return t.searchUnit.byRect(e.rect).length}function zu(e,t){return t.units.filter(n=>n.order.type==="move"&&Gu(n.order.targetPosition,e)).length}function Gu(e,t){return e.x>=t.rect.left&&e.x<=t.rect.right&&e.y>=t.rect.top&&e.y<=t.rect.bottom}function Hu(e,t){if(t.defenceLines[t.currentDefenceLineIndex].sectors.includes(e))return 50;for(let r=0;r<t.defenceLines.length;r++)if(t.defenceLines[r].sectors.includes(e))return 30*(t.defenceLines.length-r);return 0}function qu(e,t){for(const n of e.units){if(n.lastOrderTimestamp&&e.timestamp-n.lastOrderTimestamp<_a||n.order.type==="move"&&n.order.isFallback)continue;const r=e.searchSector.byRadius(n.position,1)[0];if(!r)continue;const s=e.states.find(c=>c.id===n.stateId);if(!s)continue;if(Us(n,t)){const c=t.find(l=>l.units.includes(n));if(c&&Vu(n,c)){const l=Xu(n,e,t);if(l){n.order={type:"move",targetPosition:Ze(l)},n.lastOrderTimestamp=e.timestamp;continue}}}const a=Wu(n,s,e);if(a){n.order={type:"move",targetPosition:a.position},n.lastOrderTimestamp=e.timestamp;continue}const i=e.searchSector.byRect({left:r.rect.left-I,top:r.rect.top-I,right:r.rect.right+I,bottom:r.rect.bottom+I}).filter(c=>c.type===N.GROUND&&c.stateId),o=i.filter(c=>c.stateId!==n.stateId&&s.strategies[c.stateId]===b.HOSTILE);if(o.length>0){const c=Ku(n,o,i,e,s);n.order={type:"move",targetPosition:Ze(c)}}else if(Zt(r,e)){const l=Qu(n,s,i,e);l?n.order={type:"move",targetPosition:Ze(l)}:n.order={type:"stay"}}else{const l=Zu(n,s,e,e.searchSector.byRadius(n.position,I*5).filter(u=>u.type===N.GROUND));l?n.order={type:"move",targetPosition:l.position}:n.order={type:"stay"}}n.lastOrderTimestamp=e.timestamp}}function Wu(e,t,n){return n.searchUnit.byRadius(e.position,R*2).find(s=>s.stateId!==e.stateId&&t.strategies[s.stateId]===b.HOSTILE&&s.quantity<e.quantity)}function Vu(e,t){const n=t.units.reduce((s,a)=>s+a.quantity,0);return e.quantity/n<.4}function Xu(e,t,n){var s;return(s=t.searchSector.byRadius(e.position,I*5).filter(a=>a.stateId===e.stateId&&a.type===N.GROUND).reduce((a,i)=>{const o=Math.sqrt((e.position.x-i.position.x)**2+(e.position.y-i.position.y)**2),l=t.searchUnit.byRect(i.rect).some(d=>d.stateId!==e.stateId),u=n.some(d=>d.units.some(f=>f.rect.left<i.rect.right&&f.rect.right>i.rect.left&&f.rect.top<i.rect.bottom&&f.rect.bottom>i.rect.top));return!l&&!u&&(!a||o<a.distance)?{sector:i,distance:o}:a},void 0))==null?void 0:s.sector}function Ku(e,t,n,r,s){let a=t[0],i=-1/0;for(const o of t){const c=zs(o,e,n,r),l=s.defenceLines[s.currentDefenceLineIndex].sectors.includes(o)?50:0,u=c+l;u>i&&(i=u,a=o)}return a}function Ze(e){return{x:(e.rect.left+e.rect.right)/2,y:(e.rect.top+e.rect.bottom)/2}}function Zu(e,t,n,r){const a=r.filter(o=>o.stateId!==e.stateId&&o.stateId&&t.strategies[o.stateId]===b.HOSTILE).map(o=>({sector:o,value:zs(o,e,r,n),distance:Math.sqrt((e.position.x-o.position.x)**2+(e.position.y-o.position.y)**2)}));a.sort((o,c)=>c.value!==o.value?c.value-o.value:o.distance-c.distance);const i=a[0];if(i)return{position:Ze(i.sector),type:"sector"}}function Zt(e,t){return at(e,t)+Jt(e,t)>Ys}function Jt(e,t){return t.units.filter(n=>n.order.type==="move"&&Ju(n.order.targetPosition,e)).length}function Ju(e,t){return e.x>=t.rect.left&&e.x<=t.rect.right&&e.y>=t.rect.top&&e.y<=t.rect.bottom}function Qu(e,t,n,r){const s=n.filter(o=>o.stateId===e.stateId||o.stateId&&t.strategies[o.stateId]===b.FRIENDLY);s.sort((o,c)=>{const l=at(o,r)+Jt(o,r),u=at(c,r)+Jt(c,r);return l-u});const a=t.defenceLines[t.currentDefenceLineIndex].sectors,i=s.find(o=>a.includes(o)&&!Zt(o,r)&&!or(o,t,r));return i||s.find(o=>!Zt(o,r)&&!or(o,t,r))}function or(e,t,n){return n.searchUnit.byRect(e.rect).some(s=>s.stateId!==e.stateId&&t.strategies[s.stateId]===b.NEUTRAL)}function el(e,t,n){const r=t.sectors.length;return t.sectors.filter(a=>{const i=n.searchUnit.byRect(a.rect);return a.stateId!==e.id||i.filter(o=>o.stateId!==a.stateId).reduce((o,c)=>o+c.quantity,0)>i.filter(o=>o.stateId===a.stateId).reduce((o,c)=>o+c.quantity,0)}).length/r>.25}function tl(e,t){const n=e.defenceLines[e.currentDefenceLineIndex],r=t.units.filter(i=>i.stateId===e.id&&!nl(i,n)),s=n.sectors.length,a=Math.ceil(r.length/s);for(let i=0;i<r.length;i++){const o=r[i],c=Math.floor(i/a),l=n.sectors[c%s];o.order={type:"move",isFallback:!0,targetPosition:rl(l)}}}function nl(e,t){return t.sectors.some(n=>e.position.x>=n.rect.left&&e.position.x<=n.rect.right&&e.position.y>=n.rect.top&&e.position.y<=n.rect.bottom)}function rl(e){return{x:(e.rect.left+e.rect.right)/2,y:(e.rect.top+e.rect.bottom)/2}}function sl(e,t){const n=Pu(e);ju(e.units,n,t),il(e,t,n),al(e),cl(e),qu(e,n),e.units=e.units.filter(r=>r.quantity>0),e.battles=n.map(r=>({...r,position:{x:(r.rect.left+r.rect.right)/2,y:(r.rect.top+r.rect.bottom)/2}}))}function il(e,t,n){for(const r of e.units){if(r.order.type!=="move"||Us(r,n)&&!ol(r,e))continue;const s={x:r.order.targetPosition.x-r.position.x,y:r.order.targetPosition.y-r.position.y},a=Math.sqrt(s.x**2+s.y**2),i=Ia*t;if(a<=i)r.position=r.order.targetPosition,r.order={type:"stay"};else{const o={x:s.x/a,y:s.y/a};r.position={x:r.position.x+o.x*i,y:r.position.y+o.y*i}}r.rect={left:r.position.x-R/2,top:r.position.y-R/2,right:r.position.x+R/2,bottom:r.position.y+R/2}}}function al(e){e.units.forEach(t=>{const n=e.searchSector.byRadius(t.position,1)[0];if(!n||n.stateId===t.stateId)return;const r=e.searchUnit.byRect(n.rect);if(Object.values(r.reduce((a,i)=>(a[i.stateId]=!0,a),{[t.stateId]:!0})).length===1){if(n.stateId=t.stateId,n.cityId){const i=e.cities.find(o=>o.id===n.cityId);i&&i.stateId!==t.stateId&&e.searchSector.byRadius(i.position,K).filter(l=>l.cityId===i.id&&l.population>0).every(l=>l.stateId===t.stateId)&&(i.stateId=t.stateId)}const a=e.searchLaunchSite.byRect(n.rect).filter(i=>i.stateId!==t.stateId)[0];a&&(a.stateId=t.stateId)}})}function ol(e,t){if(e.order.type!=="move")return!1;const n=t.searchSector.byRadius(e.order.targetPosition,1)[0];if(!n||n.stateId!==e.stateId)return!1;const r=t.searchUnit.byRect(n.rect);for(const s of r)if(s.stateId!==e.stateId)return!1;return!0}function cl(e){for(const t of e.states){if(e.timestamp-t.lastDefenceEvaluationTimestamp<5)continue;t.lastDefenceEvaluationTimestamp=e.timestamp;const n=t.defenceLines[t.currentDefenceLineIndex];n&&el(t,n,e)&&(t.currentDefenceLineIndex=Math.min(t.currentDefenceLineIndex+1,t.defenceLines.length-1),tl(t,e))}}function ul(e,t){for(;t>0;){const n=ll(e,t>Ue?Ue:t);t=t>Ue?t-Ue:0,e=n}return e}function ll(e,t){const n=e.timestamp+t,r=Ns({timestamp:n,states:e.states,cities:e.cities,launchSites:e.launchSites,missiles:e.missiles,interceptors:e.interceptors,units:e.units,explosions:e.explosions,sectors:e.sectors,battles:e.battles});return sl(r,t),Iu(r),Fu(r,t),Au(r),Su(r),ku(r),Bu(r),Ou(r),vu(r),xu(r),r}function dl(e,t,n){const[r,s]=E.useState(()=>gu({playerStateName:e,numberOfStates:t+1,groundWarfare:n})),a=E.useCallback((i,o)=>s(ul(i,o)),[]);return{worldState:r,updateWorldState:a,setWorldState:s}}const Gs={x:0,y:0,pointingObjects:[]},fl=(e,t)=>t.type==="move"?{x:t.x,y:t.y,pointingObjects:e.pointingObjects}:t.type==="point"&&!e.pointingObjects.some(n=>n.id===t.object.id)?{x:e.x,y:e.y,pointingObjects:[...e.pointingObjects,t.object]}:t.type==="unpoint"&&e.pointingObjects.some(n=>n.id===t.object.id)?{x:e.x,y:e.y,pointingObjects:e.pointingObjects.filter(n=>n.id!==t.object.id)}:e,hl=E.createContext(Gs),yn=E.createContext(()=>{});function ml({children:e}){const[t,n]=E.useReducer(fl,Gs);return p.jsx(hl.Provider,{value:t,children:p.jsx(yn.Provider,{value:n,children:e})})}function pl(){const e=E.useContext(yn);return(t,n)=>e({type:"move",x:t,y:n})}function bn(){const e=E.useContext(yn);return[t=>e({type:"point",object:t}),t=>e({type:"unpoint",object:t})]}const En={},gl=(e,t)=>t.type==="clear"?En:t.type==="set"?{...e,selectedObject:t.object}:e,Hs=E.createContext(En),qs=E.createContext(()=>{});function vl({children:e}){const[t,n]=E.useReducer(gl,En);return p.jsx(Hs.Provider,{value:t,children:p.jsx(qs.Provider,{value:n,children:e})})}function yl(e){var r;const t=E.useContext(qs);return[((r=E.useContext(Hs).selectedObject)==null?void 0:r.id)===e.id,()=>t({type:"set",object:e})]}function Me(e,t){const n=new CustomEvent(e,{bubbles:!0,detail:t});document.dispatchEvent(n)}function gt(e,t){E.useEffect(()=>{const n=r=>{t(r.detail)};return document.addEventListener(e,n,!1),()=>{document.removeEventListener(e,n,!1)}},[e,t])}const bl=j.memo(({sectors:e,states:t})=>{const n=E.useRef(null),[r,s]=bn(),[a,i]=E.useState(0);return gt("cityDamage",()=>{i(a+1)}),E.useEffect(()=>{const o=n.current,c=o==null?void 0:o.getContext("2d");if(!o||!c)return;const l=Math.min(...e.map(y=>y.rect.left)),u=Math.min(...e.map(y=>y.rect.top)),d=Math.max(...e.map(y=>y.rect.right)),f=Math.max(...e.map(y=>y.rect.bottom)),h=d-l,m=f-u;o.width=h,o.height=m,o.style.width=`${h}px`,o.style.height=`${m}px`;const g=Math.max(...e.filter(y=>y.type===N.WATER).map(y=>y.depth||0)),v=Math.max(...e.filter(y=>y.type===N.GROUND).map(y=>y.height||0)),x=new Map(t.map(y=>[y.id,y.color]));c.clearRect(0,0,h,m),e.forEach(y=>{const{fillStyle:C,drawSector:T}=El(y,g,v,x);c.fillStyle=C,T(c,y.rect,l,u)})},[a]),E.useEffect(()=>{const o=n.current;let c;const l=u=>{const d=o==null?void 0:o.getBoundingClientRect(),f=u.clientX-((d==null?void 0:d.left)||0),h=u.clientY-((d==null?void 0:d.top)||0),m=e.find(g=>f>=g.rect.left&&f<=g.rect.right&&h>=g.rect.top&&h<=g.rect.bottom);m&&(c&&s(c),r(m),c=m)};return o==null||o.addEventListener("mousemove",l),()=>{o==null||o.removeEventListener("mousemove",l)}},[e,r,s]),p.jsx("canvas",{ref:n,style:{opacity:.5}})});function El(e,t,n,r){const s=xl(e,t,n),a=e.stateId?r.get(e.stateId):void 0;return{fillStyle:s,drawSector:(i,o,c,l)=>{i.fillStyle=s,i.fillRect(o.left-c,o.top-l,o.right-o.left,o.bottom-o.top),a&&(i.fillStyle=`${a}80`,i.fillRect(o.left-c,o.top-l,o.right-o.left,o.bottom-o.top)),e.cityId&&e.population>0&&Il(i,o,c,l)}}}function xl(e,t,n){switch(e.type){case N.GROUND:return e.cityId?Cl(e):Fl(e.height||0,n);case N.WATER:return Al(e.depth||0,t);default:return"rgb(0, 34, 93)"}}function Cl(e){if(e.population===0)return"rgba(0,0,0,0.7)";const t=e.population?Math.min(e.population/Zr,1):0,n=e.height?e.height/100:0,s=[200,200,200].map(a=>a-50*t+20*n);return`rgb(${s[0]}, ${s[1]}, ${s[2]})`}function Il(e,t,n,r){e.fillStyle="rgba(0, 0, 0, 0.2)",e.fillRect(t.left-n+2,t.top-r+2,t.right-t.left-4,t.bottom-t.top-4),e.fillStyle="rgba(255, 255, 255, 0.6)",e.fillRect(t.left-n+4,t.top-r+4,t.right-t.left-8,t.bottom-t.top-8)}function Fl(e,t){const n=e/t;if(n<.2)return`rgb(255, ${Math.round(223+-36*(n/.2))}, 128)`;if(n<.5)return`rgb(34, ${Math.round(200-100*((n-.2)/.3))}, 34)`;if(n<.95){const r=Math.round(34+67*((n-.5)/.3)),s=Math.round(100+-33*((n-.5)/.3)),a=Math.round(34+-1*((n-.5)/.3));return`rgb(${r}, ${s}, ${a})`}else return`rgb(255, 255, ${Math.round(255-55*((n-.8)/.2))})`}function Al(e,t){const n=e/t,r=Math.round(0+34*(1-n)),s=Math.round(137+-103*n),a=Math.round(178+-85*n);return`rgb(${r}, ${s}, ${a})`}function Sl({state:e,sectors:t}){const n=j.useMemo(()=>{const r=t.filter(s=>s.stateId===e.id);return Tl(r)},[]);return p.jsx(p.Fragment,{children:p.jsx(Dl,{style:{transform:`translate(${n.x}px, ${n.y}px) translate(-50%, -50%)`,color:e.color},children:e.name})})}const Dl=S.div`
  position: absolute;
  color: white;
  text-shadow: 2px 2px 0px white;
  pointer-events: none;
  font-size: x-large;
`;function Tl(e){if(e.length===0)return{x:0,y:0};const t=e.reduce((n,r)=>({x:n.x+(r.rect.left+r.rect.right)/2,y:n.y+(r.rect.top+r.rect.bottom)/2}),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}}function _l({city:e}){const[t,n]=bn(),r=e.population;if(!r)return null;const s=st(r);return p.jsxs(wl,{onMouseEnter:()=>t(e),onMouseLeave:()=>n(e),style:{"--x":e.position.x,"--y":e.position.y},children:[p.jsx("span",{children:e.name}),p.jsxs(Ml,{children:[s," population"]})]})}const wl=S.div`
  transform: translate(calc(var(--x) * 1px), calc(var(--y) * 1px)) translate(-50%, -100%);
  position: absolute;
  width: calc(var(--size) * 1px);
  height: calc(var(--size) * 1px);
  color: white;

  &:hover > div {
    display: block;
  }
`,Ml=S.div`
  display: none;
  position: absolute;
  background-color: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 5px;
  border-radius: 3px;
  font-size: 12px;
  white-space: nowrap;
  left: 50%;
  transform: translateX(-50%) translateY(0%);
  pointer-events: none;
`;function kl({launchSite:e,worldTimestamp:t,isPlayerControlled:n}){const[r,s]=yl(e),[a,i]=bn(),o=e.lastLaunchTimestamp&&e.lastLaunchTimestamp+Ut>t,c=o?(t-e.lastLaunchTimestamp)/Ut:0,l=e.modeChangeTimestamp&&t<e.modeChangeTimestamp+Nt,u=l?(t-e.modeChangeTimestamp)/Nt:0;return p.jsx(Bl,{onMouseEnter:()=>a(e),onMouseLeave:()=>i(e),onClick:()=>n&&s(),style:{"--x":e.position.x,"--y":e.position.y,"--cooldown-progress":c,"--mode-change-progress":u},"data-selected":r,"data-cooldown":o,"data-mode":e.mode,"data-changing-mode":l,children:p.jsx(Rl,{children:e.mode===U.ATTACK?"A":"D"})})}const Bl=S.div`
  transform: translate(calc(var(--x) * 1px), calc(var(--y) * 1px)) translate(-50%, -50%);
  position: absolute;
  width: 10px;
  height: 20px;
  background: rgb(255, 0, 0);
  overflow: hidden;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 12px;
  color: white;
  transition: background-color 0.3s;

  &[data-selected='true'] {
    box-shadow: 0 0 10px 5px rgb(255, 0, 0);
  }

  &[data-cooldown='true'] {
    background: rgb(255, 165, 0);

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: calc(var(--cooldown-progress) * 100%);
      background: rgb(255, 0, 0);
    }
  }

  &[data-mode='ATTACK'] {
    background: rgb(255, 0, 0);
  }

  &[data-mode='DEFENCE'] {
    background: rgb(0, 0, 255);
  }

  &[data-changing-mode='true'] {
    background: linear-gradient(
      to right,
      rgb(255, 0, 0) 0%,
      rgb(255, 0, 0) calc(var(--mode-change-progress) * 100%),
      rgb(0, 0, 255) calc(var(--mode-change-progress) * 100%),
      rgb(0, 0, 255) 100%
    );
  }
`,Rl=S.span`
  z-index: 1;
`;function Ws(e,t){t===void 0&&(t=!0);var n=E.useRef(null),r=E.useRef(!1),s=E.useRef(e);s.current=e;var a=E.useCallback(function(o){r.current&&(s.current(o),n.current=requestAnimationFrame(a))},[]),i=E.useMemo(function(){return[function(){r.current&&(r.current=!1,n.current&&cancelAnimationFrame(n.current))},function(){r.current||(r.current=!0,n.current=requestAnimationFrame(a))},function(){return r.current}]},[]);return E.useEffect(function(){return t&&i[1](),i[0]},[]),i}function Ll(e,t,n){if(t.startTimestamp>n||t.endTimestamp<n)return;const r=Math.pow(Math.min(Math.max(0,(n-t.startTimestamp)/(t.endTimestamp-t.startTimestamp)),1),.15);e.fillStyle=`rgb(${255*r}, ${255*(1-r)}, 0)`,e.beginPath(),e.arc(t.position.x,t.position.y,t.radius*r,0,2*Math.PI),e.fill()}function Ol(e,t,n){t.launchTimestamp>n||t.targetTimestamp<n||(e.fillStyle="rgb(255, 0, 0)",e.beginPath(),e.arc(t.position.x,t.position.y,2,0,2*Math.PI),e.fill())}function Pl(e,t){e.fillStyle="rgb(0, 255, 0)",e.beginPath(),e.arc(t.position.x,t.position.y,1,0,2*Math.PI),e.fill()}function cr(e,t,n){if(!(t.launchTimestamp>n))if("targetTimestamp"in t){if(t.targetTimestamp<n)return;jl(e,t,n)}else $l(e,t,n)}function jl(e,t,n){const r=Math.min(Math.max(n-5,t.launchTimestamp)-t.launchTimestamp,t.targetTimestamp-t.launchTimestamp),s=t.targetTimestamp-t.launchTimestamp,a=s>0?r/s:0,i=t.launch.x+(t.position.x-t.launch.x)*a,o=t.launch.y+(t.position.y-t.launch.y)*a,c={x:i,y:o},l=e.createLinearGradient(c.x,c.y,t.position.x,t.position.y);l.addColorStop(0,"rgba(255, 255, 255, 0)"),l.addColorStop(1,"rgba(255, 255, 255, 0.5)"),e.strokeStyle=l,e.lineWidth=1,e.beginPath(),e.moveTo(c.x,c.y),e.lineTo(t.position.x,t.position.y),e.stroke()}function $l(e,t,n){const s=Math.max(n-5,t.launchTimestamp),a=t.tail.filter(o=>o.timestamp>=s);if(a.length<2)return;e.beginPath(),e.moveTo(a[0].position.x,a[0].position.y);for(let o=1;o<a.length;o++)e.lineTo(a[o].position.x,a[o].position.y);e.lineTo(t.position.x,t.position.y);const i=e.createLinearGradient(a[0].position.x,a[0].position.y,t.position.x,t.position.y);i.addColorStop(0,"rgba(0, 255, 0, 0)"),i.addColorStop(1,"rgba(0, 255, 0, 0.5)"),e.strokeStyle=i,e.lineWidth=1,e.stroke()}function Nl(e,t){if(Math.sqrt(Math.pow(t.position.x-t.launch.x,2)+Math.pow(t.position.y-t.launch.y,2))>hn)for(let i=0;i<5;i++){const o=Math.PI*2/5*i,c=t.position.x+Math.cos(o)*3,l=t.position.y+Math.sin(o)*3;e.fillStyle="rgba(0, 255, 0, 0.5)",e.beginPath(),e.arc(c,l,1,0,2*Math.PI),e.fill()}}const Ul="rgba(0, 255, 255, 0.1)",Yl=1;function zl({state:e}){const t=E.useRef(null);return E.useLayoutEffect(()=>{const r=t.current;if(!r)return;const s=Math.min(...e.sectors.map(u=>u.rect.left)),a=Math.min(...e.sectors.map(u=>u.rect.top)),i=Math.max(...e.sectors.map(u=>u.rect.right)),o=Math.max(...e.sectors.map(u=>u.rect.bottom)),c=i-s,l=o-a;r.width=c,r.height=l,r.style.width=`${c}px`,r.style.height=`${l}px`},[e.sectors]),Ws(()=>{const r=t.current;if(!r)return;const s=r.getContext("2d");if(!s)return;s.clearRect(0,0,r.width,r.height);const a=e.states.find(i=>i.isPlayerControlled);a&&Gl(s,a),e.missiles.forEach(i=>{cr(s,i,e.timestamp)}),e.interceptors.forEach(i=>{cr(s,i,e.timestamp)}),e.missiles.filter(i=>i.launchTimestamp<e.timestamp&&i.targetTimestamp>e.timestamp).forEach(i=>{Ol(s,i,e.timestamp)}),e.interceptors.filter(i=>i.launchTimestamp<e.timestamp).forEach(i=>{Pl(s,i),Ke*(e.timestamp-i.launchTimestamp+1)>hn&&Nl(s,i)}),e.explosions.filter(i=>i.startTimestamp<e.timestamp&&i.endTimestamp>e.timestamp).forEach(i=>{Ll(s,i,e.timestamp)}),e.battles.forEach(i=>{ql(s,i)})}),p.jsx(Wl,{ref:t})}function Gl(e,t){const n=t.defenceLines[t.currentDefenceLineIndex];if(!n)return;e.strokeStyle=Ul,e.lineWidth=Yl,e.setLineDash([5,15]),e.beginPath();let r=!0;for(let s=0;s<n.sectors.length;s++){const a=n.sectors[s],i=n.sectors[s+1];r&&(e.moveTo(a.position.x,a.position.y),r=!1),i&&Hl(a,i)?e.lineTo(i.position.x,i.position.y):(e.lineTo(a.position.x,a.position.y),e.stroke(),r=!0)}r||e.stroke(),e.setLineDash([])}function Hl(e,t){const n=Math.abs(e.position.x-t.position.x),r=Math.abs(e.position.y-t.position.y);return n<=I*3&&r<=I*3}function ql(e,t){const{position:n,size:r}=t;e.strokeStyle="rgba(255, 0, 0, 0.5)",e.lineWidth=2;const s=1+.2*Math.sin(Date.now()/200),a=r/2*s;e.beginPath(),e.arc(n.x,n.y,a,0,2*Math.PI),e.stroke();const i=r/4,o=i/10;e.fillStyle="rgba(255, 0, 0, 0.7)",e.save(),e.translate(n.x,n.y),e.rotate(Math.PI/4),e.fillRect(-o/2,-i/2,o,i),e.restore(),e.save(),e.translate(n.x,n.y),e.rotate(-Math.PI/4),e.fillRect(-o/2,-i/2,o,i),e.restore()}const Wl=S.canvas`
  position: absolute;
  top: 0;
  pointer-events: none;
`,Vl=({worldStateRef:e})=>{const t=E.useRef(null);E.useEffect(()=>{const r=t.current;if(!r)return;const s=r.getContext("2d");if(!s)return;let a;const i=e.current;if(!i)return;const o=i.sectors,c=Math.min(...o.map(g=>g.rect.left)),l=Math.min(...o.map(g=>g.rect.top)),u=Math.max(...o.map(g=>g.rect.right)),d=Math.max(...o.map(g=>g.rect.bottom)),f=u-c,h=d-l;(r.width!==f||r.height!==h)&&(r.width=f,r.height=h,r.style.width=`${f}px`,r.style.height=`${h}px`);const m=()=>{const g=e.current;g&&(s.clearRect(0,0,r.width,r.height),s.save(),n(s,g),s.restore(),a=requestAnimationFrame(m))};return m(),()=>{cancelAnimationFrame(a)}},[e]);const n=(r,s)=>{const a={};s.units.forEach(i=>{const o=i.stateId;a[o]||(a[o]=[]),a[o].push(i)}),Object.entries(a).forEach(([i,o])=>{const c=s.states.find(u=>u.id===i),l=c?c.color:"#000000";r.fillStyle=l,r.strokeStyle="#000000",r.lineWidth=1,o.forEach(u=>{r.fillRect(u.position.x-R/2,u.position.y-R/2,R,R),r.strokeRect(u.position.x-R/2,u.position.y-R/2,R,R),r.beginPath(),r.moveTo(u.position.x-R/2,u.position.y-R/2),r.lineTo(u.position.x+R/2,u.position.y+R/2),r.moveTo(u.position.x+R/2,u.position.y-R/2),r.lineTo(u.position.x-R/2,u.position.y+R/2),r.stroke()})})};return p.jsx("canvas",{ref:t,style:{position:"absolute",top:0,left:0}})};function Xl({state:e}){const t=pl(),n=E.useRef(e);return j.useEffect(()=>{n.current=e},[e]),p.jsxs(Kl,{onMouseMove:r=>t(r.clientX,r.clientY),onClick:()=>Me("world-click"),children:[p.jsx(bl,{sectors:e.sectors,states:e.states}),e.states.map(r=>p.jsx(Sl,{state:r,cities:e.cities,launchSites:e.launchSites,sectors:e.sectors},r.id)),e.cities.map(r=>p.jsx(_l,{city:r},r.id)),e.launchSites.map(r=>{var s;return p.jsx(kl,{launchSite:r,worldTimestamp:e.timestamp,isPlayerControlled:r.stateId===((s=e.states.find(a=>a.isPlayerControlled))==null?void 0:s.id)},r.id)}),p.jsx(Vl,{worldStateRef:n}),p.jsx(zl,{state:e})]})}const Kl=S.div`
  position: absolute;

  background: black;

  > canvas {
    position: absolute;
  }
`;function Zl(e,t,n){return Math.max(t,Math.min(e,n))}const M={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function ur(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function lr(e,t,n,r=.15){return r===0?Zl(e,t,n):e<t?-ur(t-e,n-t,r)+t:e>n?+ur(e-n,n-t,r)+n:e}function Jl(e,[t,n],[r,s]){const[[a,i],[o,c]]=e;return[lr(t,a,i,r),lr(n,o,c,s)]}function Ql(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ed(e){var t=Ql(e,"string");return typeof t=="symbol"?t:String(t)}function L(e,t,n){return t=ed(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(n),!0).forEach(function(r){L(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Vs={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function fr(e){return e?e[0].toUpperCase()+e.slice(1):""}const td=["enter","leave"];function nd(e=!1,t){return e&&!td.includes(t)}function rd(e,t="",n=!1){const r=Vs[e],s=r&&r[t]||t;return"on"+fr(e)+fr(s)+(nd(n,s)?"Capture":"")}const sd=["gotpointercapture","lostpointercapture"];function id(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=sd.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function ad(e,t=""){const n=Vs[e],r=n&&n[t]||t;return e+r}function vt(e){return"touches"in e}function Xs(e){return vt(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function od(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function cd(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Ks(e){return vt(e)?cd(e)[0]:e}function Qt(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,s=(t.clientX+e.clientX)/2,a=(t.clientY+e.clientY)/2,i=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:i,origin:[s,a]}}catch{}return null}function ud(e){return od(e).map(t=>t.identifier)}function hr(e,t){const[n,r]=Array.from(e.touches).filter(s=>t.includes(s.identifier));return Qt(n,r)}function Mt(e){const t=Ks(e);return vt(e)?t.identifier:t.pointerId}function Ee(e){const t=Ks(e);return[t.clientX,t.clientY]}const mr=40,pr=800;function Zs(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=mr,n*=mr):r===2&&(t*=pr,n*=pr),[t,n]}function ld(e){var t,n;const{scrollX:r,scrollY:s,scrollLeft:a,scrollTop:i}=e.currentTarget;return[(t=r??a)!==null&&t!==void 0?t:0,(n=s??i)!==null&&n!==void 0?n:0]}function dd(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:a}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:a})}return t}function ot(e,...t){return typeof e=="function"?e(...t):e}function fd(){}function hd(...e){return e.length===0?fd:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function gr(e,t){return Object.assign({},t,e||{})}const md=32;class Js{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?ot(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let a=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,dd(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,a=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const D=n._delta.map(Math.abs);M.addTo(n._distance,D)}this.axisIntent&&this.axisIntent(t);const[i,o]=n._movement,[c,l]=r.threshold,{_step:u,values:d}=n;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(i)>=c&&d[0]),u[1]===!1&&(u[1]=Math.abs(o)>=l&&d[1])):(u[0]===!1&&(u[0]=Math.abs(i)>=c&&Math.sign(i)*c),u[1]===!1&&(u[1]=Math.abs(o)>=l&&Math.sign(o)*l)),n.intentional=u[0]!==!1||u[1]!==!1,!n.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[D,A]=d;f[0]=u[0]!==!1?D-u[0]:0,f[1]=u[1]!==!1?A-u[1]:0}else f[0]=u[0]!==!1?i-u[0]:0,f[1]=u[1]!==!1?o-u[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(f);const h=n.offset,m=n._active&&!n._blocked||n.active;m&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=ot(r.bounds,n)),this.setup&&this.setup()),n.movement=f,this.computeOffset()));const[g,v]=n.offset,[[x,y],[C,T]]=n._bounds;n.overflow=[g<x?-1:g>y?1:0,v<C?-1:v>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const B=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Jl(n._bounds,n.offset,B),n.delta=M.sub(n.offset,h),this.computeMovement(),m&&(!n.last||a>md)){n.delta=M.sub(n.offset,h);const D=n.delta.map(Math.abs);M.addTo(n.distance,D),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&a>0&&(n.velocity=[D[0]/a,D[1]/a],n.timeDelta=a)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(k(k(k({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function pd([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class ke extends Js{constructor(...t){super(...t),L(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=M.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=M.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[Xs(t)]:r.axisThreshold;n.axis=pd(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const gd=e=>e,vr=.15,Qs={enabled(e=!0){return e},eventOptions(e,t,n){return k(k({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[vr,vr];case!1:return[0,0];default:return M.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return M.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||gd},threshold(e){return M.toVector(e,0)}},vd=0,oe=k(k({},Qs),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=vd){return e},bounds(e={}){if(typeof e=="function")return a=>oe.bounds(e(a));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),yr={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class yd extends ke{constructor(...t){super(...t),L(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=oe.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=Mt(t),r._pointerActive=!0,this.computeValues(Ee(t)),this.computeInitial(),n.preventScrollAxis&&Xs(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=Mt(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;const a=Ee(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=M.sub(a,n._values),this.computeValues(a)),M.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=Mt(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,i]=n._distance;if(n.tap=a<=r.tapsThreshold&&i<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[o,c]=n._delta,[l,u]=n._movement,[d,f]=r.swipe.velocity,[h,m]=r.swipe.distance,g=r.swipe.duration;if(n.elapsedTime<g){const v=Math.abs(o/n.timeDelta),x=Math.abs(c/n.timeDelta);v>d&&Math.abs(l)>h&&(n.swipe[0]=Math.sign(o)),x>f&&Math.abs(u)>m&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,bd(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=yr[t.key];if(n){const r=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,M.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in yr&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function bd(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Be=typeof window<"u"&&window.document&&window.document.createElement;function ei(){return Be&&"ontouchstart"in window}function Ed(){return ei()||Be&&window.navigator.maxTouchPoints>1}function xd(){return Be&&"onpointerdown"in window}function Cd(){return Be&&"exitPointerLock"in window.document}function Id(){try{return"constructor"in GestureEvent}catch{return!1}}const z={isBrowser:Be,gesture:Id(),touch:ei(),touchscreen:Ed(),pointer:xd(),pointerLock:Cd()},Fd=250,Ad=180,Sd=.5,Dd=50,Td=250,_d=10,br={mouse:0,touch:0,pen:8},wd=k(k({},oe),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&z.pointerLock,z.touch&&n?"touch":this.pointerLock?"mouse":z.pointer&&!s?"pointer":z.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?Fd:void 0,!(!z.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const a=M.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,a},swipe({velocity:e=Sd,distance:t=Dd,duration:n=Td}={}){return{velocity:this.transform(M.toVector(e)),distance:this.transform(M.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return Ad;case!1:return 0;default:return e}},axisThreshold(e){return e?k(k({},br),e):br},keyboardDisplacement(e=_d){return e}});function ti(e){const[t,n]=e.overflow,[r,s]=e._delta,[a,i]=e._direction;(t<0&&r>0&&a<0||t>0&&r<0&&a>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&s>0&&i<0||n>0&&s<0&&i>0)&&(e._movement[1]=e._movementBound[1])}const Md=30,kd=100;class Bd extends Js{constructor(...t){super(...t),L(this,"ingKey","pinching"),L(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=M.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const s=Math.abs(n)*Md-Math.abs(r);s<0?t.axis="angle":s>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(a=>r.has(a))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const s=hr(t,n._touchIds);s&&this.pinchStart(t,s)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,s=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(i=>s.has(i))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const a=Qt(...Array.from(r.values()));a&&this.pinchStart(t,a)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=hr(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=Qt(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,s=r._values[1],a=n.angle-s;let i=0;Math.abs(a)>270&&(i+=Math.sign(a)),this.computeValues([n.distance,n.angle-360*i]),r.origin=n.origin,r.turns=i,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=M.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-Zs(t)[1]/kd*r.offset[0],0],M.addTo(r._movement,r._delta),ti(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const Rd=k(k({},Qs),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!z.touch&&z.gesture)return"gesture";if(z.touch&&r)return"touch";if(z.touchscreen){if(z.pointer)return"pointer";if(z.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=i=>{const o=gr(ot(n,i),{min:-1/0,max:1/0});return[o.min,o.max]},a=i=>{const o=gr(ot(r,i),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof n!="function"&&typeof r!="function"?[s(),a()]:i=>[s(i),a(i)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",M.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class Ld extends ke{constructor(...t){super(...t),L(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Ee(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=Ee(t),r=this.state;r._delta=M.sub(n,r._values),M.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const Od=k(k({},oe),{},{mouseOnly:(e=!0)=>e});class Pd extends ke{constructor(...t){super(...t),L(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=ld(t);n._delta=M.sub(r,n._values),M.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const jd=oe;class $d extends ke{constructor(...t){super(...t),L(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=Zs(t),M.addTo(n._movement,n._delta),ti(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const Nd=oe;class Ud extends ke{constructor(...t){super(...t),L(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Ee(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Ee(t);n._movement=n._delta=M.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const Yd=k(k({},oe),{},{mouseOnly:(e=!0)=>e}),xn=new Map,en=new Map;function zd(e){xn.set(e.key,e.engine),en.set(e.key,e.resolver)}const Gd={key:"drag",engine:yd,resolver:wd},Hd={key:"hover",engine:Ud,resolver:Yd},qd={key:"move",engine:Ld,resolver:Od},Wd={key:"pinch",engine:Bd,resolver:Rd},Vd={key:"scroll",engine:Pd,resolver:jd},Xd={key:"wheel",engine:$d,resolver:Nd};function Kd(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Zd(e,t){if(e==null)return{};var n=Kd(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Jd={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=z.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Qd=["target","eventOptions","window","enabled","transform"];function Je(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=Je(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function ef(e,t,n={}){const r=e,{target:s,eventOptions:a,window:i,enabled:o,transform:c}=r,l=Zd(r,Qd);if(n.shared=Je({target:s,eventOptions:a,window:i,enabled:o,transform:c},Jd),t){const u=en.get(t);n[t]=Je(k({shared:n.shared},l),u)}else for(const u in l){const d=en.get(u);d&&(n[u]=Je(k({shared:n.shared},l[u]),d))}return n}class ni{constructor(t,n){L(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,a){const i=this._listeners,o=ad(n,r),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=k(k({},c),a);t.addEventListener(o,s,l);const u=()=>{t.removeEventListener(o,s,l),i.delete(u)};return i.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class tf{constructor(){L(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class nf{constructor(t){L(this,"gestures",new Set),L(this,"_targetEventStore",new ni(this)),L(this,"gestureEventStores",{}),L(this,"gestureTimeoutStores",{}),L(this,"handlers",{}),L(this,"config",{}),L(this,"pointerIds",new Set),L(this,"touchIds",new Set),L(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),rf(this,t)}setEventIds(t){if(vt(t))return this.touchIds=new Set(ud(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=ef(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const i of this.gestures){const o=this.config[i],c=Er(r,o.eventOptions,!!s);if(o.enabled){const l=xn.get(i);new l(this,t,i).bind(c)}}const a=Er(r,n.eventOptions,!!s);for(const i in this.nativeHandlers)a(i,"",o=>this.nativeHandlers[i](k(k({},this.state.shared),{},{event:o,args:t})),void 0,!0)}for(const a in r)r[a]=hd(...r[a]);if(!s)return r;for(const a in r){const{device:i,capture:o,passive:c}=id(a);this._targetEventStore.add(s,i,"",r[a],{capture:o,passive:c})}}}}function le(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ni(e,t),e.gestureTimeoutStores[t]=new tf}function rf(e,t){t.drag&&le(e,"drag"),t.wheel&&le(e,"wheel"),t.scroll&&le(e,"scroll"),t.move&&le(e,"move"),t.pinch&&le(e,"pinch"),t.hover&&le(e,"hover")}const Er=(e,t,n)=>(r,s,a,i={},o=!1)=>{var c,l;const u=(c=i.capture)!==null&&c!==void 0?c:t.capture,d=(l=i.passive)!==null&&l!==void 0?l:t.passive;let f=o?r:rd(r,s,u);n&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(a)},sf=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function af(e){const t={},n={},r=new Set;for(let s in e)sf.test(s)?(r.add(RegExp.lastMatch),n[s]=e[s]):t[s]=e[s];return[n,t,r]}function de(e,t,n,r,s,a){if(!e.has(n)||!xn.has(r))return;const i=n+"Start",o=n+"End",c=l=>{let u;return l.first&&i in t&&t[i](l),n in t&&(u=t[n](l)),l.last&&o in t&&t[o](l),u};s[r]=c,a[r]=a[r]||{}}function of(e,t){const[n,r,s]=af(e),a={};return de(s,n,"onDrag","drag",a,t),de(s,n,"onWheel","wheel",a,t),de(s,n,"onScroll","scroll",a,t),de(s,n,"onPinch","pinch",a,t),de(s,n,"onMove","move",a,t),de(s,n,"onHover","hover",a,t),{handlers:a,config:t,nativeHandlers:r}}function cf(e,t={},n,r){const s=j.useMemo(()=>new nf(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),j.useEffect(s.effect.bind(s)),j.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function uf(e){return e.forEach(zd),function(n,r){const{handlers:s,nativeHandlers:a,config:i}=of(n,r||{});return cf(s,i,void 0,a)}}function lf(e,t){return uf([Gd,Wd,Vd,Xd,qd,Hd])(e,t||{})}function df(e){Me("translateViewport",e)}function ff(e){gt("translateViewport",e)}function hf({children:e,onGetViewportConfiguration:t}){const n=E.useRef(null),r=j.useMemo(t,[t]),[s,a]=E.useState(r.initialZoom),[i,o]=E.useState(r.initialTranslate),[c,l]=E.useState(!1),u=E.useCallback((d,f)=>{const{minX:h,minY:m,maxX:g,maxY:v}=r,x=window.innerWidth,y=window.innerHeight,C=Math.min(Math.max(f,Math.max(x/(g-h),y/(v-m))),4),T={x:Math.min(Math.max(d.x,-(g-x/C)),-h),y:Math.min(Math.max(d.y,-(v-y/C)),-m)};o(T),a(C)},[r]);return E.useEffect(()=>{u(r.initialTranslate,r.initialZoom)},[]),lf({onPinch({origin:d,delta:f,pinching:h}){var y;l(h);const m=s+f[0],g=(y=n.current)==null?void 0:y.getBoundingClientRect(),v=d[0]-((g==null?void 0:g.left)??0),x=d[1]-((g==null?void 0:g.top)??0);u({x:i.x-(v/s-v/m),y:i.y-(x/s-x/m)},m)},onWheel({event:d,delta:[f,h],wheeling:m}){d.preventDefault(),l(m),u({x:i.x-f/s,y:i.y-h/s},s)}},{target:n,eventOptions:{passive:!1}}),ff(d=>{const f=window.innerWidth,h=window.innerHeight,m=f/2-d.x*s,g=h/2-d.y*s;u({x:m/s,y:g/s},s)}),p.jsx(mf,{children:p.jsx(pf,{ref:n,children:p.jsx(gf,{style:{"--zoom":s,"--translate-x":i.x,"--translate-y":i.y},"data-is-interacting":c,children:e})})})}const mf=S.div`
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;

  background: black;
  overflow: hidden;
`,pf=S.div`
  user-select: none;
  position: fixed;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
`,gf=S.div`
  transform-origin: 0px 0px;
  transform-style: preserve-3d;
  transform: scale(var(--zoom)) translate3d(calc(var(--translate-x) * 1px), calc(var(--translate-y) * 1px), 0);
  transition: transform 0.3s ease-out;

  &[data-is-interacting='true'] {
    pointer-events: none;
    will-change: transform;
    transition: none;
  }
`;function vf({worldState:e}){const t=E.useRef(e);return p.jsx(vl,{children:p.jsx(ml,{children:p.jsx(hf,{onGetViewportConfiguration:E.useCallback(()=>yf(t.current),[t]),children:p.jsx(Xl,{state:e})})})})}function yf(e){const t=e.states.find(v=>v.isPlayerControlled),n=window.innerWidth,r=window.innerHeight,s=t?e.sectors.filter(v=>v.stateId===t.id):e.sectors;let a=1/0,i=1/0,o=-1/0,c=-1/0;s.forEach(v=>{a=Math.min(a,v.rect.left),i=Math.min(i,v.rect.top),o=Math.max(o,v.rect.right),c=Math.max(c,v.rect.bottom)});const l=o-a+1,u=c-i+1,d=n/l,f=r/u,h=Math.min(d,f)*1,m=(a+o)/2,g=(i+c)/2;return e.sectors.forEach(v=>{a=Math.min(a,v.rect.left),i=Math.min(i,v.rect.top),o=Math.max(o,v.rect.right),c=Math.max(c,v.rect.bottom)}),{initialTranslate:{x:n/2-m*h,y:r/2-g*h},initialZoom:h,minX:a,minY:i,maxX:o,maxY:c}}const ri="fullScreenMessage",si="fullScreenMessageAction";function q(e,t,n,r="",s,a,i){Me(ri,{message:e,startTimestamp:t,endTimestamp:n,messageId:r,actions:s,prompt:a,fullScreen:i??!!(s!=null&&s.length)})}function ii(e,t){Me(si,{messageId:e,actionId:t})}function ai(e){gt(ri,t=>{e(t)})}function Cn(e){gt(si,t=>{e(t)})}function bf({worldState:e,onGameOver:t}){const[n,r]=E.useState(null),[s,a]=E.useState(!1);return E.useEffect(()=>{var h;if(s)return;const i=js(e),o=Object.values(i).filter(m=>m>0).length,c=e.launchSites.length===0,l=e.timestamp,u=e.states.filter(m=>i[m.id]>0&&Object.entries(m.strategies).filter(([g,v])=>i[g]>0&&v===b.HOSTILE).length>0),d=e.launchSites.some(m=>m.lastLaunchTimestamp&&l-m.lastLaunchTimestamp<At),f=At-l;if(!u.length&&!d&&f>0&&f<=10&&(n?q(`Game will end in ${Math.ceil(f)} seconds if no action is taken!`,n,n+10,"gameOverCountdown",void 0,!1,!0):r(l)),o<=1||c||!u.length&&!d&&l>At){const m=o===1?(h=e.states.find(g=>i[g.id]>0))==null?void 0:h.id:void 0;a(!0),q(["Game Over!","Results will be shown shortly..."],l,l+5,"gameOverCountdown",void 0,!1,!0),setTimeout(()=>{t({populations:i,winner:m,stateNames:Object.fromEntries(e.states.map(g=>[g.id,g.name])),playerStateId:e.states.find(g=>g.isPlayerControlled).id})},5e3)}},[e,t,n,s]),null}const Ef=""+new URL("player-lost-background-D2A_VJ6-.png",import.meta.url).href,xf=""+new URL("player-won-background-CkXgF24i.png",import.meta.url).href,xr=""+new URL("draw-background-EwLQ9g28.png",import.meta.url).href,Cf=S.div`
  height: 100vh;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url(${e=>e.backgroundImage});
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    image-rendering: pixelated;
    opacity: 0.7;
    pointer-events: none;
    z-index: 0;
  }

  > div {
    z-index: 1;
    background-color: rgba(0, 0, 0, 0.7);
    padding: 2rem;
    border-radius: 10px;
    text-align: center;
  }

  h2 {
    font-size: 3rem;
    color: #ffffff;
    margin-bottom: 1rem;
  }

  p {
    font-size: 1.5rem;
    color: #ffffff;
    margin-bottom: 2rem;
  }

  button {
    font-size: 1.5rem;
    padding: 10px 20px;
    background-color: #ff4500;
    color: #ffffff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;

    &:hover {
      background-color: #ff6347;
    }
  }

  a {
    display: inline-block;
    margin-top: 1rem;
    font-size: 1.2rem;
    color: #ffffff;
    text-decoration: none;
    transition: color 0.3s ease;

    &:hover {
      color: #ff4500;
    }
  }
`,If=({setGameState:e})=>{const{state:{result:t}}=Ir(),n=()=>{e(ct,{stateName:t.stateNames[t.playerStateId],numberOfOpponents:Object.values(t.stateNames).length-1,groundWarfare:!1})};let r,s;return t.winner?t.winner===t.playerStateId?(r=xf,s=`Congratulations! ${t.stateNames[t.playerStateId]} has won with ${st(t.populations[t.playerStateId])} population alive.`):t.winner!==void 0?(r=Ef,s=`${t.stateNames[t.winner]} has won with ${st(t.populations[t.winner])} population alive. Your state has fallen.`):(r=xr,s="The game has ended in an unexpected state."):(r=xr,s="It's a draw! The world is partially destroyed, but there's still hope."),p.jsx(Cf,{backgroundImage:r,children:p.jsxs("div",{children:[p.jsx("h2",{children:"Game Over"}),p.jsx("p",{children:s}),p.jsx("button",{onClick:n,children:"Play Again"}),p.jsx("br",{}),p.jsx("a",{href:"/games/nukes/",children:"Back to main menu"})]})})},tn={Component:If,path:"played"};function Ff({worldState:e}){var l;const[t,n]=E.useState([]),[r,s]=E.useState(null);ai(u=>{n(d=>u.messageId&&d.find(f=>f.messageId===u.messageId)?[...d.map(f=>f.messageId===u.messageId?u:f)]:[u,...d])});const a=t.sort((u,d)=>u.actions&&!d.actions?-1:!u.actions&&d.actions?1:u.startTimestamp-d.startTimestamp);if(Cn(u=>{n(d=>d.filter(f=>f.messageId!==u.messageId))}),E.useEffect(()=>{const u=a.find(d=>d.fullScreen&&d.startTimestamp<=e.timestamp&&d.endTimestamp>e.timestamp);s(u||null)},[a,e.timestamp]),!r)return null;const o=((u,d)=>d<u.startTimestamp?"pre":d<u.startTimestamp+.5?"pre-in":d>u.endTimestamp-.5?"post-in":d>u.endTimestamp?"post":"active")(r,e.timestamp),c=u=>Array.isArray(u)?u.map((d,f)=>p.jsx("div",{children:d},f)):u;return p.jsxs(Df,{"data-message-state":o,"data-action":(((l=r.actions)==null?void 0:l.length)??0)>0,children:[p.jsx(Tf,{children:c(r.message)}),r.prompt&&r.actions&&p.jsx(_f,{children:r.actions.map((u,d)=>p.jsx(wf,{onClick:()=>ii(r.messageId,u.id),children:u.text},d))})]})}const Af=pt`
  from {
    opacity: 0;
    transform: translateX(-50%) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) scale(1);
  }
`,Sf=pt`
  from {
    opacity: 1;
    transform: translateX(-50%) scale(1);
  }
  to {
    opacity: 0;
    display: none;
    transform: translateX(-50%) scale(0.9);
  }
`,Df=S.div`
  position: fixed;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.7);
  border: 2px solid #444;
  border-radius: 10px;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-shadow: 0px 0px 10px black;
  &:not([data-action='true']) {
    pointer-events: none;
  }
  z-index: 1;

  &[data-message-state='pre'] {
    display: none;
  }

  &[data-message-state='pre-in'] {
    display: flex;
    animation: ${Af} 0.5s ease-in-out forwards;
  }

  &[data-message-state='active'] {
    display: flex;
  }

  &[data-message-state='post-in'] {
    display: flex;
    animation: ${Sf} 0.5s ease-in-out forwards;
  }

  &[data-message-state='post'] {
    display: none;
  }
`,Tf=S.div`
  font-size: 1.5rem;
  color: white;
  text-align: center;
  white-space: pre-line;
`,_f=S.div`
  display: flex;
  justify-content: center;
  margin-top: 2rem;
`,wf=S.button`
  font-size: 1.5rem;
  padding: 1rem 2rem;
  margin: 0 1rem;
  background-color: black;
  color: white;
  border: 2px solid white;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;

  &:hover {
    background-color: rgba(255, 255, 255, 0.3);
  }

  &:active {
    background-color: rgba(255, 255, 255, 0.4);
  }
`,oi="ALLIANCEPROPOSAL";function Mf(e,t,n,r=!1){const s=`${oi}_${e.id}_${t.id}`,a=r?`${e.name} has become friendly towards you. Do you want to form an alliance?`:`${e.name} proposes an alliance with ${t.name}. Do you accept?`,i=n.timestamp,o=i+10;q(a,i,o,s,[{id:"accept",text:"Accept"},{id:"reject",text:"Reject"}],!0)}function kf({worldState:e,setWorldState:t}){return Cn(n=>{if(n.messageId.startsWith(oi)){const[,r,s]=n.messageId.split("_"),a=e.states.find(o=>o.id===r),i=e.states.find(o=>o.id===s);if(!a||!(i!=null&&i.isPlayerControlled))return;if(n.actionId==="accept"){const o=e.states.map(c=>c.id===r||c.id===s?{...c,strategies:{...c.strategies,[r]:b.FRIENDLY,[s]:b.FRIENDLY}}:c);t({...e,states:o}),q(`Alliance formed between ${a.name} and ${i.name}!`,e.timestamp,e.timestamp+5)}else n.actionId==="reject"&&q(`${i.name} has rejected the alliance proposal from ${a.name}.`,e.timestamp,e.timestamp+5)}}),null}function Bf({worldState:e}){const t=e.states.find(h=>h.isPlayerControlled),[n,r]=E.useState(!1),[s,a]=E.useState({}),[i,o]=E.useState([]),[c,l]=E.useState([]),[u,d]=E.useState(!1),f=Math.round(e.timestamp*10)/10;return E.useEffect(()=>{!n&&e.timestamp>0&&(r(!0),q("The game has started!",e.timestamp,e.timestamp+3))},[f]),E.useEffect(()=>{var h,m,g,v;if(t){const x=Object.fromEntries(e.states.map(y=>[y.id,y.strategies]));for(const y of e.states)for(const C of e.states.filter(T=>T.id!==y.id))t&&C.id===t.id&&y.strategies[C.id]===b.FRIENDLY&&C.strategies[y.id]!==b.FRIENDLY&&((h=s[y.id])==null?void 0:h[C.id])!==b.FRIENDLY&&Mf(y,t,e,!0),C.strategies[y.id]===b.FRIENDLY&&y.strategies[C.id]===b.FRIENDLY&&(((m=s[C.id])==null?void 0:m[y.id])!==b.FRIENDLY||((g=s[y.id])==null?void 0:g[C.id])!==b.FRIENDLY)&&q(`${C.name} has formed alliance with ${y.isPlayerControlled?"you":y.name}!`,f,f+3),y.strategies[C.id]===b.HOSTILE&&((v=s[y.id])==null?void 0:v[C.id])!==b.HOSTILE&&q(C.isPlayerControlled?`${y.name} has declared war on You!`:`${y.isPlayerControlled?"You have":y.name} declared war on ${C.name}!`,f,f+3,void 0,void 0,void 0,y.isPlayerControlled||C.isPlayerControlled);a(x)}},[f]),E.useEffect(()=>{t&&e.cities.forEach(h=>{const m=i.find(y=>y.id===h.id);if(!m)return;const g=h.population||0,v=m.population,x=Math.floor(v-g);x>0&&(h.stateId===t.id&&q(g===0?`Your city ${h.name} has been destroyed!`:[`Your city ${h.name} has been hit!`,`${x} casualties reported.`],f,f+3,void 0,void 0,!1,!0),Me("cityDamage"))}),o(e.cities.map(h=>({...h})))},[f]),E.useEffect(()=>{if(t){const h=e.launchSites.filter(m=>m.stateId===t.id);c.length>0&&c.filter(g=>!h.some(v=>v.id===g.id)).forEach(()=>{q("One of your launch sites has been destroyed!",f,f+3,void 0,void 0,!1,!0)}),l(h)}},[f]),E.useEffect(()=>{if(t&&!u){const h=e.cities.filter(v=>v.stateId===t.id),m=e.launchSites.filter(v=>v.stateId===t.id);!h.some(v=>v.population>0)&&m.length===0&&(q(["You have been defeated.","All your cities are destroyed.","You have no remaining launch sites."],f,f+5,void 0,void 0,!1,!0),d(!0))}},[f]),null}function Rf({worldState:e}){const[t,n]=E.useState([]);ai(i=>{n(o=>i.messageId&&o.find(c=>c.messageId===i.messageId)?[...o.map(c=>c.messageId===i.messageId?i:c)]:[i,...o])}),Cn(i=>{n(o=>o.filter(c=>c.messageId!==i.messageId))});const r=i=>Array.isArray(i)?i.map((o,c)=>p.jsx("div",{children:o},c)):i,s=(i,o)=>{const u=o-i;return u>60?0:u>50?1-(u-50)/10:1},a=E.useMemo(()=>{const i=e.timestamp,o=60;return t.filter(c=>{const l=c.startTimestamp||0;return i-l<=o}).map(c=>({...c,opacity:s(c.startTimestamp||0,i)}))},[t,e.timestamp]);return p.jsx(Lf,{children:a.map((i,o)=>p.jsxs(Of,{style:{opacity:i.opacity},children:[p.jsx("div",{children:r(i.message)}),i.prompt&&i.actions&&p.jsx(Pf,{children:i.actions.map((c,l)=>p.jsx(jf,{onClick:()=>ii(i.messageId,c.id),children:c.text},l))})]},o))})}const Lf=S.div`
  position: fixed;
  right: 0;
  max-height: 300px;
  top: 10px;
  width: 300px;
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  overflow-y: auto;
  padding: 10px;
  font-size: 10px;
  display: flex;
  flex-direction: column-reverse;
  border: 2px solid #444;
  border-radius: 10px;
  padding: 10px;
`,Of=S.div`
  margin-bottom: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
  padding-bottom: 5px;
  text-align: left;
  transition: opacity 0.5s ease-out;
`,Pf=S.div`
  display: flex;
  justify-content: flex-start;
  margin-top: 10px;
`,jf=S.button`
  font-size: 10px;
  padding: 5px 10px;
  margin-right: 10px;
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border: 1px solid white;
`;function $f({updateWorldTime:e,currentWorldTime:t}){const[n,r]=E.useState(!1),s=E.useRef(null);Ws(i=>{if(!s.current){s.current=i;return}const o=i-s.current;s.current=i,!(o<=0)&&n&&e(o/1e3)},!0);const a=i=>{const o=Math.floor(i/86400),c=Math.floor(i%86400/3600),l=Math.floor(i%3600/60),u=Math.floor(i%60);return[[o,"d"],[c,"h"],[l,"m"],[u,"s"]].filter(([d])=>!!d).map(([d,f])=>String(d)+f).join(" ")};return p.jsx(Nf,{children:p.jsxs(Uf,{children:[p.jsxs(Yf,{children:[t>0?"Current Time: ":"Game not started yet",a(t)]}),p.jsx(Ye,{onClick:()=>e(1),children:"+1s"}),p.jsx(Ye,{onClick:()=>e(10),children:"+10s"}),p.jsx(Ye,{onClick:()=>e(60),children:"+1m"}),p.jsx(Ye,{onClick:()=>r(!n),children:n?"Stop":"Start"})]})})}const Nf=S.div`
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 0;
  z-index: 10;
  padding: 10px;
`,Uf=S.div`
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  background-color: rgba(0, 0, 0, 0.7);
  border: 2px solid #444;
  border-radius: 10px;
  padding: 10px;
`,Ye=S.button`
  background-color: #2c3e50;
  color: #ecf0f1;
  border: none;
  padding: 8px 12px;
  margin: 5px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  transition: background-color 0.3s;

  &:hover {
    background-color: #34495e;
  }

  &:active {
    background-color: #2980b9;
  }
`,Yf=S.div`
  color: #ecf0f1;
  font-size: 16px;
  font-weight: bold;
  margin-right: 15px;
`;function zf({worldState:e}){const t=e.states.find(o=>o.isPlayerControlled);if(!t)return null;const n=(o,c,l=!1)=>{t.strategies[o.id]=c,l&&(o.strategies[t.id]=c)},r=o=>{if(o.id===t.id)return"#4CAF50";const c=t.strategies[o.id],l=o.strategies[t.id];return c===b.FRIENDLY&&l===b.FRIENDLY?"#4CAF50":c===b.HOSTILE||l===b.HOSTILE?"#F44336":"#9E9E9E"},s=js(e),a=o=>{const c=e.cities.filter(h=>h.stateId===o),l=e.launchSites.filter(h=>h.stateId===o);if(c.length===0&&l.length===0){console.warn("No position information available for this state");return}const u=[...c.map(h=>h.position),...l.map(h=>h.position)],d=u.reduce((h,m)=>({x:h.x+m.x,y:h.y+m.y}),{x:0,y:0}),f={x:d.x/u.length,y:d.y/u.length};df(f)},i=o=>{const c=t.strategies[o.id],l=o.strategies[t.id];return p.jsxs(Kf,{children:[(c===b.NEUTRAL&&l!==b.HOSTILE||c===b.FRIENDLY&&l!==b.FRIENDLY)&&p.jsx(ze,{color:"#4CAF50",onClick:u=>{u.stopPropagation(),n(o,b.FRIENDLY)},disabled:c===b.FRIENDLY&&l!==b.FRIENDLY,children:"Alliance"}),(c===b.HOSTILE||l===b.HOSTILE)&&p.jsx(ze,{color:"#9E9E9E",onClick:u=>{u.stopPropagation(),n(o,b.NEUTRAL)},disabled:c===b.NEUTRAL&&l!==b.NEUTRAL,children:"Peace"}),c===b.FRIENDLY&&l===b.FRIENDLY&&p.jsx(ze,{color:"#9E9E9E",onClick:u=>{u.stopPropagation(),n(o,b.NEUTRAL,!0)},children:"Neutral"}),c===b.NEUTRAL&&l!==b.HOSTILE&&p.jsx(ze,{color:"#F44336",onClick:u=>{u.stopPropagation(),n(o,b.HOSTILE,!0)},children:"Attack"})]})};return p.jsx(Gf,{children:e.states.map(o=>p.jsxs(Hf,{relationshipColor:r(o),onClick:()=>a(o.id),children:[p.jsx(qf,{style:{color:o.color},children:o.name.charAt(0)}),p.jsxs(Wf,{children:[p.jsx(Vf,{children:o.name}),p.jsxs(Xf,{children:[" ",st(s[o.id])]}),o.id!==t.id?i(o):p.jsx(Zf,{children:"This is you"})]})]},o.id))})}const Gf=S.div`
  position: fixed;
  left: 0;
  bottom: 0;
  z-index: 1;
  padding: 10px;
  color: white;
  background: rgba(0, 0, 0, 0.9);
  border-top: 1px solid rgb(0, 255, 0);
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
`,Hf=S.div`
  display: flex;
  align-items: center;
  margin: 5px;
  padding: 10px;
  background: ${e=>`rgba(${parseInt(e.relationshipColor.slice(1,3),16)}, ${parseInt(e.relationshipColor.slice(3,5),16)}, ${parseInt(e.relationshipColor.slice(5,7),16)}, 0.2)`};
  border: 2px solid ${e=>e.relationshipColor};
  border-radius: 5px;
  transition: background 0.3s ease;
  cursor: pointer;
`,qf=S.div`
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  margin-right: 10px;
  font-weight: bold;
`,Wf=S.div`
  display: flex;
  flex-direction: column;
`,Vf=S.span`
  font-weight: bold;
  margin-bottom: 5px;
`,Xf=S.span`
  font-size: 0.9em;
  margin-bottom: 5px;
`,Kf=S.div`
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
`,ze=S.button`
  background-color: ${e=>e.color};
  color: white;
  border: none;
  padding: 5px 10px;
  border-radius: 3px;
  cursor: pointer;
  font-size: 0.8em;
  transition: opacity 0.3s ease;
  ${e=>e.disabled?"pointer-events: none; opacity: 0.5;":""}

  &:hover {
    opacity: 0.8;
  }
`,Zf=S.span`
  font-style: italic;
  color: #4caf50;
`,Jf=({setGameState:e})=>{const{state:{stateName:t,numberOfOpponents:n,groundWarfare:r}}=Ir(),{worldState:s,setWorldState:a,updateWorldState:i}=dl(t,n,r);return p.jsxs(p.Fragment,{children:[p.jsx(vf,{worldState:s}),p.jsx($f,{updateWorldTime:o=>i(s,o),currentWorldTime:s.timestamp??0}),p.jsx(Ff,{worldState:s}),p.jsx(zf,{worldState:s}),p.jsx(Rf,{worldState:s}),p.jsx(bf,{worldState:s,onGameOver:o=>e(tn,{result:o})}),p.jsx(Bf,{worldState:s}),p.jsx(kf,{worldState:s,setWorldState:a})]})},ct={Component:Jf,path:"playing"},Qf=""+new URL("play-background-BASXrsIB.png",import.meta.url).href,eh=S.div`
  height: 100vh;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url(${Qf});
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    image-rendering: pixelated;
    opacity: 0.7;
    pointer-events: none;
    z-index: 0;
  }

  > div {
    background-color: rgba(0, 0, 0, 0.7);
    border-radius: 10px;
    z-index: 1;
    width: 600px;
    padding: 2em;
    box-shadow: 0px 0px 5px black;
  }

  input,
  select {
    font-size: 1.2rem;
    padding: 10px;
    margin-bottom: 20px;
    border: 2px solid #ff4500;
    border-radius: 5px;
    background-color: rgba(255, 255, 255, 0.8);
  }

  button {
    font-size: 1.5rem;
    padding: 10px 20px;
    background-color: #ff4500;
    color: #ffffff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;

    &:hover {
      background-color: #ff6347;
    }

    &:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
  }

  a {
    display: inline-block;
    margin-top: 1rem;
    font-size: 1.2rem;
    color: #ffffff;
    text-decoration: none;
    transition: color 0.3s ease;

    &:hover {
      color: #ff4500;
    }
  }
`,th=({setGameState:e})=>{const[t,n]=E.useState(Ps(1)[0]),[r,s]=E.useState(2),[a,i]=E.useState(!1),o=()=>{e(ct,{stateName:t,numberOfOpponents:r,groundWarfare:a})};return p.jsx(eh,{children:p.jsxs("div",{children:[p.jsx("h2",{children:"Name your state:"}),p.jsx("input",{type:"text",placeholder:"Type your state name here",value:t,onChange:c=>n(c.currentTarget.value)}),p.jsx("br",{}),p.jsx("h2",{children:"How many opponents?"}),p.jsxs("select",{value:r,onChange:c=>s(Number(c.currentTarget.value)),children:[p.jsx("option",{value:1,children:"1"}),p.jsx("option",{value:2,children:"2"}),p.jsx("option",{value:3,children:"3"}),p.jsx("option",{value:4,children:"4"})]}),p.jsx("h2",{children:"Ground warfare? (WIP)"}),p.jsx("input",{type:"checkbox",checked:a,onChange:()=>i(!a)}),p.jsx("br",{}),p.jsx("br",{}),p.jsx("button",{onClick:o,disabled:!t,children:"Start game"}),p.jsx("br",{}),p.jsx("a",{href:"/games/nukes/",children:"Back to main menu"})]})})},nn={Component:th,path:"play"},nh=""+new URL("intro-background-D_km5uka.png",import.meta.url).href,rh=""+new URL("nukes-game-title-vcFxx9vI.png",import.meta.url).href,sh=pt`
  0% {
    transform: scale(1.5);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.5);
  }
`,ih=pt`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,ah=S.div`
  height: 100vh;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url(${nh});
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    image-rendering: pixelated;
    opacity: 0.5;
    pointer-events: none;
    z-index: 0;
    animation: ${sh} 60s ease-in-out infinite;
  }

  img {
    margin-left: -10px;
    margin-top: -20px;
    margin-right: -10px;
  }

  button {
    font-size: 2.5rem;
    padding: 10px 20px;
    background-color: #ff4500;
    color: #ffffff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-top: 20px;

    &:hover {
      background-color: #ff6347;
    }
  }
`,oh=S.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: white;
  z-index: 2;
  pointer-events: none;
  opacity: ${e=>e.isFlashing?1:0};
  animation: ${e=>e.isFlashing?ih:"none"} 4.5s forwards;
`,ch=S.div`
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.7);
  padding-bottom: 2em;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0px 0px 5px black;
`,uh=S.img`
  width: 600px;
  height: auto;
  image-rendering: pixelated;
`,lh=({setGameState:e})=>{const[t,n]=E.useState(!0);return E.useEffect(()=>{const r=setTimeout(()=>{n(!1)},5e3);return()=>clearTimeout(r)},[]),p.jsxs(ah,{children:[p.jsx(oh,{isFlashing:t}),!t&&p.jsxs(ch,{children:[p.jsx(uh,{src:rh,alt:"Nukes game"}),p.jsx("button",{onClick:()=>e(nn),children:"Play"})]})]})},Cr={Component:lh,path:""},dh=va`
:root {
  font-family: 'Press Start 2P', system-ui;
  font-size: 13px;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

input {
  font-family: 'Press Start 2P', system-ui;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #101010;
  color: #eee;
}

#root {
  width: 100%;
  margin: 0;
  padding: 0;
  text-align: center;
}


h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #202020;
  color: #eee;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}
`,fh=[{path:Cr.path,element:p.jsx(Ge,{state:Cr})},{path:nn.path,element:p.jsx(Ge,{state:nn})},{path:ct.path,element:p.jsx(Ge,{state:ct})},{path:tn.path,element:p.jsx(Ge,{state:tn})}];function mh(){var n;const[e]=gi(),t=e.get("path")??"";return p.jsx(p.Fragment,{children:(n=fh.find(r=>r.path===t))==null?void 0:n.element})}function Ge({state:e}){const t=vi();return p.jsxs(p.Fragment,{children:[p.jsx(dh,{}),p.jsx(e.Component,{setGameState:(n,r)=>t({search:"path="+n.path},{state:r})})]})}export{mh as NukesApp,fh as routes};
